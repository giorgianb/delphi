Cover Page,"FOURTH FOURTH EDITION An accessible approach to learning through clear writing and practical pedagogy has become the hallmark of Microelectronics: Circuit Analysis and Design by Donald Neamen. Now in EDITION its fourth edition, the text builds upon its strong pedagogy and tools for student assessment with key updates as well as revisions that allow for flexible coverage of op-amps. Key Features of the Fourth Edition Flexible Presentation of Key Topics Revisions have given the text a level of flexibility such that ideal op-amps (Chapter 9) can be presented as the first topic in electronics; either MOS or Bipolar transistors can be studied as the first transistor type; and digital electronics can be covered before analog electronics. This flexibility allows instructors to present topics in whatever order makes the most sense for their students. New Problems and Text Updates The fourth edition features a substantial number of new problems. This includes: over 45 percent new exercise and Test Your Understanding problems; over 45 percent new end-of-chapter problems; and over 70 percent new open-ended design problems and computer simulation problems. In addition, coverage of circuit voltage levels and device parameters was updated to more closely match real world electronics. Goal-Oriented Pedagogy CIRCUIT ANALYSIS AND DESIGN A Preview section introduces each chapter and correlates with learning objectives that head each section. Worked examples reinforce the theoretical concepts being developed; all examples are followed by exercises to immediately test learning. Test Your Understanding problems are integrated at the end of each section to provide additional practice. Problem solving techniques guide students through analyzing and solving a problem. Focus on Design in the Real World Students are taught good design by incorporating design exercises that help students get a feel for how the design process works in the real world. Each chapter includes a Design Application that leads students through the design and development of an electronic thermometer. The various characteristics and properties of circuits are explained as the student moves through the analysis. Design Pointers appear in examples and throughout the text to help students with tricky design issues, and Design Problems are featured in most problem sets. Computer Tools Because computer analysis and computer-aided design are significant factors in professional electronic design, the text contains a large number of new computer simulation problems. These appear both throughout the chapter and at the end of each chapter. Learning and Teaching Technologies The website for Microeletronics features tools for students and teachers. Professors can benefit from McGraw-Hill’s COSMOS electronic solutions manual. COSMOS enables instructors to generate a limitless supply of problem material for assignment, as well as transfer and integrate their own problems into the software. In addition, the website boasts PowerPoint slides, an image library, the complete Instructor’s Solution Manual (password protected), data sheets, laboratory manual, and links to other important websites. You can find the site at www.mhhe.com/neamen NEAMEN DONALD A. N EAMEN MD DALIM #1035984 7/12/09 CYAN MAG YELO BLK CIRCUIT ANALYSIS AND DESIGN nea80644_fm_i-xxii.qxd 08/04/2009 08:20 PM Page i F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Microelectronics: Circuit Analysis and Design nea80644_fm_i-xxii.qxd 08/04/2009 08:20 PM Page ii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: nea80644_fm_i-xxii.qxd 08/06/2009 11:45 PM Page iii F506 Hard disk:Desktop Folder:TEMPWORK: Microelectronics: Circuit Analysis and Design Fourth Edition Donald A. Neamen University of New Mexico"
Title Page,"nea80644_fm_i-xxii.qxd 08/06/2009 11:45 PM Page iii F506 Hard disk:Desktop Folder:TEMPWORK: Microelectronics: Circuit Analysis and Design Fourth Edition Donald A. Neamen University of New Mexico nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page iv F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: MICROELECTRONICS: CIRCUIT ANALYSIS AND DESIGN, FOURTH EDITION Published by McGraw-Hill, a business unit of The McGraw-Hill Companies, Inc., 1221 Avenue of the Americas, New York, NY 10020. Copyright © 2010 by The McGraw-Hill Companies, Inc. All rights reserved. Previous editions © 2007, 2001, and 1996. No part of this publication maybe reproduced or distributed in any form or by any means, or stored in a database or retrieval system, without the prior written consent of The McGraw-Hill Companies, Inc., including, but not limited to, in any network or other electronic storage or transmission, or broadcast for distance learning. Some ancillaries, including electronic and print components, may not be available to customers outside the United States. This book is printed on acid-free paper. 1 2 3 4 5 6 7 8 9 0 VNH/VNH 0 9 ISBN 978–0–07–338064–3 MHID 0–07–338064–4 Global Publisher: Raghothaman Srinivasan Director of Development: Kristine Tibbetts Developmental Editor: Lora Neyens Senior Marketing Manager: Curt Reynolds Project Manager: Melissa M. Leick Senior Production Supervisor: Sherry L. Kane Senior Media Project Manager: Jodi K. Banowetz Design Coordinator: Brenda A. Rolwes Cover Designer: Studio Montage, St. Louis, Missouri Compositor: Aptara®, Inc. Typeface: 10/12 Times Roman Printer: R. R. Donnelley Jefferson City MO All credits appearing on page or at the end of the book are considered to be an extension of the copyright page. Library of Congress Cataloging-in-Publication Data Neamen, Donald A. Microelectronics : circuit analysis and design / Donald A. Neamen. — 4th ed. p. cm. Includes index. ISBN 978-0-07-338064-3—ISBN 0-07-338064-4 (alk. paper) 1. Electronic circuit design. 2. Semiconductors—Design and construction. 3. Electronic circuit design. I. Title. TK7867.N412 2010 621.381 — dc22 2009014106 www.mhhe.com"
Copyright Page,"copyright page. Library of Congress Cataloging-in-Publication Data Neamen, Donald A. Microelectronics : circuit analysis and design / Donald A. Neamen. — 4th ed. p. cm. Includes index. ISBN 978-0-07-338064-3—ISBN 0-07-338064-4 (alk. paper) 1. Electronic circuit design. 2. Semiconductors—Design and construction. 3. Electronic circuit design. I. Title. TK7867.N412 2010 621.381 — dc22 2009014106 www.mhhe.com nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page v F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Dedication To the many students I’ve had the privilege of teaching over the years who have contributed in many ways to the broad field of electrical engineering, and to future students who will contribute in ways we cannot now imagine. v"
Dedication ,"Dedication To the many students I’ve had the privilege of teaching over the years who have contributed in many ways to the broad field of electrical engineering, and to future students who will contribute in ways we cannot now imagine. v nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page vi F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: About the Author Donald A. Neamen is a professor emeritus in the Department of Electrical and Computer Engineering at the University of New Mexico where he taught for more than 25 years. He received his Ph.D. degree from the University of New Mexico and then became an electronics engineer at the Solid State Sciences Laboratory at Hanscom Air Force Base. In 1976, he joined the faculty in the ECE department at the University of New Mexico, where he specialized in teaching semiconductor physics and devices courses and electronic circuits courses. He is still apart-time instructor in the department. He also just recently taught for a semester at the University of Michigan–Shanghai Jiao Tong University (UM-SJTU) Joint Institute in Shanghai. In 1980, Professor Neamen received the Outstanding Teacher Award for the University of New Mexico. In 1990, and each year from 1994 through 2001, he received the Faculty Recognition Award, presented by graduating ECE students. He was also honored with the Teaching Excellence Award in the College of Engineering in 1994. In addition to his teaching, Professor Neamen served as Associate Chair of the ECE department for several years and has also worked in industry with Martin Marietta, Sandia National Laboratories, and Raytheon Company. He has published many papers and is the author of Semiconductor Physics and Devices: Basic Principles, third edition and An Introduction to Semiconductor Devices. vi"
About the Author,"About the Author Donald A. Neamen is a professor emeritus in the Department of Electrical and Computer Engineering at the University of New Mexico where he taught for more than 25 years. He received his Ph.D. degree from the University of New Mexico and then became an electronics engineer at the Solid State Sciences Laboratory at Hanscom Air Force Base. In 1976, he joined the faculty in the ECE department at the University of New Mexico, where he specialized in teaching semiconductor physics and devices courses and electronic circuits courses. He is still apart-time instructor in the department. He also just recently taught for a semester at the University of Michigan–Shanghai Jiao Tong University (UM-SJTU) Joint Institute in Shanghai. In 1980, Professor Neamen received the Outstanding Teacher Award for the University of New Mexico. In 1990, and each year from 1994 through 2001, he received the Faculty Recognition Award, presented by graduating ECE students. He was also honored with the Teaching Excellence Award in the College of Engineering in 1994. In addition to his teaching, Professor Neamen served as Associate Chair of the ECE department for several years and has also worked in industry with Martin Marietta, Sandia National Laboratories, and Raytheon Company. He has published many papers and is the author of Semiconductor Physics and Devices: Basic Principles, third edition and An Introduction to Semiconductor Devices. vi nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page vii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Brief Table of Contents PROLOGUE I PROLOGUE TO ELECTRONICS 1 PART 1 SEMICONDUCTOR DEVICES AND BASIC APPLICATIONS 7 Chapter 1 Semiconductor Materials and Diodes 9 Chapter 2 Diode Circuits 67 Chapter 3 The Field-Effect Transistor 125 Chapter 4 Basic FET Amplifiers 205 Chapter 5 The Bipolar Junction Transistor 285 Chapter 6 Basic BJT Amplifiers 369 Chapter 7 Frequency Response 469 Chapter 8 Output Stages and Power Amplifiers 559 PROLOGUE II PROLOGUE TO ELECTRONIC DESIGN 615 PART 2 ANALOG ELECTRONICS 619 Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 621 Chapter 10 Integrated Circuit Biasing and Active Loads 687 vii"
Brief Table of Contents,Brief Table of Contents PROLOGUE I PROLOGUE TO ELECTRONICS 1 PART 1 SEMICONDUCTOR DEVICES AND BASIC APPLICATIONS 7 Chapter 1 Semiconductor Materials and Diodes 9 Chapter 2 Diode Circuits 67 Chapter 3 The Field-Effect Transistor 125 Chapter 4 Basic FET Amplifiers 205 Chapter 5 The Bipolar Junction Transistor 285 Chapter 6 Basic BJT Amplifiers 369 Chapter 7 Frequency Response 469 Chapter 8 Output Stages and Power Amplifiers 559 PROLOGUE II PROLOGUE TO ELECTRONIC DESIGN 615 PART 2 ANALOG ELECTRONICS 619 Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 621 Chapter 10 Integrated Circuit Biasing and Active Loads 687 vii nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page viii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: viii Brief Table of Contents Chapter 11 Differential and Multistage Amplifiers 753 Chapter 12 Feedback and Stability 851 Chapter 13 Operational Amplifier Circuits 947 Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1009 Chapter 15 Applications and Design of Integrated Circuits 1061 PROLOGUE III PROLOGUE TO DIGITAL ELECTRONICS 1141 PART 3 DIGITAL ELECTRONICS 1145 Chapter 16 MOSFET Digital Circuits 1147 Chapter 17 Bipolar Digital Circuits 1255 Appendix A Physical Constants and Conversion Factors 1315 Appendix B Selected Manufacturers’ Data Sheets 1317 Appendix C Standard Resistor and Capacitor Values 1329 Appendix D Reading List 1333 Appendix E Answers to Selected Problems 1337 Index 1359 nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page ix F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Contents PROLOGUE I PROLOGUE TO ELECTRONICS 1 Brief History 1 Passive and Active Devices 2 Electronic Circuits 2 Discrete and Integrated Circuits 3 Analog and Digital Signals 3 Notation 4 Summary 5 PART 1 SEMICONDUCTOR DEVICES AND BASIC APPLICATIONS 7 Chapter 1 Semiconductor Materials and Diodes 9 Preview 9 1.1 Semiconductor Materials and Properties 10 1.2 The pn Junction 23 1.3 Diode Circuits: DC Analysis and Models 34 1.4 Diode Circuits: AC Equivalent Circuit 43 1.5 Other Diode Types 48 1.6 Design Application: Diode Thermometer 54 1.7 Summary 56 Problems 57 Chapter 2 Diode Circuits 67 Preview 67 2.1 Rectifier Circuits 68 2.2 Zener Diode Circuits 84 2.3 Clipper and Clamper Circuits 90 2.4 Multiple-Diode Circuits 97 2.5 Photodiode and LED Circuits 106 2.6 Design Application: DC Power Supply 108 2.7 Summary 110 Problems 111 Chapter 3 The Field-Effect Transistor 125 Preview 125 3.1 MOS Field-Effect Transistor 126 3.2 MOSFET DC Circuit Analysis 146 ix
Contents,"Contents PROLOGUE I PROLOGUE TO ELECTRONICS 1 Brief History 1 Passive and Active Devices 2 Electronic Circuits 2 Discrete and Integrated Circuits 3 Analog and Digital Signals 3 Notation 4 Summary 5 PART 1 SEMICONDUCTOR DEVICES AND BASIC APPLICATIONS 7 Chapter 1 Semiconductor Materials and Diodes 9 Preview 9 1.1 Semiconductor Materials and Properties 10 1.2 The pn Junction 23 1.3 Diode Circuits: DC Analysis and Models 34 1.4 Diode Circuits: AC Equivalent Circuit 43 1.5 Other Diode Types 48 1.6 Design Application: Diode Thermometer 54 1.7 Summary 56 Problems 57 Chapter 2 Diode Circuits 67 Preview 67 2.1 Rectifier Circuits 68 2.2 Zener Diode Circuits 84 2.3 Clipper and Clamper Circuits 90 2.4 Multiple-Diode Circuits 97 2.5 Photodiode and LED Circuits 106 2.6 Design Application: DC Power Supply 108 2.7 Summary 110 Problems 111 Chapter 3 The Field-Effect Transistor 125 Preview 125 3.1 MOS Field-Effect Transistor 126 3.2 MOSFET DC Circuit Analysis 146 ix nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page x F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: x Contents 3.3 Basic MOSFET Applications: Switch, Digital Logic Gate, and Amplifier 165 3.4 Constant-Current Biasing 170 3.5 Multistage MOSFET Circuits 175 3.6 Junction Field-Effect Transistor 180 3.7 Design Application: Diode Thermometer with an MOS Transistor 190 3.8 Summary 192 Problems 194 Chapter 4 Basic FET Amplifiers 205 Preview 205 4.1 The MOSFET Amplifier 206 4.2 Basic Transistor Amplifier Configurations 216 4.3 The Common-Source Amplifier 216 4.4 The Common-Drain (Source-Follower) Amplifier 227 4.5 The Common-Gate Configuration 234 4.6 The Three Basic Amplifier Configurations: Summary and Comparison 237 4.7 Single-Stage Integrated Circuit MOSFET Amplifiers 238 4.8 Multistage Amplifiers 254 4.9 Basic JFET Amplifiers 258 4.10 Design Application: A Two-Stage Amplifier 264 4.11 Summary 266 Problems 268 Chapter 5 The Bipolar Junction Transistor 285 Preview 285 5.1 Basic Bipolar Junction Transistor 286 5.2 DC Analysis of Transistor Circuits 301 5.3 Basic Transistor Applications 323 5.4 Bipolar Transistor Biasing 330 5.5 Multistage Circuits 344 5.6 Design Application: Diode Thermometer with a Bipolar Transistor 348 5.7 Summary 350 Problems 352 Chapter 6 Basic BJT Amplifiers 369 Preview 369 6.1 Analog Signals and Linear Amplifiers 370 6.2 The Bipolar Linear Amplifier 371 6.3 Basic Transistor Amplifier Configurations 396 6.4 Common-Emitter Amplifiers 398 6.5 AC Load Line Analysis 413 nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xi F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Contents xi 6.6 Common-Collector (Emitter-Follower) Amplifier 420 6.7 Common-Base Amplifier 431 6.8 The Three Basic Amplifiers: Summary and Comparison 435 6.9 Multistage Amplifiers 436 6.10 Power Considerations 442 6.11 Design Application: Audio Amplifier 445 6.12 Summary 449 Problems 451 Chapter 7 Frequency Response 469 Preview 469 7.1 Amplifier Frequency Response 470 7.2 System Transfer Functions 472 7.3 Frequency Response: Transistor Amplifiers with Circuit Capacitors 485 7.4 Frequency Response: Bipolar Transistor 502 7.5 Frequency Response: The FET 514 7.6 High-Frequency Response of Transistor Circuits 520 7.7 Design Application: A Two-Stage Amplifier with Coupling Capacitors 537 7.8 Summary 539 Problems 540 Chapter 8 Output Stages and Power Amplifiers 559 Preview 559 8.1 Power Amplifiers 560 8.2 Power Transistors 560 8.3 Classes of Amplifiers 571 8.4 Class-A Power Amplifiers 586 8.5 Class-AB Push–Pull Complementary Output Stages 591 8.6 Design Application: An Output Stage Using MOSFETs 601 8.7 Summary 603 Problems 604 PROLOGUE II PROLOGUE TO ELECTRONIC DESIGN 615 Preview 615 Design Approach 615 System Design 616 Electronic Design 617 Conclusion 618 nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: xii Contents PART 2 ANALOG ELECTRONICS 619 Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 621 Preview 621 9.1 The Operational Amplifier 622 9.2 Inverting Amplifier 627 9.3 Summing Amplifier 636 9.4 Noninverting Amplifier 638 9.5 Op-Amp Applications 641 9.6 Operational Transconductance Amplifiers 657 9.7 Op-Amp Circuit Design 658 9.8 Design Application: Electronic Thermometer with an Instrumentation Amplifier 665 9.9 Summary 668 Problems 669 Chapter 10 Integrated Circuit Biasing and Active Loads 687 Preview 687 10.1 Bipolar Transistor Current Sources 688 10.2 FET Current Sources 707 10.3 Circuits with Active Loads 719 10.4 Small-Signal Analysis: Active Load Circuits 726 10.5 Design Application: An NMOS Current Source 734 10.6 Summary 736 Problems 737 Chapter 11 Differential and Multistage Amplifiers 753 Preview 753 11.1 The Differential Amplifier 754 11.2 Basic BJT Differential Pair 754 11.3 Basic FET Differential Pair 779 11.4 Differential Amplifier with Active Load 790 11.5 BiCMOS Circuits 801 11.6 Gain Stage and Simple Output Stage 806 11.7 Simplified BJT Operational Amplifier Circuit 811 11.8 Diff-Amp Frequency Response 815 11.9 Design Application: A CMOS Diff-Amp 821 11.10 Summary 824 Problems 825 Chapter 12 Feedback and Stability 851 Preview 851 12.1 Introduction to Feedback 852 12.2 Basic Feedback Concepts 853 12.3 Ideal Feedback Topologies 863 nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xiii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Contents xiii 12.4 Voltage (Series–Shunt) Amplifiers 873 12.5 Current (Shunt–Series) Amplifiers 879 12.6 Transconductance (Series–Series) Amplifiers 886 12.7 Transresistance (Shunt–Shunt) Amplifiers 893 12.8 Loop Gain 901 12.9 Stability of the Feedback Circuit 908 12.10 Frequency Compensation 918 12.11 Design Application: A MOSFET Feedback Circuit 924 12.12 Summary 927 Problems 928 Chapter 13 Operational Amplifier Circuits 947 Preview 947 13.1 General Op-Amp Circuit Design 948 13.2 A Bipolar Operational Amplifier Circuit 950 13.3 CMOS Operational Amplifier Circuits 970 13.4 BiCMOS Operational Amplifier Circuits 981 13.5 JFET Operational Amplifier Circuits 989 13.6 Design Application: A Two-Stage CMOS Op-Amp to Match a Given Output Stage 992 13.7 Summary 995 Problems 997 Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1009 Preview 1009 14.1 Practical Op-Amp Parameters 1010 14.2 Finite Open-Loop Gain 1013 14.3 Frequency Response 1023 14.4 Offset Voltage 1030 14.5 Input Bias Current 1042 14.6 Additional Nonideal Effects 1045 14.7 Design Application: An Offset Voltage Compensation Network 1047 14.8 Summary 1049 Problems 1050 Chapter 15 Applications and Design of Integrated Circuits 1061 Preview 1061 15.1 Active Filters 1062 15.2 Oscillators 1074 15.3 Schmitt Trigger Circuits 1084 15.4 Nonsinusoidal Oscillators and Timing Circuits 1096 15.5 Integrated Circuit Power Amplifiers 1107 15.6 Voltage Regulators 1114 15.7 Design Application: An Active Bandpass Filter 1122 15.8 Summary 1125 Problems 1126 nea80644_fm_i-xxii.qxd 08/04/2009 09:05 PM Page xiv F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: xiv Contents PROLOGUE III PROLOGUE TO DIGITAL ELECTRONICS 1141 Preview 1141 Logic Functions and Logic Gates 1141 Logic Levels 1143 Noise Margin 1143 Propagation Delay Times and Switching Times 1144 Summary 1144 PART 3 DIGITAL ELECTRONICS 1145 Chapter 16 MOSFET Digital Circuits 1147 Preview 1147 16.1 NMOS Inverters 1148 16.2 NMOS Logic Circuits 1163 16.3 CMOS Inverter 1168 16.4 CMOS Logic Circuits 1183 16.5 Clocked CMOS Logic Circuits 1191 16.6 Transmission Gates 1194 16.7 Sequential Logic Circuits 1202 16.8 Memories: Classifications and Architectures 1208 16.9 RAM Memory Cells 1212 16.10 Read-Only Memory 1221 16.11 Data Converters 1226 16.12 Design Application: A Static CMOS Logic Gate 1232 16.13 Summary 1234 Problems 1236 Chapter 17 Bipolar Digital Circuits 1255 Preview 1255 17.1 Emitter-Coupled Logic (ECL) 1256 17.2 Modified ECL Circuit Configurations 1267 17.3 Transistor–Transistor Logic 1277 17.4 Schottky Transistor–Transistor Logic 1289 17.5 BiCMOS Digital Circuits 1296 17.6 Design Application: A Static ECL Gate 1298 17.7 Summary 1300 Problems 1301 Appendix A Physical Constants and Conversion Factors 1315 Appendix B Selected Manufacturers’ Data Sheets 1317 Appendix C Standard Resistor and Capacitor Values 1329 Appendix D Reading List 1333 Appendix E Answers to Selected Problems 1337 Index 1359 nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xv F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Preface PHILOSOPHY AND GOALS Microelectronics: Circuit Analysis and Design is intended as a core text in electronics for undergraduate electrical and computer engineering students. The purpose of the fourth edition of the book is to continue to provide a foundation for analyzing and designing both analog and digital electronic circuits. A goal is to make this book very readable and student-friendly. Most electronic circuit design today involves integrated circuits (ICs), in which the entire circuit is fabricated on a single piece of semiconductor material. The IC can contain millions of semiconductor devices and other elements and can perform complex functions. The microprocessor is a classic example of such a circuit. The ultimate goal of this text is to clearly present the operation, characteristics, and limitations of the basic circuits that form these complex integrated circuits. Although most engineers will use existing ICs in specialized design applications, they must be aware of the fundamental circuit's characteristics in order to understand the operation and limitations of the IC. Initially, discrete transistor circuits are analyzed and designed. The complexity of circuits being studied increases throughout the text so that, eventually, the reader should be able to analyze and design the basic elements of integrated circuits, such as linear amplifiers and digital logic gates. This text is an introduction to the complex subject of electronic circuits. Therefore, more advanced material is not included. Specific technologies, such as gallium arsenide, which is used in special applications, are also not included, although reference maybe made to a few specialized applications. Finally, the layout and fabrication of ICs are not covered, since these topics alone can warrant entire texts. DESIGN EMPHASIS Design is the heart of engineering. Good design evolves out of considerable experience with analysis. In this text, we point out various characteristics and properties of circuits as we go through the analysis. The objective is to develop an intuition that can be applied to the design process. Many design examples, design exercise problems, and end-of-chapter design problems are included in this text. The end-of-chapter design problems are designated with a “D”. Many of these examples and problems have a set of specifications that lead to a unique solution. Although engineering design in its truest sense does not lead to a unique solution, these initial design examples and problems area first step, the author believes, in learning the design process. A separate section, Design Problems, found in the end-of-chapter problems, contains open-ended design problems. xv nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xvi F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: xvi Preface COMPUTER-AIDED ANALYSIS AND DESIGN Computer analysis and computer-aided-design (CAD) are significant factors in electronics. One of the most prevalent electronic circuit simulation programs is Simulation Program with Integrated Circuit Emphasis (SPICE), developed at the University of California. Aversion of SPICE tailored for personal computers is PSpice, which is used in this text. The text emphasizes hand analysis and design in order to concentrate on basic circuit concepts. However, in several places in the text, PSpice results are included and are correlated with the hand analysis results. Obviously, at the instructor's discretion, computer simulation maybe incorporated at any point in the text. A separate section, Computer Simulation Problems, is found in the end-of-chapter problems. In some chapters, particularly the chapters on frequency response and feedback, computer analysis is used more heavily. Even in these situations, however, computer analysis is considered only after the fundamental properties of the circuit have been covered. The computer is a tool that can aid in the analysis and design of electronic circuits, but is not a substitute for a thorough understanding of the basic concepts of circuit analysis. PREREQUISITES This book is intended for junior undergraduates in electrical and computer engineering. The prerequisites for understanding the material include dc analysis and steady- state sinusoidal analysis of electric circuits and the transient analysis of RC circuits. Various network concepts, such as Thevenin’sand Norton’s theorems, are used extensively. Some background in Laplace transform techniques may also be useful. Prior knowledge of semiconductor device physics is not required. ORGANIZATION The book is divided into three parts. Part 1, consisting of the first eight chapters, covers semiconductor materials, the basic diode operation and diode circuits, and basic transistor operations and transistor circuits. Part 2 addresses more advanced analog electronics, such as operational amplifier circuits, biasing techniques used in integrated circuits, and other analog circuits applications. Part 3 covers digital electronics including CMOS integrated circuits. Five appendices are included at the end of the text. Content Part 1. Chapter 1 introduces the semiconductor material and pn junction, which leads to diode circuits and applications given in Chapter 2. Chapter 3 covers the field- effect transistor, with strong emphasis on the metal-oxide-semiconductor FET (MOSFET), and Chapter 4 presents basic FET linear amplifiers. Chapter 5 discusses the bipolar junction transistor, with basic bipolar linear amplifier applications given in Chapter 6. The frequency response of transistors and transistor circuits is covered in a separate Chapter 7. The emphasis in Chapters 3 through 6 was on the analysis and nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xvii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Preface xvii design techniques, so mixing the two transistor types within a given chapter would introduce unnecessary confusion. However, starting with Chapter 7, both MOSFET circuits and bipolar circuits are discussed within the same chapter. Finally, Chapter 8, covering output stages and power amplifiers, completes Part 1 of the text. Part 2. Chapters 9 through 15 are included in Part 2, which addresses more advanced analog electronics. In this portion of the text, the emphasis is placed on the operational amplifier and on circuits that form the basic building blocks of integrated circuits (ICs). The ideal operational amplifier and ideal op-amp circuits are covered in Chapter 9. Chapter 10 presents constant-current source biasing circuits and introduces the active load, both of which are used extensively in ICs. The differential amplifier, the heart of the op-amp, is discussed in Chapter 11, and feedback is considered in Chapter 12. Chapter 13 presents the analysis and design of various circuits that form operational amplifiers. Nonideal effects in analog ICs are addressed in Chapter 14, and applications, such as active filters and oscillators, are covered in Chapter 15. Part 3. Chapters 16 and 17 form Part 3 of the text, and cover the basics of digital electronics. The analysis and design of MOS digital electronics is discussed in Chapter 16. The emphasis in this chapter is on CMOS circuits, which form the basis of most present-day digital circuits. Basic digital logic gate circuits are initially covered, then shift registers, flip-flops, and then basic A/D and D/A converters are presented. Chapter 17 introduces bipolar digital electronics, including emitter-coupled logic and classical transistor-transistor logic circuits. Appendices. Five appendices are included at the end of the text. Appendix A contains physical constants and conversion factors. Manufacturers' data sheets for several devices and circuits are included in Appendix B. Standard resistor and capacitor values are given in Appendix C, and references and other reading sources are listed in Appendix D. Finally, answers to selected end-of chapter problems are given in Appendix E. Order of Presentation The book is written with a certain degree of flexibility so that instructors can design their own order of presentation of topics. 1. Op-Amp Circuits: For those instructors who wish to present ideal op-amp circuits as a first topic in electronics, Chapter 9 is written such that sections 9.1 through 9.5.5 can be studied as a first chapter in electronics. Chapter Presentation Ideal Op-Amp Circuits: 1. Chapter 9, Sections 9.1–9.5.5. 2. Chapters 1, 2, etc. 2. MOSFETs versus Bipolars: The chapters covering MOSFETs (3 and 4) and the chapters covering bipolars (5 and 6) are written independently of each other. Instructors, therefore, have the option of discussing MOSFETs before bipolars, as nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xviii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: xviii Preface given in the text, or discussing bipolars before MOSFETs in the more traditional manner. Chapter Presentation Text Traditional Chapter Topic Chapter Topic 1 pn Junctions 1 pn Junctions 2 Diode Circuits 2 Diode Circuits 3 MOS Transistors 5 Bipolar Transistors 4 MOSFET Circuits 6 Bipolar Circuits 5 Bipolar Transistors 3 MOS Transistors 6 Bipolar Circuits 4 MOSFET Circuits etc. etc. 3. Digital versus Analog: For those instructors who wish to present digital electronics before analog electronics, Part 3 is written to be independent of Part 2. Therefore, instructors may cover Chapters 1, 2, 3, and then jump to Chapter 16. Chapter Presentation: Chapter Topic 1 pn Junctions 2 Diode Circuits 3 MOS Transistors 16 MOSFET Digital Circuits 5 Bipolar Transistors 17 Bipolar Digital Circuits etc. Analog Circuits NEW TO THE FOURTH EDITION • Addition of over 250 new Exercise and Test Your Understanding Problems. • Addition of over 580 new end-of-chapter problems. • Addition of over 50 new open-ended Design Problems in the end-of-chapter problems sections. • Addition of over 65 new Computer Simulation Problems in the end-of-chapter problems sections. • Voltage levels in circuits were updated to more closely match modern day electronics. • MOSFET device parameters were updated to more closely match modern day electronics. • Chapter 9 was rewritten such that ideal op-amp circuits can be studied as a first topic in electronics. • Maintained the mathematical rigor necessary to more clearly understand basic circuit operation and characteristics. nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xix F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: Preface xix RETAINED FEATURES OF THE TEXT • A short introduction at the beginning of each chapter links the new chapter to the material presented in previous chapters. The objectives of the Chapter, i.e., what the reader should gain from the chapter, are presented in the Preview section and are listed in bullet form for easy reference. • Each major section of a chapter begins with a restatement of the objective for this portion of the chapter. • An extensive number of worked examples are used throughout the text to reinforce the theoretical concepts being developed. These examples contain all the details of the analysis or design, so the reader does not have to fill in missing steps. • An Exercise Problem follows each example. The exercise problem is very similar to the worked example so that readers can immediately test their understanding of the material just covered. Answers are given for each exercise problem so readers do not have to search for an answer at the end of the book. These exercise problems will reinforce readers’grasp of the material before they move on to the next section. • Test Your Understanding exercise problems are included at the end of most major sections of the chapter. These exercise problems are, in general, more comprehensive that those presented at the end of an example. These problems will also reinforce readers’ grasp of the material before they move on to the next section. Answers to these exercise problems are also given. • Problem Solving Techniques are given throughout each chapter to assist the reader in analyzing circuits. Although there can be more than one method of solving a problem, these Problem Solving Techniques are intended to help the reader get started in the analysis of a circuit. • A Design Application is included as the last section of each chapter. A specific electronic design related to that chapter is presented. Over the course of the book, students will learn to build circuits for an electronic thermometer. Though not every Design Application deals with the thermometer, each application illustrates how students will use design in the real world. • A Summary section follows the text of each chapter. This section summarizes the overall results derived in the chapter and reviews the basic concepts developed. The summary section is written in bullet form for easy reference. • A Checkpoint section follows the Summary section. This section states the goals that should have been met and states the abilities the reader should have gained. The Checkpoints will help assess progress before moving to the next chapter. • A list of review questions is included at the end of each chapter. These questions serve as a self-test to help the reader determine how well the concepts developed in the chapter have been mastered. • A large number of problems are given at the end of each chapter, organized according to the subject of each section. Many new problems have been incorporated into the fourth edition. Design oriented problems are included as well as problems with varying degrees of difficulty. A “D” indicates design-type problems, and an asterisk (*) indicates more difficult problems. Separate computer simulation problems and open-ended design problems are also included. • Answers to selected problems are given in Appendix E. Knowing the answer to a problem can aid and reinforce the problem solving ability. • Manufacturers’ data sheets for selected devices and circuits are given in Appendix B. These data sheets should allow the reader to relate the basic concepts and circuit characteristics studied to real circuit characteristics and limitations. nea80644_fm_i-xxii.qxd 08/06/2009 10:20 PM Page xx F506 Tempwork:Dont' Del Rakesh:August 2009:Rakesh 08-06-09:MHDQ134-FM: xx Preface SUPPLEMENTS The website for Microeletronics features tools for students and teachers. Professors can benefit from McGraw-Hill’s COSMOS electronic solutions manual. COSMOS enables instructors to generate a limitless supply of problem material for assignment, as well as transfer and integrate their own problems into the software. For students, there are profiles of electrical engineers that give students insight into the real world of electrical engineering by presenting interviews with engineers working at a number of businesses, from Fairchild Semiconductor to Apple. In addition, the website boasts PowerPoint slides, an image library, the complete Instructor’s Solution Manual (password protected), data sheets, laboratory manual, and links to other important websites. You can find the site at www.mhhe.com/neamen. ELECTRONIC TEXTBOOK OPTIONS This text is offered through CourseSmart for both instructors and students. Course- Smart is an online resource where students can purchase the complete text online at almost half the cost of a traditional text. Purchasing the eTextbook allows students to take advantage of CourseSmart’s Web tools for learning, which include full text search, notes and highlighting, and email tools for sharing notes between classmates. To learn more about CourseSmart options, contact your sales representative or visit www.CourseSmart.com. ACKNOWLEDGMENTS I am indebted to the many students I have taught over the years who have helped in the evolution of this text. Their enthusiasm and constructive criticism have been invaluable, and their delight when they think they have found an error their professor may have made is priceless. I also want to acknowledge Professor Hawkins, Professor Fleddermann, and Dr. Ed Graham of the University of New Mexico who have taught from the third edition and who have made excellent suggestions for improvement. I want to thank the many people at McGraw-Hill for their tremendous support. To Raghu Srinivasan, publisher, and Lora Neyens, development editor, I am grateful for their encouragement and support. I also want to thank Mr. John Griffith for his many constructive suggestions. I also appreciate the efforts of project managers who guided the work through its final phase toward publication. This effort included gently, but firmly, pushing me through proofreading. Let me express my continued appreciation to those reviewers who read the original manuscript in its various phases, a focus group who spent an entire precious weekend discussing and evaluating the original project, and the accuracy checkers who worked through the original examples, exercises, and problems to minimize any errors I may have introduced. My thanks also go out to those individuals who have continued to review the book prior to new editions being published. Their contributions and suggestions for continued improvement are incredibly valuable. nea80644_fm_i-xxii.qxd 08/06/2009 10:21 PM Page xxi F506 Tempwork:Dont' Del Rakesh:August 2009:Rakesh 08-06-09:MHDQ134-FM: Preface xxi REVIEWERS FOR THE FOURTH EDITION Doran Baker Richard Kwor Utah State University University of Colorado, Colorado Marc Cahay Springs University of Cincinatti Juin J. Liou Richard H. Cockrum University of Central Florida California State University, Pomona Sannasi Ramanan Norman R. Cox Rochester Institute of Technology Missouri University of Science and Ron Roscoe Technology Engineering Massachusetts Institute of Technology Stephen M. Goodnick John Scalzo Arizona State University Louisiana State University Rongqing Hui Mark J. Wharton University of Kansas Pennsylvania State University Syed K Islam Weizhong Wang University of Tennessee University of Wisconsin, Milwaukee Donald A. Neamen nea80644_fm_i-xxii.qxd 08/04/2009 08:21 PM Page xxii F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-FM: nea80644_pro01_001-006.qxd 06/08/2009 04:44 PM Page 1 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-PROL Folder:MHDQ134-P Prologue to Electronics I When most of us hear the word electronics, we think of televisions, laptop computers, cellphones, or iPods. Actually, these items are electronic systems composed of subsystems or electronic circuits, which include amplifiers, signal sources, power supplies, and digital logic circuits. Electronics is defined as the science of the motion of charges in a gas, vacuum, or semiconductor. (Note that the charge motion in a metal is excluded from this definition.) This definition was used early in the 20th century to separate the field of electrical engineering, which dealt with motors, generators, and wire communications, from the new field of electronic engineering, which at that time dealt with vacuum tubes. Today, electronics generally involves transistors and transistor circuits. Microelectronics refers to integrated circuit (IC) technology, which can produce a circuit with multimillions of components on a single piece of semiconductor material. Atypical electrical engineer will perform many diverse functions, and is likely to use, design, or build systems incorporating some form of electronics. Consequently, the division between electrical and electronic engineering is no longer as clear as originally defined. BRIEF HISTORY The development of the transistor and the integrated circuit has led to remarkable electronic capabilities. The IC permeates almost every facet of our daily lives, from instant communications by cellular phone to the automobile. One dramatic example of IC technology is the small laptop computer, which today has more capability than the equipment that just a few years ago would have filled an entire room. The cellphone has shown dramatic changes. It not only provides for instant messaging, but also includes a camera so that pictures can be instantly sent to virtually every point on earth. A fundamental breakthrough in electronics came in December 1947, when the first transistor was demonstrated at Bell Telephone Laboratories by William Shockley, John Bardeen, and Walter Brattain. From then until approximately 1959, the transistor was available only as a discrete device, so the fabrication of circuits required that the transistor terminals be soldered directly to the terminals of other components. In September 1958, Jack Kilby of Texas Instruments demonstrated the first integrated circuit fabricated in germanium. At about the same time, Robert Noyce of Fairchild Semiconductor introduced the integrated circuit in silicon. The development of the IC continued at a rapid rate through the 1960s, using primarily bipolar transistor technology. Since then, the metal-oxide-semiconductor field-effect transistor (MOSFET) and MOS integrated circuit technology have emerged as a dominant force, especially in digital integrated circuits. 1 Prologue"
PROLOGUE I: PROLOGUE TO ELECTRONICS," Prologue to Electronics I When most of us hear the word electronics, we think of televisions, laptop computers, cellphones, or iPods. Actually, these items are electronic systems composed of subsystems or electronic circuits, which include amplifiers, signal sources, power supplies, and digital logic circuits. Electronics is defined as the science of the motion of charges in a gas, vacuum, or semiconductor. (Note that the charge motion in a metal is excluded from this definition.) This definition was used early in the 20th century to separate the field of electrical engineering, which dealt with motors, generators, and wire communications, from the new field of electronic engineering, which at that time dealt with vacuum tubes. Today, electronics generally involves transistors and transistor circuits. Microelectronics refers to integrated circuit (IC) technology, which can produce a circuit with multimillions of components on a single piece of semiconductor material. Atypical electrical engineer will perform many diverse functions, and is likely to use, design, or build systems incorporating some form of electronics. Consequently, the division between electrical and electronic engineering is no longer as clear as originally defined. BRIEF HISTORY The development of the transistor and the integrated circuit has led to remarkable electronic capabilities. The IC permeates almost every facet of our daily lives, from instant communications by cellular phone to the automobile. One dramatic example of IC technology is the small laptop computer, which today has more capability than the equipment that just a few years ago would have filled an entire room. The cellphone has shown dramatic changes. It not only provides for instant messaging, but also includes a camera so that pictures can be instantly sent to virtually every point on earth. A fundamental breakthrough in electronics came in December 1947, when the first transistor was demonstrated at Bell Telephone Laboratories by William Shockley, John Bardeen, and Walter Brattain. From then until approximately 1959, the transistor was available only as a discrete device, so the fabrication of circuits required that the transistor terminals be soldered directly to the terminals of other components. In September 1958, Jack Kilby of Texas Instruments demonstrated the first integrated circuit fabricated in germanium. At about the same time, Robert Noyce of Fairchild Semiconductor introduced the integrated circuit in silicon. The development of the IC continued at a rapid rate through the 1960s, using primarily bipolar transistor technology. Since then, the metal-oxide-semiconductor field-effect transistor (MOSFET) and MOS integrated circuit technology have emerged as a dominant force, especially in digital integrated circuits. 1 Prologue"
Brief History,"BRIEF HISTORY The development of the transistor and the integrated circuit has led to remarkable electronic capabilities. The IC permeates almost every facet of our daily lives, from instant communications by cellular phone to the automobile. One dramatic example of IC technology is the small laptop computer, which today has more capability than the equipment that just a few years ago would have filled an entire room. The cellphone has shown dramatic changes. It not only provides for instant messaging, but also includes a camera so that pictures can be instantly sent to virtually every point on earth. A fundamental breakthrough in electronics came in December 1947, when the first transistor was demonstrated at Bell Telephone Laboratories by William Shockley, John Bardeen, and Walter Brattain. From then until approximately 1959, the transistor was available only as a discrete device, so the fabrication of circuits required that the transistor terminals be soldered directly to the terminals of other components. In September 1958, Jack Kilby of Texas Instruments demonstrated the first integrated circuit fabricated in germanium. At about the same time, Robert Noyce of Fairchild Semiconductor introduced the integrated circuit in silicon. The development of the IC continued at a rapid rate through the 1960s, using primarily bipolar transistor technology. Since then, the metal-oxide-semiconductor field-effect transistor (MOSFET) and MOS integrated circuit technology have emerged as a dominant force, especially in digital integrated circuits. 1 Prologue nea80644_pro01_001-006.qxd 06/08/2009 04:44 PM Page 2 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-PROL Folder:MHDQ134-P 2 Prologue I Prologue to Electronics Since the first IC, circuit design has become more sophisticated and the integrated circuit more complex. Device size continues to shrink and the number of devices fabricated on a single chip continues to increase at a rapid rate. Today, an IC can contain arithmatic, logic, and memory functions on a single semiconductor chip. The primary example of this type of integrated circuit is the microprocessor. PASSIVE AND ACTIVE DEVICES In a passive electrical device, the time average power delivered to the device over an infinite time period is always greater than or equal to zero. Resistors, capacitors, and inductors, are examples of passive devices. Inductors and capacitors can store energy, but they cannot deliver an average power greater than zero over an infinite time interval. Active devices, such as dc power supplies, batteries, and ac signal generators, are capable of supplying particular types of power. Transistors are also considered to be active devices in that they are capable of supplying more signal power to a load than they receive. This phenomenon is called amplification. The additional power in the output signal is a result of a redistribution of ac and dc power within the device. ELECTRONIC CIRCUITS In most electronic circuits, there are two inputs (Figure PRl.1).One input is from a power supply that provides dc voltages and currents to establish the proper biasing for transistors. The second input is a signal. Time-varying signals from a particular source very often need to be amplified before the signal is capable of being “useful.” For example, Figure PR1.l shows a signal source that is the output of a compact disc system. The output music signal from the compact disc system consists of a small time-varying voltage and current, which means that the signal power is relatively small. The power required to drive the speakers is larger than the output signal from the compact disc, so the compact disc signal must be amplified before it is capable of driving the speakers in order that sound can be heard. Other examples of signals that must be amplified before they are capable of driving loads include the output of a microphone, voice signals received on earth from an orbiting manned shuttle, video signals from an orbiting weather satellite, and the output of an electrocardiograph (EKG). Although the output signal can be larger than the input signal, the output power can never exceed the dc input power. Therefore, the magnitude of the dc power supply is one limitation to the output signal response. dc voltage source dc power Signal Amplifier Load source Low High CD player signal signal Speakers power power Figure PR1.1 Schematic of an electronic circuit with two input signals: the dc power supply input, and the signal input"
Passive and Active Devices,"PASSIVE AND ACTIVE DEVICES In a passive electrical device, the time average power delivered to the device over an infinite time period is always greater than or equal to zero. Resistors, capacitors, and inductors, are examples of passive devices. Inductors and capacitors can store energy, but they cannot deliver an average power greater than zero over an infinite time interval. Active devices, such as dc power supplies, batteries, and ac signal generators, are capable of supplying particular types of power. Transistors are also considered to be active devices in that they are capable of supplying more signal power to a load than they receive. This phenomenon is called amplification. The additional power in the output signal is a result of a redistribution of ac and dc power within the device. ELECTRONIC CIRCUITS In most electronic circuits, there are two inputs (Figure PRl.1).One input is from a power supply that provides dc voltages and currents to establish the proper biasing for transistors. The second input is a signal. Time-varying signals from a particular source very often need to be amplified before the signal is capable of being “useful.” For example, Figure PR1.l shows a signal source that is the output of a compact disc system. The output music signal from the compact disc system consists of a small time-varying voltage and current, which means that the signal power is relatively small. The power required to drive the speakers is larger than the output signal from the compact disc, so the compact disc signal must be amplified before it is capable of driving the speakers in order that sound can be heard. Other examples of signals that must be amplified before they are capable of driving loads include the output of a microphone, voice signals received on earth from an orbiting manned shuttle, video signals from an orbiting weather satellite, and the output of an electrocardiograph (EKG). Although the output signal can be larger than the input signal, the output power can never exceed the dc input power. Therefore, the magnitude of the dc power supply is one limitation to the output signal response. dc voltage source dc power Signal Amplifier Load source Low High CD player signal signal Speakers power power Figure PR1.1 Schematic of an electronic circuit with two input signals: the dc power supply input, and the signal input"
Electronic Circuits,"ELECTRONIC CIRCUITS In most electronic circuits, there are two inputs (Figure PRl.1).One input is from a power supply that provides dc voltages and currents to establish the proper biasing for transistors. The second input is a signal. Time-varying signals from a particular source very often need to be amplified before the signal is capable of being “useful.” For example, Figure PR1.l shows a signal source that is the output of a compact disc system. The output music signal from the compact disc system consists of a small time-varying voltage and current, which means that the signal power is relatively small. The power required to drive the speakers is larger than the output signal from the compact disc, so the compact disc signal must be amplified before it is capable of driving the speakers in order that sound can be heard. Other examples of signals that must be amplified before they are capable of driving loads include the output of a microphone, voice signals received on earth from an orbiting manned shuttle, video signals from an orbiting weather satellite, and the output of an electrocardiograph (EKG). Although the output signal can be larger than the input signal, the output power can never exceed the dc input power. Therefore, the magnitude of the dc power supply is one limitation to the output signal response. dc voltage source dc power Signal Amplifier Load source Low High CD player signal signal Speakers power power Figure PR1.1 Schematic of an electronic circuit with two input signals: the dc power supply input, and the signal input nea80644_pro01_001-006.qxd 06/08/2009 04:44 PM Page 3 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-PROL Folder:MHDQ134-P Prologue I Prologue to Electronics 3 The analysis of electronic circuits, then, is divided into two parts: one deals with the dc input and its circuit response, and the other deals with the signal input and the resulting circuit response. Dependent voltage and current sources are used to model the active devices and to represent the amplification or signal gain. In general, different equivalent circuit models must be used for the dc and ac analyses. DISCRETE AND INTEGRATED CIRCUITS In this text, we will deal principally with discrete electronic circuits, that is, circuits that contain discrete components, such as resistors, capacitors, and transistors. We will focus on the types of circuits that are the building blocks of the IC. For example, we will look at the various circuits that makeup the operational amplifier, an important IC in analog electronics. We will also discuss various logic circuits used in digital ICs. ANALOG AND DIGITAL SIGNALS Analog signals The voltage signal shown graphically in Figure PR1.2(a) is called an analog signal. The magnitude of an analog signal can take on any value within limits and may vary continuously with time. Electronic circuits that process analog signals are called analog circuits. One example of an analog circuit is a linear amplifier. A linear amplifier magnifies an input signal and produces an output signal whose amplitude is larger and directly proportional to the input signal. The vast majority of signals in the “real world” are analog. Voice communications and music are just two examples. The amplification of such signals is a large part of electronics, and doing so with little or no distortion is a major consideration. Therefore, in signal amplifiers, the output should be a linear function of the input. An example is the power amplifier circuit in a stereo system. This circuit provides sufficient power to “drive” the speaker system. Yet, it must remain linear in order to reproduce the sound without distortion. Digital signals An alternative signal is at one of two distinct levels and is called a digital signal (Figure PR1.2(b)). Since the digital signal has discrete values, it is said to be quantized. Electronic circuits that process digital signals are called digital circuits. v(t) v(t) Logic 1 VH Logic 0 Time VL 0 Time (a) (b) Figure PR1.2 Graphs of analog and digital signals: (a) analog signal versus time and (b) digital signal versus time"
Discrete and Integrated Circuits,"DISCRETE AND INTEGRATED CIRCUITS In this text, we will deal principally with discrete electronic circuits, that is, circuits that contain discrete components, such as resistors, capacitors, and transistors. We will focus on the types of circuits that are the building blocks of the IC. For example, we will look at the various circuits that makeup the operational amplifier, an important IC in analog electronics. We will also discuss various logic circuits used in digital ICs. ANALOG AND DIGITAL SIGNALS Analog signals The voltage signal shown graphically in Figure PR1.2(a) is called an analog signal. The magnitude of an analog signal can take on any value within limits and may vary continuously with time. Electronic circuits that process analog signals are called analog circuits. One example of an analog circuit is a linear amplifier. A linear amplifier magnifies an input signal and produces an output signal whose amplitude is larger and directly proportional to the input signal. The vast majority of signals in the “real world” are analog. Voice communications and music are just two examples. The amplification of such signals is a large part of electronics, and doing so with little or no distortion is a major consideration. Therefore, in signal amplifiers, the output should be a linear function of the input. An example is the power amplifier circuit in a stereo system. This circuit provides sufficient power to “drive” the speaker system. Yet, it must remain linear in order to reproduce the sound without distortion. Digital signals An alternative signal is at one of two distinct levels and is called a digital signal (Figure PR1.2(b)). Since the digital signal has discrete values, it is said to be quantized. Electronic circuits that process digital signals are called digital circuits. v(t) v(t) Logic 1 VH Logic 0 Time VL 0 Time (a) (b) Figure PR1.2 Graphs of analog and digital signals: (a) analog signal versus time and (b) digital signal versus time"
Analog and Digital Signals,"ANALOG AND DIGITAL SIGNALS Analog signals The voltage signal shown graphically in Figure PR1.2(a) is called an analog signal. The magnitude of an analog signal can take on any value within limits and may vary continuously with time. Electronic circuits that process analog signals are called analog circuits. One example of an analog circuit is a linear amplifier. A linear amplifier magnifies an input signal and produces an output signal whose amplitude is larger and directly proportional to the input signal. The vast majority of signals in the “real world” are analog. Voice communications and music are just two examples. The amplification of such signals is a large part of electronics, and doing so with little or no distortion is a major consideration. Therefore, in signal amplifiers, the output should be a linear function of the input. An example is the power amplifier circuit in a stereo system. This circuit provides sufficient power to “drive” the speaker system. Yet, it must remain linear in order to reproduce the sound without distortion. Digital signals An alternative signal is at one of two distinct levels and is called a digital signal (Figure PR1.2(b)). Since the digital signal has discrete values, it is said to be quantized. Electronic circuits that process digital signals are called digital circuits. v(t) v(t) Logic 1 VH Logic 0 Time VL 0 Time (a) (b) Figure PR1.2 Graphs of analog and digital signals: (a) analog signal versus time and (b) digital signal versus time nea80644_pro01_001-006.qxd 06/08/2009 04:44 PM Page 4 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-PROL Folder:MHDQ134-P 4 Prologue I Prologue to Electronics Table PR1.1 Summary of notation Variable Meaning iB, vBE Total instantaneous values IB, VBE dc values ib, vbe Total instantaneous ac values Ib, Vbe Phasor values In many electronic systems, signals are processed, transmitted, and received in digital form. Digital systems and signal processing are now a large part of electronics because of the tremendous advances made in the design and fabrication of digital circuits. Digital processing allows a wide variety of functions to be performed that would be impractical using analog means. In many cases, digital signals must be converted from and to analog signals. These signals need to be processed through analog-to-digital (A/D) converters and digital-to-analog (D/A) converters. A significant part of electronics deals with these conversions. NOTATION The following notation, summarized in Table PR1.1, is used throughout this text. A lowercase letter with an uppercase subscript, such as iB and vB E , indicates a total instantaneous value. An uppercase letter with an uppercase subscript, such as IB and VB E , indicates a dc quantity. A lowercase letter with a lowercase subscript, such as ib and vbe , indicates an instantaneous value of a time-varying signal. Finally, an uppercase letter with a lowercase subscript, such as Ib and Vbe, indicates a phasor quantity. As an example, Figure PR1.3 shows a sinusoidal voltage superimposed on a dc voltage. Using our notation, we would write vB E = VB E + vbe = VB E + VM cos(ωt + φm) The phasor concept is rooted in Euler’s identity and relates the exponential function to the trigonometric function. We can write the sinusoidal voltage as v = V cos(ωt + φ ) = V Re{e j (ωt+φm)} = Re{V e jφm e jωt be Mm MM } vBE VBE Vm fm ac variation vbe 0 wt Figure PR1.3 Sinusoidal voltage superimposed on dc voltage, showing notation used throughout this text"
Notation,"notation Variable Meaning iB, vBE Total instantaneous values IB, VBE dc values ib, vbe Total instantaneous ac values Ib, Vbe Phasor values In many electronic systems, signals are processed, transmitted, and received in digital form. Digital systems and signal processing are now a large part of electronics because of the tremendous advances made in the design and fabrication of digital circuits. Digital processing allows a wide variety of functions to be performed that would be impractical using analog means. In many cases, digital signals must be converted from and to analog signals. These signals need to be processed through analog-to-digital (A/D) converters and digital-to-analog (D/A) converters. A significant part of electronics deals with these conversions. NOTATION The following notation, summarized in Table PR1.1, is used throughout this text. A lowercase letter with an uppercase subscript, such as iB and vB E , indicates a total instantaneous value. An uppercase letter with an uppercase subscript, such as IB and VB E , indicates a dc quantity. A lowercase letter with a lowercase subscript, such as ib and vbe , indicates an instantaneous value of a time-varying signal. Finally, an uppercase letter with a lowercase subscript, such as Ib and Vbe, indicates a phasor quantity. As an example, Figure PR1.3 shows a sinusoidal voltage superimposed on a dc voltage. Using our notation, we would write vB E = VB E + vbe = VB E + VM cos(ωt + φm) The phasor concept is rooted in Euler’s identity and relates the exponential function to the trigonometric function. We can write the sinusoidal voltage as v = V cos(ωt + φ ) = V Re{e j (ωt+φm)} = Re{V e jφm e jωt be Mm MM } vBE VBE Vm fm ac variation vbe 0 wt Figure PR1.3 Sinusoidal voltage superimposed on dc voltage, showing notation used throughout this text nea80644_pro01_001-006.qxd 06/08/2009 04:44 PM Page 5 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-PROL Folder:MHDQ134-P Prologue I Prologue to Electronics 5 where Re stands for “the real part of.” The coefficient of e jωt is a complex number that represents the amplitude and phase angle of the sinusoidal voltage. This complex number, then, is the phasor of that voltage, or V jφm be = VM e In some cases throughout the text, the input and output signals will be quasista- tic quantities. For these situations, we may use either the total instantaneous notation, such as iB and vBE, or the dc notation, IB and VBE. SUMMARY Semiconductor devices are the basic components in electronic circuits. The electrical characteristics of these devices provide the controlled switching required for signal processing, for example. Most electrical engineers are users of electronics rather than designers of electronic circuits and ICs. As with any discipline, however, the basics must be mastered before the overall system characteristics and limitations can be understood. In electronics, the discrete circuit must be thoroughly studied and analyzed before the operation, properties, and limitations of an IC can be fully appreciated."
Summary,"SUMMARY Semiconductor devices are the basic components in electronic circuits. The electrical characteristics of these devices provide the controlled switching required for signal processing, for example. Most electrical engineers are users of electronics rather than designers of electronic circuits and ICs. As with any discipline, however, the basics must be mastered before the overall system characteristics and limitations can be understood. In electronics, the discrete circuit must be thoroughly studied and analyzed before the operation, properties, and limitations of an IC can be fully appreciated. nea80644_pro01_001-006.qxd 06/08/2009 04:44 PM Page 6 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-PROL Folder:MHDQ134-P nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 7 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Semiconductor Devices and Basic Applications 1 In the first part of the text, we introduce the physical and electrical characteristics of the major semiconductor devices. Various basic circuits in which these devices are used are analyzed. This introduction will illustrate how the device characteristics are utilized in switching, digital, and amplification applications. Chapter 1 briefly discusses semiconductor material characteristics and then introduces the semiconductor diode. Chapter 2 looks at various diode circuits that demonstrate how the nonlinear characteristics of the diode itself are used in switching and waveshaping applications. Chapter 3 introduces the metal-oxide- semiconductor field-effect transistor (MOSFET), presents the dc analysis of MOS transistor circuits, and discusses basic applications of this transistor. In Chapter 4, we analyze and design fundamental MOS transistor circuits, including amplifiers. Chapter 5 introduces the bipolar transistor, presents the dc analysis of bipolar transistor circuits, and discusses basic applications of this transistor. Various bipolar transistor circuits, including amplifiers, are analyzed and designed in Chapter 6. Chapter 7 considers the frequency response of both MOS and bipolar transistor circuits. Finally, Chapter 8 discusses the designs and applications of these basic electronic circuits, including power amplifiers and various output stages. 7 7 PART"
PART 1: SEMICONDUCTOR DEVICES AND BASIC APPLICATIONS,"1: Semiconductor Devices and Basic Applications 1 In the first part of the text, we introduce the physical and electrical characteristics of the major semiconductor devices. Various basic circuits in which these devices are used are analyzed. This introduction will illustrate how the device characteristics are utilized in switching, digital, and amplification applications. Chapter 1 briefly discusses semiconductor material characteristics and then introduces the semiconductor diode. Chapter 2 looks at various diode circuits that demonstrate how the nonlinear characteristics of the diode itself are used in switching and waveshaping applications. Chapter 3 introduces the metal-oxide- semiconductor field-effect transistor (MOSFET), presents the dc analysis of MOS transistor circuits, and discusses basic applications of this transistor. In Chapter 4, we analyze and design fundamental MOS transistor circuits, including amplifiers. Chapter 5 introduces the bipolar transistor, presents the dc analysis of bipolar transistor circuits, and discusses basic applications of this transistor. Various bipolar transistor circuits, including amplifiers, are analyzed and designed in Chapter 6. Chapter 7 considers the frequency response of both MOS and bipolar transistor circuits. Finally, Chapter 8 discusses the designs and applications of these basic electronic circuits, including power amplifiers and various output stages. 7 7 PART nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 8 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 9 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Semiconductor Materials and Diodes 1 This text deals with the analysis and design of circuits containing electronic devices, such as diodes and transistors. These electronic devices are fabricated using semiconductor materials, so we begin Chapter 1 with a brief discussion of the properties and characteristics of semiconductors. The intent of this brief discussion is to become familiar with some of the semiconductor material terminology, and to gain an understanding of the mechanisms that generate currents in a semiconductor. A basic electronic device is the pn junction diode. The diode is a two-terminal device, but the iv relationship is nonlinear. Since the diode is a nonlinear element, the analysis of circuits containing diodes is not as straightforward as the analysis of simple linear resistor circuits. A goal of the chapter is to become familiar with the analysis of diode circuits. PREVIEW In this chapter, we will: • Gain a basic understanding of a few semiconductor material properties including the two types of charged carriers that exist in a semiconductor and the two mechanisms that generate currents in a semiconductor. • Determine the properties of a pn junction including the ideal current–voltage characteristics of the pn junction diode. • Examine dc analysis techniques for diode circuits using various models to describe the nonlinear diode characteristics. • Develop an equivalent circuit for a diode that is used when a small, time- varying signal is applied to a diode circuit. • Gain an understanding of the properties and characteristics of a few specialized diodes. • As an application, design a simple electronic thermometer using the temperature characteristics of a diode. 9 Chapter"
Chapter 1: Semiconductor Materials and Diodes,"1: Semiconductor Materials and Diodes 1 This text deals with the analysis and design of circuits containing electronic devices, such as diodes and transistors. These electronic devices are fabricated using semiconductor materials, so we begin Chapter 1 with a brief discussion of the properties and characteristics of semiconductors. The intent of this brief discussion is to become familiar with some of the semiconductor material terminology, and to gain an understanding of the mechanisms that generate currents in a semiconductor. A basic electronic device is the pn junction diode. The diode is a two-terminal device, but the iv relationship is nonlinear. Since the diode is a nonlinear element, the analysis of circuits containing diodes is not as straightforward as the analysis of simple linear resistor circuits. A goal of the chapter is to become familiar with the analysis of diode circuits. PREVIEW In this chapter, we will: • Gain a basic understanding of a few semiconductor material properties including the two types of charged carriers that exist in a semiconductor and the two mechanisms that generate currents in a semiconductor. • Determine the properties of a pn junction including the ideal current–voltage characteristics of the pn junction diode. • Examine dc analysis techniques for diode circuits using various models to describe the nonlinear diode characteristics. • Develop an equivalent circuit for a diode that is used when a small, time- varying signal is applied to a diode circuit. • Gain an understanding of the properties and characteristics of a few specialized diodes. • As an application, design a simple electronic thermometer using the temperature characteristics of a diode. 9 Chapter"
Preview,"PREVIEW In this chapter, we will: • Gain a basic understanding of a few semiconductor material properties including the two types of charged carriers that exist in a semiconductor and the two mechanisms that generate currents in a semiconductor. • Determine the properties of a pn junction including the ideal current–voltage characteristics of the pn junction diode. • Examine dc analysis techniques for diode circuits using various models to describe the nonlinear diode characteristics. • Develop an equivalent circuit for a diode that is used when a small, time- varying signal is applied to a diode circuit. • Gain an understanding of the properties and characteristics of a few specialized diodes. • As an application, design a simple electronic thermometer using the temperature characteristics of a diode. 9 Chapter nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 10 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 10 Part 1 Semiconductor Devices and Basic Applications 1.1 SEMICONDUCTOR MATERIALS AND PROPERTIES Objective: • Gain a basic understanding of a few semiconductor material properties including the two types of charged carriers that exist in a semiconductor and the two mechanisms that generate currents in a semiconductor. Most electronic devices are fabricated by using semiconductor materials along with conductors and insulators. To gain a better understanding of the behavior of the electronic devices in circuits, we must first understand a few of the characteristics of the semiconductor material. Silicon is by far the most common semiconductor material used for semiconductor devices and integrated circuits. Other semiconductor materials are used for specialized applications. For example, gallium arsenide and related compounds are used for very high speed devices and optical devices. A list of some semiconductor materials is given in Table 1.1. 1.1.1 Intrinsic Semiconductors An atom is composed of a nucleus, which contains positively charged protons and neutral neutrons, and negatively charged electrons that, in the classical sense, orbit the nucleus. The electrons are distributed in various “shells” at different distances from the nucleus, and electron energy increases as shell radius increases. Electrons in the outermost shell are called valence electrons, and the chemical activity of a material is determined primarily by the number of such electrons. Elements in the periodic table can be grouped according to the number of valence electrons. Table 1.2 shows a portion of the periodic table in which the more common semiconductors are found. Silicon (Si) and germanium (Ge) are in group IV and are elemental semiconductors. In contrast, gallium arsenide is a group III–V compound semiconductor. We will show that the elements in group III and group V are also important in semiconductors. Figure 1.1(a) shows five noninteracting silicon atoms, with the four valence electrons of each atom shown as dashed lines emanating from the atom. As silicon Table 1.1 A list of some semiconductor materials Elemental Compound semiconductors semiconductors Si Silicon GaAs Gallium arsenide Ge Germanium GaP Gallium phosphide AlP Aluminum phosphide AlAs Aluminum arsenide InP Indium phosphide"
1.1 Semiconductor Materials and Properties,"1.1 SEMICONDUCTOR MATERIALS AND PROPERTIES Objective: • Gain a basic understanding of a few semiconductor material properties including the two types of charged carriers that exist in a semiconductor and the two mechanisms that generate currents in a semiconductor. Most electronic devices are fabricated by using semiconductor materials along with conductors and insulators. To gain a better understanding of the behavior of the electronic devices in circuits, we must first understand a few of the characteristics of the semiconductor material. Silicon is by far the most common semiconductor material used for semiconductor devices and integrated circuits. Other semiconductor materials are used for specialized applications. For example, gallium arsenide and related compounds are used for very high speed devices and optical devices. A list of some semiconductor materials is given in Table 1.1. 1.1.1 Intrinsic Semiconductors An atom is composed of a nucleus, which contains positively charged protons and neutral neutrons, and negatively charged electrons that, in the classical sense, orbit the nucleus. The electrons are distributed in various “shells” at different distances from the nucleus, and electron energy increases as shell radius increases. Electrons in the outermost shell are called valence electrons, and the chemical activity of a material is determined primarily by the number of such electrons. Elements in the periodic table can be grouped according to the number of valence electrons. Table 1.2 shows a portion of the periodic table in which the more common semiconductors are found. Silicon (Si) and germanium (Ge) are in group IV and are elemental semiconductors. In contrast, gallium arsenide is a group III–V compound semiconductor. We will show that the elements in group III and group V are also important in semiconductors. Figure 1.1(a) shows five noninteracting silicon atoms, with the four valence electrons of each atom shown as dashed lines emanating from the atom. As silicon Table 1.1 A list of some semiconductor materials Elemental Compound semiconductors semiconductors Si Silicon GaAs Gallium arsenide Ge Germanium GaP Gallium phosphide AlP Aluminum phosphide AlAs Aluminum arsenide InP Indium phosphide nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 11 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 11 Table 1.2 A portion of the periodic table III IV V 5 6 BC Boron Carbon 13 14 15 Al Si P Aluminum Silicon Phosphorus 31 32 33 Ga Ge As Gallium Germanium Arsenic 49 51 In Sb Indium Antimony atoms come into close proximity to each other, the valence electrons interact to form a crystal. The final crystal structure is a tetrahedral configuration in which each silicon atom has four nearest neighbors, as shown in Figure 1.1(b). The valence electrons are shared between atoms, forming what are called covalent bonds. Germanium, gallium arsenide, and many other semiconductor materials have the same tetrahedral configuration. Figure 1.1(c) is a two-dimensional representation of the lattice formed by the five silicon atoms in Figure 1.1(a). An important property of such a lattice is that valence electrons are always available on the outer edge of the silicon crystal so that additional atoms can be added to form very large single-crystal structures. Si Si Si Si Si Si Si Si Si Si (a) (b) (c) Figure 1.1 Silicon atoms in a crystal matrix: (a) five noninteracting silicon atoms, each with four valence electrons, (b) the tetrahedral configuration, (c) a two-dimensional representation showing the covalent bonding nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 12 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 12 Part 1 Semiconductor Devices and Basic Applications A two-dimensional representation of a silicon single crystal is shown in Figure 1.2, Si Si Si Si for T = 0 K, where T = temperature. Each line between atoms represents a valence electron. At T = 0 K, each electron is in its lowest possible energy state, so each cova- Si Si Si Silent bonding position is filled. If a small electric field is applied to this material, the electrons will not move, because they will still be bound to their individual atoms. Therefore, at T = 0 K, silicon is an insulator; that is, no charge flows through it. Si Si Si Si When silicon atoms come together to form a crystal, the electrons occupy particular allowed energy bands. At T = 0 K, all valence electrons occupy the valence Figure 1.2 Two-dimensional energy band. If the temperature increases, the valence electrons may gain thermal en- representation of single ergy. Any such electron may gain enough thermal energy to break the covalent bond crystal silicon at T = 0 K; and move away from its original position as schematically shown in Figure 1.3. In all valence electrons are order to break the covalent bond, the valence electron must gain a minimum energy, bound to the silicon atoms Eg, called the bandgap energy. The electrons that gain this minimum energy now by covalent bonding exist in the conduction band and are said to be free electrons. These free electrons in the conduction band can move throughout the crystal. The net flow of electrons in the conduction band generates a current. An energy band diagram is shown in Figure 1.4(a). The energy Eν is the maxi- Si Si Si Si mum energy of the valence energy band and the energy Ec is the minimum energy of e – + the conduction energy band. The bandgap energy Eg is the difference between Ec and Si Si Si Si Eν , and the region between these two energies is called the forbidden bandgap. Electrons cannot exist within the forbidden bandgap. Figure 1.4(b) qualitatively Si Si Si Si shows an electron from the valence band gaining enough energy and moving into the conduction band. This process is called generation. Materials that have large bandgap energies, in the range of 3 to 6 electron–volts1 Figure 1.3 The breaking of a T (eV), are insulators because, at room temperature, essentially no free electrons exist covalent bond for > 0 K creating an electron in the in the conduction band. In contrast, materials that contain very large numbers of free conduction band and a electrons at room temperature are conductors. In a semiconductor, the bandgap positively charged “empty energy is on the order of 1 eV. state” The net charge in a semiconductor is zero; that is, the semiconductor is neutral. If a negatively charged electron breaks its covalent bond and moves away from its original position, a positively charged “empty” state is created at that position Conduction Conduction band (–) band Ec Ec Forbidden Electron Eg bandgap generation Ev Ev Valence (+) Valence band band (a) (b) Figure 1.4 (a) Energy band diagram. Vertical scale is electron energy and horizontal scale is distance through the semiconductor, although these scales are normally not explicitly shown. (b) Energy band diagram showing the generation process of creating an electron in the conduction band and the positively charged “empty state” in the valence band. 1An electron–volt is the energy of an electron that has been accelerated through a potential difference of 1 volt, and 1 eV = 1.6 × 10−19 joules. nea80644_ch01_07-066.qxd 06/10/2009 09:55 am Page 13 F506 Hard disk:Desktop Folder:ALI-06-10-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 13 Table 1.3 Semiconductor constants Material Eg (eV) B (cm−3 K−3/2) Silicon (Si) 1.1 5.23 × 1015 Gallium arsenide (GaAs) 1.4 2.10 × 1014 Germanium (Ge) 0.66 1.66 × 1015 (Figure 1.3). As the temperature increases, more covalent bonds are broken, and more free electrons and positive empty states are created. Si Si Si Si A valence electron that has a certain thermal energy and is adjacent to an empty state may move into that position, as shown in Figure 1.5, making it appear as if Si + Si Si + Si a positive charge is moving through the semiconductor. This positively charged “particle” is called a hole. In semiconductors, then, two types of charged particles Si Si Si Si contribute to the current: the negatively charged free electron, and the positively charged hole. (This description of a hole is greatly oversimplified, and is meant only to convey the concept of the moving positive charge.) We may note that the charge of Figure 1.5 A two-dimensional a hole has the same magnitude as the charge of an electron. representation of the silicon The concentrations (#/cm3) of electrons and holes are important parameters in crystal showing the the characteristics of a semiconductor material, because they directly influence the movement of the positively magnitude of the current. An intrinsic semiconductor is a single-crystal semicon- charged “empty state” ductor material with no other types of atoms within the crystal. In an intrinsic semiconductor, the densities of electrons and holes are equal, since the thermally generated electrons and holes are the only source of such particles. Therefore, we use the notation ni as the intrinsic carrier concentration for the concentration of the free electrons, as (well) as that of the holes. The equation for ni is as follows: −Eg n = BT 3/2 i e 2kT (1.1) where Bis a coefficient related to the specific semiconductor material, Eg is the bandgap energy (eV), T is the temperature (K), k is Boltzmann’s constant (86 × 10−6 eV/K), and e, in this context, represents the exponential function. The values for Band Eg for several semiconductor materials are given in Table 1.3. The bandgap energy Eg and coefficient Bare not strong functions of temperature. The intrinsic concentration ni is a parameter that appears often in the current–voltage equations for semiconductor devices. EXAMPLE 1.1 Objective: Calculate the intrinsic carrier concentration in silicon at T = 300 K. Solution: For silic(on a − )t T = 300 K, we can write Eg n = BT 3/2 i e 2kT ( ) = −1.1 (5.23 × 1015)(300)3/2e 2(86×10−6)(300) or ni = 1.5 × 1010cm−3 nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 14 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 14 Part 1 Semiconductor Devices and Basic Applications Comment: An intrinsic electron concentration of 1.5 × 1010 cm−3 may appear to be large, but it is relatively small compared to the concentration of silicon atoms, which is 5 × 1022 cm−3. EXERCISE PROBLEM Ex 1.1: Calculate the intrinsic carrier concentration in gallium arsenide and germanium at T = 300 K. (Ans. GaAs, ni = 1.80 × 106 cm−3; Ge, ni = 2.40 × 1013 cm−3) 1.1.2 Extrinsic Semiconductors Since the electron and hole concentrations in an intrinsic semiconductor are relatively small, only very small currents are possible. However, these concentrations can be greatly increased by adding controlled amounts of certain impurities. A desirable impurity is one that enters the crystal lattice and replaces (i.e., substitutes for) one of the semiconductor atoms, even though the impurity atom does not have the same valence electron structure. For silicon, the desirable substitutional impurities are from the group III and V elements (see Table 1.2). The most common group V elements used for this purpose are phosphorus and arsenic. For example, when a phosphorus atom substitutes for a silicon atom, as shown in Figure 1.6(a), four of its valence electrons are used to satisfy the covalent bond requirements. The fifth valence electron is more loosely bound to the phosphorus atom. At room temperature, this electron has enough thermal energy to break the bond, thus being free to move through the crystal and contribute to the electron current in the semiconductor. When the fifth phosphorus valence electron moves into the conduction band, a positively charged phosphorus ion is created as shown in Figure 1.6(b). The phosphorus atom is called a donor impurity, since it donates an electron that is free to move. Although the remaining phosphorus atom has a net positive charge, the atom is immobile in the crystal and cannot contribute to the current. Therefore, when a donor impurity is added to a semiconductor, free electrons are created without generating holes. This process is called doping, and it allows us to control the concentration of free electrons in a semiconductor. A semiconductor that contains donor impurity atoms is called an n-type semiconductor (for the negatively charged electrons) and has a preponderance of electrons compared to holes. Si Si Si Si Si e– e – Si P Si Si Si P + Si Si Si Si Si Si (a) (b) Figure 1.6 (a) Two-dimensional representation of a silicon lattice doped with a phosphorus atom showing the fifth phosphorus valence electron, (b) the resulting positively charged phosphorus ion after the fifth valence electron has moved into the conduction band nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 15 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 15 Si Si Si Si Si Si + Si Si Si B Si Si Si – B Si Si Si Si Si Si Si Si Si Si (a) (b) Figure 1.7 (a) Two-dimensional representation of a silicon lattice doped with a boron atom showing the vacant covalent bond position, (b) the resulting negatively charged boron ion after it has accepted an electron from the valence band. A positively charged hole is created. The most common group III element used for silicon doping is boron. When a boron atom replaces a silicon atom, its three valence electrons are used to satisfy the covalent bond requirements for three of the four nearest silicon atoms (Figure 1.7(a)). This leaves one bond position open. At room temperature, adjacent silicon valence electrons have sufficient thermal energy to move into this position, thereby creating a hole. This effect is shown in Figure 1.7(b). The boron atom then has a net negative charge, but cannot move, and a hole is created that can contribute to a hole current. Because the boron atom has accepted a valence electron, the boron is therefore called an acceptor impurity. Acceptor atoms lead to the creation of holes without electrons being generated. This process, also called doping, can be used to control the concentration of holes in a semiconductor. A semiconductor that contains acceptor impurity atoms is called a p-type semiconductor (for the positively charged holes created) and has a preponderance of holes compared to electrons. The materials containing impurity atoms are called extrinsic semiconductors, or doped semiconductors. The doping process, which allows us to control the concentrations of free electrons and holes, determines the conductivity and currents in the material. A fundamental relationship between the electron and hole concentrations in a semiconductor in thermal equilibrium is given by n 2 o po = ni (1.2) where no is the thermal equilibrium concentration of free electrons, po is the thermal equilibrium concentration of holes, and ni is the intrinsic carrier concentration. At room temperature (T = 300 K), each donor atom donates a free electron to the semiconductor. If the donor concentration Nd is much larger than the intrinsic concentration, we can approximate n =∼o Nd (1.3) Then, from Equation (1.2), the hole concentration is n2 p = i o (1.4) Nd Similarly, at room temperature, each acceptor atom accepts a valence electron, creating a hole. If the acceptor concentration Na is much larger than the intrinsic concentration, we can approximate p ∼ o = Na (1.5) nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 16 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 16 Part 1 Semiconductor Devices and Basic Applications Then, from Equation (1.2), the electron concentration is = n2 n i o (1.6) Na EXAMPLE 1.2 Objective: Calculate the thermal equilibrium electron and hole concentrations. (a) Consider silicon at T = 300 K doped with phosphorus at a concentration of N = 1016 cm−3. Recall from Example 1.1 that n = 1.5 × 1010 cm−3 d i . Solution: Since Nd  ni , the electron concentration is n ∼ o = N = 1016 d cm−3 and the hole concentration is n2 i (1.5 × 1010)2 p 4 −3 o = = = 2.25 × 10 cm Nd 1016 (b) Consider silicon at T = 300 K doped with boron at a concentration of N 16 −3 a = 5 × 10 cm . Solution: Since Na  ni , the hole concentration is p ∼ o = Na = 5 × 1016 cm−3 and the electron concentration is 2 = ni = (1.5 × 1010)2 no × = 4.5 × 103 cm−3 N 5 1016 a Comment: We see that in a semiconductor doped with donors, the concentration of electrons is far greater than that of the holes. Conversely, in a semiconductor doped with acceptors, the concentration of holes is far greater than that of the electrons. It is also important to note that the difference in the concentrations between electrons and holes in a particular semiconductor is many orders of magnitude. EXERCISE PROBLEM Ex 1.2: (a) Calculate the majority and minority carrier concentrations in silicon at T = 300 K for (i) N = 2 × 1016 cm−3 and (ii) N = 1015 d a cm−3. (b) Repeat part (a) for GaAs. (Ans. (a) (i) no = 2 × 1016 cm−3, p 4 −3 o = 1.125 × 10 cm ; (ii) po = 1015 cm−3, no = 2.25 × 105 cm−3; (b) (i) n 16 o = 2 × 10 cm−3, po = 1.62 × 10−4 cm−3; (ii) p = 1015 cm−3 o , no = 3.24 × 10−3 cm−3). In an n-type semiconductor, electrons are called the majority carrier because they far outnumber the holes, which are termed the minority carrier. The results obtained in Example 1.2 clarify this definition. In contrast, in a p-type semiconductor, the holes are the majority carrier and the electrons are the minority carrier. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 17 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 17 1.1.3 Drift and Diffusion Currents We’ve described the creation of negatively charged electrons and positively charged holes in the semiconductor. If these charged particles move, a current is generated. These charged electrons and holes are simply referred to as carriers. The two basic processes which cause electrons and holes to move in a semiconductor are: (a) drift, which is the movement caused by electric fields, and (b) diffusion, which is the flow caused by variations in the concentration, that is, concentration gradients. Such gradients can be caused by a nonhomogeneous doping distribution, or by the injection of a quantity of electrons or holes into a region, using methods to be discussed later in this chapter. Drift Current Density To understand drift, assume an electric field is applied to a semiconductor. The field produces a force that acts on free electrons and holes, which then experience a net drift velocity and net movement. Consider an n-type semiconductor with a large number of free electrons (Figure 1.8(a)). An electric field E applied in one direction produces a force on the electrons in the opposite direction, because of the electrons’ negative charge. The electrons acquire adrift velocity vdn (in cm/s) which can be written as vdn = −μn E (1.7) where μn is a constant called the electron mobility and has units of cm2/Vs. For low-doped silicon, the value of μn is typically 1350 cm2/Vs. The mobility can be thought of as a parameter indicating how well an electron can move in a semiconductor. The negative sign in Equation (1.7) indicates that the electron drift velocity is opposite to that of the applied electric field as shown in Figure 1.8(a). The electron drift produces adrift current density Jn (A/cm2) given by Jn = −envdn = −en(−μn E) = +enμn E (1.8) where n is the electron concentration (#/cm3) and e, in this context, is the magnitude of the electronic charge. The conventional drift current is in the opposite direction from the flow of negative charge, which means that the drift current in an n-type semiconductor is in the same direction as the applied electric field. Next consider a p-type semiconductor with a large number of holes (Figure l.8(b)). An electric field E applied in one direction produces a force on the holes in the same direction, because of the positive charge on the holes. The holes acquire adrift velocity vdp (in cm/s), which can be written as vdp = +μp E (1.9) n-type p-type E E vdn eh+ vdp Jn Jp (a) (b) Figure 1.8 Directions of applied electric field and resulting carrier drift velocity and drift current density in (a) an n-type semiconductor and (b) a p-type semiconductor nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 18 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 18 Part 1 Semiconductor Devices and Basic Applications where μp is a constant called the hole mobility, and again has units of cm2/Vs. For low-doped silicon, the value of μp is typically 480 cm2/Vs, which is less than half the value of the electron mobility. The positive sign in Equation (1.9) indicates that the hole drift velocity is in the same direction as the applied electric field as shown in Figure 1.8(b). The hole drift produces adrift current density Jp (A/cm2) given by Jp = +epvdp = +ep(+μp E) = +epμp E (1.10) where pis the hole concentration (#/cm3) and e is again the magnitude of the electronic charge. The conventional drift current is in the same direction as the flow of positive charge, which means that the drift current in a p-type material is also in the same direction as the applied electric field. Since a semiconductor contains both electrons and holes, the total drift current density is the sum of the electron and hole components. The total drift current density is then written as 1 J = enμn E + epμp E = σ E = E (1.11(a)) ρ where σ = enμn + epμp (1.11(b)) and where σ is the conductivity of the semiconductor in (–cm)−1 and where ρ = 1/σ is the resistivity of the semiconductor in (–cm). The conductivity is related to the concentration of electrons and holes. If the electric field is the result of applying a voltage to the semiconductor, then Equation (1.11(a)) becomes a linear relationship between current and voltage and is one form of Ohm’s law. From Equation (1.11(b)), we see that the conductivity can be changed from strongly n-type, n  p, by donor impurity doping to strongly p-type, p  n, by acceptor impurity doping. Being able to control the conductivity of a semiconductor by selective doping is what enables us to fabricate the variety of electronic devices that are available. EXAMPLE 1.3 Objective: Calculate the drift current density for a given semiconductor. Consider silicon at T = 300 K doped with arsenic atoms at a concentration of N = 8 × 1015 cm−3 d . Assume mobility values of μ 2 n = 1350 cm /Vs and μp = 480 cm2/Vs. Assume the applied electric field is 100 V/cm. Solution: The electron and hole concentrations are n ∼= N = 8 × 1015 cm−3 d and = n2 i = (1.5 × 1010)2 p = 2.81 × 104 cm−3 Nd 8 × 1015 Because of the difference in magnitudes between the two concentrations, the conductivity is given by σ = eμnn + eμp p ∼= eμnn nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 19 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 19 or σ = (1.6 × 10−19)(1350)(8 × 1015) = 1.73(–cm)−1 The drift current density is then J = σ E = (1.73)(100) = 173 A/cm2 Comment: Since n  p, the conductivity is essentially a function of the electron concentration and mobility only. We may note that a current density of a few hundred amperes per square centimeter can be generated in a semiconductor. EXERCISE PROBLEM Ex 1.3: Consider n-type GaAs at T = 300 K doped to a concentration of N = 2 × 1016 cm−3 d . Assume mobility values of μn = 6800 cm2/Vs and μp = 300 cm2/Vs. (a) Determine the resistivity of the material. (b) Determine the applied electric field that will induce adrift current density of 175 A/cm2. (Ans. (a) 0.0460 –cm, (b) 8.04 V/cm). Note: Two factors need to be mentioned concerning drift velocity and mobility. Equations (1.7) and (1.9) imply that the carrier drift velocities are linear functions of the applied electric field. This is true for relatively small electric fields. As the electric field increases, the carrier drift velocities will reach a maximum value of approximately 107 cm/s. Any further increase in electric field will not produce an increase in drift velocity. This phenomenon is called drift velocity saturation. Electron and hole mobility values were given in Example 1.3. The mobility values are actually functions of donor and/or acceptor impurity concentrations. As the impurity concentration increases, the mobility values will decrease. This effect then means that the conductivity, Equation (1.11(b)), is not a linear function of impurity doping. These two factors are important in the design of semiconductor devices, but will not be considered in detail in this text. Diffusion Current Density In the diffusion process, particles flow from a region of high concentration to a region of lower concentration. This is a statistical phenomenon related to kinetic theory. To explain, the electrons and holes in a semiconductor are in continuous motion, with an average speed determined by the temperature, and with the directions randomized by interactions with the lattice atoms. Statistically, we can assume that, at any particular instant, approximately half of the particles in the high-concentration region are moving away from that region toward the lower-concentration region. We can also assume that, at the same time, approximately half of the particles in the lower- concentration region are moving toward the high-concentration region. However, by definition, there are fewer particles in the lower-concentration region than there are in the high-concentration region. Therefore, the net result is a flow of particles away from the high-concentration region and toward the lower-concentration region. This is the basic diffusion process. For example, consider an electron concentration that varies as a function of distance x, as shown in Figure 1.9(a). The diffusion of electrons from a high-concentration region nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 20 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 20 Part 1 Semiconductor Devices and Basic Applications n p Electron Hole diffusion diffusion Electron diffusion Hole diffusion current density current density xx (a) (b) Figure 1.9 (a) Assumed electron concentration versus distance in a semiconductor, and the resulting electron diffusion and electron diffusion current density, (b) assumed hole concentration versus distance in a semiconductor, and the resulting hole diffusion and hole diffusion current density to a low-concentration region produces a flow of electrons in the negative x direction. Since electrons are negatively charged, the conventional current direction is in the positive x direction. The diffusion current density due to the diffusion of electrons can be written as (for one dimension) = dn Jn eDn (1.12) dx where e, in this context, is the magnitude of the electronic charge, dn/dx is the gradient of the electron concentration, and Dn is the electron diffusion coefficient. In Figure 1.9(b), the hole concentration is a function of distance. The diffusion of holes from a high-concentration region to a low-concentration region produces a flow of holes in the negative x direction. (Conventional current is in the direction of the flow of positive charge.) The diffusion current density due to the diffusion of holes can be written as (for one dimension) = − dp Jp eDp (1.13) dx where e is still the magnitude of the electronic charge, dp/dx is the gradient of the hole concentration, and Dp is the hole diffusion coefficient. Note the change in sign between the two diffusion current equations. This change in sign is due to the difference in sign of the electronic charge between the negatively charged electron and the positively charged hole. EXAMPLE 1.4 Objective: Calculate the diffusion current density for a given semiconductor. Consider silicon at T = 300 K. Assume the electron concentration varies linearly from n = 1012 cm−3 ton = 1016 cm−3 over the distance from x = 0 to x = 3 μm. Assume D = 35 cm2 n /s. Solution: We have ( ) dn n 1012 − 1016 Jn = eDn = eDn = (1.6 × 10−19)(35) dx x 0 − 3 × 10−4 nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 21 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 21 or Jn = 187 A/cm2 Comment: Diffusion current densities on the order of a few hundred amperes per square centimeter can also be generated in a semiconductor. EXERCISE PROBLEM Ex 1.4: Consider silicon at T = 300 K. Assume the hole concentration is given by p = 1016e−x/L p (cm−3), where L p = 10−3 cm. Calculate the hole diffusion current density at (a) x = 0 and (b) x = 10−3cm. Assume Dp = 10 cm2/s. (Ans. (a) 16 A/cm2, (b) 5.89 A/cm2) The mobility values in the drift current equations and the diffusion coefficient values in the diffusion current equations are not independent quantities. They are related by the Einstein relation, which is Dn = Dp = kT =∼ 0.026 V (1.14) μn μp eat room temperature. The total current density is the sum of the drift and diffusion components. Fortunately, in most cases only one component dominates the current at anyone time in a given region of a semiconductor. DESIGN POINTER In the previous two examples, current densities on the order of 200 A/cm2 have been calculated. This implies that if a current of 1 mA, for example, is required in a semiconductor device, the size of the device is small. The total current is given by I = JA, where A is the cross-sectional area. For I = 1 mA = 1 × 10−3 A and J = 200 A/cm2, the cross-sectional area is A = 5 × 10−6 cm2. This simple calculation again shows why semiconductor devices are small in size. 1.1.4 Excess Carriers Up to this point, we have assumed that the semiconductor is in thermal equilibrium. In the discussion of drift and diffusion currents, we implicitly assumed that equilibrium was not significantly disturbed. Yet, when a voltage is applied to, or a current exists in, a semiconductor device, the semiconductor is really not in equilibrium. In this section, we will discuss the behavior of nonequilibrium electron and hole concentrations. Valence electrons may acquire sufficient energy to break the covalent bond and become free electrons if they interact with high-energy photons incident on the semiconductor. When this occurs, both an electron and a hole are produced, thus generating nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 22 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 22 Part 1 Semiconductor Devices and Basic Applications an electron–hole pair. These additional electrons and holes are called excess electrons and excess holes. When these excess electrons and holes are created, the concentrations of free electrons and holes increase above their thermal equilibrium values. This maybe represented by n = no + δn (1.15(a)) and p = po + δp (1.15(b)) where no and po are the thermal equilibrium concentrations of electrons and holes, and δn and δp are the excess electron and hole concentrations. If the semiconductor is in a steady-state condition, the creation of excess electrons and holes will not cause the carrier concentration to increase indefinitely, because a free electron may recombine with a hole, in a process called electron–hole recombination. Both the free electron and the hole disappear causing the excess concentration to reach a steady-state value. The meantime over which an excess electron and hole exist before recombination is called the excess carrier lifetime. Excess carriers are involved in the current mechanisms of, for example, solar cells and photodiodes. These devices are discussed in Section 1.5. Test Your Understanding TYU 1.1 Determine the intrinsic carrier concentration in silicon, germanium, and GaAs at (a) T = 400 K and (b) T = 250 K. (Ans. (a) Si: n = 4.76 × 1012 cm−3 i , Ge: n = 9.06 × 1014 cm−3 , GaAs: n = 2.44 × 109 cm−3 ii ; (b) Si: ni = 1.61 × 108 cm−3, Ge: ni = 1.42 × 1012 cm−3 , GaAs: n 3 −3 i = 6.02 × 10 cm ) TYU 1.2 (a) Consider silicon at T = 300 K. Assume that μn = 1350 cm2/Vs and μp = 480 cm2/Vs. Determine the conductivity and resistivity if (a) N = 2 × 1015 cm−3 a and (b) Nd = 2 × 1017 cm−3 . (Ans. (a) σ = 0.154 (–cm)−1, ρ = 6.51 –cm; (b) σ = 43.2 (–cm)−1, ρ = 0.0231 –cm). TYU 1.3 Using the results of TYU1.2, determine the drift current density if an electric field of 4 V/cm is applied to the semiconductor. (Ans. (a) 0.616 A/cm2, (b) 172.8 A/cm2). TYU 1.4 The electron and hole diffusion coefficients in silicon are Dn = 35 cm2/sand Dp = 12.5 cm2/s, respectively. Calculate the electron and hole diffusion current densities (a) if an electron concentration varies linearly from n = 1015 cm−3 ton = 1016 cm−3 over the distance from x = 0 to x = 2.5 μm and (b) if a hole concentration varies linearly from p = 1014 cm−3 top = 5 × 1015 cm−3 over the distance from x = 0 to x = 4.0 μm. (Ans. (a) Jn = 202 A/cm2, (b) Jp = −24.5 A/cm2) TYU 1.5 A sample of silicon at T = 300 K is doped to Nd = 8 × 1015 cm−3. (a) Calculate no and po. (b) If excess holes and electrons are generated such that their respective concentrations are δn = δp = 1014 cm−3 , determine the total concentrations of holes and electrons. (Ans. (a) no = 8 × 1015 cm−3, po = 2.81 × 104 cm−3; (b) n = 8.1 × 1015 cm−3 , p ≈ 1014 cm−3) nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 23 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 23 1.2 THE pn JUNCTION Objective: • Determine the properties of a pn junction including the ideal current-voltage characteristics of the pn junction diode. In the preceding sections, we looked at characteristics of semiconductor materials. The real power of semiconductor electronics occurs when p- and n-regions are directly adjacent to each other, forming a pn junction. One important concept to remember is that in most integrated circuit applications, the entire semiconductor material is a single crystal, with one region doped to be p-type and the adjacent region doped to be n-type. 1.2.1 The Equilibrium pn Junction Figure 1.10(a) is a simplified block diagram of a pn junction. Figure 1.10(b) shows the respective p-type and n-type doping concentrations, assuming uniform doping in each region, as well as the minority carrier concentrations in each region, assuming thermal equilibrium. Figure 1.10(c) is a three-dimensional diagram of the pn junction showing the cross-sectional area of the device. The interface at x = 0 is called the metallurgical junction. A large density gradient in both the hole and electron concentrations occurs across this junction. Initially, then, there is a diffusion of holes from the p-region into then-region, and a diffusion of electrons from then-region into the p-region (Figure 1.11). The flow of holes from the p-region uncovers negatively charged acceptor ions, and the flow of Doping concentration N Cross-sectional a N area d n 2 n 2 pp n npo = i pno = in Na Nd x = 0 x = 0 x = 0 (a) (b) (c) Figure 1.10 (a) The pn junction: (a) simplified one-dimensional geometry, (b) doping profile of an ideal uniformly doped pn junction, and (c) three-dimensional representation showing the cross-sectional area p-region n-region Na Hole Nd diffusion Electron diffusion x = 0 Figure 1.11 Initial diffusion of electrons and holes across the metallurgical junction at the “instant in time” that the p- and n-regions are joined together"
1.2 The pn Junction,"1.2 THE pn JUNCTION Objective: • Determine the properties of a pn junction including the ideal current-voltage characteristics of the pn junction diode. In the preceding sections, we looked at characteristics of semiconductor materials. The real power of semiconductor electronics occurs when p- and n-regions are directly adjacent to each other, forming a pn junction. One important concept to remember is that in most integrated circuit applications, the entire semiconductor material is a single crystal, with one region doped to be p-type and the adjacent region doped to be n-type. 1.2.1 The Equilibrium pn Junction Figure 1.10(a) is a simplified block diagram of a pn junction. Figure 1.10(b) shows the respective p-type and n-type doping concentrations, assuming uniform doping in each region, as well as the minority carrier concentrations in each region, assuming thermal equilibrium. Figure 1.10(c) is a three-dimensional diagram of the pn junction showing the cross-sectional area of the device. The interface at x = 0 is called the metallurgical junction. A large density gradient in both the hole and electron concentrations occurs across this junction. Initially, then, there is a diffusion of holes from the p-region into then-region, and a diffusion of electrons from then-region into the p-region (Figure 1.11). The flow of holes from the p-region uncovers negatively charged acceptor ions, and the flow of Doping concentration N Cross-sectional a N area d n 2 n 2 pp n npo = i pno = in Na Nd x = 0 x = 0 x = 0 (a) (b) (c) Figure 1.10 (a) The pn junction: (a) simplified one-dimensional geometry, (b) doping profile of an ideal uniformly doped pn junction, and (c) three-dimensional representation showing the cross-sectional area p-region n-region Na Hole Nd diffusion Electron diffusion x = 0 Figure 1.11 Initial diffusion of electrons and holes across the metallurgical junction at the “instant in time” that the p- and n-regions are joined together nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 24 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 24 Part 1 Semiconductor Devices and Basic Applications – –– + + p – –– + + E- field n – –– + + (a) – –– + + x = 0 Potential vbi (b) Figure 1.12 The pn junction in thermal equilibrium. (a) The space charge region with negatively charged acceptor ions in the p-region and positively charged donor ions in then-region; the resulting electric field from then- to the p-region. (b) The potential through the junction and the built-in potential barrier Vbi across the junction. electrons from then-region uncovers positively charged donor ions. This action creates a charge separation (Figure 1.12(a)), which sets up an electric field oriented in the direction from the positive charge to the negative charge. If no voltage is applied to the pn junction, the diffusion of holes and electrons must eventually cease. The direction of the induced electric field will cause the resulting force to repel the diffusion of holes from the p-region and the diffusion of electrons from then-region. Thermal equilibrium occurs when the force produced by the electric field and the “force” produced by the density gradient exactly balance. The positively charged region and the negatively charged region comprise the space-charge region, or depletion region, of the pn junction, in which there are essentially no mobile electrons or holes. Because of the electric field in the space- charge region, there is a potential difference across that region (Figure 1.12(b)). This potential difference is called the built-in potential barrier, or built-in voltage, and is given by ( ) ( ) Vbi = kT Na Nd = Na Nd ln VT ln (1.16) en2 n2 ii where VT ≡ kT/e, k = Boltzmann’s constant, T = absolute temperature, e = the magnitude of the electronic charge, and Na and Nd are the net acceptor and donor concentrations in the p- and n-regions, respectively. The parameter VT is called the thermal voltage and is approximately VT = 0.026 Vat room temperature, T = 300 K. EXAMPLE 1.5 Objective: Calculate the built-in potential barrier of a pn junction. Consider a silicon pn junction at T = 300 K, doped at Na = 1016 cm−3 in the p-region and Nd = 1017cm−3 in then-region. Solution: From the results of Example 1.1, we haven = 1.5 × 1010cm−3 i for silicon at room tempera(ture. We) then find [ ] = Na Nd = (1016)(1017) Vbi VT ln (0.026) ln × = 0.757 V n2 (1.5 1010 2 i ) nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 25 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 25 Comment: Because of the log function, the magnitude of Vbi is not a strong function of the doping concentrations. Therefore, the value of Vbi for silicon pn junctions is usually within 0.1 to 0.2 V of this calculated value. EXERCISE PROBLEM Ex 1.5: (a) Calculate Vbi for a GaAs pn junction at T = 300 K for N = 1016 cm−3 and N = 1017 cm−3 ad (b) Repeat part (a) for a Germanium pn junction with the same doping concentrations. (Ans. (a) Vbi = 1.23 V, (b) Vbi = 0.374 V). The potential difference, or built-in potential barrier, across the space-charge region cannot be measured by a voltmeter because new potential barriers form between the probes of the voltmeter and the semiconductor, canceling the effects of Vbi . In essence, Vbi maintains equilibrium, so no current is produced by this voltage. However, the magnitude of Vbi becomes important when we apply a forward-bias voltage, as discussed later in this chapter. 1.2.2 Reverse-Biased pn Junction Assume a positive voltage is applied to then-region of a pn junction, as shown in Figure 1.13. The applied voltage VR induces an applied electric field, EA , in the semiconductor. The direction of this applied field is the same as that of the E-field in the space-charge region. The magnitude of the electric field in the space-charge region increases above the thermal equilibrium value. This increased electric field holds back the holes in the p-region and the electrons in then-region, so there is essentially no current across the pn junction. By definition, this applied voltage polarity is called reverse bias. When the electric field in the space-charge region increases, the number of positive and negative charges must increase. If the doping concentrations are not changed, the increase in the fixed charge can only occur if the width W of the space- charge region increases. Therefore, with an increasing reverse-bias voltage VR , space-charge width W also increases. This effect is shown in Figure 1.14. W(VR) –ΔQ – – – + + + – – + + +ΔQ – – – + + + EA – – + + pnp n – – – + + + – – + + – – – + + + E- field – – + + W(VR + ΔV ) W R – + – + VR VR VR + ΔVR Figure 1.13 A pn junction with an applied reverse-bias voltage, Figure 1.14 Increase in space-charge showing the direction of the electric field induced by VR and the width with an increase in reverse bias direction of the original space-charge electric field. Both electric voltage from VR to VR + VR . Creation fields are in the same direction, resulting in a larger net electric of additional charges +Q and −Q field and a larger barrier between the p- and n-regions. leads to a junction capacitance. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 26 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 26 Part 1 Semiconductor Devices and Basic Applications Because of the additional positive and negative charges induced in the space- charge region with an increase in reverse-bias voltage, a capacitance is associated with the pn junction when a reverse-bias voltage is applied. This junction capacitance, or depl(etion laye)r capacitance, can be written in the form V −1/2 C = C + R j jo 1 (1.17) Vbi where Cjo is the junction capacitance at zero applied voltage. The junction capacitance will affect the switching characteristics of the pn junction, as we will see later in the chapter. The voltage across a capacitance cannot change instantaneously, so changes in voltages in circuits containing pn junctions will not occur instantaneously. The capacitance–voltage characteristics can make the pn junction useful for electrically tunable resonant circuits. Junctions fabricated specifically for this purpose are called varactor diodes. Varactor diodes can be used in electrically tunable oscillators, such as a Hartley oscillator, discussed in Chapter 15, or in tuned amplifiers, considered in Chapter 8. EXAMPLE 1.6 Objective: Calculate the junction capacitance of a pn junction. Consider a silicon pn junction at T = 300 K, with doping concentrations of Na = 1016 cm−3 and Nd = 1015 cm−3. Assume that n = 1.5 × 1010 −3 i cm and let Cjo = 0.5 pF. Calculate the junction capacitance at VR = 1 V and VR = 5 V. Solution: The b(uilt-in po)tential is deter[mined by ] = Na Nd = (1016)(1015) Vbi VT ln (0.026) ln = 0.637 V n2 (1.5 × 1010)2 i The junction c(apacitanc)e for VR = 1 (V is then fou)nd to be −1/2 −1/2 Cj = + VR = + 1 Cjo 1 (0.5) 1 = 0.312 pF Vbi 0.637 For VR = 5 V ( )−1/2 5 Cj = (0.5) 1 + = 0.168 pF 0.637 Comment: The magnitude of the junction capacitance is usually at or below the picofarad range, and it decreases as the reverse-bias voltage increases. EXERCISE PROBLEM Ex 1.6: A silicon pn junction at T = 300 K is doped at N = 1016 cm−3 d and N = 1017 cm−3 a . The junction capacitance is to be Cj = 0.8 pF when a reverse- bias voltage of VR = 5 V is applied. Find the zero-biased junction capacitance Cjo. (Ans. Cjo = 2.21 pF) As implied in the previous section, the magnitude of the electric field in the space-charge region increases as the reverse-bias voltage increases, and the maximum nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 27 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 27 electric field occurs at the metallurgical junction. However, neither the electric field in the space-charge region nor the applied reverse-bias voltage can increase indefinitely because at some point, breakdown will occur and a large reverse bias current will be generated. This concept will be described in detail later in this chapter. 1.2.3 Forward-Biased pn Junction We have seen that then-region contains many more free electrons than the p-region; similarly, the p-region contains many more holes than then-region.With zero applied voltage, the built-in potential barrier prevents these majority carriers from diffusing across the space-charge region; thus, the barrier maintains equilibrium between the carrier distributions on either side of the pn junction. If a positive voltage vD is applied to the p-region, the potential barrier decreases (Figure 1.15). The electric fields in the space-charge region are very large compared to those in the remainder of the p- and n-regions, so essentially all of the applied voltage exists across the pn junction region. The applied electric field, EA, induced by the applied voltage is in the opposite direction from that of the thermal equilibrium space-charge E-field. However, the net electric field is always from then- to the p-region. The net result is that the electric field in the space-charge region is lower than the equilibrium value. This upsets the delicate balance between diffusion and the E-field force. Majority carrier electrons from then-region diffuse into the p-region, and majority carrier holes from the p-region diffuse into then-region. The process continues as long as the voltage vD is applied, thus creating a current in the pn junction. This process would be analogous to lowering a dam wall slightly. A slight drop in the wall height can send a large amount of water (current) over the barrier. This applied voltage polarity (i.e., bias) is known as forward bias. The forward- bias voltage vD must always be less than the built-in potential barrier Vbi. As the majority carriers cross into the opposite regions, they become minority carriers in those regions, causing the minority carrier concentrations to increase. Figure 1.16 shows the resulting excess minority carrier concentrations at the space- charge region edges. These excess minority carriers diffuse into the neutral n- and p-regions, where they recombine with majority carriers, thus establishing a steady- state condition, as shown in Figure 1.16. – – + + – – + +E-field p – – n + + EA – + + iD + – vD Figure 1.15 A pn junction with an applied forward-bias voltage showing the direction of the electric field induced by VD and the direction of the original space-charge electric field. The two electric fields are in opposite directions resulting in a smaller net electric field and a smaller barrier between the p- and n-regions. The net electric field is always from then- to the p-region. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 28 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 28 Part 1 Semiconductor Devices and Basic Applications pnp (x = 0) Holes n np(x' = 0) Electrons Excess electron Excess hole concentration concentration n pp(x') n(x) npo pno x' x' = 0 x = 0 x Figure 1.16 Steady-state minority carrier concentrations in a pn junction under forward bias. The gradients in the minority carrier concentrations generate diffusion currents in the device. 1.2.4 Ideal Current–Voltage Relationship As shown in Figure 1.16, an applied voltage results in a gradient in the minority carrier concentrations, which in turn causes diffusion currents. The theoretical relationship between[ th(e vo)ltage] and the current in the pn junction is given by vD i nV D = IS e T − 1 (1.18) The parameter IS is the reverse-bias saturation current. For silicon pn junctions, typical values of I are in the range of 10−18 to 10−12 SA. The actual value depends on the doping concentrations and is also proportional to the cross-sectional area of the junction. The parameter VT is the thermal voltage, as defined in Equation (1.16), and is approximately VT = 0.026 Vat room temperature. The parameter n is usually called the emission coefficient or ideality factor, and its value is in the range 1 ≤ n ≤ 2. The emission coefficient n takes into account any recombination of electrons and holes in the space-charge region. At very low current levels, recombination maybe a significant factor and the value of n maybe close to 2. At higher current levels, recombination is less a factor, and the value of n will be 1. Unless otherwise stated, we will assume the emission coefficient is n = 1. This pn junction, with nonlinear rectifying current characteristics, is called a pn junction diode. EXAMPLE 1.7 Objective: Determine the current in a pn junction diode. Consider a pn junction at T = 300 Kin which IS = 10−14 A and n = 1. Find the diode current for vD = +0.70 V and vD = −0.70 V. Solution: Fo[r v(D =) +0].70 V, the pn[ junction is ]forward-biased and we find v = D +0.70 iD IS e VT − 1 = (10−14) e( 0.026 ) − 1 ⇒ 4.93 mA For vD = −0[.7(0 V), the ]pn junction i[s reverse-bia]sed and we find v = D − = −14 ( −0.70 i I e VT 1 (10 ) e ) − 1 ∼= −10−14 D S 0.026 A nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 29 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 29 Comment: Although IS is quite small, even a relatively small value of forward-bias voltage can induce a moderate junction current. With a reverse-bias voltage applied, the junction current is virtually zero. EXERCISE PROBLEM Ex 1.7: (a) A silicon pn junction at T = 300 K has a reverse-saturation current of I = 2 × 10−14 SA. Determine the required forward-bias voltage to produce a current of (i) ID = 50 μA and (ii) ID = 1 mA. (b) Repeat part (a) for IS = 2 × 10−12 A. (Ans. (a) (i) 0.563 V, (ii) 0.641 V; (b) (i) 0.443 V, (ii) 0.521 V). 1.2.5 pn Junction Diode Figure 1.17 is a plot of the derived current–voltage characteristics of a pn junction. For a forward-bias voltage, the current is an exponential function of voltage. Figure 1.18 depicts the forward-bias current plotted on a log scale. With only a small change in the forward-bias voltage, the corresponding forward-bias current increases by orders of magnitude. For a forward-bias voltage vD > +0.1 V, the (−1) term in Equation (1.18) can be neglected. In the reverse-bias direction, the current is almost zero. Figure 1.19 shows the diode circuit symbol and the conventional current direction and voltage polarity. The diode can be thought of and used as a voltage controlled switch that is “off” for a reverse-bias voltage and “on” for a forward-bias voltage. In the forward-bias or “on” state, a relatively large current is produced by a fairly small applied voltage; in the reverse-bias, or “off” state, only a very small current is created. iD (mA) 5 4 3 2 Forward-bias region 1 Reverse-bias region –1.0 0 1.0 vD (V) iD = – IS Figure 1.17 Ideal IV characteristics of a pn junction diode for IS = 10−14 A. The diode current is an exponential function of diode voltage in the forward-bias region and is very nearly zero in the reverse-bias region. The pn junction diode is a nonlinear electronic device. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 30 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 30 Part 1 Semiconductor Devices and Basic Applications iD (A) 10–3 10–4 10–5 10–6 10–7 10–8 10–9 10–10 10–11 10–12 10–13 10–14 IS 0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 vD (V) Figure 1.18 Ideal forward-biased IV characteristics of a pn junction diode, with the current plotted analog scale for I = 10−14 SA and n = 1. The diode current increases approximately one order of magnitude for every 60-mV increase in diode voltage. p n When a diode is reverse-biased by at least 0.1 V, the diode current is iD = −IS . The i current is in the reverse direction and is a constant, hence the name reverse-bias satura- D + vD – tion current. Real diodes, however, exhibit reverse-bias currents that are considerably (a) larger than IS. This additional current is called a generation current and is due to electrons and holes being generated within the space-charge region. Whereas atypical value of IS maybe 10−14 A, atypical value of reverse-bias current maybe 10−9 A or 1 nA. Even iD + vD – though this current is much larger than IS, it is still small and negligible in most cases. (b) Temperature Effects Figure 1.19 The basic pn Since both IS and VT are functions of temperature, the diode characteristics also vary with junction diode: (a) simplified temperature. The temperature-related variations in forward-bias characteristics are illus- geometry and (b) circuit trated in Figure 1.20. For a given current, the required forward-bias voltage decreases as symbol, and conventional current direction and voltage temperature increases. For silicon diodes, the change is approximately 2 mV/°C. polarity The parameter IS is a function of the intrinsic carrier concentration ni, which in turn is strongly dependent on temperature. Consequently, the value of IS approximately doubles for every 5 °C increase in temperature. The actual reverse-bias diode current, as a general rule, doubles for every 10 °C rise in temperature. As an example of the importance of this effect, the relative value of ni in germanium, is large, resulting in a large reverse-saturation current in germanium-based diodes. Increases in this reverse current with increases in the temperature make the germanium diode highly impractical for most circuit applications. Breakdown Voltage When a reverse-bias voltage is applied to a pn junction, the electric field in the space- charge region increases. The electric field may become large enough that covalent nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 31 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 31 ii T T TD D 2 1 0 BV2 BV1 v TD 2 > T1 > T0 Low doped High doped 0 vD Figure 1.20 Forward-biased pn junction Figure 1.21 Reverse-biased diode characteristics characteristics versus temperature. The required showing breakdown for a low-doped pn junction and diode voltage to produce a given current decreases a high-doped pn junction. The reverse-bias current with an increase in temperature. increases rapidly once breakdown has occurred. bonds are broken and electron–hole pairs are created. Electrons are swept into then-region and holes are swept into the p-region by the electric field, generating a large reverse bias current. This phenomenon is called breakdown. The reverse-bias current created by the breakdown mechanism is limited only by the external circuit. If the current is not sufficiently limited, a large power can be dissipated in the junction that may damage the device and cause burnout. The current–voltage characteristic of a diode in breakdown is shown in Figure 1.21. The most common breakdown mechanism is called avalanche breakdown, which occurs when carriers crossing the space charge region gain sufficient kinetic energy from the high electric field to be able to break covalent bonds during a collision process. The basic avalanche multiplication process is demonstrated in Figure 1.22. The generated electron–hole pairs can themselves be involved in a collision process generating additional electron–hole pairs, thus the avalanche process. The breakdown voltage is a function of the doping concentrations in the p Space charge region n E – Field (+) (–) (+) (–)⊗ (–) (+) n (–)⊗ (–) p pn Diffusion of (–)⊗ Diffusion electrons (–) of holes Figure 1.22 The avalanche multiplication process in the space charge region. Shown are the collisions of electrons creating additional electron–hole pairs. Holes can also be involved in collisions creating additional electron–hole pairs. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 32 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 32 Part 1 Semiconductor Devices and Basic Applications n- and p-regions of the junction. Larger doping concentrations result in smaller breakdown voltages. A second breakdown mechanism is called Zener breakdown and is a result of tunneling of carriers across the junction. This effect is prominent at very high doping concentrations and results in breakdown voltages less than 5 V. The voltage at which breakdown occurs depends on fabrication parameters of the pn junction, but is usually in the range of 50 to 200 V for discrete devices, although breakdown voltages outside this range are possible—in excess of 1000 V, for example. A pn junction is usually rated in terms of its peak inverse voltage or PIV. The PIV of a diode must never be exceeded in circuit operation if reverse breakdown is to be avoided. Diodes can be fabricated with a specifically designed breakdown voltage and are designed to operate in the breakdown region. These diodes are called Zener diodes and are discussed later in this chapter as well as in the next chapter. Switching Transient Since the pn junction diode can be used as an electrical switch, an important parameter is its transient response, that is, its speed and characteristics, as it is switched from one state to the other. Assume, for example, that the diode is switched from the forward-bias “on” state to the reverse-bias “off” state. Figure 1.23 shows a simple circuit that will switch the applied voltage at time t = 0. Fort < 0, the forward-bias current iD is = = Vi IF − vD D F (1.19) RF The minority carrier concentrations for an applied forward-bias voltage and an applied reverse-bias voltage are shown in Figure 1.24. Here, we neglect the change in the space charge region width. When a forward-bias voltage is applied, excess minority carrier charge is stored in both the p- and n-regions. The excess charge is the difference between the minority carrier concentrations for a forward-bias voltage and those for a reverse-bias voltage as indicated in the figure. This charge must be removed when the diode is switched from the forward to the reverse bias. Minority carrier concentrations i + vD – D pnp n t = 0 Forward bias IF Excess minority Excess minority carrier electrons carrier holes RF RR IR + – VF VR – + x' = 0 x = 0 Reverse bias Figure 1.23 Simple circuit for switching a Figure 1.24 Stored excess minority carrier charge diode from forward to reverse bias under forward bias compared to reverse bias. This charge must be removed as the diode is switched from forward to reverse bias. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 33 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 33 iD IF Time 0.1IR –IR ts tf Figure 1.25 Current characteristics versus time during diode switching As the forward-bias voltage is removed, relatively large diffusion currents are created in the reverse-bias direction. This happens because the excess minority carrier electrons flow back across the junction into then-region, and the excess minority carrier holes flow back across the junction into the p-region. The large reverse-bias current is initially limited by resistor RR to approximately = − ∼= −Vi IR DR (1.20) RR The junction capacitances do not allow the junction voltage to change instantaneously. The reverse current IR is approximately constant for 0+ < t < ts , where ts is the storage time, which is the length of time required for the minority carrier concentrations at the space-charge region edges to reach the thermal equilibrium values. After this time, the voltage across the junction begins to change. The fall time tf is typically defined as the time required for the current to fall to 10 percent of its initial value. The total turnoff time is the sum of the storage time and the fall time. Figure 1.25 shows the current characteristics as this entire process takes place. In order to switch a diode quickly, the diode must have a small excess minority carrier lifetime, and we must be able to produce a large reverse current pulse. Therefore, in the design of diode circuits, we must provide a path for the transient reverse-bias current pulse. These same transient effects impact the switching of transistors. For example, the switching speed of transistors in digital circuits will affect the speed of computers. The turn-on transient occurs when the diode is switched from the “off” state to the forward-bias “on” state, which can be initiated by applying a forward-bias current pulse. The transient turn-on time is the time required to establish the forward-bias minority carrier distributions. During this time, the voltage across the junction gradually increases toward its steady-state value. Although the turn-on time for the pn junction diode is not zero, it is usually less than the transient turnoff time. Test Your Understanding TYU 1.6 (a) Determine Vbi for a silicon pn junction at T = 300 K for Na = 1015 cm−3 and Nd = 5 × 1016 cm−3 . (b) Repeat part (a) for a GaAs pn junction. (c) Repeat part (a) for a Ge pn junction. (Ans. (a) 0.679 V, (b) 1.15 V, (c) 0.296 V). TYU 1.7 A silicon pn junction diode at T = 300 K has a reverse-saturation current of IS = 10−16 A. (a) Determine the forward-bias diode current for (i) VD = 0.55 V, nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 34 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 34 Part 1 Semiconductor Devices and Basic Applications (ii) VD = 0.65 V, and (iii) VD = 0.75 V, (b) Find the reverse-bias diode current for (i) VD = −0.55 V and (ii) VD = −2.5 V. (Ans. (a) (i) 0.154 μA, (ii) 7.20 μA, (iii) 0.337 mA; (b) (i) −10−16 A, (ii) −10−16 A). TYU 1.8 Recall that the forward-bias diode voltage decreases approximately by 2 mV/◦C for silicon diodes with a given current. If VD = 0.650 Vat ID = 1 mA for a temperature of 25 ◦C, determine the diode voltage at ID = 1 mA for T = 125 ◦C. (Ans. VD = 0.450 V) 1.3 DIODE CIRCUITS: DC ANALYSIS AND MODELS Objective: • Examine dc analysis techniques for diode circuits using various models to describe the diode characteristics. In this section, we begin to study the diode in various circuit configurations. As we have seen, the diode is a two-terminal device with nonlinear iv characteristics, as opposed to a two-terminal resistor, which has a linear relationship between current and voltage. The analysis of nonlinear electronic circuits is not as straightforward as the analysis of linear electric circuits. However, there are electronic functions that can be implemented only by nonlinear circuits. Examples include the generation of dc voltages from sinusoidal voltages and the implementation of logic functions. Mathematical relationships, or models, that describe the current–voltage characteristics of electrical elements allow us to analyze and design circuits without having to fabricate and test them in the laboratory. An example is Ohm’s law, which describes the properties of a resistor. In this section, we will develop the dc analysis and modeling techniques of diode circuits. This section considers the current–voltage characteristics of the pn junction diode in order to construct various circuit models. Large-signal models are initially developed that describe the behavior of the device with relatively large changes in voltages and currents. These models simplify the analysis of diode circuits and make the analysis of relatively complex circuits much easier. In the next section, we will consider a small-signal model of the diode that will describe the behavior of the pn junction with small changes in voltages and currents. It is important to understand the difference between large-signal and small-signal models and the conditions when they are used. To begin to understand diode circuits, consider a simple diode application. The current–voltage characteristics of the pn junction diode were given in Figure 1.17. An ideal diode (as opposed to a diode with ideal IV characteristics) has the characteristics shown in Figure 1.26(a). When a reverse-bias voltage is applied, the current through the diode is zero (Figure 1.26(b)); when current through the diode is greater than zero, the voltage across the diode is zero (Figure 1.26(c)). An external circuit connected to the diode must be designed to control the forward current through the diode. One diode circuit is the rectifier circuit shown in Figure 1.27(a). Assume that the input voltage vI is a sinusoidal signal, as shown in Figure 1.27(b), and the diode is an ideal diode (see Figure 1.26(a)). During the positive half-cycle of the sinusoidal"
1.3 Diode Circuits: DC Analysis and Models,"1.3 DIODE CIRCUITS: DC ANALYSIS AND MODELS Objective: • Examine dc analysis techniques for diode circuits using various models to describe the diode characteristics. In this section, we begin to study the diode in various circuit configurations. As we have seen, the diode is a two-terminal device with nonlinear iv characteristics, as opposed to a two-terminal resistor, which has a linear relationship between current and voltage. The analysis of nonlinear electronic circuits is not as straightforward as the analysis of linear electric circuits. However, there are electronic functions that can be implemented only by nonlinear circuits. Examples include the generation of dc voltages from sinusoidal voltages and the implementation of logic functions. Mathematical relationships, or models, that describe the current–voltage characteristics of electrical elements allow us to analyze and design circuits without having to fabricate and test them in the laboratory. An example is Ohm’s law, which describes the properties of a resistor. In this section, we will develop the dc analysis and modeling techniques of diode circuits. This section considers the current–voltage characteristics of the pn junction diode in order to construct various circuit models. Large-signal models are initially developed that describe the behavior of the device with relatively large changes in voltages and currents. These models simplify the analysis of diode circuits and make the analysis of relatively complex circuits much easier. In the next section, we will consider a small-signal model of the diode that will describe the behavior of the pn junction with small changes in voltages and currents. It is important to understand the difference between large-signal and small-signal models and the conditions when they are used. To begin to understand diode circuits, consider a simple diode application. The current–voltage characteristics of the pn junction diode were given in Figure 1.17. An ideal diode (as opposed to a diode with ideal IV characteristics) has the characteristics shown in Figure 1.26(a). When a reverse-bias voltage is applied, the current through the diode is zero (Figure 1.26(b)); when current through the diode is greater than zero, the voltage across the diode is zero (Figure 1.26(c)). An external circuit connected to the diode must be designed to control the forward current through the diode. One diode circuit is the rectifier circuit shown in Figure 1.27(a). Assume that the input voltage vI is a sinusoidal signal, as shown in Figure 1.27(b), and the diode is an ideal diode (see Figure 1.26(a)). During the positive half-cycle of the sinusoidal nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 35 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 35 iD Conducting iD = 0 iD state Reverse bias + vD – + vD – 0 vD (vD < 0, iD = 0) (iD > 0, vD = 0) (a) (b) (c) Figure 1.26 The ideal diode: (a) the IV characteristics of the ideal diode, (b) equivalent circuit under reverse bias (an open circuit), and (c) equivalent circuit in the conducting state (a short circuit) + vD – v + I iD v + IR vO – 0 p 2p 3p wt (a) (b) i + v D iD = 0 + O v + IR vO v + IR vO = 0 – – 0 p 2p 3p wt vI > 0 vI < 0 (c) (d) (e) Figure 1.27 The diode rectifier: (a) circuit, (b) sinusoidal input signal, (c) equivalent circuit for vI > 0, (d) equivalent circuit for vI < 0, and (e) rectified output signal input, a forward-bias current exists in the diode and the voltage across the diode is zero. The equivalent circuit for this condition is shown in Figure 1.27(c). The output voltage vO is then equal to the input voltage. During the negative half-cycle of the sinusoidal input, the diode is reverse biased. The equivalent circuit for this condition is shown in Figure 1.27(d). In this part of the cycle, the diode acts as an open circuit, the current is zero, and the output voltage is zero. The output voltage of the circuit is shown in Figure 1.27(e). Over the entire cycle, the input signal is sinusoidal and has a zero average value; however, the output signal contains only positive values and therefore has a positive average value. Consequently, this circuit is said to rectify the input signal, which is the first step in generating a dc voltage from a sinusoidal (ac) voltage. A dc voltage is required in virtually all electronic circuits. As mentioned, the analysis of nonlinear circuits is not as straightforward as that of linear circuits. In this section, we will look at four approaches to the dc analysis of diode circuits: (a) iteration; (b) graphical techniques; (c) a piecewise linear modeling method; and (d) a computer analysis. Methods (a) and (b) are closely related and are therefore presented together. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 36 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 36 Part 1 Semiconductor Devices and Basic Applications 1.3.1 Iteration and Graphical Analysis Techniques Iteration means using trial and error to find a solution to a problem. The graphical analysis technique involves plotting two simultaneous equations and locating their point of intersection, which is the solution to the two equations. We will use both techniques to solve the circuit equations, which include the diode equation. These equations are difficult to solve by hand because they contain both linear and exponential terms. R = 2 kΩ Consider, for example, the circuit shown in Figure 1.28, with a dc voltage VPS applied across a resistor and a diode. Kirchhoff’s voltage law applies both to non- + I + D linear and linear circuits, so we can write V = 5 V V PS D – – VPS = ID R + VD (1.21(a)) which can be rewritten as V Figure 1.28 PS VD A simple diode ID = − (1.21(b)) circuit RR [Note: In the remainder of this section in which dc analysis is emphasized, the dc variables are denoted by uppercase letters and uppercase subscripts.] The diod[e (vol)tage V]D and current ID are related by the ideal diode equation as V ID = DIS e VT − 1 (1.22) where IS is assumed to be known for a particular diode. Combining[ Eq(ua)tions ](1.21(a)) and (1.22), we obtain VD VPS = IS Re VT − 1 + VD (1.23) which contains only one unknown, VD . However, Equation (1.23) is a transcendental equation and cannot be solved directly. The use of iteration to find a solution to this equation is demonstrated in the following example. EXAMPLE 1.8 Objective: Determine the diode voltage and current for the circuit shown in Figure 1.28. Consider a diode with a given reverse-saturation current of IS = 10−13 A. Solution: We can write Eq[ua(tion) (1.23]) as VD 5 = (10−13)(2 × 103) e 0.026 − 1 + VD (1.24) If we first try VD = 0.60 V, the right side of Equation (1.24) is 2.7 V, so the equation is not balanced and we must try again. If we next try VD = 0.65 V, the right side of Equation (1.24) is 15.1 V. Again, the equation is not balanced, but we can see that the solution for VD is between 0.6 and 0.65 V. If we continue refining our guesses, we will be able to show that, when VD = 0.619 V, the right side of Equation (1.29) is 4.99 V, which is essentially equal to the value of the left side of the equation. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 37 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 37 The current in the circuit can then be determined by dividing the voltage difference across the resistor by the resistance, or = VI PS − VD D = 5 − 0.619 = 2.19 mA R 2 Comment: Once the diode voltage is known, the current can also be determined from the ideal diode equation. However, dividing the voltage difference across are- sistor by the resistance is usually easier, and this approach is used extensively in the analysis of diode and transistor circuits. EXERCISE PROBLEM Ex 1.8: Consider the circuit in Figure 1.28. Let VP S = 4 V, R = 4 k, and I −12 S = 10 A. Determine VD and ID , using the ideal diode equation and the iteration method. (Ans. VD = 0.535 V, ID = 0.866 mA) To use a graphical approach to analyze the circuit, we go back to Kirchhoff’s voltage law, as expressed by Equation (1.21(a)), which was VP S = ID R + VD . Solving for the current ID , we have ID = VP S − VD RR which was also given by Equation (1.21(b)). This equation gives a linear relation between the diode current ID and the diode voltage VD for a given power supply voltage VP Sand resistance R. This equation is referred to as the circuit load line, and is usually plotted on a graph with the current ID as the vertical axis and the voltage VD as the horizontal axis. From Equation (1.21(b)), we see that if ID = 0, then VD = VP S which is the horizontal axis intercept. Also from this equation, if VD = 0, then ID = VP S/R which is the vertical axis intercept. The load line can be drawn between these two points. From Equation (1.21(b)), we see that the slope of the load line is −1/R. Using the values given in Example (1.8), we can plot the straight line shown in Figure 1.29. The second plot in the figure is that of Equation (1.22), which is the ideal diode equation relating the diode current and voltage. The intersection of the load line and the device characteristics curve provides the dc current ID ≈ 2.2 mA through the diode and the dc voltage VD ≈ 0.62 V across the diode. This point is referred to as the quiescent point, or the Q-point. The graphical analysis method can yield accurate results, but it is somewhat cumbersome. However, the concept of the load line and the graphical approach are useful for “visualizing” the response of a circuit, and the load line is used extensively in the evaluation of electronic circuits. 1.3.2 Piecewise Linear Model Another, simpler way to analyze diode circuits is to approximate the diode’s current–voltage characteristics, using linear relationships or straight lines. Figure 1.30, for example, shows the ideal current–voltage characteristics and two linear approximations. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 38 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 38 Part 1 Semiconductor Devices and Basic Applications ID (mA) 3.0 Diode IV characteristics VPS = 2.5 R Q-point ≈ 2.2 2.0 1.5 Load line 1.0 0.5 0 ≈0.62 1 2 3 4 5 VD (volts) Figure 1.29 The diode and load line characteristics for the circuit shown in Figure 1.28 ID 1 Slope = rf IS Vg VD ID = – IS Figure 1.30 The diode IV characteristics and two linear approximations. The linear approximations form the piecewise linear model of the diode. For VD ≥ Vγ , we assume a straight-line approximation whose slope is 1/r f , where Vγ is the turn-on, or cut-in, voltage of the diode, and r f is the forward diode resistance. The equivalent circuit for this linear approximation is a constant-voltage source in series with a resistor (Figure 1.31(a)).2 For VD < Vγ , we assume a straight-line 2It is important to keep in mind that the voltage source in Figure 1.31(a) only represents a voltage drop for VD ≥ Vγ . When VD < Vγ , the Vγ source does not produce a negative diode current. For VD < Vγ , the equivalent circuit in Figure 1.31(b) must be used. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 39 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 39 ID rf + + ID + ID VD Vg VD – V – – g VD (a) (b) (c) Figure 1.31 The diode piecewise equivalent circuit (a) in the “on” condition when VD ≥ Vγ , (b) in the “off’ condition when VD < Vγ , and (c) piecewise linear approximation when r f = 0. When r f = 0, the voltage across the diode is a constant at VD = Vγ when the diode is conducting. approximation parallel with the VD axis at the zero current level. In this case, the equivalent circuit is an open circuit (Figure 1.31(b)). This method models the diode with segments of straight lines; thus the name piecewise linear model. If we assume r f = 0, the piecewise linear diode characteristics are shown in Figure 1.31(c). EXAMPLE 1.9 Objective: Determine the diode voltage and current in the circuit shown in Figure 1.28, using a piecewise linear model. Also determine the power dissipated in the diode. Assume piecewise linear diode parameters of Vγ = 0.6 V and r f = 10 . Solution: With the given input voltage polarity, the diode is forward biased or “turned on,” so ID > 0. The equivalent circuit is shown in Figure 1.31(a). The diode current is determined by VP S − Vγ 5 − 0.6 ID = + = × + ⇒ 2.19 mA R rf 2 103 10 and the diode voltage is VD = V −3 γ + IDr f = 0.6 + (2.19 × 10 )(10) = 0.622 V The power dissipated in the diode is given by PD = IDVD We then find PD = (2.19)(0.622) = 1.36 mW Comment: This solution, obtained using the piecewise linear model, is nearly equal to the solution obtained in Example 1.8, in which the ideal diode equation was used. However, the analysis using the piecewise-linear model in this example is by far easier than using the actual diode IV characteristics as was done in Example 1.8. In general, we are willing to accept some slight analysis inaccuracy for ease of analysis. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 40 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 40 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 1.9: (a) Consider the circuit shown in Figure 1.28. Let VP S = 8 V and Vγ = 0.7 V, Assume r f = 0. Calculate the value of R such that ID = 1.20 mA. (b) If VP Sis reduced to 4 V and R is changed to 3.5 k, determine the power dissipated in the diode. (Ans. (a) 6.08 k, (b) 0.66 mW). Because the forward diode resistance r fin Example 1.9 is much smaller than the circuit resistance R, the diode current ID is essentially independent of the value of r f . In addition, if the cut-in voltage is 0.7 V instead of 0.6 V, the calculated diode current will be 2.15 mA, which is not significantly different from the previous results. Therefore, the calculated diode current is not a strong function of the cut-in voltage. Consequently, we will often assume a cut-in voltage of 0.7 V for silicon pn junction diodes. The concept of the load line and the piecewise linear model can be combined in diode circuit analyses. From Kirchhoff’s voltage law, the load line for the circuit shown in Figure 1.28 and for the piecewise linear model of the diode can be written as VP S = ID R + Vγ where Vγ is the diode cut-in voltage. We can assume Vγ = 0.7 V. Various load lines can be determined and plotted for the following circuit conditions: A: VP S = 5 V, R = 2 k B: VP S = 5 V, R = 4 k C: VP S = 2.5 V, R = 2 k D: VP S = 2.5 V, R = 4 k The load line for condition A is plotted in Figure 1.32(a). Also plotted in the figure are the piecewise linear characteristics of the diode. The intersection of the two curves corresponds to the Q-point. For this case, the quiescent diode current is I ∼ DQ = 2.15 mA. Figure 1.32(b) shows the same piecewise linear characteristics of the diode. In addition, all four load lines, defined by the conditions listed above in A, B, C, and Dare plotted on the figure. We see that the Q-point of the diode is a function of the load line. The Q-point changes for each load line. The load line concept is also useful when the diode is reverse biased. Figure 1.33 (a) shows the same diode circuit as before, but with the direction of the diode reversed. ID (mA) ID (mA) Q-points 2.5 Q-point 2.5 R = 4 kΩ 2.15 R = 2 kΩ V = 5 V 1.25 PS V = 2.5 V 0.625 PS 0.7 V 5 VD (volts) 0.7 2.5 5 VD (volts) (a) (b) Figure 1.32 Piecewise linear diode approximation superimposed on (a) load line for VP S = 5 V, R = 2 k and (b) several load lines. The Q-point of the diode changes when the load line changes. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 41 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 41 ID Q-point R –5 = 2 kΩ Vg VD + I – PS VPS = 5 V ID VD Load line – + –2.5 mA (a) (b) Figure 1.33 Reverse-biased diode (a) circuit and (b) piecewise linear approximation and load line The diode current ID and voltage VD shown are the usual forward-biased parameters. Applying Kirchhoff’s voltage law, we can write VPS = IPS R − VD = −ID R − VD (1.25(a)) or I = −VPS D − VD (1.25(b)) RR where ID = −IPS . Equation (1.25(b)) is the load line equation. The two endpoints are found by setting ID = 0, which yields VD = −VP S = −5 V, and by setting VD = 0, which yields ID = −VPS/R = −5/2 = −2.5 mA. The diode characteristics and the load line are plotted in Figure 1.33(b). We see that the load line is now in the third quadrant, where it intersects the diode characteristics curve at VD = −5 V and ID = 0, demonstrating that the diode is reverse biased. Although the piecewise linear model may yield solutions that are less accurate than those obtained with the ideal diode equation, the analysis is much easier. 1.3.3 Computer Simulation and Analysis Today’s computers are capable of using detailed simulation models of various components and performing complex circuit analyses quickly and relatively easily. Such models can factor in many diverse conditions, such as the temperature dependence of various parameters. One of the earliest, and now the most widely used, circuit analysis programs is the simulation program with integrated circuit emphasis (SPICE). This program, developed at the University of California at Berkeley, was first released about 1973, and has been continuously refined since that time. One outgrowth of SPICE is PSpice, which is designed for use on personal computers. EXAMPLE 1.10 Objective: Determine the diode current and voltage characteristics of the circuit shown in Figure 1.28 using a PSpice analysis. Solution: Figure 1.34(a) is the PSpice circuit schematic diagram. A standard 1N4002 diode from the PSpice library was used in the analysis. The input voltage V1 was varied (dc sweep) from 0 to 5 V. Figure 1.34(b) and (c) shows the diode voltage and diode current characteristics versus the input voltage. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 42 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 42 Part 1 Semiconductor Devices and Basic Applications R1 2 k + V1 D1 1N4002 – 0 (a) (A) Diode 2A.dat (A) Diode 2A.dat 1.0 V 4.0 mA 0 V 0 A 0 V 2.0 V 4.0 V 6.0 V 0 V 2.0 V 4.0 V 6.0 V V(D1:1) V V1 I(D1) V V1 (b) (c) Figure 1.34 (a) PSpice circuit schematic, (b) diode voltage, and (c) diode current for Example 1.10 Discussion: Several observations maybe made from the results. The diode voltage increases at almost a linear rate up to approximately 400 mV without any discernible (mA) current being measured. For an input voltage greater than approximately 500 mV, the diode voltage increases gradually to a value of about 610 mV at the maximum input voltage. The current also increases to a maximum value of approximately 2.2 mA at the maximum input voltage. The piecewise linear model predicts quite accurate results at the maximum input voltage. However, these results show that there is definitely anon-linear relation between the diode current and diode voltage. We must keep in mind that the piecewise linear model is an approximation technique that works very well in many applications. EXERCISE PROBLEM Ex 1.10: The resistor parameter in the circuit shown in Figure 1.28 is changed to R = 20 k. Using a PSpice analysis, plot the diode current ID and diode voltage VD versus the power supply voltage VP S over the range 0 ≤ VP S ≤ 10 V. 1.3.4 Summary of Diode Models The two dc diode models used in the hand analysis of diode circuits are: the ideal diode equation and the piecewise linear approximation. For the ideal diode equation, the reverse-saturation current IS must be specified. For the piecewise linear model, the cut-in voltage Vγ and forward diode resistance r f must be specified. In most cases, however, r f is assumed to be zero unless otherwise given. The particular model that should be used in a specific application or situation is a compromise between accuracy and ease of calculation. This decision comes with experience. In general, a simple model can be used in an initial design for ease of nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 43 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 43 calculation. In a final design, we may want to use a computer simulation for better accuracy. However, it is very important to understand that the diode model or diode parameters used in the computer simulation must correspond to the actual diode parameters used in the circuit to ensure that the results are meaningful. Test Your Understanding TYU 1.9 Consider the diode and circuit in Exercise EX 1.8. Determine VD and ID , using the graphical technique. (Ans. V ∼ D = 0.54 V, I ∼ D = 0.87 mA) TYU 1.10 Consider the circuit in Figure 1.28. Let R = 4 k and Vγ = 0.7 V. Determine ID for (a) VP S = 0.5 V, (b) VP S = 2 V, (c) VP S = 5 V, (d) VP S = −1 V, and (e) VP S = −5 V. (Ans. (a) 0, (b) 0.325 mA, (c) 1.075 mA, (d) 0, (e) 0). TYU 1.11 The power supply (input) voltage in the circuit of Figure 1.28 is VP S = 10 V and the diode cut-in voltage is Vγ = 0.7 V (assume r f = 0). The power dissipated in the diode is to be no more than 1.05 mW. Determine the maximum diode current and the minimum value of R to meet the power specification. (Ans. ID = 1.5 mA, R = 6.2 k) 1.4 DIODE CIRCUITS: AC EQUIVALENT CIRCUIT Objective: • Develop an equivalent circuit for a diode that is used when a small, time-varying signal is applied to a diode circuit. Up to this point, we have only looked at the dc characteristics of the pn junction diode. When semiconductor devices with pn junctions are used in linear amplifier circuits, the time-varying, or ac, characteristics of the pn junction become important, because sinusoidal signals maybe superimposed on the dc currents and voltages. The following sections examine these ac characteristics. 1.4.1 Sinusoidal Analysis In the circuit shown in Figure 1.35(a), the voltage source vi is assumed to be a sinusoidal, or time-varying, signal. The total input voltage vI is composed of a dc component VP Sand an ac component vi superimposed on the dc value. To investigate this circuit, we will look at two types of analyses: a dc analysis involving only the dc voltages and currents, and an ac analysis involving only the ac voltages and currents. Current–Voltage Relationships Since the input voltage contains a dc component with an ac signal superimposed, the diode current will also contain a dc component with an ac signal superimposed, as shown in Figure 1.35(b). Here, IDQ is the dc quiescent diode current. In addition, the diode voltage will contain a dc value with an ac signal superimposed, as shown in Figure 1.35(c). For this analysis, assume that the ac signal is small compared to the dc component, so that a linear ac model can be developed from the nonlinear diode."
1.4 Diode Circuits: AC Equivalent Circuit,"1.4 DIODE CIRCUITS: AC EQUIVALENT CIRCUIT Objective: • Develop an equivalent circuit for a diode that is used when a small, time-varying signal is applied to a diode circuit. Up to this point, we have only looked at the dc characteristics of the pn junction diode. When semiconductor devices with pn junctions are used in linear amplifier circuits, the time-varying, or ac, characteristics of the pn junction become important, because sinusoidal signals maybe superimposed on the dc currents and voltages. The following sections examine these ac characteristics. 1.4.1 Sinusoidal Analysis In the circuit shown in Figure 1.35(a), the voltage source vi is assumed to be a sinusoidal, or time-varying, signal. The total input voltage vI is composed of a dc component VP Sand an ac component vi superimposed on the dc value. To investigate this circuit, we will look at two types of analyses: a dc analysis involving only the dc voltages and currents, and an ac analysis involving only the ac voltages and currents. Current–Voltage Relationships Since the input voltage contains a dc component with an ac signal superimposed, the diode current will also contain a dc component with an ac signal superimposed, as shown in Figure 1.35(b). Here, IDQ is the dc quiescent diode current. In addition, the diode voltage will contain a dc value with an ac signal superimposed, as shown in Figure 1.35(c). For this analysis, assume that the ac signal is small compared to the dc component, so that a linear ac model can be developed from the nonlinear diode. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 44 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 44 Part 1 Semiconductor Devices and Basic Applications + vD – + + iD iv + Div + IR vO VPS – – – (a) ID t 1 Slope = gd = rid Id DQ Q-point IDQ Time (b) vD vd VDQ vD t Time VDQ (c) (d) Figure 1.35 AC circuit analysis: (a) circuit with combined dc and sinusoidal input voltages, (b) sinusoidal diode current superimposed on the quiescent current, (c) sinusoidal diode voltage superimposed on the quiescent value, and (d) forward-biased diode IV characteristics with a sinusoidal current and voltage superimposed on the quiescent values The relat(ions)hip betw( een th)e diode current and voltage can be written as ∼ vD VDQ +vd iD = IV V (1.26) Se T = ISe T where VDQ is the dc quiescent voltage and vd is the ac component. We are neglecting the −1 term in the diode equation given by Equation (1.22). Equation (1.26) can be rewritten as [ ( ] [ ] V ) ( ) DQ v iD = d I e VS T · e VT (1.27) If the ac signal is “small,” then vd VT , and we can expand the exponential function in(to )a linear series, as follows: vd e VT ∼= 1 + vd (1.28) VT We may also w(rite t)he quiescent diode current as VDQ I = I e V DQ ST (1.29) nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 45 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 45 VDQ = Vg r + – d + + + IDQ i V RV v + d PS Oi – R vo – – – (a) (b) Figure 1.36 Equivalent circuits: (a) dc and (b) ac The diode curr(ent–volta)ge relationship from Equation (1.27) can then be written as = vi Id IDQ D DQ 1 + = IDQ + · vd = IDQ + id (1.30) VT VT where id is the ac component of the diode current. The relationship between the ac componen(ts oft)he diode voltage and current is then = Ii DQ d · vd = gd · vd (1.31(a)) VT or ( ) = VT vd · id = rd · id (1.31(b)) IDQ The parameters gd and rd , respectively, are the diode small-signal incremental conductance and resistance, also called the diffusion conductance and diffusion resistance. We see from these two equations that 1 V r T d = = (1.32) gd IDQ This equation tells us that the incremental resistance is a function of the dc bias current IDQ and is inversely proportional to the slope of the IV characteristics curve, as shown in Figure 1.35(d). Circuit Analysis To analyze the circuit shown in Figure 1.35(a), we first perform a dc analysis and then an ac analysis. These two types of analyses will use two equivalent circuits. Figure 1.36(a) is the dc equivalent circuit that we have seen previously. If the diode is forward biased, then the voltage across the diode is the piecewise linear turn-on voltage. Figure 1.36(b) is the ac equivalent circuit. The diode has been replaced by its equivalent resistance rd . All parameters in this circuit are the small-signal time- varying parameters. EXAMPLE 1.11 Objective: Analyze the circuit shown in Figure 1.35(a). Assume circuit and diode parameters of VP S = 5 V, R = 5 k, Vγ = 0.6 V, and vi = 0.1 sin ωt (V). nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 46 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 46 Part 1 Semiconductor Devices and Basic Applications Solution: Divide the analysis into two parts: the dc analysis and the ac analysis. For the dc analysis, we set vi = 0 and then determine the dc quiescent current from Figure 1.36(a) as VP S − Vγ 5 − 0.6 IDQ = = = 0.88 mA R 5 The dc value of the output voltage is Vo = IDQ R = (0.88)(5) = 4.4 V For the ac analysis, we consider only the ac signals and parameters in the circuit in Figure 1.36(b). In other words, we effectively set VP S = 0. The ac Kirchhoff voltage law (KVL) equation becomes vi = idrd + id R = id(rd + R) where rd is again the small-signal diode diffusion resistance. From Equation (1.32), we have = VT = 0.026 rd = 0.0295 k IDQ 0.88 The ac diode current is = vi = 0.1 sin ωt id + ⇒ 19.9 sin ωt (μA) rd R 0.0295 + 5 The ac component of the output voltage is vo = id R = 0.0995 sin ωt (V) Comment: Throughout the text, we will divide the circuit analysis into a dc analysis and an ac analysis. To do so, we will use separate equivalent circuit models for each analysis. EXERCISE PROBLEM Ex 1.11: (a) The circuit and diode parameters for the circuit shown in Figure 1.35(a) are VP S = 8 V, R = 20 k, Vγ = 0.7 V, and vi = 0.25 sin ωt (V). Determine the quiescent diode current and the time-varying diode current. (b) Repeat part (a) if the resistor is changed to R = 10 k. (Ans. (a) IDQ = 0.365 mA, id = 12.5 sin ωt (μA); (b) IDQ = 0.730 mA, id = 24.9 sin ωt (μA)). Frequency Response In the previous analysis, we implicitly assumed that the frequency of the ac signal was small enough that capacitance effects in the circuit would be negligible. If the frequency of the ac input signal increases, the diffusion capacitance associated with a forward-biased pn junction becomes important. The source of the diffusion capacitance is shown in Figure 1.37. Consider the minority carrier hole concentration on the right side of the figure. At the quiescent diode voltage, VDQ , the minority carrier hole concentration is shown as the solid line and indicated by pn|VDQ . nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 47 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 47 np pnp-region n-region pn |VDQ+ΔV –ΔQ +ΔQ pn|VDQ pn |VDQ–ΔV x' 0 0 x Figure 1.37 Change in minority carrier stored charge with a time-varying voltage superimposed on a dc quiescent diode voltage. The change in stored charge leads to a diode diffusion capacitance. If the total diode voltage increases by V during the positive half cycle of a sinusoidal signal superimposed on the quiescent value, the hole concentration will increase to that shown by the dotted line indicated by pn|VDQ+V . Now, if the total diode voltage decreases byV during the negative half cycle of a sinusoidal signal superimposed on the quiescent value, the hole concentration will decrease to that shown by the dotted line indicated by pn|VDQ−V . The +Q charge is alternately being charged and discharged through the pn junction as the voltage across the junction changes. The same process is occurring with the minority carrier electrons in the p-region. The diffusion capacitance is the change in the stored minority carrier charge that is caused by a change in the voltage, or = d Q Cd (1.33) dVD The diffusion capacitance Cd is normally much larger than the junction capacitance Cj , because of the magnitude of the charges involved. rd 1.4.2 Small-Signal Equivalent Circuit Cd The small-signal equivalent circuit of the forward-biased pn junction is shown in Figure 1.38 and is developed partially from the equation for the admittance, which (a) is given by Y = gd + jωCd (1.34) rd where gd and Cd are the diffusion conductance and capacitance, respectively. We Cd rs must also add the junction capacitance, which is in parallel with the diffusion resistance and capacitance, and a series resistance, which is required because of the finite Cj resistances in the neutral n- and p-regions. The small-signal equivalent circuit of the pn junction is used to obtain the ac (b) response of a diode circuit subjected to ac signals superimposed on the Q-point Figure 1.38 Small-signal values. Small-signal equivalent circuits of pn junctions are also used to develop equivalent circuit of the small-signal models of transistors, and these models are used in the analysis and diode: (a) simplified version design of transistor amplifiers. and (b) complete circuit nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 48 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 48 Part 1 Semiconductor Devices and Basic Applications Test Your Understanding TYU 1.12 Determine the diffusion conductance of a pn junction diode at T = 300 K and biased at a current of 0.8 mA. (Ans. gd = 30.8 mS) TYU 1.13 Determine the small-signal diffusion resistance of a pn junction diode at ID = 10 μA, 100 μA, and 1 mA. (Ans. 2.6 k, 260 , 26 ). TYU 1.14 The diffusion resistance of a pn junction diode at T = 300 K is determined to be rd = 50 . What is the quiescent diode current? (Ans. IDQ = 0.52 mA) 1.5 OTHER DIODE TYPES Objective: • Gain an understanding of the properties and characteristics of a few specialized diodes. There are many other types of diodes with specialized characteristics that are useful in particular applications. We will briefly consider only a few of these diodes. We will consider the solar cell, photodiode, light-emitting diode, Schottky diode, and Zener diode. 1.5.1 Solar Cell A solar cell is a pn junction device with no voltage directly applied across the junction. The pn junction, which converts solar energy into electrical energy, is connected to a load as indicated in Figure 1.39. When light hits the space-charge region, electrons and holes are generated. They are quickly separated and swept out of the space- charge region by the electric field, thus creating a photocurrent. The generated photocurrent will produce a voltage across the load, which means that the solar cell has supplied power. Solar cells are usually fabricated from silicon, but maybe made from GaAs or other III–V compound semiconductors. Solar cells have long been used to power the electronics in satellites and space vehicles, and also as the power supply to some calculators. Solar cells are also used to power race cars in a Sunrayce event. Collegiate teams in the United States design, Solar energy E-field p n Photocurrent RL I + – ph V Figure 1.39 A pn junction solar cell connected to load"
1.5 Other Diode Types,"1.5 OTHER DIODE TYPES Objective: • Gain an understanding of the properties and characteristics of a few specialized diodes. There are many other types of diodes with specialized characteristics that are useful in particular applications. We will briefly consider only a few of these diodes. We will consider the solar cell, photodiode, light-emitting diode, Schottky diode, and Zener diode. 1.5.1 Solar Cell A solar cell is a pn junction device with no voltage directly applied across the junction. The pn junction, which converts solar energy into electrical energy, is connected to a load as indicated in Figure 1.39. When light hits the space-charge region, electrons and holes are generated. They are quickly separated and swept out of the space- charge region by the electric field, thus creating a photocurrent. The generated photocurrent will produce a voltage across the load, which means that the solar cell has supplied power. Solar cells are usually fabricated from silicon, but maybe made from GaAs or other III–V compound semiconductors. Solar cells have long been used to power the electronics in satellites and space vehicles, and also as the power supply to some calculators. Solar cells are also used to power race cars in a Sunrayce event. Collegiate teams in the United States design, Solar energy E-field p n Photocurrent RL I + – ph V Figure 1.39 A pn junction solar cell connected to load nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 49 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 49 build and drive the race cars. Typically, a Sunrayce car has 8 m2 of solar cell arrays that can produce 800 W of power on a sunny day at noon. The power from the solar array can be used either to power an electric motor or to charge a battery pack. 1.5.2 Photodiode Photodetectors are devices that convert optical signals into electrical signals. An example is the photodiode, which is similar to a solar cell except that the pn junction is operated with a reverse-bias voltage. Incident photons or light waves create excess electrons and holes in the space-charge region. These excess carriers are quickly separated and swept out of the space-charge region by the electric field, thus creating a “photocurrent.” This generated photocurrent is directly proportional to the incident photon flux. 1.5.3 Light-Emitting Diode The light-emitting diode (LED) converts current to light. As previously explained, when a forward-bias voltage is applied across a pn junction, electrons and holes flow across the space-charge region and become excess minority carriers. These excess minority carriers diffuse into the neutral semiconductor regions, where they recombine with majority carriers. If the semiconductor is a direct bandgap material, such as GaAs, the electron and hole can recombine with no change in momentum, and a photon or light wave can be emitted. Conversely, in an indirect bandgap material, such as silicon, when an electron and hole recombine, both energy and momentum must be conserved, so the emission of a photon is very unlikely. Therefore, LEDs are fabricated from GaAs or other compound semiconductor materials. In an LED, the diode current is directly proportional to the recombination rate, which means that the output light intensity is also proportional to the diode current. Monolithic arrays of LEDs are fabricated for numeric and alphanumeric displays, such as the readout of a digital voltmeter. An LED maybe integrated into an optical cavity to produce a coherent photon output with a very narrow bandwidth. Such a device is a laser diode, which is used in optical communications applications. The LED can be used in conjunction with a photodiode to create an optical system such as that shown in Figure 1.40. The light signal created may travel over Transmitter Input Drive LED signal circuit Optical fiber Receiver Output Photodiode Amplifier signal Figure 1.40 Basic elements in an optical transmission system nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 50 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 50 Part 1 Semiconductor Devices and Basic Applications relatively long distances through the optical fiber, because of the low optical absorption in high-quality optical fibers. 1.5.4 Schottky Barrier Diode A Schottky barrier diode, or simply a Schottky diode, is formed when a metal, such as aluminum, is brought into contact with a moderately doped n-type semiconductor to form a rectifying junction. Figure 1.41(a) shows the metal-semiconductor contact, and Figure 1.41(b) shows the circuit symbol with the current direction and voltage polarity. The current–voltage characteristics of a Schottky diode are very similar to those of a pn junction diode. The same ideal diode equation can be used for both devices. However, there are two important differences between the two diodes that directly affect the response of the Schottky diode. First, the current mechanism in the two devices is different. The current in a pn junction diode is controlled by the diffusion of minority carriers. The current in a Schottky diode results from the flow of majority carriers over the potential barrier at the metallurgical junction. This means that there is no minority carrier storage in the Schottky diode, so the switching time from a forward bias to a reverse bias is very short compared to that of a pn junction diode. The storage time, ts , for a Schottky diode is essentially zero. Second, the reverse-saturation current IS for a Schottky diode is larger than that of a pn junction diode for comparable device areas. This property means that it takes less forward bias voltage to induce a particular current compared to a pn junction diode. We will see an application of this in Chapter 17. Figure 1.42 compares the characteristics of the two diodes. Applying the piecewise linear model, we can determine that the Schottky diode has a smaller turn-on iD Metal ID Schottky pn junction n- type barrier diode diode + VD – (a) ID + VD – (b) Vg (SB) Vg (pn) vD Figure 1.41 Schottky barrier Figure 1.42 Comparison of the forward-bias diode: (a) simplified geometry IV characteristics of a pn junction diode and and (b) circuit symbol a Schottky barrier diode nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 51 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 51 voltage than the pn junction diode. In later chapters, we will see how this lower turn-on voltage and the shorter switching time make the Schottky diode useful in integrated-circuit applications. EXAMPLE 1.12 Objective: Determine diode voltages. The reverse saturation currents of a pn junction diode and a Schottky diode are IS = 10−12 A and 10−8 A, respectively. Determine the forward-bias voltages required to produce 1 mA in each diode. Solution: The diode current-voltage relationship is given by ID = I eVD/VT S Solving for the d(iode) voltage, we obtain IV DD = VT ln IS We then find, for the (pn junction) diode = 1 × 10−3 VD (0.026) ln − = 0.539 V 10 12 and, for the Schottky( diode 1 × 10− ) 3 VD = (0.026) ln 10− = 0.299 V 8 Comment: Since the reverse-saturation current for the Schottky diode is relatively large, less voltage across this diode is required to produce a given current compared to the pn junction diode. EXERCISE PROBLEM Ex 1.12: A pn junction diode and a Schottky diode both have forward-bias currents of 1.2 mA. The reverse-saturation current of the pn junction diode is IS = 4 × 10−15 A. The difference in forward-bias voltages is 0.265 V. Determine the reverse-saturation current of the Schottky diode. (Ans. IS = 1.07 × 10−10 A) Another type of metal–semiconductor junction is also possible. A metal applied to a heavily doped semiconductor forms, in most cases, an ohmic contact: that is, a contact that conducts current equally in both directions, with very little voltage drop across the junction. Ohmic contacts are used to connect one semiconductor device to another on an IC, or to connect an IC to its external terminals. 1.5.5 Zener Diode As mentioned earlier in this chapter, the applied reverse-bias voltage cannot increase without limit. At some point, breakdown occurs and the current in the reverse-bias nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 52 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 52 Part 1 Semiconductor Devices and Basic Applications iD Breakdown voltage ⎜VZ ⎜ ⎜VZo ⎜ vD Slope = 1 rZ Figure 1.43 Diode IV characteristics showing breakdown effects direction increases rapidly. The voltage at this point is called the breakdown voltage. The diode IV characteristics, including breakdown, are shown in Figure 1.43. Diodes, called Zener diodes, can be designed and fabricated to provide a specified breakdown voltage VZo. (Although the breakdown voltage is on the negative voltage axis (reverse-bias), its value is given as a positive quantity.) The large current that may exist at breakdown can cause heating effects and catastrophic failure of the diode due to the large power dissipation in the device. However, diodes can be oper- I ated in the breakdown region by limiting the current to a value within the capabilities Z of the device. Such a diode can be used as a constant-voltage reference in a circuit. + – The diode breakdown voltage is essentially constant over a wide range of currents VZ and temperatures. The slope of the IV characteristics curve in breakdown is quite Figure 1.44 Circuit symbol large, so the incremental resistance rz is small. Typically, rz is in the range of a few of the Zener diode ohms or tens of ohms. The circuit symbol of the Zener diode is shown in Figure 1.44. (Note the subtle difference between this symbol and the Schottky diode symbol.) The voltage VZ is R the Zener breakdown voltage, and the current IZ is the reverse-bias current when the diode is operating in the breakdown region. We will see applications of the Zener + I + diode in the next chapter. VPS = 10 V VZ = 5.6 V – – DESIGN EXAMPLE 1.13 Figure 1.45 Simple circuit Objective: Consider a simple constant-voltage reference circuit and design the containing a Zener diode in value of resistance required to limit the current in this circuit. which the Zener diode is Consider the circuit shown in Figure 1.45. Assume that the Zener diode break- biased in the breakdown down voltage is VZ = 5.6 V and the Zener resistance is rz = 0. The current in the region diode is to be limited to 3 mA. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 53 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 53 Solution: As before, we can determine the current from the voltage difference across R divided by the resistance. That is, I = VP S − VZ R The resistance is then R = VP S − VZ = 10 − 5.6 = 1.47 k I 3 The power dissipated in the Zener diode is PZ = IZ VZ = (3)(5.6) = 16.8 mW The Zener diode must be able to dissipate 16.8 mW of power without being damaged. Comment: The resistance external to the Zener diode limits the current when the diode is operating in the breakdown region. In the circuit shown in the figure, the output voltage will remain constant at 5.6 V, even though the power supply voltage and the resistance may changeover a limited range. Hence, this circuit provides a constant output voltage. We will see further applications of the Zener diode in the next chapter. EXERCISE PROBLEM Ex 1.13: Consider the circuit shown in Figure 1.45. Determine the value of resistance R required to limit the power dissipated in the Zener diode to 10 mW. (Ans. R = 2.46 k) Test Your Understanding TYU 1.15 Consider the circuit shown in Figure 1.46. The diode can be either a pn R = 4 kΩ junction diode or a Schottky diode. Assume the cut-in voltages are Vγ = 0.7 V and Vγ = + 0.3 V for the pn junction diode and Schottky diode, respectively. Let r = 0 ID f VPS = 4 V Diode for both diodes. Calculate the current ID when each diode is inserted in the circuit. – (Ans. pn diode, 0.825 mA; Schottky diode, 0.925 mA). TYU 1.16 A Zener diode has an equivalent series resistance of 20 . If the voltage Figure 1.46 Circuit for across the Zener diode is 5.20 Vat IZ = 1 mA, determine the voltage across the exercise problem TYU 1.15. diode at IZ = 10 mA. (Ans. VZ = 5.38 V) The diode can be either a pn junction diode or a Schottky TYU 1.17 The resistor in the circuit shown in Figure 1.45 has a value of R = 4 k, diode. the Zener diode breakdown voltage is VZ = 3.6 V, and the power rating of the Zener diode is P = 6.5 mW. Determine the maximum diode current and the maximum power supply voltage that can be applied without damaging the diode. (Ans. 1.81 mA, 10.8 V). nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 54 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 54 Part 1 Semiconductor Devices and Basic Applications 1.6 DESIGN APPLICATION: DIODE THERMOMETER Objective: • Design a simple electronic thermometer using the temperature characteristics of a diode. Specifications: The temperature range is to be 0 to 100 ◦F. Design Approach: We will use the forward-bias diode temperature characteristics as shown in Figure 1.20. If the diode current is held constant, the variation in diode voltage is a function of temperature. Choices: Assume that a silicon pn junction diode with a reverse-saturation current of IS = 10−13 A at T = 300 K is available. Solution: Neglecting the (−1) term in the diode IV relation, we have I = I eVD/VT ∝ n2 VD/VT −Eg/kT VD/VT D Si e ∝ e · e The reverse-saturation current IS is proportional ton2 i and in turn n2 i is proportional to the exponential function involving the bandgap energy Eg and temperature. Taking the ratio of the diode current at two temperature values and using the definition of thermal voltage, we have3 I −Eg/kT1 eVD1/kT1 D1 = e · e −E kT (1.35) ID e g/ 2 · eeVD2/kT2 2 where VD1 and VD2 are the diode voltages at temperatures T1 and T2, respectively. If the diode current is held constant at the different temperatures, Equation (1.35) can be written as eeVD2/kT2 = e−Eg/kT1 e+Eg/kT2 eeVD1/kT1 (1.36) Taking the natural logarithm of both sides, we obtain eVD2 = −Eg + Eg + eVD1 (1.37) kT2 kT1 kT2 kT1 or − ( ) ( ) = Eg TV 2 + Eg T2 D2 + VD1 (1.38) e T1 e T1 For silicon, the bandgap energy is Eg/e = 1.12 V. Then, assuming the bandgap energy does not (vary over) the tem(perat)ure range, we have VD2 = T2 T2 1.12 1 − + VD1 (1.39) T1 T1 3Note that e in, for example, e−Eg/kT represents the exponential function whereas e in the exponent, for example, eVD1/kT1 is the magnitude of the electronic charge. The context in which e is used should make the meaning clear."
1.6 Design Application: Diode Thermometer,"1.6 DESIGN APPLICATION: DIODE THERMOMETER Objective: • Design a simple electronic thermometer using the temperature characteristics of a diode. Specifications: The temperature range is to be 0 to 100 ◦F. Design Approach: We will use the forward-bias diode temperature characteristics as shown in Figure 1.20. If the diode current is held constant, the variation in diode voltage is a function of temperature. Choices: Assume that a silicon pn junction diode with a reverse-saturation current of IS = 10−13 A at T = 300 K is available. Solution: Neglecting the (−1) term in the diode IV relation, we have I = I eVD/VT ∝ n2 VD/VT −Eg/kT VD/VT D Si e ∝ e · e The reverse-saturation current IS is proportional ton2 i and in turn n2 i is proportional to the exponential function involving the bandgap energy Eg and temperature. Taking the ratio of the diode current at two temperature values and using the definition of thermal voltage, we have3 I −Eg/kT1 eVD1/kT1 D1 = e · e −E kT (1.35) ID e g/ 2 · eeVD2/kT2 2 where VD1 and VD2 are the diode voltages at temperatures T1 and T2, respectively. If the diode current is held constant at the different temperatures, Equation (1.35) can be written as eeVD2/kT2 = e−Eg/kT1 e+Eg/kT2 eeVD1/kT1 (1.36) Taking the natural logarithm of both sides, we obtain eVD2 = −Eg + Eg + eVD1 (1.37) kT2 kT1 kT2 kT1 or − ( ) ( ) = Eg TV 2 + Eg T2 D2 + VD1 (1.38) e T1 e T1 For silicon, the bandgap energy is Eg/e = 1.12 V. Then, assuming the bandgap energy does not (vary over) the tem(perat)ure range, we have VD2 = T2 T2 1.12 1 − + VD1 (1.39) T1 T1 3Note that e in, for example, e−Eg/kT represents the exponential function whereas e in the exponent, for example, eVD1/kT1 is the magnitude of the electronic charge. The context in which e is used should make the meaning clear. nea80644_ch01_07-066.qxd 06/08/2009 05:15 PM Page 55 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 55 Consider the circuit shown in Figure 1.47. Assume that the diode has a reverse- R = 15 kΩ saturation current of I = 10−13 SA at T = 300 K. From the circuit, we can write + ID + = 15 − VD = 15 V VD ID I eVD/VT S – – R or Figure 1.47 Circuit of diode 15 − VD = 10−13eVD/0.026 thermometer 15 × 103 By trial and error, we find VD = 0.5976 V and = 15 − 0.5976 ID × ⇒ 0.960 mA 15 103 In Equation (1.39), we can set T1 = 300 K and let T2 ≡ T be a variable temperature. We find ( ) VD = 1.12 − T 0.522 (1.40) 300 so the diode voltage is a linear function of temperature. If the temperature range is to be from 0 to 100 ◦F, for example, the corresponding change in kelvins is from 255.2 to 310.8. The diode voltage versus temperature is plotted in Figure 1.48. A simple circuit that can be used was shown in Figure 1.47. With a power supply voltage of 15 V, a change in diode voltage of approximately 0.1 V over the temperature range produces only an approximately 0.67 percent change in diode current. Thus the preceding analysis is valid. Comment: This design example shows that a diode connected in a simple circuit can be used as a sensing element in an electronic thermometer. We assumed a diode reverse-saturation current of IS = 10−13 A at T = 300 K(80 ◦F). The actual reverse- saturation current of a particular diode maybe different. This difference simply means that the diode voltage versus temperature curve shown in Figure 1.48 would slide up or down to match the actual diode voltage at room temperature. VD (V) 0.676 0.598 0.579 0 20 40 60 80 100 (°F) 255.2 300 310.8 (K) Figure 1.48 Diode voltage versus temperature nea80644_ch01_07-066.qxd 06/10/2009 07:28 PM Page 56 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-01: 56 Part 1 Semiconductor Devices and Basic Applications Design Pointer: In order to complete this design, two additional components or electronic systems must be added to the circuit shown in Figure 1.47. First, we must add a circuit to measure the diode voltage. Adding this circuit must not alter the diode characteristics and there must be no loading effects. An op-amp circuit that will be described in Chapter 9 can be used for this purpose. A second electronic system required is to convert the diode voltage to a temperature reading. An analog-to-digital converter that will be described in Chapter 16 can be used to provide a digital temperature reading. 1.7 SUMMARY • We initially considered some of the characteristics and properties of semiconductor materials, such as the concept of electrons (negative charge) and holes (positive charge) as two distinct charge carriers in a semiconductor. The doping process produces either n-type or p-type semiconductor materials. The concepts of n-type and p-type materials are used throughout the text. • A pn junction diode is formed when an n-doped region and a p-doped region are directly adjacent to each other. The diode current is an exponential function of voltage in the forward-bias condition, and is essentially zero in the reverse-bias condition. • A piecewise-linear model of the diode was developed so that approximate hand calculation results can be easily obtained. The i − v characteristics of the diode are broken into linear segments, which are valid over particular regions of operation. The concept of a diode turn-on voltage was introduced. • Time-varying, or ac signals, maybe superimposed on a dc diode current and voltage. A small-signal linear equivalent circuit was developed and is used to determine the relationship between the ac current and ac voltage. This same equivalent circuit will be applied extensively when the frequency response of transistors is discussed. • Specialized pn junction devices were discussed. In particular, pn junction solar cells are used to convert solar energy to electrical energy. Schottky barrier diodes are metal–semiconductor rectifying junctions that, in general, have smaller turn- on voltages than pn junctions. Zener diodes operate in the reverse breakdown region and are used in constant-voltage circuits. Photodiodes and LEDs were also briefly discussed. • As an application, a simple diode thermometer was designed, based on the temperature properties of the pn junction. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Understand the concept of intrinsic carrier concentration, the difference between n-type and p-type materials, and the concept of drift and diffusion currents. ✓ Analyze a simple diode circuit using the ideal diode current–voltage characteristics and using the iteration analysis technique. ✓ Analyze a diode circuit using the piecewise linear approximation model for the diode."
1.7 Summary,"1.7 SUMMARY • We initially considered some of the characteristics and properties of semiconductor materials, such as the concept of electrons (negative charge) and holes (positive charge) as two distinct charge carriers in a semiconductor. The doping process produces either n-type or p-type semiconductor materials. The concepts of n-type and p-type materials are used throughout the text. • A pn junction diode is formed when an n-doped region and a p-doped region are directly adjacent to each other. The diode current is an exponential function of voltage in the forward-bias condition, and is essentially zero in the reverse-bias condition. • A piecewise-linear model of the diode was developed so that approximate hand calculation results can be easily obtained. The i − v characteristics of the diode are broken into linear segments, which are valid over particular regions of operation. The concept of a diode turn-on voltage was introduced. • Time-varying, or ac signals, maybe superimposed on a dc diode current and voltage. A small-signal linear equivalent circuit was developed and is used to determine the relationship between the ac current and ac voltage. This same equivalent circuit will be applied extensively when the frequency response of transistors is discussed. • Specialized pn junction devices were discussed. In particular, pn junction solar cells are used to convert solar energy to electrical energy. Schottky barrier diodes are metal–semiconductor rectifying junctions that, in general, have smaller turn- on voltages than pn junctions. Zener diodes operate in the reverse breakdown region and are used in constant-voltage circuits. Photodiodes and LEDs were also briefly discussed. • As an application, a simple diode thermometer was designed, based on the temperature properties of the pn junction. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Understand the concept of intrinsic carrier concentration, the difference between n-type and p-type materials, and the concept of drift and diffusion currents. ✓ Analyze a simple diode circuit using the ideal diode current–voltage characteristics and using the iteration analysis technique. ✓ Analyze a diode circuit using the piecewise linear approximation model for the diode. nea80644_ch01_07-066.qxd 06/10/2009 07:28 PM Page 57 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 57 ✓ Determine the small-signal characteristics of a diode using the small-signal equivalent circuit. ✓ Understand the general characteristics of a solar cell, light-emitting diode, Schottky barrier diode, and Zener diode. REVIEW QUESTIONS 1. Describe an intrinsic semiconductor material. What is meant by the intrinsic carrier concentration? 2. Describe the concept of an electron and a hole as charge carriers in the semiconductor material. 3. Describe an extrinsic semiconductor material. What is the electron concentration in terms of the donor impurity concentration? What is the hole concentration in terms of the acceptor impurity concentration? 4. Describe the concepts of drift current and diffusion current in a semiconductor material. 5. How is a pn junction formed? What is meant by a built-in potential barrier, and how is it formed? 6. How is a junction capacitance created in a reverse-biased pn junction diode? 7. Write the ideal diode current–voltage relationship. Describe the meaning of IS and VT . 8. Describe the iteration method of analysis and when it must be used to analyze a diode circuit. 9. Describe the piecewise linear model of a diode and why it is useful. What is the diode turn-on voltage? 10. Define a load line in a simple diode circuit. 11. Under what conditions is the small-signal model of a diode used in the analysis of a diode circuit? 12. Describe the operation of a simple solar cell circuit. 13. How do the iv characteristics of a Schottky barrier diode differ from those of a pn junction diode? 14. What characteristic of a Zener diode is used in the design of a Zener diode circuit? 15. Describe the characteristics of a photodiode and a photodiode circuit. PROBLEMS [Note: Unless otherwise specified, assume that T = 300 Kin the following problems. Also, assume the emission coefficient is n = 1 unless otherwise stated.] Section 1.1 Semiconductor Materials and Properties 1.1 (a) Calculate the intrinsic carrier concentration in silicon at (i) T = 250 K and (ii) T = 350 K. (b) Repeat part (a) for gallium arsenide. 1.2 (a) The intrinsic carrier concentration in silicon is to be no larger than ni = 1012 cm−3. Determine the maximum allowable temperature. (b) Repeat part (a) for ni = 109 cm−3. 1.3 Calculate the intrinsic carrier concentration in silicon and germanium at (a) T = 100 K, (b) T = 300 K, and (c) T = 500 K."
Problems,"PROBLEMS [Note: Unless otherwise specified, assume that T = 300 Kin the following problems. Also, assume the emission coefficient is n = 1 unless otherwise stated.] Section 1.1 Semiconductor Materials and Properties 1.1 (a) Calculate the intrinsic carrier concentration in silicon at (i) T = 250 K and (ii) T = 350 K. (b) Repeat part (a) for gallium arsenide. 1.2 (a) The intrinsic carrier concentration in silicon is to be no larger than ni = 1012 cm−3. Determine the maximum allowable temperature. (b) Repeat part (a) for ni = 109 cm−3. 1.3 Calculate the intrinsic carrier concentration in silicon and germanium at (a) T = 100 K, (b) T = 300 K, and (c) T = 500 K. nea80644_ch01_07-066.qxd 06/08/2009 05:16 PM Page 58 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 58 Part 1 Semiconductor Devices and Basic Applications 1.4 (a) Find the concentration of electrons and holes in a sample of germanium that has a concentration of donor atoms equal to 1015 cm−3. Is the semiconductor n-type or p-type? (b) Repeat part (a) for silicon. 1.5 Gallium arsenide is doped with acceptor impurity atoms at a concentration of 1016 cm−3. (a) Find the concentration of electrons and holes. Is the semiconductor n-type or p-type? (b) Repeat part (a) for germanium. 1.6 Silicon is doped with 5 × 1016 arsenic atoms/cm3. (a) Is the material nor p-type? (b) Calculate the electron and hole concentrations at T = 300 K. (c) Repeat part (b) for T = 350 K. 1.7 (a) Calculate the concentration of electrons and holes in silicon that has a concentration of acceptor atoms equal to 5 × 1016 cm−3. Is the semiconductor n-type or p-type? (b) Repeat part (a) for GaAs. 1.8 A silicon sample is fabricated such that the hole concentration is po = 2 × 1017 cm−3. (a) Should boron or arsenic atoms be added to the intrinsic silicon? (b) What concentration of impurity atoms must be added? (c) What is the concentration of electrons? 1.9 The electron concentration in silicon at T = 300 K is n = 5 × 1015 cm−3 o . (a) Determine the hole concentration. (b) Is the material n-type or p-type? (c) What is the impurity doping concentration? 1.10 (a) A silicon semiconductor material is to be designed such that the majority carrier electron concentration is no = 7 × 1015 cm−3. Should donor or acceptor impurity atoms be added to intrinsic silicon to achieve this electron concentration? What concentration of dopant impurity atoms is required? (b) In this silicon material, the minority carrier hole concentration is to be no larger than p 6 −3 o = 10 cm . Determine the maximum allowable temperature. 1.11 (a) The applied electric field in p-type silicon is E = 10 V/cm. The semiconductor conductivity is σ = 1.5 (–cm)−1 and the cross-sectional area is A = 10−5 cm2. Determine the drift current. (b) The cross-sectional area of a semiconductor is A = 2 × 10−4 cm2 and the resistivity is ρ = 0.4 (–cm). If the drift current is I = 1.2 mA, what applied electric field must be applied? 1.12 Adrift current density of 120 A/cm2 is established inn-type silicon with an applied electric field of 18 V/cm. If the electron and hole mobilities are μn = 1250 cm2/Vs and μp = 450 cm2/Vs, respectively, determine the required doping concentration. 1.13 Ann-type silicon material has a resistivity of ρ = 0.65 –cm. (a) If the electron mobility is μn = 1250 cm2/Vs, what is the concentration of donor atoms? (b) Determine the required electric field to establish adrift current density of J = 160 A/cm2. 1.14 (a) The required conductivity of a silicon material must be σ = 1.5 (–cm)−1. If μ = 1000 cm2 n /Vs and μp = 375 cm2/Vs, what concentration of donor atoms must be added? (b) The required conductivity of a silicon material must be σ = 0.8 (–cm)−1. If μn = 1200 cm2/Vs and μp = 400 cm2/Vs, what concentration of acceptor atoms must be added? 1.15 In GaAs, the mobilities are μ 2 n = 8500 cm /Vs and μp = 400 cm2/Vs. (a) Determine the range in conductivity for a range in donor concentration of 1015 ≤ N ≤ 1019 cm−3 d . (b) Using the results of part (a), determine the range in drift current density if the applied electric field is E = 0.10 V/cm. nea80644_ch01_07-066.qxd 06/08/2009 05:16 PM Page 59 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 59 1.16 The electron and hole concentrations in a sample of silicon are shown in Figure P1.16. Assume the electron and hole mobilities are the same as in Problem 1.12. Determine the total diffusion current density versus distance x for 0 ≤ x ≤ 0.001 cm. Carrier concentration (cm–3) 16 16 10 10 Electron concentration Hole 12 10 concentration 12 10 x = 0 x = 0.001cm Figure P1.16 1.17 The hole concentration in silicon is given by p(x) = 104 + 1015 exp(−x/L p) x ≥ 0 The value of L pis 10 μm. The hole diffusion coefficient is D = 15 cm2 p /s. Determine the hole diffusion current density at (a) x = 0, (b) x = 10 μm, and (c) x = 30 μm. 1.18 GaAs is doped to Na = 1017 cm−3. (a) Calculate no and po. (b) Excess electrons and holes are generated such that δn = δp = 1015 cm−3 . Determine the total concentration of electrons and holes. Section 1.2 The pn Junction 1.19 (a) Determine the built-in potential barrier Vbi in a silicon pn junction for (i) Nd = N 15 −3 a = 5 × 10 cm ; (ii) Nd = 5 × 1017 cm−3 and N = 1015 cm−3 a ; (iii) N = N = 1018 −3 ad cm . (b) Repeat part (a) for GaAs. 1.20 Consider a silicon pn junction. Then-region is doped to a value of Nd = 1016 cm−3. The built-in potential barrier is to be Vbi = 0.712 V. Determine the required p-type doping concentration. 1.21 The donor concentration in then-region of a silicon pn junction is N = 1016 cm−3 d . Plot Vbi versus Na over the range 1015 ≤ N ≤ 1018 a cm−3 where Na is the acceptor concentration in the p-region. 1.22 Consider a uniformly doped GaAs pn junction with doping concentrations of N = 5 × 1018 cm−3 a and Nd = 5 × 1016 cm−3. Plot the built-in potential barrier Vbi versus temperature for 200 K ≤ T ≤ 500 K. 1.23 The zero-biased junction capacitance of a silicon pn junction is Cjo = 0.4 pF. The doping concentrations are Na = 1.5 × 1016 cm−3 and nea80644_ch01_07-066.qxd 06/08/2009 05:16 PM Page 60 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 60 Part 1 Semiconductor Devices and Basic Applications N = 4 × 1015 cm−3 d . Determine the junction capacitance at (a) VR = 1 V, (b) VR = 3 V, and (c) VR = 5 V. *1.24 The zero-bias capacitance of a silicon pn junction diode is Cjo = 0.02 pF and the built-in potential is Vbi = 0.80 V. The diode is reverse biased through a 47-k resistor and a voltage source. (a) Fort < 0, the applied voltage is 5 V and, at t = 0, the applied voltage drops to zero volts. Estimate the time it takes for the diode voltage to change from 5 V to 1.5 V. (As an approximation, use the average diode capacitance between the two voltage levels.) (b) Repeat part (a) for an input voltage change from 0 V to 5 V and a diode voltage change from 0 V to 3.5 V. (Use the average diode capacitance between these two voltage levels.) 1.25 The doping concentrations in a silicon pn junction are N = 5 × 1015 cm−3 d and Na = 1017 cm−3. The zero-bias junction capacitance is Cjo = 0.60 pF. An inductance of 1.50 mH is connected in parallel with the pn junction. Calculate the resonant frequency fo of the circuit for reverse-bias voltages of (a) VR = 1 V, (b) VR = 3 V, and (c) VR = 5 V. 1.26 (a) At what reverse-bias voltage does the reverse-bias current in a silicon pn junction diode reach 90 percent of its saturation value? (b) What is the ratio of the current for a forward-bias voltage of 0.2 V to the current for a reverse- bias voltage of 0.2 V? 1.27 (a) The reverse-saturation current of a pn junction diode is I = 10−11 SA. Determine the diode current for diode voltages of 0.3, 0.5, 0.7, −0.02,−0.2, and −2 V. (b) Repeat part (a) for IS = 10−13 A. 1.28 (a) The reverse-saturation current of a pn junction diode is I = 10−11 SA. Determine the diode voltage to produce currents of (i) 10 μA, 100 μA, 1 mA, and (ii) −5 × 10−12 A. (b) Repeat part (a) for I = 10−13 SA and part (a) (ii) for −10−14 A. 1.29 A silicon pn junction diode has an emission coefficient of n = 1. The diode current is ID = 1 mA when VD = 0.7 V. (a) What is the reverse-bias saturation current? (b) Plot, on the same graph, log10 ID versus VD over the range 0.1 ≤ VD ≤ 0.7 V when the emission coefficient is (i) n = 1 and (ii) n = 2. 1.30 Plot log10 ID versus VD over the range 0.1 ≤ VD ≤ 0.7 V for (a) IS = 10−12 and (b) I = 10−14 SA. 1.31 (a) Consider a silicon pn junction diode operating in the forward-bias region. Determine the increase in forward-bias voltage that will cause a factor of 10 increase in current. (b) Repeat part (a) for a factor of 100 increase in current. 1.32 A pn junction diode has IS = 2 nA. (a) Determine the diode voltage if (i) ID = 2 A and (ii) ID = 20 A. (b) Determine the diode current if (i) VD = 0.4 V and (ii) VD = 0.65 V. 1.33 The reverse-bias saturation current for a set of diodes varies between 5 × 10−14 ≤ IS ≤ 5 × 10−12 A. The diodes are all to be biased at ID = 2 mA. What is the range of forward-bias voltages that must be applied? 1.34 (a) A germanium pn junction has a diode current of ID = 1.5 mA when biased at VD = 0.30 V. What is the reverse-bias saturation current? (b) Using the results of part (a), determine the diode current when the diode is biased at (i) VD = 0.35 V and (ii) VD = 0.25 V. 1.35 (a) The reverse-saturation current of a gallium arsenide pn junction diode is I = 10−22 SA. Determine the diode current for diode voltages of 0.8, 1.0, 1.2, −0.02,−0.2, and −2 V. (b) Repeat part (a) for IS = 5 × 10−24 A. nea80644_ch01_07-066.qxd 06/08/2009 05:16 PM Page 61 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 61 *1.36 The reverse-saturation current of a silicon pn junction diode at T = 300 K +5 V is I = 10−12 SA. Determine the temperature range over which IS varies from 0.5 × 10−12 A to 50 × 10−12 A. 20 kΩ *1.37 A silicon pn junction diode has an applied forward-bias voltage of 0.6 V. + Determine the ratio of current at 100 ◦C to that at −55 ◦C. ID VD – Section 1.3 DC Diode Analysis –5 V 1.38 A pn junction diode is in series with a 1 M resistor and a 2.8 V power Figure P1.39 supply. The reverse-saturation current of the diode is IS = 5 × 10−11 A. (a) Determine the diode current and voltage if the diode is forward biased. R1 = 50 kΩ (b) Repeat part (a) if the diode is reverse biased. + ID + 1.39 Consider the diode circuit shown in Figure P1.39. The diode reverse- VPS = R2 = VD saturation current is IS = 10−12 A. Determine the diode current ID and 1.2 V 30 kΩ – – diode voltage VD . *1.40 The diode in the circuit shown in Figure P1.40 has a reverse-saturation current of I = 5 × 10−13 SA. Determine the diode voltage and current. 1.41 (a) For the circuit shown in Figure P1.41(a), determine ID ,ID ,VD ,and VD Figure P1.40 1 2 1 2 for (i) IS1 = IS2 = 10−13 A and (ii) I = 5 × 10−14 S1 A, I = 5 × 10−13 S2 A. (b) Repeat part (a) for the circuit shown in Figure P1.41(b). + D1 VD1 – II D1 i = 1 mA + ID1 I + D2 VO D VI + = 2 D2 i V V + – 1 mA D1 D2 – – ID2 D1 D2 VI 1 kΩ – (a) (b) Figure P1.41 Figure P1.42 1.42 (a) The reverse-saturation current of each diode in the circuit shown in Figure P1.42 is IS = 6 × 10−14 A. Determine the input voltage VI required to +5 V produce an output voltage of VO = 0.635 V. (b) Repeat part (a) if the 1 k resistor is changed to R = 500 . 1.43 (a) Consider the circuit shown in Figure P1.40. The value of R1 is reduced 3 kΩ 2 kΩ to R1 = 10 k and the cut-in voltage of the diode is Vγ = 0.7 V. Determine ID ID and VD . (b) Repeat part (a) if R1 = 50 k. – + 1.44 Consider the circuit shown in Figure P1.44. Determine the diode current ID VD and diode voltage V for (a) V = 0.6 V and (b) V = 0.7 V. 2 kΩ 2 kΩ D γ γ 1.45 The diode cut-in voltage is Vγ = 0.7 V for the circuits shown in Figure P1.45. Plot VO and ID versus II over the range 0 ≤ II ≤ 2 mA for the circuit shown in (a) Figure P1.45(a), (b) Figure P1.45(b), and (c) Figure P1.45(c). Figure P1.44 nea80644_ch01_07-066.qxd 06/08/2009 05:16 PM Page 62 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 62 Part 1 Semiconductor Devices and Basic Applications I + DR IF VI 1 kΩ OD1 – (a) + ID IR1 = VI + O 1 kΩ VB = 1 V – – (b) R1 + D1 RF = I1 1 kΩ II VO V + I PS 2 – RI 2 DID1 ID2 D2 – (c) Figure P1.45 Figure P1.46 *1.46 The cut-in voltage of the diode shown in the circuit in Figure P1.46 is Vγ = 0.7 V. The diode is to remain biased “on” for a power supply voltage in the range 5 ≤ VP S ≤ 10 V. The minimum diode current is to be ID(min) = 2 mA. The maximum power dissipated in the diode is to be no more than 10 mW. Determine appropriate values of R1 and R2. 1.47 Find I and VO in each circuit shown in Figure P1.47 if (i) Vγ = 0.7 V and (ii) Vγ = 0.6 V. +5 V +5 V +2 V +5 V 20 kΩ 20 kΩ 5 kΩ II II VO VO VO 20 kΩ VO 20 kΩ 20 kΩ –5 V –5 V –8 V (a) (b) (c) (d) R = 4.7 kΩ Figure P1.47 + + V – ID + *1.48 Repeat Problem 1.47 if the reverse-saturation current for each diode is 5 V V IS = 5 × 10−14 A. What is the voltage across each diode? – – 1.49 (a) In the circuit shown in Figure P1.49, find the diode voltage VD and the supply voltage V such that the current is ID = 0.4 mA. Assume the diode cut-in voltage is Vγ = 0.7 V. (b) Using the results of part (a), determine the Figure P1.49 power dissipated in the diode. nea80644_ch01_07-066.qxd 06/08/2009 05:16 PM Page 63 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 63 1.50 Assume each diode in the circuit shown in Figure P1.50 has a cut-in voltage of Vγ = 0.65 V. (a) The input voltage is VI = 5 V. Determine the value of R1 required such that ID1 is one-half the value of ID2. What are the values of ID1 and ID2? (b) If VI = 8 V and R1 = 2 k, determine ID1 and ID2. R1 VO + ID2 VI R2 = 1 kΩ – ID1 Figure P1.50 Section 1.4 Small-Signal Diode Analysis V + 1.51 (a) Consider a pn junction diode biased at IDQ = 1 mA. A sinusoidal voltage is superimposed on VDQ such that the peak-to-peak sinusoidal current is 0.05IDQ . Find the value of the applied peak-to-peak sinusoidal voltage. I (b) Repeat part (a) if IDQ = 0.1 mA. RS C 1.52 Determine the small-signal diffusion resistance rd for a diode biased at + (a) ID = 26 μA, (b) ID = 260 μA, and (c) ID = 2.6 mA. v + s v *1.53 The diode in the circuit shown in Figure P1.53 is biased with a constant cur- – o rent source I. A sinusoidal signal vs is coupled through RS and C. Assume – that C is large so that it acts as a short circuit to the signal. (a) Show that the sinusoid(al componen)t of the diode voltage is given by Figure P1.53 VT vo = vs VT + IRS (b) If RS = 260 , find vo/vs , for I = 1 mA, I = 0.1 mA, and I = 0.01 mA. Section 1.5 Other Types of Diodes 1.54 The forward-bias currents in a pn junction diode and a Schottky diode are 0.72 mA. The reverse-saturation currents are IS = 5 × 10−13 A and IS = 5 × 10−8 A, respectively. Determine the forward-bias voltage across each diode. 1.55 A pn junction diode and a Schottky diode have equal cross-sectional areas and have forward-bias currents of 0.5 mA. The reverse-saturation current of the Schottky diode is IS = 5 × 10−7 A. The difference in forward-bias voltages between the two diodes is 0.30 V. Determine the reverse-saturation current of the pn junction diode. 1.56 The reverse-saturation currents of a Schottky diode and a pn junction diode are IS = 5 × 10−8 A and 10−12 A, respectively. (a) The diodes are connected in parallel and the parallel combination is driven by a constant current of 0.5 mA. (i) Determine the current in each diode. (ii) Determine the voltage across each diode. (b) Repeat part (a) for the diodes connected in series, with a voltage of 0.90 V connected across the series combination. nea80644_ch01_07-066.qxd 06/10/2009 07:28 PM Page 64 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-01: 64 Part 1 Semiconductor Devices and Basic Applications *1.57 Consider the Zener diode circuit shown in Figure P1.57. The Zener breakdown voltage is VZ = 5.6 Vat IZ = 0.1 mA, and the incremental Zener resistance is rz = 10 . (a) Determine VO with no load (RL = ∞). (b) Find the change in the output voltage if VP S changes by ±1 V. (c) Find VO if VP S = 10 V and RL = 2 k. R = 0.5 kΩ VO + + V V PS = 10 V Z RL – IZ – Figure P1.57 1.58 (a) The Zener diode in Figure P1.57 is ideal with VZ = 6.8 V. Determine the maximum current and maximum power dissipated in the diode (RL = ∞). (b) Determine the value of RL such that IZ is reduced to 0.1 of its maximum value. *1.59 Consider the Zener diode circuit shown in Figure P1.57. The Zener diode voltage is VZ = 6.8 Vat IZ = 0.1 mA and the incremental Zener resistance is rz = 20 . (a) Calculate VO with no load (RL = ∞). (b) Find the change in the output voltage when a load resistance of RL = 1 k is connected. 1.60 The output current of a pn junction diode used as a solar cell can be given by [ ( ) ] I = 0 2 − 5 × 10−14 V exp DD . − 1 A VT The short-circuit current is defined as ISC = ID when VD = 0 and the open- circuit voltage is defined as VOC = VD when ID = 0. Find the values of ISC and VOC . 1.61 Using the current–voltage characteristics of the solar cell described in Problem 1.60, plot ID versus VD. 1.62 (a) Using the current–voltage characteristics of the solar cell described in problem 1.60, determine VD when ID = 0.8ISC . (b) Using the results of part (a), determine the power supplied by the solar cell. COMPUTER SIMULATION PROBLEMS 1.63 Use a computer simulation to generate the ideal current–voltage characteristics of a diode from a reverse-bias voltage of 5 V to a forward-bias current of 1 mA, for an IS parameter value of (a) 10−15 A and (b) 10−13 A. Use the default values for all other parameters. 1.64 Use a computer simulation to find the diode current and voltage for the circuit described in Problem 1.38. nea80644_ch01_07-066.qxd 06/10/2009 07:29 PM Page 65 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-01: Chapter 1 Semiconductor Materials and Diodes 65 1.65 The reverse-saturation current for each diode in Figure P1.42 is IS = 10−14 A. Use a computer simulation to plot the output voltage VO versus the input voltage VI over the range 0 ≤ VI ≤ 2.0 V. 1.66 Use a computer simulation to find the diode current, diode voltage, and output voltage for each circuit shown in Figure P1.47. Assume I −13 S = 10 A for each diode. DESIGN PROBLEMS [Note: Each design should be verified by a computer simulation.] *D1.67 Design a diode circuit to produce the load line and Q-point shown in Figure P1.67. Assume diode piecewise linear parameters of Vγ = 0.7 V and r f = 0. iD (mA) 2.4 Q-point 2.12 0 0.7 6 V D (V) Figure P1.67 *D1.68 Design a circuit to produce the characteristics shown in Figure P1.68, where iD is the diode current and vI is the input voltage. Assume diode piecewise linear parameters of Vγ = 0.7 V and r f = 0. iD (mA) 2.8 0.3 –0.6 0 5 I (V) Figure P1.68 nea80644_ch01_07-066.qxd 06/08/2009 05:16 PM Page 66 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-01 Folder:MHDQ134-01: 66 Part 1 Semiconductor Devices and Basic Applications *D1.69 Design a circuit to produce the characteristics shown in Figure P1.69, where vO is the output voltage and vI is the input voltage. Assume diode piecewise linear parameters of Vγ = 0.7 V and r f = 0. O (V) 2.13 0.7 0.7 5 I (V) Figure P1.69 *D1.70 Design a circuit to produce the characteristics shown in Figure P1.70, where vO is the output voltage and vI is the input voltage. Assume diode piecewise linear parameters of Vγ = 0.7 V and r f = 0. O (V) – 4.0 I (V) –4.0 Figure P1.70 nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 67 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Diode Circuits 2 In the last chapter, we discussed some of the properties of semiconductor materials and introduced the diode. We presented the ideal current–voltage relationship of the diode and considered the piecewise linear model, which simplifies the dc analysis of diode circuits. In this chapter, the techniques and concepts developed in Chapter 1 are used to analyze and design electronic circuits containing diodes. A general goal of this chapter is to develop the ability to use the piecewise linear model and approximation techniques in the hand analysis and design of various diode circuits. Each circuit to be considered accepts an input signal at a set of input terminals and produces an output signal at a set of output terminals. This process is called signal processing. The circuit “processes” the input signal and produces an output signal that is a different shape or a different function compared to the input signal. We will see in this chapter how diodes are used to perform these various signal processing functions. Although diodes are useful electronic devices, we will begin to see the limitations of these devices and the desirability of having some type of “amplifying” device. PREVIEW In this chapter, we will: • Determine the operation and characteristics of diode rectifier circuits, which, in general, form the first stage of the process of converting an ac signal into a dc signal in the electronic power supply. • Apply the characteristics of the Zener diode to a Zener diode voltage regulator circuit. • Apply the nonlinear characteristics of diodes to create waveshaping circuits known as clippers and clampers. • Examine the techniques used to analyze circuits that contain more than one diode. • Understand the operation and characteristics of specialized photodiode and light-emitting diode circuits. • Design a basic dc power supply incorporating a filtered rectifier circuit and a Zener diode. 67 Chapter"
Chapter 2: Diode Circuits," Diode Circuits 2 In the last chapter, we discussed some of the properties of semiconductor materials and introduced the diode. We presented the ideal current–voltage relationship of the diode and considered the piecewise linear model, which simplifies the dc analysis of diode circuits. In this chapter, the techniques and concepts developed in Chapter 1 are used to analyze and design electronic circuits containing diodes. A general goal of this chapter is to develop the ability to use the piecewise linear model and approximation techniques in the hand analysis and design of various diode circuits. Each circuit to be considered accepts an input signal at a set of input terminals and produces an output signal at a set of output terminals. This process is called signal processing. The circuit “processes” the input signal and produces an output signal that is a different shape or a different function compared to the input signal. We will see in this chapter how diodes are used to perform these various signal processing functions. Although diodes are useful electronic devices, we will begin to see the limitations of these devices and the desirability of having some type of “amplifying” device. PREVIEW In this chapter, we will: • Determine the operation and characteristics of diode rectifier circuits, which, in general, form the first stage of the process of converting an ac signal into a dc signal in the electronic power supply. • Apply the characteristics of the Zener diode to a Zener diode voltage regulator circuit. • Apply the nonlinear characteristics of diodes to create waveshaping circuits known as clippers and clampers. • Examine the techniques used to analyze circuits that contain more than one diode. • Understand the operation and characteristics of specialized photodiode and light-emitting diode circuits. • Design a basic dc power supply incorporating a filtered rectifier circuit and a Zener diode. 67 Chapter"
Preview,"PREVIEW In this chapter, we will: • Determine the operation and characteristics of diode rectifier circuits, which, in general, form the first stage of the process of converting an ac signal into a dc signal in the electronic power supply. • Apply the characteristics of the Zener diode to a Zener diode voltage regulator circuit. • Apply the nonlinear characteristics of diodes to create waveshaping circuits known as clippers and clampers. • Examine the techniques used to analyze circuits that contain more than one diode. • Understand the operation and characteristics of specialized photodiode and light-emitting diode circuits. • Design a basic dc power supply incorporating a filtered rectifier circuit and a Zener diode. 67 Chapter nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 68 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 68 Part 1 Semiconductor Devices and Basic Applications 2.1 RECTIFIER CIRCUITS Objective: • Determine the operation and characteristics of diode rectifier circuits, which form the first stage in the process of converting an ac signal into a dc signal in the electronic power supply. One application of diodes is in the design of rectifier circuits. A diode rectifier forms the first stage of a dc power supply. A dc voltage is required to power essentially every electronic device, including personal computers, televisions, and stereo systems. An electrical cord that is plugged into a wall socket and attached to a television, for example, is connected to a rectifier circuit inside the TV. In addition, battery chargers for portable electronic devices such as cellphones and laptop computers contain rectifier circuits. Figure 2.1 is a diagram of a dc power supply. The output voltage1 vO is usually in the range of 3 to 24 V depending on the particular electronics application. Throughout the first part of this chapter, we will analyze and design various stages in the power supply circuit. Power transformer + + AC Diode Voltage voltage Filter LOAD v rectifier regulator O source – _ Figure 2.1 Diagram of an electronic power supply. The circuits that characterize each block diagram are considered in this chapter. Rectification is the process of converting an alternating (ac) voltage into one that is limited to one polarity. The diode is useful for this function because of its nonlinear characteristics, that is, current exists for one voltage polarity, but is essentially zero for the opposite polarity. Rectification is classified as half-wave or full-wave, with half-wave being the simpler and full-wave being more efficient. 2.1.1 Half-Wave Rectification Figure 2.2(a) shows a power transformer with a diode and resistor connected to the secondary of the transformer. We will use the piecewise linear approach in analyzing this circuit, assuming the diode forward resistance is r f = 0 when the diode is “on.” The input signal, vI , is, in general, a 120 V (rms), 60 Hz ac signal. Recall that the secondary voltage, vS , and primary voltage, vI , of an ideal transformer are related by vI = N1 (2.1) vS N2 1Ideally, the output voltage of a rectifier circuit is a dc voltage. However, as we will see, there maybe an ac ripple voltage superimposed on a dc value. For this reason, we will use the notation vO as the instantaneous value of output voltage."
2.1 Rectifier Circuits,"2.1 RECTIFIER CIRCUITS Objective: • Determine the operation and characteristics of diode rectifier circuits, which form the first stage in the process of converting an ac signal into a dc signal in the electronic power supply. One application of diodes is in the design of rectifier circuits. A diode rectifier forms the first stage of a dc power supply. A dc voltage is required to power essentially every electronic device, including personal computers, televisions, and stereo systems. An electrical cord that is plugged into a wall socket and attached to a television, for example, is connected to a rectifier circuit inside the TV. In addition, battery chargers for portable electronic devices such as cellphones and laptop computers contain rectifier circuits. Figure 2.1 is a diagram of a dc power supply. The output voltage1 vO is usually in the range of 3 to 24 V depending on the particular electronics application. Throughout the first part of this chapter, we will analyze and design various stages in the power supply circuit. Power transformer + + AC Diode Voltage voltage Filter LOAD v rectifier regulator O source – _ Figure 2.1 Diagram of an electronic power supply. The circuits that characterize each block diagram are considered in this chapter. Rectification is the process of converting an alternating (ac) voltage into one that is limited to one polarity. The diode is useful for this function because of its nonlinear characteristics, that is, current exists for one voltage polarity, but is essentially zero for the opposite polarity. Rectification is classified as half-wave or full-wave, with half-wave being the simpler and full-wave being more efficient. 2.1.1 Half-Wave Rectification Figure 2.2(a) shows a power transformer with a diode and resistor connected to the secondary of the transformer. We will use the piecewise linear approach in analyzing this circuit, assuming the diode forward resistance is r f = 0 when the diode is “on.” The input signal, vI , is, in general, a 120 V (rms), 60 Hz ac signal. Recall that the secondary voltage, vS , and primary voltage, vI , of an ideal transformer are related by vI = N1 (2.1) vS N2 1Ideally, the output voltage of a rectifier circuit is a dc voltage. However, as we will see, there maybe an ac ripple voltage superimposed on a dc value. For this reason, we will use the notation vO as the instantaneous value of output voltage. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 69 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 69 vO N1 N2 + + Slope = 1 + vI vS R vO – – – 0 Vg vS (a) (b) Figure 2.2 Half-wave rectifier (a) circuit and (b) voltage transfer characteristics where N1 and N2 are the number of primary and secondary turns, respectively. The ratio N1/N2 is called the transformer turns ratio. The transformer turns ratio will be designed to provide a particular secondary voltage, vS , which in turn will produce a particular output voltage vO . Problem-Solving Technique: Diode Circuits In using the piecewise linear model of the diode, the first objective is to determine the linear region (conducting or not conducting) in which the diode is operating. To do this, we can: 1. Determine the input voltage condition such that a diode is conducting (on). Then find the output signal for this condition. 2. Determine the input voltage condition such that a diode is not conducting (off). Then find the output signal for this condition. [Note: Item 2 can be performed before item 1 if desired.] Figure 2.2(b) shows the voltage transfer characteristics, vO versus vS , for the circuit. For vS < 0, the diode is reverse biased, which means that the current is zero and the output voltage is zero. As long as vS < Vγ , the diode will be nonconducting, so the output voltage will remain zero. When vS > Vγ , the diode becomes forward biased and a current is induced in the circuit. In this case, we can write = vS − Vγ iD (2.2(a)) Rand vO = iD R = vS − Vγ (2.2(b)) For vS > Vγ , the slope of the transfer curve is 1. If vS is a sinusoidal signal, as shown in Figure 2.3(a), the output voltage can be found using the voltage transfer curve in Figure 2.2(b). For vS ≤ Vγ the output voltage is zero; for vS > Vγ , the output is given by Equation (2.2(b)), or vO = vS − Vγ and is shown in Figure 2.3(b). We can see that while the input signal vS alternates polarity and has a time-average value of zero, the output voltage vO is unidirectional and has an average value that is not zero. The input signal is therefore rectified. Also, since the output voltage appears only during the positive cycle of the input signal, the circuit is called a half-wave rectifier. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 70 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 70 Part 1 Semiconductor Devices and Basic Applications vS v vS vO Vg 0 t t (a) (b) v vS Vg t vD (c) Figure 2.3 Signals of the half-wave rectifier circuit: (a) sinusoidal input voltage, (b) rectified output voltage, and (c) diode voltage When the diode is cutoff and nonconducting, no voltage drop occurs across the resistor R; therefore, the entire input signal voltage appears across the diode (Figure 2.3(c)). Consequently, the diode must be capable of handling the peak current in the forward direction and sustaining the largest peak inverse voltage (PIV) without breakdown. For the circuit shown in Figure 2.2(a), the value of PIV is equal to the peak value of vS . We can use a half-wave rectifier circuit to charge a battery as shown in Figure 2.4(a). Charging current exists whenever the instantaneous ac source voltage is greater than the battery voltage plus the diode cut-in voltage as shown in Figure 2.4(b). The resistance R in the circuit is to limit the current. When the ac source voltage is less than VB , the current is zero. Thus current flows only in the direction to charge the battery. One disadvantage of the half-wave rectifier is that we “waste” the negative half-cycles. The current is zero during the negative half-cycles, so there is no energy dissipated, but at the same time, we are not making use of any possible available energy. EXAMPLE 2.1 Objective: Determine the currents and voltages in a half-wave rectifier circuit. Consider the circuit shown in Figure 2.4. Assume VB = 12 V, R = 100 , and Vγ = 0.6 V. Also assume vS(t) = 24 sin ωt. Determine the peak diode current, RV vS(t) S VB + Vi g D + iD(t) + v VS(t) = – B VS sin wt – wt1 wt2 wt (a) (b) Figure 2.4 (a) Half-wave rectifier used as a battery charger; (b) input voltage and diode current waveforms nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 71 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 71 maximum reverse-bias diode voltage, and the fraction of the cycle over which the diode is conducting. Solution: Peak diode current: VS − VB − Vγ 24 − 12 − 0.6 iD(peak) = = = 114 mA R 0.10 Maximum reverse-bias diode voltage: vR(max) = VS + VB = 24 + 12 = 36 V Diode conduction cycle: vI = 24 sin ωt1 = 12.6 or ( ) 12.6 ωt1 = sin−1 ⇒ 31.7◦ 24 By symmetry, ωt2 = 180 − 31.7 = 148.3◦ Then 148.3 − 31.7 Percent time = × 100% = 32.4% 360 Comment: This example shows that the diode conducts only approximately one- third of the time, which means that the efficiency of this battery charger is quite low. EXERCISE PROBLEM Ex 2.1: Repeat Example 2.1 if the input voltage is vs(t) = 12 sin ωt (V), VB = 4.5 V, and R = 250 . (Ans. iD(peak) = 27.6 mA, vR(max) = 16.5 V, 36.0 %) 2.1.2 Full-Wave Rectification The full-wave rectifier inverts the negative portions of the sine wave so that a unipo- lar output signal is generated during both halves of the input sinusoid. One example of a full-wave rectifier circuit appears in Figure 2.5(a). The input to the rectifier consists of a power transformer, in which the input is normally a 120 V (rms), 60 Hz ac signal, and the two outputs are from a center-tapped secondary winding that provides equal voltages vS , with the polarities shown. When the input line voltage is positive, both output signal voltages vS are also positive. The primary winding connected to the 120 Vac source has N1 windings, and each half of the secondary winding has N2 windings. The value of the vS output voltage is 120 (N2/N1) volts (rms). The turns ratio of the transformer, usually designated (N1/N2) can be designed to “step down” the input line voltage to a value that will produce a particular dc output voltage from the rectifier. The input power transformer also provides electrical isolation between the powerline circuit and the electronic circuits to be biased by the rectifier circuit. This isolation reduces the risk of electrical shock. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 72 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 72 Part 1 Semiconductor Devices and Basic Applications vO + + + D1 vS R vO – – vI + Slope ∼– –1 Slope ∼– 1 vS – D – 2 –Vg 0 Vg vS (a) (b) v Vg v v S –vS OD1 on D2 on D1 on D2 on D1 on T T 3T 2T t 2 2 (c) Figure 2.5 Full-wave rectifier: (a) circuit with center-tapped transformer, (b) voltage transfer characteristics, and (c) input and output waveforms During the positive half of the input voltage cycle, both output voltages vS are positive; therefore, diode D1 is forward biased and conducting and D2 is reverse biased and cutoff. The current through D1 and the output resistance produce a positive output voltage. During the negative half cycle, D1 is cutoff and D2 is forward biased, or “on,” and the current through the output resistance again produces a positive output voltage. If we assume that the forward diode resistance r f of each diode is small and negligible, we obtain the voltage transfer characteristics, vO versus vS , shown in Figure 2.5(b). For a sinusoidal input voltage, we can determine the output voltage versus time by using the voltage transfer curve shown in Figure 2.5(b). When vS > Vγ , D1 is on and the output voltage is vO = vS − Vγ . When vS is negative, then for vS < −Vγ or −vS > Vγ , D2 is on and the output voltage is vO = −vS − Vγ . The corresponding input and output voltage signals are shown in Figure 2.5(c). Since a rectified output voltage occurs during both the positive and negative cycles of the input signal, this circuit is called a full-wave rectifier. Another example of a full-wave rectifier circuit appears in Figure 2.6(a). This circuit is a bridge rectifier, which still provides electrical isolation between the input ac powerline and the rectifier output, but does not require a center-tapped secondary winding. However, it does use four diodes, compared to only two in the previous circuit. During the positive half of the input voltage cycle, vS is positive, D1 and D2 are forward biased, D3 and D4 are reverse biased, and the direction of the current is as shown in Figure 2.6(a). During the negative half-cycle of the input voltage, vS is negative, and D3 and D4 are forward biased. The direction of the current, shown in Figure 2.6(b), produces the same output voltage polarity as before. Figure 2.6(c) shows the sinusoidal voltage vS and the rectified output voltage vO . Because two diodes are in series in the conduction path, the magnitude of vO is two diode drops less than the magnitude of vS . One difference to be noted in the bridge rectifier circuit in Figure 2.6(a) and the rectifier in Figure 2.5(a) is the ground connection. Whereas the center tap of the secondary winding of the circuit in Figure 2.5(a) is at ground potential, the secondary nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 73 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 73 N1 : N2 + + – D3 D1 D3 D1 – vO + – vO + vI vS |vS| RR D2 DD2 4 D – – + 4 (a) (b) v 2Vg vS vO vO T T 3T 2T t 2 2 (c) Figure 2.6 A full-wave bridge rectifier: (a) circuit showing the current direction for a positive input cycle, (b) current direction for a negative input cycle, and (c) input and output voltage waveforms winding of the bridge circuit (Figure 2.6(a)) is not directly grounded. One side of the load R is grounded, but the secondary of the transformer is not. EXAMPLE 2.2 Objective: Compare voltages and the transformer turns ratio in two full-wave rectifier circuits. Consider the rectifier circuits shown in Figures 2.5(a) and 2.6(a). Assume the input voltage is from a 120 V (rms), 60 Hz ac source. The desired peak output voltage vO is 9 V, and the diode cut-in voltage is assumed to be Vγ = 0.7 V. Solution: For the center-tapped transformer circuit shown in Figure 2.5(a), a peak voltage of vO(max) = 9 V means that the peak value of vS is vS(max) = vO(max) + Vγ = 9 + 0.7 = 9.7 V For a sinusoidal signal, this produces an rms value of = √9.7 vS,rms = 6.86 V 2 The turns ratio of the primary to each secondary winding must then be N1 = 120 ∼= 17.5 N2 6.86 For the bridge circuit shown in Figure 2.6(a), a peak voltage of vO(max) = 9 V means that the peak value of vS is vS(max) = vO(max) + 2Vγ = 9 + 2(0.7) = 10.4 V For a sinusoidal signal, this produces an rms value of = 1√0.4 vS,rms = 7.35 V 2 nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 74 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 74 Part 1 Semiconductor Devices and Basic Applications The turns ratio should then be N1 = 120 ∼= 16.3 N2 7.35 For the center-tapped rectifier, the peak inverse voltage (PIV) of a diode is PIV = vR(max) = 2vS(max) − Vγ = 2(9.7) − 0.7 = 18.7 V For the bridge rectifier, the peak inverse voltage of a diode is PIV = vR(max) = vS(max) − Vγ = 10.4 − 0.7 = 9.7 V Comment: These calculations demonstrate the advantages of the bridge rectifier over the center-tapped transformer circuit. First, only half as many turns are required for the secondary winding in the bridge rectifier. This is true because only half of the secondary winding of the center-tapped transformer is utilized at anyone time. Second, for the bridge circuit, the peak inverse voltage that any diode must sustain without breakdown is only half that of the center-tapped transformer circuit. EXERCISE PROBLEM Ex 2.2: Consider the bridge circuit shown in Figure 2.6(a) with an input voltage vS = VM sin ωt . Assume a diode cut-in voltage of Vγ = 0.7V. Determine the fraction (percent) of time that the diode D1 is conducting for peak sinusoidal voltages of (a) VM = 12 V and (b) VM = 4 V. (Ans. (a) 46.3% (b) 38.6%) Because of the advantages demonstrated in Example 2.2 the bridge rectifier circuit is used more often than the center-tapped transformer circuit. Both full-wave rectifier circuits discussed (Figures 2.5 and 2.6) produce a positive output voltage. As we will see in the next chapter discussing transistor circuits, there are times when a negative dc voltage is also required. We can produce negative rectification by reversing the direction of the diodes in either circuit. Figure 2.7(a) shows the bridge circuit with the diodes reversed compared to those in Figure 2.6. The direction of current is shown during the positive half cycle of vS . The output voltage is now negative with respect to ground potential. During the negative half cycle of vS , the complementary diodes turn on and the direction of current through the load is the same, producing a negative output voltage. The input and output voltages are shown in Figure 2.7(b). v N1 : N2 + + DD v 3 1 S RL 0 T T t vI vS 2 vO D2 D4 D3 and D4 D1 and D2 – – on on (a) (b) Figure 2.7 (a) Full-wave bridge rectifier circuit to produce negative output voltages. (b) Input and output waveforms. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 75 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 75 2.1.3 Filters, Ripple Voltage, and Diode Current If a capacitor is added in parallel with the load resistor of a half-wave rectifier to form a simple filter circuit (Figure 2.8(a)), we can begin to transform the half-wave sinusoidal output into a dc voltage. Figure 2.8(b) shows the positive half of the output sine wave, and the beginning portion of the voltage across the capacitor, assuming the capacitor is initially uncharged. If we assume that the diode forward resistance is r f = 0, which means that the r f C time constant is zero, the voltage across the capacitor follows this initial portion of the signal voltage. When the signal voltage reaches its peak and begins to decrease, the voltage across the capacitor also starts to decrease, which means the capacitor starts to discharge. The only discharge current path is through the resistor. If the RC time constant is large, the voltage across the capacitor discharges exponentially with time (Figure 2.8(c)). During this time period, the diode is cutoff. A more detailed analysis of the circuit response when the input voltage is near its peak value indicates a subtle difference between actual circuit operation and the qualitative description. If we assume that the diode turns off immediately when the input voltage starts to decrease from its peak value, then the output voltage will decrease exponentially with time, as previously indicated. An exaggerated sketch of these two voltages is shown in Figure 2.8(d). The output voltage decreases at a faster rate than the input voltage, which means that at time t1, the difference between vI and vO vS + v ~ CR S – vO T Time 2 (a) (b) v vS a sin wt Vg v v ae–t/RC SO v ae–t/RC OT Time π wt1 wt 2 2 (c) (d) vS vO T T 3T Time 2 2 (e) Figure 2.8 Simple filter circuit: (a) half-wave rectifier with an RC filter, (b) positive input voltage and initial portion of output voltage, (c) output voltage resulting from capacitor discharge, (d) expanded view of input and output voltages assuming capacitor discharge begins at ωt = π/2, and (e) steady-state input and output voltages nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 76 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 76 Part 1 Semiconductor Devices and Basic Applications Vr VM vO VL t' t T' Tp Figure 2.9 Output voltage of a full-wave rectifier with an RC filter showing the ripple voltage vO , that is, the voltage across the diode, is greater than Vγ . However, this condition cannot exist. Therefore, the diode does not turnoff immediately. If the RC time constant is large, there is only a small difference between the time of the peak input voltage and the time the diode turns off. In this situation, a computer analysis may provide more accurate results than an approximate hand analysis. During the next positive cycle of the input voltage, there is a point at which the input voltage is greater than the capacitor voltage, and the diode turns back on. The diode remains on until the input reaches its peak value and the capacitor voltage is completely recharged. Since the capacitor filters out a large portion of the sinusoidal signal, it is called a filter capacitor. The steady-state output voltage of the RC filter is shown in Figure 2.8(e). The ripple effect in the output from a full-wave filtered rectifier circuit can be seen in the output waveform in Figure 2.9. The capacitor charges to its peak voltage value when the input signal is at its peak value. As the input decreases, the diode becomes reverse biased and the capacitor discharges through the output resistance R. Determining the ripple voltage is necessary for the design of a circuit with an acceptable amount of ripple. To a good approximation, the output voltage, that is, the voltage across the capacitor or the RC circuit, can be written as ′ ′ vO(t) = VM e−t /τ = V e−t /RC M (2.3) where t ′ is the time after the output has reached its peak value, and RC is the time constant of the circuit. The smallest output voltage is ′ V = V e−T /RC L M (2.4) where T ′ is the discharge time, as indicated in Figure 2.9. The ripple voltage Vr is defined as the difference between VM and VL , and is determined by ′ V = V − V = V (1 − e−T /RC r ML M ) (2.5) Normally, we will want the discharge time T ′ to be small compared to the time constant, or T ′  RC . Expanding the exponential in a series and keeping only the linear terms of that expansion, we have the approximation2 ′ e−T ′/RC ∼= T 1 − (2.6) RC 2We can show that the difference between the exponential function and the linear approximation given by Equation (2.6) is less than 0.5 percent for RC = 10T ′ . We need a relatively large RC time constant for this application. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 77 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 77 The ripple vol(tage c)an now be written as V =∼ T ′ r VM (2.7) RC Since the discharge time T ′ depends on the RC time constant, Equation (2.7) is difficult to solve. However, if the ripple effect is small, then as an approximation, we can let T ′ = T(p , so )that =∼ Tp Vr VM (2.8) RC where Tp is the time between peak values of the output voltage. For a full-wave rectifier, Tp is one-half the signal period. Therefore, we can relate Tp to the signal frequency, f = 1 2Tp The ripple voltage is then V Vr = M (2.9) 2 f RC For a half-wave rectifier, the time Tp corresponds to a full period (not a half period) of the signal, so the factor 2 does not appear in Equation (2.9). The factor of 2 shows that the full-wave rectifier has half the ripple voltage of the half-wave rectifier. Equation (2.9) can be used to determine the capacitor value required for a particular ripple voltage. EXAMPLE 2.3 Objective: Determine the capacitance required to yield a particular ripple voltage. Consider a full-wave rectifier circuit with a 60 Hz input signal and a peak output voltage of VM = 10 V. Assume the output load resistance is R = 10 k and the ripple voltage is to be limited to Vr = 0.2 V. Solution: From Equation (2.9), we can write C = VM = 10 ⇒ 41.7 μF 2 f RVr 2(60)(10 × 103)(0.2) Comment: If the ripple voltage is to be limited to a smaller value, a larger filter capacitor must be used. Note that the size of the ripple voltage and the size of filter capacitor are related to the load resistance R. EXERCISE PROBLEM Ex 2.3: Assume the input signal to a rectifier circuit has a peak value of VM = 12 V and is at a frequency of 60 Hz. Assume the output load resistance is R = 2 k and the ripple voltage is to be limited to Vr = 0.4 V. Determine the capacitance required to yield this specification for a (a) full-wave rectifier and (b) half-wave rectifier. (Ans. (a) C = 125 μF, (b) C = 250 μF). nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 78 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 78 Part 1 Semiconductor Devices and Basic Applications v Vr vO (a) T t = 0 T t 2 Δt iD iD, max (b) t Figure 2.10 Output of a full-wave rectifier with an RC filter: (a) diode conduction time and (b) diode current vO + The diode in a filtered rectifier circuit conducts for a brief interval t near the ii CD iR peak of the sinusoidal input signal. The diode current supplies the charge lost by the vS CR capacitor during the discharge time. Figure 2.10 shows the rectified output of a full- – wave rectifier and the filtered output assuming ideal diodes (Vγ = 0) in the rectifier circuit. We will use this approximate model to estimate the diode current during the Figure 2.11 Equivalent diode conduction time. Figure 2.11 shows the equivalent circuit of the full-wave rec- circuit of a full-wave rectifier tifier during the charging time. We see that during capacitor charging cycle dv v iD = iC + i O OR = C + (2.10) dt R During the diode conduction time near t = 0 (Figure 2.10), we can write vO = VM cos ωt (2.11) For small ripple voltages, the diode conduction time is small, so we can approximate the output voltage as [ ] v ∼ 1 O = VM cos ωt = VM 1 − (ωt)2 (2.12) 2 The charging current thro[ugh the capacito]r is = dv i CO C = 1 CVM − (2)(ωt)(ω) = −ωCVMωt (2.13) dt 2 From Figure 2.10, the diode conduction occurs during the time −t < t < 0, so that the capacitor current is positive and is a linear function of time. We note that at t = 0, the capacitor current is iC = 0. At t = −t , the capacitor charging current is at a peak value and is given by iC,peak = −ωCVM [ω(−t)] = +ωCVMωt (2.14) The capacitor current during the diode charging time is approximately triangular and is shown in Figure 2.10(b). From Equation (2.11), we can [write that the v]oltage VL is given by VL = 1 VM cos[ω(−t)] =∼ VM 1 − (ωt)2 (2.15) 2 nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 79 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 79 Solving for ω√t , we find = 2Vr ωt (2.16) VM where Vr = VM − VL . From Equation (2.9), we can write = V f CM (2.17(a)) 2RVr or = = πV 2π f C ωC M (2.17(b)) RVr Substituting E(quation)s (2.1(7(√b)) an)d (2.16) into Equation (2.14), we have = πVM 2Vi r C,peak VM (2.18(a)) RVr VM or √ VM 2Vi MC,peak = π (2.18(b)) R Vr Since the charging √current through the capacitor is triangular, we have that the average capacitor current during the diode charging time is π V 2Vi MM C,avg = (2.19) 2 R Vr During the capacitor charging time, there is still a current through the load. This current is also being supplied through the diode. Neglecting the ripple voltage, the load current is approximately i =∼ VM L (2.20) R Therefore, the peak diode current during the diode conduction time for a full-wave rectifier is approxi(mately √ ) =∼ VM 2Vi MD,peak 1 + π (2.21) R Vr and the averaged(iode cur√rent dur)ing the diode conduction time is =∼ VM + π 2Vi MD,avg 1 (2.22) R 2 Vr The average dio(de curre√nt over) the entire input signal period is Vi M π 2VM t D(avg) = 1 + (2.23) R 2 VT For the full-w√ave rectifier, w√e have 1/2T = f , so 1 2Vt = r = 1 2Vr  (2.24(a)) ω VM 2π f VM nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 80 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 80 Part 1 Semiconductor Devices and Basic Applications Then √ √ t = 1 2Vr = 1 2V fr 2 (2.24(b)) T 2π f VM π VM Then the average √current through th√e diode during the entire cycle for a full-wave rectifier is ( ) = 1 2Vr VM + π 2Vi MD(avg) 1 (2.25) π VM R 2 Vr DESIGN EXAMPLE 2.4 Objective: Design a full-wave rectifier to meet particular specifications. A full-wave rectifier is to be designed to produce a peak output voltage of 12 V, deliver 120 mA to the load, and produce an output with a ripple of not more than 5 percent. An input line voltage of 120 V (rms), 60 Hz is available. Solution: A full-wave bridge rectifier will be used, because of the advantages previously discussed. The effective load resistance is V 12 R = O = = 100  IL 0.12 Assuming a diode cut-in voltage of 0.7 V, the peak value of vS is vS(max) = vO(max) + 2Vγ = 12 + 2(0.7) = 13.4 V For a sinusoidal signal, this produces an rms voltage value of 13.4 vS,rms = √ = 9.48 V 2 The transformer turns ratio is then N1 = 120 = 12.7 N2 9.48 For a 5 percent ripple, the ripple voltage is Vr = (0.05)VM = (0.05)(12) = 0.6 V The required filter capacitor is found to be C = VM = 12 ⇒ 1667 μF 2 f RVr 2(60)(100)(0.6) The peak diode cur[rent, fro√m Equa]tion (2.21), is 12 iD,peak = 1 + 2(12) π = 2.50 A 100 0.6 and the average di√ode curre(nt ove)r( the enti√re signal) period, from Equation (2.25), is = 1 2(0.6) 12 π 2(12) iD(avg) 1 + ⇒ 132 mA π 12 100 2 0.6 Finally, the peak inverse voltage that each diode must sustain is PIV = vR(max) = vS(max) − Vγ = 13.4 − 0.7 = 12.7 V nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 81 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 81 Comment: The minimum specifications for the diodes in this full-wave rectifier circuit are: a peak current of 2.50 A, an average current of 132 mA, and a peak inverse voltage of 12.7 V. In order to meet the desired ripple specification, the required filter capacitance must be large, since the effective load resistance is small. Design Pointer: (1) A particular turns ratio was determined for the transformer. However, this particular transformer design is probably not commercially available. This means an expensive custom transformer design would be required, or if a standard transformer is used, then additional circuit design is required to meet the output voltage specification. (2) A constant 120 V (rms) input voltage is assumed to be available. However, this voltage can fluctuate, so the output voltage will also fluctuate. We will see later how more sophisticated designs will solve these two problems. Computer Verification: Since we simply used an assumed cut-in voltage for the diode and used approximations in the development of the ripple voltage equations, we can use PSpice to give us a more accurate evaluation of the circuit. The PSpice circuit schematic and the steady-state output voltage are shown in Figure 2.12. We see that the peak output voltage is 11.6 V, which is close to the desired 12 V. One reason for the slight discrepancy is that the diode voltage drop for the maximum input voltage is slightly greater than 0.8 V rather than the assumed 0.7 V. The ripple voltage is approximately 0.5 V, which is within the 0.6 V specification. Discussion: In the PSpice simulation, a standard diode, 1N4002, was used. In order for the computer simulation to be valid, the diode used in the simulation and in the actual circuit must match. In this example, to reduce the diode voltage and increase the peak output voltage, a diode with a larger cross-sectional area should be used. D3 DC 1 1N4002 1 1667 mF 1N4002 Vout + v3 ~ – 0 R1 100 Ω D2 D4 1N4002 1N4002 (a) Vout (V) 12 11 0 20 40 60 Time (ms) (b) Figure 2.12 (a) PSpice circuit schematic of diode bridge circuit with an RC filter; (b) Steady-state output voltage of PSpice analysis of diode bridge circuit for a 60 Hz input sine wave with a peak value of 13.4 V nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 82 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 82 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 2.4: The input voltage to the half-wave rectifier in Figure 2.8(a) is vS = 75 sin[2π(60)t] V. Assume a diode cut-in voltage of Vγ = 0. The ripple voltage is to be no more than Vr = 4 V. If the filter capacitor is 50 μF, determine the minimum load resistance that can be connected to the output. (Ans. R = 6.25 k) 2.1.4 Detectors One of the first applications of semiconductor diodes was as a detector for amplitude- modulated (AM) radio signals. An amplitude-modulated signal consists of a radio- frequency carrier wave whose amplitude varies with an audio frequency as shown in Figure 2.13(a). The detector circuit is shown in Figure 2.13(b) and is a half-wave rec- vin t (a) + vin RC vOUT – (b) vOUT t (c) Figure 2.13 The signals and circuit for demodulation of an amplitude-modulated signal. (a) The amplitude-modulated input signal. (b) The detector circuit. (c) The demodulated output signal. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 83 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 83 tifier circuit with an RC filter on the output. For this application, the RC time constant should be approximately equal to the period of the carrier signal, so that the output voltage can follow each peak value of the carrier signal. If the time constant is too large, the output will not be able to change fast enough and the output will not represent the audio output. The output of the detector is shown in Figure 2.13(c). The output of the detector circuit is then coupled to an amplifier through a capacitor to remove the dc component of the signal, and the output of the amplifier is then fed to a speaker. 2.1.5 Voltage Doubler Circuit A voltage doubler circuit is very similar to the full-wave rectifier, except that two diodes are replaced by capacitors, and it can produce a voltage equal to approximately twice the peak output of a transformer (Figure 2.14). Figure 2.15(a) shows the equivalent circuit when the voltage polarity at the “top” of the transformer is negative; Figure 2.15(b) shows the equivalent circuit for the opposite polarity. In the circuit in Figure 2.15(a), the forward diode resistance of D2 is small; therefore, the capacitor C1 will charge to almost the peak value of vS. Terminal 2 on C1 is positive with respect to terminal 1. As the magnitude of vS decreases from its peak value, C1 discharges through RL and C2. We assume that the time constant RLC2 is very long compared to the period of the input signal. As the polarity of vS changes to that shown in Figure 2.15(b), the voltage across C1 is essentially constant at VM, with terminal 2 remaining positive. As vS reaches its maximum value, the voltage across C2 essentially becomes VM. By Kirchhoff’s voltage law, + + D1 D2 + vO – vI vS RLC2 C1 – – Figure 2.14 A voltage doubler circuit D1 + + – D + 2 1 1 vS C1 RL vO vS C2 RL vO 2 2 + – 2 1 – – 2 C 1 2 C1 (a) (b) Figure 2.15 Equivalent circuit of the voltage doubler circuit: (a) negative input cycle and (b) positive input cycle nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 84 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 84 Part 1 Semiconductor Devices and Basic Applications the peak voltage across RL is now essentially equal to 2VM, or twice the peak output of the transformer. The same ripple effect occurs as in the output voltage of the rectifier circuits, but if C1 and C2 are relatively large, then the ripple voltage Vr, is quite small. There are also voltage tripler and voltage quadrupler circuits. These circuits provide a means by which multiple dc voltages can be generated from a single ac source and power transformer. Test Your Understanding TYU 2.1 Consider the circuit in Figure 2.4. The input voltage is vs(t) = 15 sin ω t (V) and the diode cut-in voltage is Vγ = 0.7 V. The voltage VB varies between 4 ≤ VB ≤ 8 V. The peak current is to be limited to iD(peak) = 18 mA. (a) Determine the minimum value of R. (b) Using the results of part (a), determine the range in peak current and the range in duty cycle. (Ans. (a) R = 572 ; (b) 11 ≤ iD(peak) ≤ 18 mA, 30.3 ≤ duty cycle ≤ 39.9 %). TYU 2.2 The circuit in Figure 2.5(a) is used to rectify a sinusoidal input signal with a peak voltage of 120 V and a frequency of 60 Hz. A filter capacitor is connected in parallel with R. If the output voltage cannot drop below 100 V, determine the required value of the capacitance C. The transformer has a turns ratio of N1 : N2 = 1 : 1, where N2 is the number of turns on each of the secondary windings. Assume the diode cut- in voltage is 0.7 V and the output resistance is 2.5 k. (Ans. C = 20.6 μF) TYU 2.3 The secondary transformer voltage of the rectifier circuit shown in Figure 2.6(a) is vS = 50 sin[2π(60)t] V. Each diode has a cut-in voltage of Vγ = 0.7 V, and the load resistance is R = 10 k. Determine the value of the filter capacitor that must be connected in parallel with R such that the ripple voltage is no greater than Vr = 2 V. (Ans. C = 20.3 μF) TYU 2.4 Determine the fraction (percent) of the cycle that each diode is conducting in (a) Exercise EX2.4, (b) Exercise TYU2.2, and (c) Exercise TYU2.3. (Ans. (a) 5.2%, (b) 18.1%, (c) 9.14%) 2.2 ZENER DIODE CIRCUITS Objective: • Apply the characteristics of the Zener diode to a Zener diode voltage regulator circuit. In Chapter 1, we saw that the breakdown voltage of a Zener diode was nearly constant over a wide range of reverse-bias currents (Figure 1.21). This makes the Zener diode useful in a voltage regulator, or a constant-voltage reference circuit. In this chapter, we will look at an ideal voltage reference circuit, and the effects of including a nonideal Zener resistance. The Zener diode voltage regulator circuits designed in this section will then be added to the design of the electronic power supply in Figure 2.1. We should note that in actual power supply designs, the voltage regulator will be a more sophisticated integrated circuit rather than the simpler Zener diode design that will be developed"
2.2 Zener Diode Circuits,"2.2 ZENER DIODE CIRCUITS Objective: • Apply the characteristics of the Zener diode to a Zener diode voltage regulator circuit. In Chapter 1, we saw that the breakdown voltage of a Zener diode was nearly constant over a wide range of reverse-bias currents (Figure 1.21). This makes the Zener diode useful in a voltage regulator, or a constant-voltage reference circuit. In this chapter, we will look at an ideal voltage reference circuit, and the effects of including a nonideal Zener resistance. The Zener diode voltage regulator circuits designed in this section will then be added to the design of the electronic power supply in Figure 2.1. We should note that in actual power supply designs, the voltage regulator will be a more sophisticated integrated circuit rather than the simpler Zener diode design that will be developed nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 85 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 85 here. One reason is that a standard Zener diode with a particular desired breakdown voltage may not be available. However, this section will provide the basic concept of a voltage regulator. 2.2.1 Ideal Voltage Reference Circuit Figure 2.16 shows a Zener voltage regulator circuit. For this circuit, the output voltage should remain constant, even when the output load resistance varies over a fairly wide range, and when the input voltage varies over a specific range. The variation in VP S maybe the ripple voltage from a rectifier circuit. We determine, initially, the proper input resistance Ri. The resistance Ri limits the current through the Zener diode and drops the “excess” voltage between VP Sand VZ. We can write Ri + + II + VPS IZ VZ IL RL VL – – – Figure 2.16 A Zener diode voltage regulator circuit = VP S − V R Z = VP S − VZ i + (2.26) II IZ IL which assumes that the Zener resistance is zero for the ideal diode. Solving this equation for the diode current, IZ, we get = VP S − VI Z Z − IL (2.27) Ri where IL = VZ/RL , and the variables are the input voltage source VPS and the load current IL. For proper operation of this circuit, the diode must remain in the breakdown region and the power dissipation in the diode must not exceed its rated value. In other words: 1. The current in the diode is a minimum, IZ(min), when the load current is a maximum, IL(max), and the source voltage is a minimum, VPS(min). 2. The current in the diode is a maximum, IZ(max), when the load current is a minimum, IL(min), and the source voltage is a maximum, VPS(max). Inserting these two specifications into Equation (2.26), we obtain R = VP S(min) − VZ i (2.28(a)) IZ (min) + IL(max) and = VP S(max) − V R Zi + (2.28(b)) IZ (max) IL(min) nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 86 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 86 Part 1 Semiconductor Devices and Basic Applications Equating these two expressions, we then obtain [VP S(min) − VZ ] · [IZ (max) + IL(min)] = [VP S(max) − VZ ] · (2.29) [IZ (min) + IL(max)] Reasonably, we can assume that we know the range of input voltage, the range of output load current, and the Zener voltage. Equation (2.29) then contains two unknowns, IZ (min) and IZ (max). Further, as a minimum requirement, we can set the minimum Zener current to be one-tenth the maximum Zener current, or IZ (min) = 0.1IZ (max). (More stringent design requirements may require the minimum Zener current to be 20 to 30 percent of the maximum value.) We can then solve for IZ (max), using Equation (2.29), as follows: = IL(max) · [VP S(max) − VZ ] − IL(min) · [VP S(min) − VI Z ] Z (max) VP S(min) − 0.9VZ − (2.30) 0.1VP S(max) Using the maximum current thus obtained from Equation (2.30), we can determine the maximum required power rating of the Zener diode. Then, combining Equation (2.30) with either Equation (2.28(a)) or (2.28(b)), we can determine the required value of the input resistance Ri. DESIGN EXAMPLE 2.5 Objective: Design a voltage regulator using the circuit in Figure 2.16. The voltage regulator is to power a car radio at VL = 9 V from an automobile battery whose voltage may vary between 11 and 13.6 V. The current in the radio will vary between 0 (off) to 100 mA (full volume). The equivalent circuit is shown in Figure 2.17. Solution: The maximum Zener diode current can be determined from Equation (2.30) as = (100)[13.6 − 9] − 0 IZ (max) ∼= 300 mA 11 − (0.9)(9) − (0.1)(13.6) The maximum power dissipated in the Zener diode is then PZ (max) = IZ (max) · VZ = (300)(9) ⇒ 2.7 W The value of the current-limiting resistor Ri, from Equation (2.28(b)), is = 13.6 − 9 Ri + = 15.3  0.3 0 Ri II IL V + + PS = IZ VZ = 9 V Radio 11–13.6 V – – Figure 2.17 Circuit for Design Example 2.5 nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 87 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 87 The maximum power dissipated in this resistor is = (V 2 PS(max) − VZ ) = (13.6 − 9)2 PRi (max) ∼= 1.4 W Ri 15.3 We find = 11 − 9 IZ (min) − 0.10 ⇒ 30.7 mA 15.3 Comment: From this design, we see that the minimum power ratings of the Zener diode and input resistor are 2.7 Wand 1.4 W, respectively. The minimum Zener diode current occurs for VPS(min) and IL(max). We find IZ(min) = 30.7 mA, which is approximately 10 percent of IZ(max) as specified by the design equations. Design Pointer: (1) The variable input in this example was due to a variable battery voltage. However, referring back to Example 2.4, the variable input could also be a function of using a standard transformer with a given turns ratio as opposed to a custom design with a particular turns ratio and/or having a 120 V (rms) input voltage that is not exactly constant. (2) The 9 V output is a result of using a 9 V Zener diode. However, a Zener diode with exactly a 9 V breakdown voltage may also not be available. We will again see later how more sophisticated designs can solve this problem. EXERCISE PROBLEM Ex 2.5: The Zener diode regulator circuit shown in Figure 2.16 has an input voltage that varies between 10 and 14 V, and a load resistance that varies between RL = 20 and 100 . Assume a 5.6 Zener diode is used, and assume IZ (min) = 0.1IZ (max). Find the value of Ri required and the minimum power rating of the diode. (Ans. PZ = 3.31 W, R ∼ i = 13 ) The operation of the Zener diode circuit shown in Figure 2.17 can be visualized by using load lines. Summing currents at the Zener diode, we have vP S − VZ = IZ + VZ (2.31) Ri RL Solving for VZ,(we obtain) ( ) RR RV Li L Z = vP S Ri + − IZ + (2.32) RL Ri RL which is the load line equation. Using the parameters of Example 2.5, the load resistance varies from RL = ∞(IL = 0) to RL = 9/0.1 = 90 (IL = 100 mA). The current limiting resistor is Ri = 15  and the input voltage varies over the range 11 ≤ vP S ≤ 13.6 V. We may write load line equations for the various circuit conditions. A: vP S = 11 V, RL = ∞; VZ = 11 − IZ (15) B: vP S = 11 V, RL = 90 ; VZ = 9.43 − IZ (12.9) C: vP S = 13.6 V, RL = ∞; VZ = 13.6 − IZ (15) D: vP S = 13.6 V, RL = 90 ; VZ = 11.7 − IZ (12.9) nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 88 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 88 Part 1 Semiconductor Devices and Basic Applications 11.0 9 VZ (V) 13.6 11.7 9.43 E BIZ (mA) ΔIZ AD C 0.73 0.907 Figure 2.18 Zener diode IV characteristics with various load lines superimposed Figure 2.18 shows the Zener diode IV characteristics. Superimposed on the figure are the four load lines designated as A, B, C, and D. Each load line intersects the diode characteristics in the breakdown region, which is the required condition for proper diode operation. The variation in Zener diode current IZ for the various combinations of input voltage and load resistance is shown on the figure. If we were to choose the input resistance to be Ri = 25  and let vP S = 11 V and RL = 90 , the load line equation (Equation (2.32)) becomes VZ = 8.61 − IZ (19.6) (2.33) This load line is plotted as curve Eon Figure 2.18. We see that this load line does not intersect the diode characteristics in the breakdown region. For this condition, the output voltage will not equal the breakdown voltage of VZ = 9 V; the circuit does not operate “properly.” 2.2.2 Zener Resistance and Percent Regulation In the ideal Zener diode, the Zener resistance is zero. In actual Zener diodes, however, this is not the case. The result is that the output voltage will fluctuate slightly with a fluctuation in the input voltage, and will fluctuate with changes in the output load resistance. Figure 2.19 shows the equivalent circuit of the voltage regulator including the Zener resistance. Because of the Zener resistance, the output voltage will change with a change in the Zener diode current. Two figures of merit can be defined for a voltage regulator. The first is the source regulation and is a measure of the change in output voltage with a change in source Ri + + III + L VPS IZ V RL VL – r Z z – – Figure 2.19 A Zener diode voltage regulator circuit with a nonzero Zener resistance nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 89 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 89 voltage. The second is the load regulation and is a measure of the change in output voltage with a change in load current. The source regulation is defined as = vL Source regulation × 100% (2.34) vP S where vL is the change in output voltage with a change of vP Sin the input voltage. The load regulation is defined as vL ,no load − vL ,full load Load regulation = × 100% (2.35) vL ,full load where vL ,no load is the output voltage for zero load current and vL ,full load is the output voltage for the maximum rated output current. The circuit approaches that of an ideal voltage regulator as the source and load regulation factors approach zero. EXAMPLE 2.6 Objective: Determine the source regulation and load regulation of a voltage regulator circuit. Consider the circuit described in Example 2.5 and assume a Zener resistance of rz = 2 . Solution: Consider the effect of a change in input voltage for a no-load condition (RL = ∞). For vP S = 13.6 V, we find 13.6 − 9 IZ = + = 0.2659 A 15.3 2 Then vL ,max = 9 + (2)(0.2659) = 9.532 V For vP S = 11 V, we find = 11 − 9 IZ = 0.1156 A 15.3 + 2 Then vL ,min = 9 + (2)(0.1156) = 9.231 V We obtain vL 9.532 − 9.231 Source regulation = × 100% = × 100% = 11.6% vP S 13.6 − 11 Now consider the effect of a change in load current for vP S = 13.6 V. For IL = 0, we find = 13.6 − 9 IZ + = 0.2659 A 15.3 2 and vL ,no load = 9 + (2)(0.2659) = 9.532 V nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 90 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 90 Part 1 Semiconductor Devices and Basic Applications For a load current of IL = 100 mA, we find IZ = 13.6 − [9 + IZ (2)] − 0.10 15.3 which yields IZ = 0.1775 A Then vL ,full load = 9 + (2)(0.1775) = 9.355 V We now obtain = vL ,no load − vL ,full load Load regulation × 100% vL ,full load = 9.532 − 9.355 × 100% = 1.89% 9.355 Comment: The ripple voltage on the input of 2.6 V is reduced by approximately a factor of 10. The change in output load results in a small percentage change in the output voltage. EXERCISE PROBLEM Ex 2.6: Repeat Example 2.6 for rz = 4 . Assume all other parameters are the same as listed in the example. (Ans. Source regulation = 20.7%, load regulation = 3.29%) Test Your Understanding TYU 2.5 Consider the circuit shown in Figure 2.19. Let VP S = 12 V, VZ O = 6.2 V, and rz = 3 . The power rating of the diode is P = 1 W. (a) Determine IZ (max) and Ri . (b) If IZ (min) = 0.1IZ (max), determine RL(min) and the load regulation. (Ans. (a) IZ (max) = 150 mA, Ri = 35.7 ; (b) RL(min) = 42.7 , 6.09 %). TYU 2.6 Suppose the current-limiting resistor in Example 2.5 is replaced by one whose value is Ri = 20 . Determine the minimum and maximum Zener diode current. Does the circuit operate “properly”? (Ans. IZ (min) = 0, IZ (max) = 230 mA). TYU 2.7 Suppose the power supply voltage in the circuit shown in Figure 2.17 drops to VP S = 10 V. Let Ri = 15.3 . What is the maximum load current in the radio if the minimum Zener diode current is to be maintained at IZ (min) = 30 mA? (Ans. IL(max) = 35.4 mA). 2.3 CLIPPER AND CLAMPER CIRCUITS Objective: • Apply the nonlinear characteristics of diodes to create waveshaping circuits known as clippers and clampers. In this section, we continue our discussion of nonlinear circuit applications of diodes. Diodes can be used in waveshaping circuits that either limit or “clip” portions of a signal, or shift the dc voltage level. The circuits are called clippers and clampers, respectively."
2.3 Clipper and Clamper Circuits,"2.3 CLIPPER AND CLAMPER CIRCUITS Objective: • Apply the nonlinear characteristics of diodes to create waveshaping circuits known as clippers and clampers. In this section, we continue our discussion of nonlinear circuit applications of diodes. Diodes can be used in waveshaping circuits that either limit or “clip” portions of a signal, or shift the dc voltage level. The circuits are called clippers and clampers, respectively. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 91 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 91 vO V + O V – Slope = A O v Av V + v OI Av VO Figure 2.20 General voltage transfer characteristics of a limiter circuit 2.3.1 Clippers Clipper circuits, also called limiter circuits, are used to eliminate portions of a signal that are above or below a specified level. For example, the half-wave rectifier is a clipper circuit, since all voltages below zero are eliminated. A simple application of a clipper is to limit the voltage at the input to an electronic circuit so as to prevent breakdown of the transistors in the circuit. The circuit maybe used to measure the frequency of the signal, if the amplitude is not an important part of the signal. Figure 2.20 shows the general voltage transfer characteristics of a limiter circuit. The limiter is a linear circuit if the input signal is in the range V − O /Av ≤ vI ≤ V + O /Av , where Avis the slope of the transfer curve. If Av ≤ 1, as in diode circuits, the circuit is a passive limiter. If vI > V + O /Av , the output is limited to a maximum value of V + O . Similarly, if vI < V − O /Av , the output is limited to a minimum value of V − O . Figure 2.20 shows the general transfer curve of a double limiter, in which both the positive and negative peak values of the input signal are clipped. Various combinations of V + O and V − O are possible. Both parameters maybe positive, both negative, or one maybe positive while the other negative, as indicated in the figure. If either V − O approaches minus infinity or V + O approaches plus infinity, then the circuit reverts to a single limiter. Figure 2.21(a) is a single-diode clipper circuit. The diode D1 is off as long as vI < VB + Vγ . With D1 off, the current is approximately zero, the voltage drop across R is essentially zero, and the output voltage follows the input voltage. When vI > VB + Vγ , the diode turns on, the output voltage is clipped, and vO equals VB + Vγ . The output signal is shown in Figure 2.21(b). In this circuit, the output is clipped above VB + Vγ . v vI VB + Vg vO + R + D1 t vI + vo VB – – – (a) (b) Figure 2.21 Single-diode clipper: (a) circuit and (b) output response nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 92 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 92 Part 1 Semiconductor Devices and Basic Applications vI + R + D1 D VB1 + Vg 2 vO vI + – vO VB1 Vt B2 – + –(VB2 + Vg) – – (a) (b) Figure 2.22 A parallel-based diode clipper circuit and its output response The resistor R in Figure 2.21 is selected to be large enough so that the forward diode current is limited to be within reasonable values (usually in the milliampere range), but small enough so that the reverse diode current produces a negligible voltage drop. Normally, a wide range of resistor values will result in satisfactory performance of a given circuit. Other clipping circuits can be constructed by reversing the diode, the polarity of the voltage source, or both. Positive and negative clipping can be performed simultaneously by using a double limiter or a parallel-based clipper, such as the circuit shown in Figure 2.22. The input and output signals are also shown in the figure. The parallel-based clipper is designed with two diodes and two voltage sources oriented in opposite directions. EXAMPLE 2.7 Objective: Find the output of the parallel-based clipper in Figure 2.23(a). For simplicity, assume that Vγ = 0 and r f = 0 for both diodes. v (V) vI R 6 1 = 10 kΩ + 4 vO i R = 1 2 2 10 kΩ D2 vI = 6 sin ωt + ~ D vO – 1 – t + V2 = 4 V –2 V1 = 2 V + – –4 – –6 (a) (b) Figure 2.23 Figure for Example 2.7 Solution: Fort = 0, we see that vI = 0 and both D1 and D2 are reverse biased. For 0 < vI ≤ 2 V, D1 and D2 remain off; therefore, vO = vI . For vI > 2 V, D1 turns on and = vI − 2 i1 10 + 10 Also, vO = i 1 1 1 R2 + 2 = (vI − 2) + 2 = v + 1 2 2 I nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 93 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 93 If vI = 6 V, then vO = 4 V. For −4 < vI < 0 V, both D1 and D2 are off and vO = vI . For vI ≤ −4 V, D2 turns on and the output is constant at vO = −4 V. The input and output waveforms are plotted in Figure 2.23(b). Comment: If we assume that Vγ = 0, the output will be very similar to there- sults calculated here. The only difference will be the points at which the diodes turn on. EXERCISE PROBLEM Ex 2.7: Design a parallel-based clipper that will yield the voltage transfer function shown in Figure 2.24. Assume diode cut-in voltages of Vγ = 0.7 V. (Ans. For Figure 2.23(b), V2 = 4.3, V1 = 1.8 V, and R1 = 2R2) vO 1 2.5 3 –5 2.5 vI –5 Figure 2.24 Figure for Exercise Ex 2.7 Diode clipper circuits can also be designed such that the dc power supply is in series with the input signal. Figure 2.25 shows one example. The battery in series with the input signal causes the input signal to be superimposed on the VB dc voltage. The resulting conditioned input signal and corresponding output signal is also shown in Figure 2.25. In all of the clipper circuits considered, we have included batteries that basically set the limits of the output voltage. However, batteries need periodic replacement, so that these circuits are not practical. Zener diodes, operated in the reverse breakdown region, provide essentially a constant voltage drop. We can replace the batteries by Zener diodes. + VB – v + R + vO 0 vI vO t VB v – – I Figure 2.25 Series-based diode clipper circuit and resulting output response nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 94 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 94 Part 1 Semiconductor Devices and Basic Applications vO R VZ1 + Vg + + D1 D2 vI + – v v O – (VI V V Z2 + Vg) VZ1 + Vg Z1 Z2 – + – – – (VZ2 + Vg ) (a) (b) Figure 2.26 (a) Parallel-based clipper circuit using Zener diodes; (b) voltage transfer characteristics Figure 2.26(a) shows a parallel based clipper circuit using Zener diodes. The voltage transfer characteristics are shown in Figure 2.26(b). The performance of the circuit in Figure 2.26(a) is essentially the same as that shown in Figure 2.22. 2.3.2 Clampers Clamping shifts the entire signal voltage by a dc level. In steady state, the output waveform is an exact replica of the input waveform, but the output signal is shifted by a dc value that depends on the circuit. The distinguishing feature of a clamper is that it adjusts the dc level without needing to know the exact waveform. An example of clamping is shown in Figure 2.27(a). The sinusoidal input voltage signal is shown in Figure 2.27(b). Assume that the capacitor is initially uncharged. During the first 90 degrees of the input waveform, the voltage across the capacitor follows the input, and vC = vI (assuming that r f = 0 and Vγ = 0). After vI and vC reach their peak values, vI begins to decrease and the diode becomes reverse biased. Ideally, the capacitor cannot discharge, so the voltage across the capacitor remains constant at vC = VM . By Kirchhoff’s voltage law vO = −vC + vI = −VM + VM sin ωt (2.36(a)) or vO = VM(sin ωt − 1) (2.36(b)) + vC – + vI v + I ~ v – O VM – 0 T t 4 (a) (b) vC vO VM 0 T t 4 0 T t 4 –2 VM (c) (d) Figure 2.27 Action of a diode clamper circuit: (a) atypical diode clamper circuit, (b) the sinusoidal input signal, (c) the capacitor voltage, and (d) the output voltage nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 95 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 95 The capacitor and output voltages are shown in Figures 2.27(c) and (d). The output voltage is “clamped” at zero volts, that is, vO ≤ 0. In steady state, the waveshapes of the input and output signals are the same, and the output signal is shifted by a certain dc level compared to the input signal. A clamping circuit that includes an independent voltage source VB is shown in Figure 2.28(a). In this circuit, the RLC time constant is assumed to be large, where RL is the load resistance connected to the output. If we assume, for simplicity, that r f = 0 and Vγ = 0, then the output is clamped at VB. Figure 2.28(b) shows an example of a sinusoidal input signal and the resulting output voltage signal. When the polarity of VB is as shown, the output is shifted in a negative voltage direction. Similarly, Figure 2.28(c) shows a square-wave input signal and the resulting output voltage signal. For the square-wave signal, we have neglected the diode capacitance effects and assume the voltage can change instantaneously. v v v C v II VB V vO B + + 0 0 t t vS + vO VB – – – vO (a) (b) (c) Figure 2.28 Action of a diode clamper circuit with a voltage source assuming an ideal diode (Vr = 0): (a) the circuit, (b) steady-state sinusoidal input and output signals, and (c) steady- state square-wave input and output signals Electronic signals tend to lose their dc levels during signal transmission. For example, the dc level of a TV signal maybe lost during transmission, so that the dc level must be restored at the TV receiver. The following example illustrates this effect. EXAMPLE 2.8 Objective: Find the steady-state output of the diode-clamper circuit shown in Figure 2.29(a). The input vI is assumed to be a sinusoidal signal whose dc level has been shifted with respect to a receiver ground by a value VB during transmission. Assume Vγ = 0 and r f = 0 for the diode. – V + 2 V CS vO vO CVS vI = + V VS sin w – B v t I + 0 VA 3 B t1 T T t 4 – –VS (a) (b) Figure 2.29 (a) Circuit for Example 2.8; (b) input and output waveforms nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 96 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 96 Part 1 Semiconductor Devices and Basic Applications Solution: Figure 2.29(b) shows the sinusoidal input signal. If the capacitor is initially uncharged, then the output voltage is vO = VB at t = 0 (diode reverse-biased). For 0 ≤ t ≤ t1, the effective RC time constant is infinite, the voltage across the capacitor does not change, and vO = vI + VB . At t = t1, the diode becomes forward biased; the output cannot go negative, so the voltage across the capacitor changes (the r f C time constant is zero). At t = ( 3 )T , the input signal begins increasing and the diode becomes reverse 4 biased, so the voltage across the capacitor now remains constant at VC = VS − VB with the polarity shown. The output voltage is now given by vO = (VS − VB) + vI + VB = (VS − VB) + VS sin ωt + VB or vO = VS(1 + sin ωt) Comment: Fort > ( 3 )T , steady state is reached. The output signal waveform is an 4 exact replica of the input signal waveform and is now measured with respect to the reference ground at terminal A. EXERCISE PROBLEM Ex 2.8: Sketch the steady-state output voltage for the input signal given for the circuit shown in Figure 2.30. Assume Vγ = r f = 0. (Ans. Square wave between +2 V and −8 V ) vI +5 V + + CR D v v OI + VB = 2 V – – – –5 V Figure 2.30 Figure for Exercise Ex 2.8 Test Your Understanding TYU 2.8 Consider the circuit in Figure 2.23(a). Let R1 = 5 k, R2 = 2 k, V1 = 1 V, and V2 = 3 V. Let Vγ = 0.7 V for each diode. Plot the voltage transfer characteristics (vO versus vI ) for −5 ≤ vI ≤ 5 V. (Ans. For vI ≤ −3.7 V, vO = −3.7 V; for −3.7 ≤ vI ≤ 1.7 V, vO = vI ; for vI ≥ 1.7 V, vO = 0.286 vI + 1.21) TYU 2.9 Determine the steady-state output voltage vO for the circuit in Figure 2.31(a), if the input is as shown in Figure 2.31(b). Assume the diode cut-in voltage is Vγ = 0. (Ans. Output is a square wave between +5 V and +35 V) nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 97 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 97 vI (V) T = 1 ms +10 C = 1 mF 0 t + + v RL = Iv + 100 kΩ O VB = 5 V – – – –20 (a) (b) Figure 2.31 Figure for Exercise TYU 2.9: (a) the circuit and (b) input signal vO 1 2 3 −2 3 vI 3 −2 1 Figure 2.32 Figure for Exercise TYU 2.10 TYU 2.10 Design a parallel-based clipper circuit that will yield the voltage transfer characteristics shown in Figure 2.32. Assume a diode cut-in voltage of Vγ = 0.7 V. (Ans. From Figure 2.23(a), V1 = 2.3 V, V2 = 1.3 V, R1 = R2, include R3 in series with D2, where R3 = 0.5R1) 2.4 MULTIPLE-DIODE CIRCUITS Objective: • Examine the techniques used to analyze circuits that contain more than one diode. Since a diode is a nonlinear device, part of the analysis of a diode circuit involves determining whether the diode is on or off. If a circuit contains more than one diode, the analysis is complicated by the various possible combinations of on and off. In this section, we will look at several multiple-diode circuits. We will see, for example, how diode circuits can be used to perform logic functions. This section serves as an introduction to digital logic circuits that will be considered in detail in Chapters 16 and 17."
2.4 Multiple-Diode Circuits,"2.4 MULTIPLE-DIODE CIRCUITS Objective: • Examine the techniques used to analyze circuits that contain more than one diode. Since a diode is a nonlinear device, part of the analysis of a diode circuit involves determining whether the diode is on or off. If a circuit contains more than one diode, the analysis is complicated by the various possible combinations of on and off. In this section, we will look at several multiple-diode circuits. We will see, for example, how diode circuits can be used to perform logic functions. This section serves as an introduction to digital logic circuits that will be considered in detail in Chapters 16 and 17. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 98 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M 98 Part 1 Semiconductor Devices and Basic Applications 2.4.1 Example Diode Circuits As a brief introduction, consider two single-diode circuits. Figure 2.33(a) shows a diode in series with a resistor. A plot of voltage transfer characteristics, vO versus vI, shows the piecewise linear nature of this circuit (Figure 2.33(b)). The diode does not begin to conduct until vI = Vγ . Consequently, for vI ≤ Vγ , the output voltage is zero; for vI > Vr , the output voltage is vO = vI − V γ . Figure 2.34(a) shows a similar diode circuit, but with the input voltage source explicitly included to show that there is a path for the diode current. The voltage transfer characteristic is shown in Figure 2.34(b). In this circuit, the diode remains conducting for vI < VS − Vγ , and the output voltage is vO = vI + Vγ . When vI > VS − Vγ , the diode turns off and the current through the resistor is zero; therefore, the output remains constant at VS . These two examples demonstrate the piecewise linear nature of the diode and the diode circuit. They also demonstrate that there are regions where the diode is “on,” or conducting, and regions where the diode is “off,” or nonconducting. vO D Vg vI vO ID R Vg vI (a) (b) Figure 2.33 Diode and resistor in series: (a) circuit and (b) voltage transfer characteristics vO VS VS RD vO + Vg iD vI – VS – Vg V v SI (a) (b) Figure 2.34 Diode with input voltage source: (a) circuit and (b) voltage transfer characteristics nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 99 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder:M Chapter 2 Diode Circuits 99 V + vO v (3) Oi V + R1 R1 v (2) D1 ′ DO v 2 vI vO v (1) ii OD1 D2 R2 i V – V +R v 2 IV – Figure 2.36 Voltage transfer characteristics Figure 2.35 A two-diode circuit for the two-diode circuit in Figure 2.35 In multidiode circuits, each diode maybe either on or off. Consider the two- diode circuit in Figure 2.35. Since each diode maybe either on or off, the circuit has four possible states. However, some of these states may not be feasible because of diode directions and voltage polarities. If we assume that V + > V − and that V + − V − > Vγ , there is at least a possibility that D2 can be turned on. First, v′ cannot be less than V −. Then, for v = V − I , diode D1 must be off. In this case, D2 is on, iR1 = iD2 = iR2, and vO = V + − iR1 R1 (2.37) where V + − Vγ − V − iR1 = + (2.38) R1 R2 Voltage v′ is one diode drop below vO , and D1 remains off as long as vI is less than the output voltage. As vI increases and becomes equal to vO , both D1 and D2 turn on. This condition or state is valid as long as vI < V +. When vI = V +, iR1 = iD2 = 0, at which point D2 turns off and vO cannot increase any further. Figure 2.36 shows the resulting plot of v versus v . Three distinct regions, v (1) OI O , v (2), and v (3) O O , correspond to the various conducting states of D1 and D2. The fourth possible state, corresponding to both D1 and D2 being off, is not feasible in this circuit. EXAMPLE 2.9 Objective: Determine the output voltage and diode currents for the circuit shown in Figure 2.35, for two values of input voltage. Assume the circuit parameters are R1 = 5 k, R2 = 10 k, Vγ = 0.7 V, V + = +5 V, and V − = −5 V. Determine vO, iD1, and iD2 for vI = 0 and vI = 4 V. Solution: For vI = 0, assume initially that D1 is off. The currents are then + = = = V − V − V − γ = 5 − 0.7 − (−5) iR1 iD2 iR2 + + = 0.62 mA R1 R2 5 10 The output voltage is vO = V + − iR1 R1 = 5 − (0.62)(5) = 1.9 V and v′ is v′ = vO − Vγ = 1.9 − 0.7 = 1.2 V nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 100 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 100 Part 1 Semiconductor Devices and Basic Applications From these results, we see that diode D1 is indeed cutoff, iD1 = 0, and our analysis is valid. For vI = 4 V, we see from Figure 2.36 that vO = vI ; therefore, vO = vI = 4 V. In this region, both D1 and D2 are on, and = = V + − vO = 5 − 4 iR1 iD2 = 0.2 mA R1 5 Note that v′ = vO − Vγ = 4 − 0.7 = 3.3 V. Thus, = v′ − V − = 3.3 − (−5) iR2 = 0.83 mA R2 10 The current through D1 is found from iD1 + iD2 = iR2 or iD1 = iR2 − iD2 = 0.83 − 0.2 = 0.63 mA Comment: For vI = 0, we see that vO = 1.9 V and v′ = 1.2 V. This means that D1 is reverse biased, or off, as we initially assumed. For vI = 4 V, we have iD1 > 0 and iD2 > 0, indicating that both D1 and D2 are forward biased, as we assumed. Computer analysis: For multidiode circuits, a PSpice analysis maybe useful in determining the conditions under which the various diodes are conducting or not conducting. This avoids guessing the conducting state of each diode in a hand analysis. Figure 2.37 is the PSpice circuit schematic of the diode circuit in Figure 2.35. + V + 5 V 4 R1 5 kΩ – Vout (V) D1 D2 V 5.0 out 0 1N914 1N914 + V1 R2 10 kΩ 0 V – V –5 V 5 0 0 –4.0 0 4.0 8.0 VI (V) 0 (a) (b) ID1 (mA) ID2 (mA) 2.0 800 0 0 –4.0 0 4.0 8.0 VI (V) –4.0 0 4.0 8.0 VI (V) (c) (d) Figure 2.37 (a) PSpice circuit schematic; (b) output voltage; (c) current in diode 1, and (d) current in diode 2 for the diode circuit in Example 2.9 nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 101 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 101 Figure 2.37 also shows the output voltage and the two diode currents as the input is varied between −1 V and +7 V. From these curves, we can determine when the diodes turn on and off. Comment: The hand analysis results, based on the piecewise linear model for the diode, agree very well with the computer simulation results. This gives us confidence in the piecewise linear model when quick hand calculations are made. EXERCISE PROBLEM Ex 2.9: Consider the circuit shown in Figure 2.38, in which the diode cut-in voltages are Vγ = 0.6 V. Plot vO versus vI for 0 ≤ vI ≤ 10 V. (Ans. For 0 ≤ vI ≤ 3.5 V, vO = 4.4 V; for vI > 3.5 V, D2 turns off; and for vI ≥ 9.4 V, vO = 10 V) +10 V R2 = 9.5 kΩ R1 = 0.5 kΩ VI VO D1 D2 +5 V Figure 2.38 Figure for Exercise Ex 2.9 Problem-Solving Technique: Multiple Diode Circuits Analyzing multidiode circuits requires determining if the individual devices are “on” or “off.” In many cases, the choice is not obvious, so we must initially guess the state of each device, then analyze the circuit to determine if we have a solution consistent with our initial guess. To do this, we can: 1. Assume the state of a diode. If a diode is assumed on, the voltage across the diode is assumed to be Vγ . If a diode is assumed to be off, the current through the diode is assumed to be zero. 2. Analyze the “linear” circuit with the assumed diode states. 3. Evaluate the resulting state of each diode. If the initial assumption were that a diode is “off” and the analysis shows that ID = 0 and VD ≤ Vγ , then the assumption is correct. If, however, the analysis actually shows that ID > 0 and/or VD > Vγ , then the initial assumption is incorrect. Similarly, if the initial assumption were that a diode is “on” and the analysis shows that ID ≥ 0 and VD = Vγ , then the initial assumption is correct. If, however, the analysis shows that ID < 0 and/or VD < Vγ , then the initial assumption is incorrect. 4. If any initial assumption is proven incorrect, then a new assumption must be made and the new “linear” circuit must be analyzed. Step 3 must then be repeated. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 102 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 102 Part 1 Semiconductor Devices and Basic Applications EXAMPLE 2.10 Objective: Demonstrate how inconsistencies develop in a solution with incorrect assumptions. For the circuit shown in Figure 2.35, assume that parameters are the same as those given in Example 2.9. Determine vO, iD1, iD2, and iR2 for vI = 0. Solution: Assume initially that both D1 and D2 are conducting (i.e., on). Then, v′ = −0.7 V and vO = 0. The two currents are V + − v 5 − 0 iR1 = i OD2 = = = 1.0 mA R1 5 and = v′ − V − = −0.7 − (−5) iR2 = 0.43 mA R2 10 Summing the currents at the v′ node, we find that iD1 = iR2 − iD2 = 0.43 − 1.0 = −0.57 mA Since this analysis shows the D1 current to be negative, which is an impossible or inconsistent solution, our initial assumption must be incorrect. If we go back to Example 2.9, we will see that the correct solution is D1 off and D2 on when vI = 0. Comment: We can perform linear analyses on diode circuits, using the piecewise linear model. However, we must first determine if each diode in the circuit is operating in the “on” linear region or the “off” linear region. EXERCISE PROBLEM Ex 2.10: Consider the circuit shown in Figure 2.39. The cut-in voltage of each diode is Vγ = 0.7 V. (a) Let vI = 5 V. Assume both diodes are conducting. Is this a correct assumption? Why or why not? Determine IR1, ID1, ID2, and vO . (b) Repeat part (a) for vI = 10 V. (Ans. (a) D1 is off, ID1 = 0, IR1 = ID2 = 0.754 mA, vO = 3.72 V; (b) ID1 = 0.9 mA, ID2 = 1.9 mA, IR1 = 1.0 mA, vO = 8.3 V) R1 = 1.7 kΩ vI VB = 1 V vO D1 + – D2 I ID2 D1 R2 = 4 kΩ Figure 2.39 Figure for Exercise Ex 2.10 EXAMPLE 2.11 Objective: Determine the current in each diode and the voltages VA and VB in the multidiode circuit shown in Figure 2.40. Let Vγ = 0.7 V for each diode. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 103 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 103 +5 V R1 = 5 kΩ ID3 VA ID2 D1 D2 D3 ID1 V R2 = 5 kΩ BR3 = 5 kΩ –10 V –5 V Figure 2.40 Diode circuit for Example 2.11 Solution: Initially assume each diode is in its conducting state. Starting with D3 and considering the voltages, we see that VB = −0.7 V and VA = 0 Summing currents at the VA node, we find 5 − VA = + (VA − 0.7) − (−10) ID2 5 5 Since VA = 0, we obtain 5 = + 9.3 ID2 ⇒ ID2 = −0.86 mA 5 5 which is inconsistent with the assumption that all diodes are “on” (an “on” diode would have a positive diode current). Now assume that D1 and D3 are on and D2 is off. We see that = 5 − 0.7 − (−10) ID1 + = 1.43 mA 5 5 and = (0 − 0.7) − (−5) ID3 = 0.86 mA 5 We find the voltages as VB = −0.7 V and VA = 5 − (1.43)(5) = −2.15 V From the values of VA and VB , the diode D2 is indeed reverse biased and off, so ID2 = 0. Comment: With more diodes in a circuit, the number of combinations of diodes being either on or off increases, which may increase the number of times a circuit must be analyzed before a correct solution is obtained. In the case of multiple diode circuits, a computer simulation might save time. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 104 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 104 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 2.11: Repeat Example 2.11 for the case when R1 = 8 k, R2 = 4 k, and R3 = 2k. (Ans. VB = −0.7 V, ID3 = 2.15 mA, ID2 = 0, ID1 = 1.19 mA, VA = −4.53 V) 2.4.2 Diode Logic Circuits Diodes in conjunction with other circuit elements can perform certain logic functions, such as AND and OR. The circuit in Figure 2.41 is an example of a diode logic circuit. The four conditions of operation of this circuit depend on various combinations of input voltages. If V1 = V2 = 0, there is no excitation to the circuit so both diodes are off and VO = 0. If at least one input goes to 5 V, for example, at least one diode turns on and VO = 4.3 V, assuming Vγ = 0.7 V. D1 V1 ID1 VO D2 V2 RI ID2 Figure 2.41 A two-input diode OR logic circuit These results are shown in Table 2.1. By definition, in a positive logic system, a voltage near zero corresponds to a logic 0 and a voltage close to the supply voltage of 5 V corresponds to a logic 1. The results shown in Table 2.1 indicate that this circuit performs the OR logic function. The circuit of Figure 2.41, then, is a two-input diode OR logic circuit. Next, consider the circuit in Figure 2.42. Assume a diode cut-in voltage of Vγ = 0.7 V. Again, there are four possible states, depending on the combination of input voltages. If at least one input is at zero volts, then at least one diode is conducting and VO = 0.7 V. If both V1 = V2 = 5 V, there is no potential difference between the supply voltage and the input voltage. All currents are zero and VO = 5 V. These results are shown in Table 2.2. This circuit performs the AND logic function. The circuit of Figure 2.42 is a two-input diode AND logic circuit. Table 2.1 Two-diode OR logic circuit response V1 (V) V2 (V) Vo (V) 0 0 0 5 0 4.3 0 5 4.3 5 5 4.3 nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 105 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 105 +5 VD1 VI R 1 ID1 VO D2 V2 ID2 Figure 2.42 A two-input diode AND logic circuit If we examine Tables 2.1 and 2.2, we see that the input “low” and “high” voltages may not be the same as the output “low” and “high” voltages. As an example, for the AND circuit (Table 2.2), the input “low” is 0 V, but the output “low” is 0.7 V. This can create a problem because the output of one logic gate is often the input to +14 V another logic gate. Another problem occurs when diode logic circuits are connected I in cascade; that is, the output of one OR gate is connected to the input of a second OR D1 D1 gate. The logic 1 levels of the two OR gates are not the same (see Problems 2.61 and R1 = 2.62). The logic 1 level degrades or decreases as additional logic gates are connected. 5 kΩ However, these problems maybe overcome with the use of amplifying devices (tran- +5 VD2 sistors) in digital logic systems. ID2 R2 = 5 kΩ Table 2.2 Two-diode AND logic D3 circuit response IV1 (V) V2 (V) V (V) D3 o R3 = 5 kΩ 0 0 0.7 5 0 0.7 –5 V 0 5 0.7 5 5 5 Figure 2.43 Figure for Exercise TYU 2.11 Test Your Understanding TYU 2.11 The cut-in voltage of each diode in the circuit shown in Figure 2.43 is Vγ = 0.7 V. Determine ID1, ID2, ID3, VA, and VB . (Ans. ID1 = 1.22 mA, ID2 = ID3 = 0, VA = 7.2 V, VB = 1.1 V) TYU 2.12 Repeat Exercise TYU 2.11 for R1 = 8 k, R2 = 12 k, and R3 = 2.5 k. (Ans. ID1 = 0.7 mA, ID2 = 0, ID3 = 1.02 mA, VA = 7.7 V, VB = −0.7 V) TYU 2.13 Consider the OR logic circuit shown in Figure 2.41. Assume a diode cut- in voltage of Vγ = 0.6 V. (a) Plot VO versus V1 for 0 ≤ V1 ≤ 5 V, if V2 = 0. (b) Repeat part (a) if V2 = 3 V. (Ans. (a) VO = 0 for V1 ≤ 0.6 V, VO = V1 − 0.6 for 0.6 ≤ V1 ≤ 5 V; (b) VO = 2.4 V for 0 ≤ V1 ≤ 3 V, VO = V1 − 0.6 for 3 ≤ V1 ≤ 5 V) TYU 2.14 Consider the AND logic circuit shown in Figure 2.42. Assume a diode cut- in voltage of Vγ = 0.6 V. (a) Plot VO versus V1 for 0 ≤ V1 ≤ 5 V, if V2 = 0. (b) Repeat part (a) if V2 = 3 V. (Ans. (a) VO = 0.6 V for all V1, (b) VO = V1 + 0.6 for 0 ≤ V1 ≤ 3 V, VO = 3.6 V for V1 ≥ 3 V) nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 106 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 106 Part 1 Semiconductor Devices and Basic Applications 2.5 PHOTODIODE AND LED CIRCUITS Objective: • Understand the operation and characteristics of specialized photodiode and light-emitting diode circuits. A photodiode converts an optical signal into an electrical current, and alight- emitting diode (LED) transforms an electrical current into an optical signal. 2.5.1 Photodiode Circuit h ν Figure 2.44 shows atypical photodiode circuit in which a reverse-bias voltage is applied to the photodiode. If the photon intensity is zero, the only current through the diode is the reverse-saturation current, which is normally very small. Photons + + striking the diode create excess electrons and holes in the space-charge region. Iph VPS R VO The electric field quickly separates these excess carriers and sweeps them out of the – space-charge region, thus creating a photocurrent in the reverse-bias direction. – The photocurrent is Iph = ηe A (2.39) Figure 2.44 A photodiode where η is the quantum efficiency, e is the electronic charge, is the photon flux circuit. The diode is reverse biased density (#/cm2−s), and A is the junction area. This linear relationship between photocurrent and photon flux is based on the assumption that the reverse-bias voltage across the diode is constant. This in turn means that the voltage drop across R induced by the photocurrent must be small, or that the resistance R is small. EXAMPLE 2.12 Objective: Calculate the photocurrent generated in a photodiode. For the photodiode shown in Figure 2.44 assume the quantum efficiency is 1, the junction area is 10−2 cm2, and the incident photon flux is 5 × 1017cm−2 − s−1. Solution: From Equation (2.39), the photocurrent is I = ηe A = (1)(1.6 × 10−19)(5 × 1017)(10−2 ph ) ⇒ 0.8 mA Comment: The incident photon flux is normally given in terms of light intensity, in lumens, foot-candles, or W/cm2. The light intensity includes the energy of the photons, as well as the photon flux. EXERCISE PROBLEM Ex 2.12: (a) Photons with an energy of hν = 2 eV are incident on the photodiode shown in Figure 2.44. The junction area is A = 0.5 cm2, the quantum efficiency is η = 0.8, and the light intensity is 6.4 × 10−2 W/cm2. Determine the photocurrent Iph. (b) If R = 1 k, determine the minimum power supply voltage VPS needed to ensure that the diode is reverse biased. (Ans. (a) Iph = 12.8 mA, (b) VPS(min) = 12.8 V)"
2.5 Photodiode and LED Circuits,"2.5 PHOTODIODE AND LED CIRCUITS Objective: • Understand the operation and characteristics of specialized photodiode and light-emitting diode circuits. A photodiode converts an optical signal into an electrical current, and alight- emitting diode (LED) transforms an electrical current into an optical signal. 2.5.1 Photodiode Circuit h ν Figure 2.44 shows atypical photodiode circuit in which a reverse-bias voltage is applied to the photodiode. If the photon intensity is zero, the only current through the diode is the reverse-saturation current, which is normally very small. Photons + + striking the diode create excess electrons and holes in the space-charge region. Iph VPS R VO The electric field quickly separates these excess carriers and sweeps them out of the – space-charge region, thus creating a photocurrent in the reverse-bias direction. – The photocurrent is Iph = ηe A (2.39) Figure 2.44 A photodiode where η is the quantum efficiency, e is the electronic charge, is the photon flux circuit. The diode is reverse biased density (#/cm2−s), and A is the junction area. This linear relationship between photocurrent and photon flux is based on the assumption that the reverse-bias voltage across the diode is constant. This in turn means that the voltage drop across R induced by the photocurrent must be small, or that the resistance R is small. EXAMPLE 2.12 Objective: Calculate the photocurrent generated in a photodiode. For the photodiode shown in Figure 2.44 assume the quantum efficiency is 1, the junction area is 10−2 cm2, and the incident photon flux is 5 × 1017cm−2 − s−1. Solution: From Equation (2.39), the photocurrent is I = ηe A = (1)(1.6 × 10−19)(5 × 1017)(10−2 ph ) ⇒ 0.8 mA Comment: The incident photon flux is normally given in terms of light intensity, in lumens, foot-candles, or W/cm2. The light intensity includes the energy of the photons, as well as the photon flux. EXERCISE PROBLEM Ex 2.12: (a) Photons with an energy of hν = 2 eV are incident on the photodiode shown in Figure 2.44. The junction area is A = 0.5 cm2, the quantum efficiency is η = 0.8, and the light intensity is 6.4 × 10−2 W/cm2. Determine the photocurrent Iph. (b) If R = 1 k, determine the minimum power supply voltage VPS needed to ensure that the diode is reverse biased. (Ans. (a) Iph = 12.8 mA, (b) VPS(min) = 12.8 V) nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 107 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 107 2.5.2 LED Circuit Alight-emitting diode (LED) is the inverse of a photodiode; that is, a current is converted into an optical signal. If the diode is forward biased, electrons and holes are injected across the space-charge region, where they become excess minority carriers. These excess minority carriers diffuse into the neutral n- and p-regions, where they recombine with majority carriers, and the recombination can result in the emission of D1 a photon. LEDs are fabricated from compound semiconductor materials, such as gal- D6 DD 2 lium arsenide or gallium arsenide phosphide. These materials are direct-bandgap 7 semiconductors. Because these materials have higher bandgap energies than silicon, D5 D3 the forward-bias junction voltage is larger than that in silicon-based diodes. D4 It is common practice to use a seven-segment LED for the numeric readout of digital instruments, such as a digital voltmeter. The seven-segment display is Figure 2.45 Seven-segment sketched in Figure 2.45. Each segment is an LED normally controlled by IC logic LED display gates. Figure 2.46 shows one possible circuit connection, known as a common-anode display. In this circuit, the anodes of all LEDs are connected to a 5 V source and the inputs are controlled by logic gates. If VI 1 is “high,” for example, D1 is off and there is no light output. When VI 1 goes “low,” D1 becomes forward biased and produces alight output. +5 VD1 D2 D7 ID1 ID2 ID7 RR R VI1 VI2 VI7 Figure 2.46 Control circuit for the seven-segment LED display EXAMPLE 2.13 Objective: Determine the value of R required to limit the current in the circuit in Figure 2.46 when the input is in the low state. Assume that a diode current of 10 mA produces the desired light output, and that the corresponding forward-bias voltage drop is 1.7 V. Solution: If VI = 0.2 V in the “low” state, then the diode current is I = 5 − Vγ − VI R . . . nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 108 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 108 Part 1 Semiconductor Devices and Basic Applications The resistance R is then determined as = 5 − Vγ − VI = 5 − 1.7 − 0.2 R ⇒ 310  I 10 Comment: Typical LED current-limiting resistor values are in the range of 300 to 350 . EXERCISE PROBLEM Ex 2.13: Determine the value of resistance R required to limit the current in the circuit shown in Figure 2.46 to I = 15 mA. Assume Vγ = 1.7 V, r f = 15 , and VI = 0.2 V in the “low” state. (Ans. R = 192 ) One application of LEDs and photodiodes is in optoisolators, in which the input signal is electrically decoupled from the output (Figure 2.47). An input signal applied to the LED generates light, which is subsequently detected by the photodiode. The photodiode then converts the light back to an electrical signal. There is no electrical feedback or interaction between the output and input portions of the circuit. LED photodiode I hν I Isolated Input 1 2 RL output signal signal – + Figure 2.47 Optoisolator using an LED and a photodiode 2.6 DESIGN APPLICATION: DC POWER SUPPLY Objective: • Design a dc power supply to meet a set of specifications. Specifications: The output load current is to vary between 25 and 50 mA while the output voltage is to remain in the range 12 ≤ vO ≤ 12.2 V. Design Approach: The circuit configuration to be designed is shown in Figure 2.48. A diode bridge circuit with an RC filter will be used and a Zener diode will be in parallel with the output load. Choices: An ac input voltage with an rms value in the range 110 ≤ vI ≤ 120 V and at 60 Hz is available. A Zener diode with a Zener voltage of VZ O = 12 V and a Zener resistance of 2  that can operate over a current range of 10 ≤ IZ ≤ 100 mA is available. Also, a transformer with an 8:1 turns ratio is available. Solution: With an 8:1 transformer turns ratio, the peak value of vS is in the range 19.4 ≤ vS ≤ 21.2 V. Assuming diode turn-on voltages of Vγ = 0.7 V, the peak value of vO1 is in the range 18.0 ≤ vO1 ≤ 19.8 V."
2.6 Design Application: DC Power Supply,"2.6 DESIGN APPLICATION: DC POWER SUPPLY Objective: • Design a dc power supply to meet a set of specifications. Specifications: The output load current is to vary between 25 and 50 mA while the output voltage is to remain in the range 12 ≤ vO ≤ 12.2 V. Design Approach: The circuit configuration to be designed is shown in Figure 2.48. A diode bridge circuit with an RC filter will be used and a Zener diode will be in parallel with the output load. Choices: An ac input voltage with an rms value in the range 110 ≤ vI ≤ 120 V and at 60 Hz is available. A Zener diode with a Zener voltage of VZ O = 12 V and a Zener resistance of 2  that can operate over a current range of 10 ≤ IZ ≤ 100 mA is available. Also, a transformer with an 8:1 turns ratio is available. Solution: With an 8:1 transformer turns ratio, the peak value of vS is in the range 19.4 ≤ vS ≤ 21.2 V. Assuming diode turn-on voltages of Vγ = 0.7 V, the peak value of vO1 is in the range 18.0 ≤ vO1 ≤ 19.8 V. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 109 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 109 N1 : N2 + + D4 D1 R v R oi 1 vI vS vO + C Ii – – D2 D V 3 ZO – IR LL IZ rZ Figure 2.48 DC power supply circuit for design application For vO1(max) and minimum load current, let IZ = 90 mA. Then vO = VZ O + IZrz = 12 + (0.090)(2) = 12.18 V The input current is Ii = IZ + IL = 90 + 25 = 115 mA The input resistance Ri must then be = vO1 − vO = 19.8 − 12.18 Ri = 66.3  Ii 0.115 The minimum Zener current occurs for IL(max) and vO1(min). The voltage vO1(min) occurs for vS(min) and must also take into account the ripple voltage. Let IZ (min) = 20 mA. Then the output voltage is vO = VZ O + IZrZ = 12 + (0.020)(2) = 12.04 V The output voltage is within the specified range of output voltage. We now find Ii = IZ + IL = 20 + 50 = 70 mA and vO1(min) = Ii Ri + vO = (0.070)(66.3) + 12.04 or vO1(min) = 16.68 V The minimum ripple voltage of the filter is then Vr = vS(min) − 1.4 − vO1(min) = 19.4 − 1.4 − 16.68 or Vr = 1.32 V Now, let R1 = 500 . The effective resistance to ground from vO1 is R1‖Ri,eff where Ri,eff is the effective resistance to ground through Ri and the other circuit elements. We can approximate ≈ vS(avg) − 1.4 Ri,eff = 20.3 − 1.4 = 164  Ii (max) 0.115 nea80644_ch02_067-124.qxd 06/10/2009 07:47 PM Page 110 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-02: 110 Part 1 Semiconductor Devices and Basic Applications Then R1‖Ri,eff = 500‖164 = 123.5 . The required filter capacitance is found from = VM = 19.8 C ⇒ 1012 μF 2 f RVr 2(60)(123.5)(1.32) Comments: To obtain the proper output voltage in this design, an appropriate Zener diode must be available. We will see in Chapter 9 how an op-amp can be incorporated to provide a more flexible design. 2.7 SUMMARY • Diode circuits, taking advantage of the nonlinear iv characteristics of the pn junction, were analyzed and designed in this chapter. • Half-wave and full-wave rectifier circuits convert a sinusoidal (i.e., ac) signal to an approximate dc signal. A dc power supply, which is used to bias electronic circuits and systems, utilizes these types of circuits. An RC filter can be connected to the output of the rectifier circuit to reduce the ripple effect. • Zener diodes operate in the reverse-breakdown region and are used in voltage reference or regulator circuits. The percent regulation, a figure of merit for regulator circuits, was defined and determined for various regulator circuits. • Techniques used to analyze multidiode circuits were developed. The technique requires making assumptions as to whether a diode is conducting (on) or not conducting (off). After analyzing the circuit using these assumptions, we must go back and verify that the assumptions made were valid. • Diode circuits can be designed to perform basic digital logic functions, such as the AND and OR function. However, there are some inconsistencies between input and output logic values as well as some loading effects, which will severely limit the use of diode logic gates as standalone circuits. • The LED converts electrical current to light and is used extensively in such applications as the seven-segment alphanumeric display. Conversely, the photodiode detects an incident light signal and transforms it into an electrical current. • As an application, a simple dc power supply was designed using a rectifier circuit in conjunction with a Zener diode. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ In general, apply the diode piecewise linear model in the analysis of diode circuits. ✓ Analyze diode rectifier circuits, including the calculation of ripple voltage. ✓ Analyze Zener diode circuits, including the effect of a Zener resistance. ✓ Determine the output signal for a given input signal of diode clipper and clamper circuits. ✓ Analyze circuits with multiple diodes by making initial assumptions and then verifying these initial assumptions."
2.7 Summary,"2.7 SUMMARY • Diode circuits, taking advantage of the nonlinear iv characteristics of the pn junction, were analyzed and designed in this chapter. • Half-wave and full-wave rectifier circuits convert a sinusoidal (i.e., ac) signal to an approximate dc signal. A dc power supply, which is used to bias electronic circuits and systems, utilizes these types of circuits. An RC filter can be connected to the output of the rectifier circuit to reduce the ripple effect. • Zener diodes operate in the reverse-breakdown region and are used in voltage reference or regulator circuits. The percent regulation, a figure of merit for regulator circuits, was defined and determined for various regulator circuits. • Techniques used to analyze multidiode circuits were developed. The technique requires making assumptions as to whether a diode is conducting (on) or not conducting (off). After analyzing the circuit using these assumptions, we must go back and verify that the assumptions made were valid. • Diode circuits can be designed to perform basic digital logic functions, such as the AND and OR function. However, there are some inconsistencies between input and output logic values as well as some loading effects, which will severely limit the use of diode logic gates as standalone circuits. • The LED converts electrical current to light and is used extensively in such applications as the seven-segment alphanumeric display. Conversely, the photodiode detects an incident light signal and transforms it into an electrical current. • As an application, a simple dc power supply was designed using a rectifier circuit in conjunction with a Zener diode. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ In general, apply the diode piecewise linear model in the analysis of diode circuits. ✓ Analyze diode rectifier circuits, including the calculation of ripple voltage. ✓ Analyze Zener diode circuits, including the effect of a Zener resistance. ✓ Determine the output signal for a given input signal of diode clipper and clamper circuits. ✓ Analyze circuits with multiple diodes by making initial assumptions and then verifying these initial assumptions. nea80644_ch02_067-124.qxd 06/10/2009 07:47 PM Page 111 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-02: Chapter 2 Diode Circuits 111 REVIEW QUESTIONS 1. What characteristic of a diode is used in the design of diode signal processing circuits? 2. Describe a simple half-wave diode rectifier circuit and sketch the output voltage versus time. 3. Describe a simple full-wave diode rectifier circuit and sketch the output voltage versus time. 4. What is the advantage of connecting an RC filter to the output of a diode rectifier circuit? 5. Define ripple voltage. How can the magnitude of the ripple voltage be reduced? 6. Describe a simple Zener diode voltage reference circuit. 7. What effect does the Zener diode resistance have on the voltage reference circuit operation? Define load regulation. 8. What are the general characteristics of diode clipper circuits? 9. Describe a simple diode clipper circuit that limits the negative portion of a sinusoidal input voltage to a specified value. 10. What are the general characteristics of diode clamper circuits? 11. What one circuit element, besides a diode, is present in all diode clamper circuits? 12. Describe the procedure used in the analysis of a circuit containing two diodes. How many initial assumptions concerning the state of the circuit are possible? 13. Describe a diode OR logic circuit. Compare a logic 1 value at the output compared to a logic 1 value at the input. Are they the same value? 14. Describe a diode AND logic circuit. Compare a logic 0 value at the output compared to a logic 0 value at the input. Are they the same value? 15. Describe a simple circuit that can be used to turn an LED on or off with a high or low input voltage. PROBLEMS [Note: In the following problems, assume r f = 0 unless otherwise specified.] Section 2.1 Rectifier Circuits 2.1 Consider the circuit shown in Figure P2.1. Let R = 1 k, Vγ = 0.6 V, and + + r f = 20 . (a) Plot the voltage transfer characteristics vO versus vI over the D range −10 ≤ vI ≤ 10 V. (b) Assume vI = 10 sin ω t (V). (i) Sketch vO vI R vo versus time for the sinusoidal input. (ii) Find the average value of vO . – – (iii) Determine the peak diode current. (iv) What is the PIV of the diode? 2.2 For the circuit shown in Figure P2.1, show that for vI ≥ 0, the output voltage is approxima(tely gi)ven by Figure P2.1 vO = − v vI VT ln O IS R 2.3 A half-wave rectifier such as shown in Figure 2.2(a) has a 2 k load. The input is a 120 V (rms), 60 Hz signal and the transformer is a 10:1 step- down transformer. The diode has a cut-in voltage of Vγ = 0.7 V (r f = 0). (a) What is the peak output voltage? (b) Determine the peak diode current."
Problems,"PROBLEMS [Note: In the following problems, assume r f = 0 unless otherwise specified.] Section 2.1 Rectifier Circuits 2.1 Consider the circuit shown in Figure P2.1. Let R = 1 k, Vγ = 0.6 V, and + + r f = 20 . (a) Plot the voltage transfer characteristics vO versus vI over the D range −10 ≤ vI ≤ 10 V. (b) Assume vI = 10 sin ω t (V). (i) Sketch vO vI R vo versus time for the sinusoidal input. (ii) Find the average value of vO . – – (iii) Determine the peak diode current. (iv) What is the PIV of the diode? 2.2 For the circuit shown in Figure P2.1, show that for vI ≥ 0, the output voltage is approxima(tely gi)ven by Figure P2.1 vO = − v vI VT ln O IS R 2.3 A half-wave rectifier such as shown in Figure 2.2(a) has a 2 k load. The input is a 120 V (rms), 60 Hz signal and the transformer is a 10:1 step- down transformer. The diode has a cut-in voltage of Vγ = 0.7 V (r f = 0). (a) What is the peak output voltage? (b) Determine the peak diode current. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 112 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 112 Part 1 Semiconductor Devices and Basic Applications (c) What is the fraction (percent) of a cycle that vO > 0. (d) Determine the average output voltage. (e) Find the average current in the load. 2.4 Consider the battery charging circuit shown in Figure 2.4(a). Assume that VB = 9 V, VS = 15 V, and ω = 2π(60). (a) Determine the value of R such that the average battery charging current is iD = 0.8 A. (b) Find the fraction of time that the diode is conducting. 2.5 Figure P2.5 shows a simple full-wave battery charging circuit. Assume VB = 9 V, Vγ = 0.7 V, and vS = 15 sin[2π(60)t] (V). (a) Determine R such that the peak battery charging current is 1.2 A. (b) Determine the average battery charging current. (c) Determine the fraction of time that each diode is conducting. ND1 R 2 N + 1 + + vS VB v – IN2 + – vS – D2 Figure P2.5 2.6 The full-wave rectifier circuit shown in Figure 2.5(a) in the text is to deliver 0.2 A and 12 V (peak values) to a load. The ripple voltage is to be limited to 0.25 V. The input signal is 120 V (rms) at 60 Hz. Assume diode cut-in voltages of 0.7 V. (a) Determine the required turns ratio of the transformer. (b) Find the required value of the capacitor. (c) What is the PIV rating of the diode? 2.7 The input signal voltage to the full-wave rectifier circuit in Figure 2.6(a) in the text is vI = 160 sin[2π(60)t] V. Assume Vγ = 0.7 V for each diode. Determine the required turns ratio of the transformer to produce a peak output voltage of (a) 25 V, and (b) 100 V. (c) What must be the diode PIV rating for each case? 2.8 The output resistance of the full-wave rectifier in Figure 2.6(a) in the text is R = 150 . A filter capacitor is connected in parallel with R. Assume Vγ = 0.7 V. The peak output voltage is to be 12 V and the ripple voltage is to be no more than 0.3 V. The input frequency is 60 Hz. (a) Determine the required rms value of vS. (b) Determine the required filter capacitance value. (c) Determine the peak current through each diode. 2.9 Repeat Problem 2.8 for the half-wave rectifier in Figure 2.2(a). 2.10 Consider the half-wave rectifier circuit shown in Figure 2.8(a) in the text. Assume vS = 10 sin[2π(60)t] (V), Vγ = 0.7 V, and R = 500 . (a) What is the peak output voltage? (b) Determine the value of capacitance required such that the ripple voltage is no more that Vr = 0.5 V. (c) What is the PIV rating of the diode? 2.11 The parameters of the half-wave rectifier circuit in Figure 2.8(a) in the text are R = 1 k, C = 350 μF, and Vγ = 0.7 V. Assume vS(t) = VS sin[2π(60)t] (V) where VS is in the range of 11 ≤ VS ≤ 13 V. (a) What is the range in output voltage? (b) Determine the range in ripple voltage. (c) If the ripple voltage is to be limited to Vr = 0.4 V, determine the minimum value of capacitance required. nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 113 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 113 2.12 The full-wave rectifier circuit shown in Figure P2.12 has an input signal whose frequency is 60 Hz. The rms value of vS = 8.5 V. Assume each diode cut-in voltage is Vγ = 0.7 V. (a) What is the maximum value of VO? (b) If R = 10 , determine the value of C such that the ripple voltage is no larger than 0.25 V. (c) What must be the PIV rating of each diode? VO + + D1 vS CR vI – + vS D – 2 – Figure P2.12 2.13 Consider the full-wave rectifier circuit in Figure 2.7 of the text. The output resistance is RL = 125 , each diode cut-in voltage is Vγ = 0.7 V, and the frequency of the input signal is 60 Hz. A filter capacitor is connected in parallel with RL. The magnitude of the peak output voltage is to be 15 V and the ripple voltage is to be no more than 0.35 V. (a) Determine the rms value of vS and (b) the required value of the capacitor. 2.14 The circuit in Figure P2.14 is a complementary output rectifier. If vs = 26 sin [2π(60)t] V, sketch the output waveforms v+ o and v− o versus time, assuming Vγ = 0.6 V for each diode. v+ o + + R vs – vi + vs R – – v– o Figure P2.14 2.15 A full-wave rectifier is to be designed using the center-tapped transformer configuration. The peak output voltage is to be 12 V, the nominal load current is to be 0.5 A, and the ripple v√oltage is to be limited to 3 percent. Assume Vγ = 0.8 V and let vI = 120 2 sin[2π(60)t] V. (a) What is the transformer turns ratio? (b) What is the minimum value of C required? (c) What is the peak diode current? (d) Determine the average diode current. (e) What is the PIV rating of the diodes. 2.16 A full-wave rectifier is to be designed using the bridge circuit configuration. The peak output voltage is to be 9 V, the nominal load current is to be 100 mA, and the ripple voltage√ is to be limited to Vr = 0.2 V. Assume Vγ = 0.8 V and let vI = 120 2 sin[2π(60)t] (V). (a) What is the transformer turns ratio? (b) What is the minimum value of C required? (c) What nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 114 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 114 Part 1 Semiconductor Devices and Basic Applications is the peak diode current? (d) Determine the average diode current. (e) What is the PIV rating of the diodes. *2.17 Sketch vo versus time for the circuit in Figure P2.17 with the input shown. Assume Vγ = 0. vi + DD2 1 + R1 = +40 D 2.2 kΩ 1 vi v R o – vo + 1 = vi 2.2 kΩ –40 RL = RL = 6.8 kΩ R2 = 2.2 kΩ – D 2.2 kΩ 2 R2 = – 2.2 kΩ Figure P2.17 Figure P2.18 *2.18 (a) Sketch vo versus time for the circuit in Figure P2.18. The input is a sine wave given by vi = 10 sin ωt V. Assume Vγ = 0. (b) Determine the rms value of the output voltage. Section 2.2 Zener Diode Circuits 2.19 Consider the circuit shown in Figure P2.19. The Zener diode voltage is VZ = 3.9 V and the Zener diode incremental resistance is rz = 0. (a) Determine IZ , IL , and the power dissipated in the diode. (b) Repeat part (a) if the 4 k load resistor is increased to 10 k. 12 kΩ 120 Ω + IZ IL + + + 20 V VZ 4 kΩ 40 V VZ RL – – – – Figure P2.19 Figure P2.20 2.20 Consider the Zener diode circuit shown in Figure P2.20. Assume VZ = 12 V and rz = 0. (a) Calculate the Zener diode current and the power dissipated in the Zener diode for RL = ∞. (b) What is the value of RL such that the current in the Zener diode is one-tenth of the current supplied by the 40 V source? (c) Determine the power dissipated in the Zener diode for the conditions of part (b). 2.21 Consider the Zener diode circuit shown in Figure P2.21. Let VI = 60 V, Ri = 150 , and VZ O = 15.4 V. Assume rz = 0. The power rating of the diode is 4 Wand the minimum diode current is to be 15 mA. (a) Determine the range of diode currents. (b) Determine the range of load resistance. Ri + + + II IZ IL VI VZ RL VL – – – Figure P2.21 nea80644_ch02_067-124.qxd 06/08/2009 07:28 PM Page 115 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 115 *2.22 In the voltage regulator circuit in Figure P2.21, VI = 20 V, VZ = 10 V, Ri = 222 , and PZ (max) = 400 mW. (a) Determine IL, IZ, and II, if RL = 380 . (b) Determine the value of RL that will establish PZ(max) in the diode. (c) Repeat part (b) if Ri = 175 . 2.23 A Zener diode is connected in a voltage regulator circuit as shown in Figure P2.21. The Zener voltage is VZ = 10 V and the Zener resistance is assumed to be rz = 0. (a) Determine the value of Ri such that the Zener diode remains in breakdown if the load current varies from IL = 50 to 500 mA and if the input voltage varies from VI = 15 to 20 V. Assume IZ (min) = 0.1IZ (max). (b) Determine the power rating required for the Zener diode and the load resistor. 2.24 Consider the Zener diode circuit in Figure 2.19 in the text. Assume parameter values of V ∼ Z O = 5.6 V (diode voltage when IZ = 0), rz = 3 , and Ri = 50 . Determine VL , IZ , IL , and the power dissipated in the diode for (a) VP S = 10 V, RL = ∞; (b) VP S = 10 V, RL = 200 ; (c) VP S = 12 V, RL = ∞; and (d) VP S = 12 V, RL = 200 . D2.25 Design a voltage regulator circuit such as shown in Figure P2.21 so that VL = 7.5 V. The Zener diode voltage is VZ = 7.5 Vat IZ = 10 mA. The incremental diode resistance is rz = 12 . The nominal supply voltage is VI = 12 V and the nominal load resistance is RL = 1 k. (a) Determine Ri . (b) If VI varies by ±10 percent, calculate the source regulation. What is the variation in output voltage? (c) If RL varies over the range of 1 k ≤ RL ≤ ∞, what is the variation in output voltage? Determine the load regulation. 2.26 The percent regulation of the Zener diode regulator shown in Figure 2.16 is 5 percent. The Zener voltage is VZ O = 6 V and the Zener resistance is rz = 3 . Also, the load resistance varies between 500 and 1000 , the input resistance is Ri = 280 , and the minimum power supply voltage is VP S(min) = 15 V. Determine the maximum power supply voltage allowed. *2.27 A voltage regulator is to have a nominal output voltage of 10 V. The specified Zener diode has a rating of 1 W, has a 10 V drop at IZ = 25 mA, and has a Zener resistance of rz = 5 . The input power supply has a nominal value of VP S = 20 V and can vary by ±25 percent. The output load current is to vary between IL = 0 and 20 mA. (a) If the minimum Zener current is to be IZ = 5 mA, determine the required Ri. (b) Determine the maximum variation in output voltage. (c) Determine the percent regulation. *2.28 Consider the circuit in Figure P2.28. Let Vγ = 0. The secondary voltage is given by vs = Vs sin ωt , where Vs = 24 V. The Zener diode has parameters VZ = 16 Vat IZ = 40 mA and rz = 2 . Determine Ri such that the load current can vary over the range 40 ≤ IL ≤ 400 mA with IZ (min) = 40 mA and find C such that the ripple voltage is no larger than 1 V. Ri + + + + IZ Iv Ls C VZ RL VL vi + – – vs – – Figure P2.28 nea80644_ch02_067-124.qxd 06/08/2009 08:41 PM Page 116 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 116 Part 1 Semiconductor Devices and Basic Applications *2.29 The secondary voltage in the circuit in Figure P2.28 is vs = 12 sin ωt V. The Zener diode has parameters VZ = 8 Vat IZ = 100 mA and rz = 0.5 . Let Vγ = 0 and Ri = 3 . Determine the percent regulation for load currents between IL = 0.2 and 1 A. Find C such that the ripple voltage is no larger than 0.8 V. Section 2.3 Clipper and Clamper Circuits 2.30 The parameters in the circuit shown in Figure P2.30 are Vγ = 0.7 V, VZ1 = 2.3 V, and VZ2 = 5.6 V. Plot vO versus vI over the range of −10 ≤ vI ≤ +10 V. R = 0.5 kΩ vI vO D1 D2 + – VZ1 VZ2 VZ = 3 V – + 10 kΩ + – vI vO R1= R2= Ω i 1 k 2 kΩ 1 10 kΩ Figure P2.30 Figure P2.31 2.31 Consider the circuit in Figure P2.31. Let Vγ = 0. (a) Plot vO versus vI over the range −10 ≤ vI ≤ +10 V. (b) Plot i1 over the same input voltage range as part (a). 2.32 For the circuit in Figure P2.32, (a) plot vO versus vI for 0 ≤ vI ≤ 15 V. Assume Vγ = 0.7 V. Indicate all breakpoints. (b) Plot iD over the same range of input voltage. (c) Compare the results of parts (a) and (b) with a computer simulation. 1 kΩ VB R = 4 kΩ vI vo vI vO iD DD 1 kΩ 2 kΩ + 15 V vI vO R = 4 kΩ VB (a) (b) Figure P2.32 Figure P2.33 2.33 Each diode cut-in voltage is 0.7 V for the circuits shown in Figure P2.33. (a) Plot vO versus vI over the range −5 ≤ vI ≤ +5 V for the circuit in Figure P2.33(a) for (i) VB = 1.8 V and (ii) VB = −1.8 V. (b) Repeat part (a) for the circuit shown in Figure P2.33(b). *2.34 The diode in the circuit of Figure P2.34(a) has piecewise linear parameters Vγ = 0.7 V and r f = 10 . (a) Plot vO versus vI for −30 ≤ vI ≤ 30 V. (b) If the triangular wave, shown in Figure P2.34(b), is applied, plot the output versus time. nea80644_ch02_067-124.qxd 06/08/2009 08:41 PM Page 117 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 117 vI R = 100 Ω vI vO 30 V + t 10 V – –30 V (a) (b) Figure P2.34 2.35 Consider the circuits shown in Figure P2.35. Each diode cut-in voltage is Vγ = 0.7 V. (a) Plot vO versus vI over the range −10 ≤ vI ≤ +10 V for the circuit in Figure P2.35(a) for (i) VB = 5 V and (ii) VB = −5 V. (b) Repeat part (a) for the circuit in Figure P2.35(b). +VD B – D +VB – vI v v OI vO R = R = 6.8 kΩ 6.8 kΩ (a) (b) Figure P2.35 2.36 Plot vO for each circuit in Figure P2.36 for the input shown. Assume (a) Vγ = 0 and (b) Vγ = 0.6 V. vI v v 20 VI O – 2 V + 2.2 kΩ + + + vI 10 kΩ v 0 O 5 V –5 V – – – (a) (b) Figure P2.36 2.37 Consider the parallel clipper circuit in Figure 2.26 in the text. Assume VZ1 = 6 V, VZ2 = 4 V, and Vγ = 0.7 V for all diodes. For vI = 10 sin ωt, sketch vO versus time over two periods of the input signal. *2.38 A car’s radio maybe subjected to voltage spikes induced by coupling from the ignition system. Pulses on the order of ±250 V and lasting for 120 μs may exist. Design a clipper circuit using resistors, diodes, and Zener diodes to limit the input voltage between +14 V and −0.7 V. Specify power ratings of the components. nea80644_ch02_067-124.qxd 06/08/2009 08:42 PM Page 118 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 118 Part 1 Semiconductor Devices and Basic Applications 2.39 Sketch the steady-state output voltage vO versus time for each circuit in Figure P2.39 with the input voltage given in Figure P2.39(a). Assume Vγ = 0 and assume the RC time constant is large. vI C 20 V vI vO 0 Rt –20 V (a) CC vI vO vI vO – R + R VB = 5 V VB = 5 V + – (b) (c) Figure P2.39 D2.40 Design a diode clamper to generate a steady-state output voltage vO from the input voltage vI shown in Figure P2.40 if (a) Vγ = 0 and (b) Vγ = 0.7 V. vI vO +10 V +2.7 V 0 t 0 t –10 V –17.3 V (a) (b) Figure P2.40 D2.41 Design a diode clamper to generate a steady-state output voltage vO from the input voltage vI in Figure P2.41 if Vγ = 0. vI vO +20 V +30 V 0 t 0 t –20 V –10 V (a) (b) Figure P2.41 nea80644_ch02_067-124.qxd 06/08/2009 07:29 PM Page 119 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 119 2.42 For the circuit in Figure P2.39(b), let Vγ = 0 and vI = 10 sin ω t (V). Plot vO versus time over three cycles of input voltage. Assume the initial voltage across the capacitor is zero and assume the RC time constant is very large. 2.43 Repeat Problem 2.42 for the circuit in Figure P2.39(c) for (i) VB = 5 V and (ii) VB = −5 V. Section 2.4 Multiple Diode Circuits 2.44 The diodes in the circuit in Figure P2.44 have piecewise linear parameters of Vγ = 0.6 V and r f = 0. Determine the output voltage VO and the diode currents ID1 and ID2 for the following input conditions: (a) V1 = 10 V, V2 = 0; (b) V1 = 5 V, V2 = 0; (c) V1 = 10 V, V2 = 5 V; and (d) V1 = V2 = 10 V. (e) Compare the results of parts (a) through (d) with a computer simulation analysis. 2.45 In the circuit in Figure P2.45 the diodes have the same piecewise linear parameters as described in Problem 2.44. Calculate the output voltage VO and the currents ID1, ID2, and I for the following input conditions: (a) V1 = V2 = 10 V; (b) V1 = 10 V, V2 = 0; (c) V1 = 10 V, V2 = 5 V; and (d) V1 = V2 = 0. +10 V 0.5 kΩ D1 V1 II 9.5 kΩ D1 0.5 kΩ D1 0.5 kΩ D V V 2 1 O V2 VOID1 ID2 9.5 kΩ 0.5 kΩ D2 V2 ID2 Figure P2.44 Figure P2.45 2.46 The diodes in the circuit in Figure P2.46 have the same piecewise linear parameters as described in Problem 2.44. Determine the output voltage VO and the currents ID1, ID2, ID3, and I for the following input conditions: (a) V1 = V2 = 0; (b) V1 = V2 = 5 V; (c) V1 = 5 V, V2 = 0; and (d) V1 = 5 V, V2 = 2 V. +10 VI 0.5 kΩ D1 V 9.5 kΩ 1 ID1 VO 0.5 kΩ D2 V2 D3 ID2 ID3 +5 V Figure P2.46 nea80644_ch02_067-124.qxd 06/08/2009 07:29 PM Page 120 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 120 Part 1 Semiconductor Devices and Basic Applications +10 V 2.47 Consider the circuit shown in Figure P2.47. Assume each diode cut-in voltage is Vγ = 0.6 V. (a) Determine R1, R2, and R3 such that ID1 = 0.2 mA, D1 +5 V ID2 = 0.3 mA, and ID3 = 0.5 mA. (b) Find V1, V2, and each diode current R for R1 = 10 k, R2 = 4 k, and R3 = 2.2 k. (c) Repeat part (b) for 1 D2 R1 = 3 k, R2 = 6 k, and R3 = 2.5 k. (d) Repeat part (b) for V1 R1 = 6 k, R2 = 3 k, and R3 = 6 k. 2.48 The diode cut-in voltage for each diode in the circuit shown in Figure P2.48 R2 is 0.7 V. Determine the value of R such that (a) ID1 = ID2, (b) ID D1 = 0.2ID2, 3 and (c) ID1 = 5ID2. V2 2.49 Consider the circuit in Figure P2.49. Each diode cut-in voltage is R3 Vγ = 0.7 V. (a) For R2 = 1.1 k, determine ID1, ID2, and VA. (b) Repeat part (a) for R2 = 2.5 k. (c) Find R2 such that VA = 0. What are the values of ID1 and ID2? Figure P2.47 +5 V +5 V ID1 D1 R1 = I = 2 kΩ 5 mA 10 V VA I = 5 mA II DD1 DD2 2 1 D2 ID2 RR2 –2 V –5 V Figure P2.48 Figure P2.49 2.50 In each circuit shown in Figure P2.50, the diode cut-in voltage is Vγ = 0.6 V. (a) For the circuit in Figure P2.50(a), determine vO for (i) vI = +5 V and (ii) vI = −5 V. (b) Repeat part (a) for the circuit in Figure P2.50(b). (c) Plot the voltage transfer characteristics, vO versus vI , of each circuit over the range −5 ≤ vI ≤ +5 V. 5 kΩ D1 D1 vO 5 kΩ D2 v v + OI 500 Ω – 2 kΩ 500 Ω v + ID2 2 kΩ – (a) (b) Figure P2.50 *2.51 Assume Vγ = 0.7 V for each diode in the circuit in Figure P2.51. Plot vO versus vI for −10 ≤ vI ≤ +10 V. nea80644_ch02_067-124.qxd 06/08/2009 07:29 PM Page 121 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 121 +10 V 10 kΩ +15 V R1 = 6.15 kΩ vI vO D1 VO 10 kΩ VA DD ID1 3 2 R2 = 2 kΩ II 10 kΩ D3 D2 R4 R3 –10 V –10 V –5 V Figure P2.51 Figure P2.52 2.52 The cut-in voltage of each diode in the circuit shown in Figure P2.52 is Vγ = 0.7 V. Determine ID1, ID2, ID3, and VA for (a) R3 = 14 k, R4 = 24 k; (b) R3 = 3.3 k, R4 = 5.2 k; and (c) R3 = 3.3 k, R4 = 1.32 k. 2.53 Let Vγ = 0.7 V for each diode in the circuit in Figure P2.53. (a) Find ID1 and VO for R1 = 5 k and R2 = 10 k. (b) Repeat part (a) for R1 = 10 k and R2 = 5 k. R1 D2 R1 D2 +10 V VO +10 V VOID1 D1 R2 ID1 D1 R2 –10 V –15 V Figure P2.53 Figure P2.54 2.54 For the circuit shown in Figure P2.54, let Vγ = 0.7 V for each diode. Calculate ID1 and VO for (a) R1 = 10 k, R2 = 5 k and for (b) R1 = 5 k, R2 = 10 k. 2.55 Assume each diode cut-in voltage is Vγ = 0.7 V for the circuit in Figure P2.55. Determine ID1 and VO for (a) R1 = 10 k, R2 = 5 k and (b) R1 = 5 k, R2 = 10 k. RD +15 1 2 +10 V VOID1 D1 R 10 kΩ 2 ID VO –15 V 20 kΩ 20 kΩ Figure P2.55 2.56 If Vγ = 0.7 V for the diode in the circuit in Figure P2.56 determine ID and VO. Figure P2.56 nea80644_ch02_067-124.qxd 06/08/2009 07:29 PM Page 122 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: 122 Part 1 Semiconductor Devices and Basic Applications 2.57 Let Vγ = 0.7 V for the diode in the circuit in Figure P2.57. Determine ID , VD , VA, and VB for (a) V1 = V2 = 6 V; (b) V1 = 2 V, V2 = 5 V; (c) V1 = 5 V, V2 = 4 V; and (d) V1 = 2 V, V2 = 8 V. 15 kΩ D1 D2 – Ω V + 10 k D 10 kΩ + + V1 V2 10 kΩ 5 kΩ I Ω D vI vO 10 k 10 kΩ + + 2.5 V 10 V – – – – Figure P2.57 Figure P2.58 2.58 (a) Each diode in the circuit in Figure P2.58 has piecewise linear parameters of Vγ = 0 and r f = 0. Plot vO versus vI for 0 ≤ vI ≤ 30 V. Indicate the breakpoints and give the state of each diode in the various regions of the plot. (b) Compare the results of part (a) with a computer simulation analysis. 2.59 Each diode cut-in voltage in the circuit in Figure P2.59 is 0.7 V. Determine ID1, ID2, ID3, and vO for (a) vI = 0.5 V, (b) vI = 1.5 V, (c) vI = 3.0 V, and (d) vI = 5.0 V. R1 = 4 kΩ vO +12 V R2 = R3 = R4 = 8 kΩ 6 kΩ 4 kΩ + II = D1 ID2 ID3 vI 100 mA – D1 D2 D3 D1 D2 + + vI 1.0 V 2.0 VI + – – D2 VB – Figure P2.59 Figure P2.60 2.60 Let Vγ = 0.7 V for each diode in the circuit shown in Figure P2.60. Plot ID2 versus vI over the range 0 ≤ vI ≤ 12 V for (a) VB = 4.5 V and (b) VB = 9 V. 2.61 Consider the circuit in Figure P2.61. The output of a diode OR logic gate is connected to the input of a second diode OR logic gate. Assume Vγ = 0.6 V for each diode. Determine the outputs VO1 and VO2 for: (a) V1 = V2 = 0; (b) V1 = 5 V, V2 = 0; and (c) V1 = V2 = 5 V. What can be said about the relative values of VO1 and VO2 in their “high” state? D1 D3 V1 VO1 VO2 D2 D4 V2 0 V 10 kΩ 10 kΩ Figure P2.61 nea80644_ch02_067-124.qxd 06/08/2009 07:29 PM Page 123 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-02 Folder: Chapter 2 Diode Circuits 123 2.62 Consider the circuit in Figure P2.62. The output of a diode AND logic gate is connected to the input of a second diode AND logic gate. Assume Vγ = 0.6 V for each diode. Determine the outputs VO1 and VO2 for: (a) V1 = V2 = 5 V; (b) V1 = 0, V2 = 5 V; and (c) V1 = V2 = 0. What can be said about the relative values of VO1 and VO2 in their “low” state? + 5 V 10 kΩ +5 V +5 V V1 V2 10 kΩ 10 kΩ D V 1 VD O O1 3 V1 VO2 10 kΩ 10 kΩ DD V3 2 4 V2 5 V V4 Figure P2.62 Figure P2.63 2.63 Determine the Boolean expression for VO in terms of the four input voltages for the circuit in Figure P2.63 (Hint: A truth table might be helpful.) Section 2.5 LED and Photodiode Circuits 2.64 Consider the circuit shown in Figure P2.64. The forward-bias cut-in voltage VCC = 10 V of the diode is 1.5 V and the forward-bias resistance is r f = 10 . Determine the value of R required to limit the current to I = 12 mA when VI RI = 0.2 V. 2.65 The light-emitting diode in the circuit shown in Figure P2.64 has parameters Vγ = 1.7 V and r f = 0. Light will first be detected when the current is I = 8 mA. If R = 750 , determine the value of VI at which light will first VI be detected. Figure P2.64 2.66 The parameters of D1 and D2 in the circuit shown in Figure P2.66 are Vγ = 1.7 V and r f = 20 . The current in each diode is to be limited to ID = 15 mA for VI = ± 5 V. Determine the required value of R. 2.67 If the resistor in Example 2.12 is R = 2 k and the diode is to be reverse biased by at least 1 V, determine the minimum power supply voltage D1 D2 required. 2.68 Consider the photodiode circuit shown in Figure 2.44. Assume the quantum RV efficiency is 1. A photocurrent of 0.6 mA is required for an incident photon I flux of = 1017 cm−2–s−1. Determine the required cross-sectional area of Figure P2.66 the diode. COMPUTER SIMULATION PROBLEMS 2.69 Consider the voltage doubler circuit in Figure 2.14. Assume a 60 Hz, 120 V (rms) signal is applied at the input of the transformer with a 20:1 turns ratio. Let R = 10 k and C1 = C2 = 200 μF. Using a computer simulation, plot the output voltage over four cycles of input voltage. nea80644_ch02_067-124.qxd 06/10/2009 07:47 PM Page 124 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-02: 124 Part 1 Semiconductor Devices and Basic Applications 2.70 Consider the parameters and results of Example 2.2. Use a computer simulation to plot the output voltage of each rectifier over four cycles of input voltage. Also determine the PIV of each diode. How do the computer results compare with the results of the example? 2.71 (a) Using a computer simulation, verify the results of Exercise TYU2.3. (b) Determine the ripple voltage if a filter capacitance of C = 50 μF is connected in parallel with the load resistance. 2.72 (a) Using a computer simulation, determine each diode current and voltage in the circuit shown in Figure 2.40. (b) Repeat part (a) using the circuit parameters given in Exercise 2.11. DESIGN PROBLEMS *D2.73 Consider the full-wave bridge rectifier circuit. The input signal is 120 V (rms) at 60 Hz. The load resistance is RL = 250 . The peak output voltage is to be 9 V and the ripple voltage is to be no more than 5 percent. Determine the required turns ratio and the required value of filter capacitance. *D2.74 Design a simple dc voltage source using a 120 V (rms), 60 Hz input signal to a nominal 10 V output signal. A Zener diode with parameters VZ O = 10 V and rz = 3  is available. The rated power of the Zener diode is 5 W. The source regulation is to be limited to 2 percent. *D2.75 A clipper is to be designed such that vO = 2.5 V for vI ≥ 2.5 V and vO = −1.25 V for vI ≤ −1.25 V. *D2.76 Design a circuit to provide the voltage transfer characteristics shown in Figure P2.76. Use diodes and Zener diodes with appropriate breakdown voltages in the design. The maximum current in the circuit is to be limited to 1mA. vO (V) 2.5 1.7 v (V) –5 –3.2 I 1.7 5 –3.2 –4.2 Figure P2.76 nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 125 F506 Hard disk:Desktop Folder:MHDQ134-03: The Field-Effect Transistor 3 In this chapter, we introduce a major type of transistor, the metal-oxide-semiconductor field-effect transistor (MOSFET). The MOSFET led to the electronics revolution of the 1970sand 1980s, in which the microprocessor made possible powerful desktop computers, laptop computers, sophisticated handheld calculators, iPods, and a plethora of other electronic systems. The MOSFET can be made very small, so high- density very large scale integration (VLSI) circuits and high-density memories are possible. Two complementary devices, then-channel MOSFET (NMOS) and the p-channel MOSFET (PMOS), exist. Each device is equally important and allows a high degree of flexibility in electronic circuit design. The iv characteristics of these devices are introduced, and the dc analysis and design techniques of MOSFET circuits are developed. Another type of field-effect transistor is the junction FET. There are two general categories of junction field-effect transistors (JFETs)—the pn junction FET (pn JFET) and the metal-semiconductor field-effect transistor (MESFET), which is fabricated with a Schottky barrier junction. JFETs were developed before MOSFETs, but the applications and uses of MOSFETs have far surpassed those of the JFET. However, we will consider a few JFET circuits in this chapter. PREVIEW In this chapter, we will: • Study and understand the structure, operation, and characteristics of the various types of MOSFETs. • Understand and become familiar with the dc analysis and design techniques of MOSFET circuits. • Examine three applications of MOSFET circuits. • Investigate current source biasing of MOSFET circuits, such as those used in integrated circuits. • Analyze the dc biasing of multistage or multitransistor circuits. • Understand the operation and characteristics of the junction field-effect transistor, and analyze the dc response of JFET circuits. • As an application, incorporate a MOS transistor in a circuit design that enhances the simple diode electronic thermometer discussed in Chapter 1. 125 Chapter"
Chapter 3: The Field-Effect Transistor,"3: The Field-Effect Transistor 3 In this chapter, we introduce a major type of transistor, the metal-oxide-semiconductor field-effect transistor (MOSFET). The MOSFET led to the electronics revolution of the 1970sand 1980s, in which the microprocessor made possible powerful desktop computers, laptop computers, sophisticated handheld calculators, iPods, and a plethora of other electronic systems. The MOSFET can be made very small, so high- density very large scale integration (VLSI) circuits and high-density memories are possible. Two complementary devices, then-channel MOSFET (NMOS) and the p-channel MOSFET (PMOS), exist. Each device is equally important and allows a high degree of flexibility in electronic circuit design. The iv characteristics of these devices are introduced, and the dc analysis and design techniques of MOSFET circuits are developed. Another type of field-effect transistor is the junction FET. There are two general categories of junction field-effect transistors (JFETs)—the pn junction FET (pn JFET) and the metal-semiconductor field-effect transistor (MESFET), which is fabricated with a Schottky barrier junction. JFETs were developed before MOSFETs, but the applications and uses of MOSFETs have far surpassed those of the JFET. However, we will consider a few JFET circuits in this chapter. PREVIEW In this chapter, we will: • Study and understand the structure, operation, and characteristics of the various types of MOSFETs. • Understand and become familiar with the dc analysis and design techniques of MOSFET circuits. • Examine three applications of MOSFET circuits. • Investigate current source biasing of MOSFET circuits, such as those used in integrated circuits. • Analyze the dc biasing of multistage or multitransistor circuits. • Understand the operation and characteristics of the junction field-effect transistor, and analyze the dc response of JFET circuits. • As an application, incorporate a MOS transistor in a circuit design that enhances the simple diode electronic thermometer discussed in Chapter 1. 125 Chapter"
Preview,"PREVIEW In this chapter, we will: • Study and understand the structure, operation, and characteristics of the various types of MOSFETs. • Understand and become familiar with the dc analysis and design techniques of MOSFET circuits. • Examine three applications of MOSFET circuits. • Investigate current source biasing of MOSFET circuits, such as those used in integrated circuits. • Analyze the dc biasing of multistage or multitransistor circuits. • Understand the operation and characteristics of the junction field-effect transistor, and analyze the dc response of JFET circuits. • As an application, incorporate a MOS transistor in a circuit design that enhances the simple diode electronic thermometer discussed in Chapter 1. 125 Chapter nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 126 F506 Hard disk:Desktop Folder:MHDQ134-03: 126 Part 1 Semiconductor Devices and Basic Applications 3.1 MOS FIELD-EFFECT TRANSISTOR Objective: • Understand the operation and characteristics of the various types of metal-oxide semiconductor field-effect transistors (MOSFETs). The metal-oxide-semiconductor field-effect transistor (MOSFET) became a practical reality in the 1970s. The MOSFET, compared to BJTs, can be made very small (that is, it occupies a very small area on an IC chip). Since digital circuits can be designed using only MOSFETs, with essentially no resistors or diodes required, high-density VLSI circuits, including microprocessors and memories, can be fabricated. The MOSFET has made possible the handheld calculator, the powerful personal computer, and the laptop computer. MOSFETs can also be used in analog circuits, as we will see in the next chapter. In the MOSFET, the current is controlled by an electric field applied perpendicular to both the semiconductor surface and to the direction of current. The phenomenon used to modulate the conductance of a semiconductor, or control the current in a semiconductor, by applying an electric field perpendicular to the surface is called the field effect. The basic transistor principle is that the voltage between two terminals controls the current through the third terminal. In the following two sections, we will discuss the various types of MOSFETs, develop the iv characteristics, and then consider the dc biasing of various MOSFET circuit configurations. After studying these sections, you should be familiar and comfortable with the MOSFET and MOSFET circuits. 3.1.1 Two-Terminal MOS Structure The heart of the MOSFET is the metal-oxide-semiconductor capacitor shown in Figure 3.l. The metal maybe aluminum or some other type of metal. In most cases, the metal is replaced by a high-conductivity polycrystalline silicon layer deposited on the oxide. However, the term metal is usually still used in referring to MOSFETs. In the figure, the parameter tox is the thickness of the oxide and εox is the oxide permittivity. The physics of the MOS structure can be explained with the aid of a simple parallel-plate capacitor.1 Figure 3.2(a) shows a parallel-plate capacitor with the top plate at a negative voltage with respect to the bottom plate. An insulator material separates the two plates. With this bias, a negative charge exists on the top plate, a positive charge exists on the bottom plate, and an electric field is induced between the two plates, as shown. AMOS capacitor with a p-type semiconductor substrate is shown in Figure 3.2(b). The top metal terminal, also called the gate, is at a negative voltage with respect to the semiconductor substrate. From the example of the parallel-plate capacitor, we can see that a negative charge will exist on the top metal plate and an electric field will be induced in the direction shown in the figure. If the electric field penetrates the 1The capacitance of a parallel plate capacitor, neglecting fringing fields, is C = ε A/d , where A is the area of one plate, dis the distance between plates, and ε is the permittivity of the medium between the plates."
3.1 MOS Field-Effect Transistor,"3.1 MOS FIELD-EFFECT TRANSISTOR Objective: • Understand the operation and characteristics of the various types of metal-oxide semiconductor field-effect transistors (MOSFETs). The metal-oxide-semiconductor field-effect transistor (MOSFET) became a practical reality in the 1970s. The MOSFET, compared to BJTs, can be made very small (that is, it occupies a very small area on an IC chip). Since digital circuits can be designed using only MOSFETs, with essentially no resistors or diodes required, high-density VLSI circuits, including microprocessors and memories, can be fabricated. The MOSFET has made possible the handheld calculator, the powerful personal computer, and the laptop computer. MOSFETs can also be used in analog circuits, as we will see in the next chapter. In the MOSFET, the current is controlled by an electric field applied perpendicular to both the semiconductor surface and to the direction of current. The phenomenon used to modulate the conductance of a semiconductor, or control the current in a semiconductor, by applying an electric field perpendicular to the surface is called the field effect. The basic transistor principle is that the voltage between two terminals controls the current through the third terminal. In the following two sections, we will discuss the various types of MOSFETs, develop the iv characteristics, and then consider the dc biasing of various MOSFET circuit configurations. After studying these sections, you should be familiar and comfortable with the MOSFET and MOSFET circuits. 3.1.1 Two-Terminal MOS Structure The heart of the MOSFET is the metal-oxide-semiconductor capacitor shown in Figure 3.l. The metal maybe aluminum or some other type of metal. In most cases, the metal is replaced by a high-conductivity polycrystalline silicon layer deposited on the oxide. However, the term metal is usually still used in referring to MOSFETs. In the figure, the parameter tox is the thickness of the oxide and εox is the oxide permittivity. The physics of the MOS structure can be explained with the aid of a simple parallel-plate capacitor.1 Figure 3.2(a) shows a parallel-plate capacitor with the top plate at a negative voltage with respect to the bottom plate. An insulator material separates the two plates. With this bias, a negative charge exists on the top plate, a positive charge exists on the bottom plate, and an electric field is induced between the two plates, as shown. AMOS capacitor with a p-type semiconductor substrate is shown in Figure 3.2(b). The top metal terminal, also called the gate, is at a negative voltage with respect to the semiconductor substrate. From the example of the parallel-plate capacitor, we can see that a negative charge will exist on the top metal plate and an electric field will be induced in the direction shown in the figure. If the electric field penetrates the 1The capacitance of a parallel plate capacitor, neglecting fringing fields, is C = ε A/d , where A is the area of one plate, dis the distance between plates, and ε is the permittivity of the medium between the plates. nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 127 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 127 Gate terminal Metal Insulator tox eox (oxide) Semiconductor substrate Substrate or body terminal Figure 3.1 The basic MOS capacitor structure – – – – – – E-field – – – – – – – + + + + + + V – – – – – – – – p-type + d e E-field V E-field V p-type h+ + + + + + + + + Accumulation layer of holes (a) (b) (c) Figure 3.2 (a) A parallel-plate capacitor, showing the electric field and conductor charges, (b) a corresponding MOS capacitor with a negative gate bias, showing the electric field and charge flow, and (c) the MOS capacitor with an accumulation layer of holes semiconductor, the holes in the p-type semiconductor will experience a force toward the oxide-semiconductor interface. The equilibrium distribution of charge in the MOS capacitor with this particular applied voltage is shown in Figure 3.2(c). An accumulation layer of positively charged holes at the oxide-semiconductor interface corresponds to the positive charge on the bottom “plate” of the MOS capacitor. Figure 3.3(a) shows the same MOS capacitor, but with the polarity of the applied voltage reversed. A positive charge now exists on the top metal plate and the induced electric field is in the opposite direction, as shown. In this case, if the electric field penetrates the semiconductor, holes in the p-type material will experience a force away from the oxide-semiconductor interface. As the holes are pushed away from the interface, a negative space-charge region is created, because of the fixed acceptor impurity atoms. The negative charge in the induced depletion region corresponds to the negative charge on the bottom “plate” of the MOS capacitor. Figure 3.3(b) shows the equilibrium distribution of charge in the MOS capacitor with this applied voltage. + + + + + + + + + + + + x – – – – – – x V + + + + d V dT p-type – – p-type + V h+ E-field p-type Induced negative Induced negative – Electron space-charge space-charge inversion region region layer (a) (b) (c) Figure 3.3 The MOS capacitor with p-type substrate: (a) effect of positive gate bias, showing the electric field and charge flow, (b) the MOS capacitor with an induced space- charge region due to a moderate positive gate bias, and (c) the MOS capacitor with an induced space-charge region and electron inversion layer due to a larger positive gate bias nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 128 F506 Hard disk:Desktop Folder:MHDQ134-03: 128 Part 1 Semiconductor Devices and Basic Applications + + + + + + E + – – – – – – – – – – – – – – – – V E – En-type – V + + + + + + V + n-type + n-type Electron accumulation layer Induced positive space-charge region Hole inversion layer (a) (b) (c) Figure 3.4 The MOS capacitor with n-type substrate: (a) effect of a positive gate bias and the formation of an electron accumulation layer, (b) the MOS capacitor with an induced space-charge region due to a moderate negative gate bias, and (c) the MOS capacitor with an induced space-charge region and hole inversion layer due to a larger negative gate bias When a larger positive voltage is applied to the gate, the magnitude of the induced electric field increases. Minority carrier electrons are attracted to the oxide- semiconductor interface, as shown in Figure 3.3(c). This region of minority carrier electrons is called an electron inversion layer. The magnitude of the charge in the inversion layer is a function of the applied gate voltage. The same basic charge distributions can be obtained in a MOS capacitor with an n-type semiconductor substrate. Figure 3.4(a) shows this MOS capacitor structure, with a positive voltage applied to the top gate terminal. A positive charge is created on the top gate and an electric field is induced in the direction shown. In this situation, an accumulation layer of electrons is induced in then-type semiconductor. Figure 3.4(b) shows the case when a negative voltage is applied to the gate terminal. A positive space-charge region is induced in then-type substrate by the induced electric field. When a larger negative voltage is applied, a region of positive charge is created at the oxide-semiconductor interface, as shown in Figure 3.4(c). This region of minority carrier holes is called a hole inversion layer. The magnitude of the positive charge in the inversion layer is a function of the applied gate voltage. The term enhancement mode means that a voltage must be applied to the gate to create an inversion layer. For the MOS capacitor with a p-type substrate, a positive gate voltage must be applied to create the electron inversion layer; for the MOS capacitor with an n-type substrate, a negative gate voltage must be applied to create the hole inversion layer. 3.1.2 n-Channel Enhancement-Mode MOSFET We will now apply the concepts of an inversion layer charge in a MOS capacitor to create a transistor. Transistor Structure Figure 3.5(a) shows a simplified cross section of a MOS field-effect transistor. The gate, oxide, and p-type substrate regions are the same as those of a MOS capacitor. In addition, we now have two n-regions, called the source terminal and drain terminal. The current in a MOSFET is the result of the flow of charge in the inversion layer, also called the channel region, adjacent to the oxide–semiconductor interface. nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 129 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 129 Source vGS vDS Metal Oxide electrode Source metal Poly gate Gate oxide Drain metal W Gate Source Drain tox n+ n+ n+ n+ Channel L p-type Source Drain Field oxide p-substrate (Substrate bias) (a) (b) Figure 3.5 (a) Schematic diagram of an n-channel enhancement-mode MOSFET and (b) an n-channel MOSFET, showing the field oxide and polysilicon gate The channel length Land channel width Ware defined on the figure. The channel length of atypical integrated circuit MOSFET is less than 1 μm (10−6 m), which means that MOSFETs are small devices. The oxide thickness tox is typically on the order of 400 angstroms, or less. The diagram in Figure 3.5(a) is a simplified sketch of the basic structure of the transistor. Figure 3.5(b) shows a more detailed cross section of a MOSFET fabricated into an integrated circuit configuration. A thick oxide, called the field oxide, is deposited outside the area in which the metal interconnect lines are formed. The gate material is usually heavily doped polysilicon. Even though the actual structure of a MOSFET maybe fairly complex, the simplified diagram maybe used to develop the basic transistor characteristics. Basic Transistor Operation With zero bias applied to the gate, the source and drain terminals are separated by the p-region, as shown in Figure 3.6(a). This is equivalent to two back-to-back diodes, as shown in Figure 3.6(b). The current in this case is essentially zero. If a large enough positive gate voltage is applied, an electron inversion layer is created at the oxide–semiconductor interface and this layer “connects” then-source to then-drain, Gate (G) G Source (S) Drain (D) SD n+ n+ – – – – – – – n+ n+ L Electron p-type SD p inversion layer Substrate or body (B) Substrate or body (B) (a) (b) (c) Figure 3.6 (a) Cross section of then-channel MOSFET prior to the formation of an electron inversion layer, (b) equivalent back-to-back diodes between source and drain when the transistor is in cutoff, and (c) cross section after the formation of an electron inversion layer nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 130 F506 Hard disk:Desktop Folder:MHDQ134-03: 130 Part 1 Semiconductor Devices and Basic Applications as shown in Figure 3.6(c). A current can then be generated between the source and drain terminals. Since a voltage must be applied to the gate to create the inversion charge, this transistor is called an enhancement-mode MOSFET. Also, since the carriers in the inversion layer are electrons, this device is also called an n-channel MOSFET (NMOS). The source terminal supplies carriers that flow through the channel, and the drain terminal allows the carriers to drain from the channel. For then-channel MOSFET, electrons flow from the source to the drain with an applied drain-to-source voltage, which means the conventional current enters the drain and leaves the source. The magnitude of the current is a function of the amount of charge in the inversion layer, which in turn is a function of the applied gate voltage. Since the gate terminal is separated from the channel by an oxide or insulator, there is no gate current. Similarly, since the channel and substrate are separated by a space-charge region, there is essentially no current through the substrate. 3.1.3 Ideal MOSFET Current–Voltage Characteristics—NMOS Device The threshold voltage of then-channel MOSFET, denoted as VT N , is defined2 as the applied gate voltage needed to create an inversion charge in which the density is equal to the concentration of majority carriers in the semiconductor substrate. In simple terms, we can think of the threshold voltage as the gate voltage required to “turn on” the transistor. For then-channel enhancement-mode MOSFET, the threshold voltage is positive because a positive gate voltage is required to create the inversion charge. If the gate voltage is less than the threshold voltage, the current in the device is essentially zero. If the gate voltage is greater than the threshold voltage, a drain-to-source current is generated as the drain-to-source voltage is applied. The gate and drain voltages are measured with respect to the source. Figure 3.7(a) shows an n-channel enhancement-mode MOSFET with the source and substrate terminals connected to ground. The gate-to-source voltage is less than the threshold voltage, and there is a small drain-to-source voltage. With this bias configuration, there is no electron inversion layer, the drain-to-substrate pn junction is reverse biased, and the drain current is zero (neglecting pn junction leakage currents). Figure 3.7(b) shows the same MOSFET with an applied gate voltage greater than the threshold voltage. In this situation, an electron inversion layer is created and, when a small drain voltage is applied, electrons in the inversion layer flow from the source to the positive drain terminal. The conventional current enters the drain terminal and leaves the source terminal. Note that a positive drain voltage creates a reverse-biased drain-to-substrate pn junction, so current flows through the channel region and not through a pn junction. The iD versus vDS characteristics3 for small values of vDS are shown in Figure 3.8. When vGS < VT N , the drain current is zero. When vGS is greater than VT N , 2The usual notation for threshold voltage is VT . However, since we have defined the thermal voltage as VT = kT/q , we will use VT N for the threshold voltage of then-channel device. 3The voltage notation vDS and vGS , with the dual subscript, denotes the voltage between the drain (D) and source (S) and between the gate (G) and source (S), respectively. Implicit in the notation is that the first subscript is positive with respect to the second subscript. nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 131 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 131 vGS < VTN +vDS vGS > VTN +vDS S GD S GD iD = 0 iD + + + – – – – – – – n n n n+ Space- Space- Induced electron p charge regions charge regions p inversion layer (a) (b) Figure 3.7 Then-channel enhancement-mode MOSFET (a) with an applied gate voltage vGS < VT N , and (b) with an applied gate voltage vGS > VT N the channel inversion charge is formed and the drain current increases with vDS . iD vGS2 > vGS1 Then, with a larger gate voltage, a larger inversion charge density is created, and the drain current is greater for a given value of vDS . vGS1 > VTN Figure 3.9(a) shows the basic MOS structure for vGS > VT N and a small applied vDS . In the figure, the thickness of the inversion channel layer qualitatively indicates the relative charge density, which for this case is essentially constant along the entire vGS < VTN channel length. The corresponding iD versus vDS curve is also shown in the figure. vDS Figure 3.9(b) shows the situation when vDS increases. As the drain voltage increases, the voltage drop across the oxide near the drain terminal decreases, which Figure 3.8 Plot of iD versus means that the induced inversion charge density near the drain also decreases. The in- vDS characteristic for small values of vat three v cremental conductance of the channel at the drain then decreases, which causes the DS GS voltages slope of the iD versus vDS curve to decrease. This effect is shown in the iD versus vDS curve in the figure. As vDS increases to the point where the potential difference, vGS − vDS , across the oxide at the drain terminal is equal to VT N , the induced inversion charge density at the drain terminal is zero. This effect is shown schematically in Figure 3.9(c). For this condition, the incremental channel conductance at the drain is zero, which means that the slope of the iD versus vDS curve is zero. We can write vGS − vDS(sat) = VT N (3.1(a)) or vDS(sat) = vGS − VT N (3.1(b)) where vDS(sat) is the drain-to-source voltage that produces zero inversion charge density at the drain terminal. When vDS becomes larger than vDS(sat), the point in the channel at which the inversion charge is just zero moves toward the source terminal. In this case, electrons enter the channel at the source, travel through the channel toward the drain, and then, at the point where the charge goes to zero, are injected into the space-charge region, where they are swept by the E-field to the drain contact. In the ideal MOSFET, the drain current is constant for vDS > vDS(sat). This region of the iD versus vDS characteristic is referred to as the saturation region, which is shown in Figure 3.9(d). As the applied gate-to-source voltage changes, the iD versus vDS curve changes. In Figure 3.8, we saw that the initial slope of iD versus vDS increases as vGS increases. Also, Equation (3.1(b)) shows that vDS(sat) is a function of vGS . Therefore, we can nea80644_ch03_125-204.qxd 06/08/2009 08:36 PM Page 132 F506 Hard disk:Desktop Folder:MHDQ134-03: 132 Part 1 Semiconductor Devices and Basic Applications vGS1 > VTN Channel vGS1 inversion charge Oxide iD S v Oxide iD DS S vDS Depletion p-type Channel region p-type inversion charge L iD iD vDS vDS (a) (b) vGS1 vGS1 Oxide iD Oxide i SD S vDS (sat) vDS (sat) vDS > vDS (sat) E-field depletion region Channel p-type inversion p-type Channel charge inversion charge iD iD Saturation region vDS (sat) vDS vDS (sat) vDS (c) (d) Figure 3.9 Cross section and iD versus vDS curve for an n-channel enhancement-mode MOSFET when vGS > VT N for (a) a small vDS value, (b) a larger vDS value but for vDS < vDS(sat), (c) vDS = vDS (sat), and (d) vDS > vDS (sat) generate the family of curves for this n-channel enhancement mode MOSFET as shown in Figure 3.10. Although the derivation of the current–voltage characteristics of the MOSFET is beyond the scope of this text, we can define the relationships. The region for which vDS < vDS(sat) is known as the nonsaturation or triode region. The ideal current–volta[ge characteristics in this re = − ]gion are described by the equation iD Kn 2(vGS VT N )vDS − v2 DS (3.2(a)) nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 133 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 133 iD vDS (sat) = vGS – VTN v > v Nonsaturation GS5 GS4 region, Saturation region vDS < vDS (sat) vDS > vDS (sat) vGS4 > vGS3 vGS3 > vGS2 vGS2 > vGS1 vGS1 > VTN > 0 vDS Figure 3.10 Family of iD versus vDS curves for an n-channel enhancement-mode MOSFET. Note that the vDS(sat) voltage is a single point on each of the curves. This point denotes the transition between the nonsaturation region and the saturation region In the saturation region, the ideal current–voltage characteristics for vGS > VT N are described by the equation i 2 D = Kn(vGS − VT N ) (3.2(b)) In the saturation region, since the ideal drain current is independent of the drain-to- source voltage, the incremental or small-signal resistance is infinite. We see that r0 = vDS/iD|vGS=const. = ∞ The parameter Kn is sometimes called the transconduction parameter for then-channel device. However, this term is not to be confused with the small-signal transconductance parameter introduced in the next chapter. For simplicity, we will refer to this parameter as the conduction parameter, which for an n-channel device is given by = WμnC K ox n (3.3(a)) 2L where Cox is the oxide capacitance per unit area. The capacitance is given by Cox = εox/tox where tox is the oxide thickness and εox is the oxide permittivity. For silicon devices, εox = (3.9)(8.85 × 10−14) F/cm. The parameter μn is the mobility of the electrons in the inversion layer. The channel width Wand channel length L were shown in Figure 3.5(a). As Equation (3.3(a)) indicates, the conduction parameter is a function of both electrical and geometric parameters. The oxide capacitance and carrier mobility are essentially constants for a given fabrication technology. However, the geometry, or width-to-length ratio W/L, is a variable in the design of MOSFETs that is used to produce specific current–voltage characteristics in MOSFET circuits. We can rewrite the conduction parameter in the form ′ = kn · W Kn (3.3(b)) 2 L nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 134 F506 Hard disk:Desktop Folder:MHDQ134-03: 134 Part 1 Semiconductor Devices and Basic Applications where k ′ n = μnCox and is called the process conduction parameter. Normally, k ′ n is considered to be a constant for a given fabrication technology, so Equation (3.3(b)) indicates that the width-to-length ratio W/L is the transistor design variable. EXAMPLE 3.1 Objective: Calculate the current in an n-channel MOSFET. Consider an n-channel enhancement-mode MOSFET with the following parameters: VT N = 0.4 V, W = 20 μm, L = 0.8 μm, μn = 650 cm2/Vs, tox = 200 Å, and ε −14 ox = (3.9)(8.85 × 10 ) F/cm. Determine the current when the transistor is biased in the saturation region for (a) vGS = 0.8 V and (b) vGS = 1.6 V. Solution: The conduction parameter is determined by Equation (3.3(a)). First, consider the units invol(ved in) this e(quati)on, as follows: cm2 F W (cm) · μn ε = Vs ox cm F Kn · = = (C/V) = A 2L(cm) tox(cm) Vs Vs V2 The value of the conduction parameter is therefore = Wμn εox = (20 × 10−4)(650)(3.9)(8.85 × 10−14) Kn 2Ltox 2(0.8 × 10−4)(200 × 10−8) or K = 1.40 mA/V2 n From Equation (3.2(b)), we find: (a) For vGS = 0.8 V, iD = Kn(v 2 2 GS − VT N ) = (1.40)(0.8 − 0.4) = 0.224 mA (b) For vGS = 1.6 V, iD = (1.40)(1.6 − 0.4)2 = 2.02 mA Comment: The current capability of a transistor can be increased by increasing the conduction parameter. For a given fabrication technology, Kn is adjusted by varying the transistor width W. EXERCISE PROBLEM Ex 3.1: An NMOS transistor with VT N = 1 V has a drain current iD = 0.8 mA when vGS = 3 V and vDS = 4.5 V. Calculate the drain current when: (a) vGS = 2 V, vDS = 4.5 V; and (b) vGS = 3 V, vDS = 1 V. (Ans. (a) 0.2 mA (b) 0.6 mA) 3.1.4 p-Channel Enhancement-Mode MOSFET The complementary device of then-channel enhancement-mode MOSFET is the p-channel enhancement-mode MOSFET. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 135 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 135 + – vSD + – iD vSG Source Gate W Drain tox p+ p+ Ln-type Body Figure 3.11 Cross section of p-channel enhancement-mode MOSFET. The device is cutoff for vSG = 0. The dimension W extends into the plane of the page. Transistor Structure Figure 3.11 shows a simplified cross section of the p-channel enhancement- mode transistor. The substrate is now n-type and the source and drain areas are p-type. The channel length, channel width, and oxide thickness parameter definitions are the same as those for the NMOS device shown in Figure 3.5(a). Basic Transistor Operation The operation of the p-channel device is the same as that of then-channel device, except the hole is the charge carrier rather than the electron. A negative gate bias is required to induce an inversion layer of holes in the channel region directly under the oxide. The threshold voltage for the p-channel device is denoted as V .4T P Since the threshold voltage is defined as the gate voltage required to induce the inversion layer, then VT P < 0 for the p-channel enhancement-mode device. Once the inversion layer has been created, the p-type source region is the source of the charge carrier so that holes flow from the source to the drain. A negative drain voltage is therefore required to induce an electric field in the channel forcing the holes to move from the source to the drain. The conventional current direction, then, for the PMOS transistor is into the source and out of the drain. The conventional current direction and voltage polarity for the PMOS device are reversed compared to the NMOS device. Note in Figure 3.11 the reversal of the voltage subscripts. For vSG > 0, the gate voltage is negative with respect to that at the source. Similarly, for vSD > 0, the drain voltage is negative with respect to that at the source. 3.1.5 Ideal MOSFET Current–Voltage Characteristics—PMOS Device The ideal current–voltage characteristics of the p-channel enhancement-mode device are essentially the same as those shown in Figure 3.10, noting that the drain current 4Using a different threshold voltage parameter for a PMOS device compared to the NMOS device is for clarity only. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 136 F506 Hard disk:Desktop Folder:MHDQ134-03: 136 Part 1 Semiconductor Devices and Basic Applications is out of the drain and vDS is replaced by vSD . The saturation point is given by vSD(sat) = vSG + VT P . For the p-channel device biased in the nonsaturation region, the current is [given by ] iD = Kp 2(vSG + VT P)v 2 SD − vSD (3.4(a)) In the saturation region, the current is given by iD = Kp(vSG + V 2 T P) (3.4(b)) and the drain current exits the drain terminal. The parameter Kp is the conduction parameter for the p-channel device and is given by K = WμpCox p (3.5(a)) 2L where W, L, and Cox are the channel width, length, and oxide capacitance per unit area, as previously defined. The parameter μp is the mobility of holes in the hole inversion layer. In general, the hole inversion layer mobility is less than the electron inversion layer mobility. We can also rewrite Equation (3.5(a)) in the form = k ′ p · W Kp (3.5(b)) 2 L where k ′ p = μpCox. For a p-channel MOSFET biased in the saturation region, we have vSD > vSD(sat) = vSG + VT P (3.6) EXAMPLE 3.2 Objective: Determine the source-to-drain voltage required to bias a p-channel enhancement-mode MOSFET in the saturation region. Consider an enhancement-mode p-channel MOSFET for which Kp = 0.2mA/V2, VT P = − 0.50 V, and iD = 0.50 mA. Solution: In the saturation region, the drain current is given by iD = Kp(vSG + VT P)2 or 0.50 = 0.2(vSG − 0.50)2 which yields vSG = 2.08 V To bias this p-channel MOSFET in the saturation region, the following must apply: vSD > vSD(sat) = vSG + VT P = 2.08 − 0.5 = 1.58 V Comment: Biasing a transistor in either the saturation or the nonsaturation region depends on both the gate-to-source voltage and the drain-to-source voltage. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 137 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 137 EXERCISE PROBLEM Ex 3.2: A PMOS device with VT P = −1.2 V has a drain current iD = 0.5 mA when vSG = 3 V and vSD = 5 V. Calculate the drain current when (a) vSG = 2 V, vSD = 3 V; and (b) vSG = 5 V, vSD = 2 V. (Ans. (a) 0.0986 mA, (b) 1.72 mA) 3.1.6 Circuit Symbols and Conventions The conventional circuit symbol for then-channel enhancement-mode MOSFET is shown in Figure 3.12(a). The vertical solid line denotes the gate electrode, the vertical broken line denotes the channel (the broken line indicates the device is enhancement mode), and the separation between the gate line and channel line denotes the oxide that insulates the gate from the channel. The polarity of the pn junction between the substrate and the channel is indicated by the arrowhead on the body or substrate terminal. The direction of the arrowhead indicates the type of transistor, which in this case is an n-channel device. This symbol shows the four-terminal structure of the MOSFET device. In most applications in this text, we will implicitly assume that the source and substrate terminals are connected together. Explicitly drawing the substrate terminal for each transistor in a circuit becomes redundant and makes the circuits appear more complex. Instead, we will use the circuit symbol for then-channel MOSFET shown in Figure 3.12(b). In this symbol, the arrowhead is on the source terminal and it indicates the direction of current, which for then-channel device is out of the source. By including the arrowhead in the symbol, we do not need to explicitly indicate the source and drain terminals. We will use this circuit symbol throughout the text except in specific applications. In more advanced texts and journal articles, the circuit symbol of then-channel MOSFET shown in Figure 3.12(c) is generally used. The gate terminal is obvious and it is implicitly understood that the “top” terminal is the drain and the “bottom” terminal is the source. The top terminal, in this case the drain, is usually at a more positive voltage than the bottom terminal. In this introductory text, we will use the symbol shown in Figure 3.12(b) for clarity. DD D iD iD iD + + + B vDS G vDS G vDS G – + + + – – v vGS v GS GS – – – SS S (a) (b) (c) Figure 3.12 Then-channel enhancement-mode MOSFET: (a) conventional circuit symbol, (b) circuit symbol that will be used in this text, and (c) a simplified circuit symbol used in more advanced texts nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 138 F506 Hard disk:Desktop Folder:MHDQ134-03: 138 Part 1 Semiconductor Devices and Basic Applications SS S + + + vSG vSG vSG – + + + G – – B vDS G vSD G vSD – – – iD iD iD DD D (a) (b) (c) Figure 3.13 The p-channel enhancement-mode MOSFET: (a) conventional circuit symbol, (b) circuit symbol that will be used in this text, and (c) a simplified circuit symbol used in more advanced texts The conventional circuit symbol for the p-channel enhancement-mode MOSFET appears in Figure 3.13(a). Note that the arrowhead direction on the substrate terminal is reversed from that in then-channel enhancement-mode device. This circuit symbol again shows the four terminal structure of the MOSFET device. The circuit symbol for the p-channel enhancement-mode device shown in Figure 3.13(b) will be used in this text. The arrowhead is on the source terminal indicating the direction of the current, which for the p-channel device is into the source terminal. In more advanced texts and journal articles, the circuit symbol of the p-channel MOSFET shown in Figure 3.13(c) is generally used. Again, the gate terminal is obvious but includes the O symbol to indicate that this is a PMOS device. It is implicitly understood that the “top” terminal is the source and the “bottom” terminal is the drain. The top terminal, in this case the source, is normally at a higher potential than the bottom terminal. Again, in this text, we will use the symbol shown in Figure 3.13(b) for clarity. 3.1.7 Additional MOSFET Structures and Circuit Symbols Before we start analyzing MOSFET circuits, there are two other MOSFET structures in addition to then-channel enhancement-mode device and the p-channel enhancement-mode device that need to be considered. n-Channel Depletion-Mode MOSFET Figure 3.14(a) shows the cross section of an n-channel depletion-mode MOSFET. When zero volts are applied to the gate, an n-channel region or inversion layer exists under the oxide as a result, for example, of impurities introduced during device fabrication. Since an n-region connects then-source and n-drain, a drain-to-source current maybe generated in the channel even with zero gate voltage. The term depletion mode means that a channel exists even at zero gate voltage. A negative gate voltage must be applied to then-channel depletion-mode MOSFET to turn the device off. Figure 3.14(b) shows then-channel depletion mode MOSFET with a negative applied gate-to-source voltage. A negative gate voltage induces a space-charge region under the oxide, thereby reducing the thickness of then-channel region. The reduced thickness decreases the channel conductance, which in turn reduces the drain current. When the gate voltage is equal to the threshold voltage, which is nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 139 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 139 v v > 0 +v GS = 0 +vDS VTN < vGS < 0 +vDS GS DS S GD S GD S GD iD iD iD n+ n+ n+ n+ + – – – – – n n+ Electron n-channel Depletion accumulation p-type p-type region p-type layer (a) (b) (c) Figure 3.14 Cross section of an n-channel depletion mode MOSFET for: (a) vGS = 0, (b) vGS < 0, and (c) vGS > 0 negative for this device, the induced space-charge region extends completely through then-channel region, and the current goes to zero. A positive gate voltage creates an electron accumulation layer, as shown in Figure 3.14(c) which increases the drain current. The general iD versus vDS family of curves for then-channel depletion- mode MOSFET is shown in Figure 3.15. The current–voltage characteristics defined by Equations (3.2(a)) and (3.2(b)) apply to both enhancement- and depletion-mode n-channel devices. The only difference is that the threshold voltage VT N is positive for the enhancement- mode MOSFET and negative for the depletion-mode MOSFET. Even though the current–voltage characteristics of enhancement- and depletion-mode devices are described by the same equations, different circuit symbols are used, simply for purposes of clarity. The conventional circuit symbol for then-channel depletion-mode MOSFET is shown in Figure 3.16(a). The vertical solid line denoting the channel indicates the device is depletion mode. A comparison of Figures 3.12(a) and 3.16(a) shows that the only difference between the enhancement- and depletion-mode symbols is the broken versus the solid line representing the channel. iD vDS (sat) = vGS – VTN vGS2 > vGS1 DD vGS1 > 0 ii DD + vGS = 0 + G v B v DS DS + G – + – vGS3 < 0 vGS vGS – – VTN < vGS4 < vGS3 SS vDS (a) (b) Figure 3.15 Family of iD versus vDS curves for an Figure 3.16 Then-channel depletion-mode n-channel depletion-mode MOSFET. Note again that MOSFET: (a) conventional circuit symbol and the vDS (sat) voltage is a single point on each curve. (b) simplified circuit symbol nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 140 F506 Hard disk:Desktop Folder:MHDQ134-03: 140 Part 1 Semiconductor Devices and Basic Applications vSG vSD S GD iD p+ p+ n-type p-channel Body Figure 3.17 Cross section of p-channel depletion-mode MOSFET showing the p-channel under the oxide at zero gate voltage A simplified symbol for then-channel depletion-mode MOSFET is shown in Figure 3.16(b). The arrowhead is again on the source terminal and indicates the direction of current, which for then-channel device is out of the source. The heavy solid line represents the depletion-mode channel region. Again, using a different circuit symbol for the depletion-mode device compared to the enhancement-mode device is simply for clarity in a circuit diagram. p-Channel Depletion-Mode MOSFET Figure 3.17 shows the cross section of a p-channel depletion-mode MOSFET, as well S as the biasing configuration and current direction. In the depletion-mode device, a channel region of holes already exists under the oxide, even with zero gate voltage. + A positive gate voltage is required to turn the device off. Hence the threshold voltage vSG of a p-channel depletion-mode MOSFET is positive (VT P > 0). – + GB v The conventional and simplified circuit symbols for the p-channel depletion- SD – mode device are shown in Figure 3.18. The heavy solid line in the simplified symbol i represents the channel region and denotes the depletion-mode device. The arrowhead Dis again on the source terminal and it indicates the current direction. D Complementary MOSFETs (a) Complementary MOS (CMOS) technology uses both n-channel and p-channel S devices in the same circuit. Figure 3.19 shows the cross section of n-channel and p-channel devices fabricated on the same chip. CMOS circuits, in general, are more + complicated to fabricate than circuits using entirely NMOS or PMOS devices. Yet, as vSG we will see in later chapters, CMOS circuits have great advantages over just NMOS + – or PMOS circuits. G vSD – iD Field oxide Polysilicon gate Metal Metal contact D (b) p+ p+ n+ n+ The p-channel p-well Figure 3.18 Gate oxide depletion mode MOSFET: n-substrate (a) conventional circuit symbol and (b) simplified Figure 3.19 Cross sections of n-channel and p-channel transistors fabricated with a p-well circuit symbol CMOS technology nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 141 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 141 In order to fabricate n-channel and p-channel devices that are electrically equivalent, the magnitude of the threshold voltages must be equal, and then-channel and p-channel conduction parameters must be equal. Since, in general, μn , and μp are not equal, the design of equivalent transistors involves adjusting the width-to-length ratios of the transistors. 3.1.8 Summary of Transistor Operation We have presented a first-order model of the operation of the MOS transistor. For an n-channel enhancement-mode MOSFET, a positive gate-to-source voltage, greater than the threshold voltage VT N , must be applied to induce an electron inversion layer. For vGS > VT N , the device is turned on. For an n-channel depletion-mode device, a channel between the source and drain exists even for vGS = 0. The threshold voltage is negative, so that a negative value of vGS is required to turn the device off. For a p-channel device, all voltage polarities and current directions are reversed compared to the NMOS device. For the p-channel enhancement-mode transistor, VT P < 0 and for the depletion-mode PMOS transistor, VT P > 0. Table 3.1 lists the first-order equations that describe the iv relationships in MOS devices. We note that Kn and Kp are positive values and that the drain current iD is positive into the drain for the NMOS device and positive out of the drain for the PMOS device. Table 3.1 Summary of the MOSFET current–voltage relationships NMOS PMOS Nonsaturation region (vDS < vDS (sat)) Nonsaturation region (vSD < vSD (sat)) iD = Kn[2(vGS − V 2 TN )vDS − vDS] iD = Kp[2(vSG + VT P)vSD − v2 SD] Saturation region (vDS > vDS (sat)) Saturation region (vSD > vSD (sat)) iD = Kn(v 2 2 GS − VT N ) iD = Kp(vSG + VT P) Transition point Transition point vDS(sat) = vGS − VT N vSD(sat) = vSG + VT P Enhancement mode Enhancement mode VT N > 0 VT P < 0 Depletion mode Depletion mode VT N < 0 VT P > 0 3.1.9 Short-Channel Effects The current–voltage relations given by Equations (3.2(a)) and (3.2(b)) for then-channel device and Equations (3.4(a)) and (3.4(b)) for the p-channel device are the ideal relations for long-channel devices. Along-channel device is generally one whose channel length is greater than 2 μm. In this device, the horizontal electric field in the channel induced by the drain voltage and the vertical electric field induced by the gate voltage can be treated independently. However, the channel length of present- day devices is on the order of 0.2 μm or less. There are several effects in these short-channel devices that influence and change the long-channel current–voltage characteristics. One such effect is a variation nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 142 F506 Hard disk:Desktop Folder:MHDQ134-03: 142 Part 1 Semiconductor Devices and Basic Applications in threshold voltage. The value of threshold voltage is a function of the channel length. This variation must be considered in the design and fabrication of these devices. The threshold voltage also becomes a function of the drain voltage. As the drain voltage increases, the effective threshold voltage decreases. This effect also influences the current–voltage characteristics. The process conduction parameters, k ′ n and k ′ p , are directly related to the carrier mobility. We have assumed that the carrier mobilities and corresponding process conduction parameters are constant. However, the carrier mobility values are functions of the vertical electric field in the inversion layer. As the gate voltage and vertical electric field increase, the carrier mobility decreases. This result, again, directly influences the current–voltage characteristics of the device. Another effect that occurs in short-channel devices is velocity saturation. As the horizontal electric field increases, the velocity of the carriers reaches a constant value and will no longer increase with an increase in drain voltage. Velocity saturation will lower the VDS(sat) voltage value. The drain current will reach its saturation value at a smaller VDS voltage. The drain current also becomes approximately a linear function of the gate voltage in the saturation region rather than the quadratic function of gate voltage in the long-channel characteristics. Although the analysis of modern MOSFET circuits must take into account these short-channel effects, we will use the long-channel current–voltage relations in this introductory text. We will still be able to obtain a good basic understanding of the operation and characteristics of these devices, and we can still obtain a good basic understanding of the operation and characteristics of MOSFET circuits using the ideal long-channel current–voltage relations. 3.1.10 Additional Nonideal Current–Voltage Characteristics The five nonideal effects in the current–voltage characteristics of MOS transistors are: the finite output resistance in the saturation region, the body effect, subthreshold conduction, breakdown effects, and temperature effects. This section will examine each of these effects. Finite Output Resistance In the ideal case, when a MOSFET is biased in the saturation region, the drain current iD is independent of drain-to-source voltage vDS. However, in actual MOSFET iD versus vDS characteristics, a nonzero slope does exist beyond the saturation point. For vDS > vDS(sat), the actual point in the channel at which the in- version charge goes to zero moves away from the drain terminal (see Figure 3.9(d)). The effective channel length decreases, producing the phenomenon called channel length modulation. An exaggerated view of the current–voltage characteristics is shown in Figure 3.20. The curves can be extrapolated so that they intercept the voltage axis at a point vDS = −VA . The voltage VA is usually defined as a positive quantity. The slope of the curve in the saturation region can be described by expressing the iD versus vDS characteristic in the form, for an n-channel device, i = K [(v − V )2 D n GS TN (1 + λvDS)] (3.7) where λ is a positive quantity called the channel-length modulation parameter. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 143 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 143 iD 1 Slope = ro v –V = – 1 0 DS A λ Figure 3.20 Family of iD versus vDS curves showing the effect of channel length modulation producing a finite output resistance The parameters λ and VA are related. From Equation (3.7), we have (1 + λ vDS) = 0 at the extrapolated point where iD = 0. At this point, vDS = −VA , which means that VA = 1/λ. The o(utput re)sista∣∣nce due to the channel length modulation is defined as ∂i −1 r D ∣ o = ∣ (3.8) ∂vDS ∣ vGS=const. From Equation (3.7), the output resistance, evaluated at the Q-point, is ro = [λKn(VGSQ − VT N )2]−1 (3.9(a)) or ro ∼= −1 = 1 [λ IDQ] = VA (3.9(b)) λ IDQ IDQ The output resistance ro is also a factor in the small-signal equivalent circuit of the MOSFET, which is discussed in the next chapter. Body Effect Up to this point, we have assumed that the substrate, or body, is connected to the source. For this bias condition, the threshold voltage is a constant. In integrated circuits, however, the substrates of all n-channel MOSFETs are usually common and are tied to the most negative potential in the circuit. An example of two n-channel MOSFETs in series is shown in Figure 3.21. The p-type S VI VO V 1 DD D1 S2 D2 n+ n+ n+ M1 M2 p-substrate Figure 3.21 Two n-channel MOSFETs fabricated in series in the same substrate. The source terminal, S2, of the transistor M2 is more than likely not at ground potential. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 144 F506 Hard disk:Desktop Folder:MHDQ134-03: 144 Part 1 Semiconductor Devices and Basic Applications D substrate is common to the two transistors, and the drain of M1 is common to the source of M2. When the two transistors are conducting, there is a nonzero drain- to-source voltage on M1, which means that the source of M2 is not at the same potential as the substrate. These bias conditions mean that a zero or reverse-bias B voltage exists across the source–substrate pn junction, and a change in the source– G – + substrate junction voltage changes the threshold voltage. This is called the body vGS vSB effect. The same situation exists in p-channel devices. – + For example, consider then-channel device shown in Figure 3.22. To maintain a zero- or reverse-biased source–substrate pn junction, we must have vSB ≥ 0. The S threshold voltage forth Figure 3.22 Ann-channel [i√s condition is gi√ven b]y enhancement-mode VT N = VT NO + γ 2φ f + vSB − 2φ f (3.10) MOSFET with a substrate voltage where VT NO is the threshold voltage for vSB = 0; γ , called the bulk threshold or body-effect parameter, is related to device properties, and is typically on the order of 0.5 V1/2; and φ f is a semiconductor parameter, typically on the order of 0.35 V, and is a function of the semiconductor doping. We see from Equation (3.10) that the threshold voltage inn-channel devices increases due to this body effect. The body effect can cause a degradation in circuit performance because of the changing threshold voltage. However, we will generally neglect the body effect in our circuit analyses, for simplicity. Subthreshold Conduction If we consider the ideal current-voltage relationship for then-channel MOSFET biased in the saturation region, we have, from Equation (3.2(b)), i 2 D = Kn(vGS − VT N ) Taki√ng the s√quare root of both sides of the equation, we obtain iD = Kn(vGS − VT N ) (3.11) √ i From Equation (3.11), we see that id is a linear function of vGS . Figure 3.23 shows D a plot of this ideal relationship. Also plotted in Figure 3.23 are experimental results, which show that when vGS is slightly less than VT N , the drain current is not zero, as previously assumed. This current is called the subthreshold current. The effect may not be significant for a Experimental single device, but if thousands or millions of devices on an integrated circuit are biased just slightly below the threshold voltage, the power supply current will not be zero but may contribute to significant power dissipation in the integrated circuit. Ideal One example of this is a dynamic random access memory (DRAM), as we will see in VTN vGS Chapter 16. √ In this text, for simplicity we will not specifically consider the subthreshold Figure 3.23 Plot of iD versus vGS for a MOSFET current. However, when a MOSFET in a circuit is to be turned off, the “proper” biased in the saturation design of the circuit must involve biasing the device at least a few tenths of a volt region showing subthreshold below the threshold voltage to achieve “true” cutoff. conduction. Experimentally, a subthreshold current exists Breakdown Effects even for vGS < VT N . Several possible breakdown effects may occur in a MOSFET. The drain-to-substrate pn junction may breakdown if the applied drain voltage is too high and avalanche multiplication occurs. This breakdown is the same reverse-biased pn junction breakdown discussed in Chapter 1 in Section 1.2.5. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 145 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 145 As the size of the device becomes smaller, another breakdown mechanism, called punch-through, may become significant. Punch-through occurs when the drain voltage is large enough for the depletion region around the drain to extend completely through the channel to the source terminal. This effect also causes the drain current to increase rapidly with only a small increase in drain voltage. A third breakdown mechanism is called near-avalanche or snapback breakdown. This breakdown process is due to second-order effects within the MOSFET. The source-substrate-drain structure is equivalent to that of a bipolar transistor. As the device size shrinks, we may begin to see a parasitic bipolar transistor action with increases in the drain voltage. This parasitic action enhances the breakdown effect. If the electric field in the oxide becomes large enough, breakdown can also occur in the oxide, which can lead to catastrophic failure. In silicon dioxide, the electric field at breakdown is on the order of 6 × 106 V/cm, which, to a first approximation, is given by Eox = VG/tox. Agate voltage of approximately 30 V would produce breakdown in an oxide with a thickness of tox = 500 Å. However, a safety margin of a factor of 3 is common, which means that the maximum safe gate voltage for tox = 500 Å would be 10 V. A safety margin is necessary since there maybe defects in the oxide that lower the breakdown field. We must also keep in mind that the input impedance at the gate is very high, and a small amount of static charge accumulating on the gate can cause the breakdown voltage to be exceeded. To prevent the accumulation of static charge on the gate capacitance of a MOSFET, agate protection device, such as a reverse-biased diode, is usually included at the input of a MOS integrated circuit. Temperature Effects Both the threshold voltage VT N and conduction parameter Kn are functions of temperature. The magnitude of the threshold voltage decreases with temperature, which means that the drain current increases with temperature at a given VGS . However, the conduction parameter is a direct function of the inversion carrier mobility, which decreases as the temperature increases. Since the temperature dependence of mobility is larger than that of the threshold voltage, the net effect of increasing temperature is a decrease in drain current at a given VGS . This particular result provides a negative feedback condition in power MOSFETs. A decreasing value of Kn inherently limits the channel current and provides stability for a power MOSFET. Test Your Understanding TYU 3.1 (a) Ann-channel enhancement-mode MOSFET has a threshold voltage of VT N = 1.2 V and an applied gate-to-source voltage of vGS = 2 V. Determine the region of operation when: (i) vDS = 0.4 V; (ii) vDS = 1 V; and (iii) vDS = 5 V. (b) Repeat part (a) for an n-channel depletion-mode MOSFET with a threshold voltage of VT N = −1.2 V. (Ans. (a) (i) nonsaturation, (ii) saturation, (iii) saturation; (b) (i) nonsaturation, (ii) nonsaturation, (iii) saturation) TYU 3.2 The NMOS devices described in Exercise TYU 3.1 have parameters W = 20 μm, L = 0.8 μm, tox = 200 Å, μn = 500 cm2/Vs, and λ = 0. (a) Calculate the conduction parameter Kn for each device. (b) Calculate the drain current for each bias condition listed in Exercise TYU 3.1. (Ans. (a) K = 1.08 mA/V2 n ; (b) iD = 0.518 mA, 0.691 mA, and 0.691 mA; iD = 2.59 mA, 5.83 mA, and 11.1 mA) nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 146 F506 Hard disk:Desktop Folder:MHDQ134-03: 146 Part 1 Semiconductor Devices and Basic Applications TYU 3.3 (a) A p-channel enhancement-mode MOSFET has a threshold voltage of VT P = −1.2 V and an applied source-to-gate voltage of vSG = 2 V. Determine the region of operation when (i) vSD = 0.4 V, (ii) vSD = 1 V, and (iii) vSD = 5 V. (b) Repeat part (a) for a p-channel depletion-mode MOSFET with a threshold voltage of VT P = +1.2 V. (Ans. (a) (i) nonsaturation, (ii) saturation, (iii) saturation; (b) (i) nonsaturation, (ii) nonsaturation, (iii) saturation) TYU 3.4 The PMOS devices described in Exercise TYU 3.3 have parameters W = 10 μm, L = 0.8 μm, t 2 ox = 200 Å, μp = 300 cm /Vs, and λ = 0. (a) Calculate the conduction parameter Kp for each device. (b) Calculate the drain current for each bias condition listed in Exercise TYU 3.3. (Ans. (a) Kp = 0.324 mA/V2; (b) iD = 0.156 mA, 0.207 mA; and 0.207 mA; iD = 0.778 mA, 1.75 mA, and 3.32 mA) TYU 3.5 The parameters of an NMOS enhancement-mode device are VT N = 0.25 V and Kn = 10 μ A/V2. The device is biased at vGS = 0.5 V. Calculate the drain current when (i) vDS = 0.5 V and (ii) vDS = 1.2 V for (a) λ = 0 and (b) λ = 0.03 V−1. (c) Calculate the output resistance ro for parts (a) and (b). (Ans. (a) (i) and (ii) iD = 0.625 μA; (b) (i) iD = 0.6344 μA, (ii) iD = 0.6475 μA; (c) (i) ro = ∞, (ii) ro = 53.3 M). TYU 3.6 An NMOS transistor has parameters VT NO = 0.4 V, γ = 0.15 V1/2, and φ f = 0.35 V. Calculate the threshold voltage when (a) vSB = 0, (b) vSB = 0.5 V, and (c) vSB = 1.5 V. (Ans. (a) 0.4 V, (b) 0.439 V, (c) 0.497 V) 3.2 MOSFET DC CIRCUIT ANALYSIS Objective: • Understand and become familiar with the dc analysis and design techniques of MOSFET circuits. In the last section, we considered the basic MOSFET characteristics and properties. We now start analyzing and designing the dc biasing of MOS transistor circuits. A primary purpose of the rest of the chapter is to continue to become familiar and comfortable with the MOS transistor and MOSFET circuits. The dc biasing of MOSFETs, the focus of this chapter, is an important part of the design of amplifiers. MOSFET amplifier design is the focus of the next chapter. In most of the circuits presented in this chapter, resistors are used in conjunction with the MOS transistors. In a real MOSFET integrated circuit, however, the resistors are generally replaced by other MOSFETs, so the circuit is composed entirely of MOS devices. In general, a MOSFET device requires a smaller area than a resistor. As we go through the chapter, we will begin to see how this is accomplished and as we finish the text, we will indeed analyze and design circuits containing only MOSFETs. In the dc analysis of MOSFET circuits, we can use the ideal current–voltage equations listed in Table 3.l in Section 3.1. 3.2.1 Common-Source Circuit One of the basic MOSFET circuit configurations is called the common-source circuit. Figure 3.24 shows one example of this type of circuit using an n-channel"
3.2 MOSFET DC Circuit Analysis,"3.2 MOSFET DC CIRCUIT ANALYSIS Objective: • Understand and become familiar with the dc analysis and design techniques of MOSFET circuits. In the last section, we considered the basic MOSFET characteristics and properties. We now start analyzing and designing the dc biasing of MOS transistor circuits. A primary purpose of the rest of the chapter is to continue to become familiar and comfortable with the MOS transistor and MOSFET circuits. The dc biasing of MOSFETs, the focus of this chapter, is an important part of the design of amplifiers. MOSFET amplifier design is the focus of the next chapter. In most of the circuits presented in this chapter, resistors are used in conjunction with the MOS transistors. In a real MOSFET integrated circuit, however, the resistors are generally replaced by other MOSFETs, so the circuit is composed entirely of MOS devices. In general, a MOSFET device requires a smaller area than a resistor. As we go through the chapter, we will begin to see how this is accomplished and as we finish the text, we will indeed analyze and design circuits containing only MOSFETs. In the dc analysis of MOSFET circuits, we can use the ideal current–voltage equations listed in Table 3.l in Section 3.1. 3.2.1 Common-Source Circuit One of the basic MOSFET circuit configurations is called the common-source circuit. Figure 3.24 shows one example of this type of circuit using an n-channel nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 147 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 147 VDD VDD VDD = 5 Vi RI I = 0.1 mA DD DR = 20 kΩ DR R RD R1 = 30 kΩ D 1 1 v 0 + + O CC + VG VDS VG = (20 (5) V = 5 – (0.1)(20) vG + 50) DS + v – = 3 V DS – + = 2 V – V R GS R = 20 kΩ VGS = 2 V v 2 – 2 – v + GS i R – – 2 (a) (b) Figure 3.24 An NMOS common- Figure 3.25 (a) The dc equivalent circuit of the NMOS common-source source circuit circuit and (b) the NMOS circuit for Example 3.3, showing current and voltage values enhancement-mode MOSFET. The source terminal is at ground potential and is common to both the input and output portions of the circuit. The coupling capacitor CC acts as an open circuit to dc but it allows the signal voltage to be coupled to the gate of the MOSFET. The dc equivalent circuit is shown in Figure 3.25(a). In the following dc analyses, we again use the notation for dc currents and voltages. Since the gate current into the transistor is zero, the voltage at the gate is given by a voltage divider, which can be written as ( ) VG = VGS = R2 + VDD (3.12) R1 R2 Assuming that the gate-to-source voltage given by Equation (3.12) is greater than VT N , and that the transistor is biased in the saturation region, the drain current is I 2 D = Kn(VGS − VT N ) (3.13) The drain-to-source voltage is VDS = VDD − ID RD (3.14) If VDS > VDS(sat) = VGS − VT N , then the transistor is biased in the saturation region, as we initially assumed, and our analysis is correct. If VDS < VDS(sat), then the transistor is biased in the nonsaturation region, and the drain current is given by the more complicated characteristic Equation (3.2(a)). The power dissipated in the transistor, since there is no gate current, is simply given by PT = IDVDS (3.15) EXAMPLE 3.3 Objective: Calculate the drain current and drain-to-source voltage of a common- source circuit with an n-channel enhancement-mode MOSFET. Find the power dissipated in the transistor. For the circuit shown in Figure 3.25(a), assume that R1 = 30 k, R2 = 20 k, RD = 20 k, VDD = 5 V, V 2 TN = 1 V, and Kn = 0.1 mA/V . nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 148 F506 Hard disk:Desktop Folder:MHDQ134-03: 148 Part 1 Semiconductor Devices and Basic Applications Solution: From th(e circuits)hown in F(igure 3.25)(b) and Equation (3.12), we have = = R2 = 20 VG VGS R1 + V (5) = 2 V R DD 2 20 + 30 Assuming the transistor is biased in the saturation region, the drain current is ID = Kn(VGS − VT N )2 = (0.1)(2 − 1)2 = 0.1 mA and the drain-to-source voltage is VDS = VDD − ID RD = 5 − (0.1)(20) = 3 V The power dissipated in the transistor is PT = IDVDS = (0.1)(3) = 0.3 mW Comment: Because VDS = 3 V > VDS(sat) = VGS − VT N = 2 − 1 = 1 V, the transistor is indeed biased in the saturation region and our analysis is valid. The dc analysis produces the quiescent values (Q-points) of drain current and drain-to-source voltage, usually indicated by IDQ and VDSQ . EXERCISE PROBLEM Ex 3.3: The transistor in Figure 3.25(a) has parameters VT N = 0.35 V and Kn = 25 μA/V2. The circuit parameters are VDD = 2.2 V, R1 = 355 k, R2 = 245 k, and RD = 100 k. Find ID, VGS , and VDS . (Ans. ID = 7.52 μA, VGS = 0.898 V, VDS = 1.45 V) Figure 3.26 (a) shows a common-source circuit with a p-channel enhancement- mode MOSFET. The source terminal is tied to +VDD , which becomes signal ground in the ac equivalent circuit. Thus the terminology common-source applies to this circuit. +VDD VDD = 5 V VDD = 5 VI + DR1 VSG R = 50 kΩ V + SG = R = 50 kΩ VSG = + 1 1 + – 2.5 V 2.5 V V + + G VSD ( 50 ) – V = (5) VSD = 5 – (0.578)(7.5) – G VG = 2.5 V VSD = 5 – (0.515)(7.5) – 100 = 0.665 V < VSD(sat) = 1.14 V = 2.5 V – – R2 RI R2 = 50 kΩ RR = 50 kΩ DD D = ID = 0.578 mA 2 RD = ID = 0.515 mA 7.5 kΩ (Not correct) 7.5 kΩ (Correct) (a) (b) (c) Figure 3.26 (a) A PMOS common-source circuit, (b) the PMOS common-source circuit for Example 3.4 showing current and voltage values when the saturation-region bias assumption is incorrect, and (c) the circuit for Example 3.4 showing current and voltage values when the nonsaturation-region bias assumption is correct nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 149 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 149 The dc analysis is essentially the same as for then-channel MOSFET circuit. The gate vo(ltage is ) R VG = 2 (VDD) (3.16) R1 + R2 and the source-to-gate voltage is VSG = VDD − VG (3.17) Assuming that VGS < VT P , or VSG > |VT P |, and that the device is biased in the saturation region, the drain current is given by ID = Kp(VSG + V 2 T P) (3.18) and the source-to-drain voltage is VSD = VDD − ID RD (3.19) If VSD > VSD(sat) = VSG + VT P , then the transistor is indeed biased in the saturation region, as we have assumed. However, if VSD < VSD(sat), the transistor is biased in the nonsaturation region. EXAMPLE 3.4 Objective: Calculate the drain current and source-to-drain voltage of a common- source circuit with a p-channel enhancement-mode MOSFET. Consider the circuit shown in Figure 3.26(a). Assume that R1 = R2 = 50 k, VDD = 5 V, RD = 7.5 k, VT P = −0.8 V, and Kp = 0.2 mA/V2. Solution: F(rom the c)ircuit show(n in Figur)e 3.26(b) and Equation (3.16), we have R 50 VG = 2 + (V RR DD) = (5) = 2.5 V 1 2 50 + 50 The source-to-gate voltage is therefore VSG = VDD − VG = 5 − 2.5 = 2.5 V Assuming the transistor is biased in the saturation region, the drain current is I 2 2 D = Kp(VSG + VT P) = (0.2)(2.5 − 0.8) = 0.578 mA and the source-to-drain voltage is VSD = VDD − ID RD = 5 − (0.578)(7.5) = 0.665 V Since VSD = 0.665 V is not greater than VSD(sat) = VSG + VT P = 2.5 − 0.8 = 1.7 V, the p-channel MOSFET is not biased in the saturation region, as we initially assumed. In the non[saturation region, the drai]n current is given by ID = Kp 2(V + V )V 2 SGT P SD − VSD and the source-to-drain voltage is VSD = VDD − ID RD Combining these two equations, we obtain ID = Kp[2(V 2 SG + VT P)(VDD − ID RD) − (VDD − ID RD) ] nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 150 F506 Hard disk:Desktop Folder:MHDQ134-03: 150 Part 1 Semiconductor Devices and Basic Applications or ID = (0.2)[2(2.5 − 0.8)(5 − ID(7.5)) − (5 − ID(7.5))2] Solving this quadratic equation for ID , we find ID = 0.515 mA We also find that VSD = 1.14 V Therefore, VSD < VSD(sat), which verifies that the transistor is biased in the nonsaturation region. Comment: In solving the quadratic equation for ID , we find a second solution that yields VSD = 2.93 V. However, this value of VSD is greater than VSD(sat), so it is not a valid solution since we assumed the transistor to be biased in the nonsaturation region. EXERCISE PROBLEM Ex 3.4: The transistor in Figure 3.26(a) has parameters VT P = −0.6 V and Kp = 0.2 mA/V2. The circuit is biased at VDD = 3.3 V. Assume R1‖ R2 = 300 k. Design the circuit such that IDQ = 0.5 mA and VSDQ = 2.0 V. (Ans. R1 = 885 k, R2 = 454 k, RD = 2.6 k) COMPUTER ANALYSIS EXERCISE PS 3.1: Verify the results of Example 3.4 with a PSpice analysis. As Example 3.4 illustrated, we may not know initially whether a transistor is biased in the saturation or nonsaturation region. The approach involves making an educated guess and then verifying that assumption. If the assumption proves incorrect, we must then change it and reanalyze the circuit. In linear amplifiers containing MOSFETs, the transistors are biased in the saturation region. DESIGN EXAMPLE 3.5 V+ = +5 V Objective: Design a MOSFET circuit biased with both positive and negative voltages to meet a set of specifications. RD Specifications: The circuit configuration to be designed is shown in Figure 3.27. VD Design the circuit such that IDQ = 0.5 mA and VDSQ = 4 V. Choices: Standard resistors are to be used in the final design. A transistor with V nominal parameters of k ′ = 80 μA/V2, (W/L) = 6.25, and VT N = 1.2 V is RG = 50 kΩ Sn R available. S Solution: Assuming the transistor is biased in the saturation region, we have I = K (V − V )2 . The conduction parameter is V– DQ n GS TN = –5 V ′ ( ) Figure 3.27 Circuit configu- kW 0.080 K = n n · = (6.25) = 0.25 mA/V2 ration for Example 3.5 2 L 2 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 151 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 151 Solving for the gate-to-source voltage, we find the required gate-to-source voltage to induce the s√pecified drain cur√rent. = IV DQ GS + 0.5 V KT N = + 1.2 n 0.25 or VGS = 2.614 V Since the gate current is zero, the gate is at ground potential. The voltage at the source terminal is then VS = −VGS = −2.614 V. The value of the source resistor is found from = VS − V − = −2.614 − (−5) RS IDQ 0.5 or RS = 4.77 k The voltage at the drain terminal is determined to be VD = VS + VDS = −2.614 + 4 = 1.386 V The value of the drain resistor is = V + − V RD = 5 − 1.386 D IDQ 0.5 or RD = 7.23 k We may note that VDS = 4 V > VDS(sat) = VGS − VT N = 2.61 − 1.2 = 1.41 V which means that the transistor is indeed biased in the saturation region. Tradeoffs: The closest standard resistor values are RS = 4.7 k and RD = 7.5 k. We may find the gate-to-source voltage from VGS + ID RS − 5 = 0 where ID = Kn(VGS − V 2 TN ) Using the standard resistor values, we find VGS = 2.622 V, IDQ = 0.506 mA, and VDSQ = 3.83 V. In this case, the drain current is within 1.2 percent of the design specification and the drain-to-source voltage is within 4.25 percent of the design specification. Comment: It is important to keep in mind that the current into the gate terminal is zero. In this case, then, there is zero voltage drop across the RG resistor. Design Pointer: In an actual circuit design using discrete elements, we need to choose standard resistor values that are closest to the design values. In addition, the discrete resistors have tolerances that need to be taken into account. In the final design, then, the actual drain current and drain-to-source voltage are somewhat different from the specified values. In many applications, this slight deviation from the specified values will not cause a problem. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 152 F506 Hard disk:Desktop Folder:MHDQ134-03: 152 Part 1 Semiconductor Devices and Basic Applications V + = +2.5 V EXERCISE PROBLEM Ex 3.5: For the transistor in the circuit in Figure 3.28, the nominal parameter val- R = ues are VT N = 0.6 V and Kn = 0.5 mA/V2. (a) Determine the quiescent values RD 1 = 4 kΩ VGSQ , IDQ , and VDSQ . (b) Determine the range in I 60 kΩ D and VDS values for a ±5 percent variation in VT N and Kn . (Ans. (a) VGSQ = 1.667 V, IDQ = 0.5689 mA, VDSQ = 2.724 V; (b) 0.5105 ≤ ID ≤ 0.6314 mA, 2.474 ≤ VDS ≤ 2.958 V) R2 = 30 kΩ Now consider an example of a p-channel device biased with both positive and negative voltages. V – = –2.5 V DESIGN EXAMPLE 3.6 Figure 3.28 Circuit for Objective: Design a circuit with a p-channel MOSFET that is biased with both neg- Exercise Ex 3.5 ative and positive supply voltages and that contains a source resistor RS to meet a set of specifications. Specifications: The circuit to be designed is shown in Figure 3.29. Design the circuit V + such that IDQ = 100 μA, VSDQ = 3 V, and VRS = 0.8 V. Note that VRS is the volt- = 2.5 V age across the source resistor RS . The value of the larger bias resistor, either R1 or R2, is to be 200 k. + V RR RS S Choices: A transistor with nominal parameter values of K = 100 μA/V2 p and 1 – VT P = −0.4 V is available. The conduction parameter may vary by ±5 percent. VG Solution: Assuming that the transistor is biased in the saturation region, we have IDQ = Kp(VSG + VT P)2 . Solving for the source-to-gate voltage, we find the required R2 RD value of sou√rce-to-gate voltag√e to be V = IDQ SG − 100 VT P = − (−0.4) – K 100 V = –2.5 V p Figure 3.29 Circuit configu- or ration for Example 3.6 VSG = 1.4 V We may note that the design value of VSDQ = 3 V > VSDQ (sat) = VSG Q + VT P = 1.4 − 0.4 = 1 V so that the transistor will be biased in the saturation region. The voltage at the gate with respect to ground potential is found to be VG = V + − VRS − VSG = 2.5 − 0.8 − 1.4 = 0.3 V With VG > 0, the resistor R2 will be the larger of the two bias resistors, so set R2 = 200 k. The current through R2 is then = VG − V − = 0.3 − (−2.5) IBias = 0.014 mA R2 200 Since the current through R1 is the same, we can find the value of R1 to be + = V − VG = 2.5 − 0.3 R1 IBias 0.014 which yields R1 = 157 k nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 153 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 153 The source resistor value is found from V R RS S = = 0.8 IDQ 0.1 or RS = 8 k The voltage at the drain terminal is VD = V + − VRS − VSD = 2.5 − 0.8 − 3 = −1.3 V Then the drain resistor value is found as V − V − = D = −1.3 − (−2.5) RD IDQ 0.1 or RD = 12 k Tradeoffs: If the conduction parameter Kp varies by ±5%, the quiescent drain current IDQ and the source-to-drain voltage VSDQ will change. Using the resistor values found in the previous design, we find the following: Kp VSGQ IDQ VSDQ 95 μA/V2 1.416 V 98.0 μA 3.04 V 105 AV2 1 385 V 101 9 A 2 +2.2 V μ / . . μ .962 V ±5% ±1.14% ±2% ±1.33% RR = S = 1 6 kΩ Comment: We may note that the variation in the Q-point values is smaller that the 255 kΩ variation in Kp . Including the source resistor RS tends to stabilize the Q-point. R = EXERCISE PROBLEM 2 R = 345 kΩ D 42 kΩ Ex 3.6: Consider the circuit shown in Figure 3.30. The nominal transistor parameters are V = −0.30 V and K = 120 μA/V2 T Pp . (a) Calculate VSG , ID , and VSD . (b) Determine the variation in ID if the threshold voltage varies by –2.2 V ±5 percent. (Ans. (a) VSG = 1.631 V, ID = 0.2126 mA, VSD = 3.295 V; ≤ ≤ Figure 3.30 Figure for (b) 0.2091 ID 0.2160 mA) Exercise Ex 3.6 COMPUTER ANALYSIS EXERCISE PS 3.2 Verify the circuit design in Example 3.6 with a PSpice simulation. Also investigate the change in Q-point values with ±10 percent variations in resistor values. 3.2.2 Load Line and Modes of Operation The load line is helpful in visualizing the region in which the MOSFET is biased. Consider again the common-source circuit shown in Figure 3.25(b). Writing a Kirchhoff’s voltage law equation around the drain-source loop results in Equation (3.14), which is the load line equation, showing a linear relationship between the drain current and drain-to-source voltage. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 154 F506 Hard disk:Desktop Folder:MHDQ134-03: 154 Part 1 Semiconductor Devices and Basic Applications iD (mA) 0.30 v (sat) = v Nonsaturation DS GS – VTN 0.25 region 0.20 Transition point 0.15 Q-point 0.10 VGSQ = 2 V Saturation region 0.05 Cutoff 0 1 2 3 4 5 vDS Figure 3.31 Transistor characteristics, vDS(sat) curve, load line, and Q-point for the NMOS common-source circuit in Figure 3.25(b) Figure 3.31 shows the vDS(sat) characteristic for the transistor described in Example 3.3. The load line is given by VDS = VDD − ID RD = 5 − ID(20) (3.20(a)) or ID = 5 − VDS (mA) (3.20(b)) 20 20 and is also plotted in the figure. The two endpoints of the load line are determined in the usual manner. If ID = 0, then VDS = 5 V; if VDS = 0, then ID = 5/20 = 0.25 mA. The Q-point of the transistor is given by the dc drain current and drain-to- source voltage, and it is always on the load line, as shown in the figure. A few transistor characteristics are also shown on the figure. If the gate-to-source voltage is less than VTN, the drain current is zero and the transistor is in cutoff. As the gate-to-source voltage becomes just greater than VTN, the transistor turns on and is biased in the saturation region. As VGS increases, the Q-point moves up the load line. The transition point is the boundary between the saturation and nonsaturation regions and is defined as the point where VDS = VDS(sat) = VGS − VT N . As VGS increases above the transition point value, the transistor becomes biased in the nonsaturation region. EXAMPLE 3.7 Objective: Determine the transition point parameters for a common-source circuit. Consider the circuit shown in Figure 3.25(b). Assume transistor parameters of VT N = 1 V and Kn = 0.1 mA/V2. Solution: At the transition point, VDS = VDS(sat) = VGS − VT N = VDD − ID RD The drain current is still ID = Kn(VGS − VT N )2 Combining the last two equations, we obtain VGS − VT N = VDD − Kn RD(VGS − V )2 TN nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 155 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 155 Rearranging this equation produces KR (V 2 n D GS − VT N ) + (VGS − VT N ) − VDD = 0 or (0.1)(20)(VGS − VT N )2 + (VGS − VT N ) − 5 = 0 Solving the quadratic equation, we find that VGS − VT N = 1.35 V = VDS Therefore, VGS = 2.35 V and ID = (0.1)(2.35 − 1)2 = 0.182 mA Comment: For VGS < 2.35 V, the transistor is biased in the saturation region; for VGS > 2.35 V, the transistor is biased in the nonsaturation region. EXERCISE PROBLEM Ex 3.7: Consider the circuit in Figure 3.30. Using the nominal transistor parameters described in Exercise Ex 3.6, draw the load line and determine the transition point parameters. (Ans. VSG = 2.272 V, ID = 0.4668 mA, VSD = 1.972 V) Problem-Solving Technique: MOSFET DC Analysis Analyzing the dc response of a MOSFET circuit requires knowing the bias condition (saturation or nonsaturation) of the transistor. In some cases, the bias condition may not be obvious, which means that we have to guess the bias condition, then analyze the circuit to determine if we have a solution consistent with our initial guess. To do this, we can: 1. Assume that the transistor is biased in the saturation region, in which case VGS > VT N , ID > 0, and VDS ≥ VDS(sat). 2. Analyze the circuit using the saturation current-voltage relations. 3. Evaluate the resulting bias condition of the transistor. If the assumed parameter values in step 1 are valid, then the initial assumption is correct. If VGS < VT N , then the transistor is probably cutoff, and if VDS < VDS(sat), the transistor is likely biased in the nonsaturation region. 4. If the initial assumption is proved incorrect, then a new assumption must be made and the circuit reanalyzed. Step 3 must then be repeated. 3.2.3 Additional MOSFET Configurations: DC Analysis There are other MOSFET circuits, in addition to the basic common-source circuits just considered, that are biased with the basic four-resistor configuration. However, MOSFET integrated circuit amplifiers are generally biased with constant current sources. Example 3.8 demonstrates this technique using an ideal current source. nea80644_ch03_125-204.qxd 06/08/2009 09:10 PM Page 156 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-08-09:MHDQ134-03 Folder: 156 Part 1 Semiconductor Devices and Basic Applications DESIGN EXAMPLE 3.8 Objective: Design a MOSFET circuit biased with a constant-current source to meet a set of specifications. Specifications: The circuit configuration to be designed is shown in Figure 3.32(a). Design the circuit such that the quiescent values are IDQ = 250 μA and VD = 2.5 V. Choices: A transistor with nominal values of VT N = 0.8 V, k ′ n = 80 μA/V2, and W/L = 3 is available. Assume k ′ n varies by ±5 percent. Solution: The dc equivalent circuit is shown in Figure 3.32(b). Since vi = 0, the gate is at ground potential and there is no current through RG . We have that IQ = IDQ = 250 μA. Assuming the transistor is biased in the saturation region, we have ′ ID = kn · W (VGS − V )2 2 LT Nor ( ) 80 250 = · (3)(V − 0.8)2 2 GS which yields VGS = 2.24 V The voltage at the source terminal is VS = −VGS = −2.24 V. The drain current can also be written as = 5 − VI DD RD For VD = 2.5 V, we have = 5 − 2.5 RD = 10 k 0.25 The drain-to-source voltage is VDS = VD − VS = 2.5 − (−2.24) = 4.74 V +5 V +5 V iD RD RD vD VD + V v + Si – RG VGS – I C Q S IQ –5 V –5 V (a) (b) Figure 3.32 (a) NMOS common-source circuit biased with a constant-current source and (b) equivalent dc circuit nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 157 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 157 Since VDS = 4.74 V > VDS(sat) = VGS − VT N = 2.24 − 0.8 = 1.44 V, the transistor is biased in the saturation region, as initially assumed. Tradeoffs: Note that even if k ′ n changes, the drain current remains constant. For 76 ≤ k ′ n ≤ 84 μA/V2, the variation in VGSQ is 2.209 ≤ VGSQ ≤ 2.281 V and the variation in VDSQ is 4.709 ≤ VDSQ ≤ 4.781 V. The variation in VDSQ is ±0.87 percent even with a ±5 percent variation ink ′ n . This stability effect is one advantage of using constant current biasing. +3 V Comment: MOSFET circuits can be biased by using constant-current sources, which in turn are designed by using other MOS transistors, as we will see. Biasing RS with current sources tends to stabilize circuits against variations in device or circuit parameters. EXERCISE PROBLEM R Ex 3.8: (a) Consider the circuit shown in Figure 3.33. The transistor parameters Dare VT P = −0.40 V and Kp = 30 μA/V2. Design the circuit such that IDQ = 60 μA and VSDQ = 2.5 V. (b) Determine the variation in Q-point values if –3 V the VT P and Kp parameters vary by ±5 percent. (Ans. (a) RS = 19.77 k, RD = 38.57 k; (b) 58.2 ≤ I ≤ 61 08 A, 2 437 ≤ V ≤ 2 605 V) Figure 3.33 Circuit for DQ . μ . SDQ . Exercise Ex 3.8 n-Channel Enhancement-Load Device VDD An enhancement-mode MOSFET connected in a configuration such as that shown in Figure 3.34 can be used as a nonlinear resistor. A transistor with this connection is iD called an enhancement-load device. Since the transistor is an enhancement mode device, VT N > 0. Also, for this circuit, vDS = vGS > vDS(sat) = vGS − VT N , which + means that the transistor is always biased in the saturation region. The general iD ver- vDS sus vDS characteristics can then be written as + – v = GS iD K (v 2 2 – n GS − VT N ) = Kn(vDS − VT N ) (3.21) Figure 3.35 shows a plot of Equation (3.21) for the case when Kn = 1 mA/V2 and VT N = 1 V. Figure 3.34 Enhancement- mode NMOS device with the i (mA) gate connected to the drain D 10 vDS (sat) = vGS – VTN 9 8 7 Transistor 6 characteristics 5 4 3 2 1 0 1 2 3 4 5 vDS (V) Figure 3.35 Current–voltage characteristic of an enhancement load device nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 158 F506 Hard disk:Desktop Folder:MHDQ134-03: 158 Part 1 Semiconductor Devices and Basic Applications VDD = 5 V IDL + M V L DSL Load + – VGSL – VO IDD + VI MD VDSD Driver + – VGSD – Figure 3.36 Circuit with enhancement-load device and NMOS driver If an enhancement-load device is connected in a circuit with another MOSFET in the configuration shown in Figure 3.36, the circuit can be used as an amplifier or as an inverter in a digital logic circuit. The load device, ML, is always biased in the saturation region, and the transistor MD, called the driver transistor, can be biased in either the saturation or nonsaturation region, depending on the value of the input voltage. The next example addresses the dc analysis of this circuit for dc input voltages to the gate of MD. EXAMPLE 3.9 Objective: Determine the dc transistor currents and voltages in a circuit containing an enhancement load device. The transistors in the circuit shown in Figure 3.36 have parameters VT ND = VT N L = 1 V, KnD = 50 μA/V2, and K 2 nL = 10 μA/V . Also assume λnD = λnL = 0. (The subscript D applies to the driver transistor and the subscript L applies to the load transistor.) Determine VO for VI = 5 V and VI = 1.5 V. Solution: (VI = 5 V) For an inverter circuit with a resistive load, when the input voltage is large, the output voltage drops to a low value. Therefore, we assume that the driver transistor is biased in the nonsaturation region since the drain-to-source voltage will be small. The drain current in the load device is equal to the drain current in the driver transistor. Writing these currents in generic form, we have IDD = IDL or [ ] KnD 2(VGSD − VT ND)VDSD − V 2 2 DSD = KnL [VGSL − VT N L ] Since VG[SD = VI , VDSD = VO , an]d VGSL = VDSL = VDD − VO , then KnD 2(VI − V 2 2 TN D)VO − VO = KnL [VDD − VO − VT N L ] Substitut[ing numbers, we fin]d (50) 2(5 − 1)V 2 O − VO = (10)[5 − VO − 1]2 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 159 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 159 Rearranging the terms provides 3V 2 O − 24VO + 8 = 0 Using the quadratic formula, we obtain two possible solutions: VO = 7.65 V or VO = 0.349 V Since the output voltage cannot be greater than the supply voltage VDD = 5 V, the valid solution is VO = 0.349 V. Also, since VDSD = VO = 0.349 V < VGSD − VT ND = 5 − 1 = 4 V, the driver MD is biased in the nonsaturation region, as initially assumed. The current can be determined from I = K (V − V )2 D nL GSL TN L = KnL(VDD − VO − VT N L)2 or ID = (10)(5 − 0.349 − 1)2 = 133 μA Solution: (VI = 1.5 V) Since the threshold voltage of the driver transistor is VT N = 1 V, an input voltage of 1.5 V means the transistor current is going to be relatively small so the output voltage should be relatively large. For this reason, we will assume that the driver transistor MD is biased in the saturation region. Equating the currents in the two transistors and writing the current equations in generic form, we have IDD = IDL or K 2 nD[VGSD − VT ND] = KnL [VGSL − V ]2 TN L Again, since VGSD = VI and VGSL = VDSL = VDD − VO , then KnD[VI − V 2 TN D] = KnL [VDD − VO − VT N L ]2 Subs√tituting numbers √and taking the square root, we find 50[1.5 − 1] = 10[5 − VO − 1] which yields VO = 2.88 V. Since VDSD = VO = 2.88 V > VGSD − VT ND = 1.5 − 1 = 0.5 V, the driver transistor MD is biased in the saturation region, as initially assumed. The current is I 2 2 D = KnD(VGSD − VT ND) = (50)(1.5 − 1) = 12.5 μA Comment: For this example, we made an initial guess as to whether the driver transistor was biased in the saturation or nonsaturation region. A more analytical approach is shown following this example. Computer Simulation: The voltage transfer characteristics of the NMOS inverter with enhancement load shown in Figure 3.36 were obtained by a PSpice analysis. These results are shown in Figure 3.37. As the input voltage decreases from its high state, the output voltage increases, charging and discharging capacitances in the transistors. The current in the circuit goes to zero when the driver transistor is cutoff. This occurs when VI = VGSD = VT N = 1 V. At this point, the output voltage is VO = 4 V. Since there is no current, the capacitances cease charging and discharging so the output voltage cannot get to the full VDD = 5 V value. The maximum output voltage is VO(max) = VDD − VT N L = 5 − 1 = 4 V. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 160 F506 Hard disk:Desktop Folder:MHDQ134-03: 160 Part 1 Semiconductor Devices and Basic Applications V0 (V) 4.0 2.0 0 0 5.0 V1 (V) Figure 3.37 Voltage transfer characteristics of NMOS inverter with enhancement load device When the input voltage is just greater than 1 V, both transistors are biased in the saturation region as the previous analysis for VI = 1.5 V showed. The output voltage is a linear function of input voltage as we will see in Equation (3.24). For an input voltage greater than approximately 2.25 V, the driver transistor is biased in the nonsaturation region and the output voltage is a nonlinear function of input voltage. EXERCISE PROBLEM Ex 3.9: Consider the NMOS inverter shown in Figure 3.36 with transistor parameters described in Example 3.9. Determine the output voltage VO for input voltages (a) VI = 4 V and (b) VI = 2 V. (Ans. (a) 0.454 V, (b) 1.76 V) COMPUTER ANALYSIS EXERCISE PS 3.3: Consider the NMOS circuit shown in Figure 3.36. Plot the voltage transfer characteristics, using a PSpice simulation. Use transistor parameters similar to those in Example 3.9. What are the values of VO for VI = 1.5 V and VI = 5 V? In the circuit shown in Figure 3.36, we can determine the transition point for the driver transistor that separates the saturation and nonsaturation regions. The transition point is determined by the equation VDSD(sat) = VGSD − VT ND (3.22) Again, the drain currents in the two transistors are equal. Using the saturation drain current relationship for the driver transistor, we have IDD = IDL (3.23(a)) or KnD[VGSD − V ]2 TN D = KnL [V − V ]2 GSL TN L (3.23(b)) nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 161 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 161 VDD iD i vDS (sat) = vGS – VTN = – VD TN + vGS = 0 vDS – vDS (sat) vDS (a) (b) Figure 3.38 (a) Depletion-mode NMOS device with the gate connected to the source and (b) current–voltage characteristics Again, noting that VGSD = VI and VGSL = VDSL = VDD − VO , and taking the squa√re root, we have KnD (VI − VT ND) = (VDD − VO − VT N L) (3.24) KnL At the transition point, we can define the input voltage as VI = VI t and the output voltage as VOt = VDSD(sat) = VI t − VT ND . Then, from Equation (3.24), the input voltage at the transition point is √ V V = DD − VT N L + √VT ND(1 + KnD/KnL) It (3.25) 1 + KnD/KnL If we apply Equation (3.25) to the previous example, we can show that our initial assumptions were correct. n-Channel Depletion-Load Device Ann-channel depletion-mode MOSFET can also be used as a load device. Consider the depletion-mode MOSFET with the gate and source connected together shown in Figure 3.38(a). The current–voltage characteristics are shown in Figure 3.38(b). The transistor maybe biased in either the saturation or nonsaturation regions. The transition point is also shown on the plot. The threshold voltage of then-channel depletion- mode MOSFET is negative so that vDS(sat) is positive. A depletion-load device can be used in conjunction with another MOSFET, as shown in Figure 3.39, to create a circuit that can be used as an amplifier or as an inverter in a digital logic circuit. Both the load device ML and driver transistor MD maybe biased in either the saturation or nonsaturation region, depending on the value of the input voltage. We will perform the dc analysis of this circuit for a particular dc input voltage to the gate of the driver transistor. EXAMPLE 3.10 Objective: Determine the dc transistor currents and voltages in a circuit containing a depletion load device. Consider the circuit shown in Figure 3.39. Let VDD = 5 V and assume transistor parameters of VT ND = 1 V, VT N L = −2 V, KnD = 50 μA/V2, and KnL = 10 μA/V2. Determine VO for VI = 5 V. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 162 F506 Hard disk:Desktop Folder:MHDQ134-03: 162 Part 1 Semiconductor Devices and Basic Applications VDD IDL + ML VDSL Load – VO IDD + VI MD VDSD Driver + – VGSD – Figure 3.39 Circuit with depletion-load device and NMOS driver Solution: Assume the driver transistor MD is biased in the nonsaturation region and the load transistor ML is biased in the saturation region. The drain currents in the two transistors are equal. In generic form, these currents are IDD = IDL or [ ] KnD 2(VGSD − VT ND)V 2 DSD − VDSD = KnL [VGSL − V 2 TN L ] Since VG[SD = VI , VDSD = VO , an]d VGSL = 0, then KnD 2(V − V 2 IT ND)VO − VO = KnL [−VT N L ]2 Substitut[ing numbers, we fin]d (50) 2(5 − 1)V − V 2 2 O O = (10)[−(−2)] Rearranging the terms produces 5V 2 O − 40VO + 4 = 0 Using the quadratic formula, we obtain two possible solutions: VO = 7.90 V or VO = 0.10 V Since the output voltage cannot be greater than the supply voltage VDD = 5 V, the valid solution is VO = 0.10 V. The current is ID = KnL(−V 2 TN L) = (10)[−(−2)]2 = 40 μA Comment: Since VDSD = VO = 0.10 V < VGSD − VT ND = 5 − 1 = 4 V, MD is biased in the nonsaturation region, as assumed. Similarly, since VDSL = VDD − VO = 4.9 V > VGSL − VT N L = 0 − (−2) = 2 V, ML is biased in the saturation region, as originally assumed. Computer Simulation: The voltage transfer characteristics of the NMOS inverter circuit with depletion load in Figure 3.39 were obtained using a PSpice analysis. These results are shown in Figure 3.40. For an input voltage less than 1 V, the driver is cutoff and the output voltage is VO = VDD = 5 V. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 163 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 163 VO (V) 5.0 0 0 5.0 VI (V) Figure 3.40 Voltage transfer characteristics of NMOS inverter with depletion load device When the input voltage is just greater than 1 V, the driver transistor is biased in the saturation region and the load device in the nonsaturation region. When the input voltage is approximately 1.9 V, both transistors are biased in the saturation region. If the channel length modulation parameter λ is assumed to be zero as in this example, there is no change in the input voltage during this transition region. As the input voltage becomes larger than 1.9 V, the driver is biased in the nonsaturation region and the load in the saturation region. EXERCISE PROBLEM Ex 3.10: Consider the circuit shown in Figure 3.39 with transistor parameters VT ND = 1 V and VT N L = −2 V. (a) Design the ratio KnD/KnL that will produce an output voltage of VO = 0.25 Vat VI = 5 V. (b) Find KnD and KnL if the transistor currents are 0.2 mA when VI = 5 V. (Ans. (a) KnD/KnL = 2.06 (b) KnL = 50 μA/V2, K 2 nD = 103 μA/V ) COMPUTER ANALYSIS EXERCISE VDD PS 3.4: Consider the NMOS circuit shown in Figure 3.39. Plot the voltage transfer characteristics using a PSpice simulation. Use transistor parameters similar to those in Example 3.10. What are the values of VO for VI = 1.5 V and VI = 5 V? VG MP p-Channel Enhancement-Load Device VOA p-channel enhancement-mode transistor can also be used as a load device to form a complementary MOS (CMOS) inverter. The term complementary implies that VI MN both n-channel and p-channel transistors are used in the same circuit. The CMOS technology is used extensively in both analog and digital electronic circuits. Figure 3.41 shows one example of a CMOS inverter. The NMOS transistor is used as the amplifying device, or the driver, and the PMOS device is the load, which Figure 3.41 Example of is referred to as an active load. This configuration is typically used in analog applications. CMOS inverter nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 164 F506 Hard disk:Desktop Folder:MHDQ134-03: 164 Part 1 Semiconductor Devices and Basic Applications VO (V) 5.0 0 0 5.0 VI (V) Figure 3.42 Voltage transfer characteristics of CMOS inverter in Figure 3.41 In another configuration, the two gates are tied together and form the input. This configuration will be discussed in detail in Chapter 16. As with the previous two NMOS inverters, the two transistors shown in Figure 3.41 maybe biased in either the saturation or nonsaturation region, depending on the value of the input voltage. The voltage transfer characteristic is most easily determined from a PSpice analysis. EXAMPLE 3.11 Objective: Determine the voltage transfer characteristic of the CMOS inverter using a PSpice analysis. For the circuit shown in Figure 3.41, assume transistor parameters of VT N = 1 V, VT P = −1 V, and Kn = Kp . Also assume VDD = 5 V and VG = 3.25 V. Solution: The voltage transfer characteristics are shown in Figure 3.42. In this case, there is a region, as was the case for an NMOS inverter with depletion load, in which both transistors are biased in the saturation region, and the input voltage is a constant over this transition region for the assumption that the channel length modulation parameter λ is zero. Comment: In this example, the source-to-gate voltage of the PMOS device is only VSG = 1.75 V. The effective resistance looking into the drain of the PMOS device is then relatively large. This is a desirable characteristic for an amplifier, as we will see in the next chapter. EXERCISE PROBLEM Ex 3.11: Consider the circuit in Figure 3.41. Assume the same transistor parameters and circuit parameters as given in Example 3.11. Determine the transition point parameters for the transistors MN and MP. (Ans. MP: VOt = 4.25 V, VI t = 1.75 V; MN : VOt = 0.75 V, VI t = 1.75 V) nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 165 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 165 Test Your Understanding TYU 3.7 The transistor in the circuit shown in Figure 3.25(a) has parameters VDD = 3.3 V VT N = 0.25 V and K 2 n = 30 μA/V . The circuit is biased at VDD = 2.2 V. Let R1 + R2 = 500 k. Redesign the circuit such that IDQ = 70 μA and VDSQ = 1.2 V. (Ans. R1 = 96 k, R2 = 404 k, RD = 14.3 k) + TYU 3.8 Consider the circuit in Figure 3.43. The transistor parameters are VDS – VT N = 0.4 V and k ′ n = 100 μA/V2. Design the transistor width-to-length ratio such that VDS = 1.6 V. (Ans. 2.36) RS = 10 kΩ TYU 3.9 For the circuit shown in Figure 3.36, use the transistor parameters given in Example 3.9. (a) Determine VI and VO at the transition point for the driver transistor. (b) Calculate the transistor currents at the transition point. (Ans. (a) VI t = 2.236 V, = Figure 3.43 Circuit for VOt 1.236 V; (b) ID = 76.4 μA) Exercise TYU 3.8 TYU 3.10 Consider the circuit shown in Figure 3.44. The transistor parameters are V ′ 2 TN = −1.2 V and kn = 80 μA/V . (a) Design the transistor width-to-length ratio VDD = 3.3 V such that VDS = 1.8 V. Is the transistor biased in the saturation or nonsaturation region? (b) Repeat part (a) for VDS = 0.8 V. (Ans. (a) 3.26, (b) 6.10) + TYU 3.11 For the circuit shown in Figure 3.39, use the transistor parameters given in VDS Example 3.10. (a) Determine VI and VO at the transition point for the load transistor. – (b) Determine VI and VO at the transition point for the driver transistor. (Ans. (a) VI t = 1.89 V, VOt = 3 V; (b) VI t = 1.89 V, VOt = 0.89 V) RS = 8 kΩ 3.3 BASIC MOSFET APPLICATIONS: SWITCH, DIGITAL LOGIC GATE, AND AMPLIFIER Figure 3.44 Circuit for Exercise TYU 3.10 Objective: • Examine three applications of MOSFET circuits: a switch circuit, digital logic circuit, and an amplifier circuit. MOSFETs maybe used to: switch currents, voltages, and power; perform digital logic functions; and amplify small time-varying signals. In this section, we will examine the switching properties of an NMOS transistor, analyze a simple NMOS transistor digital logic circuit, and discuss how the MOSFET can be used to amplify small signals. 3.3.1 NMOS Inverter VDD The MOSFET can be used as a switch in a wide variety of electronic applications. i R The transistor switch provides an advantage over mechanical switches in both speed DD and reliability. The transistor switch considered in this section is also called an in- v verter. Two other switch configurations, the NMOS transmission gate and the CMOS O transmission gate, are discussed in Chapter 16. + Figure 3.45 shows then-channel enhancement-mode MOSFET inverter circuit. vI vDS + If vI < VT N , the transistor is in cutoff and iD = 0. There is no voltage drop across – vGS RD, and the output voltage is vO = VDD . Also, since iD = 0, no power is dissipated – in the transistor. If vI > VT N , the transistor is on and initially is biased in the saturation region, Figure 3.45 NMOS inverter since vDS > vGS − VT N . As the input voltage increases, the drain-to-source voltage circuit"
"3.3 Basic MOSFET Applications: Switch, Digital Logic Gate, and Amplifier","3.3 BASIC MOSFET APPLICATIONS: SWITCH, DIGITAL LOGIC GATE, AND AMPLIFIER Figure 3.44 Circuit for Exercise TYU 3.10 Objective: • Examine three applications of MOSFET circuits: a switch circuit, digital logic circuit, and an amplifier circuit. MOSFETs maybe used to: switch currents, voltages, and power; perform digital logic functions; and amplify small time-varying signals. In this section, we will examine the switching properties of an NMOS transistor, analyze a simple NMOS transistor digital logic circuit, and discuss how the MOSFET can be used to amplify small signals. 3.3.1 NMOS Inverter VDD The MOSFET can be used as a switch in a wide variety of electronic applications. i R The transistor switch provides an advantage over mechanical switches in both speed DD and reliability. The transistor switch considered in this section is also called an in- v verter. Two other switch configurations, the NMOS transmission gate and the CMOS O transmission gate, are discussed in Chapter 16. + Figure 3.45 shows then-channel enhancement-mode MOSFET inverter circuit. vI vDS + If vI < VT N , the transistor is in cutoff and iD = 0. There is no voltage drop across – vGS RD, and the output voltage is vO = VDD . Also, since iD = 0, no power is dissipated – in the transistor. If vI > VT N , the transistor is on and initially is biased in the saturation region, Figure 3.45 NMOS inverter since vDS > vGS − VT N . As the input voltage increases, the drain-to-source voltage circuit nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 166 F506 Hard disk:Desktop Folder:MHDQ134-03: 166 Part 1 Semiconductor Devices and Basic Applications decreases, and the transistor eventually becomes biased in the nonsaturation region. When vI = VDD , the transistor is biased in the nonsaturation region, vO reaches a minimum value, and the drain current reaches a maximum value. The current and voltage are gi[ven by i 2 ] D = Kn 2(vI − VT N )vO − vO (3.26) and vO = vDD − iD RD (3.27) where vO = vDS and vI = vGS . DESIGN EXAMPLE 3.12 Objective: Design the size of a power MOSFET to meet the specification of a particular switch application. The load in the inverter circuit in Figure 3.45 is a coil of an electromagnet that requires a current of 0.5 A when turned on. The effective load resistance varies between 8 and 10 , depending on temperature and other variables. A 10 V power supply is available. The transistor parameters are k ′ n = 80 μA/V2 and VT N = 1 V. Solution: One solution is to bias the transistor in the saturation region so that the current is constant, independent of the load resistance. The minimum VDS value is 5 V. We need VDS > VDS(sat) = VGS − VT N . If we bias the transistor at VGS = 5 V, then the transistor will always be biased in the saturation region. We can then write = k ′ n · WI (V − V )2 D 2 L GS TN or ( ) = 80 × 10−6 W 0.5 · (5 − 1)2 2 L which yields W/L = 781. The maximum power dissipation in the transistor occurs when the load resistance is 8  and VDS = 6 V. Then P(max) = VDS(max) · ID = (6) · (0.5) = 3 W Comment: We see that we can switch a relatively large drain current with essentially no input current to the transistor. The size of the transistor required is fairly large, which implies a power transistor is necessary. If a transistor with a slightly different width-to-length ratio is available, the applied VGS can be changed to meet the specification. EXERCISE PROBLEM Ex 3.12: For the MOS inverter circuit shown in Figure 3.45, assume the circuit values are VDD = 5 V and RD = 500 . The threshold voltage of the transistor is VT N = 1 V. (a) Determine the value of the conduction parameter Kn such that vO = 0.2 V when vI = 5 V. (b) What is the power dissipated in the transistor? (Ans. (a) Kn = 6.15 mA/V2, (b) P = 1.92 mW) nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 167 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 167 3.3.2 Digital Logic Gate For the transistor inverter circuit in Figure 3.45, when the input is low and approximately zero volts, the transistor is cutoff, and the output is high and equal to VDD . When the input is high and equal to VDD , the transistor is biased in the nonsaturation region and the output reaches a low value. Since the input voltages will be either high or low, we can analyze the circuit in terms of dc parameters. Now consider the case when a second transistor is connected in parallel, as shown in Figure 3.46. If the two inputs are zero, both M1 and M2 are cutoff, and VO = 5 V. When V1 = 5 V and V2 = 0, the transistor M1 turns on and M2 is still cutoff. Transistor M1 is biased in the nonsaturation region, and VO reaches a low value. If we reverse the input voltages such that V1 = 0 and V2 = 5 V, then M1 is cutoff and M2 is biased in the non- saturation region. Again, VO is at a low value. If both inputs are high, at V1 = V2 = 5 V, then both transistors are biased in the nonsaturation region and VO is low. VDD = 5 V IR RD VOID1 ID2 V1 M1 V2 M2 Figure 3.46 A two-input NMOS NOR logic gate Table 3.2 shows these various conditions for the circuit in Figure 3.46. In a positive logic system, these results indicate that this circuit performs the NOR logic function, and, it is therefore called a two-input NOR logic circuit. In actual NMOS logic circuits, the resistor RD is replaced by another NMOS transistor. Table 3.2 NMOS NOR logic circuit response V1(V) V2(V) VO(V) 0 0 High 5 0 Low 0 5 Low 5 5 Low EXAMPLE 3.13 Objective: Determine the currents and voltages in a digital logic gate, for various input conditions. Consider the circuit shown in Figure 3.46 with circuit and transistor parameters RD = 20 k, Kn = 0.1 mA/V2, VT N = 0.8 V, and λ = 0. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 168 F506 Hard disk:Desktop Folder:MHDQ134-03: 168 Part 1 Semiconductor Devices and Basic Applications Solution: For V1 = V2 = 0, both M1 and M2 are cutoff and VO = VDD = 5 V. For V1 = 5 V and V2 = 0, the transistor M1 is biased in the nonsaturation region, and we can write IR = = 5 − VI O = [ D1 Kn 2(V1 − VT N )VO − V 2 ] R OD Solving for the output voltage VO, we obtain VO = 0.29 V. The currents are = = 5 − 0.29 IR ID1 = 0.236 mA 20 For V1 = 0 and V2 = 5 V, we have VO = 0.29 V and IR = ID2 = 0.236 mA. When both inputs g[o high to V1 = V2 = 5]V, we h[ave IR = ID1 + ID2, or 5 − VO = K 2 n 2(V1 − VT N )VO − VO + Kn 2(V2 − ] VT N )VO − V 2 R OD which can be solved for VO to yield VO = 0.147 V. The currents are = 5 − 0.147 IR = 0.243 mA 20 and I ID1 = I = RD2 = 0.121 mA 2 Comment: When either transistor is biased on, it is biased in the nonsaturation region, since VDS < VDS(sat), and the output voltage reaches a low state. EXERCISE PROBLEM Ex 3.13: For the circuit in Figure 3.46, assume the circuit and transistor parameters are: RD = 30 k, VT N = 1 V, and Kn = 50 μA/V2. Determine VO, IR, ID1, and ID2 for: (a) V1 = 5 V, V2 = 0; and (b) V1 = V2 = 5 V. (Ans. (a) VO = 0.40 V, IR = ID1 = 0.153 mA, ID2 = 0 (b) VO = 0.205 V, IR = 0.16 mA, ID1 = ID2 = 0.080 mA) This example and discussion illustrates that MOS transistors can be configured in a circuit to perform logic functions. A more detailed analysis and design of MOSFET logic gates and circuits is presented in Chapter 16. As we will see in that chapter, most MOS logic gate circuits are fabricated by using CMOS, which means designing circuits with both n-channel and p-channel transistors and no resistors. 3.3.3 MOSFET Small-Signal Amplifier The MOSFET, in conjunction with other circuit elements, can amplify small time- varying signals. Figure 3.47(a) shows the MOSFET small-signal amplifier, which is a common-source circuit in which a time-varying signal is coupled to the gate through a coupling capacitor. Figure 3.47(b) shows the transistor characteristics and the load line. The load line is determined for vi = 0. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 169 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 169 VDD iD vDS (sat) RD R1 vO CC + vDS + I + DQ – V + GS v + GS Iv R – DQ Vi 2 GSQ – IV – DQ GS V – DS V + DSQ VDS VDD vDS (a) (b) Figure 3.47 (a) An NMOS common-source circuit with a time-varying signal coupled to the gate and (b) transistor characteristics, load line, and superimposed sinusoidal signals We can establish a particular Q-point on the load line by designing the ratio of the bias resistors R1 and R2. If we assume that vi = Vi sin ωt , the gate-to-source voltage will have a sinusoidal signal superimposed on the dc quiescent value. As the gate-to-source voltage changes overtime, the Q-point will move up and down the line, as indicated in the figure. Moving up and down the load line translates into a sinusoidal variation in the drain current and in the drain-to-source voltage. The variation in output voltage can be larger than the input signal voltage, which means the input signal is amplified. The actual signal gain depends on both the transistor parameters and the circuit element values. In the next chapter, we will develop an equivalent circuit for the transistor used to determine the time-varying small-signal gain and other characteristics of the circuit. Test Your Understanding TYU 3.12 The circuit shown in Figure 3.45 is biased at VDD = 10 V, and the transistor parameters are VT N = 0.7 V and K 2 n = 4 mA/V . Design the value of RD such that the output voltage will be vO = 0.20 V when vI = 10 V. (Ans. 0.666 k) 5 V TYU 3.13 The transistor in the circuit shown in Figure 3.48 has parameters Kn = 4 mA/V2 and VT N = 0.8 V, and is used to switch the LED on and off. The LED cutin voltage is Vγ = 1.5 V. The LED is turned on by applying an input voltage R of vI = 5 V. (a) Determine the value of R such that the diode current is 12 mA. (b) From the results of part (a), what is the value of vDS ? (Ans. (a) R = 261 , LED (b) vDS = 0.374 V) vI TYU 3.14 In the circuit in Figure 3.46, let RD = 25 k and VT N = 1 V. (a) Determine the value of the conduction parameter Kn required such that VO = 0.10 V when V1 = 0 and V2 = 5 V. (b) Using the results of part (a), find the value of VO when V1 = V2 = 5 V. (Ans. (a) Kn = 0.248 mA/V2, (b) VO = 0.0502 V) Figure 3.48 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 170 F506 Hard disk:Desktop Folder:MHDQ134-03: 170 Part 1 Semiconductor Devices and Basic Applications 3.4 CONSTANT-CURRENT BIASING Objective: • Investigate current biasing of MOSFET devices. As was shown in Figure 3.32, a MOSFET can be biased with a constant-current source IQ . The gate-to-source voltage of the transistor in this circuit then adjusts itself to correspond to the current IQ . We can implement the current source by using MOSFET devices. The circuits shown in Figures 3.49(a) and 3.49(b) area first step toward this design. The transistors M2 and M3 in Figure 3.49(a) form a current mirror and are used to bias the NMOS transistor M1. Similarly, the transistors MB and MC in Figure 3.49(b) form a current mirror and are used to bias the PMOS transistor MA . V + V + + + VSGC VSGB RD = 8 kΩ – – MC MB IQ2 IREF1 + + VSGA + – MA VSDA M1 V – DS1 + – V IREF2 GS1 – IQ1 MM RD = 8 kΩ 3 2 + + VGS3 V – GS2 – V – V – (a) (b) Figure 3.49 (a) NMOS current mirror and (b) PMOS current mirror The operation and characteristics of these circuits are demonstrated in the following two examples. EXAMPLE 3.14 Objective: Analyze the circuit shown in Figure 3.49(a). Determine the bias current IQ1, the gate-to-source voltages of the transistors, and the drain-to-source voltage of M1. Assume circuit parameters of I + REF1 = 200 μA, V = 2.5 V, and V − = −2.5 V. Assume transistor parameters of VT N = 0.4 V (all transistors), λ = 0 (all transistors), Kn1 = 0.25 mA/V2, and Kn2 = K 2 n3 = 0.15 mA/V ."
3.4 Constant-Current Biasing,"3.4 CONSTANT-CURRENT BIASING Objective: • Investigate current biasing of MOSFET devices. As was shown in Figure 3.32, a MOSFET can be biased with a constant-current source IQ . The gate-to-source voltage of the transistor in this circuit then adjusts itself to correspond to the current IQ . We can implement the current source by using MOSFET devices. The circuits shown in Figures 3.49(a) and 3.49(b) area first step toward this design. The transistors M2 and M3 in Figure 3.49(a) form a current mirror and are used to bias the NMOS transistor M1. Similarly, the transistors MB and MC in Figure 3.49(b) form a current mirror and are used to bias the PMOS transistor MA . V + V + + + VSGC VSGB RD = 8 kΩ – – MC MB IQ2 IREF1 + + VSGA + – MA VSDA M1 V – DS1 + – V IREF2 GS1 – IQ1 MM RD = 8 kΩ 3 2 + + VGS3 V – GS2 – V – V – (a) (b) Figure 3.49 (a) NMOS current mirror and (b) PMOS current mirror The operation and characteristics of these circuits are demonstrated in the following two examples. EXAMPLE 3.14 Objective: Analyze the circuit shown in Figure 3.49(a). Determine the bias current IQ1, the gate-to-source voltages of the transistors, and the drain-to-source voltage of M1. Assume circuit parameters of I + REF1 = 200 μA, V = 2.5 V, and V − = −2.5 V. Assume transistor parameters of VT N = 0.4 V (all transistors), λ = 0 (all transistors), Kn1 = 0.25 mA/V2, and Kn2 = K 2 n3 = 0.15 mA/V . nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 171 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 171 Solution: The drain current in M3 is ID3 = IREF1 = 200 μA and is given by there- lation ID3 =√Kn3(VGS3 − V 2 TN ) (the transistor is biased in the saturation region). Solving for the gate-to-source √voltage, we find = IV D3 0.2 GS3 + VT N = + 0.4 Kn3 0.15 or VGS3 = 1.555 V We note that VGS3 = VGS2 = 1.555 V. We can write ID2 = IQ1 = Kn2(V 2 2 GS2 − VT N ) = 0.15(1.555 − 0.4) or IQ1 = 200 μA The gate-to-source voltage VGS1 (assuming M1 is biased in the saturation region) can be written as√ √ = IQ1 + = 0.2 VGS1 VT N + 0.4 Kn1 0.25 or VGS1 = 1.29 V The drain-to-source voltage is found from V + DS1 = V − IQ1 RD − (−VGS1) = 2.5 − (0.2)(8) − (−1.29) or VDS1 = 2.19 V We may note that M1 is indeed biased in the saturation region. Comment: Since the current mirror transistors M2 and M3 are matched (identical parameters) and since the gate-to-source voltages are the same in the two transistors, the bias current, IQ1, is equal to (i.e., mirrors) the reference current, IREF1. EXERCISE PROBLEM Ex 3.14: For the circuit shown in Figure 3.49(a), assume circuit parameters of IREF1 = 120 μA, V + = 3 V, and V − = −3 V; and assume transistor parameters of VT N = 0.4 V, λ = 0, Kn1 = 50 μA/V2, Kn2 = 30 μA/V2, and Kn3 = 60 μA/V2. Determine IQ1 and all gate-to source voltages. (Ans. IQ1 = 60 μA, VGS1 = 1.495 V, VGS2 = VGS3 = 1.814 V) We will now consider a current mirror in which the bias current and reference current are not equal. EXAMPLE 3.15 Objective: Design the circuit shown in Figure 3.49(b) to provide a bias current of IQ2 = 150 μA. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 172 F506 Hard disk:Desktop Folder:MHDQ134-03: 172 Part 1 Semiconductor Devices and Basic Applications Assume circuit parameters of IREF2 = 250 μA, V + = 3 V, and V − = −3 V. Assume transistor parameters of VT P = −0.6 V (all transistors), λ = 0 (all transistors), k ′ p = 40 μA/V2 (all transistors), W/LC = 15, and W/LA = 25. Solution: Since the bias current IQ2 and reference current IREF2 are not equal, the W/L ratios of the current mirror transistors, MC and MB, will not be the same. For MC, since the tra(nsist)or is biased in the saturation region, we have k ′ W IDC = I p REF2 = · (V + V )2 2 L SGC T PC or 40 250 = (15)[VSGC + (−0.6)]2 = 300(VSGC − 0.6)2 2 Then √ VSGC = 250 + 0.6 300 or VSGC = 1.513 V Since VSGC = VSG B =(1.5)13 V, we obtain k ′ IB = I = p Q2 · W (V 2 2 L SG B + VT P) B or ( ) 150 = 40 · W [1.513 + (−0.6)]2 2 LB We fi(nd ) W = 9 LB For MA, we have ′ ( ) IDA = IQ2 = kp · W (V + V )2 2 L SG AT PA or 40 150 = (25)(VSG A + (−0.6))2 = 500(VSG A − 0.6)2 2 Now √ = 150 VSG A + 0.6 500 or VSG A = 1.148 V The source-to-drain voltage of MA is found from V − SD A = VSG A − IQ2 RD − V = 1.148 − (0.15)(8) − (−3) nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 173 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 173 or VSD A = 2.95 V We may note that the transistor MA is biased in the saturation region. Comment: By designing the W/L ratios of the current mirror transistors, we can obtain different reference current and bias current values. EXERCISE PROBLEM Ex 3.15: Consider the circuit shown in Figure 3.49(b). Assume circuit parameters of I = 0.1 mA, V + REF2 = 5 V, and V − = −5 V. The transistor parameters are the same as given in Example 3.l5. Design the circuit such that IQ2 = 0.2 mA. Also determine all source-to-gate voltages. (Ans. VSGC = VSG B = 1.18 V, (W/L)B = 30, VSG A = 1.23 V) The constant-current source can be implemented by using MOSFETs as shown in Figure 3.50. The transistors M2, M3, and M4 form the current source. Transistors M3 and M4 are each connected in a diode-type configuration, and they establish a reference current. We noted in the last section that this diode-type connection implies the transistor is always biased in the saturation region. Transistors M3 and M4 are therefore biased in the saturation region, and M2 is assumed to be biased in the saturation region. The resulting gate-to-source voltage on M3 is applied to M2, and this establishes the bias current IQ. Since the reference current is the same in transistors M3 and M4, we can write K (V 2 2 n3 GS3 − VT N3) = Kn4(VGS4 − VT N4) (3.28) We also know that V + V = (−V − GS4 GS3 ) (3.29) V+ = 5 V RD + MM V 4 1 DS1 + + – I VGS4 RV REF – G GS1 – IQ + M3 M2 V + + DS2 – VGS3 VGS2 – – V – = –5 V Figure 3.50 Implementation of a MOSFET constant-current source nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 174 F506 Hard disk:Desktop Folder:MHDQ134-03: 174 Part 1 Semiconductor Devices and Basic Applications Solving Equation (3.29) for VGS4 and substituting the result into Equation (3.28) yields √ Kn4 [(−V −)√− VT N4] + V KT N3 VGS3 = n3 (3.30) K 1 + n4 Kn3 Since VGS3 = VGS2, the bias current is I = K (V − V )2 Q n2 GS3 TN2 (3.31) EXAMPLE 3.16 Objective: Determine the currents and voltages in a MOSFET constant-current source. For the circuit shown in Figure 3.50, the transistor parameters are: Kn1 = 0.2 mA/V2, Kn2 = Kn3 = Kn4 = 0.1 mA/V2, and VT N1 = VT N2 = VT N3 = VT N4 = 1V. Solution: Fro√m Equation (3.30), we can determine VGS3, as follows: 0.1 [5 V = 0.1 GS3 √− 1] + 1 = 2.5 V 1 + 0.1 0.1 Since M3 and M4 are identical transistors, VGS3 should be one-half of the bias voltage. The bias current IQ is then I = (0.1) · (2.5 − 1)2 Q = 0.225 mA The gate-to-source voltage on M1 is found from IQ = Kn1(VGS1 − V 2 TN1) or 0.225 = (0.2) · (V 2 GS1 − 1) which yields VGS1 = 2.06 V The drain-to-source voltage on M2 is VDS2 = (−V −) − VGS1 = 5 − 2.06 = 2.94 V Since VDS2 = 2.94 V > VDS(sat) = VGS2 − VT N2 = 2.5 − 1 = 1.5 V, M2 is biased in the saturation region. Design Consideration: Since in this example M2 and M3 are identical transistors, the reference current IREF and bias current IQ are equal. By redesigning the width-to- length ratios of M2, M3, and M4, we can obtain a specific bias current IQ . If M2 and nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 175 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 175 M3 are not identical, then IQ and IREF will not be equal. A variety of design options are possible with such a circuit configuration. EXERCISE PROBLEM Ex 3.16: Consider the constant-current source shown in Figure 3.50. Assume that the threshold voltage of each transistor is VT N = 1 V. (a) Design the ratio of Kn4/Kn3 such that VGS3 = 2 V. (b) Determine Kn2 such that IQ = 100 μA. (c) Find Kn3 and Kn4 such that IREF = 200 μA. (Ans. (a) Kn4/K = 1 n3 = 4 (b) Kn2 0.1 mA/V2 (c) Kn3 = 0.2 mA/V2, K 2 n4 = 0.05 mA/V ) Test Your Understanding TYU 3.15 Consider the circuit in Figure 3.49(b). Assume circuit parameters of I = 40 μA, V + = 2.5 V, V − REF2 = −2.5 V, and RD = 20 k. The transistor parameters are VT P = −0.30 V, KpC = 40 μA/V2, K 2 pB = 60 μA/V , and Kp A = 75 μA/V2. Determine IQ2 and all source-to-gate voltages. (Ans. IQ2 = 60 μA, VSGC = VSG B = 1.30 V, VSG A = 1.19 V) TYU 3.16 Consider the circuit shown in Figure 3.50. Assume all transistor threshold voltages are 0.7 V. Determine the values of Kn1, Kn2, Kn3, and Kn4 such that IREF = 80 μA, IQ = 120 μA, VGS3 = 2 V, and VGS1 = 1.5 V. (Ans. Kn1 = 187.5 μA/V2, Kn2 = 71.0 μA/V2, K 2 n3 = 47.3 μA/V , Kn4 = 15.12 μA/V2) 3.5 MULTISTAGE MOSFET CIRCUITS Objective: • Consider the dc biasing of multistage or multitransistor circuits. In most applications, a single-transistor amplifier will not be able to meet the combined specifications of a given amplification factor, input resistance, and output resistance. For example, the required voltage gain may exceed that which can be obtained in a single-transistor circuit. Transistor amplifier circuits can be connected in series, or cascaded, as shown in Figure 3.51. This maybe done either to increase the overall small-signal voltage gain, or provide an overall voltage gain greater than 1, with a very low output resistance. + + Stage 1 Stage 2 vi A A vo V1 V2 – – Ri1 Ro1 Ri2 Ro2 Figure 3.51 Generalized two-stage amplifier"
3.5 Multistage MOSFET Circuits,"3.5 MULTISTAGE MOSFET CIRCUITS Objective: • Consider the dc biasing of multistage or multitransistor circuits. In most applications, a single-transistor amplifier will not be able to meet the combined specifications of a given amplification factor, input resistance, and output resistance. For example, the required voltage gain may exceed that which can be obtained in a single-transistor circuit. Transistor amplifier circuits can be connected in series, or cascaded, as shown in Figure 3.51. This maybe done either to increase the overall small-signal voltage gain, or provide an overall voltage gain greater than 1, with a very low output resistance. + + Stage 1 Stage 2 vi A A vo V1 V2 – – Ri1 Ro1 Ri2 Ro2 Figure 3.51 Generalized two-stage amplifier nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 176 F506 Hard disk:Desktop Folder:MHDQ134-03: 176 Part 1 Semiconductor Devices and Basic Applications The overall voltage gain may not simply be the product of the individual amplification factors. Loading effects, in general, need to be taken into account. There are many possible multistage configurations; we will examine a few here, in order to understand the type of analysis required. 3.5.1 Multitransistor Circuit: Cascade Configuration The circuit shown in Figure 3.52 is a cascade of a common-source amplifier followed by a source-follower amplifier. We will show in the next chapter that the common- source amplifier provides a small-signal voltage gain and the source-follower has a low output impedance. V + = 5 V RD1 Ri R1 RSi CC MM R 1 2 Co C2 vo vi + – R2 RC RR S1 SS2 L = 4 kΩ V – = –5 V Figure 3.52 Common-source amplifier in cascade with source follower DESIGN EXAMPLE 3.17 Objective: Design the biasing of a multistage MOSFET circuit to meet specific requirements. Consider the circuit shown in Figure 3.52 with transistor parameters K 2 2 n1 = 500 μA/V , Kn2 = 200 μA/V , VT N1 = VT N2 = 1.2 V, and λ1 = λ2 = 0. Design the circuit such that IDQ1 = 0.2 mA, IDQ2 = 0.5 mA, VDSQ1 = VDSQ2 = 6 V, and Ri = 100 k. Let RSi = 4 k. Solution: For output transistor M2, we have VDSQ2 = 5 − (−5) − IDQ2 RS2 or 6 = 10 − (0.5)RS2 which yields RS2 = 8 k. Also, assuming transistors are biased in the saturation region, I 2 DQ2 = Kn2(KGS2 − VT N2) or 0.5 = 0.2(VGS2 − 1.2)2 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 177 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 177 which yields VGS2 = 2.78 V Since VDSQ2 = 6 V, the source voltage of M2 is VS2 = −1 V. With VGS2 = 2.78 V, the gate voltage on M2 must be VG2 = −1 + 2.78 = 1.78 V The resistor RD1 is then = 5 − 1.78 RD1 = 16.1 k 0.2 For VDSQ1 = 6 V, the source voltage of M1 is VS1 = 1.78 − 6 = −4.22 V The resistor RS1 is then = −4.22 − (−5) RS1 = 3.9 k 0.2 For transistor M1, we have I 2 DQ1 = Kn1(VGS1 − VT N1) or 0.2 = 0.50(V 2 GS1 − 1.2) which yields VGS1 = 1.83 V To find R1 an(d R2, we c)an write RV 2 GS1 = + (10) − IR R DQ1 RS1 1 2 Since ( ) R2 = 1 · R1 R2 + = 1 · RR1 R2 R1 R1 + RR i 2 1 then, since the input resistance is specified to be 100 k, we have 1 1.83 = (100)(10) − (0.2)(3.9) R1 which yields R1 = 383 k. From Ri = 100 k, we find that R2 = 135 k. Comment: Both transistors are biased in the saturation region, as assumed, which is desired for linear amplifiers as we will see in the next chapter. EXERCISE PROBLEM Ex 3.17: The transistor parameters for the circuit shown in Figure 3.52 are the same as described in Example 3.17. Design the circuit such that IDQ1 = 0.1 mA, IDQ2 = 0.3 mA, VDSQ1 = VDSQ2 = 5 V, and Ri = 200 k. (Ans. RS2 = 16.7 k, RD1 = 25.8 k, RS1 = 24.3 k, R1 = 491 k, and R2 = 337 k) nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 178 F506 Hard disk:Desktop Folder:MHDQ134-03: 178 Part 1 Semiconductor Devices and Basic Applications 3.5.2 Multitransistor Circuit: Cascode Configuration Figure 3.53 shows a cascode circuit with n-channel MOSFETs. Transistor M1 is connected in a common-source configuration and M2 is connected in a common-gate configuration. The advantage of this type of circuit is a higher frequency response, which is discussed in a later chapter. V + = 5 V RD R1 vO CG M2 R2 CC M1 vi + R – 3 RS CS V – = –5 V Figure 3.53 NMOS cascode circuit DESIGN EXAMPLE 3.18 Objective: Design the biasing of the cascode circuit to meet specific requirements. For the circuit shown in Figure 3.53, the transistor parameters are: VT N1 = V = 1.2 V, K = K 2 TN2 n1 n2 = 0.8 mA/V , and λ1 = λ2 = 0. Let R1 + R2 + R3 = 300 k and RS = 10 k. Design the circuit such that IDQ = 0.4 mA and VDSQ1 = VDSQ2 = 2.5 V. Solution: The dc voltage at the source of M1 is VS1 = IDQ RS − 5 = (0.4)(10) − 5 = −1 V Since M1 and M2 are identical transistors, and since the same current exists in the two transistors, the gate-to-source voltage is the same for both devices. We have I = K (V − V )2 D n GS TN or 0.4 = 0.8(VGS − 1.2)2 which yields VGS = 1.907 V Then, ( ) VG1 = R3 + + (5) = V RR R GS + VS1 1 2 3 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 179 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 179 or ( ) R3 (5) = 1.907 − 1 = 0.907 300 which yields R3 = 54.4 k The voltage at the source of M2 is VS2 = VDSQ1 + VS1 = 2.5 − 1 = 1.5 V Then, ( = R2 + ) RV 3 G2 + + (5) = V RR R GS + VS2 1 2 3 or ( ) R2 + R3 (5) = 1.907 + 1.5 = 3.407 V 300 which yields R2 + R3 = 204.4 k and R2 = 150 k Therefore R1 = 95.6 k The voltage at the drain of M2 is VD2 = VDSQ2 + VS2 = 2.5 + 1.5 = 4 V The drain resistor is therefore 5 − VD2 5 − 4 RD = = = 2.5 k IDQ 0.4 Comment: Since VDS = 2.5 V > VGS − VT N = 1.91 − 1.2 = 0.71 V, each transistor is biased in the saturation region. EXERCISE PROBLEM Ex 3.18: The transistor parameters for the circuit shown in Figure 3.53 are VT N1 = VT N2 = 0.8 V, Kn1 = Kn2 = 0.5 mA/V2, and λ1 = λ2 = 0. Let R1+ R2 + R3 = 500 k and RS = 16 k. Design the circuit such that IDQ = 0.25 mA and VDSQ1 = VDSQ2 = 2.5 V. (Ans. R3 = 50.7 k, R2 = 250 k, R1 = 199.3 k, RD = 4 k) We will encounter many more examples of multitransistor and multistage amplifiers in later chapters of this text. Specifically in Chapter 11, we will consider the differential amplifier and in Chapter 13, we will analyze circuits that form the operational amplifier. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 180 F506 Hard disk:Desktop Folder:MHDQ134-03: 180 Part 1 Semiconductor Devices and Basic Applications 3.6 JUNCTION FIELD-EFFECT TRANSISTOR Objective: • Understand the operation and characteristics of the pn junction FET (JFET) and the Schottky barrier junction FET (MESFET), and understand the dc analysis techniques of JFET and MESFET circuits. The two general categories of junction field-effect transistor (JFET) are the pn junction FET, or pn JFET, and the metal-semiconductor field-effect transistor (MESFET), which is fabricated with a Schottky barrier junction. The current in a JFET is through a semiconductor region known as the channel, with ohmic contacts at each end. The basic transistor action is the modulation of the channel conductance by an electric field perpendicular to the channel. Since the modulating electric field is induced in the space-charge region of a reverse-biased pn junction or Schottky barrier junction, the field is a function of the gate voltage. Modulation of the channel conductance by the gate voltage modulates the channel current. JFETs were developed before MOSFETs, but the applications and uses of the MOSFET have far surpassed those of the JFET. One reason is that the voltages applied to the gate and drain of a MOSFET are the same polarity (both positive or both negative), whereas the voltages applied to the gate and drain of most JFETs must have opposite polarities. Since the JFET is used only in specialized applications, our discussion will be brief. 3.6.1 pn JFET and MESFET Operation pn JFET A simplified cross section of asymmetrical pn JFET is shown in Figure 3.54. In then-region channel between the two p-regions, majority carrier electrons flow from the source to the drain terminal; thus, the JFET is called a majority-carrier device. The two gate terminals shown in Figure 3.54 are connected to form a single gate. In a p-channel JFET, the p- and n-regions are reversed from those of then- channel device, and holes flow in the channel from the source to the drain. The current direction and voltage polarities in the p-channel JFET are reversed from Gate p+ Source e– en – Drain e p+ iD Gate + + v v DS GS – – Figure 3.54 Cross section of asymmetrical n-channel pn junction field-effect transistor"
3.6 Junction Field-Effect Transistor,"3.6 JUNCTION FIELD-EFFECT TRANSISTOR Objective: • Understand the operation and characteristics of the pn junction FET (JFET) and the Schottky barrier junction FET (MESFET), and understand the dc analysis techniques of JFET and MESFET circuits. The two general categories of junction field-effect transistor (JFET) are the pn junction FET, or pn JFET, and the metal-semiconductor field-effect transistor (MESFET), which is fabricated with a Schottky barrier junction. The current in a JFET is through a semiconductor region known as the channel, with ohmic contacts at each end. The basic transistor action is the modulation of the channel conductance by an electric field perpendicular to the channel. Since the modulating electric field is induced in the space-charge region of a reverse-biased pn junction or Schottky barrier junction, the field is a function of the gate voltage. Modulation of the channel conductance by the gate voltage modulates the channel current. JFETs were developed before MOSFETs, but the applications and uses of the MOSFET have far surpassed those of the JFET. One reason is that the voltages applied to the gate and drain of a MOSFET are the same polarity (both positive or both negative), whereas the voltages applied to the gate and drain of most JFETs must have opposite polarities. Since the JFET is used only in specialized applications, our discussion will be brief. 3.6.1 pn JFET and MESFET Operation pn JFET A simplified cross section of asymmetrical pn JFET is shown in Figure 3.54. In then-region channel between the two p-regions, majority carrier electrons flow from the source to the drain terminal; thus, the JFET is called a majority-carrier device. The two gate terminals shown in Figure 3.54 are connected to form a single gate. In a p-channel JFET, the p- and n-regions are reversed from those of then- channel device, and holes flow in the channel from the source to the drain. The current direction and voltage polarities in the p-channel JFET are reversed from Gate p+ Source e– en – Drain e p+ iD Gate + + v v DS GS – – Figure 3.54 Cross section of asymmetrical n-channel pn junction field-effect transistor nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 181 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 181 vGS = −V1 vGS = 0 vGS = −V2 + p+ pp+ +v + DS vDS +vi DS i p+ Di p+ D p+ D vGS = −V1 vGS = 0 vGS = −V2 iD v = i 0 Di GS vGS = 0 D vGS = 0 vGS = −V1 vGS = −V1 vGS = −V2 vDS vDS vDS (a) (b) (c) Figure 3.55 Gate-to-channel space-charge regions and current–voltage characteristics for small drain-to-source voltages and for: (a) zero gate voltage, (b) small reverse-biased gate voltage, and (c) agate voltage that achieves pinchoff those in then-channel device. Also, the p-channel JFET is generally a lower- frequency device than then-channel JFET, because hole mobility is lower than electron mobility. Figure 3.55(a) shows an n-channel JFET with zero volts applied to the gate. If the source is at ground potential, and if a small positive drain voltage is applied, a drain current iD is produced between the source and drain terminals. Since then-channel acts essentially as a resistance, the iD versus vDS characteristic for small vDS values is approximately linear, as shown in the figure. If a voltage is applied to the gate of a pn JFET, the channel conductance changes. If a negative gate voltage is applied to then-channel pn JFET in Figure 3.55, the gate- to-channel pn junction becomes reverse biased. The space-charge region widens, the channel region narrows, the resistance of then-channel increases, and the slope of the iD versus vDS curve, for small vDS , decreases. These effects are shown in Figure 3.55(b). If a larger negative gate voltage is applied, the condition shown in Figure 3.55(c) can be achieved. The reverse-biased gate-to-channel space-charge region completely fills the channel region. This condition is known as pinchoff. Since the depletion region isolates the source and drain terminals, the drain current at pinchoff is essentially zero. The iD versus vDS curves are shown in Figure 3.55(c). The current in the channel is controlled by the gate voltage. The control of the current in one part of the device by a voltage in another part of the device is the basic transistor action. The pn JFET is a “normally on,” or depletion mode, device; that is, a voltage must be applied to the gate terminal to turn the device off. Consider the situation in which the gate voltage is zero, vGS = 0, and the drain voltage changes, as shown in Figure 3.56(a). As the drain voltage increases (positive), the gate-to-channel pn junction becomes reverse biased near the drain terminal, and the space-charge region widens, extending farther into the channel. The channel acts essentially as a resistor, and the effective channel resistance increases as the space-charge region widens; therefore, the slope of the iD versus vDS characteristic nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 182 F506 Hard disk:Desktop Folder:MHDQ134-03: 182 Part 1 Semiconductor Devices and Basic Applications vGS = 0 vGS = 0 vGS = 0 p+ p+ p+ (++vDS) (+++vDS) (+vDS) + iD + iD + i pp p D vGS = 0 v = 0 v GS GS = 0 iD iD iD Saturation Changing channel region resistance vDS vDS vDS (sat) vDS (a) (b) (c) Figure 3.56 Gate-to-channel space-charge regions and current–voltage characteristics for zero gate voltage and for: (a) a small drain voltage, (b) a larger drain voltage, and (c) a drain voltage that achieves pinchoff at the drain terminal decreases, as shown in Figure 3.56(b). The effective channel resistance now varies along the channel length, and, since the channel current must be constant, the voltage drop through the channel becomes dependent on position. If the drain voltage increases further, the condition shown in Figure 3.56(c) can result. The channel is pinched off at the drain terminal. Any further increase in drain voltage will not increase the drain current. The iD–vDS characteristic for this condition is also shown in the figure. The drain voltage at pinchoff is vDS(sat). Therefore, for vDS > vDS(sat), the transistor is biased in the saturation region, and the drain current for this ideal case is independent of vDS . MESFET In the MESFET, the gate junction is a Schottky barrier junction, instead of a pn junction. Although MESFETs can be fabricated in silicon, they are usually associated with gallium arsenide or other compound-semiconductor materials. A simplified cross section of a GaAs MESFET is shown in Figure 3.57. A thin, epitaxial layer of GaAs is used for the active region; the substrate is a very high resistivity GaAs material, referred to as a semi-insulating substrate. The advantages of Ohmic Rectifying Ohmic contact contact contact Source Gate Drain n+ n n+ Substrate (Semi-insulating s ≈ 0) Figure 3.57 Cross section of an n-channel MESFET with a semi-insulating substrate nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 183 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 183 vGS = 0 v = V v > V GS TN GS TN n-channel Semi-insulating substrate (a) (b) (c) Figure 3.58 Channel space-charge region of an enhancement-mode MESFET for: (a) vGS = 0, (b) vGS = VT N , and (c) vGS > VT N these devices include: higher electron mobility in GaAs, hence smaller transit time and faster response; and decreased parasitic capacitance and a simplified fabrication process, resulting from the semi-insulating GaAs substrate. In the MESFET in Figure 3.57, a reverse-bias gate-to-source voltage induces a space-charge region under the metal gate, which modulates the channel conductance, as in the case of the pn JFET. If a negative applied gate voltage is sufficiently large, the space-charge region will eventually reach the substrate. Again, pinchoff will occur. Also, the device shown in the figure is a depletion mode device, since agate voltage must be applied to pinch off the channel, that is, to turn the device off. In another type of MESFET, the channel is pinched off even at vGS = 0, as shown in Figure 3.58(a). For this MESFET, the channel thickness is smaller than the zero-biased space-charge width. To open a channel, the depletion region must be reduced; that is, a forward-biased voltage must be applied to the gate–semiconductor junction. When a slightly forward-bias voltage is applied, the depletion region extends just to the width of the channel as shown in Figure 3.58(b). The threshold D voltage is the gate-to-source voltage required to create the pinchoff condition. iD The threshold voltage for this n-channel MESFET is positive, in contrast to the negative threshold voltage of then-channel depletion-mode device. If a larger + v forward-bias voltage is applied, the channel region opens, as shown in Figure DS G – 3.58(c). The applied forward-bias gate voltage is limited to a few tenths of a volt be- + fore a significant gate current occurs. vGS – This device is an n-channel enhancement-mode MESFET. Enhancement- S mode p-channel MESFETs and enhancement-mode pn JFETs have also been fabri- (a) cated. The advantage of enhancement-mode MESFETs is that circuits can be designed in which the voltage polarities on the gate and drain are the same. However, S the output voltage swing of these devices is quite small. – vGS + 3.6.2 Current–Voltage Characteristics G + vSD – The circuit symbols for then-channel and p-channel JFETs are shown in Figure 3.59, i along with the gate-to-source voltages and current directions. The ideal current– D voltage characteristics, when the transistor is biased in the saturation region, are D described by ( ) (b) 2 = − v iD I 1 GS DSS (3.32) Figure 3.59 Circuit symbols VP for: (a) n-channel JFET and where IDSS is the saturation current when vGS = 0, and VP is the pinchoff voltage. (b) p-channel JFET nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 184 F506 Hard disk:Desktop Folder:MHDQ134-03: 184 Part 1 Semiconductor Devices and Basic Applications iD iD Saturation region Saturation region IDSS vGS = 0 IDSS vGS = 0 –1 +1 – 2 +2 – 3 +3 vDS vSD vGS ≤ VP vGS ≥ VP (a) (b) Figure 3.60 Current–voltage characteristics for: (a) n-channel JFET and (b) p-channel JFET The current–voltage characteristics for n-channel and p-channel JFETs are shown in Figures 3.60(a) and 3.60(b), respectively. Note that the pinchoff voltage VP for then-channel JFET is negative and the gate-to-source voltage vGS is usually negative; therefore, the ratio vGS/VP is positive. Similarly, the pinchoff voltage VP for the p-channel JFET is positive and the gate-to-source voltage vGS must be positive, and therefore the ratio vGS/VP is positive. For then-channel device, the saturation region occurs when vDS ≥ vDS(sat) where vDS(sat) = vGS − VP (3.33) For the p-channel device, the saturation region occurs when vSD ≥ vSD(sat) where vSD(sat) = VP − vGS (3.34) EXAMPLE 3.19 Objective: Calculate iD and vDS(sat) in an n-channel pn JFET. Assume the saturation current is IDSS = 2 mA and the pinchoff voltage is VP = −3.5 V. Calculate iD and vDS(sat) for vGS = 0, VP/4, and VP/2. Solution: From( Equation) (3.32), w(e have 2 )2 vi = I 1 − GS D DSS = v (2) 1 − GS VP (−3.5) Therefore, for vGS = 0, VP/4, and VP/2, we obtain iD = 2, 1.13, and 0.5 mA From Equation (3.33), we have vDS(sat) = vGS − VP = vGS − (−3.5) Therefore, for vGS = 0, VP/4, and VP/2, we obtain vDS(sat) = 3.5, 2.63, and 1.75 V Comment: The current capability of a JFET can be increased by increasing the value of IDSS , which is a function of the transistor width. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 185 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 185 EXERCISE PROBLEM Ex 3.19: The parameters of an n-channel JFET are IDSS = 12 mA, VP = −4.5 V, and λ = 0. Determine VDS(sat) for VGS = −1.2 V, and calculate ID for VDS > VDS(sat). (Ans. VDS(sat) = 3.3 V, ID = 6.45 mA) As in the case of the MOSFET, the iD versus vDS characteristic for the JFET may have a nonzero slope beyond the saturation point. This nonzero slope can be described through( the follow)ing equation: 2 i = v I GS D DSS 1 − (1 + λ vDS) (3.35) VP The o(utput re)sista∣∣∣nce ro is defined as i −1 ∂ ro = D ∣∣ (3.36) ∂vDS vGS=const. Using Equ[ation (3(.35), we fin)d t]hat V 2 −1 r GSQ o = λIDSS 1 − (3.37(a)) VP or r ∼= [λI ]−1 1 o DQ = (3.37(b)) λIDQ The output resistance will be considered again when we discuss the small-signal equivalent circuit of the JFET in the next chapter. Enhancement-mode GaAs MESFETs can be fabricated with current–voltage characteristics much like those of the enhancement-mode MOSFET. Therefore, for the ideal enhancement-mode MESFET biased in the saturation region, we can write i = K 2 D n(vGS − VT N ) (3.38(a)) For the ideal [enhancement-mode MESF]ET biased in the nonsaturation region, iD = Kn 2(vGS − VT N )v 2 DS − vDS (3.38(b)) where Kn is the conduction parameter and VT N is the threshold voltage, which in this case is equivalent to the pinchoff voltage. For an n-channel enhancement-mode MESFET, the threshold voltage is positive. 3.6.3 Common JFET Configurations: dc Analysis There are several common JFET circuit configurations. We will look at a few of these, using examples, and will illustrate the dc analysis and design of such circuits. DESIGN EXAMPLE 3.20 Objective: Design a JFET circuit with a voltage divider biasing circuit. Consider the circuit shown in Figure 3.61(a) with transistor parameters IDSS = 12 mA, VP = −3.5 V, and λ = 0. Let R1 + R2 = 100 k. Design the circuit such that the dc drain current is ID = 5 mA and the dc drain-to-source voltage is VDS = 5 V. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 186 F506 Hard disk:Desktop Folder:MHDQ134-03: 186 Part 1 Semiconductor Devices and Basic Applications +5 V ID = R 2.5 = = 0.5 kΩ +5 V 5 mA D 5 R1 VD = VS + VDS = 2.5 V ID RD + R1 VG = VS + V 0 V = 5 V GS DS + = –2.5 – 1.24 – + VDS = –3.74 V VGS VG – – VS = (5)(.05) – 5 VS R = –2.5 V 2 RI 2 D = R = 0.5 kΩ RS = 0.5 kΩ 5 mA S –5 V –5 V (a) (b) Figure 3.61 (a) Ann-channel JFET circuit with voltage divider biasing and (b) then-channel JFET circuit for Example 3.20 Solution: Assume the transistor is biased in the saturation region. The dc drain current is then give(n by )2 I = I 1 − VGS D DSS VP Therefore, ( ) = V 2 5 12 1 − GS (−3.5) which yields VGS = −1.24 V From Figure 3.61(b), the voltage at the source terminal is VS = ID RS − 5 = (5)(0.5) − 5 = −2.5 V which means that the gate voltage is VG = VGS + VS = −1.24 − 2.5 = −3.74 V We can( also write) the gate voltage as = RV 2 GR1 + (10) − 5 R2 or −3.74 = R2 (10) − 5. 100 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 187 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 187 Therefore, R2 = 12.6 k and R1 = 87.4 k The drain-to-source voltage is VDS = 5 − ID RD − ID RS − (−5) Therefore, = 10 − VDS − ID RS = 10 − 5 − (5)(0.5) RD = 0.5 k ID 5 We also see that VDS = 5 V > VGS − VP = −1.24 − (−3.5) = 2.26 V +10 V +5 V which shows that the JFET is indeed biased in the saturation region, as initially assumed. RD R1 Comment: The dc analysis of the JFET circuit is essentially the same as that of the MOSFET circuit, since the gate current is assumed to be zero. EXERCISE PROBLEM R2 RS = 0.25 kΩ Ex 3.20: The transistor in the circuit in Figure 3.62 has parameters IDSS = 6 mA, VP = −4 V, and λ = 0. Design the circuit such that IDQ = 2.5 mA and –10 V –5 V VDS = 6 V, and the total power dissipated in R1 and R2 is 2 mW. (Ans. R = 1 35 k , R = 158 k , R = 42 k ) Figure 3.62 Circuit for D .  1  2  Exercise Ex 3.20 EXAMPLE 3.21 +9 V Objective: Calculate the quiescent current and voltage values in a p-channel JFET circuit. IQ = 0.8 mA The parameters of the transistor in the circuit shown in Figure 3.63 are: IDSS = 2.5 mA, VP = +2.5 V, and λ = 0. The transistor is biased with a constant- VS current source. VGS + + Solution: From Figure 3.63, we can write the dc drain current as + VSD V − (−9) 1 VI = I = 0.8 mA = DD Q V RD D which yields ID RD = 4 kΩ VD = (0.8)(4) − 9 = −5.8 V –9 V Now, assume th(e transisto)r is biased in the saturation region. We then have 2 Figure 3.63 A p-channel = − VI I 1 GS JFET circuit biased with a D DSS VP constant-current source nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 188 F506 Hard disk:Desktop Folder:MHDQ134-03: 188 Part 1 Semiconductor Devices and Basic Applications or ( ) V 2 0.8 = 2.5 1 − GS 2.5 which yields VGS = 1.086 V Then VS = 1 − VGS = 1 − 1.086 = −0.086 V and VSD = VS − VD = −0.086 − (−5.8) = 5.71 V Again, we see that VSD = 5.71 V > VP − VGS = 2.5 − 1.086 = 1.41 V which verifies that the transistor is biased in the saturation region, as assumed. Comment: In the same way as bipolar or MOS transistors, junction field-effect transistors can be biased using constant-current sources. EXERCISE PROBLEM R = 1 kΩ Ex 3.21: For the p-channel transistor in the circuit in Figure 3.64, the parameters S are: IDSS = 6 mA, VP = 4 V, and λ = 0. Calculate the quiescent values of ID , VGS , and VSD . Is the transistor biased in the saturation or nonsaturation region? (Ans. VGS = 1.81 V, ID = 1.81 mA, VSD = 2.47 V, saturation region) R = 0.4 kΩ DESIGN EXAMPLE 3.22 D Objective: Design a circuit with an enhancement-mode MESFET. Consider the circuit shown in Figure 3.65(a). The transistor parameters are: –5 V V 2 TN = 0.24 V, Kn = 1.1 mA/V , and λ = 0. Let R1 + R2 = 50 k. Design the cir- Figure 3.64 Circuit for cuit such that VGS = 0.50 V and VDS = 2.5 V. Exercise Ex 3.21 Solution: From Equation (3.38(a)) the drain current is ID = K 2 n(VGS − VT N ) = (1.1)(0.5 − 0.24)2 = 74.4 μA From Figure 3.65(b), the voltage at the drain is VD = VDD − ID RD = 4 − (0.0744)(6.7) = 3.5 V Therefore, the voltage at the source is VS = VD − VDS = 3.5 − 2.5 = 1 V The source resistance is then = VS = 1 RS = 13.4 k ID 0.0744 The voltage at the gate is VG = VGS + VS = 0.5 + 1 = 1.5 V nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 189 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 189 +4 V ID = m RD = 6.7 kΩ 74.4 A VDD = 4 V R1 VD = 4 – (0.0744)(6.7) = 3.5 V 0 + I VG = VS + VGS D RD = 6.7 kΩ V = 1.5 V + DS = 2.5 V R – 1 VGS = 0.5 V – V VS = VG DVDS = 1 V R2 ID = 1 R RS = = 13.4 kΩ 2 74.4 mA 0.0744 RS (a) (b) Figure 3.65 (a) Ann-channel enhancement-mode MESFET circuit and (b) then-channel MESFET circuit for Example 3.22 Since the gate current is zero, the gate voltage is also given by a voltage divider equation, as foll(ows: ) RV 2 G = R1 + (V R DD) 2 or ( ) R 1 5 = 2 . (4) 50 which yields R2 = 18.75 k and R1 = 31.25 k Again, we see that VDS = 2.5 V > VGS − VT N = 0.5 − 0.24 = 0.26 V which confirms that the transistor is biased in the saturation region, as initially assumed. Comment: The dc analysis and design of an enhancement-mode MESFET circuit is similar to that of MOSFET circuits, except that the gate-to-source voltage of the MESFET must be held to no more than a few tenths of a volt. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 190 F506 Hard disk:Desktop Folder:MHDQ134-03: 190 Part 1 Semiconductor Devices and Basic Applications VDD = –20 V EXERCISE PROBLEM Ex 3.22: Consider the circuit shown in Figure 3.66 with transistor parameters R IDSS = 8 mA, VP = 4 V, and λ = 0. Design the circuit such that Rin = 100 k, DR IDQ = 5 mA, and VSDQ = 12 V. (Ans. RD = 0.4 k, R1 = 387 k, R2 = 1 135 k) Rin R2 RS = 1.2 kΩ Test Your Understanding TYU 3.17 Then-channel enhancement-mode MESFET in the circuit shown in Figure 3.67 has parameters Kn = 50 μA/V2 and VT N = 0.15 V. Find the value Figure 3.66 Circuit for of VGG so that IDQ = 5 μA. What are the values of V and V ? Exercise Ex3.22 GS DS (Ans. VGG = 0.516 V, VGS = 0.466 V, VDS = 4.45 V) VDD = 5 V VDD = 2.5 V RD = 100 kΩ RD VO + V VGG RS = 10 kΩ I – Figure 3.67 Circuit for Figure 3.68 Circuit for Exercise TYU 3.17 Exercise TYU 3.18 TYU 3.18 For the inverter circuit shown in Figure 3.68, then-channel enhancement- mode MESFET parameters are Kn = 100 μA/V2 and VT N = 0.2 V. Determine the value of RD required to produce VO = 0.10 V when VI = 0.7 V. (Ans. RD = 267 k) 3.7 DESIGN APPLICATION: DIODE THERMOMETER WITH AN MOS TRANSISTOR Objective: • Incorporate an MOS transistor in a design application that enhances the simple diode thermometer design discussed in Chapter 1. Specifications: The electronic thermometer is to operate over a temperature range of 0 to 100 °F."
3.7 Design Application: Diode Thermometer with an MOS Transistor,"3.7 DESIGN APPLICATION: DIODE THERMOMETER WITH AN MOS TRANSISTOR Objective: • Incorporate an MOS transistor in a design application that enhances the simple diode thermometer design discussed in Chapter 1. Specifications: The electronic thermometer is to operate over a temperature range of 0 to 100 °F. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 191 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 191 Design Approach: The output diode voltage developed in the diode thermometer in Figure 1.47 is to be applied between the gate–source terminals of an NMOS transistor to enhance the voltage over the temperature range. The NMOS transistor is to be held at a constant temperature. Choices: Assume an n-channel, depletion-mode MOSFET is available with the parameters k ′ n = 80 μA/V2, W/L = 10, and VT N = −1 V. Solution: From the desi(gn in )Chapter 1, the diode voltage is given by T VD = 1.12 − 0.522 300 where T is in kelvins. + Consider the circuit shown in Figure 3.69. We assume that the diode is in a V = +15 V variable temperature environment while the rest of the circuit is held at room temperature. From the circuit, we see that VGS = VD , where VD is the diode voltage and not the drain voltage. We want the MOSFET biased in the saturation region, so RID RD = 10 kΩ ′ = 2 kn WI 2 D Kn (VGS − VT N ) = · (V 2 L D − VT N ) VO We find the output voltage as VO = 15 − ID RD + + k ′ – = 15 − n · W · R 2 L D (VD − VT N ) VD = V 2 GS – The diode current and output voltage can be written as 0.080 10 I 2 D = · (VD + 1) = 0.4(VD + 1)2 (mA) 2 1 Figure 3.69 Design and application circuit to measure VO = 15 − output voltage of diode [0.4(VD + 1)2](10) = 15 − 4(VD + 1)2 (V) versus temperature From Chapter 1, we have the following: T (°F) VD (V) 0 0.6760 40 0.6372 80 0.5976 100 0.5790 We find the circuit response as: T (°F) ID (mA) VO (V) 0 1.124 3.764 40 1.072 4.278 80 1.021 4.791 100 0.9973 5.027 nea80644_ch03_125-204.qxd 06/10/2009 07:52 PM Page 192 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-03: 192 Part 1 Semiconductor Devices and Basic Applications VO (V) 5.5 5.0 VD (V) 0.6760 4.5 4.0 0.5790 3.5 0 20 40 60 80 100 0 20 40 60 80 100 Temperature (°F) Temperature (°F) (a) (b) Figure 3.70 (a) Diode voltage versus temperature and (b) circuit output voltage versus temperature Comment: Figure 3.70(a) shows the diode voltage versus temperature and Figure 3.70(b) now shows the output voltage versus temperature from the MOSFET circuit. We can see that the transistor circuit provides a voltage gain. This voltage gain is the desired characteristic of the transistor circuit. Discussion: We can see from the equations that the diode current and output voltage are not linear functions of the diode voltage. This effect implies that the transistor output voltage is also not a linear function of temperature. We will see a better circuit design using operational amplifiers in Chapter 9. We can note from the results that VO = VDS > VDS(sat) in all cases, so the transistor is biased in the saturation region as desired. 3.8 SUMMARY • In this chapter, we have considered the physical structure and dc electrical characteristics of the MOSFET. • The current in the MOSFET is controlled by the gate voltage. In the nonsaturation bias region of operation, the drain current is also a function of drain voltage, whereas in the saturation bias region of operation the drain current is essentially independent of the drain voltage. The drain current is directly proportional to the width-to-length ratio of the transistor, so this parameter becomes the primary design variable in MOSFET circuit design. • The dc analysis and design techniques of MOSFET circuits were emphasized in this chapter. The use of MOSFETs in place of resistors was investigated. This leads to the design of all-MOSFET circuits. • Basic applications of the MOSFET include switching currents and voltages, performing digital logic functions, and amplifying time-varying signals. The amplifying characteristics will be considered in the next chapter and the digital applications will be considered in Chapter 16. • MOSFET circuits that provide constant-current biasing to other MOSFET circuits were analyzed and designed. This current biasing technique is used in integrated circuits."
3.8 Summary,"3.8 SUMMARY • In this chapter, we have considered the physical structure and dc electrical characteristics of the MOSFET. • The current in the MOSFET is controlled by the gate voltage. In the nonsaturation bias region of operation, the drain current is also a function of drain voltage, whereas in the saturation bias region of operation the drain current is essentially independent of the drain voltage. The drain current is directly proportional to the width-to-length ratio of the transistor, so this parameter becomes the primary design variable in MOSFET circuit design. • The dc analysis and design techniques of MOSFET circuits were emphasized in this chapter. The use of MOSFETs in place of resistors was investigated. This leads to the design of all-MOSFET circuits. • Basic applications of the MOSFET include switching currents and voltages, performing digital logic functions, and amplifying time-varying signals. The amplifying characteristics will be considered in the next chapter and the digital applications will be considered in Chapter 16. • MOSFET circuits that provide constant-current biasing to other MOSFET circuits were analyzed and designed. This current biasing technique is used in integrated circuits. nea80644_ch03_125-204.qxd 06/10/2009 07:52 PM Page 193 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-03: Chapter 3 The Field-Effect Transistor 193 • The dc analysis and design of multistage MOSFET circuits were considered. • The physical structure and dc electrical characteristics of JFET and MESFET devices as well as the analysis and design of JFET and MESFET circuits were considered. • As an application, a MOSFET transistor was incorporated in a circuit design that enhances the simple diode electronic thermometer discussed in Chapter 1. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Understand and describe the structure and general operation of n-channel and p-channel enhancement-mode and depletion-mode MOSFETs. ✓ Apply the ideal current–voltage relations in the dc analysis and design of various MOSFET circuits using any of the four basic MOSFETs. ✓ Understand how MOSFETs can be used in place of resistor load devices to create all-MOSFET circuits. ✓ Qualitatively understand how MOSFETs can be used to switch currents and voltages, to perform digital logic functions, and to amplify time-varying signals. ✓ Understand the basic operation of a MOSFET constant-current circuit. ✓ Understand the dc analysis and design of a multistage MOSFET circuit. ✓ Understand the general operation and characteristics of junction FETs. REVIEW QUESTIONS 1. Describe the basic structure and operation of a MOSFET. Define enhancement mode and depletion mode. 2. Sketch the general current-voltage characteristics for both enhancement-mode and depletion-mode MOSFETs. Define the saturation and nonsaturation bias regions. 3. Describe what is meant by threshold voltage, width-to-length ratio, and drain-to- source saturation voltage. 4. Describe the channel length modulation effect and define the parameter λ. Describe the body effect and define the parameter γ . 5. Describe a simple common-source MOSFET circuit with an n-channel enhancement-mode device and discuss the relation between the drain-to-source voltage and gate-to-source voltage. 6. How do you prove that a MOSFET is biased in the saturation region? 7. In the dc analysis of some MOSFET circuits, quadratic equations in gate-to- source voltage are developed. How do you determine which of the two possible solutions is the correct one? 8. How can the Q-point be stabilized against variations in transistor parameters? 9. Describe the current–voltage relation of an n-channel enhancement-mode MOSFET with the gate connected to the drain. 10. Describe the current–voltage relation of an n-channel depletion-mode MOSFET with the gate connected to the source. 11. Describe a MOSFET NOR logic circuit. 12. Describe how a MOSFET can be used to amplify a time-varying voltage. 13. Describe the basic operation of a junction FET. 14. What is the difference between a MESFET and a pn junction FET? nea80644_ch03_125-204.qxd 06/10/2009 07:53 PM Page 194 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-03: 194 Part 1 Semiconductor Devices and Basic Applications PROBLEMS [Note: In all problems, assume the transistor parameter λ = 0, unless otherwise stated.] Section 3.1 MOS Field-Effect Transistor 3.1 (a) Calculate the drain current in an NMOS transistor with parameters VT N = 0.4 V, k ′ n = 120 μA/V2, W = 10 μm, L = 0.8 μm, and with applied voltages of VDS = 0.1 V and (i) VGS = 0, (ii) VGS = 1 V, (iii) VGS = 2 V, and (iv) VGS = 3 V. (b) Repeat part (a) for VDS = 4 V. 3.2 The current in an NMOS transistor is 0.5 mA when VGS − VT N = 0.6 V and 1.0 mA when VGS − VT N = 1.0 V. The device is operating in the nonsaturation region. Determine VDS and Kn . 3.3 The transistor characteristics iD versus vDS for an NMOS device are shown in Figure P3.3. (a) Is this an enhancement-mode or depletion-mode device? (b) Determine the values for Kn and VT N . (c) Determine iD(sat) for vGS = 3.5 V and vGS = 4.5 V. ID (mA) 0.8 VGS = 5 V 0.6 0.4 VGS = 4 V 0.2 VGS = 3 V VGS = 2 V 0 1 2 3 4 5 6 VDS (V) Figure P3.3 3.4 For an n-channel depletion-mode MOSFET, the parameters are VT N = −2.5 V and Kn = 1.1 mA/V2. (a) Determine ID for VGS = 0; and: (i) VDS = 0.5 V, (ii) VDS = 2.5 V, and (iii) VDS = 5 V. (b) Repeat part (a) for VGS = 2 V. 3.5 The threshold voltage of each transistor in Figure P3.5 is VT N = 0.4 V. Determine the region of operation of the transistor in each circuit. + – + 2.2 V 0.6 V 3 V – + – + + 2.2 V – 1 V – 1 V – + + 1 V – (a) (b) (c) Figure P3.5"
Problems,"PROBLEMS [Note: In all problems, assume the transistor parameter λ = 0, unless otherwise stated.] Section 3.1 MOS Field-Effect Transistor 3.1 (a) Calculate the drain current in an NMOS transistor with parameters VT N = 0.4 V, k ′ n = 120 μA/V2, W = 10 μm, L = 0.8 μm, and with applied voltages of VDS = 0.1 V and (i) VGS = 0, (ii) VGS = 1 V, (iii) VGS = 2 V, and (iv) VGS = 3 V. (b) Repeat part (a) for VDS = 4 V. 3.2 The current in an NMOS transistor is 0.5 mA when VGS − VT N = 0.6 V and 1.0 mA when VGS − VT N = 1.0 V. The device is operating in the nonsaturation region. Determine VDS and Kn . 3.3 The transistor characteristics iD versus vDS for an NMOS device are shown in Figure P3.3. (a) Is this an enhancement-mode or depletion-mode device? (b) Determine the values for Kn and VT N . (c) Determine iD(sat) for vGS = 3.5 V and vGS = 4.5 V. ID (mA) 0.8 VGS = 5 V 0.6 0.4 VGS = 4 V 0.2 VGS = 3 V VGS = 2 V 0 1 2 3 4 5 6 VDS (V) Figure P3.3 3.4 For an n-channel depletion-mode MOSFET, the parameters are VT N = −2.5 V and Kn = 1.1 mA/V2. (a) Determine ID for VGS = 0; and: (i) VDS = 0.5 V, (ii) VDS = 2.5 V, and (iii) VDS = 5 V. (b) Repeat part (a) for VGS = 2 V. 3.5 The threshold voltage of each transistor in Figure P3.5 is VT N = 0.4 V. Determine the region of operation of the transistor in each circuit. + – + 2.2 V 0.6 V 3 V – + – + + 2.2 V – 1 V – 1 V – + + 1 V – (a) (b) (c) Figure P3.5 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 195 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 195 3.6 The threshold voltage of each transistor in Figure P3.6 is VT P = −0.4 V. Determine the region of operation of the transistor in each circuit. + + + 2.2 V 2 V 2 V – – – + 2.2 V – – + 1 V 1 V + – (a) (b) (c) Figure P3.6 3.7 Consider an n-channel depletion-mode MOSFET with parameters VT N = −1.2 V and k ′ n = 120 μA/V2. The drain current is ID = 0.5 mA at VGS = 0 and VDS = 2 V. Determine the W/L ratio. 3.8 Determine the value of the process conduction parameter k ′ n for an NMOS transistor with μn = 600 cm2/Vs and for an oxide thickness tox of (a) 500 Å, (b) 250 Å, (c)100 Å, (d) 50 Å, and (e) 25 Å. 3.9 Ann-channel enhancement-mode MOSFET has parameters VT N = 0.4 V, W = 20 μm, L = 0.8 μm, tox = 200 Å, and μn = 650 cm2/Vs. (a) Calculate the conduction parameter Kn.(b) Determine the drain current when VGS = VDS = 2 V. (c) With VGS = 2 V, what value of VDS puts the device at the edge of saturation? 3.10 An NMOS device has parameters VT N = 0.8 V, L = 0.8 μm, and k ′ n = 120 μA/V2. When the transistor is biased in the saturation region with VGS = 1.4 V, the drain current is ID = 0.6 mA. (a) What is the channel width W ? (b) Determine the drain current when VDS = 0.4 V. (c) What value of VDS puts the device at the edge of saturation? 3.11 A particular NMOS device has parameters VT N = 0.6 V, L = 0.8 μm, tox = 200 Å, and μ = 600 cm2 n /Vs. A drain current of ID = 1.2 mA is required when the device is biased in the saturation region at VGS = 3 V. Determine the required channel width of the device. 3.12 MOS transistors with very short channels do not exhibit the square law voltage relation in saturation. The drain current is instead given by ID = WCox(VGS − VT N )vsat where vsat is a saturation velocity. Assuming v 7 sat = 2 × 10 cm/sand using the parameters in Problem 3.11, determine the current. 3.13 For a p-channel enhancement-mode MOSFET, k ′ p = 50 μA/V2. The device has drain currents of ID = 0.225 mA at VSG = VSD = 2 V and ID = 0.65 mA at VSG = VSD = 3 V. Determine the W/L ratio and the value of VT P . 3.14 For a p-channel enhancement-mode MOSFET, the parameters are KP = 2 mA/V2 and VT P = −0.5 V. The gate is at ground potential, and the source and substrate terminals are at +5 V. Determine ID when the drain terminal voltage is: (a) VD = 0 V, (b) VD = 2 V, (c) VD = 4 V, and (d) VD = 5 V. 3.15 The transistor characteristics iD versus vSD for a PMOS device are shown in Figure P3.15. (a) Is this an enhancement-mode or depletion-mode device? nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 196 F506 Hard disk:Desktop Folder:MHDQ134-03: 196 Part 1 Semiconductor Devices and Basic Applications (b) Determine the values for Kp and VT P . (c) Determine iD(sat) for vSG = 3.5 V and vSG = 4.5 V. ID (mA) 5 4 VSG = 5 V 3 VSG = 4 V 2 VSG = 3 V 1 VSG = 2 V 0 1 2 3 4 5 6 VSD (V) Figure P3.15 3.16 A p-channel depletion-mode MOSFET has parameters VT P = +2 V, k ′ p = 40 μA/V2, and W/L = 6. Determine VSD(sat) for: (a) VSG = −1 V, (b) VSG = 0, and (c) VSG = +1 V. If the transistor is biased in the saturation region, calculate the drain current for each value of VSG . 3.17 Calculate the drain current in a PMOS transistor with parameters VT P = −0.5 V, k ′ p = 50 μA/V2, W = 12 μm, L = 0.8 μm, and with applied voltages of VSG = 2 V and (a) VSD = 0.2 V, (b) VSD = 0.8 V, (c) VSD = 1.2 V, (d) VSD = 2.2 V, and (e) VSD = 3.2 V. 3.18 Determine the value of the process conduction parameter k ′ p for a PMOS transistor with μ = 250 cm2 p /Vs and for an oxide thickness tox of (a) 500 Å, (b) 250 Å, (c) 100 Å, (d) 50 Å, and (e) 25 Å. 3.19 Enhancement-mode NMOS and PMOS devices both have parameters L = 4 μm and tox = 500 Å. For the NMOS transistor, VT N = +0.6 V, μn = 675 cm2/Vs, and the channel width is Wn ; for the PMOS transistor, VT P = −0.6 V, μp = 375 cm2/Vs, and the channel width is Wp . Design the widths of the two transistors such that they are electrically equivalent and the drain current in the PMOS transistor is ID = 0.8 mA when it is biased in the saturation region at VSG = 5 V. What are the values of Kn , Kp , Wn , and Wp? 3.20 For an NMOS enhancement-mode transistor, the parameters are: VT N = 1.2 V, Kn = 0.20 mA/V2, and λ = 0.01 V−1. Calculate the output resistance ro for VGS = 2.0 V and for VGS = 4.0 V. What is the value of VA? 3.21 The parameters of an n-channel enhancement-mode MOSFET are VT N = 0.5 V, k ′ n = 120 μA/V2, and W/L = 4. What is the maximum value of λ and the minimum value of VA such that for VGS = 2 V, ro ≥ 200 k? 3.22 An enhancement-mode NMOS transistor has parameters VT NO = 0.8 V, γ = 0.8 V1/2, and φ f = 0.35 V. At what value of VSB will the threshold voltage change by 2V due to the body effect? 3.23 An NMOS transistor has parameters VT O = 0.75 V, k ′ n = 80 μA/V2, W/L = 15, φ f = 0.37 V, and γ = 0.6 V1/2. (a) The transistor is biased at nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 197 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 197 VGS = 2.5 V, VSB = 3 V, and VDS = 3 V. Determine the drain current ID . (b) Repeat part (a) for VDS = 0.25 V. 3.24 (a) A silicon dioxide gate insulator of an MOS transistor has a thickness of tox = 120 Å. (i) Calculate the ideal oxide breakdown voltage. (ii) If a safety factor of three is required, determine the maximum safe gate voltage that maybe applied. (b) Repeat part (a) for an oxide thickness of tox = 200 Å. VDD = 10 V 3.25 In a power MOS transistor, the maximum applied gate voltage is 24 V. If a safety factor of three is specified, determine the minimum thickness necessary for the silicon dioxide gate insulator. Ω RD = 4 kΩ R1 = 32 k Section 3.2 Transistor dc Analysis 3.26 In the circuit in Figure P3.26, the transistor parameters are VT N = 0.8 V and Kn = 0.5 mA/V2. Calculate VGS , ID , and V R2 = 18 kΩ DS . RS = 2 kΩ 3.27 The transistor in the circuit in Figure P3.27 has parameters VT N = 0.8 V and Kn = 0.25 mA/V2. Sketch the load line and plot the Q-point for (a) VDD = 4 V, RD = 1 k and (b) VDD = 5 V, RD = 3 k. What is the operating bias region for each condition? Figure P3.26 VDD V VDD = 1.8 V DD +3 V RR = S = RD 1 Ω R1 = 8 kΩ 0.5 kΩ R 0.5 k D Rin RD R2 = 22 kΩ RD = R2 5 kΩ –3 V Figure P3.27 Figure P3.28 Figure P3.29 Figure P3.30 D3.28 The transistor in Figure P3.28 has parameters VT N = 0.4 V, k ′ n = 120 +5 V μA/V2, and W/L = 80. Design the circuit such that IQ = 0.8 mA and Rin = 200 k. 3.29 The transistor in the circuit in Figure P3.29 has parameters VT P = −0.8 V IQ = 0.4 mA and Kp = 0.20 mA/V2. Sketch the load line and plot the Q-point for (a) VDD = 3.5 V, RD = 1.2 k and (b) VDD = 5 V, RD = 4 k. What is VS the operating bias region for each condition? 3.30 Consider the circuit in Figure P3.30. The transistor parameters are V 2 T P = −0.8 V and Kp = 0.5 mA/V . Determine ID , VSG , and VSD . RG = 50 kΩ 3.31 For the circuit in Figure P3.31, the transistor parameters are VT P = −0.8 V RD = 5 kΩ and Kp = 200 μA/V2. Determine VS and VSD . D3.32 Design a MOSFET circuit in the configuration shown in Figure P3.26. The –5 V transistor parameters are VT N = 0.4 V and k ′ n = 120 μA/V2, and λ = 0. The circuit parameters are VDD = 3.3 V and RD = 5 k. Design the circuit Figure P3.31 so that VDSQ =∼ 1.6 V and the voltage across RS is approximately 0.8 V. Set VGS = 0.8 V. The current through the bias resistors is to be approximately 5 percent of the drain current. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 198 F506 Hard disk:Desktop Folder:MHDQ134-03: 198 Part 1 Semiconductor Devices and Basic Applications 3.33 Consider the circuit shown in Figure P3.33. The transistor parameters are V = 0.4 V and k ′ TN n = 120 μA/V2. The voltage drop across RS is to be 0.20 V. Design the transistor W/L ratio such that VDS = VDS (sat) + 0.4 V, and determine R1 and R2 such that Rin = 200 k. VDD = 1.8 V R RD = 1 VDD = 1.8 V 4 kΩ Rin RD = 2 kΩ R RS = V 2 GS 1 kΩ Figure P3.33 Figure P3.34 +5 V 3.34 The transistor parameters for the transistor in Figure P3.34 are VT N = 0.4 V, k ′ n = 120 μA/V2, and W/L = 50. (a) Determine VGS such that ID = 0.35 mA. (b) Determine VDS and VDS (sat). RD = R = 14 kΩ Ω 3.35 For the transistor in the circuit in Figure P3.35, the parameters are 1 1.2 k VT N = 0.4 V, k ′ n = 120 μA/V2, and W/L = 25. Determine VGS , ID , and VDS . Sketch the load line and plot the Q-point. D3.36 Design a MOSFET circuit with the configuration shown in Figure P3.30. R ′ 2 2 = 6 kΩ R = The transistor parameters are VT P = −0.6 V, kp = 50 μA/V , and λ = 0. S 0.5 kΩ The circuit bias is ±3 V, the drain current is to be 0.2 mA, the drain-to- source voltage is to be approximately 3 V, and the voltage across RS is to be approximately equal to VSG . In addition, the current through the bias resis- –5 V tors is to be no more than 10 percent of the drain current. (Hint: choose a Figure P3.35 reasonable value of width-to-length ratio for the transistor.) 3.37 The parameters of the transistors in Figures P3.37 (a) and (b) are Kn = 0.5 mA/V2, VT N = 1.2 V, and λ = 0. Determine vGS and vDS for each transistor when (i) IQ = 50 μA and (ii) IQ = 1 mA. +5 V +5 V IQ IQ −5 V (b) (a) Figure P3.37 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 199 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 199 3.38 For the circuit in Figure P3.38, the transistor parameters are VT N = 0.6 V and Kn = 200 μA/V2. Determine VS and VD . +9 V +5 V RD = 24 kΩ RD VD VD VS RG = 47 kΩ IQ = 0.25 mA RS −9 V –5 V Figure P3.38 Figure P3.39 *3.39 (a) Design the circuit in Figure P3.39 such that IDQ = 0.50 mA and VD = 1 V. The transistor parameters are Kn = 0.25 mA/V2 and VT N = 1.4 V. Sketch the load line and plot the Q-point. (b) Choose standard resistor values that are closest to the ideal designed values. What are the resulting Q-point values? (c) If the resistors in part (b) have tolerances of ±10 percent, determine the maximum and minimum values of IDQ . 3.40 The PMOS transistor in Figure P3.40 has parameters VT P = −0.7 V, k ′ p = 50 μA/V2, L = 0.8 μm, and λ = 0. Determine the values of Wand R such that ID = 0.1 mA and VSD = 2.5 V. +5 V +5 V VDD = 9 V RS = 2 kΩ R1 R2 +5 V R –5 V RS Figure P3.40 Figure P3.41 3.41 Design the circuit in Figure P3.41 so that VSD = 2.5 V. The current in the bias resistors should be no more than 10 percent of the drain current. The VD transistor parameters are VT P = +1.5 V and Kp = 0.5 mA/V2. *3.42 (a) Design the circuit in Figure P3.42 such that IDQ = 0.25 mA and RD VD = −2 V. The nominal transistor parameters are VT P = −1.2 V, k ′ p = 35 μA/V2, and W/L = 15. Sketch the load line and plot the Q-point. –5 V (b) Determine the maximum and minimum Q-point values if the tolerance of the k ′ p parameter is ±5 percent. Figure P3.42 nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 200 F506 Hard disk:Desktop Folder:MHDQ134-03: 200 Part 1 Semiconductor Devices and Basic Applications +5 V 3.43 The parameters of the transistor in the circuit in Figure P3.43 are VT P = −1.75 V and Kp = 3 mA/V2. Design the circuit such that ID = 5 mA, VSD = 6 V, and Rin = 80 k. R1 Rin 3.44 For each transistor in the circuit in Figure P3.44, k ′ n = 120 μA/V2. Also for M1, W/L = 4 and VT N = 0.4 V, and for M2, W/L = 1 and VT N = −0.6 V. (a) Determine the input voltage such that both M1 and M2 are biased in the R saturation region. (b) Determine the region of operation of each transistor 2 RD and the output voltage vO for: (i) vI = 0.6 V and (ii) vI = 1.5 V. –5 V VDD = 5 V –10 V VDD = 5 V Figure P3.43 ID M2 M1 vO VO vI M1 M2 Figure P3.44 Figure P3.46 3.45 Consider the circuit in Figure P3.44. The transistor parameters for M1 are VT N = 0.4 V and k ′ n = 120 μA/V2, and for M2 are VT N = −0.6 V, k ′ 2 n = 120 μA/V , and W/L = 1. Determine the W/L ratio of M1 such that vO = 0.025 V when vI = 3 V. 3.46 The transistors in the circuit in Figure P3.46 both have parameters VT N = 0.4 V and k ′ n = 120 μA/V2. (a) If the width-to-length ratios of M1 and M2 are (W/L)1 = (W/L)2 = 30, determine VGS1, VGS2, VO , and ID . (b) Repeat part (a) if the width-to-length ratios are changed to (W/L)1 = 30 VDD = 9 V and (W/L)2 = 15. (c) Repeat part (a) if the width-to-length ratios are changed to (W/L)1 = 15 and (W/L)2 = 30. ID 3.47 Consider the circuit in Figure P3.47. (a) The nominal transistor parameters are VT N = 0.6 V and k ′ n = 120 μA/V2. Design the width-to-length ratio re- M1 quired in each transistor such that IDQ = 0.8 mA, V1 = 2.5 V, and V2 = 6 V. (b) Determine the change in the values of V1 and V2 if the k ′ n parameter in each transistor changes by (i) +5 percent and (ii) −5 percent. V2 (c) Determine the values of V1 and V2 if the k ′ n parameter of M1 decreases by 5 percent and the k ′ n parameter of M2 and M3 increases by 5 percent. M2 3.48 The transistors in the circuit in Figure 3.36 in the text have parameters VT N = 0.6 V, k ′ = 120 μA/V2 n , and λ = 0. The width-to-length ratio of ML V1 is (W/L)L = 2. Design the width-to-length ratio of the driver transistor such that VO = 0.15 V when VI = 5 V. M3 3.49 For the circuit in Figure 3.39 in the text, the transistor parameters are: VT ND = 0.6 V, VT N L = −1.2 V, λ = 0, and k ′ n = 120 μA/V2. Let VDD = 5 V. The width-to-length ratio of ML is (W/L)L = 2. Design the width-to-length ratio of the driver transistor such that VO = 0.10 V when Figure P3.47 VI = 5 V. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 201 F506 Hard disk:Desktop Folder:MHDQ134-03: Chapter 3 The Field-Effect Transistor 201 Section 3.3 MOSFET Switch and Amplifier 3.50 Consider the circuit in Figure P3.50. The circuit parameters are VDD = 3 V and RD = 30 k. The transistor parameters are VT N = 0.4 V and k ′ n = 120 μA/V2. (a) Determine the transistor width-to-length ratio such that VO = 0.08 V when VI = 2.6 V. (b) Repeat part (a) for VI = 3 V. VDD +5 V +5 V RD ID RD VI VO Light output I RD D VI Light VI LED output Figure P3.50 Figure P3.51 Figure P3.52 3.51 The transistor in the circuit in Figure P3.51 is used to turn the LED on and off. The transistor parameters are VT N = 0.6 V, k ′ n = 80 μA/V2, and λ = 0. The diode cut-in voltage is Vγ = 1.6 V. Design RD and the transistor width- to-length ratio such that ID = 12 mA for VI = 5 V and VDS = 0.15 V. 3.52 The circuit in Figure P3.52 is another configuration used to switch an LED on and off. The transistor parameters are VT P = −0.6 V, k ′ p = 40 μA/V2, and λ = 0. The diode cut-in voltage is Vγ = 1.6 V. Design RD and the transistor width-to-length ratio such that ID = 15 mA for VI = 0 V and VSD = 0.20 V. 3.53 For the two-input NMOS NOR logic gate in Figure 3.46 in the text, the transistor parameters are VT N1 = VT N2 = 0.6 V, λ1 = λ2 = 0, and k ′ ′ n1 = kn2 = 120 μA/V2. The drain resistor is RD = 50 k. (a) Determine the width-to- length ratios of the transistors so that VO = 0.15 V when V1 = V2 = 5 V. Assume that (W/L)1 = (W/L)2. (b) Using the results of part (a), find VO when V1 = 5 V and V2 = 0.2 V. 3.54 All transistors in the current-source circuit shown in Figure 3.49(a) in the text have parameters VT N = 0.4 V, k ′ n = 120 μA/V2, and λ = 0. Transistors M and Mare matched. The bias sources are V + 1 2 = 2.5 V and V − = −2.5 V. The currents are to be IQ1 = 125 μA and IREF1 = 225 μA. For M2, were- quire VDS2 (sat) = 0.5 V, and for M1 we require VDS1 = 2 V. (a) Find the W/L ratios of the transistors. (b) Find RD . 3.55 All transistors in the current-source circuit shown in Figure 3.49(b) in the text have parameters VT P = −0.4 V, k ′ p = 50 μA/V2, and λ = 0. The bias sources are V + = 5 V and V − = −5 V. The currents are to be IQ2 = 200 μA and IREF2 = 125 μA. For MB , we require VSDB(sat) = 0.8 V, and for MA , we require VSD A = 4 V. Transistors MA and MB are matched. (a) Find the W/L ratios of the transistors. (b) Find the value of RD . 3.56 Consider the circuit shown in Figure 3.50 in the text. The threshold voltage and process conduction parameter for each transistor is VT N = 0.6 V and k ′ n = 120 μA/V2. Let λ = 0 for all transistors. Assume that M1 and M2 are matched. Design width-to-length ratios such that IQ = 0.35 mA, IREF = 0.15 mA, and VDS2 (sat) = 0.5 V. Find RD such that VDS1 = 3.5 V. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 202 F506 Hard disk:Desktop Folder:MHDQ134-03: 202 Part 1 Semiconductor Devices and Basic Applications V + Section 3.6 Junction Field-Effect Transistor 3.57 The gate and source of an n-channel depletion-mode JFET are connected IQ = 2 mA together. What value of VDS will ensure that this two-terminal device is biased in the saturation region. What is the drain current for this bias VS condition? 3.58 For an n-channel JFET, the parameters are IDSS = 6 mA and VP = −3 V. Calculate VDS(sat). If VDS > VDS (sat), determine ID for: (a) VGS = 0, (b) VGS = −1 V, (c) VGS = −2 V, and (d) VGS = −3 V. 3.59 A p-channel JFET biased in the saturation region with VSD = 5 V has a drain V current of ID = 2.8 mA at VGS = 1 V and ID = 0.30 mA at VGS = 3 V. DD Determine IDSS and VP. Figure P3.60 3.60 Consider the p-channel JFET in Figure P3.60. Determine the range of VDD that will bias the transistor in the saturation region. If IDSS = 6 mA and VP = 2.5 V, find VS. 3.61 Consider a GaAs MESFET. When the device is biased in the saturation region, we find that ID = 18.5 μA at VGS = 0.35 V and ID = 86.2 μA at VGS = 0.50 V. Determine the conduction parameter k and the threshold voltage VTN. 3.62 The threshold voltage of a GaAs MESFET is VT N = 0.24 V. The maximum allowable gate-to-source voltage is VGS = 0.75 V. When the transistor is biased in the saturation region, the maximum drain current is ID = 250 μA. What is the value of the conduction parameter k? *3.63 For the transistor in the circuit in Figure P3.63, the parameters are: IDSS = 10 mA and VP = −5 V. Determine IDQ, VGSQ, and VDSQ. VDD = 20 V VDD = 10 V VDD = 20 V RD = 2 kΩ RR1 RS = 0.5 kΩ in CC R1 Rin v + i – RG = 50 kΩ RS = 0.2 kΩ R2 RR RD = 2 kΩ 2 S VDD = 12 V Figure P3.63 Figure P3.64 Figure P3.65 R1 R = 0.3 kΩ 3.64 Consider the source follower with then-channel JFET in Figure P3.64. The S input resistance is to be Rin = 500 k. We wish to have IDQ = 5 mA, VDSQ = 8 V, and VGSQ = −1 V. Determine RS, R1, and R2, and the required transistor values of IDSS and VP. R2 3.65 The transistor in the circuit in Figure P3.65 has parameters IDSS = 8 mA RD and VP = 4 V. Design the circuit such that ID = 5 mA. Assume Rin = 100 k. Determine VGS and VSD. 3.66 For the circuit in Figure P3.66, the transistor parameters are IDSS = 7 mA and VP = 3 V. Let R1 + R2 = 100 k. Design the circuit such that IDQ = Figure P3.66 5.0 mA and VSDQ = 6 V. nea80644_ch03_125-204.qxd 06/10/2009 07:53 PM Page 203 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-10-09:MHDQ134-03: Chapter 3 The Field-Effect Transistor 203 3.67 The transistor in the circuit in Figure P3.67 has parameters IDSS = 8 mA and VDD = 20 V VP = −4 V. Determine VG, IDQ, VGSQ, and VDSQ. 3.68 Consider the circuit in Figure P3.68. The quiescent value of VDS is found to be VDSQ = 5 V. If IDSS = 10 mA, determine IDQ, VGSQ, and VP. RD = 2.7 kΩ 3.69 For the circuit in Figure P3.69, the transistor parameters are IDSS = 4 mA R1 = 140 kΩ and VP = −3 V. Design RD such that VDS = |VP |. What is the value of ID? VDD = 12 V R2 = 60 kΩ RS = 2 kΩ VDD = 20 V RD = 1 kΩ VDD = 10 V R1 = 450 kΩ vo R1 RS Figure P3.67 R RD in CC2 Ω VDD = 3 V RL = 2 k CC1 v + R2 = RS = R2 i – 20 kΩ 0.5 kΩ RR D 1 Figure P3.68 Figure P3.69 Figure P3.70 R2 RS = 10 kΩ 3.70 Consider the source-follower circuit in Figure P3.70. The transistor parameters are IDSS = 2 mA and VP = 2 V. Design the circuit such that IDQ = 1 mA, VSDQ = 10 V, and the current through R1 and R2 is 0.1 mA. 3.71 The GaAs MESFET in the circuit in Figure P3.71 has parameters k = 250 μA/V2 and VTN = 0.20 V. Let R1 + R2 = 150 k. Design the circuit Figure P3.71 such that ID = 40 μA and VDS = 2 V. 3.72 For the circuit in Figure P3.72, the GaAs MESFET threshold voltage is VDD = 3 V VT N = 0.15 V. Let RD = 50 k. Determine the value of the conduction parameter required so that VO = 0.70 V when VI = 0.75 V. RD COMPUTER SIMULATION PROBLEMS VO 3.73 Using a computer simulation, verify the results of Exercise Ex 3.5. VI 3.74 (a) Using a computer simulation, plot the voltage transfer characteristics of the CMOS circuit shown in Figure 3.41. Use the parameters given in Example 3.11. (b) Repeat part (a) for the case when the width-to-length ratio of MN is doubled. Figure P3.72 3.75 (a) Using a computer simulation, plot the voltage transfer characteristics of the NMOS circuit shown in Figure 3.46 for V2 = 0 and 0 ≤ V1 ≤ 5 V. Use the circuit and transistor parameters given in Example 3.13. (b) Repeat part (a) for 0 ≤ V1 = V2 ≤ 5 V. 3.76 Using a computer simulation, verify the results of Example 3.17 for the multitransistor circuit shown in Figure 3.52. nea80644_ch03_125-204.qxd 06/08/2009 08:37 PM Page 204 F506 Hard disk:Desktop Folder:MHDQ134-03: 204 Part 1 Semiconductor Devices and Basic Applications DESIGN PROBLEMS [Note: All design should be correlated with a computer simulation.] *D3.77 Consider the PMOS circuit shown in Figure 3.30. The circuit is to be redesigned such that IDQ = 100 μA and the Q-point is in the center of the saturation region of the load line. Assume R1 + R2 = 500 k and assume the same transistor parameters as given in Exercise Ex 3.6. *D3.78 Consider the circuit in Figure 3.39 with a depletion load. Assume the circuit is biased at VDD = 3.3 V, and assume transistor threshold voltages of VT ND = 0.4 V and VT N L = −0.75 V. Also assume k ′ = 80 μA/V2 n . Design the circuit such that VO = 0.05 V when VI = 3.3 V and that the maximum power dissipation is 150 μW. *D3.79 The constant-current source in Figure 3.50 is to be redesigned. The bias voltages are V + = 3.3 V and V − = −3.3 V. The parameters of all transistors are VT N = 0.4 V and k ′ n = 100 μA/V2. The currents are to be IREF = 100 μA and IQ = 60 μA. We will also specify that VDS2 (sat) = 0.6 V, VGS1 = VGS2, and VDS1 = 2.5 V. Determine all width-to-length ratios and the value of RD . (Note: the minimum width-to-length ratio is to be greater than one.) *D3.80 Consider the multitransistor circuit in Figure 3.52. The bias voltages are changed to V + = 3.3 V and V − = −3.3 V. The transistor parameters are VT N = 0.4 V and k ′ n = 100 μA/V2. Design the circuit such that IDQ1 = 100 μA, IDQ2 = 250 μA, VDSQ1 = VDSQ2 = 3.3 V, and Ri = 200 k. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 205 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Basic FET Amplifiers 4 In Chapter 3, we described the structure and operation of the FET, in particular the MOSFET, and analyzed and designed the dc response of circuits containing these devices. In this chapter, we emphasize the use of the FETs in linear amplifier applications. Linear amplifiers imply that, for the most part, we are dealing with analog signals. The magnitude of an analog signal may have any value, within limits, and may vary continuously with respect to time. Although a major use of MOSFETs is in digital applications, they are also used in linear amplifier circuits. We will begin to see how all-transistor circuits, that is, circuits with no resistors, can be designed. Since MOS transistors are small devices, high-density all-transistor circuits can be fabricated as integrated circuits. PREVIEW In this chapter, we will: • Investigate the process by which a single-MOS transistor circuit can amplify a small, time-varying input signal. • Develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. • Discuss the three basic transistor amplifier configurations. • Analyze the common-source, source-follower, and common-gate amplifiers, and become familiar with the general characteristics of these circuits. • Compare the general characteristics of the three basic amplifier configurations. • Analyze all-MOS transistor circuits that become the foundation of integrated circuits. • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor amplifiers. • Develop the small-signal model of JFET devices and analyze basic JFET amplifiers. • As an application, incorporate MOS transistors in a design of a two-stage amplifier. 205 Chapter"
Chapter 4: Basic FET Amplifiers,"4: Basic FET Amplifiers 4 In Chapter 3, we described the structure and operation of the FET, in particular the MOSFET, and analyzed and designed the dc response of circuits containing these devices. In this chapter, we emphasize the use of the FETs in linear amplifier applications. Linear amplifiers imply that, for the most part, we are dealing with analog signals. The magnitude of an analog signal may have any value, within limits, and may vary continuously with respect to time. Although a major use of MOSFETs is in digital applications, they are also used in linear amplifier circuits. We will begin to see how all-transistor circuits, that is, circuits with no resistors, can be designed. Since MOS transistors are small devices, high-density all-transistor circuits can be fabricated as integrated circuits. PREVIEW In this chapter, we will: • Investigate the process by which a single-MOS transistor circuit can amplify a small, time-varying input signal. • Develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. • Discuss the three basic transistor amplifier configurations. • Analyze the common-source, source-follower, and common-gate amplifiers, and become familiar with the general characteristics of these circuits. • Compare the general characteristics of the three basic amplifier configurations. • Analyze all-MOS transistor circuits that become the foundation of integrated circuits. • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor amplifiers. • Develop the small-signal model of JFET devices and analyze basic JFET amplifiers. • As an application, incorporate MOS transistors in a design of a two-stage amplifier. 205 Chapter"
Preview,"PREVIEW In this chapter, we will: • Investigate the process by which a single-MOS transistor circuit can amplify a small, time-varying input signal. • Develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. • Discuss the three basic transistor amplifier configurations. • Analyze the common-source, source-follower, and common-gate amplifiers, and become familiar with the general characteristics of these circuits. • Compare the general characteristics of the three basic amplifier configurations. • Analyze all-MOS transistor circuits that become the foundation of integrated circuits. • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor amplifiers. • Develop the small-signal model of JFET devices and analyze basic JFET amplifiers. • As an application, incorporate MOS transistors in a design of a two-stage amplifier. 205 Chapter nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 206 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 206 Part 1 Semiconductor Devices and Basic Applications 4.1 THE MOSFET AMPLIFIER Objective: • Investigate the process by which a single-transistor circuit can amplify a small, time-varying input signal and develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. In this chapter, we will be considering signals, analog circuits, and amplifiers. A signal contains some type of information. For example, sound waves produced by a speaking human contain the information the person is conveying to another person. A sound wave is an analog signal. The magnitude of an analog signal can take on any value, within limits, and may vary continuously with time. Electronic circuits that process analog signals are called analog circuits. One example of an analog circuit is a linear amplifier. A linear amplifier magnifies an input signal and produces an output signal whose magnitude is larger and directly proportional to the input signal. In this chapter, we analyze and design linear amplifiers that use field-effect transistors as the amplifying device. The term small signal means that we can linearize the ac equivalent circuit. We will define what is meant by small signal in the case of MOSFET circuits. The term linear amplifiers means that we can use superposition so that the dc analysis and ac analysis of the circuits can be performed separately and the total response is the sum of the two individual responses. The mechanism with which MOSFET circuits amplify small time-varying signals was introduced in the last chapter. In this section, we will expand that discussion using the graphical technique, dc load line, and ac load line. In the process, we will develop the various small-signal parameters of linear circuits and the corresponding equivalent circuits. 4.1.1 Graphical Analysis, Load Lines, and Small-Signal Parameters VDD Figure 4.1 shows an NMOS common-source circuit with a time-varying voltage source in series with the dc source. We assume the time-varying input signal is sinu- iD RD soidal. Figure 4.2 shows the transistor characteristics, dc load line, and Q-point, where the dc load line and Q-point are functions of vGS , VDD , RD, and the transistor vO parameters. For the output voltage to be a linear function of the input voltage, the + transistor must be biased in the saturation region. (Note that, although we primarily vDS + use n-channel, enhancement-mode MOSFETs in our discussions, the same results – v + iv – GS apply to the other MOSFETs.) – Also shown in Figure 4.2 are the sinusoidal variations in the gate-to-source volt- + VGSQ age, drain current, and drain-to-source voltage, as a result of the sinusoidal source vi. – The total gate-to-source voltage is the sum of VGSQ and vi . As vi increases, the instantaneous value of vGS increases, and the bias point moves up the load line. A Figure 4.1 NMOS common- larger value of vGS means a larger drain current and a smaller value of vDS . For a source circuit with time- negative vi (the negative portion of the sine wave), the instantaneous value of vGS varying signal source in decreases below the quiescent value, and the bias point moves down the load line. A series with gate dc source smaller vGS value means a smaller drain current and increased value of vDS . Once the"
4.1 The MOSFET Amplifier,"4.1 THE MOSFET AMPLIFIER Objective: • Investigate the process by which a single-transistor circuit can amplify a small, time-varying input signal and develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. In this chapter, we will be considering signals, analog circuits, and amplifiers. A signal contains some type of information. For example, sound waves produced by a speaking human contain the information the person is conveying to another person. A sound wave is an analog signal. The magnitude of an analog signal can take on any value, within limits, and may vary continuously with time. Electronic circuits that process analog signals are called analog circuits. One example of an analog circuit is a linear amplifier. A linear amplifier magnifies an input signal and produces an output signal whose magnitude is larger and directly proportional to the input signal. In this chapter, we analyze and design linear amplifiers that use field-effect transistors as the amplifying device. The term small signal means that we can linearize the ac equivalent circuit. We will define what is meant by small signal in the case of MOSFET circuits. The term linear amplifiers means that we can use superposition so that the dc analysis and ac analysis of the circuits can be performed separately and the total response is the sum of the two individual responses. The mechanism with which MOSFET circuits amplify small time-varying signals was introduced in the last chapter. In this section, we will expand that discussion using the graphical technique, dc load line, and ac load line. In the process, we will develop the various small-signal parameters of linear circuits and the corresponding equivalent circuits. 4.1.1 Graphical Analysis, Load Lines, and Small-Signal Parameters VDD Figure 4.1 shows an NMOS common-source circuit with a time-varying voltage source in series with the dc source. We assume the time-varying input signal is sinu- iD RD soidal. Figure 4.2 shows the transistor characteristics, dc load line, and Q-point, where the dc load line and Q-point are functions of vGS , VDD , RD, and the transistor vO parameters. For the output voltage to be a linear function of the input voltage, the + transistor must be biased in the saturation region. (Note that, although we primarily vDS + use n-channel, enhancement-mode MOSFETs in our discussions, the same results – v + iv – GS apply to the other MOSFETs.) – Also shown in Figure 4.2 are the sinusoidal variations in the gate-to-source volt- + VGSQ age, drain current, and drain-to-source voltage, as a result of the sinusoidal source vi. – The total gate-to-source voltage is the sum of VGSQ and vi . As vi increases, the instantaneous value of vGS increases, and the bias point moves up the load line. A Figure 4.1 NMOS common- larger value of vGS means a larger drain current and a smaller value of vDS . For a source circuit with time- negative vi (the negative portion of the sine wave), the instantaneous value of vGS varying signal source in decreases below the quiescent value, and the bias point moves down the load line. A series with gate dc source smaller vGS value means a smaller drain current and increased value of vDS . Once the nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 207 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 207 iD vDS (sat) Time Q-point vi Time IDQ VGSQ VDSQ VDD vDS Time Figure 4.2 Common-source transistor characteristics, dc load line, and sinusoidal variation in gate-to-source voltage, drain current, and drain-to-source voltage Q-point is established, we can develop a mathematical model for the sinusoidal, or small-signal, variations in gate-to-source voltage, drain-to-source voltage, and drain current. The time-varying signal source vi in Figure 4.1 generates a time-varying component of the gate-to-source voltage. In this case, vgs = vi , where vgs is the time- varying component of the gate-to-source voltage. For the FET to operate as a linear amplifier, the transistor must be biased in the saturation region, and the instantaneous drain current and drain-to-source voltage must also be confined to the saturation region. When symmetrical sinusoidal signals are applied to the input of an amplifier, symmetrical sinusoidal signals are generated at the output, as long as the amplifier operation remains linear. We can use the load line to determine the maximum output symmetrical swing. If the output exceeds this limit, a portion of the output signal will be clipped and signal distortion will occur. In the case of FET amplifiers, the output signal must avoid cutoff (iD = 0) and must stay in the saturation region (vDS > vDS (sat)). This maximum range of output signal can be determined from the load line in Figure 4.2. Transistor Parameters We will be dealing with time-varying as well as dc currents and voltages in this chapter. Table 4.1 gives a summary of notation that will be used. This notation was Table 4.1 Summary of notation Variable Meaning iD, vGS Total instantaneous values ID, VGS DC values id, vgs Instantaneous ac values Id, Vgs Phasor values nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 208 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 208 Part 1 Semiconductor Devices and Basic Applications discussed in the Prologue, but is repeated here for convenience. A lowercase letter with an uppercase subscript, such as iD or vGS , indicates a total instantaneous value. An uppercase letter with an uppercase subscript, such as ID or VGS , indicates a dc quantity. A lowercase letter with a lowercase subscript, such as id and vgs , indicates an instantaneous value of an ac signal. Finally, an uppercase letter with a lowercase subscript, such as Id or Vgs , indicates a phasor quantity. The phasor notation, which is also reviewed in the Prologue, becomes especially important in Chapter 7 during the discussion of frequency response. However, the phasor notation will generally be used in this chapter in order to be consistent with the overall ac analysis. From Figure 4.1, we see that the instantaneous gate-to-source voltage is vGS = VGSQ + vi = VGSQ + vgs (4.1) where VGSQ is the dc component and vgs is the ac component. The instantaneous drain current is i = K (v − V )2 D n GS TN (4.2) Substituting Equation (4.1) into (4.2) produces iD = Kn[VGSQ + vgs − V 2 2 TN ] = Kn[(VGSQ − VT N ) + vgs] (4.3(a)) or iD = K 2 2 n(VGSQ − VT N ) + 2Kn(VGSQ − VT N )vgs + Knvgs (4.3(b)) The first term in Equation (4.3(b)) is the dc or quiescent drain current IDQ, the second term is the time-varying drain current component that is linearly related to the signal vgs, and the third term is proportional to the square of the signal voltage. For a sinusoidal input signal, the squared term produces undesirable harmonics, or nonlinear distortion, in the output voltage. To minimize these harmonics, we require vgs  2(VGSQ − VT N ) (4.4) which means that the third term in Equation (4.3(b)) will be much smaller than the second term. Equation (4.4) represents the small-signal condition that must be satisfied for linear amplifiers. Neglecting the v2 gs term, we can write Equation (4.3(b)) as iD = IDQ + id (4.5) Again, small-signal implies linearity so that the total current can be separated into a dc component and an ac component. The ac component of the drain current is given by id = 2Kn(VGSQ − VT N )vgs (4.6) The small-signal drain current is related to the small-signal gate-to-source voltage by the transconductance gm. The relationship is g = id m = 2Kn(VGSQ − VT N ) (4.7) vgs The transconductance is a transfer coefficient relating output current to input voltage and can be thought of as representing the gain of the transistor. The transco∣∣nductance can also be obtained from the derivative gm = ∂iD ∣∣ = 2Kn(VGSQ − VT N ) (4.8(a)) ∂vGS vGS=VGSQ=const. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 209 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 209 iD Time IDQ Slope = gm Time VTN VGS vGS Figure 4.3 Drain current versus gate-to-source voltage characteristics, with superimposed sinusoidal signals which can b√e written as gm = 2 Kn IDQ (4.8(b)) The drain current versus gate-to-source voltage for the transistor biased in the saturation region is given in Equation (4.2) and is shown in Figure 4.3. The transconductance gm is the slope of the curve. If the time-varying signal vgs is sufficiently small, the transconductance gm is a constant. With the Q-point in the saturation region, the transistor operates as a current source that is linearly controlled by vgs. If the Q-point moves into the nonsaturation region, the transistor no longer operates as a linearly controlled current source. As shown in Equation (4.8(a)), the transconductance is directly proportional to the conduction parameter Kn, which in turn is a function of the width-to-length ratio. Therefore, increasing the width of the transistor increases the transconductance, or gain, of the transistor. EXAMPLE 4.1 Objective: Calculate the transconductance of an n-channel MOSFET. Consider an n-channel MOSFET with parameters VT N = 0.4 V, k ′ n = 100 μA/V2, and W/L = 25. Assume the drain current is ID = 0.40 mA. Solution: The conduction parameter is ′ K = kn n · W = 0.1 ( )(25) = 1.25 mA/V2 2 L 2 Assuming the transistor is biased in the saturation region, the transconductance is determined √from Equation (4.8(b)) as √ gm = 2 Kn IDQ = 2 (1.25)(0.4) = 1.41 mA/V Comment: The value of the transconductance can be increased by increasing the transistor W/L ratio and also by increasing the quiescent drain current. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 210 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 210 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 4.1: For an n-channel MOSFET biased in the saturation region, the parameters are k ′ n = 100 μA/V2, VT N = 0.6 V, and IDQ = 0.8 mA. Determine the transistor width-to-length ratio such that the transconductance is gm = 1.8 mA/V. (Ans. 20.25) AC Equivalent Circuit From Figure 4.l, we see that the output voltage is vDS = vO = VDD − iD RD (4.9) Using Equation (4.5), we obtain vO = VDD − (IDQ + id)RD = (VDD − IDQ RD) − id RD (4.10) The output voltage is also a combination of dc and ac values. The time-varying output signal is the time-varying drain-to-source voltage, or vo = vds = −id RD (4.11) Also, from Equations (4.6) and (4.7), we have id = gmvgs (4.12) In summary, the following relationships exist between the time-varying signals for the circuit in Figure 4.1. The equations are given in terms of the instantaneous ac values, as well as the phasors. We have vgs = vi or Vgs = Vi (4.13) and id = gmvgs or Id = gm Vgs (4.14) and void vds = −id RD or Vds = −Id RD (4.15) + R The ac equivalent circuit in Figure 4.4 is developed by setting the dc sources in D vgs v + Figure 4.l equal to zero. The small-signal relationships are given in Equations (4.13), i – – (4.14), and (4.15). As shown in Figure 4.l, the drain current, which is composed of ac signals superimposed on the quiescent value, flows through the voltage source VDD . Since the voltage across this source is assumed to be constant, the sinusoidal current Figure 4.4 AC equivalent produces no sinusoidal voltage component across this element. The equivalent ac circuit of common-source impedance is therefore zero, or a short circuit. Consequently, in the ac equivalent amplifier with NMOS circuit, the dc voltage sources are equal to zero. We say that the node connecting RD transistor and VDD is at signal ground. 4.1.2 Small-Signal Equivalent Circuit Now that we have the ac equivalent circuit for the NMOS amplifier circuit, (Figure 4.4), we must develop a small-signal equivalent circuit for the transistor. Initially, we assume that the signal frequency is sufficiently low so that any capacitance at the gate terminal can be neglected. The input to the gate thus appears as an open circuit, or an infinite resistance. Equation (4.14) relates the small-signal nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 211 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 211 D + i Gd (Id) GD + + + vds (Vds) g iv d (Id) V m gs v v ( ) v (V ) gs (Vgs) gs gs ds ds (gmVgs) – – – – SS (a) (b) Figure 4.5 (a) Common-source NMOS transistor with small-signal parameters and (b) simplified small-signal equivalent circuit for NMOS transistor drain current to the small-signal input voltage, and Equation (4.7) shows that the transconductance gm is a function of the Q-point. The resulting simplified small- signal equivalent circuit for the NMOS device is shown in Figure 4.5. (The phasor components are in parentheses.) This small-signal equivalent circuit can also be expanded to take into account the finite output resistance of a MOSFET biased in the saturation region. This effect, discussed in the last chapter, is a result of the nonzero slope in the iD versus vDS curve. We know that iD = Kn[(v − V )2 GS TN (1 + λvDS)] (4.16) where λ is the channel-length modulation parameter and is a positive quantity. The GD small-sign(al outp)ut re∣∣∣sistance, as previously defined, is − + + i 1 I ∂ d r = D ∣ (4.17) Vgs gmVgs ro V o ds ∂vDS vGS=VGSQ=const. – or – S ro = [λKn(VGSQ − VT N )2]−1 ∼= [λI ]−1 DQ (4.18) Figure 4.6 Expanded small- This small-signal output resistance is also a function of the Q-point parameters. signal equivalent circuit, The expanded small-signal equivalent circuit of then-channel MOSFET is including output resistance, shown in Figure 4.6 in phasor notation. Note that this equivalent circuit is a transcon- for NMOS transistor ductance amplifier in that the input signal is a voltage and the output signal is a current. This equivalent circuit can now be inserted into the amplifier ac equivalent circuit in Figure 4.4 to produce the circuit in Figure 4.7. Vo + + V + i – Vgs gmVgs ro RD Vds – – Figure 4.7 Small-signal equivalent circuit of common-source circuit with NMOS transistor model EXAMPLE 4.2 Objective: Determine the small-signal voltage gain of a MOSFET circuit. For the circuit in Figure 4.l, assume parameters are: VGSQ = 2.12 V, VDD = 5 V, and RD = 2.5 k. Assume transistor parameters are: VT N = 1 V. Kn = 0.80 mA/V2, and λ = 0.02 V−1. Assume the transistor is biased in the saturation region. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 212 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 212 Part 1 Semiconductor Devices and Basic Applications Solution: The quiescent values are IDQ =∼ Kn(VGSQ − V 2 TN ) = (0.8)(2.12 − 1)2 = 1.0 mA and VDSQ = VDD − IDQ RD = 5 − (1)(2.5) = 2.5 V Therefore, VDSQ = 2.5 V > VDS(sat) = VGS − VT N = 1.82 − 1 = 0.82 V which means that the transistor is biased in the saturation region, as initially assumed, and as required for a linear amplifier. The transconductance is gm = 2Kn(VGSQ − VT N ) = 2(0.8)(2.12 − 1) = 1.79 mA/V and the output resistance is ro = [λI −1 −1 DQ] = [(0.02)(1)] = 50 k From Figure 4.7, the output voltage is Vo = −gm Vgs(ro‖RD) Since Vgs = Vi , the small-signal voltage gain is = VA o v = −gm(ro‖Rd) = −(1.79)(50‖2.5) = −4.26 Vi Comment: The magnitude of the ac output voltage is 4.26 times larger than the magnitude of the input voltage. Hence, we have an amplifier. Note that the small-signal voltage gain contains a minus sign, which means that the sinusoidal output voltage is 180 degrees out of phase with respect to the input sinusoidal signal. EXERCISE PROBLEM Ex 4.2: For the circuit shown in Figure 4.1, VDD = 3.3 V and RD = 10 k. The transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, W/L = 50, and λ = 0.025 V−1. Assume the transistor is biased such that IDQ = 0.25 mA. (a) Verify that the transistor is biased in the saturation region. (b) Determine the small- signal parameters gm and ro. (c) Determine the small-signal voltage gain. (Ans. (a) VGSQ = 0.716 V and VDSQ = 0.8 V so that VDS > VDS (sat); (b) gm = 1.58 mA/V, ro = 160 k; (c) −14.9) Problem-Solving Technique: MOSFET AC Analysis Since we are dealing with linear amplifiers, superposition applies, which means that we can perform the dc and ac analyses separately. The analysis of the MOSFET amplifier proceeds as follows: 1. Analyze the circuit with only the dc sources present. This solution is the dc or quiescent solution. The transistor must be biased in the saturation region in order to produce a linear amplifier. 2. Replace each element in the circuit with its small-signal model, which means replacing the transistor by its small-signal equivalent circuit. 3. Analyze the small-signal equivalent circuit, setting the dc source components equal to zero, to produce the response of the circuit to the time-varying input signals only. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 213 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 213 VDD vSG + v + sg + – – + vSD vsd – – v + vi O v – o Id v + GD + i – iD R i – – VD d RD GG – Vsg gmVsg ro Vsd + + (a) (b) S Figure 4.8 (a) Common-source circuit with PMOS Figure 4.9 Small-signal equivalent transistor and (b) corresponding ac equivalent circuit circuit of PMOS transistor The previous discussion was for an n-channel MOSFET amplifier. The same basic analysis and equivalent circuit also applies to the p-channel transistor. Figure 4.8(a) shows a circuit containing a p-channel MOSFET. Note that the power supply voltage VDD is connected to the source. (The subscript DD can be used to indicate that the supply is connected to the drain terminal. Here, however, VDD is simply the usual notation for the power supply voltage in MOSFET circuits.) Also note the change in current directions and voltage polarities compared to the circuit containing the NMOS transistor. Figure 4.8(b) shows the ac equivalent circuit, with the dc voltage sources replaced by ac short circuits, and all currents and voltages shown are the time- varying components. In the circuit of Figure 4.8(b), the transistor can be replaced by the equivalent circuit in Figure 4.9. The equivalent circuit of the p-channel MOSFET is the same as that of then-channel device, except that all current directions and voltage polarities are reversed. The final small-signal equivalent circuit of the p-channel MOSFET amplifier is shown in Figure 4.10. The output voltage is Vo = gm Vsg(ro‖RD) (4.19) The control voltage Vsg, given in terms of the input signal voltage, is Vsg = −Vi (4.20) and the small-signal voltage gain is = VA o v = −gm(ro‖RD) (4.21) Vi GD Vo – V + i V – sg gmVsg ro RD + S Figure 4.10 Small-signal equivalent circuit of common-source amplifier with PMOS transistor model nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 214 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 214 Part 1 Semiconductor Devices and Basic Applications Id I GD Gd D – – + + V g sg gmVsg ro Vsd Vgs mVgs ro Vds + + – – SS (a) (b) Figure 4.11 Small signal equivalent circuit of a p-channel MOSFET showing (a) the conventional voltage polarities and current directions and (b) the case when the voltage polarities and current directions are reversed. This expression for the small-signal voltage gain of the p-channel MOSFET amplifier is exactly the same as that for then-channel MOSFET amplifier. The negative sign indicates that a 180-degree phase reversal exists between the ouput and input signals, for both the PMOS and the NMOS circuit. We may note that if the polarity of the small-signal gate-to-source voltage is reversed, then the small-signal drain current direction is reversed. This change of polarity is shown in Figure 4.11. Figure 4.11(a) shows the conventional voltage polarity and current directions in a PMOS transistor. If the control voltage polarity is reversed as shown in Figure 4.11(b), then the dependent current direction is also reversed. The equivalent circuit shown in Figure 4.11(b) is then the same as that of the NMOS transistor. However, the author prefers to use the small-signal equivalent circuit in Figure 4.9 to be consistent with the voltage polarities and current directions of the PMOS transistor. 4.1.3 Modeling the Body Effect As mentioned in Section 3.1.9, Chapter 3, the body effect occurs in a MOSFET in which the substrate, or body, is not directly connected to the source. For an NMOS device, the body is connected to the most negative potential in the circuit and will beat signal ground. Figure 4.12(a) shows the four-terminal MOSFET with dc voltages and Figure 4.12(b) shows the device with ac voltages. Keep in mind that vSB must be greater than or equal to zero. The simplified current-voltage relation is iD = Kn(v − V )2 GS TN (4.22) and the threshold volta[g√e is given by √ ] VT N = VT NO + γ 2φ f + vSB − 2φ f (4.23) DD ID id – BB G G + + VSB + vbs VGS – + vgs – – SS (a) (b) Figure 4.12 The four-terminal NMOS device with (a) dc voltages and (b) ac voltages nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 215 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 215 If an ac component exists in the source-to-body voltage, vSB, there will be an ac component induced in the threshold voltage, which causes an ac component in the drain current. Thu∣∣s, a back-gate∣∣ transcond(uctance can be defined as = ∂i g D mb ∣ = −∂iD ∂v ∣ ∂v ∣∣ ) ( ) ∣ = − ∂iD · ∂VT N ∣∣ (4.24) BS Q-pt SB Q-pt ∂VT N ∂v ∣ SB Q-pt Using Equation (4.22), we find ∂iD = −2Kn(vGS − VT N ) = −gm (4.25(a)) ∂VT N and using Equation (4.23), we find ∂VT N = √ γ + ≡ η (4.25(b)) ∂vSB 2 2φ f vSB The back-gate transconductance is then gmb = −(−gm) · (η) = gmη (4.26) Including the body effect, the small-signal equivalent circuit of the MOSFET is shown in Figure 4.13. We note the direction of the current and the polarity of the small-signal source-to-body voltage. If vbs > 0, then vSB decreases, VT N decreases, and iD increases. The current direction and voltage polarity are thus consistent. For φ f = 0.35 V and γ = 0.35 V1/2, the value of η from Equation (4.25(b)) is η ∼= 0.23. Therefore, η will be in the range 0 ≤ η ≤ 0.23. The value of vbs will depend on the particular circuit. In general, we will neglect gmb in our hand analyses and designs, but will investigate the body effect in PSpice analyses. GD + + gmsvgs gmbvbs vgs ro vds – – S – vbs + B Figure 4.13 Small-signal equivalent circuit of NMOS device including body effect Test Your Understanding TYU 4.1 The parameters of an n-channel MOSFET are: VT N = 0.6 V, k ′ n = 100 μA/V2, and λ = 0.015 V−1. The transistor is biased in the saturation region with IDQ = 1.2 mA. (a) Design the width-to-length ratio such that the transconductance is gm = 2.5 mA/V. (b) Determine the small-signal output resistance ro. (Ans. (a) 26.0, (b) 55.6 k). TYU 4.2 For the circuit shown in Figure 4.1, VDD = 3.3 V and RD = 8 k. The transistor parameters are VT N = 0.4 V, Kn = 0.5 mA/V2, and λ = 0.02 V−1. (a) Determine VGSQ and VDSQ for IDQ = 0.15 mA. (b) Calculate gm , ro, and the small- signal voltage gain. (Ans. (a) VGSQ = 0.948 V, VDSQ = 2.1 V; (b) gm = 0.548 mA/V, ro = 333 k, Av = −4.28). nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 216 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 216 Part 1 Semiconductor Devices and Basic Applications TYU 4.3 For the circuit in Figure 4.1, the circuit and transistor parameters are given in Exercise TYU 4.2. If vi = 25 sin ωt (mV), determine iD and υDS . (Ans. iD = 0.15 + 0.0137 sin ωt (mA), υDS = 2.1 − 0.11 sin ωt (V)). TYU 4.4 The parameters for the circuit in Figure 4.8 are VDD = 5 V and RD = 5 k. The transistor parameters are VT P = −0.4 V, Kp = 0.4 mA/V2, and λ = 0. (a) Determine VSG Q and IDQ such that VSDQ = 3 V. (b) Calculate gm and the small-signal voltage gain. (Ans. (a) IDQ = 0.4 mA, VSG Q = 1.4 V; (b) gm = 0.8 mA/V, Av = −4). TYU 4.5 A transistor has the same parameters as those given in Exercise Ex4.1. In addition, the body effect coefficient is γ = 0.40 V1/2 and φ f = 0.35 V. Determine the value of η and the back-gate transconductance gmb for (a) vSB = 1 V and (b) vSB = 3 V. (Ans. (a) η = 0.153, (b) η = 0.104). 4.2 BASIC TRANSISTOR AMPLIFIER CONFIGURATIONS Objective: • Discuss the three basic transistor amplifier configurations. As we have seen, the MOSFET is a three-terminal device. Three basic single- transistor amplifier configurations can be formed, depending on which of the three transistor terminals is used as signal ground. These three basic configurations are appropriately called common source, common drain (source follower), and common gate. The input and output resistance characteristics of amplifiers are important in determining loading effects. These parameters, as well as voltage gain, for the three basic MOSFET circuit configurations will be determined in the following sections. The characteristics of the three types of amplifiers will then allow us to understand under what condition each amplifier is most useful. Initially, we will consider MOSFET amplifier circuits that emphasize discrete designs, in that resistor biasing will be used. The purpose is to become familiar with basic MOSFET amplifier designs and their characteristics. In Section 4.7, we will begin to consider integrated circuit MOSFET designs that involve all-transistor circuits and current source biasing. These initial designs provide an introduction to more advanced MOS amplifier designs that will be considered in Part 2 of the text. 4.3 THE COMMON-SOURCE AMPLIFIER Objective: • Analyze the common-source amplifier and become familiar with the general characteristics of this circuit. In this section, we consider the first of the three basic circuits—the common-source amplifier. We will analyze several basic common-source circuits, and will determine small-signal voltage gain and input and output impedances."
4.2 Basic Transistor Amplifier Configurations,"4.2 BASIC TRANSISTOR AMPLIFIER CONFIGURATIONS Objective: • Discuss the three basic transistor amplifier configurations. As we have seen, the MOSFET is a three-terminal device. Three basic single- transistor amplifier configurations can be formed, depending on which of the three transistor terminals is used as signal ground. These three basic configurations are appropriately called common source, common drain (source follower), and common gate. The input and output resistance characteristics of amplifiers are important in determining loading effects. These parameters, as well as voltage gain, for the three basic MOSFET circuit configurations will be determined in the following sections. The characteristics of the three types of amplifiers will then allow us to understand under what condition each amplifier is most useful. Initially, we will consider MOSFET amplifier circuits that emphasize discrete designs, in that resistor biasing will be used. The purpose is to become familiar with basic MOSFET amplifier designs and their characteristics. In Section 4.7, we will begin to consider integrated circuit MOSFET designs that involve all-transistor circuits and current source biasing. These initial designs provide an introduction to more advanced MOS amplifier designs that will be considered in Part 2 of the text. 4.3 THE COMMON-SOURCE AMPLIFIER Objective: • Analyze the common-source amplifier and become familiar with the general characteristics of this circuit. In this section, we consider the first of the three basic circuits—the common-source amplifier. We will analyze several basic common-source circuits, and will determine small-signal voltage gain and input and output impedances."
4.3 The Common-Source Amplifier,"4.3 THE COMMON-SOURCE AMPLIFIER Objective: • Analyze the common-source amplifier and become familiar with the general characteristics of this circuit. In this section, we consider the first of the three basic circuits—the common-source amplifier. We will analyze several basic common-source circuits, and will determine small-signal voltage gain and input and output impedances. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 217 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 217 4.3.1 A Basic Common-Source Configuration Figure 4.14 shows the basic common-source circuit with voltage-divider biasing. We see that the source is at ground potential—hence the name common source. The signal from the signal source is coupled into the gate of the transistor through the coupling capacitor CC, which provides dc isolation between the amplifier and the signal source. The dc transistor biasing is established by R1 and R2, and is not disturbed when the signal source is capacitively coupled to the amplifier. VDD RR D 1 RC Si C1 vO v + i R – 2 Figure 4.14 Common-source circuit with voltage divider biasing and coupling capacitor If the signal source is a sinusoidal voltage at frequency f, then the magnitude of the capacitor impedance is |ZC | = [1/(2π f CC)]. For example, assume that CC = 10 μF and f = 2 kHz. The magnitude of the capacitor impedance is then |ZC | = 1 = 1 ∼= 8  2π f CC 2π(2 × 103)(10 × 10−6) The magnitude of this impedance is generally much less than the Thevenin resistance at the capacitor terminals. We can therefore assume that the capacitor is essentially a short circuit to signals with frequencies greater than 2 kHz. We will also neglect, in this chapter, any capacitance effects within the transistor. For the circuit shown in Figure 4.14, assume that the transistor is biased in the saturation region by resistors R1 and R2, and that the signal frequency is sufficiently large for the coupling capacitor to act essentially as a short circuit. The signal source is represented by a Thevenin equivalent circuit, in which the signal voltage source vi is in series with an equivalent source resistance RSi. As we will see, RSi should be much less than the amplifier input resistance, Ri = R1‖R2, in order to minimize loading effects. Figure 4.15 shows the resulting small-signal equivalent circuit. The small- signal variables, such as the input signal voltage Vi, are given in phasor form. Ri RR o Si GD Vo + + Id V + i R – 1 ⎜⎜ R2 Vgs gmVgs ro RD Vds – – S Figure 4.15 Small-signal equivalent circuit, assuming coupling capacitor acts as a short circuit nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 218 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 218 Part 1 Semiconductor Devices and Basic Applications iD VI DD D (max) = RD VDS (sat) = VGS – VTN Transition point Q-point 1 IDQ dc load line, slope = – RD VDSQ VDD vDS Figure 4.16 DC load line and transition point separating saturation and nonsaturation regions Since the source is at ground potential, there is nobody effect. The output voltage is Vo = −gm Vgs(ro‖RD) (4.27) The input g(ate-to-sourc)e voltage is RV i gs = + · V (4.28) Ri R i Si so the small-signal voltage gain (is ) = VA o = − R v gm(r i V o‖RD) · (4.29) i Ri + RSi We can also relate the ac drain current to the ac drain-to-source voltage, as Vds = −Id(RD). Figure 4.16 shows the dc load line, the transition point (that separates the saturation bias region and nonsaturation bias region), and the Q-point, which is in the saturation region. In order to provide the maximum symmetrical output voltage swing and keep the transistor biased in the saturation region, the Q-point must be near the middle of the saturation region. At the same time, the input signal must be small enough for the amplifier to remain linear. The input and output resistances of the amplifier can be determined from Figure 4.15. The input resistance to the amplifier is Ri = R1‖R2. Since the low-frequency input resistance looking into the gate of the MOSFET is essentially infinite, the input resistance is only a function of the bias resistors. The output resistance looking back into the output terminals is found by setting the independent input source Vi equal to zero, which means that Vgs = 0. The output resistance is therefore Ro = RD‖ro. EXAMPLE 4.3 Objective: Determine the small-signal voltage gain and input and output resistances of a common-source amplifier. For the circuit shown in Figure 4.14, the parameters are: VDD = 3.3 V, RD = 10 k, R1 = 140 k, R2 = 60 k, and RSi = 4 k. The transistor parameters are: VT N = 0.4 V, Kn = 0.5 mA/V2, and λ = 0.02 V−1. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 219 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 219 Solution (dc (calculatio)ns): The dc( or quiescen)t gate-to-source voltage is R2 60 VGSQ = + (VDD) = + (3.3) = 0.99 V R1 R2 140 60 The quiescent drain current is IDQ = Kn(VGSQ − V 2 TN ) = (0.5)(0.99 − 0.4)2 = 0.174 mA and the quiescent drain-to-source voltage is VDSQ = VDD − IDQ RD = 3.3 − (0.174)(10) = 1.56 V Since VDSQ > VGSQ − VT N , the transistor is biased in the saturation region. Small-signa√l Voltage Gain: The small-signal transconductance gm is then gm = 2 Kn IDQ = √ 2 (0.5)(0.174) = 0.590 mA/V and the small-signal output resistance is = 1 = 1 ro = 287 k λIQ (0.02)(0.174) The input resistance to the amplifier is Ri = R1‖R2 = 140‖60 = 42 k From Figure 4.15 and E(quation (4.2)9), the small-signal vo(ltage gai)n is = − ‖ Ri = − ‖ 42 Av gm(ro RD) + (0.59)(287 10) Ri RSi 42 + 4 or Av = −5.21 Input and Output Resistances: As already calculated, the amplifier input resistance is Ri = R1‖R2 = 140‖60 = 42 k and the amplifier output resistance is Ro = RD‖ro = 10‖287 = 9.66 k Comment: The resulting Q-point is not in the center of the saturation region. Therefore, this circuit does not achieve the maximum symmetrical output voltage swing in this case. Discussion:(The small)-signal in(put gate-)to-source voltage is = Ri · = 42 Vgs + Vi + · Vi = (0.913) · V Ri RSi 42 4 i Since RSi is not zero, the amplifier input signal Vgs is approximately 91 percent of the signal voltage. This is called a loading effect. Even though the input resistance to the gate of the transistor is essentially infinite, the bias resistors greatly influence the nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 220 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 220 Part 1 Semiconductor Devices and Basic Applications amplifier input resistance and loading effect. This loading effect can be eliminated or minimized when current source biasing is considered. EXERCISE PROBLEM Ex 4.3: The parameters of the circuit shown in Figure 4.14 are VDD = 5 V, R1 = 520 k, R2 = 320 k, RD = 10 k, and RSi = 0. Assume transistor parameters of V = 0.8 V, K = 0.20 mA/V2 TN n , and λ = 0. (a) Determine the small- signal transistor parameters gm and ro. (b) Find the small-signal voltage gain. (c) Calculate the input and output resistances Ri and Ro (see Figure 4.15). (Ans. (a) gm = 0.442 mA/V, ro = ∞; (b) Av = −4.42; (c) Ri = 198 k, Ro = RD = 10 k) DESIGN EXAMPLE 4.4 Objective: Design the bias of a MOSFET circuit such that the Q-point is in the middle of the saturation region. Determine the resulting small-signal voltage gain. Specifications: The circuit to be designed has the configuration shown in Figure 4.17. Let R1‖R2 = 100 k. Design the circuit such that the Q-point is IDQ = 2 mA and the Q-point is in the middle of the saturation region. VDD = 12 V RID = 2 mA DR1 v CO C v + i R – 2 Figure 4.17 Common-source NMOS transistor circuit Choices: A transistor with nominal parameters VT N = 1 V, k ′ n = 80 μA/V2, W/L = 25, and λ = 0.015 V−1 is available. Solution (dc design): The load line and the desired Q-point are given in Figure 4.18. If the Q-point is to be in the middle of the saturation region, the current at the transition point must be 4 mA. The conductivity para(meter is k ′ ) = n · W = 0.080 Kn (25) = 1 mA/V2 2 L 2 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 221 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 221 iD 1 Load line, slope = – RD VDS (sat) = VGS – VTN 4 mA Q-point 2 mA VGSQ = 2.41 V VDSt (sat) VDSQ = 7 V VDD = 12 V vDS Figure 4.18 DC load line and transition point for NMOS circuit shown in Figure 4.17 We can now calculate VDS(sat) at the transition point. The subscript t indicates transition point values. To determine VGSt , we use IDt = 4 = Kn(VGSt − VT N )2 = 1(VGSt − 1)2 which yields VGSt = 3 V Therefore VDSt = VGSt − VT N = 3 − 1 = 2 V If the Q-point is in the middle of the saturation region, then VDSQ = 7 V, which would yield a 10 V peak-to-peak symmetrical output voltage. From Figure 4.17, we can write VDSQ = VDD − IDQ RD or = V R DD − VDSQ 12 − 7 D = = 2.5 k IDQ 2 We can determine the required quiescent gate-to-source voltage from the current equation, as follows: I = 2 = K (V − V )2 = (1)(V − 1)2 DQ n GSQ TN GSQ or VGSQ = 2.41 V Then ( ) ( )( ) V = R 1 RR 2 41 = 2 V = 1 2 GSQ . + ( DD) + (V ) R1 R2 R1 R1 R DD 2 = Ri · = (100)(12) V R DD 1 R1 which yields R1 = 498 k and R2 = 125 k nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 222 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 222 Part 1 Semiconductor Devices and Basic Applications Solution (ac = √ analysis): Th√e small-signal transistor parameters are gm 2 Kn IDQ = 2 (1)(2) = 2.83 mA/V and 1 ro = = 1 = 33.3 k λIDQ (0.015)(2) The small-signal equivalent circuit is the same as shown in Figure 4.7. The small- signal voltage gain is Av = Vo = −gm (ro‖RD) = −(2.83)(33.3‖2.5) Vi or Av = −6.58 Comment: Establishing the Q-point in the middle of the saturation region allows the maximum symmetrical swing in the output voltage, while keeping the transistor biased in the saturation region. EXERCISE PROBLEM Ex 4.4: Consider the circuit shown in Figure 4.14. Assume transistor parameters of VT N = 0.8 V, Kn = 0.20 mA/V2, and λ = 0. Let VDD = 5 V, Ri = R1‖R2 = 200 k, and RSi = 0. Design the circuit such that IDQ = 0.5 mA and the Q-point is in the center of the saturation region. Find the small-signal voltage gain. (Ans. RD = 2.76 k, R1 = 420 k, R2 = 382 k, Av = −1.75) 4.3.2 Common-Source Amplifier with Source Resistor A source resistor RS tends to stabilize the Q-point against variations in transistor parameters (Figure 4.19). If, for example, the value of the conduction parameter varies from one transistor to another, the Q-point will not vary as much if a source +5 V RD = 7 kΩ R1 = 165 kΩ v CO C v + i – R2 = 35 kΩ RS = 0.5 kΩ –5 V Figure 4.19 Common-source circuit with source resistor and positive and negative supply voltages nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 223 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 223 resistor is included in the circuit. However, as shown in the following example, a source resistor also reduces the signal gain. The circuit in Figure 4.19 is an example of a situation in which the body effect should be taken into account. The substrate (not shown) would normally be connected to the −5 V supply, so that the body and substrate terminals are not at the same potential. However, in the following example, we will neglect this effect. The circuit shown in Figure 4.20(a) is a PMOS version of the common-source amplifier with a source resistor RS included. EXAMPLE 4.5 Objective: Determine the small-signal voltage gain of a PMOS transistor circuit. Consider the circuit shown in Figure 4.20(a). The transistor parameters are K = 0.80 mA/V2 p , VT P = −0.5 V, and λ = 0. The quiescent drain current is found to be IDQ = 0.297 mA. The small-signal equivalent circuit is shown in Figure 4.20(b). To sketch the small-signal equivalent circuit, start with the three terminals of the transistor, draw in the transistor equivalent circuit between these three terminals, and then sketch in the other circuit elements around the transistor. Solution: The small-signal output voltage is Vo = +gm Vsg RD Writing a KVL equation from the input around the gate–source loop, we find Vi = −Vsg − gm Vsg RS or V = −Vi sg 1 + gm RS Substituting this expression for Vsg into the output voltage equation, we find the small-signal voltage gain as VA o v = = −gm RD Vi 1 + gm RS +3 VG D Vo RS = 3 kΩ – R1 = 100 kΩ Vsg gmV C sg c + V + i R v – R ⎜⎜ RD v + o 1 2 Si – R2 = 200 kΩ RD = 10 kΩ RS –3 V (a) (b) Figure 4.20 (a) PMOS circuit for Example 4.5, and (b) small-signal equivalent circuit nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 224 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 224 Part 1 Semiconductor Devices and Basic Applications The smalls√ignal transcon√ductance is gm = 2 Kp IDQ = 2 (0.80)(0.297) = 0.975 mA/V We then find the small-signal voltage gain as = −(0.975)(10) Av + or Av = −2.48 1 (0.975)(3) Comment: The analysis of a PMOS transistor circuit is essentially the same as that of an NMOS transistor circuit. The voltage gain of a MOS transistor circuit that contains a source resistor is degraded compared to a circuit without a source resistor. However, the Q-point tends to be stabilized. Discussion: We mentioned that including a source resistor tends to stabilize the circuit characteristics against any changes in transistor parameters. If, for example, the conduction parameter Kp varies by ±10 percent, we find the following results. Kp(mA/V2) gm(mA/V) Av(V/V) 0.72 0.9121 −2.441 0.80 0.9749 −2.484 0.88 1.035 −2.521 With a ±10 percent variation in Kp , there is less than a ±1.8 percent variation in the voltage gain. EXERCISE PROBLEM Ex 4.5: For the circuit shown in Figure 4.19, the transistor parameters are VT N = 0.8 V, Kn = 1 mA/V2, and λ = 0. (a) From the dc analysis, find IDQ and VDSQ . (b) Determine the small-signal voltage gain. (Ans. (a) IDQ = 0.494 mA, VDSQ = 6.30 V; (b) Av = −5.78). 4.3.3 Common-Source Circuit with Source Bypass Capacitor A source bypass capacitor added to the common-source circuit with a source resistor will minimize the loss in the small-signal voltage gain, while maintaining the Q- point stability. The Q-point stability can be further increased by replacing the source resistor with a constant-current source. The resulting circuit is shown in Figure 4.21, assuming an ideal signal source. If the signal frequency is sufficiently large so that the bypass capacitor acts essentially as an ac short-circuit, the source will be held at signal ground. EXAMPLE 4.6 Objective: Determine the small-signal voltage gain of a circuit biased with a constant- current source and incorporating a source bypass capacitor. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 225 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 225 +5 V RD = 7 kΩ vO v + i RG = 200 kΩ – CS IQ = 0.5 mA –5 V Figure 4.21 NMOS common-source circuit with source bypass capacitor For the circuit shown in Figure 4.21, the transistor parameters are: VT N = 0.8 V, K = 1 mA/V2 n , and λ = 0. Solution: Since the dc gate current is zero, the dc voltage at the source terminal is VS = −VGSQ , and the gate-to-source voltage is determined from I 2 DQ = IQ = Kn(VGSQ − VT N ) or 0.5 = (1)(V 2 GSQ − 0.8) which yields VGSQ = −VS = 1.51 V The quiescent drain-to-source voltage is VDSQ = VDD − IDQ RD − VS = 5 − (0.5)(7) − (−1.51) = 3.01 V The transistor is therefore biased in the saturation region. The small-signal equivalent circuit is shown in Figure 4.22. The output voltage is Vo = −gm Vgs RD Vo + V + i R – G Vgs gmVgs RD = 7 kΩ – Flgure 4.22 Small-signal equivalent circuit, assuming the source bypass capacitor acts as a short circuit Since Vgs = Vi , the small-signal voltage gain is = VA o v = −gm RD = −(1.414)(7) = −9.9 Vi Comment: Comparing the small-signal voltage gain of 9.9 in this example to the 2.48 calculated in Example 4.5, we see that the magnitude of the gain increases when a source bypass capacitor is included. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 226 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 226 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 4.6: The common-source amplifier in Figure 4.23 has transistor parameters k ′ 2 p = 40 μA/V , W/L = 40, VT P = −0.4 V, and λ = 0.02 V−1. (a) Determine IDQ and VSDQ . (b) Find the small-signal voltage gain. (Ans. (a) IDQ = 1.16 mA, VSDQ = 2.29 V; (b) Av = −3.68) +3 V RS = 1.2 kΩ CC1 CS v + v R = 100 kΩ Oi G RD = 2 kΩ –3 V Figure 4.23 Figure for Exercise Ex 4.6 Test Your Understanding TYU 4.6 Consider the common-source amplifier in Figure 4.24 with transistor parameters VT N = 1.8 V, K 2 n = 0.15 mA/V , and λ = 0. (a) Calculate IDQ and VDSQ . (b) Determine the small-signal voltage gain. (c) Discuss the purpose of RG and its effect on the small-signal operation of the amplifier. (Ans. (a) IDQ = 1.05 mA, VDSQ = 4.45 V; (b) Av = −2.65) +5 V VDD = 15 V RS RD = 10 kΩ RG = 5 MΩ CC v Co S CC1 CC2 R v L = 5 kΩ + O vi – RG = 1 MΩ + R v Di – –5 V Figure 4.24 Figure for Exercise TYU 4.6 Figure 4.25 Figure for Exercise TYU 4.7 TYU 4.7 The parameters of the transistor shown in Figure 4.25 are: VT P = +0.8 V, Kp = 0.5 mA/V2, and λ = 0.02 V−1. (a) Determine RS and RD such that IDQ = 0.8 mA and VSDQ = 3 V. (b) Find the small-signal voltage gain. (Ans. (a) RS = 5.67 k, RD = 3.08 k; (b) Av = −3.71) nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 227 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 227 4.4 THE COMMON-DRAIN (SOURCE-FOLLOWER) AMPLIFIER Objective: • Analyze the common-drain (source-follower) amplifier and become familiar with the general characteristics of this circuit. The second type of MOSFET amplifier to be considered is the common-drain circuit. An example of this circuit configuration is shown in Figure 4.26. As seen in the figure, the output signal is taken off the source with respect to ground and the drain is connected directly to VDD . Since VDD becomes signal ground in the ac equivalent circuit, we have the name common drain. The more common name is source follower. The reason for this name will become apparent as we proceed through the analysis. VDD R1 RC Si C vO v + i R – 2 RS Flgure 4.26 NMOS source-follower or common-drain amplifier 4.4.1 Small-Signal Voltage Gain The dc analysis of the circuit is exactly the same as we have already seen, so we will concentrate on the small-signal analysis. The small-signal equivalent circuit, assuming the coupling capacitor acts as a short circuit, is shown in Figure 4.27(a). The drain is at signal ground, and the small-signal resistance roof the transistor is in RSi Vin GD Ri + RSi Vin V V gs gmVgs ro + gs – Vo V + i R1⎪⎪ RV V + 2 – oi – R1⎪⎪R2 g – mVgs RS ro S RS (a) (b) Figure 4.27 (a) Small-signal equivalent circuit of NMOS source follower and (b) small-signal equivalent circuit of NMOS source follower with all signal grounds at a common point"
4.4 The Common-Drain (Source-Follower) Amplifier,"4.4 THE COMMON-DRAIN (SOURCE-FOLLOWER) AMPLIFIER Objective: • Analyze the common-drain (source-follower) amplifier and become familiar with the general characteristics of this circuit. The second type of MOSFET amplifier to be considered is the common-drain circuit. An example of this circuit configuration is shown in Figure 4.26. As seen in the figure, the output signal is taken off the source with respect to ground and the drain is connected directly to VDD . Since VDD becomes signal ground in the ac equivalent circuit, we have the name common drain. The more common name is source follower. The reason for this name will become apparent as we proceed through the analysis. VDD R1 RC Si C vO v + i R – 2 RS Flgure 4.26 NMOS source-follower or common-drain amplifier 4.4.1 Small-Signal Voltage Gain The dc analysis of the circuit is exactly the same as we have already seen, so we will concentrate on the small-signal analysis. The small-signal equivalent circuit, assuming the coupling capacitor acts as a short circuit, is shown in Figure 4.27(a). The drain is at signal ground, and the small-signal resistance roof the transistor is in RSi Vin GD Ri + RSi Vin V V gs gmVgs ro + gs – Vo V + i R1⎪⎪ RV V + 2 – oi – R1⎪⎪R2 g – mVgs RS ro S RS (a) (b) Figure 4.27 (a) Small-signal equivalent circuit of NMOS source follower and (b) small-signal equivalent circuit of NMOS source follower with all signal grounds at a common point nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 228 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 228 Part 1 Semiconductor Devices and Basic Applications parallel with the dependent current source. Figure 4.27(b) is the same equivalent circuit, but with all signal grounds at a common point. We are again neglecting the body effect. The output voltage is Vo = (gm Vgs)(RS‖ro) (4.30) Writing a KVL equation from input to output results in the following: Vin = Vgs + Vo = Vgs + gm Vgs(RS‖ro) (4.31(a)) Therefore, the gate-to-source v[oltage is 1 ] V V in gm gs = + = 1 · Vin (4.31(b)) 1 gm(RS ‖ro ) g + (RS ‖ro ) m Equation (4.31(b)) is written in the form of a voltage-divider equation, in which the gate-to-source of the NMOS device looks like a resistance with a value of 1/gm . More accurately, the effective resistance looking into the source terminal (ignoring ro) is 1/gm.( The voltag)e Vin is related to the source input voltage Vi by = RV i in · V (4.32) Ri + R i Si where Ri = R1‖R2 is the input resistance to the amplifier. Substituting Equations (4.31(b)) and (4.32) into (4.30), we have the small-signal voltage gain: ‖ ( ) A = Vo = gm(RS ro ) · Riv + ‖ + (4.33(a)) Vi 1 gm(RS ro ) Ri RSi or ‖ ( ) R r RA So iv = 1 + ‖ · (4.33(b)) g RS ro Ri + RSi m which again is written in the form of a voltage-divider equation. An inspection of Equation 4.33(b) shows that the magnitude of the voltage gain is always less than unity. EXAMPLE 4.7 Objective: Calculate the small-signal voltage gain of the source-follower circuit in Figure 4.26. Assume the circuit parameters are VDD = 12 V, R1 = 162 k, R2 = 463 k, and RS = 0.75 k, and the transistor parameters are VT N = 1.5 V, Kn = 4 mA/V2, and λ = 0.01 V−1. Also assume RSi = 4 k. Solution: The dc analysis results are IDQ = 7.97 mA and VGSQ = 2.91 V. The small-signal transconductance is therefore gm = 2Kn(VGSQ − VT N ) = 2(4)(2.91 − 1.5) = 11.3 mA/V and the small-signal transistor resistance is ro ∼= [λI ]−1 DQ = [(0.01)(7.97)]−1 = 12.5 k The amplifier input resistance is Ri = R1 ‖R2 = 162 ‖463 = 120 k nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 229 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 229 The small-signal voltage gain then becomes = gm(RS ‖r A o ) v + ‖ · Ri 1 gm(RS ro ) Ri + RSi = (11.3)(0.75 ‖12.5 ) · 120 + = +0.860 1 (11.3)(0.75 ‖12.5 ) 120 + 4 Comment: The magnitude of the small-signal voltage gain is less than 1. An examination of Equation (4.33(b)) shows that this is always true. Also, the voltage gain is positive, which means that the output signal voltage is in phase with the input signal voltage. Since the output signal is essentially equal to the input signal, the circuit is called a source follower. EXERCISE PROBLEM Ex 4.7: The source-follower circuit in Figure 4.26 has transistor parameters VT N = +0.8 V, Kn = 1 mA/V2, and λ = 0.015 V−1. Let VDD = 10 V, RSi = 200 , and R1 + R2 = 400 k. Design the circuit such that IDQ = 1.5 mA and VDSQ = 5 V. Determine the small-signal voltage gain. (Ans. RS = 3.33 k, R1 = 119 k, R2 = 281, k, Av = 0.884) Although the voltage gain is slightly less than 1, the source follower is an extremely useful circuit because the output resistance is less than that of a common- source circuit, as we will show in the next section. A small output resistance is desirable when the circuit is to act as an ideal voltage source and drive a load circuit without suffering any loading effects. DESIGN EXAMPLE 4.8 Objective: Design a source-follower amplifier with a p-channel enhancement-mode MOSFET to meet a set of specifications. Specifications: The circuit to be designed has the configuration shown in Figure 4.28 with circuit parameters VDD = 20 V and RSi = 4 k. The Q-point values are to be in the center of the load line with IDQ = 2.5 mA. The input resistance is to VDD RS RR 1 i vO RC Si C1 v + i R – 2 Figure 4.28 PMOS source follower nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 230 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 230 Part 1 Semiconductor Devices and Basic Applications be Ri = 200 k. The transistor W/L ratio is to be designed such that the small signal voltage gain is Av = 0.90. Choices: A transistor with nominal parameters V = −2 V, k ′ = 40 μA/V2 T Pp , and λ = 0 is available. Solution (dc analysis): From a KVL equation around the source-to-drain loop, we have VDD = VSDQ + IDQ RS or 20 = 10 + (2.5)RS which yields the required source resistor to be RS = 4 k. Solution (ac design): The small-signal voltage gain of this circuit is the same as that of a source follower with an NMOS device. From Equation (4.33(a)), we have Av = Vo = gm RS · Ri Vi 1 + gm RS Ri + RSi which yields = gm(4) 200 0.90 1 + · gm(4) 200 + 4 We find that the required transconductance must be gm = 2.80 mA/V. The transconductance ca√n be written as gm = 2 Kp IDQ We have √ 2.80 × 10−3 = 2 K (2.5 × 10−3 p ) which yields Kp = 0.784 × 10−3A/V2 The conduction parameter, as a functio(n of width-to)-len(gth r)atio, is k ′ = p W 40 × 10−6 W Kp 0.784 × 10−3 = · = · 2 L 2 L which means that the required width-to-length ratio must be W = 39.2 L Solution (dc design): Completing the dc analysis and design, we have IDQ = Kp(V 2 GSQ + VT P) or 2.5 = 0.784(VSG Q − 2)2 which yields a quiescent source-to-gate voltage of VSG Q = 3.79 V. The quiescent source-to-gate voltage can also b(e written as) = R VSG Q (VDD − I 2 DQ RS) − + (V RR DD) 1 2 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 231 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 231 Sinc(e ) ( )( ) ( ) R2 = 1 R1 R2 1 R1 + + = · RR2 R1 R1 R i 2 R1 we have ( ) 1 3.79 = [20 − (2.5)(4)] − (200)(20) R1 The bias resistor R1 is then found to be R1 = 644 k Since Ri = R1‖R2 = 200 k, we find R2 = 290 k Comment: In order to achieve the desired specifications, a relatively large transconductance is required, which means that a relatively large transistor is needed. A large value of input resistance Ri has minimized the effect of loading due to the output resistance, RSi, of the signal source. EXERCISE PROBLEM Ex 4.8: The circuit and transistor parameters for the source-follower amplifier shown in Figure 4.29 are RS = 2 k, VT P = −1.2 V, k ′ p = 40 μA/V2, and λ = 0. (a) Design the transistor width-to-length ratio such that IDQ = 1.5 mA. (b) Find the small-signal voltage gain. (c) Using the results of part (a), determine the value of RL that will result in a 10 percent reduction in voltage gain. (Ans. (a) W/L = 117, (b) Av = 0.882, (c) RL = 2.12 k) +5 V RS v Co C1 CC2 RL v + RG = i – 500 kΩ –5 V Figure 4.29 Figure for Exercise Ex 4.8 4.4.2 Input and Output Impedance The small-signal input resistance Ri as defined in Figure 4.27(b), for example, is the Thevenin equivalent resistance of the bias resistors. Even though the input resistance to the gate of the MOSFET is essentially infinite, the input bias resistances do provide a loading effect. This same effect was seen in the common-source circuits. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 232 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 232 Part 1 Semiconductor Devices and Basic Applications R Ro Si + Vgs – Ix R1⎪⎪R2 gmVgs RS r + o V – x Figure 4.30 Equivalent circuit of NMOS source follower, for determining output resistance To calculate the small-signal output resistance, we set all independent small- signal sources equal to zero, apply a test voltage to the output terminals, and measure a test current. Figure 4.30 shows the circuit we will use to determine the output resistance of the source follower shown in Figure 4.26. We set Vi = 0 and apply a test voltage Vx. Since there are no capacitances in the circuit, the output impedance is simply an output resistance, which is defined as V Rx o = (4.34) Ix Writing a KCL equation at the output source terminal produces Ix + V V gm V = x + x gs (4.35) RS ro Since there is no current in the input portion of the circuit, we see that Vgs = −Vx . Therefore, Eq(uation (4.35) be)comes Ix = 1 1 Vx gm + + (4.36(a)) RS ro or Ix = 1 = + 1 1 gm + (4.36(b)) Vx Ro RS ro The output resistance is then = 1 Ro ‖RS‖ro (4.37) gm From Figure 4.30, we see that the voltage Vgs is directly across the current source gm Vgs . This means that the effective resistance of the device is 1/gm . The output resistance given by Equation (4.37) can therefore be written directly. This result also means that the resistance looking into the source terminal (ignoring ro) is 1/gm , as previously noted. EXAMPLE 4.9 Objective: Calculate the output resistance of a source-follower circuit. Consider the circuit shown in Figure 4.26 with circuit and transistor parameters given in Example 4.7. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 233 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 233 Solution: The results of Example 4.7 are: RS = 0.75 k, ro = 12.5 k, and gm = 11.3 mA/V. Using Figure 4.30 and Equation (4.37), we find 1 1 Ro = ‖RS‖ro = ‖0.75‖12.5 gm 11.3 or Ro = 0.0787 k = 78.7  Comment: The output resistance of a source-follower circuit is dominated by the transconductance parameter. Also, because the output resistance is very low, the source follower tends to act like an ideal voltage source, which means that the output can drive another circuit without significant loading effects. EXERCISE PROBLEM Ex 4.9: Consider the circuit shown in Figure 4.28 with circuit parameters VDD = 5 V, RS = 5 k, R1 = 70.7 k, R2 = 9.3 k, and RSi = 500 . The transistor parameters are: VT P = −0.8 V, K 2 p = 0.4 mA/V , and λ = 0. Calculate the small-signal voltage gain Av = vo/vi and the output resistance Ro seen looking back into the circuit. (Ans. Av = 0.817, Ro = 0.915 k) Test Your Understanding TYU 4.8 For an NMOS source-follower circuit, the parameters are gm = 4 mA/V and ro = 50 k. (a) Find the no load (RS = ∞) small-signal voltage gain and the output resistance. (b) Determine the small-signal voltage gain when a 4 k load is connected to the output. (Ans. (a) Av = 0.995, Ro ∼= 0.25 k; (b) Av = 0.937) TYU 4.9 The transistor in the source-follower circuit shown in Figure 4.31 is biased with a constant current source. The transistor parameters are: VT N = 2 V, k ′ n = 40 μA/V2, and λ = 0.01 V−1. The load resistor is RL = 4 k. (a) Design the transistor width-to-length ratio such that gm = 2 mA/V when I = 0.8 mA. What is the corresponding value for VGS? (b) Determine the small-signal voltage gain and the output resistance Ro. (Ans. (a) W/L = 62.5, VGS = 2.8 V; (b) Av = 0.886, Ro ∼= 0.5 k) +9 V RC o C v + R i G = v – o 100 kΩ I RL –9 V Figure 4.31 Figure for Exercise TYU 4.9 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 234 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 234 Part 1 Semiconductor Devices and Basic Applications 4.5 THE COMMON-GATE CONFIGURATION Objective: • Analyze the common-gate amplifier and become familiar with the general characteristics of this circuit. The third amplifier configuration is the common-gate circuit. To determine the small-signal voltage and current gains, and the input and output impedances, we will use the same small-signal equivalent circuit for the transistor that was used previously. The dc analysis of the common-gate circuit is the same as that of previous MOSFET circuits. 4.5.1 Small-Signal Voltage and Current Gains In the common-gate configuration, the input signal is applied to the source terminal and the gate is at signal ground. The common-gate configuration shown in Figure 4.32 is biased with a constant-current source IQ. The gate resistor RG prevents the buildup of static charge on the gate terminal, and the capacitor CG ensures that the gate is at signal ground. The coupling capacitor CC1 couples the signal to the source, and coupling capacitor CC2 couples the output voltage to load resistance RL. Ri RC Si C1 CC2 vo iv + ii IR R – Q D L RG CG V – V+ Figure 4.32 Common-gate circuit R g R i mVgs Ro Si S Vo – Ii V + gs Vi – R + D Io RL G Figure 4.33 Small-signal equivalent circuit of common-gate amplifier The small-signal equivalent circuit is shown in Figure 4.33. The small-signal transistor resistance ro is assumed to be infinite. Since the source is the input terminal, the small-signal equivalent circuit shown in Figure 4.33 may appear to be different from those considered previously. However, to sketch the equivalent circuit, we can use the same technique as used previously. Sketch in the three terminals of the"
4.5 The Common-Gate Configuration,"4.5 THE COMMON-GATE CONFIGURATION Objective: • Analyze the common-gate amplifier and become familiar with the general characteristics of this circuit. The third amplifier configuration is the common-gate circuit. To determine the small-signal voltage and current gains, and the input and output impedances, we will use the same small-signal equivalent circuit for the transistor that was used previously. The dc analysis of the common-gate circuit is the same as that of previous MOSFET circuits. 4.5.1 Small-Signal Voltage and Current Gains In the common-gate configuration, the input signal is applied to the source terminal and the gate is at signal ground. The common-gate configuration shown in Figure 4.32 is biased with a constant-current source IQ. The gate resistor RG prevents the buildup of static charge on the gate terminal, and the capacitor CG ensures that the gate is at signal ground. The coupling capacitor CC1 couples the signal to the source, and coupling capacitor CC2 couples the output voltage to load resistance RL. Ri RC Si C1 CC2 vo iv + ii IR R – Q D L RG CG V – V+ Figure 4.32 Common-gate circuit R g R i mVgs Ro Si S Vo – Ii V + gs Vi – R + D Io RL G Figure 4.33 Small-signal equivalent circuit of common-gate amplifier The small-signal equivalent circuit is shown in Figure 4.33. The small-signal transistor resistance ro is assumed to be infinite. Since the source is the input terminal, the small-signal equivalent circuit shown in Figure 4.33 may appear to be different from those considered previously. However, to sketch the equivalent circuit, we can use the same technique as used previously. Sketch in the three terminals of the nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 235 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 235 transistor with the source at the input for this case. Then draw in the transistor equivalent circuit between the three terminals and then sketch in the remaining circuit elements around the transistor. The output voltage is Vo = −(gm Vgs)(RD‖RL) (4.38) Writing the KVL equation around the input, we find Vi = Ii RSi − Vgs (4.39) where Ii = −gm Vgs . The gate-to-source voltage can then be written as Vgs = −Vi + (4.40) 1 gm RSi The small-signal voltage gain is found to be = Vo = gm(RD‖RL) Av + (4.41) Vi 1 gm RSi Also, since the voltage gain is positive, the output and input signals are in phase. In many cases, the signal input to a common-gate circuit is a current. Figure 4.34 shows the small-signal equivalent common-gate circuit with a Norton equivalent circuit as the signal source. We can calculate a current gain. The output current Io can be written( ) RI Do = + (−gm Vgs) (4.42) RD RL At the input we have + V Ii g gs m Vgs + = 0 (4.43) RSi or ( ) Vgs = − RI Si i + (4.44) 1 gm RSi The small-signal( current gai)n is( then ) Ai = Io = RD · gm RSi (4.45) Ii RD + RL 1 + gm RSi We may note that if RD RL and gm RSi 1, then the current gain is essentially unity. gmVgs – Ii RSi Vgs RD IR o L + Flgure 4.34 Small-signal equivalent circuit of common-gate amplifier with a Norton equivalent signal source nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 236 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 236 Part 1 Semiconductor Devices and Basic Applications 4.5.2 Input and Output Impedance In contrast to the common-source and source-follower amplifiers, the common-gate circuit has a low input resistance because of the transistor. However, if the input signal is a current, a low input resistance is an advantage. The input resistance is defined, using Figure 4.33, as Ri = −Vgs (4.46) Ii Since Ii = −gm Vgs , the input resistance is = 1 Ri (4.47) gm This result has been obtained previously. We can find the output resistance by setting the input signal voltage equal to zero. From Figure 4.33, we see that Vgs = −gm Vgs RSi , which means that Vgs = 0. Consequently, gm Vgs = 0. The output resistance, looking back from the load resistance, is therefore Ro = RD (4.48) EXAMPLE 4.10 Objective: For the common-gate circuit, determine the output voltage for a given input current. For the circuits shown in Figures 4.32 and 4.34, the circuit parameters are: IQ = 1 mA, V + = 5 V, V − = −5 V, RG = 100 k, RD = 4 k, and RL = 10 k. The transistor parameters are: VT N = 1 V, K 2 n = 1 mA/V , and λ = 0. Assume the input current in Figure 4.34 is 100 sin ωt μA and assume RSi = 50 k. Solution: The quiescent gate-to-source voltage is determined from IQ = IDQ = Kn(VGSQ − V 2 TN ) or 1 = 1(V 2 GSQ − 1) which yields VGSQ = 2 V The small-signal transconductance is gm = 2Kn(VGSQ − VT N ) = 2(1)(2 − 1) = 2 mA/V From E(quation (4.4)5),(we can write) the output current as I = RI D · gm RSi oi RD + RL 1 + gm RSi The output v(oltage is Vo)=(Io RL , so we )find RR g RV = IL D · m Si oi RD + RL 1 + gm RSi nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 237 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 237 [ ] [ ] = (10)(4) · (2)(50) + + · (0.1) sin ωt 4 10 1 (2)(50) or Vo = 0.283 sin ωt V Comment: The MOSFET common-gate amplifier is useful if the input signal is a current. EXERCISE PROBLEM Ex 4.10: Consider the circuit shown in Figure 4.35 with circuit parameters V + = 5 V, V − = −5 V, RS = 4 k, RD = 2 k, RL = 4 k and RG = 50 k. The transistor parameters are: Kp = 1 mA/V2, VT P = −0.8 V, and λ = 0. Draw the small-signal equivalent circuit, determine the small-signal voltage gain Av = Vo/Vi , and find the input resistance Ri. (Ans. Av = 2.41, Ri = 0.485 k) Ri CC1 CC 2 vo v + i RS RD RL RG CG V + V – Flgure 4.35 Figure for Exercise Ex 4.10 Test Your Understanding TYU 4.10 For the circuit shown in Figure 4.32, the circuit parameters are: V + = 5 V, V − = −5 V, RG = 100 k, RL = 4 k, and IQ = 0.5 mA. The transistor parameters are VT N = 1 V and λ = 0. The circuit is driven by a signal current source Ii. Redesign RD and gm such that the transfer function Vo/Ii is 2.4 k and the input resistance is Ri = 350 . Determine VGSQ and show that the transistor is biased in the saturation region. (Ans. gm = 2.86 mA/V, RD = 6 k, VGSQ = 1.35 V) 4.6 THE THREE BASIC AMPLIFIER CONFIGURATIONS: SUMMARY AND COMPARISON Objective: • Compare the general characteristics of the three basic amplifier configurations."
4.6 The Three Basic Amplifier Configurations: Summary and Comparison,"4.6 THE THREE BASIC AMPLIFIER CONFIGURATIONS: SUMMARY AND COMPARISON Objective: • Compare the general characteristics of the three basic amplifier configurations. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 238 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 238 Part 1 Semiconductor Devices and Basic Applications Table 4.2 Characteristics of the three MOSFET amplifier configurations Voltage Current Input Output Configuration gain gain resistance resistance Common source Av > 1 — RTH Moderate to high Source follower Av =∼ 1 — RTH Low Common gate Av > 1 Ai ∼= 1 Low Moderate to high Table 4.2 is a summary of the small-signal characteristics of the three amplifier configurations. The common-source amplifier voltage gain magnitude is generally greater than 1. The voltage gain of the source follower is slightly less than 1, and that of the common-gate circuit is generally greater than 1. The input resistance looking directly into the gate of the common-source and source-follower circuits is essentially infinite at low to moderate signal frequencies. However, the input resistance of these discrete amplifiers is the Thevenin equivalent resistance RTH of the bias resistors. In contrast, the input resistance to the common- gate circuit is generally in the range of only a few hundred ohms. The output resistance of the source follower is generally in the range of a few hundred ohms or less. The output resistance of the common-source and common- gate configurations is dominated by the resistance RD. In Chapters 10 and 11, we will see that the output resistance of these configurations is dominated by the resistance ro when transistors are used as load devices in ICs. The specific characteristics of these single-stage amplifiers are used in the design of multistage amplifiers. 4.7 SINGLE-STAGE INTEGRATED CIRCUIT MOSFET AMPLIFIERS Objective: • Analyze all-MOS transistor circuits that become the foundation of integrated circuits. In the last chapter, we considered three all-MOSFET inverters and plotted the voltage transfer characteristics. All three inverters use an n-channel enhancement-mode driver transistor. The three types of load devices are an n-channel enhancement-mode device, an n-channel depletion-mode device, and a p-channel enhancement-mode device. The MOS transistor used as a load device is referred to as an active load. We mentioned that these three circuits can be used as amplifiers. In this section, we revisit these three circuits and consider their amplifier characteristics. We will emphasize the small-signal equivalent circuits. This section serves as an introduction to more advanced MOS integrated circuit amplifier designs considered in Part 2 of the text."
4.7 Single-Stage Integrated Circuit MOSFET Amplifiers,"4.7 SINGLE-STAGE INTEGRATED CIRCUIT MOSFET AMPLIFIERS Objective: • Analyze all-MOS transistor circuits that become the foundation of integrated circuits. In the last chapter, we considered three all-MOSFET inverters and plotted the voltage transfer characteristics. All three inverters use an n-channel enhancement-mode driver transistor. The three types of load devices are an n-channel enhancement-mode device, an n-channel depletion-mode device, and a p-channel enhancement-mode device. The MOS transistor used as a load device is referred to as an active load. We mentioned that these three circuits can be used as amplifiers. In this section, we revisit these three circuits and consider their amplifier characteristics. We will emphasize the small-signal equivalent circuits. This section serves as an introduction to more advanced MOS integrated circuit amplifier designs considered in Part 2 of the text. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 239 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 239 4.7.1 Load Line Revisited In dealing with all-transistor circuits, it will be instructive to consider the equivalent VDD load lines that we have considered previously in circuits with resistive loads. Before we deal with the nonlinear load lines or load curves, it maybe worthwhile to revisit + RD V the load line concept of a single transistor with a resistive load. RI – Figure 4.36 shows a single MOSFET with a resistive load. The current–voltage D V characteristic of the resistive load device is given by Ohm’s law, or VR = IO D RD . This + curve is plotted in the top portion of Figure 4.37. The load line is given by the KVL V VI DS equation around the drain-source loop, or VDS = VDD − ID RD , and is superimposed – on the transistor characteristics in the lower portion of Figure 4.37. We may note that the last term in the load line equation, ID RD , is the voltage across the load device. Figure 4.36 Single MOSFET circuit with resistive load ID VDD B RD Load device A 0 VDD VR ID VDD B' RD VGS3 VGS2 Load line VGS1 A' 0 VDD VDS Figure 4.37 The IV curve for the resistor load device (top) and the load line superimposed on the transistor characteristics (bottom) We may compare two points on the load device characteristic to the load line. When ID = 0, VR = 0 on the load characteristic curve denoted by point A. On the load line, the ID = 0 point corresponds to VDS = VDD , denoted by the point A′. The maximum current on the load characteristic curve occurs when VR = VDD and is denoted by point B. On the load line, the maximum current point corresponds to VDS = 0, denoted by point B ′. The load line can be created by taking the mirror image of the load characteristic curve and superimposing this curve on the plot of transistor characteristics. We will see this same effect in the following sections. 4.7.2 NMOS Amplifiers with Enhancement Load The characteristics of an n-channel enhancement load device were presented in the last chapter. Figure 4.38(a) shows an NMOS enhancement load transistor, and Figure 4.38(b) shows the current–voltage characteristics. The threshold voltage is VT N L . nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 240 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 240 Part 1 Semiconductor Devices and Basic Applications iD VDS (sat) = VGS – VTNL Transistor characteristics iD(max) iD + vDS – V v TNL DD vDS (a) (b) Figure 4.38 (a) NMOS enhancement-mode transistor with gate and drain connected in a load device configuration and (b) current–voltage characteristics of NMOS enhancement load transistor Figure 4.39(a) shows an NMOS amplifier with enhancement load. The driver transistor is MD and the load transistor is ML. The characteristics of transistor MD and the load curve are shown in Figure 4.39(b). The load curve is essentially the mirror image of the iv characteristic of the load device, as we discussed in the last section. Since the iv characteristics of the load device are nonlinear, the load curve is also nonlinear. The load curve intersects the voltage axis at VDD − VT N L , which is the point where the current in the enhancement load device goes to zero. The transition point is also shown on the curve. The voltage transfer characteristic is also useful in visualizing the operation of the amplifier. This curve is shown in Figure 4.39(c). When the enhancement-mode driver first begins to conduct, it is biased in the saturation region. For use as an amplifier, the circuit Q-point should be in this region, as shown in both Figures 4.39(b) and (c). We can now apply the small-signal equivalent circuits to find the voltage gain. In the discussion of the source follower, we found that the equivalent resistance looking into the source terminal (with RS = ∞) was Ro = (1/gm)‖ro . The small-signal equivalent circuit of the inverter is given in Figure 4.40, where the subscripts D and L refer to the driver and load transistors, respectively. We are again neglecting the body effect of the load transistor. The small-signal vo(ltage gain is then = VA o = −gm D roD ∥∥∥∥ ∥∥∥∥ ) 1 v roL (4.49) Vi gmL Since, generally, 1/gmL  roL and 1/gm D  roD , the voltage gain, to a good approximation is given√ by √ = −gm D = − KnD = − (W/L) AD v (4.50) gmL KnL (W/L)L The voltage gain, then, is related to the size of the two transistors. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 241 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 241 VDD ii DD + iD(max) ML vDSL + – vGSL – vO Transition point + Q-point MD vDSD + v + – Load curve i – vGSD – + VGS VDD vDSD = v – O VTNL (a) (b) vO MD MD in MD in cutoff saturation nonsaturation VDD – VTNL Cutoff point Q-point Transition point 0 VTND vGSD (c) Figure 4.39 (a) NMOS amplifier with enhancement load device; (b) driver transistor characteristics and enhancement load curve with transition point; and (c) voltage transfer characteristics of NMOS amplifier with enhancement load device Vo + + 1 Vi Vgs roD r g oL mL gmDVgs – – MD ML Figure 4.40 Small-signal equivalent circuit of NMOS inverter with enhancement load device nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 242 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 242 Part 1 Semiconductor Devices and Basic Applications DESIGN EXAMPLE 4.11 Objective: Design an NMOS amplifier with an enhancement load to meet a set of specifications. Specifications: An NMOS amplifier with the configuration shown in Figure 4.39(a) is to be designed to provide a small-signal voltage gain of |Av| = 10. The Q-point is to be in the center of the saturation region. The circuit is to be biased at VDD = 5 V. Choices: NMOS transistors with parameters V = 1 V, k ′ TN n = 60 μA/V2, and λ = 0 are available. The minimum width-to-length ratio is (W/L)min = 1. Tolerances of ±5 percent in the k ′ n and VTN parameters must be considered. Solution (ac desig√n): From Equation (4.50), we have |Av| = = (W/L) 10 D (W/L)L whic(h can) be writte(n as ) W = W 100 L D LL If we set (W/L)L = 1, then (W/L)D = 100. Solution (dc design): Setting the currents in the two transistors equal to each other (both transistors biased in saturation region), we have i = K (v − V )2 2 DD nD GSD TN D = iDL = KnL(vGSL − VT N L) From Figure 4.39(a), we see that vGSL = VDD − vO . Substituting, we have KnD(vGSD − VT ND)2 = KnL(VDD − vO − V 2 TN L) Solving for vO, we have √ = KnD vO (VDD − VT N L) − (v K GSD − VT ND) nL At the transition point, vOt = vDSD(sat) = vGSDt − VT ND where vGSDt is the gate-to-source voltage√ of the driver at the transition point. Then KnD vGSDt − VT ND = (VDD − VT N L) − (v K GSDt − VT ND) nL Solving for vGSDt, we obtain ( √ ) (VDD − K V nD TN L) +√VT ND 1 + KnL vGSDt = + K 1 nD KnL Noti√ng that √ KnD = (W/L)D = 10 KnL (W/L)L nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 243 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 243 we find (5 − 1) + (1)(1 + 10) vGSDt = + = 1.36 V 1 10 and vOt = vDSDt = vGSDt − VT ND = 1.36 − 1 = 0.36 V Considering the transfer characteristics shown in Figure 4.41, we see that the center of the saturation region is halfway between the cutoff point (vGSD = VT ND = 1 V) and the transition point (vGSdt = 1.36 V), or 1.36 − 1.0 VGSQ = + 1.0 = 1.18 V 2 Also 4 − 0.36 VDSDQ = + 0.36 = 2.18 V 2 Tradeoffs: Considering the tolerances in the k ′ n parameter, we find the range in the small-signal vo√ltage gain to be k ′ √ | | = nD · (W/L)D = 1.05 Av max ′ · (100) = 10.5 knL (W/L)L 0.95 and √ ′ √ | | = knD · (W/L) AD v min ′ = 0.95 · (100) = 9.51 knL (W/L)L 1.05 vO (V) 5 Cutoff point 4 3 Q-point VDSDQ = 2.18 2 1 Transition point 0.36 0 1.0 1.2 1.4 1.6 vGSD (V) VGSQ = 1.18 V 1.36 V Figure 4.41 Voltage transfer characteristics and Q-point of NMOS amplifier with enhancement load, for Example 4.11 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 244 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 244 Part 1 Semiconductor Devices and Basic Applications The tolerances in the k ′ n and VT N parameters will also affect the Q-point. This analysis is left as an end-of-chapter problem. Comment: These results show that a very large difference is required in the sizes of the two transistors to produce again of 10. In fact, again of 10 is about the largest practical gain that can be produced by an enhancement load device. A larger small- signal gain can be obtained by using a depletion-mode MOSFET as a load device, as shown in the next section. Design Pointer: The body effect of the load transistor was neglected in this analysis. The body effect will actually lower the small-signal voltage gain from that determined in the example. EXERCISE PROBLEM Ex 4.11: The bias voltage for the enhancement-load amplifier shown in Figure 4.39(a) is VDD = 3.3 V. The transistor parameters are VT ND = VT N L = 0.4 V, k ′ n = 100 μA/V2, (W/L)L = 1.2, and λ = 0. (a) Design the circuit such that the small-signal voltage gain is |Av| = 8. (b) Determine VGSDQ such that the Q-point is in the center of the saturation region. (Ans. (a) (W/L)D = 76.8, (b) VGSDQ = 0.561 V). 4.7.3 NMOS Amplifier with Depletion Load Figure 4.42(a) shows the NMOS depletion-mode transistor connected as a load device and Figure 4.42(b) shows the current–voltage characteristics. The transition point is also indicated. The threshold voltage VTNL of this device is negative, which means that the vDS value at the transition point is positive. Also, the slope of the curve in the saturation region is not zero; therefore, a finite resistance ro exists in this region. Figure 4.43(a) shows an NMOS depletion load amplifier. The transistor characteristics of MD and the load curve for the circuit are shown in Figure 4.43(b). The load curve, again, is the mirror image of the iv characteristic of the load device. Since the iv characteristics of the load device are nonlinear, the load curve is also nonlinear. The transition points for both MD and ML are also indicated. Point A is the transition point for MD, and point Bis the transition point for ML. The Q-point should be approximately midway between the two transition points. iD iD vDS(sat) = –VTNL iv (max) GS = 0 D 1 + Slope = r v ODS Transition – point vDD vDS (a) (b) Flgure 4.42 (a) NMOS depletion-mode transistor with gate and source connected in a load device configuration and (b) current–voltage characteristic of NMOS depletion load transistor nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 245 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 245 VDD iD iD + Q-point VGSD M v Load curve L DSL – A vO + iD(max) MD vDSD – v + i – + VB GSDQ C – VDD vDSD (a) (b) vO III III IIV VDD C VDD – ⎜VTNL ⎜ B Q-point A 0 VTND vGSD (c) Figure 4.43 (a) NMOS amplifier with depletion load device; (b) driver transistor characteristics and depletion load curve, with transition points between saturation and nonsaturation regions; (c) voltage transfer characteristics The dc voltage VGSDQ biases transistor MD in the saturation region at the Q-point. The signal voltage vi superimposes a time-varying gate-to-source voltage on the dc value, and the bias point moves along the load curve about the Q-point. Again, both MD and ML must be biased in their saturation regions at all times. The voltage transfer characteristic of this circuit is shown in Figure 4.43(c). Region III corresponds to the condition in which both transistors are biased in the saturation region. The desired Q-point is indicated. We can again apply the small-signal equivalent circuit to find the small-signal voltage gain. Since the gate-to-source voltage of the depletion-load device is held at zero, the equivalent resistance looking into the source terminal is Ro = ro . nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 246 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 246 Part 1 Semiconductor Devices and Basic Applications Vo + + Vi Vgs roD roL gmDVgs – – MD ML Figure 4.44 Small-signal equivalent circuit of NMOS inverter with depletion load device The small-signal equivalent circuit of the inverter is given in Figure 4.44, where the subscripts D and L refer to the driver and load transistors, respectively. We are again neglecting the body effect of the load device. The small-signal voltage gain is then VA = o v = −gm D(roD‖roL) (4.51) Vi In this circuit, the voltage gain is directly proportional to the output resistances of the two transistors. EXAMPLE 4.12 Objective: Determine the small-signal voltage gain of the NMOS amplifier with depletion load. For the circuit shown in Figure 4.43(a), assume transistor parameters of V = +0.8 V, V = −1.5 V, K = 1 mA/V2, K = 0.2 mA/V2 TN D TN L nD nL , and λD = λ = 0.01 V−1 L . Assume the transistors are biased at IDQ = 0.2 mA. Solution: The transconducta√nce of the driver is gm D = √ 2 KnD IDQ = 2 (1)(0.2) = 0.894 mA/V Since λD = λL , the output resistances are roD = roL = 1 = 1 = 500 k λIDQ (0.01)(0.2) The small-signal voltage gain is then Av = −gm D(roD‖roL) = −(0.894)(500‖500) = −224 Comment: The voltage gain of the NMOS amplifier with depletion load is, in general, significantly larger than that with the enhancement load device. The body effect will lower the ideal gain factor. Discussion: One aspect of this circuit design that we have not emphasized is the dc biasing. We mentioned that both transistors need to be biased in their saturation regions. From Figure 4.43(a), this dc biasing is accomplished with the dc source VGSDQ . However, because of the steep slope of the transfer characteristics (Figure 4.43(c)), applying the “correct” voltage becomes difficult. As we will see in the next section, dc biasing is generally accomplished with current source biasing. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 247 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 247 EXERCISE PROBLEM Ex 4.12: Assume the depletion-load amplifier in Figure 4.43(a) is biased at IDQ = 0.1 mA. The transistor parameters are KnD = 250 μA/V2, KnL = 25 μA/V2, VT ND = 0.4 V, VT N L = −0.8 V, and λ1 = λ2 = 0.02 V−1. Determine the small-signal voltage gain. (Ans. Av = −79.1) 4.7.4 NMOS Amplifier with Active Loads CMOS Common-Source Amplifier An amplifier using an n-channel enhancement-mode driver and a p-channel enhancement mode active load is shown in Figure 4.45(a) in a common-source configuration. The p-channel active load transistor M2 is biased from M3 and IBias. This configuration is similar to the MOSFET current source shown in Figure 3.49 in Chapter 3. With both n- and p-channel transistors in the same circuit, this circuit is now referred to as a CMOS amplifier. The CMOS configuration is used almost exclusively rather than the NMOS enhancement load or depletion load devices. The iv characteristic curve for M2 is shown in Figure 4.45(b). The source-to- gate voltage is a constant and is established by M3. The driver transistor characteristics and the load curve are shown in Figure 4.45(c). The transition points of both M1 VDD + i Q-point 2 v V SG2 = VSG SG – + IBias M3 M2 vSD 1 2 slope = – rop i2 vo i1 Iv Bias SD2 + M1 vDS1 – (b) v + I – vO VDD (a) Bi1 Q-point Q-point AB Load curve A vDS1 VDD v1 (c) (d) Figure 4.45 (a) CMOS common-source amplifier; (b) PMOS active load iv characteristic, (c) driver transistor characteristics with load curve, (d) voltage transfer characteristics nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 248 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 248 Part 1 Semiconductor Devices and Basic Applications Vo + + V V r rigs on op gmnVgs – – M1 M2 Figure 4.46 Small-signal equivalent circuit of the CMOS common-source amplifier and M2 are shown. Point A is the transition point for M1 and point Bis the transition point for M2. The Q-point, to establish an amplifier, should be approximately halfway between points A and B, so that both transistors are biased in their saturation regions. The voltage transfer characteristics are shown in Figure 4.45(d). Shown on the curve are the same transition points A and Band the desired Q-point. We again apply the small-signal equivalent circuits to find the small-signal voltage gain. With vSG2 held constant, the equivalent resistance looking into the drain of M2 is just Ro = rop. The small-signal equivalent circuit of the inverter is then as given in Figure 4.46. The subscripts n and prefer to then-channel and p-channel transistors, respectively. We may note that the body terminal of M1 will be tied to ground, which is the same as the source of M1, and the body terminal of M2 will be tied to VDD, which is the same as the source of M2. Hence, there is nobody effect in this circuit. The small-signal voltage gain is A = Vo v = −gmn(ron‖rop) (4.52) Vi Again for this circuit, the small-signal voltage gain is directly proportional to the output resistances of the two transistors. EXAMPLE 4.13 Objective: Determine the small-signal voltage gain of the CMOS amplifier. For the circuit shown in Figure 4.45(a), assume transistor parameters of VT N = +0.8 V, V ′ 2 ′ 2 T P = −0.8 V, kn = 80 μA/V , kp = 40 μA/V , (W/L)n = 15, (W/L)p = 30, and λn = λp = 0.01 V−1. Also, assume IBias = 0.2 mA. Solution: Th√e transconduc√ta(nce of the NMOS driver is k ′ )( ) W gmn = 2 Kn In DQ = 2 I √ Bias ( ) 2 Ln = 0.08 2 (15)(0.2) = 0.693 mA/V 2 Since λn = λp , the output resistances are 1 1 ron = rop = = = 500 k λIDQ (0.01)(0.2) nea80644_ch04_205-284.qxd 06/13/2009 01:58 PM Page 249 F506 Hard disk:Desktop Folder:ALI-06-13-09:MHDQ134-04 Folder:MHDQ134-0 Chapter 4 Basic FET Amplifiers 249 The small-signal voltage gain is then Av = −gm(ron‖rop) = −(0.693)(500‖500) = −173 Comment: The voltage gain of the CMOS amplifier is on the same order of magnitude as the NMOS amplifier with depletion load. However, the CMOS amplifier does not suffer from the body effect. Discussion: In the circuit configuration shown in Figure 4.45(a), we must again apply a dc voltage to the gate of M1 to achieve the “proper” Q-point. We will show in later chapters using more sophisticated circuits how the Q-point is more easily established with current-source biasing. However, this circuit demonstrates the basic principles of the CMOS common-source amplifier. EXERCISE PROBLEM Ex 4.13: For the circuit shown in Figure 4.45(a), assume transistor parameters of VT N = +0.5 V, VT P = −0.5 V, k ′ n = 80 μA/V2, k ′ 2 − p = 40 μA/V , and λ 1 n = λp = 0.015 V . Assume IBias = 0.1 mA. Assume M2 and M3 are matched. Find the width-to-length ratio of M1 such that the small-signal voltage gain is Av = −250. (Ans. (W/L)1 = 35.2) CMOS Source-Follower Amplifier The same basic CMOS circuit configuration can be used to form a CMOS source- follower amplifier. Figure 4.47(a) shows a source-follower circuit. We see that for this source-follower circuit, the active load, which is M2, is an n-channel rather than a p-channel device. The input signal is applied to the gate of M1 and the output is at the source of M1. The small-signal equivalent circuit of this source-follower is shown in Figure 4.47(b). This circuit, with two signal grounds, is redrawn as shown in Figure 4.47(c) to combine the signal grounds. EXAMPLE 4.14 Objective: Determine the small-signal voltage gain and output resistance of the source-follower amplifier shown in Figure 4.47(a). Assume the reference bias current is IBias = 0.20 mA and the bias voltage is VDD = 3.3 V. Assume that all transistors are matched (identical) with parameters V 2 TN = 0.4 V, Kn = 0.20 mA/V , and λ = 0.01 V−1. We may note that since M3 and M2 are matched transistors and have the same gate-to-source voltages, the drain current in M1 is ID1 = IBias = 0.2 mA. Solution (voltage gain): From Figure 4.47(c), we find the small-signal output voltage to be Vo = gm1Vgs(ro1‖ro2) A KVL equation around the outside loop produces Vi = Vgs + Vo = Vgs + gm1Vgs(ro1‖ro2) nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 250 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 250 Part 1 Semiconductor Devices and Basic Applications VDD + V + i Vgs r – g V o1 m gs vI M1 Driver IBias – v + Or MM o2 Vo 3 2 Load – (a) (b) Ro Vo + V – + gs V – gs Ix V + i r r + – o1 o2 ro1 ro2 V – x gm Vgs gm Vgs (c) (d) Figure 4.47 (a) All NMOS source-follower circuit, (b) small-signal equivalent circuit, (c) reconfiguration of small-signal equivalent circuit, and (d) small-signal equivalent circuit for determining the output resistance or = V Vi gs 1 + gm1(ro1‖ro2) Substituting this equation for Vgs into the output voltage expression, we obtain the small-signal voltage gain as = VA o = gm1(ro1‖ro2) v Vi 1 + gm1(ro1‖ro2) The small-sig√nal equivalen√t circuit parameters are determined to be gm1 = 2 Kn ID1 = 2 (0.20)(0.20) = 0.40 mA/V and 1 1 ro1 = ro2 = = = 500 k λID (0.01)(0.20) The small-signal voltage gain is then = (0.40)(500‖500) Av 1 + (0.40)(500‖500) nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 251 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 251 or Av = 0.990 Solution (output resistance): The output resistance can be determined from the equivalent circuit shown in Figure 4.47(d). The independent source Vi is set equal to zero and a test voltage Vx is applied to the output. Summing currents at the output node, we find V VI xx x + gm1Vgs = + ro2 ro1 From the circ(uit, we see that Vg)s = −Vx . We then have = + 1 + 1 Ix Vx gm1 ro2 ro1 The output resistance is then given as = Vx = 1 Ro ‖r I go2‖ ro1 x m1 We find Ro = 1 ‖500‖ 500 0.40 or Ro = 2.48 k Comment: A voltage gain of Av = 0.99 is typical of a source-follower circuit. An output resistance of Ro = 2.48 k is relatively small for a MOSFET circuit and is also a characteristic of a source-follower circuit. EXERCISE PROBLEM Ex 4.14: The transconductance gm of the transistor in the circuit of Figure 4.47 is to be changed by changing the bias current such that the output resistance of the circuit is Ro = 2 k. Assume all other parameters areas given in Example 4.14. (a) What are the required values of gm and IBias? (b) Using the results of part (a), what is the small-signal voltage gain? (Ans. (a) ID = 0.3125 mA; (b) Av = 0.988) COMPUTER ANALYSIS EXERCISE PS 4.1: Using a PSpice analysis, investigate the small-signal voltage gain and output resistance of the source-follower circuit shown in Figure 4.47 taking into account the body effect. CMOS Common-Gate Amplifier Figure 4.48(a) shows a common-gate circuit. We see that in this common-gate circuit, the active load is the PMOS device M2. The input signal is applied to the source of M1 and the output is at the drain of M1. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 252 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 252 Part 1 Semiconductor Devices and Basic Applications VDD M3 M2 Load vO IBias VBias M1 Driver vI (a) ro1 ro1 Ro SD Vo – – g I m Vgs gm Vgs = 0 x V + i Vgs r Vgs = 0 r + – o2 o2 – Vx + + G (b) (c) Figure 4.48 (a) CMOS common-gate amplifier, (b) small-signal equivalent circuit, and (c) small-signal equivalent circuit for determining the output resistance The small-signal equivalent circuit of the common-gate circuit is shown in Figure 4.48(b). EXAMPLE 4.15 Objective: Determine the small-signal voltage gain and output resistance of the common-gate circuit shown in Figure 4.48(a). Assume the reference bias current is IBias = 0.20 mA and the bias voltage is VDD = 3.3 V. Assume that the transistor parameters are VT N = +0.4 V, VT P = −0.4 V, K = 0.20 mA/V2 n , Kp = 0.20 mA/V2, and λn = λp = 0.01 V−1. We may note that, since M2 and M3 are matched transistors and have the same source-to-gate voltage, the bias current in M1 is ID1 = IBias = 0.20 mA. Solution (voltage gain): From Figure 4.48(b), we can sum currents at the output node and obtain Vo + V − (−V g V o gs) rm1 gs + = 0 o2 ro1 or ( ) ( ) 1 + 1 + + 1 Vo V g = 0 ro2 r gs m1 o1 ro1 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 253 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 253 From the c(ircuit, we se to be )e that Vgs = −Vi . We then find the small-signal voltage gain + 1 (gm1 A = ro1 v ) 1 + 1 ro2 ro1 We find the s√mall-signal e√quivalent circuit parameters to be gm1 = 2 Kn ID1 = 2 (0.20)(0.20) = 0.40 mA/V and 1 1 ro1 = ro2 = = = 500 k λID1 (0.01)(0.20) We then fin(d ) 1 (0.40 + = 500 Av ) 1 + 1 500 500 or Av = 101 Solution (output resistance): The output resistance can be found from Figure 4.48(c). Summing currents at the output node, we find Ix = Vx + g V + Vx − (−Vgs) rm1 gs o2 ro1 However, Vgs = 0 so that gm1Vgs = 0. We then find V Ro = x = r Io1‖ro2 = 500‖500 xor Ro = 250 k Comment: A voltage gain of Av = +101 is typical of a common-gate amplifier. The output signal is in phase with respect to the input signal and the gain is relatively large. Also, a large output resistance of Ro = 250 k is typical of a common-gate amplifier in that the circuit acts like a current source. EXERCISE PROBLEM Ex 4.15: The transconductance gm of the transistor in the circuit of Figure 4.48 is to be changed by changing the bias current such that the small-signal voltage gain is Av = 120. Assume all other parameters areas given in Example 4.15. (a) What are the required values of gm and IBias? (b) Using the results of part (a), what is the output resistance? (Ans. (a) ID = 0.14 mA, gm = 0.335 mA/V; (b) Ro = 357 k) nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 254 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 254 Part 1 Semiconductor Devices and Basic Applications COMPUTER ANALYSIS EXERCISE PS 4.2: Using a PSpice analysis, investigate the small-signal voltage gain and output resistance of the common-gate amplifier shown in Figure 4.48 taking into account the body effect. Test Your Understanding TYU 4.11 For the enhancement load amplifier shown in Figure 4.39(a), the parameters are: V ′ 2 TN D = VT N L = 0.8 V, kn = 40 μA/V , (W/L)D = 80, (W/L)L = 1, and VDD = 5 V. Determine the small-signal voltage gain. Determine VGS such that the Q-point is in the middle of the saturation region. (Ans. Av = −8.94, VGS = 1.01 V) 4.8 MULTISTAGE AMPLIFIERS Objective: • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor amplifiers. In most applications, a single-transistor amplifier will not be able to meet the combined specifications of a given amplification factor, input resistance, and output resistance. For example, the required voltage gain may exceed that which can be obtained in a single-transistor circuit. We will consider, here, the ac analysis of the two multitransistor circuits investigated in Chapter 3. 4.8.1 Multistage Amplifier: Cascade Circuit The circuit shown in Figure 4.49 is a cascade of a common-source amplifier followed by a source-follower amplifier. As shown previously, the common-source amplifier V+ = 5 V RD1 = RR i 1 = 16.1 kΩ 383 kΩ RSi = C 4 kΩ CM MR 1 2 Co C2 vo v + i – R2 = 135 kΩ R = RS2 =S1 CR = Ω S L 3.9 k 8 kΩ 4 kΩ V – = –5 V Figure 4.49 Common-source amplifier in cascade with source follower"
4.8 Multistage Amplifiers,"4.8 MULTISTAGE AMPLIFIERS Objective: • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor amplifiers. In most applications, a single-transistor amplifier will not be able to meet the combined specifications of a given amplification factor, input resistance, and output resistance. For example, the required voltage gain may exceed that which can be obtained in a single-transistor circuit. We will consider, here, the ac analysis of the two multitransistor circuits investigated in Chapter 3. 4.8.1 Multistage Amplifier: Cascade Circuit The circuit shown in Figure 4.49 is a cascade of a common-source amplifier followed by a source-follower amplifier. As shown previously, the common-source amplifier V+ = 5 V RD1 = RR i 1 = 16.1 kΩ 383 kΩ RSi = C 4 kΩ CM MR 1 2 Co C2 vo v + i – R2 = 135 kΩ R = RS2 =S1 CR = Ω S L 3.9 k 8 kΩ 4 kΩ V – = –5 V Figure 4.49 Common-source amplifier in cascade with source follower nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 255 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 255 provides a small-signal voltage gain and the source follower has a low output impedance and provides the required output current. The resistor values are those determined in Section 3.5.1 of the previous chapter. The midband small-signal voltage gain of the multistage amplifier is determined by assuming that all external coupling capacitors act as short circuits and inserting the small-signal equivalent circuits for the transistors. EXAMPLE 4.16 Objective: Determine the small-signal voltage gain of a multistage cascade circuit. Consider the circuit shown in Figure 4.49. The transistor parameters are K = 0.5 mA/V2, K = 0.2 mA/V2 n1 n2 , VT N1 = VT N2 = 1.2 V, and λ1 = λ2 = 0. The quiescent drain currents are ID1 = 0.2 mA and ID2 = 0.5 mA. Solution: The small-signal equivalent circuit is shown in Figure 4.50. The small- signal transco√nductance pa√rameters are gm1 = 2 Kn1 ID1 = 2 (0.5)(0.2) = 0.632 mA/V and √ √ gm2 = 2 Kn2 ID2 = 2 (0.2)(0.5) = 0.632 mA/V The output voltage is Vo = gm2Vgs2(RS2‖RL) Also, Vgs2 + Vo = −gm1Vgs1 RD1 where ( ) Vgs1 = Ri Ri + · V R i Si Then ( ) = − RV gigs2 m1 RD1 · V − V Ri + Rio Si Therefore [ ( ) ] Vo = R g i m2 −gm1 RD1 + · Vi − Vo (RS2‖RL) Ri RSi Ri R gm2V Si gs2 + – Vo + Vgs2 V + i – R1⎪⎪ RR 2 Vgs1 D1 RS2 RL gm1Vgs1 – Figure 4.50 Small-signal equivalent circuit of NMOS cascade circuit nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 256 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 256 Part 1 Semiconductor Devices and Basic Applications The small-signal voltage gain is then ( ) A = Vo = −gm1gm2 RD1(RS2‖RL) v + ‖ · Ri Vi 1 gm2(RS2 RL) Ri + RSi or = − ( ) (0.632)(0.632)(16.1)(8‖4) 100 Av + ‖ · + = −6.14 1 (0.632)(8 4) 100 4 Comment: Since the small-signal voltage gain of the source follower is slightly less than 1, the overall gain is due essentially to the common-source input stage. Also, as shown previously, the output resistance of the source follower is small, which is desirable in many applications. EXERCISE PROBLEM Ex 4.16: For the cascade circuit shown in Figure 4.49, the transistor and circuit parameters are given in Example 4.16. Calculate the small-signal output resistance Ro. (The small-signal equivalent circuit is shown in Figure 4.50.) (Ans. Ro = 1.32 k) 4.8.2 Multistage Amplifier: Cascode Circuit Figure 4.51 shows a cascode circuit with n-channel MOSFETs. Transistor M1 is connected in a common-source configuration and M2 is connected in a common-gate configuration. The advantage of this type of circuit is a higher frequency response, which will be discussed in Chapter 7. The resistor values are those determined in Section 3.5.2 of the previous chapter. We will consider additional multistage and multitransistor circuits in Chapters 11 and 13. V+ = 5 V R = 2.5 kΩ RD 1 = 95.4 kΩ v CO GM2 R2 = 150 kΩ CC M1 + R3 =vi – 54.6 kΩ RS = C 10 kΩ S V – = –5 V Figure 4.51 NMOS cascode circuit nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 257 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 257 EXAMPLE 4.17 Objective: Determine the small-signal voltage gain of a cascode circuit. Consider the cascode circuit shown in Figure 4.51. The transistor parameters are Kn1 = Kn2 = 0.8 mA/V2, VT N1 = VT N2 = 1.2 V, and λ1 = λ2 = 0. The quiescent drain current is ID = 0.4 mA in each transistor. The input signal to the circuit is assumed to be an ideal voltage source. Solution: Since the transistors are identical and since the current in the two transistors is the same, the√ small-signa√l transconductance parameters are gm1 = gm2 = 2 Kn ID = 2 (0.8)(0.4) = 1.13 mA/V The small-signal equivalent circuit is shown in Figure 4.52. Transistor M1 supplies the source current of M2 with the signal current (gm1Vi). Transistor M2 acts as a current follower and passes this current on to its drain terminal. The output voltage is therefore Vo = −gm1Vgs1 RD gm2Vgs2 = gm1Vgs1 Vo + V + i R3⎪⎪R2 Vgs1 gm1Vgs1 RD – Figure 4.52 Small-signal equivalent circuit of NMOS cascode circuit Since Vgs1 = Vi , the small-signal voltage gain is Av = Vo = −g V m1 RD i or Av = −(1.13)(2.5) = −2.83 Comment: The small-signal voltage gain is essentially the same as that of a single common-source amplifier stage. The addition of a common-gate transistor will increase the frequency bandwidth, as we will see in a later chapter. EXERCISE PROBLEM Ex 4.17: The transistor parameters of the NMOS cascode circuit in Figure 4.51 are VT N1 = VT N2 = 0.8 V, Kn1 = Kn2 = 3 mA/V2, and λ1 = λ2 = 0. (a) Determine IDQ , VDSQ1, and VDSQ2. (b) Determine the small-signal voltage gain. (Ans. (a) IDQ = 0.471 mA, VDSQ1 = 2.5 V, VDSQ2 = 1.61 V; (b) Av = −5.94) nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 258 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 258 Part 1 Semiconductor Devices and Basic Applications *Test Your Understanding TYU 4.12 The transistor parameters of the circuit in Figure 4.49 are VT N1 = VT N2 = 0.6 V, K 2 n1 = 1.5 mA/V , Kn2 = 2 mA/V2, and λ1 = λ2 = 0. (a) Find IDQ1, IDQ2, VDSQ1, and VDSQ2. (b) Determine the small-signal voltage gain. (c) Find the output resistance Ro. (Ans. (a) IDQ1 = 0.3845 mA, IDQ2 = 0.349 mA, VDSQ1 = 2.31 V, VDSQ2 = 7.21 V; (b) Av = −20.3; (c) Ro = 402 ) 4.9 BASIC JFET AMPLIFIERS Objective: • Develop the small-signal model of JFET devices and analyze basic JFET amplifiers. Like MOSFETs, JFETs can be used to amplify small time-varying signals. Initially, we will develop the small-signal model and equivalent circuit of the JFET. We will then use the model in the analysis of JFET amplifiers. 4.9.1 Small-Signal Equivalent Circuit VDD Figure 4.53 shows a JFET circuit with a time-varying signal applied to the gate. The instantaneous gate-to-source voltage is iD RD vGS = VGS + vi = VGS + vgs (4.53) vO where vgs is the small-signal gate-to-source voltage. Assuming the transistor is biased + in the saturatio(n region, th)e instantaneous drain current is iG vDS 2 – = vGS + iD IDSS 1 − (4.54) v v + GS Vi – P – + where IDSS is the saturation current and VP is the pinchoff voltage. Substituting VGS Equation (4.53)[ i(nto (4.54),)we o(btain – )]2 iD = V v IDSS 1 − GS − gs (4.55) Figure 4.53 JFET common- VP VP source circuit with time- varying signal source in If we expand th(e squared )term, we have series with gate dc source 2 ( )( ) ( ) V V 2 = vi I 1 − GS − 2I 1 − GS gs + v I gs D DSS DSS DSS (4.56) VP VP VP VP The first term in Equation (4.56) is the dc or quiescent drain current IDQ, the second term is the time-varying drain current component, which is linearly related to the signal voltage vgs, and the third term is proportional to the square of the signal voltage. As in the case of the MOSFET, the third term produces a nonlinear distortion in the output curre∣∣nt. T∣∣o min(imize this )distortion, we will usually impose the following condition: ∣∣vgs ∣∣  V 2 1 − GS (4.57) VP VP"
4.9 Basic JFET Amplifiers,"4.9 BASIC JFET AMPLIFIERS Objective: • Develop the small-signal model of JFET devices and analyze basic JFET amplifiers. Like MOSFETs, JFETs can be used to amplify small time-varying signals. Initially, we will develop the small-signal model and equivalent circuit of the JFET. We will then use the model in the analysis of JFET amplifiers. 4.9.1 Small-Signal Equivalent Circuit VDD Figure 4.53 shows a JFET circuit with a time-varying signal applied to the gate. The instantaneous gate-to-source voltage is iD RD vGS = VGS + vi = VGS + vgs (4.53) vO where vgs is the small-signal gate-to-source voltage. Assuming the transistor is biased + in the saturatio(n region, th)e instantaneous drain current is iG vDS 2 – = vGS + iD IDSS 1 − (4.54) v v + GS Vi – P – + where IDSS is the saturation current and VP is the pinchoff voltage. Substituting VGS Equation (4.53)[ i(nto (4.54),)we o(btain – )]2 iD = V v IDSS 1 − GS − gs (4.55) Figure 4.53 JFET common- VP VP source circuit with time- varying signal source in If we expand th(e squared )term, we have series with gate dc source 2 ( )( ) ( ) V V 2 = vi I 1 − GS − 2I 1 − GS gs + v I gs D DSS DSS DSS (4.56) VP VP VP VP The first term in Equation (4.56) is the dc or quiescent drain current IDQ, the second term is the time-varying drain current component, which is linearly related to the signal voltage vgs, and the third term is proportional to the square of the signal voltage. As in the case of the MOSFET, the third term produces a nonlinear distortion in the output curre∣∣nt. T∣∣o min(imize this )distortion, we will usually impose the following condition: ∣∣vgs ∣∣  V 2 1 − GS (4.57) VP VP nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 259 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 259 Equation (4.57) represents the small-signal condition that must be satisfied for JFET amplifiers to be linear. Neglecting the term v2 gs in Equation (4.56), we can write iD = IDQ + id (4.58) where the time-vary(ing signal )current is = + 2Ii DSS V 1 − GS d − vgs (4.59) ( VP) VP The constant relating the small-signal drain current and small-signal gate-to-source voltage is the transconductance gm. We can write id = gmvgs (4.60) where ( ) gm = + 2IDSS VGS (− 1 − (4.61) VP) VP Since VP is negative for n-channel JFETs, the transconductance is positive. A relationship that appli(es to both )n-channel and p-channel JFETs is g = 2IDSS − V 1 GS m | | (4.62) VP VP We can also∣∣ obtain the transconductance from gm = ∂iD ∣∣ (4.63) ∂vGS vGS=VGSQ Since the transconductance is directly proportional to the saturation current IDSS, the transconductance is also a function of the width-to-length ratio of the transistor. Since we are looking into a reverse-biased pn junction, we assume that the input gate current ig is zero, which means that the small-signal input resistance is infinite. Equation (4.54) can be expanded to take into account the finite output resistance of a JFET biased in( the satura)tion region. The equation becomes 2 iD = − v I 1 GS DSS (1 + λvDS) (4.64) VP The small(-signal o)utp∣∣ut resistance is i −1 ro = ∂ D ∣∣∣ (4.65) ∂vDS vGS=const. Using Equ[ation (4(.64), we o)bta]in 2 −1 = − V r I 1 GS o λ DSS (4.66(a)) VP or ∼= −1 = 1 ro [λIDQ] (4.66(b)) λIDQ nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 260 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 260 Part 1 Semiconductor Devices and Basic Applications GD The small-signal equivalent circuit of then-channel JFET, shown in Figure 4.54, + is exactly the same as that of then-channel MOSFET. The small-signal equivalent V g V r circuit of the p-channel JFET is also the same as that of the p-channel MOSFET. gs m gs o However, the polarity of the controlling gate-to-source voltage and the direction of – the dependent current source are reversed from those of then-channel device. S Figure 4.54 Small-signal equivalent circuit of 4.9.2 Small-Signal Analysis n-channel JFET Since the small-signal equivalent circuit of the JFET is the same as that of the MOSFET, the small-signal analyses of the two types of circuits are identical. For illustration purposes, we will analyze two JFET circuits. EXAMPLE 4.18 Objective: Determine the small-signal voltage gain of a JFET amplifier. Consider the circuit shown in Figure 4.55 with transistor parameters IDSS = 12 mA, VP = −4 V, and λ = 0.008 V−1. Determine the small-signal voltage gain Av = vo/vi . Solution: Th(e dc quiesc)ent gate-to-source voltage is determined from VGSQ = R2 R1 + VDD − IDQ RR S 2 where ( ) = − V 2 II 1 GSQ DQ DSS VP Combining th(ese two equa)tions produces ( ) 180 V 2 VGSQ = + (20) − (12)(2.7) 1 − GSQ 180 420 (−4) which reduces to 2.025V 2 GSQ + 17.25VGSQ + 26.4 = 0 VDD = 20 V RD = 2.7 kΩ R1 = 420 kΩ vo CC C 2 C1 RL = 4 kΩ vi + R – 2 = 180 kΩ RS = 2.7 kΩ CS Figure 4.55 Common-source JFET circuit with source resistor and source bypass capacitor nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 261 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 261 The appropriate solution is VGSQ = −2.0 V The quiescen(t drain curre)nt is V 2 ( = − GSQ = − (− ) 2 2 .0) IDQ IDSS 1 (12) 1 − = 3.00 mA VP ( 4) The small-signal p(arameters a)re then ( ) = 2IDSS − VGS = 2(12) − (−2.0) gm − 1 1 − = 3.00 mA/V ( VP) VP (4) ( 4) and 1 1 ro = = = 41.7 k λIDQ (0.008)(3.00) The small-signal equivalent circuit is shown in Figure 4.56. Since Vgs = Vi , the small-signal voltage gain is Av = Vo = −gm(r V o‖RD‖RL) i or Av = −(3.0)(41.7‖2.7‖4) = −4.66 V + o V + i R1⎪⎪R – 2 Vgs gmVgs ro RD RL – Figure 4.56 Small-signal equivalent circuit of common-source JFET, assuming bypass capacitor acts as a short circuit Comment: The voltage gain of JFET amplifiers is the same order of magnitude as that of MOSFET amplifiers. EXERCISE PROBLEM Ex 4.18: For the JFET amplifier shown in Figure 4.55, the transistor parameters are: IDSS = 4 mA, VP = −3 V, and λ = 0.005 V−1. Let RL = 4 k, RS = 2.7 k, and R1 + R2 = 500 k. Redesign the circuit such that IDQ = 1.2 mA and VDSQ = 12 V. Calculate the small-signal voltage gain. (Ans. RD = 3.97 k, R1 = 453 k, R2 = 47 k, Av = −2.87) DESIGN EXAMPLE 4.19 Objective: Design a JFET source-follower circuit with a specified small-signal voltage gain. For the source-follower circuit shown in Figure 4.57, the transistor parameters are: I −1 DSS = 12 mA, VP = −4 V, and λ = 0.01 V . Determine RS and IDQ such that the small-signal voltage gain is at least Av = vo/vi = 0.90. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 262 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 262 Part 1 Semiconductor Devices and Basic Applications +10 V gmVgs ro CC1 CC2 + Vgs – Vo vo + v + V RR R i RG = 50 kΩ RR = 10 kΩ i – GS LS L –10 V Figure 4.58 Small-signal equivalent Figure 4.57 JFET source-follower circuit circuit of JFET source-follower circuit Solution: The small-signal equivalent circuit is shown in Figure 4.58. The output voltage is Vo = gm Vgs(RS‖RL‖ro) Also Vi = Vgs + Vo or Vgs = Vi − Vo Therefore, the output voltage is Vo = gm(Vi − Vo)(RS‖RL‖ro) The small-signal voltage gain becomes VA o v = = gm(RS‖RL‖ro) Vi 1 + gm(RS‖RL‖ro) As a first approximation, assume ro is sufficiently large for the effect of ro to be neglected. The transcond(uctance is) ( ) = 2IDSS − VGS = 2(12) gm − 1 1 − VGS ( VP) VP 4 (−4) If we pick a nominal transconductance value of gm = 2 mA/V, then VGS = −2.67 V and the quiescen(t drain curr)ent is ( ) V 2 (−2.67 2 ) I GS DQ = IDSS 1 − = (12) 1 − − = 1.335 mA VP ( 4) The value of RS is then determined from −VGS − (−10) 2.67 + 10 RS = = = 9.49 k IDQ 1.335 Also, the value of ro is = 1 = 1 ro = 74.9 k λIDQ (0.01)(1.335) nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 263 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 263 The small-signal voltage gain, including the effect of ro, is = gm(RS‖RL‖ro) = (2)(9.49‖10‖74.9) Av + = 0.902 1 gm(RS‖RL‖ro) 1 + (2)(9.49‖10‖74.9) Comment: This particular design meets the design criteria, but the solution is not unique. EXERCISE PROBLEM Ex 4.19: Reconsider the source-follower circuit shown in Figure 4.57 with transistor parameters I −1 DSS = 8 mA, VP = −3.5 V, and λ = 0.01 V . (a) Design the circuit such that IDQ = 2 mA. (b) Calculate the small-signal voltage gain if RL approaches infinity. (c) Determine the value of RL at which the small-signal gain is reduced by 20 percent from its value for (b). (Ans. (a) RS = 5.88 k, (b) Av = 0.923, RL = 1.61 k) In Example 4.19, we chose a value of transconductance and continued through the design. A more detailed examination shows that both gm and RS depend upon the drain current IDQ in such away that the product gmRS is approximately a constant. This means the small-signal voltage gain is insensitive to the initial value of the transconductance. Test Your Understanding TYU 4.13 Reconsider the JFET amplifier shown in Figure 4.55 with transistor parameters given in Example 4.l8. Determine the small-signal voltage gain if a 20 k resistor is in series with the signal source vi. (Ans. Av = −3.98) *TYU 4.14 For the circuit shown in Figure 4.59, the transistor parameters are: IDSS = 6 mA, |VP | = 2 V, and λ = 0. (a) Calculate the quiescent drain current and drain-to-source voltage of each transistor. (b) Determine the overall small-signal voltage gain Av = vo/vi . (Ans. (a) IDQ1 = 1 mA, VSDQ1 = 12 V, IDQ2 = 1.27 mA, VDSQ2 = 14.9 V; (b) Av = −2.05) VDD = 20 V RR = 4 kΩ 1 = 70 kΩ S1 CC1 C Q S 1 Q2 CC2 v v + R = 430 kΩ oi – 2 RD1 = 4 kΩ RS2 = 4 kΩ RL = 2 kΩ Figure 4.59 Figure for Exercise TYU 4.14 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 264 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 264 Part 1 Semiconductor Devices and Basic Applications 4.10 DESIGN APPLICATION: A TWO-STAGE AMPLIFIER Objective: • Design a two-stage MOSFET circuit to amplify the output of a sensor. Specifications: Assume the resistance R2 in the voltage divider circuit in Figure 4.60 varies linearly as a function of temperature, pressure, or some other variable. The output of the amplifier is to be zero volts when δ = 0. Design Approach: The amplifier configuration to be designed is shown in Figure 4.60. A resistor R1 will be chosen such that the voltage divider between R1 and R2 will produce a dc voltage vI that is negative. A negative gate voltage to M1 then means that the resistance RS1 does not need to be so large. Choices: Assume NMOS and PMOS transistors are available with parameters VT N = 1 V, V = −1 V, K 2 ∼ T P n = Kp = 2 mA/V , and λn = λp = 0. Solution ([voltage divider] analysis): The voltage vI can be written as = R(1 + δ) − = (1 + δ)(10) vI + + (10) 5 R(1 δ) 3R 4 + − 5 δ or = (1 + δ)(10) − 5(4 + δ) = −10 + 5δ vI 4 + δ 4 + δ Assuming that δ  4, we then have vI = −2.5 + 1.25δ V + = 5 V V + = 5 V RS2 RR1 = 3 RD1 M2 vI M1 vo R2 = R (1 + d ) RS1 RD2 V – = –5 V V – = –5 V Figure 4.60 Two-stage MOSFET amplifier for design application"
4.10 Design Application: A Two-Stage Amplifier,"4.10 DESIGN APPLICATION: A TWO-STAGE AMPLIFIER Objective: • Design a two-stage MOSFET circuit to amplify the output of a sensor. Specifications: Assume the resistance R2 in the voltage divider circuit in Figure 4.60 varies linearly as a function of temperature, pressure, or some other variable. The output of the amplifier is to be zero volts when δ = 0. Design Approach: The amplifier configuration to be designed is shown in Figure 4.60. A resistor R1 will be chosen such that the voltage divider between R1 and R2 will produce a dc voltage vI that is negative. A negative gate voltage to M1 then means that the resistance RS1 does not need to be so large. Choices: Assume NMOS and PMOS transistors are available with parameters VT N = 1 V, V = −1 V, K 2 ∼ T P n = Kp = 2 mA/V , and λn = λp = 0. Solution ([voltage divider] analysis): The voltage vI can be written as = R(1 + δ) − = (1 + δ)(10) vI + + (10) 5 R(1 δ) 3R 4 + − 5 δ or = (1 + δ)(10) − 5(4 + δ) = −10 + 5δ vI 4 + δ 4 + δ Assuming that δ  4, we then have vI = −2.5 + 1.25δ V + = 5 V V + = 5 V RS2 RR1 = 3 RD1 M2 vI M1 vo R2 = R (1 + d ) RS1 RD2 V – = –5 V V – = –5 V Figure 4.60 Two-stage MOSFET amplifier for design application nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 265 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 265 Solution (DC Design): We will choose ID1 = 0.5 mA and ID2 = 1 mA. The gate- to-source voltages are determined to be: 0.5 = 2(V 2 GS1 − 1) ⇒ VGS1 = 1.5 V and 1 = 2(V 2 SG2 − 1) ⇒ VSG2 = 1.707 V We find VS1 = VI − VGS1 = −2.5 − 1.5 = −4 V. The resistor RS1 is then = V − S1 − V = −4 − (−5) RS1 = 2 k ID1 0.5 Letting VD1 = 1.5 V, we find the resistor RD1 to be V + − V 5 − 1.5 R = D1 D1 = = 7 k ID1 0.5 We have VS2 = VD1 + VSG2 = 1.5 + 1.707 = 3.207 V. Then + = V − VS2 = 5 − 3.207 RS2 = 1.79 k ID2 1 For VO = 0, we find V − R = O − VD2 = 0 − (−5) = 5 k ID2 1 Solution (ac Analysis): The small-signal equivalent circuit is shown in Figure 4.61. We find V2 = −gm1Vgs1 RD1 and Vgs1 = Vi/(1 + gm1 RS1). We also find Vo = gm2Vsg2 RD2 and Vsg2 = −V2/(1 + gm2 RS2). Combining terms, we find g V = m1gm2 RD1 RD2 o Vi (1 + gm1 RS1)(1 + gm2 RS2) The ac input signal is Vi = 1.25 δ, so we have (1.25)g g RR V = m1 m2 D1 D2 o δ (1 + gm1 RS1)(1 + gm2 RS2) V2 Vo + + – Vi gm1Vgs1 gm2Vsg2 – Vgs1 RD V 1 sg2 RD2 – + RS1 RS2 Figure 4.61 Small-signal equivalent circuit of two-stage MOSFET amplifier for design application nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 266 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 266 Part 1 Semiconductor Devices and Basic Applications We find that √ √ gm1 = 2 Kn ID1 = 2 (2)(0.5) = 2 mA/V and √ √ gm2 = 2 Kp ID2 = 2 (2)(1) = 2.828 mA/V We then find = (1.25)(2)(2.828)(7)(5) Vo δ [1 + (2)(2)][1 + (2.828)(1.79)] or Vo = 8.16δ Comment: Since the low-frequency input impedance to the gate of the NMOS is essentially infinite, there is no loading effect on the voltage divider circuit. Design Pointer: As mentioned previously, by choosing the value of R1 to be larger than R2, the dc voltage to the gate of M1 is negative. A negative gate voltage implies that the required value of RS1 is reduced and can still establish the required current. Since the drain voltage at M1 is positive, then by using a PMOS transistor in the second stage, the source resistor value of RS2 is also reduced. Smaller source resistances generate larger voltage gains. 4.11 SUMMARY • The application of MOSFET transistors in linear amplifiers was emphasized in this chapter. The basic process by which a transistor circuit can amplify a small time-varying input signal was discussed. • A small-signal equivalent circuit for the MOSFET transistor, which is used in the analysis and design of linear amplifiers, was developed. • The three basic amplifier configurations were considered: the common-source, source-follower, and common-gate. These three circuits form the basic building blocks for more complex integrated circuits. • The common-source circuit amplifies a time-varying voltage. • The small-signal voltage gain of a source-follower circuit is approximately unity, but has a low output resistance. • The common-gate circuit amplifies a time-varying voltage, and has a low input resistance and a large output resistance. • Analysis of n-channel circuits with enhancement-load or depletion-load devices was performed. In addition, the analysis of CMOS circuits was carried out. These circuits are examples of all MOSFET circuits, which are developed throughout the remainder of the text. • The small-signal equivalent circuit of a JFET was developed and used in the analysis of several configurations of JFET amplifiers. • As an application, MOS transistors were incorporated in the design of a two- stage amplifier."
4.11 Summary,"4.11 SUMMARY • The application of MOSFET transistors in linear amplifiers was emphasized in this chapter. The basic process by which a transistor circuit can amplify a small time-varying input signal was discussed. • A small-signal equivalent circuit for the MOSFET transistor, which is used in the analysis and design of linear amplifiers, was developed. • The three basic amplifier configurations were considered: the common-source, source-follower, and common-gate. These three circuits form the basic building blocks for more complex integrated circuits. • The common-source circuit amplifies a time-varying voltage. • The small-signal voltage gain of a source-follower circuit is approximately unity, but has a low output resistance. • The common-gate circuit amplifies a time-varying voltage, and has a low input resistance and a large output resistance. • Analysis of n-channel circuits with enhancement-load or depletion-load devices was performed. In addition, the analysis of CMOS circuits was carried out. These circuits are examples of all MOSFET circuits, which are developed throughout the remainder of the text. • The small-signal equivalent circuit of a JFET was developed and used in the analysis of several configurations of JFET amplifiers. • As an application, MOS transistors were incorporated in the design of a two- stage amplifier. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 267 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 267 CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Explain graphically the amplification process in a simple MOSFET amplifier circuit. ✓ Describe the small-signal equivalent circuit of the MOSFET and to determine the values of the small-signal parameters. ✓ Apply the small-signal equivalent circuit to various MOSFET amplifier circuits to obtain the time-varying circuit characteristics. ✓ Characterize the small-signal voltage gain and output resistance of the common- source, source-follower, and common-gate amplifiers. ✓ Describe the operation of an NMOS amplifier with either an enhancement load, a depletion load, or a PMOS load. ✓ Apply the MOSFET small-signal equivalent circuit in the analysis of multistage amplifier circuits. ✓ Describe the operation and analyze basic JFET amplifier circuits. REVIEW QUESTIONS 1. Discuss, using the concept of a load line, how a simple common-source circuit can amplify a time-varying signal. 2. How does the transistor width-to-length ratio affect the small-signal voltage gain of a common-source amplifier? 3. Discuss the physical meaning of the small-signal circuit parameter ro. 4. How does the body effect change the small-signal equivalent circuit of the MOSFET? 5. Sketch a simple common-source amplifier circuit and discuss the general ac circuit characteristics (voltage gain and output resistance). 6. Discuss the general conditions under which a common-source amplifier would be used. 7. Why, in general, is the magnitude of the voltage gain of a common-source amplifier relatively small? 8. What are the changes in dc and ac characteristics of a common-source amplifier when a source resistor and a source bypass capacitor are incorporated in the design? 9. Sketch a simple source-follower amplifier circuit and discuss the general ac circuit characteristics (voltage gain and output resistance). 10. Sketch a simple common-gate amplifier circuit and discuss the general ac circuit characteristics (voltage gain and output resistance). 11. Discuss the general conditions under which a source-follower or a common-gate amplifier would be used. 12. Compare the ac circuit characteristics of the common-source, source-follower, and common-gate circuits. 13. State the advantage of using transistors in place of resistors in MOSFET integrated circuits. 14. State at least two reasons why a multistage amplifier circuit would be required in a design compared to using a single-stage circuit. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 268 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 268 Part 1 Semiconductor Devices and Basic Applications PROBLEMS Section 4.1 The MOSFET Amplifier 4.1 An NMOS transistor has parameters V ′ TN = 0.4 V, kn = 100 μA/V2, and λ = 0.02 V−1. (a) (i) Determine the width-to-length ratio W/L such that gm = 0.5 mA/Vat IDQ = 0.5 mA when biased in the saturation region. (ii) Calculate the required value of VGSQ . (b) Repeat part (a) for IDQ = 0.15 mA. 4.2 A PMOS transistor has parameters V ′ 2 T P = −0.6 V, kp = 40 μA/V , and λ = 0.015 V−1. (a) (i) Determine the width-to-length ratio (W/L) such that gm = 1.2 mA/Vat IDQ = 0.15 mA. (ii) What is the required value of VSG Q? (b) Repeat part (a) for IDQ = 0.50 mA. 4.3 An NMOS transistor is biased in the saturation region at a constant VGS . The drain current is ID = 3 mA at VDS = 5 V and ID = 3.4 mA at VDS = 10 V. Determine λ and ro. 4.4 The minimum value of small-signal resistance of a PMOS transistor is to be ro = 100 k. If λ = 0.012 V−1, calculate the maximum allowed value of ID. 4.5 Ann-channel MOSFET is biased in the saturation region at a constant VGS . (a) The drain current is ID = 0.250 mA at VDS = 1.5 V and ID = 0.258 mA at VDS = 3.3 V. Determine the value of λ and ro. (b) Using the results of part (a), determine ID at VDS = 5 V. 4.6 The value of λ for a MOSFET is 0.02 V−1. (a) What is the value of ro at (i) ID = 50 μA and at (ii) ID = 500 μA? (b) If VDS increases by 1 V, what is the percentage increase in ID for the conditions given in part (a)? 4.7 A MOSFET with λ = 0.01 V−1is biased in the saturation region at ID = 0.5 mA. If VGS and VDS remain constant, what are the new values of ID and ro if the channel length L is doubled? 4.8 The parameters of the circuit in Figure 4.1 are VDD = 3.3 V and RD = 5 k. The transistor parameters are k ′ n = 100 μA/V2, W/L = 40, V −1 TN = 0.4 V, and λ = 0.025 V . (a) Find IDQ and VGSQ such that VDSQ = 1.5 V. (b) Determine the small-signal voltage gain. 4.9 The circuit shown in Figure 4.1 has parameters VDD = 2.5 V and RD = 10 k. The transistor is biased at IDQ = 0.12 mA. The transistor parameters are VT N = 0.3 V, k ′ n = 100 μA/V2, and λ = 0. (a) Design the W/L ratio of the transistor such that the small-signal voltage gain is Av = −3.8. (b) Repeat part (a) for Av = −5.0. 4.10 For the circuit shown in Figure 4.1, the transistor parameters are VT N = 0.6 V, k ′ n = 80 μA/V2, and λ = 0.015 V−1. Let VDD = 5 V. (a) Design the transistor width-to-length ratio W/Land the resistance RD such that IDQ = 0.5 mA, VGSQ = 1.2 V, and VDSQ = 3 V. (b) Determine gm and ro. (c) Determine the small-signal voltage gain Av = vo/vi . *4.11 In our analyses, we assumed the small-signal condition given by Equation (4.4). Now consider Equation (4.3(b)) and let vgs = Vgs sin ωt . Show that the ratio of the signal at frequency 2ω to the signal at frequency ω is given by Vgs/[4(VGS − VT N )]. This ratio, expressed in a percentage, is called the second-harmonic distortion. [Hint: Use the trigonometric identity sin2 θ = 1 − 1 2 2 cos 2θ .] 4.12 Using the results of Problem 4.11, find the peak amplitude Vgs that produces a second-harmonic distortion of 1 percent if VGS = 3 V and VT N = 1 V."
Problems,"PROBLEMS Section 4.1 The MOSFET Amplifier 4.1 An NMOS transistor has parameters V ′ TN = 0.4 V, kn = 100 μA/V2, and λ = 0.02 V−1. (a) (i) Determine the width-to-length ratio W/L such that gm = 0.5 mA/Vat IDQ = 0.5 mA when biased in the saturation region. (ii) Calculate the required value of VGSQ . (b) Repeat part (a) for IDQ = 0.15 mA. 4.2 A PMOS transistor has parameters V ′ 2 T P = −0.6 V, kp = 40 μA/V , and λ = 0.015 V−1. (a) (i) Determine the width-to-length ratio (W/L) such that gm = 1.2 mA/Vat IDQ = 0.15 mA. (ii) What is the required value of VSG Q? (b) Repeat part (a) for IDQ = 0.50 mA. 4.3 An NMOS transistor is biased in the saturation region at a constant VGS . The drain current is ID = 3 mA at VDS = 5 V and ID = 3.4 mA at VDS = 10 V. Determine λ and ro. 4.4 The minimum value of small-signal resistance of a PMOS transistor is to be ro = 100 k. If λ = 0.012 V−1, calculate the maximum allowed value of ID. 4.5 Ann-channel MOSFET is biased in the saturation region at a constant VGS . (a) The drain current is ID = 0.250 mA at VDS = 1.5 V and ID = 0.258 mA at VDS = 3.3 V. Determine the value of λ and ro. (b) Using the results of part (a), determine ID at VDS = 5 V. 4.6 The value of λ for a MOSFET is 0.02 V−1. (a) What is the value of ro at (i) ID = 50 μA and at (ii) ID = 500 μA? (b) If VDS increases by 1 V, what is the percentage increase in ID for the conditions given in part (a)? 4.7 A MOSFET with λ = 0.01 V−1is biased in the saturation region at ID = 0.5 mA. If VGS and VDS remain constant, what are the new values of ID and ro if the channel length L is doubled? 4.8 The parameters of the circuit in Figure 4.1 are VDD = 3.3 V and RD = 5 k. The transistor parameters are k ′ n = 100 μA/V2, W/L = 40, V −1 TN = 0.4 V, and λ = 0.025 V . (a) Find IDQ and VGSQ such that VDSQ = 1.5 V. (b) Determine the small-signal voltage gain. 4.9 The circuit shown in Figure 4.1 has parameters VDD = 2.5 V and RD = 10 k. The transistor is biased at IDQ = 0.12 mA. The transistor parameters are VT N = 0.3 V, k ′ n = 100 μA/V2, and λ = 0. (a) Design the W/L ratio of the transistor such that the small-signal voltage gain is Av = −3.8. (b) Repeat part (a) for Av = −5.0. 4.10 For the circuit shown in Figure 4.1, the transistor parameters are VT N = 0.6 V, k ′ n = 80 μA/V2, and λ = 0.015 V−1. Let VDD = 5 V. (a) Design the transistor width-to-length ratio W/Land the resistance RD such that IDQ = 0.5 mA, VGSQ = 1.2 V, and VDSQ = 3 V. (b) Determine gm and ro. (c) Determine the small-signal voltage gain Av = vo/vi . *4.11 In our analyses, we assumed the small-signal condition given by Equation (4.4). Now consider Equation (4.3(b)) and let vgs = Vgs sin ωt . Show that the ratio of the signal at frequency 2ω to the signal at frequency ω is given by Vgs/[4(VGS − VT N )]. This ratio, expressed in a percentage, is called the second-harmonic distortion. [Hint: Use the trigonometric identity sin2 θ = 1 − 1 2 2 cos 2θ .] 4.12 Using the results of Problem 4.11, find the peak amplitude Vgs that produces a second-harmonic distortion of 1 percent if VGS = 3 V and VT N = 1 V. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 269 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 269 Section 4.3 The Common-Source Amplifier 4.13 Consider the circuit in Figure 4.14 in the text. The circuit parameters are VDD = 3.3 V, RD = 8 k, R1 = 240 k, R2 = 60 k, and RSi = 2 k. The transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, W/L = 80, and λ = 0.02 V−1. (a) Determine the quiescent values IDQ and VDSQ . (b) Find the small-signal parameters gm and ro. (c) Determine the small-signal voltage gain. 4.14 A common-source amplifier, such as shown in Figure 4.14 in the text, has parameters ro = 100 k and RD = 5 k. Determine the transconductance of the transistor if the small-signal voltage gain is Av = −10. Assume RSi = 0. 4.15 For the NMOS common-source amplifier in Figure P4.15, the transistor parameters are: VT N = 0.8 V, Kn = 1 mA/V2, and λ = 0. The circuit parameters are VDD = 5 V, RS = 1 k, RD = 4 k, R1 = 225 k, and R2 = 175 k. (a) Calculate the quiescent values IDQ and VDSQ . (b) Determine the small-signal voltage gain for RL = ∞. (c) Determine the value of RL that will reduce the small-signal voltage gain to 75 percent of the value found in part (b). VDD RD RR in 1 CC2 v Co C1 RL vi + R – 2 RS Figure P4.15 4.16 The parameters of the circuit shown in Figure P4.15 are VDD = 12 V, RS = 0.5 k, Rin = 250 k, and RL = 10 k. The transistor parameters are VT N = 1.2 V, Kn = 1.5 mA/V2, and λ = 0. (a) Design the circuit such that IDQ = 2 mA and VDSQ = 5 V. (b) Determine the small-signal voltage gain. Vo 4.17 Repeat Problem 4.15 if the source resistor is bypassed by a source capacitor CS. RD 4.18 The ac equivalent circuit of a common-source amplifier is shown in Figure P4.18. The small-signal parameters of the transistor are gm = 2 mA/V Vi + – and ro = ∞. (a) The voltage gain is found to be Av = Vo/Vi = −15 with RS RS = 0. What is the value of RD? (b) A source resistor RS is inserted. Assuming the transistor parameters do not change, what is the value of RS if the voltage gain is reduced to Av = −5. Figure P4.18 4.19 Consider the ac equivalent circuit shown in Figure P4.18. Assume ro = ∞ for the transistor. The small-signal voltage gain is Av = −8 for the case when RS = 1 k. (a) When RS is shorted (RS = 0), the magnitude of the voltage gain doubles. Assuming the small-signal transistor parameters do not change, what are the values of gm and RD? (b) A new value of RS is nea80644_ch04_205-284.qxd 06/13/2009 01:57 PM Page 270 F506 Hard disk:Desktop Folder:ALI-06-13-09:MHDQ134-04 Folder:MHDQ134-0 270 Part 1 Semiconductor Devices and Basic Applications inserted into the circuit and the voltage gain becomes Av = −10. Using the results of part (a), determine the value of RS. 4.20 The transistor in the common-source amplifier in Figure P4.20 has parameters V ′ 2 TN = 0.8 V, kn = 100 μA/V , W/L = 50, and λ = 0.02 V−1. The circuit parameters are V + = 5 V, V − = −5 V, IQ = 0.5 mA, and RD = 6 k. (a) Determine VGSQ and VDSQ . (b) Find the small-signal voltage gain for RL = ∞. (c) Repeat part (b) for RL = 20 k. (d) Repeat part (b) for RL = 6 k. V + +5 V RD RD CC2 CC vo v Co C1 RL RL = 40 kΩ v + RG = i + – vi RC 200 kΩ – GS RS IQ CS V – –5 V Figure P4.20 Figure P4.21 4.21 The parameters of the MOSFET in the circuit shown in Figure P4.21 are VT N = 0.8 V, K 2 −1 n = 0.85 mA/V , and λ = 0.02 V . (a) Determine RS and RD such that IDQ = 0.1 mA and VDSQ = 5.5 V. (b) Find the small-signal transistor parameters. (c) Determine the small-signal voltage gain. 4.22 For the common-source amplifier in Figure P4.22, the transistor parameters are VT N = −0.8 V, Kn = 2 mA/V2, and λ = 0. The circuit parameters are VDD = 3.3 V and RL = 10 k. (a) Design the circuit such that IDQ = 0.5 mA and VDSQ = 2 V. (b) Determine the small-signal voltage gain. VDD RD CC2 vo CC1 RL v + i – RG = 1 MΩ RS Figure P4.22 *4.23 The transistor in the common-source circuit in Figure P4.22 has the same parameters as given in Problem 4.22. The circuit parameters are VDD = 5 V and RD = RL = 2 k. (a) Find RS for VDSQ = 2.5 V. (b) Determine the small-signal voltage gain. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 271 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 271 *4.24 Consider the PMOS common-source circuit in Figure P4.24 with transistor parameters VT P = −2 V and λ = 0, and circuit parameters RD = RL = 10 k. (a) Determine the values of Kp and RS such that VSDQ = 6 V. (b) Determine the resulting value of IDQ and the small-signal voltage gain. (c) Can the values of Kp and RS from part (a) be changed to achieve a larger voltage gain, while still meeting the requirements of part (a)? +5 V RS CC1 CS CC2 v + RG = vo i – 100 kΩ RD RL –5 V Figure P4.24 D4.25 For the common-source circuit in Figure P4.24, the bias voltages are changed to V + = 3 V and V − = −3 V. The PMOS transistor parameters are: VT P = −0.5 V, Kp = 0.8 mA/V2, and λ = 0. The load resistor is RL = 2 k. (a) Design the circuit such that IDQ = 0.25 mA and VSDQ = 1.5 V. (b) Determine the small-signal voltage gain Av = vo/vi . *D4.26 Design the common-source circuit in Figure P4.26 using an n-channel MOSFET with λ = 0. The quiescent values are to be IDQ = 6 mA, VGSQ = 2.8 V, and VDSQ = 10 V. The transconductance is gm = 2.2 mA/V. Let RL = 1 k, Av = −1, and Rin = 100 k. Find R1, R2, RS, RD, Kn, and VT N . V +9 V DD = 18 V IQ RD Rin R1 CC1 C v SC o C1 CC C2 C2 v + vo R i – RG = 500 kΩ v + Li R – 2 RS RD RL –9 V Figure P4.26 Figure P4.27 4.27 For the common-source amplifier shown in Figure P4.27, the transistor parameters are VT P = −1.2 V, Kp = 2 mA/V2, and λ = 0.03 V−1. The nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 272 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 272 Part 1 Semiconductor Devices and Basic Applications drain resistor is RD = 4 k. (a) Determine IQ such that VSDQ = 5 V. (b) Find the small-signal voltage gain for RL = ∞. (c) Repeat part (b) for RL = 8 k. D4.28 For the circuit shown in Figure P4.28, the transistor parameters are: VT P = 0.8 V, Kp = 0.25 mA/V2, and λ = 0. (a) Design the circuit such that IDQ = 0.5 mA and VSDQ = 3 V. (b) Determine the small-signal voltage gain Av = vo/vi . V +10 V DD = 20 V RS RD RR in 1 v Co CC CS C1 CC2 v v + Ω o R i – RG = 200 k L v + i R – 2 RR CS D S –10 V Figure P4.28 Figure P4.29 *D4.29 Design a common-source amplifier, such as that in Figure P4.29, to achieve a small-signal voltage gain of at least Av = vo/vi = −10 for RL = 20 k and Rin = 200 k. Assume the Q-point is chosen at IDQ = 1 mA and VDSQ = 10 V. Let VT N = 2 V, and λ = 0. Section 4.4 The Source-Follower Amplifier V + Vi o – 4.30 The small-signal parameters of an enhancement-mode MOSFET source RL follower are gm = 5 mA/V and ro = 100 k. (a) Determine the no-load small-signal voltage gain and the output resistance. (b) Find the small- signal voltage gain when a load resistance RS = 5 k is connected. Figure P4.31 4.31 The open-circuit (RL = ∞) voltage gain of the ac equivalent source- follower circuit shown in Figure P4.31 is Av = 0.98. When RL is set to 1 k, + the voltage gain is reduced to Av = 0.49. What are the values of g V m and ro? 4.32 Consider the source-follower circuit in Figure P4.31. The small-signal parameters of the transistor are gm = 2 mA/V and ro = 25 k. (a) Determine the open-circuit (RL = ∞) voltage gain and output resistance. (b) If RL = 2 k and the small-signal transistor parameters remain constant, vi + vo – determine the voltage gain. 10 kΩ 4.33 The source follower amplifier in Figure P4.33 is biased at V + = 1.5 V and V − = −1.5 V. The transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, W/L = 80, and λ = 0.02 V−1. (a) The dc value of vO is V – to be zero volts. What is the current IDQ and the required value of VGSQ? Figure P4.33 (b) Determine the small-signal voltage gain. (c) Find the output resistance Ro. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 273 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 273 4.34 Consider the circuit in Figure P4.34. The transistor parameters are VT N = 0.6 V, k ′ n = 100 μA/V2, and λ = 0. The circuit is to be designed such that VDSQ = 1.25 V and such that the small-signal voltage gain is Av = 0.85. (a) Find IDQ . (b) Determine the width-to-length ratio of the transistor. (c) What is the required dc value of the input voltage? VDD = 2.5 V VDD = 2.5 V vI vI RO vO vO RS = 0.5 kΩ IQ Figure P4.34 Figure P4.35 4.35 The quiescent power dissipation in the circuit in Figure P4.35 is to be limited to 2.5 mW. The parameters of the transistor are VT N = 0.6 V, k ′ n = 100 μA/V2, and λ = 0.02 V−1. (a) Determine IQ . (b) Determine W/L such that the output resistance is Ro = 0.5 k. (c) Using the results of parts (a) and (b), determine the small-signal voltage gain. (d) Determine the output resistance if the transistor width-to-length ratio is W/L = 100. 4.36 The parameters of the circuit in Figure P4.36 are RS = 4 k, R1 = 850 k, R2 = 350 k, and RL = 4 k. The transistor parameters are VT P = −1.2 V, k ′ p = 40 μA/V2, W/L = 80, and λ = 0.05 V−1. (a) Determine IDQ and VSDQ . (b) Find the small-signal voltage gain Av = vo/vi . (c) Determine the small-signal circuit transconductance gain Ag = io/vi . (d) Find the small- signal output resistance Ro. VDD = 10 V +5 V RS R Ro 1 CC1 v Co C1 RC o CC 2 C2 v + RG = i vo ii i o RL 500 kΩ v + i R – 2 I RL = Q 4 kΩ –5 V Figure P4.36 Figure P4.37 4.37 Consider the source follower circuit in Figure P4.37 with transistor parameters VT N = 0.8 V, k ′ n = 100 μA/V2, W/L = 20, and λ = 0.02 V−1. (a) Let IQ = 5 mA. (i) Determine the small-signal voltage gain. (ii) Find the output resistance Ro. (b) Repeat part (a) for IQ = 2 mA. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 274 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 274 Part 1 Semiconductor Devices and Basic Applications 4.38 For the source-follower circuit shown in Figure P4.37, the transistor parameters are: VT N = 1 V, k ′ 2 n = 60 μA/V , and λ = 0. The small-signal voltage gain is to be Av = vo/vi = 0.95. (a) Determine the required width-to-length ratio (W/L) for IQ = 4 mA. (b) Determine the required IQ if (W/L) = 60. *D4.39 In the source-follower circuit in Figure P4.39 with a depletion NMOS transistor, the device parameters are: VT N = −2 V, Kn = 5 mA/V2, and λ = 0.01 V−1. Design the circuit such that IDQ = 5 mA. Find the small- signal voltage gain Av = vo/vi and the output resistance Ro. +5 V CC1 RC o C2 v + RG = vi – o 200 kΩ R RL = S 2 kΩ –5 V Figure P4.39 4.40 For the circuit in Figure P4.39, RS = 1 k and the quiescent drain current is IDQ = 5 mA. The transistor parameters are VT N = −2 V, k ′ n = 100 μA/V2, and λ = 0.01 V−1. (a) Determine the transistor width-to- length ratio. (b) Using the results of part (a), find the small-signal voltage gain for RL = ∞. (c) Find the small-signal output resistance Ro. (d) Using the results of part (a), find Av for RL = 2 k. D4.41 For the source-follower circuit in Figure P4.39, the transistor parameters are: VT N = −2 V, Kn = 4 mA/V2, and λ = 0. Design the circuit such that Ro ≤ 200 . Determine the resulting small-signal voltage gain. 4.42 The current source in the source-follower circuit in Figure P4.42 is IQ = 10 mA and the transistor parameters are VT P = −2 V, K 2 p = 5 mA/V , and λ = 0.01 V−1. (a) Find the open circuit (RL = ∞) small-signal voltage gain. (b) Determine the small-signal output resistance Ro. (c) What value of RL will reduce the small-signal voltage gain to Av = 0.90? V+ = 5 V IQ Ro v Co C1 CC2 RL v + RG = i – 200 kΩ V – = –5 V Figure P4.42 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 275 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 275 4.43 Consider the source-follower circuit shown in Figure P4.43. The most negative output signal voltage occurs when the transistor just cuts off. Show that this output voltage vo(min) is given by −IDQ RS vo(min) = 1 + RS RL Show that the corresponding input voltage is given by I min = − DQ vi ( ) (1 + gm(RS‖RL)) gm VDD VDD Ri R1 CC1 CC1 RC o C2 v + R v vi o O – G v + i – R2 RS RS RL Figure P4.43 Figure P4.44 4.44 The transistor in the circuit in Figure P4.44 has parameters VT N = 0.4 V, K 2 n = 0.5 mA/V , and λ = 0. The circuit parameters are VDD = 3 V and Ri = 300 k. (a) Design the circuit such that IDQ = 0.25 mA and VDSQ = 1.5 V. (b) Determine the small-signal voltage gain and the output resistance Ro. Section 4.5 The Common-Gate Configuration 4.45 Figure P4.45 is the ac equivalent circuit of a common-gate amplifier. The transistor parameters are V ′ 2 TN = 0.4 V, kn = 100 μA/V , and λ = 0. The quiescent drain current is IDQ = 0.25 mA. Determine the transistor W/L ratio and the value of RD such that the small-signal voltage gain is Av = Vo/Vi = 20 and the input resistance is Ri = 500 . 4.46 The transistor in the common-gate circuit in Figure P4.46 has the same parameters that are given in Problem 4.45. The output resistance Ro is to Ri Ro Ri Ro Vi Vo Vi Vo + RD 1.2 V = VGSQ RD – + V VDD = 2.2 VB – Figure P4.45 Figure P4.46 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 276 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 276 Part 1 Semiconductor Devices and Basic Applications be 500  and the drain-to-source quiescent voltage is to be VDSQ = VDS(sat) + 0.3 V. (a) What is the value of RD? (b) What is the quiescent drain current IDQ ? (c) Find the input resistance Ri . (d) Determine the small-signal voltage gain Av = Vo/Vi . 4.47 The small-signal parameters of the NMOS transistor in the ac equivalent common-gate circuit shown in Figure P4.47 are VT N = 0.4 V, k ′ n = 100 μA/V2, W/L = 80, and λ = 0. The quiescent drain current is IDQ = 0.5 mA. Determine the small-signal voltage gain and the input resistance. R CC1 CC2 i vo Vo v + i RS = 10 kΩ RD = 5 kΩ RL = 4 kΩ V + i 10 kΩ 4 kΩ – V– = –5 V V+ = +5 V Figure P4.47 Figure P4.48 4.48 For the common-gate circuit in Figure P4.48, the NMOS transistor parameters are: VT N = 1 V, Kn = 3 mA/V2, and λ = 0. (a) Determine IDQ and VDSQ . (b) Calculate gm and ro. (c) Find the small-signal voltage gain Av = vo/vi . 4.49 Consider the PMOS common-gate circuit in Figure P4.49. The transistor parameters are: V = −1 V, K = 0.5 mA/V2 T Pp , and λ = 0. (a) Determine RS and RD such that IDQ = 0.75 mA and VSDQ = 6 V. (b) Determine the input impedance Ri and the output impedance Ro. (c) Determine the load current io and the output voltage vo, if ii = 5 sin ωt μA. Ro Ri CC1 CC2 vo CC Ri = RV = o 100 kΩ RS Rio L D 2 kΩ RG = CV + IQ = G i R i Di 50 kΩ – 2 mA V+ = +5 V V– = –5 V V– = –1.8 V V+ = 1.8 V Figure P4.49 Figure P4.50 4.50 The transistor parameters of the NMOS device in the common-gate amplifier in Figure P4.50 are V ′ 2 TN = 0.4 V, kn = 100 μA/V , and λ = 0. (a) Find RD such that VDSQ = VDS (sat) + 0.25 V. (b) Determine the transistor W/L ratio such that the small-signal voltage gain is Av = 6. (c) What is the value of VGSQ? 4.51 The parameters of the circuit shown in Figure 4.32 are V + = 3.3 V, V − = −3.3 V, RG = 50 k, RL = 4 k, RSi = 0, and IQ = 2 mA. The transistor parameters are VT N = 0.6 V, Kn = 4 mA/V2, and λ = 0. (a) Find nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 277 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 277 RD such that VDSQ = 3.5 V. (b) Determine the small-signal parameters gm and Ri . (c) Find the small-signal voltage gain Av . 4.52 For the common-gate amplifier in Figure 4.35 in the text, the PMOS transistor parameters are V = −0.8 V, K = 2.5 mA/V2 T Pp , and λ = 0. The circuit parameters are V + = 3.3 V, V − = −3.3 , RG = 100 k, and RL = 4 k. (a) Determine RS and RD such that IDQ = 1.2 mA and VSDQ = 3 V. (b) Determine the small-signal voltage gain Av = vo/vi . Section 4.7 Amplifiers with MOSFET Load Devices 4.53 Consider the NMOS amplifier with saturated load in Figure 4.39(a). The transistor parameters are VT ND = V ′ TN L = 0.6 V, kn = 100 μA/V2, λ = 0, and (W/L)L = 1. Let VDD = 3.3 V. (a) Design the circuit such that the small-signal voltage gain is |Av| = 5 and the Q-point is in the center of the saturation region. (b) Determine IDQ and VDSDQ . 4.54 For the NMOS amplifier with depletion load in Figure 4.43(a), the transistor parameters are VT ND = 0.6 V, VT N L = −0.8 V, KnD = 1.2 mA/V2, K = 0.2 mA/V2 nL , and λD = λL = 0.02 V−1. Let VDD = 5 V. (a) Determine the transistor voltages at the transition points A and B. (b) Find VGSDQ VDD = 10 V and VDSDQ such that the Q-point is in the middle of the saturation region. (c) Determine IDQ . (d) Find the small-signal voltage gain. 4.55 Consider a saturated load device in which the gate and drain of an enhancement-mode MOSFET are connected together. The transistor drain ML current becomes zero when VDS = 0.6 V. (a) At VDS = 1.5 V, the drain current is 0.5 mA. Determine the small-signal resistance at this operating vO point. (b) What is the drain current and small-signal resistance at VDS = 3 V? 4.56 The parameters of the transistors in the circuit in Figure P4.56 are V MDT ND = −1 V, KnD = 0.5 mA/V2 for transistor MD, and VT N L = +1V, KnL = v + i – 30 μA/V2 for transistor ML. Assume λ = 0 for both transistors. (a) Calculate the quiescent drain current IDQ and the dc value of the output voltage. (b) Determine the small-signal voltage gain Av = vo/vi about the Q-point. Figure P4.56 4.57 A source-follower circuit with a saturated load is shown in Figure P4.57. The transistor parameters are V 2 TN D = 1 V, KnD = 1 mA/V for MD, and VT N L = 1 V, K 2 nL = 0.1 mA/V for ML. Assume λ = 0 for both transistors. Let VDD = 9 V. (a) Determine VGG such that the quiescent value of vDSL is 4 V. (b) Show that the small-signal open-c√ircuit (RL = ∞) voltage gain about this Q-point is given by Av = 1/[1 + KnL/KnD]. (c) Calculate the small-signal voltage gain for RL = 4 k. VDD MD Ro v + CC i – vo + V + GG – ML v R DSL L – Figure P4.57 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 278 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 278 Part 1 Semiconductor Devices and Basic Applications 4.58 For the source-follower circuit with a saturated load as shown in Figure P4.57, assume the same transistor parameters as given in Problem 4.57. (a) Determine the small-signal voltage gain if RL = 10 k. (b) Determine the small-signal output resistance Ro. 4.59 The transistor parameters for the common-source circuit in Figure P4.59 are VT ND = 0.4 V, VT PL = −0.4 V, (W/L)L = 50, λD = 0.02 V−1, λ = 0.04 V−1, k ′ Ln = 100 μA/V2, and k ′ p = 40 μA/V2. At the Q-point, IDQ = 0.5 mA. (a) Determine (W/L)D such that the small-signal voltage gain is Av = Vo/Vi = −40. (b) What is the required value of VB? (c) What is the value of VGSDQ? V+ = 2.5 V V+ = 2.5 V VB ML Vi MD Vo Vo Vi MD VB ML Figure P4.59 Figure P4.60 4.60 Consider the circuit in Figure P4.60. The transistor parameters are V ′ 2 ′ 2 T PD = −0.6 V, VT N L = 0.4 V, kn = 100 μA/V , kp = 40 μA/V , λL = 0.02 V−1, λD = 0.04 V−1, and (W/L)L = 10. (a) At the Q-point, the quiescent drain current is IDQ = 0.25 mA. (i) Determine (W/L)D such that the small-signal voltage gain is Av = Vo/Vi = −25. (ii) What is there- quired value of VB? (iii) What is the value of VSG DQ? (b) Repeat part (a) for IDQ = 0.1 mA. 4.61 The ac equivalent circuit of a CMOS common-source amplifier is shown in Figure P4.61. The transistor parameters for Mare V = 0.5 V, k ′ 1 TN n = 85 μA/V2, (W/L) = 50, and λ = 0.05 V−1 1 , and for M2 and M3 are M3 M2 vo IQ = 100 mA M1 v + i – Figure P4.61 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 279 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 279 V = −0.5 V, k ′ = 40 μA/V2, (W/L) , = 50, and λ = 0.075 V−1 T Pp 2 3 . Determine the small-signal voltage gain. 4.62 Consider the ac equivalent circuit of a CMOS common-source amplifier shown vi M1 in Figure P4.62. The parameters of the NMOS and PMOS transistors are the R same as given in Problem 4.61. Determine the small-signal voltage gain. IREF = 4.63 The parameters of the transistors in the circuit in Figure P4.63 are VT ND = 100 mA vo V 2 TN L = 0.4 V, KnD = 2 mA/V , KnL = 0.5 mA/V2, and λD = λL = 0. (a) Plot Vo versus VI over the range 0.8 ≤ VI ≤ 2.5 V. (b) Plot ID versus VI over the same voltage range as part (a). (c) At IDQ = 0.20 mA, find the small- M3 M2 signal voltage gain Av = Vo/Vi = dVO/dVI . V+ = 2.5 V V+ = 2.5 V Figure P4.62 VI MD VB ML Vo Vo ML VI MD Figure P4.63 Figure P4.64 4.64 Consider the source-follower circuit in Figure P4.64. The transistor parameters are VT P = −0.4 V, k ′ p = 40 μA/V2, (W/L)L = 5, (W/L)D = 50, and λD = λL = 0.025 V−1. Assume VB = 1 V. (a) What is the maximum value of Vo such that ML remains biased in the saturation region? (b) For ML biased in the saturation region, determine ID . (c) Using the results of parts (a) and (b), find VSG D . (d) Determine the small-signal voltage gain when the dc value of VI = 0.2 V. 4.65 Figure P4.65 shows a common-gate amplifier. The transistor parameters are VT N = 0.6 V, VT P = −0.6 V, K = 2 mA/V2 n , Kp = 0.5 mA/V2, and λn = λp = 0. (a) Find the values of VSGL Q , VGSDQ , and VDSDQ . (b) Derive the expression for the small-signal voltage gain in terms of Kn and Kp . (c) Calculate the value of the small-signal voltage gain Av = Vo/Vi . C Ri CM Vo D V + IQ = i – 1 mA ML V– = –3.3 V V+ = 3.3 V Figure P4.65 4.66 The ac equivalent circuit of a CMOS common-gate circuit is shown in Figure P4.66. The parameters of the NMOS and PMOS transistors are the same as given in Problem 4.61. Determine the (a) small-signal parameters of the transistors, (b) small-signal voltage gain Av = vo/vi , (c) input resistance Ri, and (d) output resistance Ro. nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 280 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 280 Part 1 Semiconductor Devices and Basic Applications 2IQ = 200 mA I = R v QR o oi 100 mA 50 Ω vi M1 MM 2 1 v + Ro i – M2 M3 vo IQ = 100 mA Figure P4.66 Figure P4.67 4.67 The circuit in Figure P4.67 is a simplified ac equivalent circuit of a folded- cascode amplifier. The transistor parameters are |VT N | = |VT P | = 0.5 V, K = K = 2 mA/V2, and λ = λ = 0.1 V−1 n pnp . Assume the current source 2IQ = 200 μA is ideal and the resistance looking into the current source IQ = 100 μA is 50 k. Determine the (a) small-signal parameters of each transistor, (b) small-signal voltage gain, and (c) output resistance Ro. Section 4.8 Multistage Amplifiers 4.68 The transistor parameters in the circuit in Figure P4.68 are VT N1 = 0.6 V, VT P2 = −0.6 V, Kn1 = 0.2 mA/V2, Kp2 = 1.0 mA/V2, and λ1 = λ2 = 0. The circuit parameters are VDD = 5 V and Rin = 400 k. (a) Design the circuit such that IDQ1 = 0.2 mA, IDQ2 = 0.5 mA, VDSQ1 = 2 V, and VSDQ2 = 3 V. The voltage across RS1 is to be 0.6 V. (b) Determine the small-signal voltage gain Av = vo/vi . VDD RD1 RS2 R1 Rin CM MS2 1 2 CC vO v + i R – 2 RS1 CS R 1 D2 Figure P4.68 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 281 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 281 4.69 The transistor parameters in the circuit in Figure P4.68 are the same as those given in Problem 4.68. The circuit parameters are VDD = 3.3 V, RS1 = 1 k, and Rin = 250 k. (a) Design the circuit such that IDQ1 = 0.1 mA, IDQ2 = 0.25 mA, VDSQ1 = 1.2 V, and VSDQ2 = 1.8 V. (b) Determine the small-signal voltage gain Av = vo/vi . 4.70 Consider the circuit shown in Figure P4.70. The transistor parameters are VT P1 = −0.4 V, VT N2 = 0.4 V, (W/L)1 = 20, (W/L)2 = 80, k ′ p = 40 μA/V2, k ′ n = 100 μA/V2, and λ1 = λ2 = 0. Let Rin = 200 k. (a) Design the circuit such that IDQ1 = 0.1 mA, IDQ2 = 0.3 mA, VSDQ1 = 1.0 V, and VDSQ2 = 2.0 V. The voltage across RS1 is to be 0.6 V. (b) Determine the small-signal voltage gain Av = vo/vi . (c) Find the small- signal output resistance Ro. V+ = 1.8 V RS1 RR 1 in M1 M2 Ro CC vo v + i – R2 RD1 RS2 V– = –1.8 V Figure P4.70 4.71 For the circuit in Figure P4.71, the transistor parameters are: Kn1 = K = 4 mA/V2 n2 , VT N1 = VT N2 = 2 V, and λ1 = λ2 = 0. (a) Determine IDQ1, IDQ2, VDSQ1, and VDSQ2. (b) Determine gm1 and gm2. (c) Determine the overall small-signal voltage gain Av = vo/vi . 10 V CC1 M1 CC2 CC3 + RG = v vi o – 400 kΩ M2 RS1 = RS2 = RD = RL = 10 kΩ 10 kΩ 5 kΩ 2 kΩ –10 V –10 V +10 V Figure P4.71 nea80644_ch04_205-284.qxd 06/12/2009 08:00 PM Page 282 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: 282 Part 1 Semiconductor Devices and Basic Applications D4.72 For the cascode circuit in Figure 4.51 in the text, the transistor parameters are: VT N1 = VT N2 = 1 V, Kn1 = Kn2 = 2 mA/V2, and λ1 = λ2 = 0. (a) Let RS = 1.2 k and R1 + R2 + R3 = 500 k. Design the circuit such that IDQ = 3 mA and VDSQ1 = VDSQ2 = 2.5 V. (b) Determine the small-signal voltage gain Av = vo/vi . D4.73 The supply voltages to the cascode circuit in Figure 4.51 in the text are changed to V + = 10 V and V − = −10 V. The transistor parameters are: Kn1 = Kn2 = 4 mA/V2, VT N1 = VT N2 = 1.5 V, and λ1 = λ2 = 0. (a) Let RS = 2 k, and assume the current in the bias resistors is 0.1 mA. Design the circuit such that IDQ = 5 mA and VDSQ1 = VDSQ2 = 3.5 V. (b) Determine the resulting small-signal voltage gain. Section 4.9 Basic JFET Amplifiers 4.74 Consider the JFET amplifier in Figure 4.53 with transistor parameters IDSS = 6 mA, VP = −3 V, and λ = 0.01 V−1. Let VDD = 10 V. (a) Determine RD and VGS such that IDQ = 4 mA and VDSQ = 6 V. (b) Determine gm and ro at the Q-point. (c) Determine the small-signal voltage gain Av = vo/vi where vo is the time-varying portion of the output voltage vO . 4.75 For the JFET amplifier in Figure P4.75, the transistor parameters are: IDSS = 2 mA, VP = −2 V, and λ = 0. Determine gm , Av = vo/vi , and Ai = io/ ii . VDD VDD RD = 8 kΩ vo C CC2 RD CR1 Rin vo ii RS1 = C Ω RL = CC1 C2 100 i 4 kΩ o v + RG = i – Ω i R 50 k i o Li R = + R2 RS2 S Ω C vi 250 S – Figure P4.75 Figure P4.76 D4.76 The parameters of the transistor in the JFET common-source amplifier shown in Figure P4.76 are: IDSS = 8 mA, VP = −4.2 V, and λ = 0. Let VDD = 20 V and RL = 16 k. Design the circuit such that VS = 2 V, R1 + R2 = 100 k, and the Q-point is at IDQ = IDSS/2 and VDSQ = VDD/2. *D4.77 Consider the source-follower JFET amplifier in Figure P4.77 with transistor parameters IDSS = 10 mA, VP = −5 V, and λ = 0.01 V−1. Let VDD = 12 V and RL = 0.5 k. (a) Design the circuit such that Rin = 100 k, and the Q-point is at IDQ = IDSS/2 and VDSQ = VDD/2. (b) Determine the resulting small-signal voltage gain Av = vo/vi and the output resistance Ro. nea80644_ch04_205-284.qxd 06/12/2009 08:01 PM Page 283 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-04: Chapter 4 Basic FET Amplifiers 283 VDD VDD = 10 V Rin RR Ω RS = 5 kΩ 1 1 = 90 k CC1 Ro CC1 vo vo CC2 ii Ci C2 i R i L = v + i R – 2 RR o 10 kΩ Si L v + oi – R2 = 110 kΩ Figure P4.77 Figure P4.78 4.78 For the p-channel JFET source-follower circuit in Figure P4.78, the transistor parameters are: IDSS = 2 mA, VP = +1.75 V, and λ = 0. (a) Determine IDQ and VSDQ . (b) Determine the small-signal gains Av = vo/vi and Ai = io/ ii . (c) Determine the maximum symmetrical swing in the output voltage. D4.79 The p-channel JFET common-source amplifier in Figure P4.79 has transistor parameters IDSS = 8 mA, VP = 4 V, and λ = 0. Design the circuit such that IDQ = 4 mA, VSDQ = 7.5 V, Av = vo/vi = −3, and R1 + R2 = 400 k. VDD = 20 V R1 RS CC1 v v + Oi R – 2 RD Figure P4.79 COMPUTER SIMULATION PROBLEMS 4.80 Consider the common-source circuit described in Example 4.5. (a) Using a computer simulation, verify the results obtained in Example 4.5. (b) Determine the change in the results when the body effect is taken into account. 4.81 Using a computer simulation, verify the results of Example 4.7 for the source-follower amplifier. 4.82 Using a computer simulation, verify the results of Example 4.10 for the common-gate amplifier. 4.83 Using a computer simulation, verify the results of Example 4.17 for the cascode amplifier. nea80644_ch04_205-284.qxd 06/13/2009 01:56 PM Page 284 F506 Hard disk:Desktop Folder:ALI-06-13-09:MHDQ134-04 Folder:MHDQ134-0 284 Part 1 Semiconductor Devices and Basic Applications DESIGN PROBLEMS [Note: Each design should be correlated with a computer analysis.] *D4.84 A discrete common-source circuit with the configuration shown in Figure 4.17 is to be designed to provide a voltage gain of 18 and asymmetrical output voltage swing. The bias voltage is VDD = 3.3 V, the output resistance of the signal source is 500 , and the transistor parameters are: VT N = 0.4 V, k ′ n = 100 μA/V2, and λ = 0.01 V−1. Assume a quiescent drain current of IDQ = 100 μA. *D4.85 Consider the common-gate amplifier shown in Figure 4.35. The power supply voltages are ±5 V, the output resistance of the signal source is 500 , and the input resistance of the amplifier is to be 200 . The transistor parameters are k ′ p = 40 μA/V2, VT P = −0.6 V, and λ = 0. The output load resistance is RL = 10 k. Design the circuit such that the output voltage has a peak- to-peak symmetrical swing of at least 4 V. *D4.86 A source-follower amplifier with the configuration shown in Figure 4.31 is to be designed. The power supplies are to be ±12 V. The transistor parameters are V = 1.2 V, k ′ = 100 μA/V2 TN n , and λ = 0. The load resistance is RL = 200 . Design the circuit, as well as a constant-current source, to deliver 250 mW of signal power to the load. *D4.87 Consider the multitransistor circuit in Figure 4.49. Assume transistor parameters of VT N = 0.6 V, k ′ n = 100 μA/V2, and λ = 0. Design the transistors such that the small-signal voltage gain of the first stage is Av1 = −10 and the small-signal voltage gain of the second stage is Av2 = 0.9. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 285 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: The Bipolar Junction Transistor 5 In Chapter 2, we saw that the rectifying current–voltage characteristics of the diode are useful in electronic switching and waveshaping circuits. However, diodes are not capable of amplifying currents or voltages. As was shown in Chapter 4, the electronic device that is capable of current and voltage amplification, or gain, in conjunction with other circuit elements, is the transistor. The development of the transistor by Bardeen, Brattain, and Schockley at Bell Telephone Laboratories in the late 1940s started the first electronics revolution of the 1950sand 1960s. This invention led to the development of the first integrated circuit in 1958 and to the transistor operational amplifier (op-amp), which is one of the most widely used electronic circuits. The bipolar transistor, which is introduced in this chapter, is one of the two major types of transistors. The second type of transistor, the field-effect transistor (FET), was introduced in Chapter 3. These two device types are the basis of modern microelectronics. Each device type is equally important and each has particular advantages for specific applications. PREVIEW In this chapter, we will: • Discuss the physical structure and operation of the bipolar junction transistor. • Understand and become familiar with the dc analysis and design techniques of bipolar transistor circuits. • Examine three basic applications of bipolar transistor circuits. • Investigate various dc biasing schemes of bipolar transistor circuits, including integrated circuit biasing. • Consider the dc biasing of multistage or multi-transistor circuits. • As an application, incorporate the bipolar transistor in a circuit design that enhances the simple diode electronic thermometer discussed in Chapter 1. 285 Chapter"
Chapter 5: The Bipolar Junction Transistor,"5: The Bipolar Junction Transistor 5 In Chapter 2, we saw that the rectifying current–voltage characteristics of the diode are useful in electronic switching and waveshaping circuits. However, diodes are not capable of amplifying currents or voltages. As was shown in Chapter 4, the electronic device that is capable of current and voltage amplification, or gain, in conjunction with other circuit elements, is the transistor. The development of the transistor by Bardeen, Brattain, and Schockley at Bell Telephone Laboratories in the late 1940s started the first electronics revolution of the 1950sand 1960s. This invention led to the development of the first integrated circuit in 1958 and to the transistor operational amplifier (op-amp), which is one of the most widely used electronic circuits. The bipolar transistor, which is introduced in this chapter, is one of the two major types of transistors. The second type of transistor, the field-effect transistor (FET), was introduced in Chapter 3. These two device types are the basis of modern microelectronics. Each device type is equally important and each has particular advantages for specific applications. PREVIEW In this chapter, we will: • Discuss the physical structure and operation of the bipolar junction transistor. • Understand and become familiar with the dc analysis and design techniques of bipolar transistor circuits. • Examine three basic applications of bipolar transistor circuits. • Investigate various dc biasing schemes of bipolar transistor circuits, including integrated circuit biasing. • Consider the dc biasing of multistage or multi-transistor circuits. • As an application, incorporate the bipolar transistor in a circuit design that enhances the simple diode electronic thermometer discussed in Chapter 1. 285 Chapter"
Preview,"PREVIEW In this chapter, we will: • Discuss the physical structure and operation of the bipolar junction transistor. • Understand and become familiar with the dc analysis and design techniques of bipolar transistor circuits. • Examine three basic applications of bipolar transistor circuits. • Investigate various dc biasing schemes of bipolar transistor circuits, including integrated circuit biasing. • Consider the dc biasing of multistage or multi-transistor circuits. • As an application, incorporate the bipolar transistor in a circuit design that enhances the simple diode electronic thermometer discussed in Chapter 1. 285 Chapter nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 286 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 286 Part 1 Semiconductor Devices and Basic Applications 5.1 BASIC BIPOLAR JUNCTION TRANSISTOR Objective: • Understand the physical structure, operation, and characteristics of the bipolar junction transistors (BJT), including the npn and pnp devices. The bipolar junction transistor (BJT) has three separately doped regions and contains two pn junctions.A single pn junction has two modes of operation—forward bias and reverse bias. The bipolar transistor, with two pn junctions, therefore has four possible modes of operation, depending on the bias condition of each pn junction, which is one reason for the versatility of the device. With three separately doped regions, the bipolar transistor is a three-terminal device. The basic transistor principle is that the voltage between two terminals controls the current through the third terminal. Our discussion of the bipolar transistor starts with a description of the basic transistor structure and a qualitative description of its operation. To describe its operation, we use the pn junction concepts presented in Chapter 1. However, the two pn junctions are sufficiently close together to be called interacting pn junctions. The operation of the transistor is therefore totally different from that of two back-to-back diodes. Current in the transistor is due to the flow of both electrons and holes, hence the name bipolar. Our discussion covers the relationship between the three terminal currents. In addition, we present the circuit symbols and conventions used in bipolar circuits, the bipolar transistor current–voltage characteristics, and finally, some nonideal current–voltage characteristics. 5.1.1 Transistor Structures Figure 5.1 shows simplified block diagrams of the basic structure of the two types of bipolar transistor: npn and pnp. The npn bipolar transistor contains a thin p-region between two n-regions. In contrast, the pnp bipolar transistor contains a thin n- region sandwiched between two p-regions. The three regions and their terminal connections are called the emitter, base, and collector.1 The operation of the device depends on the two pn junctions being in close proximity, so the width of the base must be very narrow, normally in the range of tenths of a micrometer (10−6 m). The actual structure of the bipolar transistor is considerably more complicated than the block diagrams of Figure 5.1. For example, Figure 5.2 is the cross section of Emitter n p n Collector Emitter pnp Collector Base Base (a) (b) Figure 5.1 Simple geometry of bipolar transistors: (a) npn and (b) pnp 1The reason for the names emitter and collector for the terminals will become obvious as we go through the operation of the transistor. The term base refers to the structure of the original transistor."
5.1 Basic Bipolar Junction Transistor,"5.1 BASIC BIPOLAR JUNCTION TRANSISTOR Objective: • Understand the physical structure, operation, and characteristics of the bipolar junction transistors (BJT), including the npn and pnp devices. The bipolar junction transistor (BJT) has three separately doped regions and contains two pn junctions.A single pn junction has two modes of operation—forward bias and reverse bias. The bipolar transistor, with two pn junctions, therefore has four possible modes of operation, depending on the bias condition of each pn junction, which is one reason for the versatility of the device. With three separately doped regions, the bipolar transistor is a three-terminal device. The basic transistor principle is that the voltage between two terminals controls the current through the third terminal. Our discussion of the bipolar transistor starts with a description of the basic transistor structure and a qualitative description of its operation. To describe its operation, we use the pn junction concepts presented in Chapter 1. However, the two pn junctions are sufficiently close together to be called interacting pn junctions. The operation of the transistor is therefore totally different from that of two back-to-back diodes. Current in the transistor is due to the flow of both electrons and holes, hence the name bipolar. Our discussion covers the relationship between the three terminal currents. In addition, we present the circuit symbols and conventions used in bipolar circuits, the bipolar transistor current–voltage characteristics, and finally, some nonideal current–voltage characteristics. 5.1.1 Transistor Structures Figure 5.1 shows simplified block diagrams of the basic structure of the two types of bipolar transistor: npn and pnp. The npn bipolar transistor contains a thin p-region between two n-regions. In contrast, the pnp bipolar transistor contains a thin n- region sandwiched between two p-regions. The three regions and their terminal connections are called the emitter, base, and collector.1 The operation of the device depends on the two pn junctions being in close proximity, so the width of the base must be very narrow, normally in the range of tenths of a micrometer (10−6 m). The actual structure of the bipolar transistor is considerably more complicated than the block diagrams of Figure 5.1. For example, Figure 5.2 is the cross section of Emitter n p n Collector Emitter pnp Collector Base Base (a) (b) Figure 5.1 Simple geometry of bipolar transistors: (a) npn and (b) pnp 1The reason for the names emitter and collector for the terminals will become obvious as we go through the operation of the transistor. The term base refers to the structure of the original transistor. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 287 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 287 BE C SiO2 Aluminum Isolation Epitaxial layer + n++ n++ pp+ n p+ n++ p Buried Base Silicon layer substrate Figure 5.2 Cross section of a conventional integrated circuit npn bipolar transistor a classic npn bipolar transistor fabricated in an integrated circuit. One important point is that the device is not symmetrical electrically. This asymmetry occurs because the geometries of the emitter and collector regions are not the same, and the impurity doping concentrations in the three regions are substantially different. For example, the impurity doping concentrations in the emitter, base, and collector maybe on the order of 1019, 1017, and 1015 cm−3, respectively. Therefore, even though both ends are either p-type or n-type on a given transistor, switching the two ends makes the device act in drastically different ways. Although the block diagrams in Figure 5.1 are highly simplified, they are still useful for presenting the basic transistor characteristics. 5.1.2 npn Transistor: Forward-Active Mode Operation Since the transistor has two pn junctions, four possible bias combinations maybe applied to the device, depending on whether a forward or reverse bias is applied to each junction. For example, if the transistor is used as an amplifying device, the base–emitter (BE) junction is forward biased and the base–collector (BC) junction is reverse biased, in a configuration called the forward-active operating mode, or simply the active region. The reason for this bias combination will be illustrated as we look at the operation of such transistors and the characteristics of circuits that use them. Transistor Currents Figure 5.3 shows an idealized npn bipolar transistor biased in the forward-active mode. Since the BE junction is forward biased, electrons from the emitter are injected across Base-emitter Base-collector (BE) junction (BC) junction n p n iE iC Electron E injection C REV + RC BE B – V + – + BB VCC Figure 5.3 An npn bipolar transistor biased in the forward-active mode; base–emitter junction forward biased and base–collector junction reverse biased nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 288 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 288 Part 1 Semiconductor Devices and Basic Applications Electron concentration E(n) B(p) C(n) Electron E-field injection Ideal (linear) n(x) With recombination Neutral base width Figure 5.4 Minority carrier electron concentration across the base region of an npn bipolar transistor biased in the forward-active mode. Minority carrier concentration is a linear function versus distance for an ideal transistor (no carrier recombination), and is a nonlinear function versus distance for a real device (with carrier recombination). the BE junction into the base, creating an excess minority carrier concentration in the base. Since the BC junction is reverse biased, the electron concentration at the edge of that junction is approximately zero. The base region is very narrow so that, in the ideal case, the injected electrons will not recombine with any of the majority carrier holes in the base. In this case, the electron distribution versus distance through the base is a straight line as shown in Figure 5.4. Because of the large gradient in this concentration, electrons that are injected, or emitted, from the emitter region diffuse across the base, are swept across the base–collector space-charge region by the electric field, and are collected in the collector region creating the collector current. However, if some carrier recombination does occur in the base, the electron concentration will deviate from the ideal linear curve, as shown in the figure. To minimize recombination effects, the width of the neutral base region must be small compared to the minority carrier diffusion length. Emitter Current: Since the BE junction is forward biased, we expect the current through this junction to be an exponential function of BE voltage, just as we saw that the current through a pn junction diode was an exponential function of the forward- biased diode voltage. We can then write the current at the emitter terminal as iE = IE O [evB E /VT − 1] ∼= I vB E /VT E Oe (5.1) where the approximation of neglecting the (−1) term is usually valid since vB E  VT in most cases.2 The parameter VT is the usual thermal voltage. The emission coefficient n that multiplies VT is assumed to be 1, as we discussed in Chapter 1 in considering the ideal diode equation. The flow of the negatively charged electrons is through the emitter into the base and is opposite to the conventional current direction. The conventional emitter current direction is therefore out of the emitter terminal. 2The voltage notation vB E , with the dual subscript, denotes the voltage between the B (base) and E (emitter) terminals. Implicit in the notation is that the first subscript (the base terminal) is positive with respect to the second subscript (the emitter terminal). We will assume that the ideality factor n in this diode equation is unity (see Chapter 1). nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 289 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 289 The multiplying constant, IEO, contains electrical parameters of the junction, but in addition is directly proportional to the active BE cross-sectional area. Therefore, if two transistors are identical except that one has twice the area of the other, then the emitter currents will differ by a factor of two for the same applied BE voltage. Typical values of IEO are in the range of 10−12 to 10−16 A, but may, for special transistors, vary outside of this range. Collector Current: Since the doping concentration in the emitter is much larger than that in the base region, the vast majority of emitter current is due to the injection of electrons into the base. The number of these injected electrons reaching the collector is the major component of collector current. The number of electrons reaching the collector per unit time is proportional to the number of electrons injected into the base, which in turn is a function of the BE voltage. To a first approximation, the collector current is proportional to evB E /VT and is independent of the reverse-biased BC voltage. The device therefore looks like a constant-current source. The collector current is controlled by the BE voltage; in other words, the current at one terminal (the collector) is controlled by the voltage across the other two terminals. This control is the basic transistor action. We can write the collector current as iC = I evB E /VT S (5.2) The collector current is slightly smaller than the emitter current, as we will show. The emitter and collector currents are related by iC = αiE . We can also relate the coefficients by IS = α IE O . The parameter α is called the common-base current gain whose value is always slightly less than unity. The reason for this name will become clearer as we proceed through the chapter. Base Current: Since the BE junction is forward biased, holes from the base are injected across the BE junction into the emitter. However, because these holes do not contribute to the collector current, they are not part of the transistor action. Instead, the flow of holes forms one component of the base current. This component is also an exponential function of the BE voltage, because of the forward-biased BE junction. We can write i ∝ evB E /VT B1 (5.3(a)) A few electrons recombine with majority carrier holes in the base. The holes that are lost must be replaced through the base terminal. The flow of such holes is a second component of the base current. This “recombination current” is directly proportional to the number of electrons being injected from the emitter, which in turn is an exponential function of the BE voltage. We can write i vB E /VT B2 ∝ e (5.3(b)) The total base current is the sum of the two components from Equations (5.3(a)) and (5.3(b)): i vB E /VT B ∝ e (5.4) Figure 5.5 shows the flow of electrons and holes in an npn bipolar transistor, as well as the terminal currents.3 (Reminder: the conventional current direction is the 3A more thorough study of the physics of the bipolar transistor shows that there are other current components, in addition to the ones mentioned. However, these additional currents do not change the basic properties of the transistor and can be neglected for our purposes. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 290 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 290 Part 1 Semiconductor Devices and Basic Applications n p n Electrons EC iE iC Holes iB2 iB1 iB B Figure 5.5 Electron and hole currents in an npn bipolar transistor biased in the forward- active mode. Emitter, base, and collector currents are proportional to evB E /VT . same as the flow of positively charged holes and opposite to the flow of negatively charged electrons.) If the concentration of electrons in then-type emitter is much larger than the concentration of holes in the p-type base, then the number of electrons injected into the base will be much larger than the number of holes injected into the emitter. This means that the iB1 component of the base current will be much smaller than the collector current. In addition, if the base width is small, then the number of electrons that recombine in the base will be small, and the iB2 component of the base current will also be much smaller than the collector current. Common-Emitter Current Gain In the transistor, the rate of flow of electrons and the resulting collector current are an exponential function of the BE voltage, as is the resulting base current. This means that the collector current and the base current are linearly related. Therefore, we can write iC = β (5.5) iB or i Ii = I evB E /VT CS vB E /VT B BO = = e (5.6) β β The parameter β is the common-emitter current gain4 and is a key parameter of the bipolar transistor. In this idealized situation, β is considered to be a constant for any given transistor. The value of β is usually in the range of 50 < β < 300, but it can be smaller or larger for special devices. The value of β is highly dependent upon transistor fabrication techniques and process tolerances. Therefore, the value of β varies between transistor types and also between transistors of a given type, such as the discrete 2N2222. In any example or problem, we generally assume that β is a constant. However, it is important to realize that β can and does vary. Figure 5.6 shows an npn bipolar transistor in a circuit. Because the emitter is the common connection, this circuit is referred to as a common-emitter configuration. When the transistor is biased in the forward-active mode, the BE junction is forward 4Since we are considering the case of a transistor biased in the forward-active mode, the common–base current gain and common-emitter current gain parameters are often denoted as αF and βF , respectively. For ease of notation, we will simply define these parameters as α and β . nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 291 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 291 C iC – n + R vR RB CB p vCE + + + iB vBE n – + VBB – V E CC – iE – Figure 5.6 An npn transistor circuit in the common-emitter configuration. Shown are the current directions and voltage polarities for the transistor biased in the forward-active mode. biased and the BC junction is reverse biased. Using the piecewise linear model of a pn junction, we assume that the BE voltage is equal to VB E (on), the junction turn- on voltage. Since VCC = vC E + iC RC , the power supply voltage must be sufficiently large to keep the BC junction reverse biased. The base current is established by VB Band RB, and the resulting collector current is iC = βiB . If we set VB B = 0, the BE junction will have zero applied volts; therefore, iB = 0, which implies that iC = 0. This condition is called cutoff. Current Relationships If we treat the bipolar transistor as a single node, then, by Kirchhoff’s current law, we have iE = iC + iB (5.7) If the transistor is biased in the forward-active mode, then iC = βiB (5.8) Substituting Equation (5.8) into (5.7), we obtain the following relationship between the emitter and base currents: iE = (1 + β)iB (5.9) Solving for iB in Equation (5.8) and substituting into Equation (5.9), we obtain a relationsh(ip betwe)en the collector and emitter currents, as follows: β iC = + iE (5.10) 1 β We can write iC = αiE so = β α + (5.11) 1 β The parameter α is called the common-base current gain and is always slightly less than 1. We may note that if β = 100, then α = 0.99, so α is indeed close to 1. From Equation (5.11), we can state the common-emitter current gain in terms of the common-base current gain: = α β (5.12) 1 − α Summary of Transistor Operation We have presented a first-order model of the operation of the npn bipolar transistor biased in the forward-active region. The forward-biased BE voltage, vB E , causes an nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 292 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 292 Part 1 Semiconductor Devices and Basic Applications exponentially related flow of electrons from the emitter into the base where they diffuse across the base region and are collected in the collector region. The collector current, iC , is independent of the BC voltage as long as the BC junction is reverse biased. The collector, then, behaves as an ideal current source. The collector current is a fraction α of the emitter current, and the base current is a fraction 1/β of the collector current. If β  1, then α ∼= 1 and iC ∼= iE . EXAMPLE 5.1 Objective: Calculate the collector and emitter currents, given the base current and current gain. Assume a common-emitter current gain of β = 150 and a base current of iB = 15 μA. Also assume that the transistor is biased in the forward-active mode. Solution: The relation between collector and base currents gives iC = βiB = (150)(15 μA) ⇒ 2.25 mA and the relation between emitter and base currents yields iE = (1 + β)iB = (151)(15 μA) ⇒ 2.27 mA From Equation (5.11), the common-base current gain is α = β = 150 + = 0.9934 1 β 151 Comment: For reasonable values of β , the collector and emitter currents are nearly equal, and the common-base current gain is nearly 1. EXERCISE PROBLEM Ex 5.1: An npn transistor is biased in the forward-active mode. The base current is IB = 8.50 μA and the emitter current is IE = 1.20 mA. Determine β , α, and IC . (Ans. β = 140.2, α = 0.9929, IC = 1.1915 mA) 5.1.3 pnp Transistor: Forward-Active Mode Operation We have discussed the basic operation of the npn bipolar transistor. The complementary device is the pnp transistor. Figure 5.7 shows the flow of holes and electrons in a pnp device biased in the forward-active mode. Since the BE junction is forward biased, the p-type emitter is positive with respect to then-type base, holes flow from the emitter into the base, the holes diffuse across the base, and they are swept into the collector. The collector current is a result of this flow of holes. Again, since the BE junction is forward biased, the emitter current is an exponential function of the BE voltage. Noting the direction of emitter current and the polarity of the foward-biased BE voltage, we can write iE = I vE B/VT E Oe (5.13) where vE Bis the voltage between the emitter and base, and now implies that the emitter is positive with respect to the base. We are again assuming the −1 term in the ideal diode equation is negligible. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 293 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 293 pnp Holes EC iE iC RE RC B Electrons iB1 ii B2 B + V – + V – BB CC Figure 5.7 Electron and hole currents in a pnp bipolar transistor biased in the forward-active mode. Emitter, base, and collector currents are proportional to evE B/VT . The collector current is an exponential function of the E–B voltage, and the direction is out of the collector terminal, which is opposite to that in the npn device. We can now write iC = αiE = I vE B/VT Se (5.14) where α is again the common-base current gain. The base current in a pnp device is the sum of two components. The first component, iB1, comes from electrons flowing from the base into the emitter as a result of the forward-biased E–B junction. We can then write iB1 ∝ exp(vE B/VT ). The second component, iB2, comes from the flow of electrons supplied through the base terminal to replace those lost by recombination with the minority carrier holes injected into the base from the emitter. This component is proportional to the number of holes injected into the base, so iB2 ∝ exp(vE B/VT ). Therefore the total base current is iB = iB1 + iB2 ∝ exp(vE B/VT ). The direction of the base current is out of the base terminal. Since the total base current in the pnp device is an exponential function of the E–B voltage, we can write = v /V = iC = Ii I e E B TS evE B/VT B BO (5.15) β β The parameter β is also the common-emitter current gain of the pnp bipolar transistor. The relationships between the terminal currents of the pnp transistor are exactly the same as those of the npn transistor and are summarized in Table 5.1 in the next section. Also the relationships between β and α are the same as given in Equations (5.11) and (5.12). 5.1.4 Circuit Symbols and Conventions The block diagram and conventional circuit symbol of an npn bipolar transistor are shown in Figures 5.8(a) and 5.8(b). The arrowhead in the circuit symbol is always placed on the emitter terminal, and it indicates the direction of the emitter current. For the npn device, this direction is out of the emitter. The simplified block diagram and conventional circuit symbol of a pnp bipolar transistor are shown in Figures 5.9(a) and 5.9(b). Here, the arrowhead on the emitter terminal indicates that the direction of the emitter current is into the emitter. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 294 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 294 Part 1 Semiconductor Devices and Basic Applications ii CC i iC CC C n C p + C – BB BB p vCE n vEC + – ii Bin B vBE E B p iB v + EB E – + E i E i E ii E E E (a) (b) (a) (b) Figure 5.8 npn bipolar transistor: (a) simple Figure 5.9 pnp bipolar transistor: (a) simple block diagram and (b) circuit symbol. Arrow block diagram and (b) circuit symbol. Arrow is on the emitter terminal and indicates the is on the emitter terminal and indicates the direction of emitter current (out of emitter direction of emitter current (into emitter terminal for the npn device). terminal for the pnp device). Table 5.1 Summary of the bipolar current–voltage relationships in the active region npn pnp iC = ISevB E /VT iC = ISevE B/VT i iC IS v /V iC IS v /V E = = e BE Ti = = e E B T α α E α α i = iC = IS B evB E /VT i = iC = IS v Be E B/VT β β β β For both transistors iE = iC + iB iC = βiB ( ) iE = β (1 + β)iB iC = αiE = 1+ i β E = β α α 1+ β = β 1−α Referring to the circuit symbols given for the npn (Figure 5.8(b)) and pnp (Figure 5.9(b)) transistors showing current directions and voltage polarities, we can summarize the current–voltage relationships as given in Table 5.1. Figure 5.10(a) shows a common-emitter circuit with an npn transistor. The figure includes the transistor currents, and the base-emitter (BE) and collector–emitter iE i + C iC v R EBB + + R + RC RR – BB C vEC v + VCC CE vEC – + + + – – – Vi BBB – iv – VB BE + BB – Vi v CC VBB B EB V + CC – RC ii CE – i + E + (a) (b) (c) Figure 5.10 Common-emitter circuits: (a) with an npn transistor, (b) with a pnp transistor, and (c) with a pnp transistor biased with a positive voltage source nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 295 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 295 (CE) voltages. Figure 5.10(b) shows a common-emitter circuit with a pnp bipolar transistor. Note the different current directions and voltage polarities in the two circuits. A more usual circuit configuration using the pnp transistor is shown in Figure 5.10(c). This circuit allows positive voltage supplies to be used. Test Your Understanding TYU 5.1 (a) The common-emitter current gains of two transistors are β = 60 and β = 150. Determine the corresponding common-base current gains. (b) The common- base current gains of two transistors are α = 0.9820 and α = 0.9925. Determine the corresponding common-emitter current gains. (Ans. (a) α = 0.9836, α = 0.9934; (b) β = 54.6, β = 132.3) TYU 5.2 An npn transistor is biased in the forward-active mode. The base current is IB = 5.0 μA and the collector current is IC = 0.62 mA. Determine IE , β , and α. (Ans. IE = 0.625 mA, β = 124, and α = 0.992) TYU 5.3 The emitter current in a pnp transistor biased in the forward-active mode is IE = 1.20 mA. The common-base current gain of the transistor is α = 0.9915. Determine β , IB , and IC . (Ans. β = 117, IB = 10.2 μA, IC = 1.19 mA) 5.1.5 Current–Voltage Characteristics Figures 5.11(a) and 5.11(b) are common-base circuit configurations for an npn and a pnp bipolar transistor, respectively. The current sources provide the emitter current. Previously, we stated that the collector current iC was nearly independent of the CB voltage as long as the BC junction was reverse biased. When the BC junction becomes forward biased, the transistor is no longer in the forward-active mode, and the collector and emitter currents are no longer related by iC = αiE . Figure 5.12 shows the typical common-base current–voltage characteristics. When the collector–base junction is reverse biased, then for constant values of emitter iC Forward-active mode V + V + a FiE5 iE5 iC RC iE a FiE4 + iv E4 CB – + a FiE3 vBC i – E3 ii RE CC a FiE2 iE2 V – Va FiE1 (a) (b) iE1 Figure 5.11 Common-base circuit configuration with 0 constant current source biasing: vCB (V) npn or vBC (V) pnp 0.2–0.3 V (a) an npn transistor and (b) a pnp transistor Figure 5.12 Transistor current–voltage characteristics of the common-base circuit nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 296 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 296 Part 1 Semiconductor Devices and Basic Applications current, the collector current is nearly equal to iE. These characteristics show that the common-base device is nearly an ideal constant-current source. The CB voltage can be varied by changing the V + voltage (Figure 5.11(a)) or the V − voltage (Figure 5.11(b)). When the collector–base junction becomes forward biased in the range of 0.2 and 0.3 V, the collector current iC is still essentially equal to the emitter current iE . In this case, the transistor is still basically biased in the forward-active mode. However, as the forward-bias CB voltage increases, the linear relationship between the collector and emitter currents is no longer valid, and the collector current very quickly drops to zero. The common-emitter circuit configuration provides a slightly different set of current–voltage characteristics, as shown in Figure 5.13. For these curves, the collector current is plotted against the collector–emitter voltage, for various constant values of the base current. These curves are generated from the common-emitter circuits shown in Figure 5.10. In this circuit, the VB B source forward biases the BE junction and controls the base current iB . The CE voltage can be varied by changing VCC . iC (mA) Forward-active mode iB = 30 mA 3 25 20 2 15 10 1 5 0 2 4 6 8 10 12 vCE (V) npn or vEC (V) pnp Figure 5.13 Transistor current–voltage characteristics of the common-emitter circuit In the npn device, in order for the transistor to be biased in the forward-active mode, the BC junction must be zero or reverse biased, which means that VC E must be greater than approximately V 5 BE (on). For VC E > VB E (on), there is a finite slope to the curves. If, however, VC E < VB E (on), the BC junction becomes forward biased, the transistor is no longer in the forward-active mode, and the collector current very quickly drops to zero. Figure 5.14 shows an exaggerated view of the current–voltage characteristics plotted for constant values of the BE voltage. The curves are theoretically linear with respect to the CE voltage in the forward-active mode. The slope in these characteristics is due to an effect called base-width modulation that was first analyzed by J. M. Early. The phenomenon is generally called the Early effect. When the curves are extrapolated to zero current, they meet at a point on the negative voltage axis, at vC E = −VA . The voltage VA is a positive quantity called the Early voltage. Typical 5Even though the collector current is essentially equal to the emitter current when the BC junction becomes slightly forward biased, as was shown in Figure 5.12, the transistor is said to be biased in the forward-active mode when the BC junction is zero or reverse biased. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 297 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 297 iC v = … Forward-active BE mode vBE = … ΔiC 1 Slope = = Δv rCE o vBE = … vBE = … –VA 0 vCE Figure 5.14 Current-voltage characteristics for the common-emitter circuit, showing the Early voltage and the finite output resistance, ro, of the transistor values of VA are in the range 50 < VA < 300 V. For a pnp transistor, this same effect is true except the voltage axis is vEC . For a given value of vB E in an npn transistor, if vC E increases, the reverse-bias voltage on the collector–base junction increases, which means that the width of the BC space-charge region also increases. This in turn reduces the neutral base width W (see Figure 5.4). A decrease in the base width causes the gradient in the minority carrier concentration to increase, which increases the diffusion current through the base. The collector current then increases as the CE voltage increases. The linear dependence of iC versus vC E in the forward-active mode can be described by ( ) iv /V v BE TC EC = IS(e ) · 1 + (5.16) VA where IS is assumed to be constant. In Figure 5.14, the nonzero slope of the curves indicates that the output resistance ro looking ∣∣into the collector is finite. This output resistance is determined from 1 = ∂iC ∣∣ (5.17) ro ∂vC E vB E =const. Using Equation (5.16), we can show that ro ∼= VA (5.18) IC where IC is the quiescent collector current when vB E is a constant and vC E is small compared to VA. In most cases, the dependence of iC on vC E is not critical in the dc analysis or design of transistor circuits. However, the finite output resistance ro may significantly affect the amplifier characteristics of such circuits. This effect is examined more closely in Chapter 6 of this text. Test Your Understanding TYU 5.4 The output resistance of a bipolar transistor is ro = 225 k at IC = 0.8 mA. (a) Determine the Early voltage. (b) Using the results of part (a), find ro at (i) IC = 0.08 mA and (ii) IC = 8 mA. (Ans. (a) VA = 180 V; (b) (i) ro = 2.25 M, (ii) ro = 22.5 k) nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 298 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 298 Part 1 Semiconductor Devices and Basic Applications TYU 5.5 Assume that IC = 1 mA at VC E = 1 V, and that VB E is held constant. Determine IC at VC E = 10 V if: (a) VA = 75 V; and (b) VA = 150 V. (Ans. IC = 1.12 mA, 1.06 mA) 5.1.6 Nonideal Transistor Leakage Currents and Breakdown Voltage In discussing the current–voltage characteristics of the bipolar transistor in the previous sections, two topics were ignored: leakage currents in the reverse-biased pn junctions and breakdown voltage effects. Leakage Currents In the common-base circuits in Figure 5.11, if we set the current source iE = 0, transistors will be cutoff, but the BC junctions will still be reverse biased. A reverse- bias leakage current exists in these junctions, and this current corresponds to the reverse-bias saturation current in a diode, as described in Chapter 1. The direction of these reverse-bias leakage currents is the same as that of the collector currents. The term IC BO is the collector leakage current in the common-base configuration, and is the collector-base leakage current when the emitter is an open circuit. This leakage current is shown in Figure 5.15(a). n p n n p n EC E ICBO CI I CEO CBO αICEO BB – V + – CB V + CE (a) (b) Figure 5.15 Block diagram of an npn transistor in an (a) open-emitter configuration showing the junction leakage current IC BO and (b) open-base configuration showing the leakage current ICE O Another leakage current can exist between the emitter and collector with the base terminal an open circuit. Figure 5.15(b) is a block diagram of an npn transistor in which the base is an open circuit (iB = 0). The current component IC BO is the normal leakage current in the reverse-biased BC pn junction. This current component causes the base potential to increase, which forward biases the BE junction and induces the BE current ICE O . The current component α ICE O is the normal collector current resulting from the emitter current ICE O . We can write ICE O = α ICE O + IC BO (5.19(a)) or II C BO CE O = ∼ − = β IC BO (5.19(b)) 1 α This relationship indicates that the open-base configuration produces different characteristics than the open-emitter configuration. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 299 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 299 iC ΔIC ΔIB I IB2 C2 ICEO ICBO vCE Figure 5.16 Transistor current–voltage characteristics for the common-emitter circuit including leakage currents. The dc beta and ac beta for the transistor can be determined from this set of characteristics. The Early voltage for this set of characteristics is assumed to be VA = ∞. When the transistor is biased in the forward-active mode, the various leakage currents still exist. Common-emitter current–voltage characteristics are shown in Figure 5.16, in which the leakage current has been included. A dc beta or dc common- emitter current gain can be defined, for example, as = IC2 βdc (5.20) IB2 where the collector current IC2 includes the leakage current as shown in the figure. An ac β is defined as = IC βac (5.21) IB|VC E = const. This definition of beta excludes the leakage current as shown in the figure. If the leakage currents are negligible, the two values of beta are equal. We will assume in the remainder of this text that the leakage currents can be neglected and beta can simply be denoted as β as previously defined. Breakdown Voltage: Common-Base Characteristics The common-base current–voltage characteristics shown in Figure 5.12 are ideal in that breakdown is not shown. Figure 5.17 shows the same iC versus vC B characteristics with the breakdown voltage. iC Forward-active mode iE = IE1 iE = IE2 iE = 0 0 vCB 0.2–0.3 V BVCBO Figure 5.17 The iC versus vC B common-base characteristics, showing the collector–base junction breakdown nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 300 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 300 Part 1 Semiconductor Devices and Basic Applications Consider the curve for iE = 0 (the emitter terminal is effectively an open circuit). The collector–base junction breakdown voltage is indicated as BVC BO . This is a simplified figure in that it shows breakdown occurring abruptly at BVC BO . For the curves in which iE > 0, breakdown actually begins earlier. The carriers flowing across the junction initiate the breakdown avalanche process at somewhat lower voltages. Breakdown Voltage: Common-Emitter Characteristics Figure 5.18 shows the iC versus vC E characteristics of an npn transistor, for various constant base currents, and an ideal breakdown voltage of BVC E O . The value of BVC E O is less than the value of BVC BO because BVC E O includes the effects of the transistor action, while BVC BO does not. This same effect was observed in the ICE O leakage current. iC Forward-active mode iB = IB1 iB = IB2 ΔiC iB = IBQ + ΔiB ICQ iB = IBQ iB = … iB = 0 0 VCEQ vCE BVCEO Figure 5.18 Common-emitter characteristics showing breakdown effects The breakdown voltage characteristics for the two configurations are also different. The breakdown voltage for the open-base case is given by BVC E O = BV√C BO n β (5.22) where n is an empirical constant usually in the range of 3 to 6. EXAMPLE 5.2 Objective: Calculate the breakdown voltage of a transistor connected in the open- base configuration. Assume that the transistor current gain is β = 100 and that the breakdown voltage of the BC junction is BVC BO = 120 V. Solution: If we assume an empirical constant of n = 3, we have BVC BO 120 BVC E O = √ = √ = 25.9 V n β 3 100 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 301 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 301 Comment: The breakdown voltage of the open-base configuration is substantially less than that of the CB junction. This represents a worst-case condition, which must be considered in any circuit design. Design Pointer: The designer must be aware of the breakdown voltage of the specific transistors used in a circuit, since this will be a limiting factor in the size of the dc bias voltages that can be used. EXERCISE PROBLEM Ex 5.2: The open-emitter breakdown voltage is BVC BO = 200 V, the current gain is β = 120, and the empirical constant is n = 3. Determine BVC E O . (Ans. 40.5 V) Breakdown may also occur in the BE junction if a reverse-bias voltage is applied to that junction. The junction breakdown voltage decreases as the doping concentrations increase. Since the emitter doping concentration is usually substantially larger than the doping concentration in the collector, the BE junction breakdown voltage is normally much smaller than that of the BC junction. Typical BE junction breakdown voltage values are in the range of 6 to 8 V. Test Your Understanding TYU 5.6 A particular transistor circuit requires a minimum open-base breakdown voltage of BVC E O = 30 V. If β = 100 and n = 3, determine the minimum required value of BVC BO . (Ans. 139 V) 5.2 DC ANALYSIS OF TRANSISTOR CIRCUITS Objective: • Understand and become familiar with the dc analysis and design techniques of bipolar transistor circuits. We’ve considered the basic transistor characteristics and properties. We can now start analyzing and designing the dc biasing of bipolar transistor circuits. A primary purpose of the rest of the chapter is to become familiar and comfortable with the bipolar transistor and transistor circuits. The dc biasing of transistors, the focus of this chapter, is an important part of designing bipolar amplifiers, the focus of the next chapter. The piecewise linear model of a pn junction can be used for the dc analysis of bipolar transistor circuits. We will first analyze the common-emitter circuit and introduce the load line for that circuit. We will then look at the dc analysis of other bipolar transistor circuit configurations. Since a transistor in a linear amplifier must be biased in the forward-active mode, we emphasize, in this section, the analysis and design of circuits in which the transistor is biased in this mode."
5.2 DC Analysis of Transistor Circuits,"5.2 DC ANALYSIS OF TRANSISTOR CIRCUITS Objective: • Understand and become familiar with the dc analysis and design techniques of bipolar transistor circuits. We’ve considered the basic transistor characteristics and properties. We can now start analyzing and designing the dc biasing of bipolar transistor circuits. A primary purpose of the rest of the chapter is to become familiar and comfortable with the bipolar transistor and transistor circuits. The dc biasing of transistors, the focus of this chapter, is an important part of designing bipolar amplifiers, the focus of the next chapter. The piecewise linear model of a pn junction can be used for the dc analysis of bipolar transistor circuits. We will first analyze the common-emitter circuit and introduce the load line for that circuit. We will then look at the dc analysis of other bipolar transistor circuit configurations. Since a transistor in a linear amplifier must be biased in the forward-active mode, we emphasize, in this section, the analysis and design of circuits in which the transistor is biased in this mode. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 302 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 302 Part 1 Semiconductor Devices and Basic Applications 5.2.1 Common-Emitter Circuit One of the basic transistor circuit configurations is called the common-emitter circuit. Figure 5.19(a) shows one example of a common-emitter circuit. The emitter terminal is obviously at ground potential. This circuit configuration will appear in many amplifiers that will be considered in Chapter 6. C RB BIC II bI BB + CR + V C CE RC + RB C VBE (on) + – B V – CE VBB + + + + I – – E B VBE E V V V CC CC BB – IE – – – IE (a) (b) Figure 5.19 (a) Common-emitter circuit with npn transistor and (b) dc equivalent circuit. Transistor equivalent circuit is shown within the dotted lines with piecewise linear transistor parameters. Figure 5.19(a) shows a common-emitter circuit with an npn transistor, and Figure 5.19(b) shows the dc equivalent circuit. We will assume that the BE junction is forward biased, so the voltage drop across that junction is the cut-in or turn-on voltage VB E (on). When the transistor is biased in the forward-active mode, the collector current is represented as a dependent current source that is a function of the base current. We are neglecting the reverse-biased junction leakage current and the Early effect in this case. In the following circuits, we will be considering dc currents and voltages, so the dc notation for these parameters will be used. The base current is = VB B − VB E(on) IB (5.23) RB Implicit in Equation (5.23) is that VB B > VB E (on), which means that IB > 0. When VB B < VB E (on), the transistor is cutoff and IB = 0. In the collector–emitter portion of the circuit, we can write IC = β IB (5.24) and VCC = IC RC + VC E (5.25(a)) or VC E = VCC − IC RC (5.25(b)) In Equation (5.25(b)), we are also implicitly assuming that VC E > VB E (on), which means that the BC junction is reverse biased and the transistor is biased in the forward-active mode. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 303 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 303 Considering Figure 5.19(b), we can see that the power dissipated in the transistor is given by PT = IB VB E(on) + IC VC E (5.26(a)) In most cases, IC  IB and VC E > VB E (on) so that a good first approximation of the power dissipated is given as PT =∼ IC VC E (5.26(b)) The principal condition where this approximation is not valid is for a transistor biased in the saturation mode (discussed later). EXAMPLE 5.3 Objective: Calculate the base, collector, and emitter currents and the CE voltage for a common-emitter circuit. Calculate the transistor power dissipation. For the circuit shown in Figure 5.19(a), the parameters are: VB B = 4 V, RB = 220 k, RC = 2 k, VCC = 10 V, VB E (on) = 0.7 V, and β = 200. Figure 5.20(a) shows the circuit without explicitly showing the voltage sources. VCC = 10 V VCC = 10 V RC = 2 kΩ IC = b IB = 3 mA RC = 2 kΩ IC R + B = 220 kΩ VBB = 4 V VCE = 10 – (3)(2) R + B = 220 kΩ + – = 4 V V 4 – 0.7 BB = 4 V VCE IB = VBE = 0.7 V + 220 kΩ – – I = I + I IB VBE ⇒ 15 m EC BA – = 3.02 mA (a) (b) Figure 5.20 Circuit for Example 5.3: (a) circuit and (b) circuit showing current and voltage values Solution: Referring to Figure 5.20(b), the base current is found as V − V (on) 4 − 0.7 IB = BB BE = ⇒ 15 μA RB 220 The collector current is IC = β IB = (200)(15 μA) ⇒ 3 mA and the emitter current is IE = (1 + β) · IB = (201)(15μA) ⇒ 3.02 mA From Equation (5.25(b)), the collector-emitter voltage is VC E = VCC − IC RC = 10 − (3)(2) = 4 V The power dissipated in the transistor is found to be PT = IB VB E(on) + IC VC E = (0.015)(0.7) + (3)(4) ∼= IC VC E nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 304 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 304 Part 1 Semiconductor Devices and Basic Applications or PT ∼= 12 mW Comment: Since VB B > VB E (on) and VC E > VB E (on), the transistor is indeed biased in the forward-active mode. As a note, in an actual circuit, the voltage across a BE junction may not be exactly 0.7 V, as we have assumed using the piecewise linear approximation. This may lead to slight inaccuracies between the calculated currents and voltages and the measured values. Also note that, if we take the difference between IE and IC , which is the base current, we obtain IB = 20 μA rather than 15 μA. The difference is the result of roundoff error in the emitter current. EXERCISE PROBLEM Ex 5.3: The circuit elements in Figure 5.20(a) are changed to VCC = 3.3 V, VB B = 2 V, RC = 3.2 k, and RB = 430 k. The transistor parameters are β = 150 and VB E = 0.7 V. Calculate IB , IC , VC E , and the power dissipated in the transistor. (Ans. IB = 3.02 μA, IC = 0.453 mA, VC E = 1.85 V, P = 0.838 mW) Figure 5.21(a) shows a common-emitter circuit with a pnp bipolar transistor, and Figure 5.21(b) shows the dc equivalent circuit. In this circuit, the emitter is at ground potential, which means that the polarities of the VB Band VCC power supplies must be reversed compared to those in the npn circuit. The analysis proceeds exactly as before, and we can write = VB B − VI E B(on) B (5.27) RB IC = β IB (5.28) and VEC = VCC − IC RC (5.29) We can see that Equations (5.27), (5.28), and (5.29) for the pnp bipolar transistor in the common-emitter configuration are exactly the same as Equations (5.23), (5.24), and (5.25(b)) for the npn bipolar transistor in a similar circuit, if we properly define the current directions and voltage polarities. C RB BIC I bIB – IC BR – V C EC RC – RC VB – EB (on) + B V + EC VBB – – – – I + E B V + V V V EB E CC CC BB + + + + II E E (a) (b) Figure 5.21 (a) Common-emitter circuit with pnp transistor and (b) dc equivalent circuit. Transistor equivalent circuit is shown within the dotted lines with piecewise linear transistor parameters. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 305 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 305 In many cases, the pnp bipolar transistor will be reconfigured in a circuit so that positive voltage sources, rather than negative ones, can be used. We see this in the following example. EXAMPLE 5.4 Objective: Analyze the common-emitter circuit with a pnp transistor. For the circuit shown in Figure 5.22(a), the parameters are: VB B = 1.5 V, RB = 580 k, V(+ =) 5 V, VE B(on) = 0.6 V, and β = 100. Find IB , IC , IE , and RC such that VEC = 1 V + 2 . V+ = 5 V + IE = I + IV = 5 V CB + = 0.505 mA 0.6 V RB = 580 kΩ – + I + E V = +1.5 V VEC = 2.5 V V BB EB RB = 580 kΩ + – I (5 – 0.6) – 1.5 V = 1.5 V VB = BB EC 580 kΩ IC = b IB = 0.5 mA I – ⇒ 5 mA B 5 – 2.5 = RC RC IC RC (a) (b) Figure 5.22 Circuit for Example 5.4; (a) circuit and (b) circuit showing current and voltage values Solution: Writing a Kirchhoff voltage law equation around the E–Bloop, we find the base current to be = V + − VE B(on) − VB B = 5 − 0.6 − 1.5 IB ⇒ 5μA RB 580 The collector current is IC = β IB = (100)(5μA) ⇒ 0.5 mA and the emitter current is IE = (1 + β)IB = (101)(5μA) ⇒ 0.505 mA For a CE voltage of V = 1 V + EC 2 = 2.5 V, RC is + RC = V − VEC = 5 − 2.5 = 5 k IC 0.5 Comment: In this case, the difference between V + and VB Bis greater than the transistor turn-on voltage, or (V + − VB B) > VE B(on). Also, because VEC > VE B (on), the pnp bipolar transistor is biased in the forward-active mode. Discussion: In this example, we used an emitter-base turn-on voltage of VE B(on) = 0.6 V, whereas previously we used a value of 0.7 V. We must keep in mind that the turn-on voltage is an approximation and the actual base–emitter voltage will depend on the type of transistor used and the current level. In most situations, choosing a value of 0.6 V or 0.7 V will make only minor differences. However, most people tend to use the value of 0.7 V. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 306 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 306 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 5.4: The circuit elements in Figure 5.22(a) are V + = 3.3 V, VB B = 1.2 V, RB = 400 k, and RC = 5.25 k. The transistor parameters are β = 80 and VE B(on) = 0.7 V. Determine IB , IC , and VEC . (Ans. IB = 3.5 μA, IC = 0.28 mA, VEC = 1.83 V) The dc equivalent circuits, such as those given in Figures 5.19(b) and 5.21(b), are useful initially in analyzing transistor circuits. From this point on, however, we will not explicitly draw the equivalent circuit. We will simply analyze the circuit using the transistor circuit symbols, as in Figures 5.20 and 5.22. COMPUTER ANALYSIS EXERCISE PS 5.1: (a) Verify the results of Example 5.3 with a PSpice analysis. Use a standard transistor. (b) Repeat the analysis for RB = 180 k. (c) Repeat the analysis for RB = 260 k. What can be said about RB limiting the base current? 5.2.2 Load Line and Modes of Operation The load line can help us visualize the characteristics of a transistor circuit. For the common-emitter circuit in Figure 5.20(a), we can use a graphical technique for both the BE and CE portions of the circuit. Figure 5.23(a) shows the piecewise linear characteristics for the BE junction and the input load line. The input load line is iC (mA) Forward-active mode 30 6 Saturation 25 5 IC (sat) Load line 20 4 iB (mA) IBQ = 15 mA VBB = 18.2 Quiescent base 3 RB current and IBQ = 15 BE voltage Q-point 10 2 iB = 5 BE junction Load line 1 characteristics Cutoff 0 0 VBE (on) = 0.7 V VBB = 4 V vBE 0 2 4 6 8 10 vCE (V) VCE (sat) (a) (b) Figure 5.23 (a) Base–emitter junction piecewise linear iv characteristics and the input load line, and (b) common-emitter transistor characteristics and the collector–emitter load line showing the Q-point for the circuit shown in Example 5.3 (Figure 5.20) nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 307 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 307 obtained from Kirchhoff’s voltage law equation around the BE loop, written as follows: V VI BB BE B = − (5.30) RB RB Both the load line and the quiescent base current change as either or both VB Band RB change. The load line in Figure 5.23(a) is essentially the same as the load line characteristics for diode circuits, as shown in Chapter 1. For the CE portion of the circuit in Figure 5.20(a), the load line is found by writing Kirchhoff’s voltage law equation around the CE loop. We obtain VC E = VCC − IC RC (5.31(a)) which can be written in the form = VI CC − VC E = 5 − VC EC (mA) (5.31(b)) RC RC 2 Equation (5.31(b)) is the load line equation, showing a linear relationship between the collector current and collector–emitter voltage. Since we are considering the dc analysis of the transistor circuit, this relationship represents the dc load line. The ac load line is presented in the next chapter. Figure 5.23(b) shows the transistor characteristics for the transistor in Example 5.3, with the load line superimposed on the transistor characteristics. The two endpoints of the load line are found by setting IC = 0, yielding VC E = VCC = 10 V, and by setting VC E = 0, yielding IC = VCC/RC = 5 mA. The quiescent point, or Q-point, of the transistor is given by the dc collector current and the collector–emitter voltage. The Q-point is the intersection of the load line and the IC versus VC E curve corresponding to the appropriate base current. The Q-point also represents the simultaneous solution to two expressions. The load line is useful in visualizing the bias point of the transistor. In the figure, the Q-point shown is for the transistor in Example 5.3. As previously stated, if the power supply voltage in the base circuit is smaller than the turn-on voltage, then VB B < VB E (on) and IB = IC = 0, and the transistor is in the cutoff mode. In this mode, all transistor currents are zero, neglecting leakage currents, and for the circuit shown in Figure 5.20(a), VC E = VCC = 10 V. As VB B increases (VB B > VB E(on)), the base current IB increases and the Q- point moves up the load line. As IB continues to increase, a point is reached where the collector current IC can no longer increase. At this point, the transistor is biased in the saturation mode; that is, the transistor is said to be in saturation. The BC junction becomes forward biased, and the relationship between the collector and base currents is no longer linear. The transistor CE voltage in saturation, VC E (sat), is less than the BE cut-in voltage. The forward-biased BC voltage is always less than the forward-biased BE voltage, so the CE voltage in saturation is a small positive value. Typically, VC E (sat) is in the range of 0.1 to 0.3 V. EXAMPLE 5.5 Objective: Calculate the currents and voltages in a circuit when the transistor is driven into saturation. For the circuit shown in Figure 5.24, the transistor parameters are: β = 100, and VB E (on) = 0.7 V. If the transistor is biased in saturation, assume VC E (sat) = 0.2 V. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 308 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 308 Part 1 Semiconductor Devices and Basic Applications +10 V +10 V +10 VI 10 – 0.2 C = RC = 4 kΩ IC = b IB R 4 C = 4 kΩ = 3.32 mA = 2.45 mA RC = 4 kΩ IC RB = 220 kΩ + RB = 220 kΩ + +8 V VCE = 10 – (3.32)(4) +8 V VCE = VCE (sat) R = 220 kΩ + + + = 0.2 VB = –3.28 V – 8 – 0.7 – I = 33.2 mA +8 V VCE IB = 0.7 V × B 0.7 V + 220 kΩ – – Not IE = IC + IB IV – BE ⇒ 33.2 mA B – possible = 2.483 mA (a) (b) (c) Figure 5.24 Circuit for Example 5.5: (a) circuit; (b) circuit showing current and voltage values, assuming the transistor is biased in the forward-active mode (an incorrect assumption); and (c) circuit showing current and voltage values, assuming the transistor is biased in the saturation mode (correct assumption) Solution: Since +8 V is applied to the input side of RB , the base–emitter junction is certainly forward biased, so the transistor is turned on. The base current is = VB B − VI BE(on) = 8 − 0.7 B ⇒ 33.2 μA RB 220 If we first assume that the transistor is biased in the active region, then the collector current is IC = β IB = (100)(33.2 μA) ⇒ 3.32 mA The collector–emitter voltage is then VC E = VCC − IC RC = 10 − (3.32)(4) = −3.28 V However, the collector–emitter voltage of the npn transistor in the common-emitter configuration shown in Figure 5.24(a) cannot be negative. Therefore, our initial assumption of the transistor being biased in the forward-active mode is incorrect. Instead, the transistor must be biased in saturation. As given in the “objective” statement, set VC E (sat) = 0.2 V. The collector current is VCC − VC E(sat) 10 − 0.2 IC = IC(sat) = = = 2.45 mA RC 4 Assuming that the BE voltage is still equal to VB E (on) = 0.7 V, the base current is IB = 33.2 μA, as previously determined. If we take the ratio of collector current to base current, then IC = 2.45 = 74 < β IB 0.0332 The emitter current is IE = IC + IB = 2.45 + 0.033 = 2.48 mA The power dissipated in the transistor is found to be PT = IB VB E(on) + IC VC E = (0.0332)(0.7) + (2.45)(0.2) or PT = 0.513 mW nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 309 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 309 Comment: When a transistor is driven into saturation, we use VC E (sat) as another piecewise linear parameter. In addition, when a transistor is biased in the saturation mode, we have IC < β IB . This condition is very often used to prove that a transistor is indeed biased in the saturation mode. EXERCISE PROBLEM Ex 5.5: Consider the pnp circuit in Figure 5.22(a). Assume transistor parameters of VE B(on) = 0.7 V, VEC (sat) = 0.2 V, and β = 110. Assume circuit parameters of V + = 3.3 V, RC = 5 k, and RB = 150 k. Calculate IB , IC , and VEC for (a) VB B = 2 V and (b) VB B = 1 V. (Ans. (a) IB = 4 μA, IC = 0.44 mA, VEC = 1.1 V; (b) IB = 10.7 μA, IC = 0.62 mA, VEC = 0.2 V) Problem-Solving Technique: Bipolar DC Analysis Analyzing the dc response of a bipolar transistor circuit requires knowing the mode of operation of the transistor. In some cases, the mode of operation may not be obvious, which means that we have to guess the state of the transistor, then analyze the circuit to determine if we have a solution consistent with our initial guess. To do this, we can: 1. Assume that the transistor is biased in the forward-active mode in which case VB E = VB E (on), IB > 0, and IC = β IB . 2. Analyze the “linear” circuit with this assumption. 3. Evaluate the resulting state of the transistor. If the initial assumed parameter values and VC E > VC E (sat) are true, then the initial assumption is correct. However, if the calculation shows IB < 0, then the transistor is probably cutoff, and if the calculation shows VC E < 0, the transistor is likely biased in saturation. 4. If the initial assumption is proven incorrect, then a new assumption must be made and the new “linear” circuit must be analyzed. Step 3 must then be repeated. Because it is not always clear whether a transistor is biased in the forward-active or saturation mode, we may initially have to make an educated guess as to the state of the transistor and then verify our initial assumption. This is similar to the process we used for the analysis of multidiode circuits. For instance, in Example 5.5, we assumed a forward-active mode, performed the analysis, and showed that VC E < 0. However, a negative VC E for an npn transistor in the common-emitter configuration is not possible. Therefore, our initial assumption was disproved, and the transistor was biased in the saturation mode. Using the results of Example 5.5, we also see that when a transistor is in saturation, the ratio of IC to IB is always less than β , or IC/IB < β This condition is true for both the npn and the pnp transistor biased in the saturation mode. When a bipolar transistor is biased in saturation, we may define IC ≡ β (5.32) I Forced B where βForced is called the “forced beta.” We then have that βForced < β . nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 310 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 310 Part 1 Semiconductor Devices and Basic Applications Another mode of operation for a bipolar transistor is the inverse-active mode. In this mode, the BE junction is reverse biased and the BC junction is forward biased. In effect, the transistor is operating “upside down”; that is, the emitter is acting as the collector and the collector is operating as the emitter. We will postpone discussions on this operating mode until we discuss digital electronic circuits later in this text. To summarize, the four modes of operation for an npn transistor are shown in Figure 5.25. The four possible combinations of BE and BC voltages determine the modes of operation. If vB E > 0 (forward-biased junction) and vBC < 0 (reverse- biased junction), the transistor is biased in the forward-active mode. If both junctions are zero or reverse biased, the transistor is in cutoff. If both junctions are forward biased, the transistor is in saturation. If the BE junction is reverse biased and the BC junction is forward biased, the transistor is in the inverse-active mode. vBC Inverse-active Saturation vBE Cutoff Forward-active Figure 5.25 Bias conditions for the four modes of operation of an npn transistor The piecewise linear parameter model of the transistor that we have used in the dc analysis of transistor circuits is adequate for many applications. Another transistor model is known as the Ebers–Moll model. This model can be used to describe the transistor in each of its possible operating modes and is used in the SPICE computer simulation program. However, we will not consider the Ebers–Moll model here. Test Your Understanding +5 V In the following exercise problems, assume VB E (on) = 0.7 V and VC E (sat) = 0.2 V. Ω TYU 5.7 For the circuit shown in Figure 5.26, assume β = 50. Determine V R = 440 O , IB , C and IC for: (a) VI = 0.2 V, and (b) VI = 3.6 V. Then, calculate the power dissipated R = 640 Ω VO in the transistor for the two conditions. (Ans. (a) IB = IC = 0, VO = 5 V, P = 0; B VI (b) IB = 4.53 mA, IC = 10.9 mA, P = 5.35 mW) TYU 5.8 For the circuit shown in Figure 5.26, let β = 50, and determine VI such that VBC = 0. Calculate the power dissipated in the transistor. (Ans. VI = 0.825 V, Figure 5.26 Figure for Ex- P = 6.98 mW) ercise TYU 5.7 and TYU 5.8 5.2.3 Voltage Transfer Characteristics A plot of the voltage transfer characteristics (output voltage versus input voltage) can also be used to visualize the operation of a circuit or the state of a transistor. The following example considers both an npn and a pnp transistor circuit. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 311 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 311 EXAMPLE 5.6 Objective: Develop the voltage transfer curves for the circuits shown in Figures 5.27(a) and 5.27(b). Assume npn transistor parameters of VB E (on) = 0.7 V, β = 120, VC E (sat) = 0.2 V, and VA = ∞, and pnp transistor parameters of VE B(on) = 0.7 V, β = 80, VEC (sat) = 0.2 V, and VA = ∞. V+ = +5 V V+ = +5 V R = 5 kΩ RB = 200 kΩ C VI Qp RB = 150 kΩ V VO O VI Qn RC = 8 kΩ (a) (b) Figure 5.27 Circuits for Example 5.6; (a) npn circuit and (b) pnp circuit Solution (npn Transistor Circuit): For VI ≤ 0.7 V, the transistor Qn is cutoff, so that IB = IC = 0. The output voltage is then V = V + O = 5 V. For VI > 0.7 V, the transistor Qn turns on and is initially biased in the forward- active mode. We have IB = VI − 0.7 RB and = β(V − 0.7) IC β I = I B RB Then VO = − β(V − 0.7)R 5 IC RC = 5 − I C RB This equation is valid for 0.2 ≤ VO ≤ 5 V. When VO = 0.2 V, the transistor Qn goes into saturation. When VO = 0.2 V, the input voltage is found from = − (120)(VI − 0.7)(5) 0.2 5 150 which yields VI = 1.9 V. For VI ≥ 1.9 V, the transistor Qn remains biased in the saturation region. The voltage transfer curve is shown in Figure 5.28(a). Solution (pnp transistor circuit): For 4.3 ≤ VI ≤ 5 V, the transistor Qp is cutoff, so that IB = IC = 0. The output voltage is then VO = 0. For VI < 4.3 V, the transistor Qp turns on and is biased in the forward-active mode. We have = (5 − 0.7) − VI I B RB nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 312 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 312 Part 1 Semiconductor Devices and Basic Applications VO (V) VO (V) Cutoff Saturation 5 5 4.8 Active Active Saturation Cutoff 0.2 0 0.7 1.9 5 VI (V) 2.8 4.3 5 VI (V) Figure 5.28 Voltage transfer characteristics for (a) npn circuit in Figure 5.27(a) and (b) pnp circuit in Figure 5.27(b) and [ = = (5 − 0.7) − ] VI II C β B β RB The output voltage is the[n = (5 − ] 0.7) − V VO IC R = I C β RC RB This equation is valid for 0 ≤ VO ≤ 4.8 V. When VO = 4.8 V, the transistor Qp goes into saturation. When VO = 4[.8 V, the input vo]ltage is found from = (5 − 0.7) − V 4 I .8 (80)(8) 200 which yields VI = 2.8 V. For VI ≤ 2.8 V, the transistor Qp remains biased in the saturation mode. The voltage transfer curve is shown in Figure 5.28(b). Computer Simulation: Figure 5.29 shows the voltage transfer characteristics from a PSpice simulation using a standard 2N3904 transistor. One result that maybe 5.0V 0V 0V 2.0V 4.0V 6.0V V (Q1:c) V V1 Figure 5.29 Voltage transfer characteristic for the circuit in Figure 5.27(a) generated by a PSpice simulation nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 313 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 313 observed from the computer simulation is that the output voltage in the forward- active mode is not exactly a linear function of input voltage as the hand analysis suggested. In addition, the base-emitter voltage when vI = 1.3 V is vB E = 0.649 V in the computer analysis results rather than the assumed value of 0.7 V in the hand analysis. However, the hand analysis gives a good first approximation. Comment: As shown in this example, the voltage transfer characteristics are determined by finding the range of input voltage values that biases the transistor in cutoff, the forward-active mode, or the saturation mode. EXERCISE PROBLEM Ex 5.6: The circuit elements in Figure 5.27(a) are changed to RB = 200 k, RC = 4 k, and V + = 9 V. The transistor parameters are β = 100, VB E (on) = 0.7 V, and VC E (sat) = 0.2 V. Plot the voltage transfer characteristics for 0 ≤ VI ≤ 9 V. (Ans. For 0 ≤ VI ≤ 0.7 V, Qn is cutoff, VO = 9 V; For VI ≥ 5.1 V, Qn is in saturation, VO = 0.2 V) COMPUTER ANALYSIS EXERCISE PS 5.2: Using a PSpice simulation, plot the voltage transfer characteristics of the circuit shown in Figure 5.27(b). Use a standard transistor. What is the value of vE B when the transistor is biased in the forward-active region? 5.2.4 Commonly Used Bipolar Circuits: dc Analysis There area number of other bipolar transistor circuit configurations, in addition to the common-emitter circuits shown in Figures 5.20 and 5.22, that are commonly used. Several examples of such circuits are presented in this section. BJT circuits tend to be very similar in terms of dc analysis procedures, so that the same basic analysis approach will work regardless of the appearance of the circuit. We continue our dc analysis and design of bipolar circuits to increase our proficiency and to become more comfortable with these types of circuits. EXAMPLE 5.7 Objective: Calculate the characteristics of a circuit containing an emitter resistor. For the circuit shown in Figure 5.30(a), let VB E(on) = 0.7 V and β = 75. Note that the circuit has both positive and negative power supply voltages. Solution (Q-point values): Writing Kirchhoff’s voltage law equation around the BE loop, we have V − BB = IB RB + VB E(on) + IE RE + V (5.33) Assuming the transistor is biased in the forward-active mode, we can write IE = (1 + β) IB . We can then solve Equation (5.33) for the base current: = VB B − V − BE(on) − V = 1 − 0.7 − (−1.8) IB ⇒ 2.665 μA RB + (1 + β)RE 560 + (76)(3) nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 314 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 314 Part 1 Semiconductor Devices and Basic Applications V + = 1.8 V +1.8 V RC = 7 kΩ IC 7 kΩ IC = βIB = 0.20 mA + + RB = 560 kΩ RB = 560 kΩ VBB = 1 V VCE 1 V VCE = 1.59 V + + IB VI BE – – B = 0.7 V – 2.665 μA – I Ω IE = (1 + β)IRE = 3 kΩ E 3 k B = 0.203 mA V – = –1.8 V –1.8 V (a) (b) Figure 5.30 Circuit for Example 5.7: (a) circuit and (b) circuit showing current and voltage values The collector and emitter currents are IC = β IB = (75)(2.665 μA) ⇒ 0.20 mA and IE = (1 + β) IB = (76)(2.665 μA) ⇒ 0.203 mA From Figure 5.30(b), the collector–emitter voltage is V + − CE = V − IC RC − IE RE − V = 1.8 − (0.20)(7) − (0.203)(3) − (−1.8) or VC E = 1.59 V Solution (load line): We again use Kirchhoff’s voltage law around the CE loop. From the relationship between[ the co(llector a)nd em]itter currents, we find = + − − − + 1 + β VC E (V V ) IC RC RE β [ ( ) ] = 76 [1.8 − (−1.8)] − IC 7 + (3) 75 or VC E = 3.6 − IC(10.04) The load line and the calculated Q-point are shown in Figure 5.31. A few transistor characteristics of IC versus VC E are superimposed on the figure. Comment: Since the CE voltage is 1.59 V, VC E > VB E (on) and the transistor is biased in the forward-active mode, as initially assumed. We will see, later in the chapter, the value of including an emitter resistor in a circuit. EXERCISE PROBLEM Ex 5.7: The parameters of the circuit shown in Figure 5.30(a) are changed to V + = 3.3 V, V − = −3.3 V, VB B = 0, RB = 640 k, RE = 2.4 k, and RC = 10 k. The transistor parameters are β = 80 and VB E(on) = 0.7 V. Calculate all transistor currents and VC E . (Ans. IB = 3.116 μA, IC = 0.249 mA, IE = 0.252 mA, VC E = 3.51 V) nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 315 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 315 0.4 3.6 iC (max) = = 0.359 mA 10.04 0.3 Q-point iC (mA) 0.2 IBQ = 2.665 μA 0.1 0 0 1 1.59 2 3 3.6 4 vCE (V) Figure 5.31 Load line and Q-point for the circuit shown in Figure 5.30 for Example 5.7 DESIGN EXAMPLE 5.8 Objective: Design the common-base circuit shown in Figure 5.32 such that IE Q = 0.50 mA and VEC Q = 4.0 V. Assume transistor parameters of β = 120 and VE B(on) = 0.7 V. IEQ ICQ R RB = E RC 10 kΩ IBQ V + = 5 V V – = –5 V Figure 5.32 Common-base circuit for Example 5.8 Solution: Writing Kirchhoff’s voltage law equation around the base–emitter loop (assuming the transistor is biased( in the fo)rward-active mode), we have + = IV IE Q E Q RE + VE B(on) + R 1 + B β or ( ) 0.5 5 = (0.5)RE + 0.7 + (10) 121 which yields RE = 8.52 k We can find( ) ( ) β 120 IC Q = + IE Q = (0.5) = 0.496 mA 1 β 121 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 316 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 316 Part 1 Semiconductor Devices and Basic Applications Now, writing Kirchhoff’s voltage law equation around the emitter–collector loop, we have V + = IE Q RE + VEC Q + IC QR − C + V or 5 = (0.5)(8.52) + 4 + (0.496)RC + (−5) which yields RC = 3.51 k Comment: The circuit analysis of the common-base circuit proceeds in the same way as all previous circuits. EXERCISE PROBLEM Ex 5.8: Design the common-base circuit shown in Figure 5.33 such that IE Q = 0.125 mA and VEC Q = 2.2 V. The transistor parameters are β = 110 and VE B(on) = 0.7 V. (Ans. RE = 18.4 k, RC = 12.1 k) RE RC V + = 3 V V – = –3 V Figure 5.33 Common-base circuit for Exercise Problem Ex 5.8 Test Your Understanding TYU 5.9 The bias voltages in the circuit shown in Figure 5.34 are V + = 3.3 V and V − = −3.3 V. The measured value of the collector voltage is VC = 2.27 V. Determine IB , IC , IE , β, and α. (Ans. IB = 2.50 μA, IC = 0.2575 mA, IE = 0.26 mA, β = 103, α = 0.99038) +10 V +10 V RC = 4 kΩ RE = 8 kΩ VC VE RE = 10 kΩ RC = 4 kΩ –10 V –10 V Figure 5.34 Figure Figure 5.35 Figure for for Exercise TYU 5.9 Exercise TYU 5.10 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 317 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 317 TYU 5.10 The bias voltages in the circuit shown in Figure 5.35 are V + = 5 V and V − = −5 V. Assume that β = 85. Determine IB , IC , IE , and VEC . (Ans. IB = 6.25 μA, IC = 0.531 mA, IE = 0.5375 mA, VEC = 3.575 V) DESIGN EXAMPLE 5.9 Objective: Design a pnp bipolar transistor circuit to meet a set of specifications. Specifications: The circuit configuration to be designed is shown in Figure 5.36(a). The quiescent emitter-collector voltage is to be VEC Q = 2.5 V. Choices: Discrete resistors with tolerances of ±10 percent are to be used, an emitter resistor with a nominal value of RE = 2 k is to be used, and a transistor with β = 60 and VE B(on) = 0.7 V is available. Solution (ideal Q-point value): Writing the Kirchhoff’s voltage law equation around the CE loop, we obtain V + = IE Q RE + VEC Q or 5 = IE Q(2) + 2.5 which yield(s IE Q =)1.25 mA. (The c)ollector current is = β IC Q + · 60 IE Q = (1.25) = 1.23 mA 1 β 61 The base current is II = E Q = 1.25 B Q + = 0.0205 mA 1 β 61 Writing the Kirchhoff’s voltage law equation around the E–Bloop, we find V + = IE Q RE + VE B(on) + IB Q RB + VB B V + = 5 V 5 V RE = 2 kΩ IE RE = 2 kΩ I 5 – 2.5 E = 2 + + = 1.25 mA V R EB + 0.7 VB – RB ⇒ 185 kΩ + – VBB = –2 V VEC –2 V VEC = 2.5 VI – I = EB = 20.5 mA 1 + b I b C IC = I 1 + b E = 1.23 mA (a) (b) Figure 5.36 Circuit for Design Example 5.9: (a) circuit and (b) circuit showing current and voltage values nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 318 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 318 Part 1 Semiconductor Devices and Basic Applications or 5 = (1.25)(2) + 0.7 + (0.0205)RB + (−2) which yields RB = 185 k. Solution (ideal load line): The load (line equa)tion is VEC = V + − IE R + E = V − 1 + β IC RE β or ( ) = − 61 VEC 5 IC (2) = 5 − IC(2.03) 60 The load line, using the nominal value of RE , and the calculated Q-point are shown in Figure 5.37(a). Tradeoffs: As shown in Appendix C, a standard resistor value of 185 k is not available. We will pick a value of 180 k. We will consider RB and RE resistor tolerances of ±10 percent. The quies[cent collector current is ]given by + − [ ] = V VE B(on) − V 6.3 I BB C Q β + + = (60) RB (1 β)RE RB + (61)RE and the load line is gi(ven by ) ( ) = + − 1 + β 61 VEC VIC RE = 5 − IR β 60 CE The extreme values of RE are: 2 k − 10% = 1.8 k 2 k + 10% = 2.2 k. iC (mA) IC (mA) I 5 C (max) = = 2.46 mA 2.03 RE = 1.8 kΩ 2.5 2.2 RE = 2 kΩ 1.8 RB = 162 kΩ 2.0 1.4 Ideal Q -point 1.5 Q -point RE = 2.2 kΩ Load lines 1.0 ICQ = 1.23 mA I = 20.5 mA RB = 198 kΩ 1.0 BQ 0.6 0.5 0 1 2 3 4 5 vEC (V) 1.5 2.0 2.5 3.0 3.5 VEC (V) VECQ = 2.5 V (a) (b) Figure 5.37 (a) Load line and Q-point value for the ideal designed circuit shown in Figure 5.36 used in Example 5.9; (b) load lines and Q-point values for the extreme tolerance values of resistors nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 319 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 319 The extreme values of RB are: 180 k − 10% = 162 k 180 k + 10% = 198 k. The Q-point values for the extreme values of RB and RE are given in the following table. RE RB 1.8 k 2.2 k 162 k IC Q = 1.39 mA IC Q = 1.28 mA VEC Q = 2.46 V VEC Q = 2.14 V 198 k IC Q = 1.23 mA IC Q = 1.14 mA VEC Q = 2.75 V VEC Q = 2.45 V Figure 5.37(b) shows the Q-points for the various possible extreme values of emitter and base resistances. The shaded area shows the region in which the Q-point will occur over the range of resistor values. Comment: This example shows that an ideal Q-point can be determined based on a set of specifications, but, because of resistor tolerance, the actual Q-point will vary over a range of values. Other examples will consider the tolerances involved in transistor parameters. EXERCISE PROBLEM Ex 5.9: The circuit elements in Figure 5.36(a) are V + = 5 V, VB B = −2 V, RE = 2 k, and RB = 180 k. Assume VE B(on) = 0.7 V. Plot the Q-point on the load line for (a) β = 40, (b) β = 60, (c) β = 100, and (d) β = 150. (Ans. (a) IC Q = 0.962 mA, (b) IC Q = 1.25 mA, (c) IC Q = 1.65 mA, (d) IC Q = 1.96 mA) EXAMPLE 5.10 Objective: Calculate the characteristics of an npn bipolar transistor circuit with a load resistance. The load resistance can represent a second transistor stage connected to the output of a transistor circuit. For the circuit shown in Figure 5.38(a), the transistor parameters are: VB E (on) = 0.7 V, and β = 100. Solution (Q-Point Values): Kirchhoff’s voltage law equation around the BE loop yields IB RB + VB E(on) + I − ERE + V = 0 Again assuming IE = (1 + β)IB , we find − = −(V + VB E(on)) = −(−5 + 0.7) IB RB + (1 + ⇒ 8.35 μA β)RE 10 + (101)(5) The collector and emitter currents are IC = β IB = (100)(8.35 μA) ⇒ 0.835 mA nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 320 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 320 Part 1 Semiconductor Devices and Basic Applications V+ = +12 V RC = 5 kΩ I1 VO Make Thevenin equivalent circuit IC IL RL = 5 kΩ for load line RB = 10 kΩ + V + CE I – B VBE – RE = 5 kΩ IE V – = –5 V (a) +12 V RC = 5 kΩ I1 = IC + IL = 1.63 mA VO = 3.91 VIC = b IB V V = 6 V = 0.835 mA RL = 5 kΩ I = O L = 0.782 mA TH RL R Ω + RTH = 2.5 kΩ B = 10 k VCE = 4.7 VI + C + IB = 8.35 mA – RB = 10 kΩ 0.7 V – VCE IE – RI = (1 +b ) IE = 5 kΩ E B RE = 5 kΩ = 0.843 mA –5 V –5 V (b) (c) Figure 5.38 Circuit for Example 5.10: (a) circuit; (b) circuit showing current and voltage values; and (c) Thevenin equivalent circuit and IE = (1 + β)IB = (101)(8.35 μA) ⇒ 0.843 mA At the collector node, we can write + IC = I1 − = V − VIOL − VO RC RL nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 321 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 321 or = 12 − V 0 835 O − VO . 5 5 Solving for VO , we find VO = 3.91 V. The currents are then I1 = 1.62 mA and IL = 0.782 mA. Referring to Figure 5.38(b), the collector–emitter voltage is VC E = VO − IE RE − (−5) = 3.91 − (0.843)(5) − (−5) = 4.70 V Solution (Load Line): The load line equation for this circuit is not as straightforward as for previous circuits. The easiest approach to finding the load line is to make a “Thevenin equivalent circuit” of RL , RC , and V +, as indicated in Figure 5.38(b). (Thevenin equivalent circuits are also covered later in this chapter, in Section 5.4.) The Thevenin equivalent resistance is RT H = RL‖RC = 5‖5 = 2.5 k and the Thev(enin equiva)lent voltag(e is ) RV = L · + = 5 TH + V RL RC 5 + · (12) = 6 V 5 The equivalent circuit is shown in Figure 5.38(c). The Kirchhoff voltage law equation around the CE loop is ( ) VC E = 101 (6 − (−5)) − IC RT H − IE RE = 11 − IC(2.5) − IC · (5) 100 or VC E = 11 − IC(7.55) The load line and the calculated Q-point values are shown in Figure 5.39. Comment: Remember that the collector current, determined from IC = β IB , is the current into the collector terminal of the transistor; it is not necessarily the current in the collector resistor RC . iC (mA) 1.50 1.46 1.0 Q-point ICQ = 0.835 mA IBQ = 8.35 mA 0.5 2 4 6 8 10 12 vCE (V) VCEQ = 4.70 V 11 Figure 5.39 Load line and Q-point for the circuit shown in Figure 5.38(a) for Example 5.10 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 322 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 322 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 5.10: For the transistor shown in the circuit of Figure 5.40, the common-base current gain is α = 0.9920. Determine RE such that the emitter current is limited to IE = 1.0 mA. Also determine IB , IC , and VBC . (Ans. RE = 3.3 k, IC = 0.992 mA, IB = 8.0 μA, VBC = 4.01 V) RE RC = 1 kΩ + II – EC VBB = 4 V VCC = 5 V – + Figure 5.40 Figure for Exercise Ex 5.10 Test Your Understanding TYU 5.11 For the circuit shown in Figure 5.41, determine IE , IB , IC , and VC E , if β = 75. (Ans. IB = 15.1 μA, IC = 1.13 mA, IE = 1.15 mA, VC E = 6.03 V) TYU 5.12 Assume β = 120 for the transistor in Figure 5.42. Determine RE such that VC E = 2.2 V. (Ans. RE = 154 ) +5 V RE = 1 kΩ RC = 2.5 kΩ RB = 10 kΩ – IE + + VBB = 2 V VCC = 8 V R = 10 kΩ VBB = 5 V + B – RE – Figure 5.41 Figure for Exercise TYU 5.11 Figure 5.42 Figure for Exercise TYU 5.12 –5 V R Ω TYU 5.13 For the transistor in Figure 5.43, assume β = 90. (a) Determine V = 50 k BB such B that IE = 1.2 mA. (b) Find IC and VEC . (Ans. (a) VB B = 2.56 V; (b) IC = 1.19 mA, VEC = 3.8 V) – VBB RE = 1 kΩ IE + COMPUTER ANALYSIS EXERCISE PS 5.3: Verify the common-base circuit analysis in Test Your Understanding Ex- Figure 5.43 Figure for ercise TYU 5.11 with a PSpice simulation. Use a standard transistor. Exercise TYU 5.13 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 323 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 323 5.3 BASIC TRANSISTOR APPLICATIONS Objective: • Examine three applications of bipolar transistor circuits: a switch circuit, digital logic circuit, and an amplifier circuit. Transistors can be used to: switch currents, voltages, and power; perform digital logic functions; and amplify time-varying signals. In this section, we consider the switching properties of the bipolar transistor, analyze a simple transistor digital logic circuit, and then show how the bipolar transistor is used to amplify time-varying signals. 5.3.1 Switch Figure 5.44 shows a bipolar circuit called an inverter, in which the transistor in the circuit is switched between cutoff and saturation. The load, for example, could be a motor, alight-emitting diode or some other electrical device. If vI < VB E (on), then iB = iC = 0 and the transistor is cutoff. Since iC = 0, the voltage drop across the load is zero, so the output voltage is vO = VCC . Also, since the currents in the transistor are zero, the power dissipation in the transistor is zero. If the load were a motor, the motor would be off with zero current. Likewise, if the load were alight-emitting diode, the light output would be zero with zero current. If we let vI = VCC and if the ratio of RB to RC , where RC is the effective resistance of the load, is less than β , then the transistor is usually driven into saturation, which means that =∼ vI − Vi BE(on) B (5.34) RB VCC − Vi CE(sat) C = IC(sat) = (5.35) RC and vO = VC E(sat) (5.36) VCC iC Load vO RB + vI v + CE i – B vBE – Figure 5.44 An npn bipolar inverter circuit used as a switch"
5.3 Basic Transistor Applications,"5.3 BASIC TRANSISTOR APPLICATIONS Objective: • Examine three applications of bipolar transistor circuits: a switch circuit, digital logic circuit, and an amplifier circuit. Transistors can be used to: switch currents, voltages, and power; perform digital logic functions; and amplify time-varying signals. In this section, we consider the switching properties of the bipolar transistor, analyze a simple transistor digital logic circuit, and then show how the bipolar transistor is used to amplify time-varying signals. 5.3.1 Switch Figure 5.44 shows a bipolar circuit called an inverter, in which the transistor in the circuit is switched between cutoff and saturation. The load, for example, could be a motor, alight-emitting diode or some other electrical device. If vI < VB E (on), then iB = iC = 0 and the transistor is cutoff. Since iC = 0, the voltage drop across the load is zero, so the output voltage is vO = VCC . Also, since the currents in the transistor are zero, the power dissipation in the transistor is zero. If the load were a motor, the motor would be off with zero current. Likewise, if the load were alight-emitting diode, the light output would be zero with zero current. If we let vI = VCC and if the ratio of RB to RC , where RC is the effective resistance of the load, is less than β , then the transistor is usually driven into saturation, which means that =∼ vI − Vi BE(on) B (5.34) RB VCC − Vi CE(sat) C = IC(sat) = (5.35) RC and vO = VC E(sat) (5.36) VCC iC Load vO RB + vI v + CE i – B vBE – Figure 5.44 An npn bipolar inverter circuit used as a switch nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 324 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 324 Part 1 Semiconductor Devices and Basic Applications In this case, a collector current is induced that would turn on the motor or the LED, depending on the type of load. Equation (5.34) assumes that the BE voltage can be approximated by the turn- on voltage. This approximation will be modified slightly when we discuss bipolar digital logic circuits in Chapter 17. EXAMPLE 5.11 Objective: Calculate the appropriate resistance values and transistor power dissipation for the two inverter switching configurations shown in Figure 5.45. Specifications (Figure 5.45(a)): The transistor in the inverter circuit in Figure 5.45(a) is used to turn the light-emitting diode (LED) on and off. The required LED current is IC1 = 12 mA to produce the specified output light. Assume transistor parameters of β = 80, VB E(on) = 0.7 V, and VC E (sat) = 0.2 V, and assume the diode cut-in voltage is Vγ = 1.5 V. [Note: LEDs are fabricated with compound semiconductor materials and have a larger cut-in voltage compared to silicon diodes.] Specifications (Figure 5.45(b)): The inverter circuit in Figure 5.45(b) uses a pnp transistor. In this case, one side of the load (for example a motor) can be connected to ground potential. The required load current is IC2 = 5 A. Assume transistor parameters of β = 40,VE B(on) = 0.7 V, and VEC(sat) = 0.2 V. Solution (Figure 5.45(a)): For vI 1 = 0, transistor Q1 is cutoff so that IB1 = IC2 = 0 and the LED is also off. For vI 1 = 5 V, we require IC1 = 12 mA and want the transistor to be driven into saturation. Then V + − (Vγ + VC E(sat)) 5 − (1.5 + 0.2) R1 = = ⇒ R1 = 275  IC1 12 We may let IC1/IB1 = 40. Then IB1 = 12/40 = 0.3 mA. Now = v RI 1 − VB E(on) = 5 − 0.7 B1 = 14.3 k IB1 0.3 The power dissipation in Q1 is P1 = IB1VB E(on) + IC1VC E(sat) = (0.3)(0.7) + (12)(0.2) = 2.61 mW V + = 5 V V + = 12 V RB2 IR v C1 1 I2 Q2 Light IB2 LED output IC2 RB1 vI1 Q1 Load IB1 (a) (b) Figure 5.45 Figures for Example 5.11 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 325 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 325 Solution (Figure 5.45(b)): For vI 2 = 12 V, transistor Q2 is cutoff so that IB2 = IC2 = 0 and the voltage across the load is zero. For vI 2 = 0, transistor Q2 is to be driven into saturation so that VEC2 = VEC(sat) = 0.2 V. The voltage across the load is 11.8 V, the current is 5 A, which means the effective load resistance is 2.36  If we let IC2/IB2 = 20, then IB2 = 5/20 = 0.25 A. Now V + = − VE B(on) − vI 2 = 12 − 0.7 − 0 RB2 = 45.2  IB2 0.25 The power dissipation in transistor Q2 is P2 = IB2VE B(on) + IC2VEC(sat) = (0.25)(0.7) + (5)(0.2) = 1.175 W Comment: As with most electronic circuit designs, there are some assumptions that need to be made. The assumption to let IC/IB = (1/2)β in each case ensures that each transistor will be driven into saturation even if variations in circuit parameters occur. At the same time, base currents are limited to reasonable values. We may note that for the circuit in Figure 5.45(a), a base current of only 0.3 mA induces a load current of 12 mA. For the circuit in Figure 5.45(b), a base current of only 0.25 A induces a load current of 5 A. The advantage of transistor switches is that large load currents can be switched with relatively small base currents. EXERCISE PROBLEM Ex 5.11: (a) Redesign the LED circuit in Figure 5.45(a) such that IC1 = 15 mA and IC1/IB1 = 50 for vI = 5 V. Use the same Q1 transistor parameters given in Example 5.11. (b) Redesign the circuit in Figure 5.45(b) such that IC2 = 2 A and IC2/IB2 = 25 for vI = 0. Use the same Q2 transistor parameters as given in Example 5.11. (Ans. (a) R1 = 220 , RB1 = 14.3 k; (b) RB2 = 141 ) When a transistor is biased in saturation, the relationship between the collector and base currents is no longer linear. Consequently, this mode of operation cannot be used for linear amplifiers. On the other hand, switching a transistor between cutoff and saturation produces the greatest change in output voltage, which is especially useful in digital logic circuits, as we will see in the next section. 5.3.2 Digital Logic Consider the simple transistor inverter circuit shown in Figure 5.46(a). If the input VI is approximately zero volts, the transistor is cutoff and the output VO is high and equal to VCC . If, on the other hand, the input is high and equal to VCC , the transistor can be driven into saturation, in which case the output is low and equal to VC E (sat). Now consider the case when a second transistor is connected in parallel, as shown in Figure 5.46(b). When the two inputs are zero, both transistors Q1 and Q2 are in cutoff, and VO = 5 V. When V1 = 5 V and V2 = 0, transistor Q1 can be driven into saturation, and Q2 remains in cutoff. With Q1 in saturation, the output voltage is VO = VC E (sat) =∼ 0.2 V. If we reverse the input voltages so that V1 = 0 and V2 = 5 V, then Q1 is in cutoff, Q2 can be driven into saturation, and VO = VC E (sat) ∼= 0.2 V. If both inputs are high, meaning V1 = V2 = 5 V, then both transistors can be driven into saturation, and V = V (sat) =∼O CE 0.2 V. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 326 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 326 Part 1 Semiconductor Devices and Basic Applications VCC = 5 V VCC = 5 V RC RC IR VO VO RR IC1 R IC2 BB B V V Q I 1 V Q2 1 2 IB1 IB2 (a) (b) Figure 5.46 A bipolar (a) inverter circuit and (b) NOR logic gate Table 5.2 shows these various conditions for the circuit in Figure 5.46(b). In a positive logic system, meaning that the larger voltage is a logic 1 and the lower voltage is a logic 0, this circuit performs the NOR logic function. The circuit of Figure 5.46(b) is then a two-input bipolar NOR logic circuit. Table 5.2 The bipolar NOR logic circuit response V1 (V) V2 (V) VO (V) 0 0 5 5 0 0.2 0 5 0.2 5 5 0.2 EXAMPLE 5.12 Objective: Determine the currents and voltages in the circuit shown in Figure 5.46(b). Assume the transistor parameters are: β = 50, VB E (on) = 0.7 V, and VC E (sat) = 0.2 V. Let RC = 1 k and RB = 20 k. Determine the currents and output voltage for various input conditions. Solution: The following table indicates the equations and results for this example. Condition VO IR Q1 Q2 V1 = 0, 5 V 0 IB1 = IC1 = 0 IB2 = IC2 = 0 V2 = 0 5 − 0.2 5 − 0.7 V1 = 5 V, 0.2 V = 4.8 mA I 1 B1 = I = I = 0 V = 0 20 B2 C2 2 = 0.215 mA IC1 = IR = 4.8 mA V1 = 0, 0.2 V 4.8 mA IB1 = IC1 = 0 IB2 = 0.215 mA V2 = 5 VIC2 = IR = 4.8 mA V1 = 5 V, 0.2 V 4.8 mA IB1 = 0.215 mA IB2 = 0.215 mA V IR IR 2 = 5 VIC1 = = 2.4 mA IC2 = = 2.4 mA 2 2 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 327 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 327 Comment: In this example, we see that whenever a transistor is conducting, the ratio of collector current to base current is always less than β . This shows that the transistor is in saturation, which occurs when either V1 or V2 is 5 V. EXERCISE PROBLEM Ex 5.12: The transistor parameters in the circuit in Figure 5.46(b) are: β = 40, VB E (on) = 0.7 V, and VC E (sat) = 0.2 V. Let RC = 600  and RB = 950 . Determine the currents and output voltage for: (a) V1 = V2 = 0; (b) V1 = 5 V, V2 = 0; and (c) V1 = V2 = 5 V. (Ans. (a) The currents are zero, VO = 5 V; (b) IB2 = IC2 = 0, IB1 = 4.53 mA, IC1 = IR = 8 mA, VO = 0.2 V; (c) IB1 = IB2 = 4.53 mA, IC1 = IC2 = 4 mA = IR/2, VO = 0.2 V) This example and the accompanying discussion illustrate that bipolar transistor circuits can be configured to perform logic functions. In Chapter 17, we will see that this circuit can experience loading effects when load circuits or other digital logic circuits are connected to the output. Therefore, logic circuits must be designed to minimize or eliminate such loading effects. 5.3.3 Amplifier The bipolar inverter circuit can also be used to amplify a time-varying signal. Figure 5.47(a) shows an inverter circuit including a time-varying voltage source vI in the base circuit. The voltage transfer characteristics are shown in Figure 5.47(b). The dc voltage source VB Bis used to bias the transistor in the forward-active region. The Q-point is shown on the transfer characteristics. The voltage source vI introduces a time-varying signal on the input. A change in the input voltage then produces a change in the output voltage. These time-varying input and output signals are shown in Figure 5.47(b). If the magnitude of the slope of the transfer characteristics is greater than unity, then the time-varying output signal will be larger than the time-varying input signal—thus an amplifier. v + O V RC ΔvO Q-point Δ v v O Time I RB – + + VBB – VBB vI ΔvI Time (a) (b) Figure 5.47 (a) A bipolar inverter circuit to be used as a time-varying amplifier; (b) the voltage transfer characteristics nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 328 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 328 Part 1 Semiconductor Devices and Basic Applications EXAMPLE 5.13 Objective: Determine the amplification factor for the circuit given in Figure 5.48(a). The transistor parameters are β = 120, VB E (on) = 0.7 V, and VA = ∞. DC Solution: The voltage transfer characteristics were developed in Example 5.6 for this same circuit. The voltage transfer curve is repeated for convenience in Figure 5.48(b). vO (V) Cutoff V+ = 5 V 5 iC RC = 5 kΩ Forward-active vO mode 2.6 Q-point RB = 150 kΩ vI i Saturation B 0.2 0 0.7 1.9 5 v (V) 1.3 I (a) (b) Figure 5.48 (a) A bipolar inverter used as an amplifier; (b) the inverter voltage transfer characteristics For 0.7 ≤ vI ≤ 1.9 V, the transistor is biased in the forward-active mode and the output voltage is given by vO = 7.8 − 4vI Now bias the transistor in the center of the active region with an input voltage of vI = VB B = 1.3 V. The dc output voltage is vO = 2.6 V. The Q-point is shown on the transfer characteristics. AC Solution: From vO = 7.8 − 4vI , we can find the change in output voltage with respect to a change in input voltage. We find vO = −4vI The voltage gain is then = v A O v = −4 vI Computer Simulation: A 2 kHz sinusoidal voltage source was placed in the base circuit of Figure 5.48(a). The amplitude of the time-varying input signal was 0.2 V. Figure 5.49 shows the output response of the circuit. A sinusoidal signal is superimposed on a dc value as we expect. The peak-to-peak output signal is approximately 1.75 V. The time-varying amplification factor is then |Av| = 1.75/(2)(0.2) = 4.37. This value agrees quite well with the hand analysis. Comment: As the input voltage changes, we move along the voltage transfer characteristics as shown in Figure 5.50(b). The negative sign occurs because of the inverting property of the circuit. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 329 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 4.0V 3.0V 2.0V 1.0V 0s 0.5ms 1.0ms 1.5ms 2.0ms V (Q1:c) Time Figure 5.49 Output signal from the circuit shown in Figure 5.48 for input signals of VB B = 1.3 V and vI = 0.2 sin ωt (V) V+ = 5 V vO (V) 5 iC RC = 5 kΩ ΔvO vO Q-point ΔvI RB = 150 kΩ Time – + + Vi BBB = 1.3 V– 0 1 2 3 vI (V) (a) ΔvI Time (b) vO (V) 5 ΔvO Q-point Time 0 1 2 3 vI (V) ΔvI Time (c) Figure 5.50 (a) The inverter circuit with both a dc and an ac input signal; (b) the dc voltage transfer characteristics, Q-point, and sinusoidal input and output signals; (c) the transfer characteristics showing improper dc biasing 329 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 330 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 330 Part 1 Semiconductor Devices and Basic Applications Discussion: In this example, we have biased the transistor in the center of the active region. If the input signal vI is a sinusoidal function as shown in Figure 5.50(b), then the output signal vO is also a sinusoidal signal, which is the desired response for an analog circuit. (This assumes the magnitude of the sinusoidal input signal is not too large.) If the Q-point, or dc biasing, of the transistor were at vI = 1.9 V and vO = 0.2 V, as in Figure 5.50(c), the output response changes. Shown in the figure is asymmetrical sinusoidal input signal. When the input sinusoidal signal is on its positive cycle, the transistor remains biased in saturation and the output voltage does not change. During the negative half of the input signal, the transistor becomes biased in the active region, so a half sinusoidal output response is produced. The output signal is obviously not a replication of the input signal. This discussion emphasizes the importance of properly biasing the transistor for analog or amplifier applications. The primary objective of this chapter, as stated previously, is to help readers become familiar with transistor circuits, but it is also to enable them to design the dc biasing of transistor circuits that are to be used in analog applications. EXERCISE PROBLEM Ex 5.13: Redesign the inverter amplifier circuit shown in Figure 5.48(a) such that the voltage amplification is vO/vI = −6.5. Let RB = 80 k, and assume β = 120 and VB E(on) = 0.7 V. Determine the Q-point values such that the transistor is biased in the center of the active region. (Ans. For Q-point: vO = 2.6 V, vI = 1.069 V, IB Q = 4.61 μA; RC = 4.34 k) The small-signal linear amplifier analysis and design are the primary objectives of the next chapter. Test Your Understanding TYU 5.14 For the circuit shown in Figure 5.44, assume circuit and transistor parameters of RB = 240 , VCC = 12 V, VB E (on) = 0.7 V, VC E (sat) = 0.1 V, and β = 75. Assume that the load is a motor with an effective resistance of RC = 5 . Calculate the currents and voltages in the circuit, and the power dissipated in the transistor for (a) vI = 0 and (b) vI = 12 V. (Ans. (a) iB = iC = 0, vO = VCC = 12 V, P = 0; (b) iB = 47.1 mA, iC = 2.38 A, vO = 0.1 V, P = 0.271 W) 5.4 BIPOLAR TRANSISTOR BIASING Objective: • Investigate various biasing schemes of bipolar transistor circuits, including bias-stable biasing and integrated circuit biasing. As mentioned in the previous section, in order to create a linear amplifier, we must keep the transistor in the forward-active mode, establish a Q-point near the center of the load line, and couple the time-varying input signal to the base. The circuit in Figure 5.47(a) maybe impractical for two reasons: (1) the signal source is not connected"
5.4 Bipolar Transistor Biasing,"5.4 BIPOLAR TRANSISTOR BIASING Objective: • Investigate various biasing schemes of bipolar transistor circuits, including bias-stable biasing and integrated circuit biasing. As mentioned in the previous section, in order to create a linear amplifier, we must keep the transistor in the forward-active mode, establish a Q-point near the center of the load line, and couple the time-varying input signal to the base. The circuit in Figure 5.47(a) maybe impractical for two reasons: (1) the signal source is not connected nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 331 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 331 to ground, and (2) there maybe situations where we do not want a dc base current flowing through the signal source. In this section, we will examine several alternative biasing schemes. These basic biasing circuits illustrate some desirable and some undesirable biasing characteristics. More sophisticated biasing circuits that use additional transistors and that are used in integrated circuits are discussed in Chapter 10. 5.4.1 Single Base Resistor Biasing The circuit shown in Figure 5.51(a) is one of the simplest transistor circuits. There is a single dc power supply, and the quiescent base current is established through the resistor RB . The coupling capacitor CC acts as an open circuit to dc, isolating the signal source from the dc base current. If the frequency of the input signal is large enough and CC is large enough, the signal can be coupled through CC to the base with little attenuation. Typical values of CC are generally in the range of 1 to 10 μF, although the actual value depends upon the frequency range of interest (see Chapter 7). Figure 5.51(b) is the dc equivalent circuit; the Q-point values are indicated by the additional subscript Q. V V CC CC RB RC i RC I CI CQ BQ RB C iB + + C v V CE CEQ + + v + v – – s – BE VBE(on) – – (a) (b) Figure 5.51 (a) Common-emitter circuit with a single bias resistor in the base and (b) dc equivalent circuit DESIGN EXAMPLE 5.14 Objective: Design a circuit with a single-base resistor to meet a set of specifications. Specifications: The circuit configuration to be designed is shown in Figure 5.51(b). The circuit is to be biased with VCC = +12 V. The transistor quiescent values are to be IC Q = 1 mA and VC E Q = 6 V. Choices: The transistor used in the design has nominal values of β = 100 and VB E (on) = 0.7 V, but the current gain for this type of transistor is assumed to be in the range 50 ≤ β ≤ 150 because of fairly wide fabrication tolerances. We will assume, in this example, that the designed resistor values are available. Solution: The collector resistor is found from = V R CC − VC E Q = 12 − 6 C = 6 k IC Q 1 nea80644_ch05_285-368.qxd 06/13/2009 05:43 PM Page 332 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-05: 332 Part 1 Semiconductor Devices and Basic Applications The base current is = IC Q = 1 mA IB Q ⇒ 10 μA β 100 and the base resistor is determined to be V − V (on) 12 − 0.7 R = CC BE B = = 1.13 M IB Q 10 μA The transistor characteristics, load line, and Q-point for this set of conditions are shown in Figure 5.52(a). iC (mA) IC (mA) 2 20 2.0 15 IB = 10 mA (b = 150) 1.5 Q-point (b = 100) IB = 10 mA (b = 100) 1 IBQ = 10 mA 1.0 IB = 10 mA (b = 50) 5 0.5 0 6 12 v (V) 0 3 6 9 12 vCE (V) CE (a) (b) Figure 5.52 (a) Transistor characteristics and load line for the circuit in Figure 5.51 used in Design Example 5.14; (b) load line and changes in the Q-point for β  50, 100, and 150. (Note that the base current scale changes compared to the collector current scale.) Tradeoffs: In this example, we will assume that the resistor values are fixed and will investigate the effects of the variation in transistor current gain β . The base current is given by = VCC − VB E(on) = 12 − 0.7 IB Q = 10 μA (unchanged) RB 1.13 M The base current for this circuit configuration is independent of the transistor current gain. The collector current is IC Q = β IB Q and the load line is found from VC E = VCC − IC RC = 12 − IC(6) The load line is fixed. However, the Q-point will change. The transistor Q-point values for three values of β are given as: β 50 100 150 Q-point values IC Q = 0.50 mA IC Q = 1 mA IC Q = 1.5 mA VC E Q = 9 V VC E Q = 6 V VC E Q = 3 V nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 333 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 333 The various Q-points are plotted on the load line shown in Figure 5.52(b). In this figure, the collector current scale and load line are fixed. The base current scale changes as β changes. Comment: In this circuit configuration with a single base resistor, the Q-point is not stabilized against variations in β; as β changes, the Q-point varies significantly. In our discussion of the amplifier in Example 5.13 (see Figure 5.50), we noted the importance of the placement of the Q-point. In the following two examples, we will analyze and design bias-stable circuits. Although a value of 1.13 M for RB will establish the required base current, this resistance is too large to be used in integrated circuits. The following two examples will also demonstrate a circuit design to alleviate this problem. EXERCISE PROBLEM Ex 5.14: Consider the circuit shown in Figure 5.51(b). Assume VCC = 2.8 V, β = 150, and VB E(on) = 0.7 V. Design the circuit such that IC Q = 0.12 mA and VC E Q = 1.4 V. (Ans. RC = 11.7 k, RB = 2.625 M) Test Your Understanding [Note: In the following exercises, assume the BE cut-in voltage is 0.7 V. Also +5 V assume the CE saturation voltage is 0.2 V.] TYU 5.15 Consider the circuit shown in Figure 5.53. (a) If β = 120, determine RB RC = 2 kΩ such that VC E Q = 2.5 V. (b) If the current gain varies over the range 80 ≤ β ≤ 160, RB determine the variation in VC E Q . (Ans. (a) RB = 413 k, (b) 1.67 ≤ VC E Q ≤ 3.33) TYU 5.16 For the circuit shown in Figure 5.53, let RB = 800 k. If the range of β is between 75 and 150, determine a new value of RC such that the Q-point will always be in the range 1 ≤ VC E Q ≤ 4 V. What will be the actual range of VC E Q for the new value of RC ? (Ans. For VC E Q = 2.5 V, R = 4.14 k; (b) 1.66 ≤ V ≤ 3.33 V) Figure 5.53 Figure for CC E Q Exercises TYU 5.15 and TYU 5.16 5.4.2 Voltage Divider Biasing and Bias Stability The circuit in Figure 5.54(a) is a classic example of discrete transistor biasing. (I C biasing is different and will be discussed in Chapter 10.) The single bias resistor RB in the previous circuit is replaced by a pair of resistors R1 and R2, and an emitter resistor RE is added. The ac signal is still coupled to the base of the transistor through the coupling capacitor CC . The circuit is most easily analyzed by forming a Thevenin equivalent circuit for the base circuit. The coupling capacitor acts as an open circuit to dc. The equivalent Thevenin voltage is VT H = [R2/(R1 + R2)]VCC and the equivalent Thevenin resistance is RT H = R1‖R2 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 334 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 334 Part 1 Semiconductor Devices and Basic Applications VCC VCC IR CQ RC ICQ RC 1 CC + R + TH VCEQ VCEQ – + I – BQ v + s V – R2 TH RE I – EQ RE (a) (b) Figure 5.54 (a) A common-emitter circuit with an emitter resistor and voltage divider bias circuit in the base; (b) the dc circuit with a Thevenin equivalent base circuit where the symbol ‖ indicates the parallel combination of resistors. Figure 5.54(b) shows the equivalent dc circuit. As we can see, this circuit is similar to those we have previously considered. Applying Kirchhoff’s law around the BE loop, we obtain VT H = IB Q RT H + VB E(on) + IE Q RE (5.37) If the transistor is biased in the forward-active mode, then IE Q = (1 + β)IB Q and the base current, from Equation (5.37), is = VT H − VB E(on) IB Q + + (5.38) RT H (1 β)RE The collector current is then IC Q = I = β(VT H − VB E(on)) β B Q (5.39) RT H + (1 + β)RE EXAMPLE 5.15 Objective: Analyze a circuit using a voltage divider bias circuit, and determine the change in the Q-point with a variation in β when the circuit contains an emitter resistor. For the circuit given in Figure 5.54(a), let R1 = 56 k, R2 = 12.2 k, RC = 2 k, RE = 0.4 k, VCC = 10 V, VB E (on) = 0.7 V, and β = 100. Solution: Using the Thevenin equivalent circuit in Figure 5.54(b), we have RT H = R1‖R2 = 56‖12.2 = 10.0 k and ( ) ( ) R 12.2 V 2 TH = R1 + · VCC = R2 56 + (10) = 1.79 V 12.2 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 335 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 335 Writing the Kirchhoff voltage law equation around the BE loop, we obtain = VT H − VB E(on) = 1.79 − 0.7 IB Q + + + ⇒ 21.6 μA RT H (1 β)RE 10 (101)(0.4) The collector current is IC Q = β IB Q = (100)(21.6 μA) ⇒ 2.16 mA and the emitter current is IE Q = (1 + β)IB Q = (101)(21.6 μA) ⇒ 2.18 mA The quiescent CE voltage is then VC E Q = VCC − IC Q RC − IE Q RE = 10 − (2.16)(2) − (2.18)(0.4) = 4.81 V These results show that the transistor is biased in the active region. If the current gain of the transistor were to decrease to β = 50 or increase to β = 150, we obtain the following results: β 50 100 150 IB Q = 35.9 μA IB Q = 21.6 μA IB Q = 15.5 μA Q-point values IC Q = 1.80 mA IC Q = 2.16 mA IC Q = 2.32 mA VC E Q = 5.67 V VC E Q = 4.81 V VC E Q = 4.40 V The load line and Q-points are plotted in Figure 5.55. The variation in Q-points for this circuit configuration is to be compared with the variation in Q-point values shown previously in Figure 5.52(b). For a 3 : 1 ratio in β , the collector current and collector–emitter voltage change by only a 1.29 : 1 ratio. Comment: The voltage divider circuit of R1 and R2 can bias the transistor in its active region using resistor values in the low kilohm range. In contrast, single resistor biasing requires a resistor in the megohm range. In addition, the change in IC Q and VC E Q with a change in β has been substantially reduced compared to the change shown in Figure 5.52(b). Including an emitter resistor RE has tended to stabilize the Q-point. This means that including the emitter resistor helps to stabilize the Q-point with respect to variations in β . Including the resistor RE introduces negative feedback, as we will see in Chapter 12. Negative feedback tends to stabilize circuits. IC (mA) 4.0 3.0 b = 150 b = 100 b = 50 2.0 1.0 0 2 4 6 8 10 VCE (V) Figure 5.55 Load lines and Q-point values for Example 5.15 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 336 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 336 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 5.15: For the circuit shown in Figure 5.54(a), let VCC = 3.3 V, RE = 500 , RC = 4 k, R1 = 85 k, R2 = 35 k, and β = 150. (a) Determine RT Hand VT H . (b) Find IB Q , IC Q , and VC E Q . (c) Repeat part (b) for β = 75. (Ans. (a) RT H = 24.8 k, VT H = 0.9625 V; (b) IB Q = 2.62 μA, IC Q = 0.393 mA, VC E Q = 1.53 V; (c) IB Q = 4.18 μA, IC Q = 0.314 mA, VC E Q = 1.89 V) Considering Equation (5.39), the design requirement for bias stability is RT H (1 + β)RE . Consequently, the collector current is approximately ∼= β(VI TH − VB E(on)) C Q + (5.40) (1 β)RE Normally, β  1; therefore, β/(1 + β) ∼= 1, and ∼= (VT H − VB E(on)) IC Q (5.41) RE Now the quiescent collector current is essentially a function of only the dc voltages and the emitter resistance, and the Q-point is stabilized against β variations. However, if RT His too small, then R1 and R2 are small, and excessive power is dissipated in these resistors. The general rule is that a circuit is considered bias stable when RT H =∼ 0.1(1 + β)RE (5.42) DESIGN EXAMPLE 5.16 Objective: Design a bias-stable circuit to meet a set of specifications. Specifications: The circuit configuration to be designed is shown in Figure 5.54(a). Let VCC = 5 V and RC = 1 k. Choose RE and determine the bias resistors R1 and R2 such that the circuit is considered bias stable and that VC E Q = 3 V. Choices: Assume the transistor has nominal values of β = 120 and VB E (on) = 0.7 V. We will choose standard resistor values and will assume that the transistor current gain varies over the range 60 ≤ β ≤ 180. Design Pointer: Typically, the voltage across RE should be on the same order of magnitude as VB E (on). Larger voltage drops may mean the supply voltage VCC has to be increased in order to obtain the required voltage across the collector-emitter and across RC . Solution: With β = 120, IC Q ≈ IE Q . Then, choosing a standard value of 0.51 k for RE , we find IC Q ∼= VCC − VC E Q = 5 − 3 RC + RE 1 + = 1.32 mA 0.51 The voltage drop across RE is now (1.32)(0.51) = 0.673 V, which is approximately the desired value. The base current is found to be = IC Q = 1.32 IB Q ⇒ 11.0 μA β 120 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 337 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 337 Using the Thevenin equivalent circuit in Figure 5.54(b), we find VT H − VI BE(on) B Q = RT H + (1 + β)RE For a bias-stable circuit, RT H = 0.1(1 + β)RE , or RT H = (0.1)(121)(0.51) = 6.17 k Then, = ⇒ VT H − 0.7 IB Q 11.0 μA 6.17 + (121)(0.51) which yields VT H = 0.747 + 0.70 = 1.447 V Now ( ) ( ) RV 2 TH = + VCC = R2 + (5) = 1.447 V R1 R2 R1 R2 or ( ) R2 = 1.447 + = 0.2894 R1 R2 5 Also, ( ) R = R1 R2 RT H = 6.17 k 2  = R1 = R (0.2894) R1 + R2 R1 + R 1 2 which yields R1 = 21.3 k and R2 = 8.69 k From Appendix C, we can choose standard resistor values of R1 = 20 k and R2 = 8.2 k. Tradeoffs: We will neglect, in this example, the tolerance effects of the resistors (end-of-chapter problems such as Problems 5.18 and 5.40 do include tolerance effects). We will consider the effect on the transistor Q-point values of the common- emitter current gain variation. Using the standard resistor values, we have RT H = R1‖R2 = 20‖8.2 = 5.82 k and ( ) ( ) R 8.2 VT H = 2 + (VCC) = + (5) = 1.454 V R1 R2 20 8.2 The base cu[rrent is given by = VT H − ] VB E(on) IB Q RT H + (1 + β)RE nea80644_ch05_285-368.qxd 06/13/2009 05:07 PM Page 338 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-05: 338 Part 1 Semiconductor Devices and Basic Applications while the collector current[ is IC Q (= β IB Q), and ]the collector–emitter voltage is given by = − 1 + β VC E Q VCC IC Q RC + RE β The Q-point values for three values of β are shown in the following table. β 60 120 180 IB Q = 20.4 μA IB Q = 11.2 μA IB Q = 7.68 μA Q-point values IC Q = 1.23 mA IC Q = 1.34 mA IC Q = 1.38 mA VC E Q = 3.13 V VC E Q = 2.97 V VC E Q = 2.91 V Comment: The Q-point in this example is now considered to be stabilized against variations in β , and the voltage divider resistors R1 and R2 have reasonable values in the kilohm range. We see that the collector current changes by only −8.2 percent when β changes by a factor of 2 (from 120 to 60), and changes by only +3.0 percent when β changes by +50 percent (from 120 to 180). Compare these changes to those of the single-base resistor design in Example 5.14. R1 1 kΩ R6 20 kΩ Q1 + V6 2N2222 5 V – R13 8.2 kΩ R3 0.51 kΩ 0 Figure 5.56 PSpice circuit schematic for Design Example 5.16 Computer Simulation: Figure 5.56 shows the PSpice circuit schematic diagram with the standard resistor values and with a standard 2N2222 transistor from the PSpice library for the circuit designed in this example. A dc analysis was performed and the resulting transistor Q-point values are shown. The collector–emitter voltage is VC E = 2.80 V, which is close to the design value of 3 V. One reason for the difference is that the standard-valued resistors are not exactly equal to the design values. Another reason for the slight difference is that the effective β of the 2N2222 is 157 compared to the assumed value of 120. **** BIPOLAR JUNCTION TRANSISTORS NAME Q_Q1 MODEL Q2N2222 IB 9.25E−06 IC 1.45E−03 VBE 6.55E−01 VBC −2.15E+00 VCE 2.80E+00 BETADC 1.57E+02 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 339 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 339 EXERCISE PROBLEM Ex 5.16: In the circuit shown in Figure 5.54(a), let VCC = 5 V, RE = 0.2 k, RC = 1 k, β = 150, and VB E (on) = 0.7 V. Design a bias-stable circuit such that the Q-point is in the center of the load line. (Ans. R1 = 13 k, R2 = 3.93 k) Another advantage of including an emitter resistor is that it stabilizes the Q-point with respect to temperature. To explain, we noted in Figure 1.20 that the current in a pn junction increases with increasing temperature, for a constant junction voltage. We then expect the transistor current to increase as the temperature increases. If the current in a junction increases, the junction temperature increases (because of I 2 R heating), which in turn causes the current to increase, thereby further increasing the junction temperature. This phenomenon can lead to thermal runaway and to device destruction. However, from Figure 5.54(b), we see that as the current increases, the voltage drop across RE increases. The Thevenin equivalent voltage and resistance are assumed to be essentially independent of temperature, and the temperature-induced change in the voltage drop across RT H will be small. The net result is that the increased voltage drop across RE reduces the BE junction voltage, which then tends to stabilize the transistor current against increases in temperature. Test Your Understanding TYU 5.17 The parameters of the circuit shown in Figure 5.54(a) are VCC = 5 V, RE = 1 k, RC = 4 k, R1 = 440 k, and R2 = 230 k. The transistor parameters are β = 150 and VB E(on) = 0.7 V. (a) Find VT Hand RT H . (b) Determine IC Q and VC E Q . (c) Repeat parts (a) and (b) for β = 90. (Ans. (a) VT H = 1.716 V, RT H = 151 k; (b) IC Q = 0.505 mA, VC E Q = 2.47 V; (c) IC Q = 0.378 mA, VC E Q = 3.11 V) TYU 5.18 Consider the circuit in Figure 5.54(a). The circuit parameters are VCC = 5 V and RE = 1 k. The transistor parameters are β = 150 and VB E(on) = 0.7 V. (a) Design a bias-stable circuit such that IC Q = 0.40 mA and VC E Q = 2.7 V. (b) Using the results of part (a), determine IC Q and VC E Q for β = 90. (Ans. (a) R1 = 66 k, R2 = 19.6 k, RC = 4.74 k; (b) IC Q = 0.376 mA, VC E Q = 2.84 V) 5.4.3 Positive and Negative Voltage Biasing There are applications in which biasing a transistor with both positive and negative dc voltages is desirable. We will see this especially in Chapter 11 when we are discussing the differential amplifier. Biasing with dual supplies allows us, in some applications, to eliminate the coupling capacitor and allows dc input voltages as input signals. The following example demonstrates this biasing scheme. EXAMPLE 5.17 Objective: Design a bias-stable pnp transistor circuit to meet a set of specifications. Specifications: The circuit configuration to be designed is shown in Figure 5.57(a). The transistor Q-point values are to be: VEC Q = 7 V, IC Q ∼= 0.5 mA, and VRE =∼ 1 V. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 340 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 340 Part 1 Semiconductor Devices and Basic Applications V + = +9 V V + = +9 V + RE VRE RR E 1 – CC RTH + V + TH vs – R2 RC RC V – = –9 V V – = –9 V (a) (b) Figure 5.57 (a) Circuit for Example 5.17 and (b) Thevenin equivalent circuit Choices: Assume transistor parameters of β = 80 and VE B(on) = 0.7 V. Standard resistor values are to be used in the final design. Solution: The Thevenin equivalent circuit is shown in Figure 5.57(b). The Thevenin equivalent resistance is RT H = R1‖R2 and the Thevenin equivalent voltage, measured with re(spect to gro)und, is given by RV 2 + − − TH = (+ (V) − V ) + V R1 RR = 1 R1 R2 (V + − V − + ) + V − R1 R1 R2 For VRE ∼= 1 V and IC Q ∼= 0.5 mA, then we can set RE = 1 = 2 k 0.5 For a bias stable circuit, we want RR R 1 2 TH = + = (0.1)(1 + β)RR E 1 R2 = (0.1)(81)(2) = 16.2 k Then the Thevenin equivalent voltage can be written as = 1 VT H (16.2)[9 − (−9)] + (− 1 9) = (291.6) − 9 R1 R1 The KVL equation around the E–Bloop is given by V + = IE Q RE + VE B(on) + IB Q RT H + VT H The transistor is to be biased in the forward-active mode so that IE Q = (1 + β)IB Q . We then have V + = (1 + β)IB Q RE + VE B(on) + IB Q RT H + VT H nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 341 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 341 For IC Q = 0.5 mA, then IB Q = 0.00625 mA so we can write = + + + 1 9 (81)(0.00625)(2) 0.7 (0.00625)(16.2) (291.6) − 9 R1 We find R1 = 18.0 k. Then, from RT H = R1‖R2 = 16.2 k, we find R2 = 162 k. For IC Q = 0.5 mA, then IE Q = 0.506 mA. The KVL equation around the EC loop yields V + = I − E Q RE + VEC Q + IC Q RC + V or 9 = (0.506)(2) + 7 + (0.50)RC + (−9) which yields RC ∼= 20 k Tradeoffs: All resistor values are standard values except for R2 = 162 k. A standard discrete value of 160 k is available. However, because of the bias-stable design, the Q-point will not change significantly. The change in Q-point values with a change in transistor current gain β is considered in end-of-chapter problems such as Problems 5.31 and 5.34. Comment: In many cases, specifications such as a collector current level or an emitter–collector voltage value are not absolute, but are given as approximate values. For this reason, the emitter resistor, for example, is determined to be 2 k, which is a standard discrete resistor value. The final bias resistor values are also chosen to be standard values. However, these small changes compared to the calculated resistor values will not change the Q-point values significantly. EXERCISE PROBLEM Ex 5.17: Consider the circuit shown in Figure 5.58. The transistor parameters are β = 150 and VB E(on) = 0.7 V. The circuit parameters are RE = 2 k and RC = 10 k. Design a bias-stable circuit such that the quiescent output voltage is zero. What are the values of IC Q and VC E Q? (Ans. IC Q = 0.5 mA, VC E Q = 3.99 V, R1 = 167 k, R2 = 36.9 k) V + = +5 V RR C 1 CC + vO – v + s – R2 REV – = –5 V Figure 5.58 Figure for Exercise Ex 5.17 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 342 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 342 Part 1 Semiconductor Devices and Basic Applications 5.4.4 Integrated Circuit Biasing The resistor biasing of transistor circuits considered up to this point is primarily applied to discrete circuits. For integrated circuits, we would like to eliminate as many resistors as possible since, in general, they require a larger surface area than transistors. A bipolar transistor can be biased by using a constant-current source IQ , as shown in Figure 5.59. The advantages of this circuit are that the emitter current is independent of β and RB , and the collector current and CE voltage are essentially independent of transistor current gain, for reasonable values of β . The value of RB can be increased, thus increasing the input resistance at the base, without jeopardizing the bias stability. The constant current source can be implemented by using transistors as shown in Figure 5.60. The transistor Q1 is a diode-connected transistor, but still operates in the forward-active mode. The transistor Q2 must also operate in the forward-active mode (VC E ≥ VB E (on)). Current I1 is called the reference current and is found by writing Kirchhoff’s voltage law equation around the R1–Q1 loop. We have 0 = IR + V (on) + V − 1 1 BE (5.43(a)) which yields −(V − + V (on)) I = BE 1 (5.43(b)) R1 Since VB E1 = VB E2, the circuit mirrors the reference current in the left branch into the right branch. The circuit of R1, Q1, and Q2 is then referred to as a current mirror. Summing the currents at the collector of Q1 gives I1 = IC1 + IB1 + IB2 (5.44) V+ = +5 V RC QO V + IR R 1 1 B RC IC2 = IQ IC1 QO Q1 Q2 RB IB1 II B2 Q V – V – = –5 V Figure 5.59 Bipolar Figure 5.60 Transistor QO biased with a transistor biased with a constant current source. The transistors Q1 constant-current source and Q2 form a current mirror. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 343 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 343 The BE voltages of Q1 and Q2 are equal. If Q1 and Q2 are identical transistors and are held at the same temperature, then IB1 = IB2 and IC1 = IC2. Equation (5.44) can then be written as ( ) = + = + 2II I C2 1 C1 2IB2 IC2 = + 2 IC2 1 (5.45) β β Solving for IC2, we find = = ( II I 1 C2 Q ) (5.46) + 2 1 β This current biases the transistor QO in the active region. The circuit with Q1, Q2, and R1 is referred to as a two-transistor current source. EXAMPLE 5.18 Objective: Determine the currents in a two-transistor current source. For the circuit in Figure 5.60, the circuit and transistor parameters are: R1 = 10 k, β = 50, and VB E (on) = 0.7 V. Solution: The reference current is = −(V − + VB E (on)) = −((−5) + 0.7) I1 = 0.43 mA R1 10 From Equation (5.46), the bias current IQ is = = ( I1 ) = ( 0.43 IC2 IQ ) = 0.413 mA + 2 2 1 1 + β 50 The base currents are then I = II = C2 = 0.413 B1 B2 ⇒ 8.27 μA β 50 Comment: For relatively large values of current gain β , the bias current IQ is essentially the same as the reference current I1. EXERCISE PROBLEM Ex 5.18: In the circuit shown in Figure 5.60, the parameters are V + = 3.3 V, V − = −3.3 V, and RB = 0. The transistor parameters are β = 60 and VB E(on) = 0.7 V. Design the circuit such that IC Q(QO) = 0.12 mA and VC E Q(QO) = 1.6 V. What are the values of IQ and I1? (Ans. IQ = 0.122 mA, I1 = 0.126 mA, R1 = 20.6 k, RC = 20 k) As mentioned, constant-current biasing is used almost exclusively in integrated circuits. As we will see in Part 2 of the text, circuits in integrated circuits use a minimum number of resistors, and transistors are often used to replace these resistors. Transistors take up much less area than resistors on an IC chip, so it’s advantageous to minimize the number of resistors. nea80644_ch05_285-368.qxd 06/13/2009 05:06 PM Page 344 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-05: 344 Part 1 Semiconductor Devices and Basic Applications Test Your Understanding TYU 5.19 The parameters of the circuit shown in Figure 5.57(a) are V + = 5 V, V − = −5 V, RE = 0.5 k, and RC = 4.5 k. The transistor parameters are β = 120 and VE B(on) = 0.7 V. Design a bias-stable circuit such that the Q-point is in the center of the load line. What are the values of IC Q and VEC Q? (Ans. IC Q = 1 mA, VEC Q = 5 V, R1 = 6.92 k, R2 = 48.1 k) TYU 5.20 For Figure 5.59, the circuit parameters are IQ = 0.25 mA, V + = 2.5 V, V − = −2.5 V, RB = 75 k, and RC = 4 k. The transistor parameters are I = 3 × 10−14 SA and β = 120. (a) Determine the dc voltage at the base of the transistor and also VC E Q . (b) Repeat part (a) for β = 60. (Ans. (a) VB = −0.155 V, VC E Q = 2.26V; (b) VB = −0.307 V, VC E Q = 2.42 V) 5.5 MULTISTAGE CIRCUITS Objective: • Consider the dc biasing of multistage or multitransistor circuits. Most transistor circuits contain more than one transistor. We can analyze and design these multistage circuits in much the same way as we studied single-transistor circuits. As an example, Figure 5.61 shows an npn transistor, Q1, and a pnp bipolar transistor, Q2, in the same circuit. +5 V RE2 = 2 kΩ R = 5 kΩ R1 = 100 kΩ C1 Q2 Q1 R2 = 50 kΩ RC2 = 1.5 kΩ RE1 = 2 kΩ –5 V Figure 5.61 A multistage transistor circuit EXAMPLE 5.19 Objective: Calculate the dc voltages at each node and the dc currents through the elements in a multistage circuit. For the circuit in Figure 5.61, assume the BE turn-on voltage is 0.7 V and β = 100 for each transistor."
5.5 Multistage Circuits,"5.5 MULTISTAGE CIRCUITS Objective: • Consider the dc biasing of multistage or multitransistor circuits. Most transistor circuits contain more than one transistor. We can analyze and design these multistage circuits in much the same way as we studied single-transistor circuits. As an example, Figure 5.61 shows an npn transistor, Q1, and a pnp bipolar transistor, Q2, in the same circuit. +5 V RE2 = 2 kΩ R = 5 kΩ R1 = 100 kΩ C1 Q2 Q1 R2 = 50 kΩ RC2 = 1.5 kΩ RE1 = 2 kΩ –5 V Figure 5.61 A multistage transistor circuit EXAMPLE 5.19 Objective: Calculate the dc voltages at each node and the dc currents through the elements in a multistage circuit. For the circuit in Figure 5.61, assume the BE turn-on voltage is 0.7 V and β = 100 for each transistor. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 345 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 345 Solution: The Thevenin equivalent circuit of the base circuit of Q1 is shown in Figure 5.62. The various currents and nodal voltages are defined as shown. The Thevenin resistance and voltage are RT H = R1‖R2 = 100‖50 = 33.3 k and ( ) ( ) = RV 2 50 TH + (10) − 5 = (10) − 5 = −1.67 V R1 R2 150 Kirchhoff’s voltage law equation around the BE loop of Q1 is VT H = IB1 RT H + VB E (on) + IE1 RE1 − 5 +5 VI R = 2 kΩ IE2 RE2 R1 C1 = 5 kΩ V V E2 C1 RTH = R1 ⎜⎜R Q 2 2 IC1 Q I 1 B2 + IV B1 C2 VTH VE1 – II R Ω C2 RC2 = 1.5 kΩ E1 E1 = 2 k –5 V Figure 5.62 Multistage transistor circuit with a Thevenin equivalent circuit in the base of Q1 Noting that IE1 = (1 + β)IB1, we have = −1.67 + 5 − 0.7 IB1 + ⇒ 11.2 μA 33.3 (101)(2) Therefore, IC1 = 1.12 mA and IE1 = 1.13 mA Summing the currents at the collector of Q1, we obtain IR1 + IB2 = IC1 which can be written as 5 − VC1 + I = IR B2 C1 (5.47) C1 The base current IB2 can be written in terms of the emitter current IE2, as follows: = IE2 = 5 − VE2 5 − (VI C1 + 0.7) B2 = (5.48) 1 + β (1 + β)RE2 (1 + β)RE2 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 346 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 346 Part 1 Semiconductor Devices and Basic Applications Substituting Equation (5.48) into (5.47), we obtain 5 − VC1 + 5 − (VC1 + 0.7) + = IC1 = 1.12 mA RC1 (1 β)RE2 which can be solved for VC1 to yield VC1 = −0.482 V Then, = 5 − (−0.482) IR1 = 1.10 mA 5 To find VE2, we have VE2 = VC1 + VE B(on) = −0.482 + 0.7 = 0.218 V The emitter current IE2 is 5 − 0.218 IE2 = = 2.39 mA 2 Then, ( ) ( ) = β = 100 IC2 + IE2 (2.39) = 2.37 mA 1 β 101 and II = E2 B2 + = 2.39 ⇒ 23.7 μA 1 β 101 The remaining nodal voltages are VE1 = IE1 RE1 − 5 = (1.13)(2) − 5 ⇒ VE1 = −2.74 V and VC2 = IC2 RC2 − 5 = (2.37)(1.5) − 5 = −1.45 V We then find that VC E1 = VC1 − VE1 = −0.482 − (−2.74) = 2.26 V and that VEC2 = VE2 − VC2 = 0.218 − (−1.45) = 1.67 V Comment: These results show that both Q1 and Q2 are biased in the forward-active mode, as originally assumed. However, when we consider the ac operation of this circuit as an amplifier in the next chapter, we will see that a better design would increase the value of VEC2. EXERCISE PROBLEM Ex 5.19: In the circuit shown in Figure 5.61, determine new values of RC1 and RC2 such that VC E Q1 = 3.25 V and VEC Q2 = 2.5 V. (Ans. RC1 = 4.08 k, RC2 = 1.97 k) nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 347 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 347 EXAMPLE 5.20 Objective: Design the circuit shown in Figure 5.63, called a cascode circuit, to meet the following specifications: VC E1 = VC E2 = 2.5 V, VRE = 0.7 V, IC ∼ 1 = IC ∼ 2 = 1 mA, and IR ∼= IR ∼ 1 2 = IR ∼ 3 = 0.10 mA. Solution: The initial design will neglect base currents. We can then define IBias = IR1 = IR2 = IR3 = 0.10 mA. Then + R1 + V 9 R2 + R3 = = = 90 k IBias 0.10 V + = +9 V RC R1 vo CB CC2 Q2 RL R2 CC1 Q1 v + + i – R3 RE VRE – Figure 5.63 A bipolar cascode circuit for Example 5.20 The voltage at the base of Q1 is VB1 = VRE + VB E(on) = 0.7 + 0.7 = 1.4 V Then = VB1 = 1.4 R3 = 14 k IBias 0.10 The voltage at the base of Q2 is VB2 = VRE + VC E1 + VB E(on) = 0.7 + 2.5 + 0.7 = 3.9 V Then = V RB2 − VB1 = 3.9 − 1.4 2 = 25 k IBias 0.10 We then obtain R1 = 90 − 25 − 14 = 51 k The emitter resistor RE can be found as = VRE = 0.7 RE = 0.7 k IC1 1 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 348 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 348 Part 1 Semiconductor Devices and Basic Applications The voltage at the collector of Q2 is VC2 = VRE + VC E1 + VC E2 = 0.7 + 2.5 + 2.5 = 5.7 V Then V + = − V RC2 = 9 − 5.7 C = 3.3 k IC2 1 Comment: By neglecting base currents, the design of this circuit is straightforward. A computer analysis using PSpice, for example, will verify the design or show that small changes need to be made to meet the design specifications. We will see the cascode circuit again in Section 6.9.3 of the next chapter. One advantage of the cascode circuit will be determined in Chapter 7. The cascode circuit has a larger bandwidth than just a simple common-emitter amplifier. EXERCISE PROBLEM Ex 5.20: For the circuit shown in Figure 5.63, the circuit parameters are V + = 12 V and RE = 2 k, and the transistor parameters are β = 120 and VB E (on) = 0.7 V. Redesign the circuit such that IC ∼ ∼ 1 = IC2 = 0.5 mA, IR ∼ ∼ 1 = IR2 = IR ∼ 3 = 0.05 mA, and VC E ∼ 1 = VC E ∼ 2 = 4 V. (Ans. R1 = 126 k, R2 = 80 k, R3 = 34 k, and RC = 6 k) COMPUTER ANALYSIS EXERCISE PS 5.4: (a) Verify the cascode circuit design in Example 5.20 using a PSpice simulation. Use standard transistors. (b) Repeat part (a) using standard resistor values. 5.6 DESIGN APPLICATION: DIODE THERMOMETER WITH A BIPOLAR TRANSISTOR Objective: • Incorporate a bipolar transistor in a design application that enhances the simple diode thermometer design discussed in Chapter 1. Specifications: The electronic thermometer is to operate over a temperature range of 0 to 100 °F. Design Approach: The output-diode voltage developed in the diode thermometer in Figure 1.48 is to be applied to the base–emitter junction of an npn bipolar transistor to enhance the voltage over the temperature range. The bipolar transistor will be held at a constant temperature. Choices: Assume an npn bipolar transistor with I = 10−12 SA is available. Solution: From the desi(gn in) Chapter 1, the diode voltage is given by T VD = 1.12 − 0.522 300 where T is in kelvins."
5.6 Design Application: Diode Thermometer with a Bipolar Transistor,"5.6 DESIGN APPLICATION: DIODE THERMOMETER WITH A BIPOLAR TRANSISTOR Objective: • Incorporate a bipolar transistor in a design application that enhances the simple diode thermometer design discussed in Chapter 1. Specifications: The electronic thermometer is to operate over a temperature range of 0 to 100 °F. Design Approach: The output-diode voltage developed in the diode thermometer in Figure 1.48 is to be applied to the base–emitter junction of an npn bipolar transistor to enhance the voltage over the temperature range. The bipolar transistor will be held at a constant temperature. Choices: Assume an npn bipolar transistor with I = 10−12 SA is available. Solution: From the desi(gn in) Chapter 1, the diode voltage is given by T VD = 1.12 − 0.522 300 where T is in kelvins. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 349 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 349 Consider the circuit shown in Figure 5.64. We assume that the diode is in a variable temperature environment while the rest of the circuit is held at room temperature. Neglecting the bipolar transistor base current, we have VD = VB E + IC RE (5.49) We can write I = I eVB E /VT CS (5.50) so that Equation (5.49) becomes VD − VB E = I eVB E /VT S (5.51) REV + = +15 V RC VO D RE Temperature Figure 5.64 Design application circuit to measure output voltage of diode versus temperature and VO = 15 − IC RC (5.52) From Chapter 1, we have the following: T (°F) VD (V) 0 0.6760 40 0.6372 80 0.5976 100 0.5790 If we assume that I = 10−12 SA for the transistor, then from Equations (5.50), (5.51), and (5.52), we find T (°F) VBE (V) IC (mA) VO (V) 0 0.5151 0.402 4.95 40 0.5092 0.320 7.00 80 0.5017 0.240 9.00 100 0.4974 0.204 9.90 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 350 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 350 Part 1 Semiconductor Devices and Basic Applications Comment: Figure 5.65(a) shows the diode voltage versus temperature and Figure 5.65(b) now shows the output voltage versus temperature from the bipolar transistor circuit. We can see that the transistor circuit provides a voltage gain. This voltage gain is the desired characteristic of the transistor circuit. Discussion: We can see from the equations that the collector current is not a linear function of the base–emitter voltage or diode voltage. This effect implies that the transistor output voltage is also not exactly a linear function of temperature. The line drawn in Figure 5.65(b) is a good linear approximation. We will obtain a better circuit design using operational amplifiers in Chapter 9. VO (V) 10 9 VO (V) 8 0.68 7 6 0.58 5 0 20 40 60 80 100 0 20 40 60 80 100 Temperature (°F) Temperature (°F) (a) (b) Figure 5.65 (a) Diode voltage versus temperature and (b) circuit output voltage versus temperature 5.7 SUMMARY • In this chapter, we considered the structure, characteristics, and properties of the bipolar transistor. Both npn and pnp complementary bipolar transistors can be formed. The defining transistor action is that the voltage across two terminals (base and emitter) controls the current in the third terminal (collector). • The four modes of operation are: forward-active, cutoff, saturation, and inverse- active. In the forward-active mode, the BE junction is forward biased, the BC junction is reverse biased, and the collector and base currents are related by the common-emitter current gain β . When the transistor is cutoff, all currents are zero. In the saturation mode, the collector current is no longer a function of base current. • The dc analysis and design techniques of bipolar transistor circuits were emphasized in this chapter. We continued to use the piecewise linear model of the pn junction in these analyses and designs. Techniques to design a transistor circuit with a stable Q-point were developed. • An introduction to dc biasing of integrated circuits using constant current circuits was presented."
5.7 Summary,"5.7 SUMMARY • In this chapter, we considered the structure, characteristics, and properties of the bipolar transistor. Both npn and pnp complementary bipolar transistors can be formed. The defining transistor action is that the voltage across two terminals (base and emitter) controls the current in the third terminal (collector). • The four modes of operation are: forward-active, cutoff, saturation, and inverse- active. In the forward-active mode, the BE junction is forward biased, the BC junction is reverse biased, and the collector and base currents are related by the common-emitter current gain β . When the transistor is cutoff, all currents are zero. In the saturation mode, the collector current is no longer a function of base current. • The dc analysis and design techniques of bipolar transistor circuits were emphasized in this chapter. We continued to use the piecewise linear model of the pn junction in these analyses and designs. Techniques to design a transistor circuit with a stable Q-point were developed. • An introduction to dc biasing of integrated circuits using constant current circuits was presented. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 351 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 351 • Basic applications of the transistor include switching currents and voltages, performing digital logic functions, and amplifying time-varying signals. The amplifying characteristics of bipolar transistor circuits are considered in detail in the next chapter. • An introduction to dc biasing in mutistage circuits was given. • As an application, the bipolar transistor was incorporated in a circuit design that enhances the simple diode thermometer discussed in Chapter 1. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Understand and describe the structure and general current–voltage characteristics for both the npn and pnp bipolar transistors. ✓ Apply the piecewise linear model to the dc analysis and design of various bipolar transistor circuits, including the understanding of the load line. ✓ Define the four modes of operation of a bipolar transistor. ✓ Qualitatively understand how a transistor circuit can be used to switch currents and voltages, to perform digital logic functions, and to amplify time-varying signals. ✓ Design the dc biasing of a transistor circuit to achieve specified dc currents and voltages, and to stabilize the Q-point against transistor parameter variations. ✓ Apply the dc analysis and design techniques to multistage transistor circuits. REVIEW QUESTIONS 1. Describe the basic structure and operation of npn and pnp bipolar transistors. 2. What are the bias voltages that need to be applied to an npn bipolar transistor such that the transistor is biased in the forward-active mode? 3. Define the conditions for cutoff, forward-active mode, and saturation mode for a pnp bipolar transistor. 4. Define common-base current gain and common-emitter current gain. 5. Discuss the difference between the ac and dc common-emitter current gains. 6. State the relationships between collector, emitter, and base currents in a bipolar transistor biased in the forward-active mode. 7. Define Early voltage and collector output resistance. 8. Describe a simple common-emitter circuit with an npn bipolar transistor and discuss the relation between collector–emitter voltage and input base current. 9. Describe the parameters that define a load line. Define Q-point. 10. What are the steps used to analyze the dc response of a bipolar transistor circuit? 11. Describe how an npn transistor can be used to switch an LED diode on and off. 12. Describe a bipolar transistor NOR logic circuit. 13. Describe how a transistor can be used to amplify a time-varying voltage. 14. Discuss the advantages of using resistor voltage divider biasing compared to a single base resistor. 15. How can the Q-point be stabilized against variations in transistor parameters? 16. What is the principal difference between biasing techniques used in discrete transistor circuits and integrated circuits? nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 352 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 352 Part 1 Semiconductor Devices and Basic Applications PROBLEMS [Note: In the following problems, unless otherwise stated, assume VB E (on) = 0.7 V and VC E (sat) = 0.2 V for npn transistors, and assume VE B(on) = 0.7 V and VEC (sat) = 0.2 V for pnp transistors.] Section 5.1 Basic Bipolar Junction Transistor 5.1 (a) In a bipolar transistor biased in the forward-active region, the base current is iB = 2.8 μA and the emitter current is iE = 325 μA. Determine β , α, and iC . (b) Repeat part (a) if iB = 20 μA and iE = 1.80 mA. 5.2 (a) A bipolar transistor is biased in the forward-active mode. The collector current is iC = 726 μA and the emitter current is iE = 732 μA. Determine β, α, and iB . (b) Repeat part (a) if iC = 2.902 mA and iE = 2.961 mA. 5.3 (a) The range of β for a particular type of transistor is 110 ≤ β ≤ 180. Determine the corresponding range of α. (b) If the base current is 50 μA, determine the range of collector current. 5.4 (a) A bipolar transistor is biased in the forward-active mode. The measured parameters are iE = 1.25 mA and β = 150. Determine iB , iC , and α. (b) Repeat part (a) for iE = 4.52 mA and β = 80. 5.5 (a) For the following values of common-base current gain α, determine the corresponding common-emitter current gain β: α 0.90 0.950 0.980 0.990 0.995 0.9990 β (b) For the following values of common-emitter current gain β , determine the corresponding common-base current gain α: β 20 50 100 150 220 400 α 5.6 An npn transistor with β = 80 is connected in a common-base configuration as shown in Figure P5.6. (a) The emitter is driven by a constant-current source with IE = 1.2 mA. Determine IB , IC , α, and VC . (b) Repeat part (a) for IE = 0.80 mA. (c) Repeat parts (a) and (b) for β = 120. VC RC = 2 kΩ V – + IE IC 5 VI – B Figure P5.6"
Problems,"PROBLEMS [Note: In the following problems, unless otherwise stated, assume VB E (on) = 0.7 V and VC E (sat) = 0.2 V for npn transistors, and assume VE B(on) = 0.7 V and VEC (sat) = 0.2 V for pnp transistors.] Section 5.1 Basic Bipolar Junction Transistor 5.1 (a) In a bipolar transistor biased in the forward-active region, the base current is iB = 2.8 μA and the emitter current is iE = 325 μA. Determine β , α, and iC . (b) Repeat part (a) if iB = 20 μA and iE = 1.80 mA. 5.2 (a) A bipolar transistor is biased in the forward-active mode. The collector current is iC = 726 μA and the emitter current is iE = 732 μA. Determine β, α, and iB . (b) Repeat part (a) if iC = 2.902 mA and iE = 2.961 mA. 5.3 (a) The range of β for a particular type of transistor is 110 ≤ β ≤ 180. Determine the corresponding range of α. (b) If the base current is 50 μA, determine the range of collector current. 5.4 (a) A bipolar transistor is biased in the forward-active mode. The measured parameters are iE = 1.25 mA and β = 150. Determine iB , iC , and α. (b) Repeat part (a) for iE = 4.52 mA and β = 80. 5.5 (a) For the following values of common-base current gain α, determine the corresponding common-emitter current gain β: α 0.90 0.950 0.980 0.990 0.995 0.9990 β (b) For the following values of common-emitter current gain β , determine the corresponding common-base current gain α: β 20 50 100 150 220 400 α 5.6 An npn transistor with β = 80 is connected in a common-base configuration as shown in Figure P5.6. (a) The emitter is driven by a constant-current source with IE = 1.2 mA. Determine IB , IC , α, and VC . (b) Repeat part (a) for IE = 0.80 mA. (c) Repeat parts (a) and (b) for β = 120. VC RC = 2 kΩ V – + IE IC 5 VI – B Figure P5.6 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 353 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 353 5.7 The emitter current in the circuit in Figure P5.6 is IE = 0.80 mA. The transistor parameters are α = 0.9910 and IE O = 5 × 10−14 A. Determine IB , IC , VB E , and VC . 5.8 A pnp transistor with β = 60 is connected in a common-base configuration as shown in Figure P5.8. (a) The emitter is driven by a constant-current source with IE = 0.75 mA. Determine IB , IC , α, and VC . (b) Repeat part (a) if IE = 1.5 mA. (c) Is the transistor biased in the forward-active mode for both parts (a) and (b)? Why or why not? VC RC = 5 kΩ V+ – II 10 V EC + IB Figure P5.8 5.9 (a) The pnp transistor shown in Figure P5.8 has a common-base current gain α = 0.9860. Determine the emitter current such that VC = −1.2 V. What is the base current? (b) Using the results of part (a) and assuming IE O = 2 × 10−15 A, determine VE B . 5.10 An npn transistor has a reverse-saturation current of IS = 5 × 10−15 A and a current gain of β = 125. The transistor is biased at vB E = 0.615 V. Determine iB , iC , and iE . 5.11 Two pnp transistors, fabricated with the same technology, have different junction areas. Both transistors are biased with an emitter-base voltage of vE B = 0.650 V and have emitter currents of 0.50 and 12.2 mA. Find IE O for each device. What are the relative junction areas? 5.12 The collector currents in two transistors, A and B, are both iC = 275 μA. For transistor A, I −16 SA = 8 × 10 A. The base–emitter area of transistor Bis 4 times that of transistor A. Determine ISB and the base–emitter voltage of each transistor. 5.13 A BJT has an Early voltage of 80 V. The collector current is IC = 0.60 mA at a collector–emitter voltage of VC E = 2 V. (a) Determine the collector current at VC E = 5 V. (b) What is the output resistance? 5.14 The open-emitter breakdown voltage of a BC junction is BVC BO = 60 V. If β = 100 and the empirical constant is n = 3, determine the CE breakdown voltage in the open-base configuration. 5.15 In a particular circuit application, the minimum required breakdown voltages are BVC BO = 220 V and BVC E O = 56 V. If n = 3, determine the maximum allowed value of β . 5.16 A particular transistor circuit design requires a minimum open-base breakdown voltage of BVC E O = 50 V. If β = 50 and n = 3, determine the minimum required value of BVC BO . Section 5.2 DC Analysis of Transistor Circuits 5.17 For all the transistors in Figure P5.17, β = 75. The results of some measurements are indicated on the figures. Find the values of the other labeled currents, voltages, and/or resistor values. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 354 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 354 Part 1 Semiconductor Devices and Basic Applications +10 V +5 V +8 V +5 VI R IQ = IRC = CC RC = 10 kΩ C 0.5 mA 4 kΩ RB = 20 kΩ VC + VB RB = 10 kΩ + VCE = 4 V VCE – VC = –1 V – RIB B = R = 25 kΩ ER R = Ω CE RE = 2 kΩ 5 k 4 kΩ –10 V –5 V –8 V (a) (b) (c) (d) Figure P5.17 5.18 The emitter resistor values in the circuits show in Figures P5.17(a) and (c) may vary by ±5 percent from the given value. Determine the range of calculated parameters. 5.19 Consider the two circuits in Figure P5.19. The parameters of each transistor are I = 5 × 10−16 SA and β = 90. Determine VB Bin each circuit such that VC E = 1.10 V. + + V R = CE C VCE – 4 kΩ – + VCC = 2.5 V + + + – V VCC = V R = BB BB E – – 2.5 V – 2 kΩ (a) (b) Figure P5.19 5.20 The current gain for each transistor in the circuits shown in Figure P5.20 is β = 120. For each circuit, determine IC and VC E . 5.21 Consider the circuits in Figure P5.21. For each transistor, β = 120. Determine IC and VEC for each circuit. 5.22 (a) The circuit and transistor parameters for the circuit shown in Figure 5.20(a) are VCC = 3 V, VB B = 1.3 V, and β = 100. Redesign the circuit such that IB Q = 5 μA and VC E Q = 1.5 V. (b) Using the results of part (a), determine the variation in VC E Q if β is in the range 75 ≤ β ≤ 125. nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 355 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 355 + + V RC = CE V R CE C = – 4 kΩ – 4 kΩ + + IB =V + BB = VCC = VCC = 0.2 V 2 μA – – 2 V – 2 V (a) (b) + RC = VCE 4 kΩ – + + VBB = RE = V CC = 1.4 V – 2 kΩ – 2 V (c) Figure P5.20 + + R RE = VEC E = VEC 1.5 kΩ – 1.5 kΩ – V + + IB = + + BB = V + = V = 15 μA 0.2 V 2 V 2 V – – – (a) (b) + R = V EEC 1.5 kΩ – + + VBB = RC = V + = 2 V – 4 kΩ – 2 V (c) Figure P5.21 nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 356 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 356 Part 1 Semiconductor Devices and Basic Applications 5.23 In the circuits shown in Figure P5.23, the values of measured parameters are shown. Determine β , α, and the other labeled currents and voltages. Sketch the dc load line and plot the Q-point. +5 V +3 V +5 V RE = 2 kΩ IC R = 100 kΩ VE = +4 V RC = 10 kΩ B VB = –1 V + VCE VC – VB RB = 500 kΩ RE = 4.8 kΩ RC = 8 kΩ RE = 3 kΩ –3 V –5 V (a) (b) –5 V Figure P5.23 Figure P5.24 5.24 (a) For the circuit in Figure P5.24, determine VB and IE such that VB = VC . Assume β = 90. (b) What value of VB results in VC E = 2 V? 5.25 (a) The bias voltages in the circuit shown in Figure P5.25 are changed to V + = 3.3 V and V − = −3.3 V . The measured value of emitter voltage is VE = 0.85 V. Determine IE , IC , β , α, and VEC . (b) Using the results of part (a), determine VE and VEC if β increases by 10 percent. 5.26 The transistor shown in Figure P5.26 has β = 120. Determine IC and VEC . Plot the load line and the Q-point. 5.27 The transistor in the circuit shown in Figure P5.27 is biased with a constant current in the emitter. If IQ = 1 mA, determine VC and VE . Assume β = 50. +9 V +10 VI + Q V = +5 V RE = 10 kΩ V + EVE VEC – RB = 250 kΩ RB = 50 kΩ RB = 50 kΩ R Ω RC = 1.5 kΩ C = 10 k RC = 4.7 kΩ –10 V V – = –5 V –9 V Figure P5.25 Figure P5.26 Figure P5.27 5.28 In the circuit in Figure P5.27, the constant current is I = 0.5 mA. If β = 50, determine the power dissipated in the transistor. Does the constant current source supply or dissipate power? What is the value? nea80644_ch05_285-368.qxd 06/12/2009 08:42 PM Page 357 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 357 5.29 For the circuit shown in Figure P5.29, if β = 200 for each transistor, determine: (a) IE1, (b) IE2, (c) VC1, and (d) VC2. 5.30 The circuit shown in Figure P5.30 is to be designed such that IC Q = 0.8 mA and VC E Q = 2 V for the case when (a) RE = 0 and (b) RE = 1 k. Assume β = 80. (c) The transistor in Figure P5.30 is replaced with one with a value of β = 120. Using the results of parts (a) and (b), determine the Q-point values IC Q and VC E Q . Which design shows the smallest change in Q-point values? +5 V +5 V RC1 = 4 kΩ RC2 = 4 kΩ RC VC1 VC2 R Q QB 1 2 VB = 2 VIE1 IE2 I = 1 mA RE VCC = 24 V –5 V Figure P5.29 Figure P5.30 RR CB D5.31 (a) The bias voltage in the circuit in Figure P5.31 is changed to VCC = 9 V. The transistor current gain is β = 80. Design the circuit such that IC Q = 0.25 mA and VC E Q = 4.5 V. (b) If the transistor is replaced by a new one with β = 120, find the new values of IC Q and VC E Q . (c) Sketch the load line and Q-point for both parts (a) and (b). Figure P5.31 5.32 The current gain of the transistor in the circuit shown in Figure P5.32 is β = 150. Determine IC , IE , and VC for (a) VB = 0.2 V, (b) VB = 0.9 V, (c) VB = 1.5 V, and (d) VB = 2.2 V. +6 V VCC = 5 V RC = 10 kΩ RC = 5 kΩ VC VB VO RB = 50 kΩ IE RE = 1 kΩ + RL = 10 kΩ VBB – Figure P5.32 Figure P5.33 5.33 (a) The current gain of the transistor in Figure P5.33 is β = 75. Determine VO for: (i) VB B = 0, (ii) VB B = 1 V, and (iii) VB B = 2 V. (b) Verify the results of part (a) with a computer simulation. nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 358 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 358 Part 1 Semiconductor Devices and Basic Applications +5 V 5.34 (a) The transistor shown in Figure P5.34 has β = 100. Determine VO for (i) IQ = 0.1 mA, (ii) IQ = 0.5 mA, and (iii) IQ = 2 mA. (b) Determine the percent change in VO for the conditions in part (a) if the current gain RC = 5 kΩ increases to β = 150. 5.35 Assume β = 120 for the transistor in the circuit shown in Figure P5.34. + Determine IQ such that (a) VO = 4 V, (b) VO = 2 V, and (c) V V O = 0. – O 5.36 For the circuit shown in Figure P5.27, calculate and plot the power dissipated in the transistor for IQ = 0, 0.5, 1.0, 1.5, 2.0, 2.5, and 3.0 mA. Assume β = 50. IQ 5.37 Consider the common-base circuit shown in Figure P5.37. Assume the transistor alpha is α = 0.9920. Determine IE , IC , and VBC . –5 V Figure P5.34 VCC = 12 V RE = 4 kΩ RC = 2.2 kΩ – R1 = 15 kΩ + RC = 2.2 kΩ V1 VEE = 9 V + VBC – – V = 9 V R2 = 100 kΩ CC + –12 V Figure P5.37 Figure P5.38 5.38 (a) For the transistor in Figure P5.38, β = 80. Determine V1 such that VC E Q = 6 V. (b) Determine the range in V1 that produces 3 ≤ VC E Q ≤ 9 V. 5.39 Let β = 25 for the transistor in the circuit shown in Figure P5.39. Determine the range of V1 such that 1.0 ≤ VC E ≤ 4.5 V. Sketch the load line and show the range of the Q-point values. VCC = 5 V VCC = 5 V RC = 1 kΩ R1 = 15 kΩ + RV V RC 1 CE BR2 = 100 kΩ –5 V Figure P5.39 Figure P5.40 D5.40 (a) The circuit shown in Figure P5.40 is to be designed such that IC Q = 0.5 mA and VC E Q = 2.5 V. Assume β = 120. Sketch the load line and plot the Q-point. (b) Pick standard values of resistors that are close to the designed values. Assume that the standard resistor values vary by ±10 nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 359 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 359 percent. Plot the load lines and Q-point values for the maximum and minimum values of RB and RC values (four Q-point values). 5.41 The circuit shown in Figure P5.41 is sometimes used as a thermometer. Assume the transistors Q1 and Q2 in the circuit are identical. Writing the emitter currents in the form IE = IE O exp(VB E/VT ), derive the expression for the output voltage VO as a function of temperature T. +5 V VCC = 5 V RC = 4 kΩ RB = 200 kΩ VO Q1 Q V 2 I VO – + RE 10 II Figure P5.41 Figure P5.42 5.42 The transistor in Figure P5.42 has β = 120. (a) Determine VI that produces VO = 4 V for (i) RE = 0 and (ii) RE = 1 k. (b) Repeat part (a) for VO = 2.5 V. (c) Determine VO for VI = 3.5 V and for RE = 1 k. 5.43 The common-emitter current gain of the transistor in Figure P5.43 is β = 80. Plot the voltage transfer characteristics over the range 0 ≤ VI ≤ 5 V. +5 V +5 V RE = 1 kΩ RB = 180 kΩ RB = 180 kΩ VI VI VO VO RC = 4 kΩ RC = 4 kΩ Figure P5.43 Figure P5.44 VCC = 5 V 5.44 For the circuit shown in Figure P5.44, plot the voltage transfer characteris- RC = 200 Ω tics over the range 0 ≤ VI ≤ 5 V. Assume β = 100. RB VO VI Section 5.3 Basic Transistor Applications 5.45 The transistor in the circuit shown in Figure P5.45 has a current gain of β = 40. Determine RB such that VO = 0.2 V and IC/IB = 20 when VI = 5 V. Figure P5.45 nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 360 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 360 Part 1 Semiconductor Devices and Basic Applications 5.46 Consider the circuit in Figure P5.46. For the transistor, β = 50. Find IB , IC , IE , and VO for (a) VI = 0, (b) VI = 2.5 V, and (c) VI = 5 V. VCC = 3 V RB = 10 kΩ VI VO RE = 500 Ω Figure P5.46 5.47 The current gain for the transistor in the circuit in Figure P5.47 is β = 60. Determine RB such that VO = 8.8 V when VI = 5 V and IC/IB = 25. VCC = 3 V V + = 9 V RC = 2 kΩ RB RV B VO I VO + vi RC = 500 Ω + VBB = – 1.0 V Figure P5.47 Figure P5.48 5.48 Consider the amplifier circuit shown in Figure P5.48. Assume a transistor current gain of β = 120. The voltage VB B establishes the Q-point, and the voltage υi is a time-varying signal that produces a variation in the base current, which in turn produces a variation in the collector current and hence a variation in the output voltage vo . (a) Determine RB such that VC E Q = 1.6 V. (b) Determine the maximum variation in the output voltage such that the transistor does not enter cutoff or saturation. (c) What is VCC = 2.5 V the voltage gain vo/vi of the amplifier? (d) What is the maximum variation in the voltage vi such that the transistor does not enter cutoff or saturation? RC = R1 6 kΩ Section 5.4 Bipolar Transistor Biasing VD5.49 For the transistor in the circuit shown in Figure P5.49, assume β = 120. B Design the circuit such that IC Q = 0.15 mA and RT H = 200 k. What is the value of V RC E Q? 2 RE = Ω 5.50 Reconsider Figure P5.49. The transistor current gain is β = 150. The circuit 2 k parameters are changed to RT H = 120 k and RE = 1 k. Determine the values of RC , R1, and R2 such that VC E Q = 1.5 V and IC Q = 0.20 mA. 5.51 The current gain of the transistor shown in the circuit of Figure P5.51 is Figure P5.49 β = 100. Determine VB and IE Q . nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 361 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 361 VCC = +10 V VCC = 24 V IEQ RE = 1 kΩ R1 = 20 kΩ R1 = 58 kΩ CC VB R2 = 15 kΩ + R2 = 42 kΩ vi – RE = 10 kΩ Figure P5.51 Figure P5.52 5.52 For the circuit shown in Figure P5.52, let β = 125. (a) Find IC Q and VC E Q . VCC = 9 V Sketch the load line and plot the Q-point. (b) If the resistors R1 and R2 vary by ±5 percent, determine the range in IC Q and VC E Q . Plot the various Q-points on the load line. R = R1 = C 5.25 kΩ 5.53 Consider the circuit shown in Figure P5.53. (a) Determine IB Q , IC Q , and 96 kΩ VC E Q for β = 80. (b) What is the percent change in IC Q and VC E Q if β is changed to β = 120? 5.54 (a) Redesign the circuit shown in Figure P5.49 using VCC = 9 V such R = that the voltage drop across RC is ( 1 3 )VCC and the voltage drop across R 2 E is R = 24 kΩ E ( 1 3 )VCC . Assume β = 100. The quiescent collector current is to be I 1 kΩ C Q = 0.4 mA, and the current through R1 and R2 should be approximately 0.2IC Q . (b) Replace each resistor in part (a) with the closest standard value (Appendix C). What is the value of IC Q and what are the voltage drops Figure P5.53 across RC and RE ? 5.55 For the circuit shown in Figure P5.55, let β = 100. (a) Find RT Hand VT H for the base circuit. (b) Determine IC Q and VC E Q . (c) Draw the load line and plot the Q-point. (d) If the resistors RC and RE vary by ±5 percent, determine the range in IC Q and VC E Q . Draw the load lines corresponding to the maximum and minimum resistor values and plot the Q-points. 5.56 Consider the circuit shown in Figure P5.56. (a) Determine RT H , VT H , IB Q , IC Q , and VEC Q for β = 90. (b) Determine the percent change in IC Q and VEC Q if β is changed to β = 150. V + = 2.5 V +5 V RR Ω R = E = Ω C = 5 k R 1 = 12 k 0.7 kΩ 1 40 kΩ CC v + R2 = 2 kΩ R = s – RE = 0.5 kΩ 2 Ω RC =40 k 1.6 kΩ – 5 V Figure P5.55 Figure P5.56 nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 362 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 362 Part 1 Semiconductor Devices and Basic Applications VCC = 10 V 5.57 (a) Determine the Q-point values for the circuit in Figure P5.57. Assume β = 50. (b) Repeat part (a) if all resistor values are reduced by a factor of 3. (c) Sketch the load lines and plot the Q-point values for parts (a) and (b). RC = 5.58 (a) Determine the Q-point values for the circuit in Figure P5.58. Assume R1 = 42 kΩ 68 kΩ β = 50. (b) Repeat part (a) if all resistor values are reduced by a factor of 3. (c) Sketch the load lines and plot the Q-point values for parts (a) and (b). V + = +5 V R2 = R VCC = 10 V 36 kΩ E = 30 kΩ RR = E = 1 R 30 kΩ RC 36 kΩ 1 CC2 C Figure P5.57 C1 RL = 1 kΩ R2 = R = v + R 68 kΩ Cs – 2 42 kΩ RE = 0.5 kΩ CE V – = –5 V Figure P5.58 Figure P5.59 D5.59 (a) For the circuit shown in Figure P5.59, design a bias-stable circuit such that IC Q = 0.8 mA and VC E Q = 5 V. Let β = 100. (b) Using the results of part (a), determine the percentage change in IC Q if β is in the range 75 ≤ β ≤ 150. (c) Repeat parts (a) and (b) if RE = 1 k. D5.60 Design a bias-stable circuit in the form of Figure P5.59 with β = 120 such that IC Q = 0.8 mA, VC E Q = 5 V, and the voltage across RE is approximately 0.7 V. D5.61 Using the circuit in Figure P5.61, design a bias-stable amplifier such that the Q-point is in the center of the load line. Let β = 125. Determine IC Q , VC E Q , R1, and R2. D5.62 For the circuit shown in Figure P5.61, the bias voltages are changed to V + = 3 V and V − = −3 V. (a) Design a bias-stable circuit for β = 120 V+ = +6 V RC = 2 kΩ R1 CC v + s – R2 RE = 200 Ω V – = –6 V Figure P5.61 nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 363 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 363 such that VC E Q = 2.8 V. Determine IC Q , R1, and R2. (b) If the resistors R1 and R2 vary by ±5 percent, determine the range in IC Q and VC E Q . Plot the various Q-points on the load line. 5.63 (a) A bias-stable circuit with the configuration shown in Figure P5.61 is to be designed such that IC Q = (3 ± 0.1) mA and VC E Q ∼= 5 V using a transistor with 75 ≤ β ≤ 150. (b) Sketch the load line and plot the range of Q-point values for part (a). D5.64 (a) For the circuit shown in Figure P5.64, assume that the transistor current gain is β = 90 and that the circuit parameter is RT H = 2.4 k. Design the circuit such that VEC Q = 1.5 V. Find IB Q , IC Q , R1, and R2. (b) Determine the values of IB Q , IC Q , and VEC Q if the current gain is changed to β = 130. V + V = 18 V = 3.3 V CC i (mA) R = RC = 2 kΩ CE RR 1 2 kΩ 7.2 1 CC Q -point 4.8 R2 RE v + R i 2 RC =– 1 kΩ 0 6 18 vCE (V) (a) (b) Figure P5.64 Figure P5.65 5.65 The dc load line and Q-point of the circuit in Figure P5.65(a) are shown in Figure P5.65(b). For the transistor, β = 120. Find RE , R1, and R2 such that the circuit is bias stable. D5.66 The range of β for the transistor in the circuit in Figure P5.66 is 80 ≤ β ≤ 120. Design a bias-stable circuit such that the nominal Q-point values are IC Q = 0.2 mA and VC E Q = 1.6 V. The value of IC Q must fall in the range 0.19 ≤ IC Q ≤ 0.21 mA. Determine RE , R1, and R2. D5.67 The nominal Q-point of the circuit in Figure P5.67 is IC Q = 1 mA and VC E Q = 5 V, for β = 60. The current gain of the transistor is in the range VCC = 2.5 V VCC = 15 V RC = R1 4 kΩ RC = 5 kΩ R1 R2 RR E 2 RE Figure P5.66 Figure P5.67 nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 364 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 364 Part 1 Semiconductor Devices and Basic Applications 45 ≤ β ≤ 75. Design a bias-stable circuit such that IC Q does not vary by more than 5 percent from its nominal value. D5.68 (a) For the circuit in Figure P5.67, the value of VCC is changed to 3 V. Let RC = 5RE and β = 120. Redesign a bias-stable circuit such that IC Q = 100 μA and VC E Q = 1.4 V. (b) Using the results of part (a), determine the dc power dissipation in the circuit. D5.69 For the circuit in Figure P5.69, let β = 100 and RE = 3 k. Design a bias- stable circuit such that VE = 0. +2 V +5 V +5 V +10 V RR RE RE 1 1 VE VE VCR R 2 2 RC –2 V –5 V –5 V –10 V Figure P5.69 Figure P5.70 5.70 For the circuit in Figure P5.70, let RC = 2.2 k, RE = 2 k, R1 = 10 k, R2 = 20 k, and β = 60. (a) Find RT Hand VT H for the base circuit. (b) Determine IB Q , IC Q , VE , and VC . D5.71 Design the circuit in Figure P5.70 to be bias stable and to provide nominal Q-point values of IC Q = 0.5 mA and VEC Q = 8 V. Let β = 60. The maximum current in R1 and R2 is to be limited to 40 μA. D5.72 Consider the circuit shown in Figure P5.72. (a) The nominal transistor current gain is β = 80. Design a bias-stable circuit such that IC Q = 0.15 mA and VEC Q = 2.7 V. (b) Using the results of part (a), determine the percent change in IC Q and VEC Q if the transistor current gain is in the range 60 ≤ β ≤ 100. 5.73 For the circuit in Figure P5.73, let β = 100. (a) Find VT Hand RT H for the base circuit. (b) Determine IC Q and VC E Q . V + = 2.5 V +15 V +5 V RE = R1 2 kΩ 50 kΩ 500 kΩ 500 kΩ +3 V R2 RC 70 kΩ 5 kΩ – 5 V V – = –2.5 V – 5 V Figure P5.72 Figure P5.73 nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 365 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 365 D5.74 Design a bias-stable four-resistor bias network for an npn transistor such that IC Q = 0.8 mA, VC E Q = 4 V, and VE = 1.5 V. The circuit and transistor parameters are VCC = 10 V and β = 120, respectively. D5.75 (a) Design a four-resistor bias network with the configuration shown in Figure P5.61 to yield Q-point values of IC Q = 50 μA and VC E Q = 5 V. The bias voltages are V + = +5 V and V − = −5 V. Assume a transistor with β = 80 is available. The voltage across the emitter resistor should be approximately 1 V. (b) The transistor in part (a) is replaced by one with β = 120. Determine the resulting Q-point. D5.76 (a) Design a four-resistor bias network with the configuration shown in Figure P5.61 to yield Q-point values of IC Q = 0.50 mA and VC E Q = 2.5 V. The bias voltages are V + = 3 V and V − = −3 V. The transistor current gain is β = 120. The voltage across the emitter resistor should be approximately 0.7 V. (b) Replace the designed resistors in part (a) with standard resistors with + values closest to the designed values. Determine the resulting Q-point. VD5.77 (a) A four-resistor bias network is to be designed with the configuration shown in Figure P5.77. The Q-point values are to be IC Q = 100 μA and VEC Q = 3 V. The bias voltages are V + = 3 V and V − = −3 V. A transistor RR E with β = 1 110 is available. The voltage across the emitter resistor should be approximately 0.7 V. (b) The transistor in part (a) is replaced with one with β = 150. What is the resulting Q-point? D5.78 (a) Design a four-resistor bias network with the configuration shown in Fig- R2 ure P5.77 such that the Q-point values are IC Q = 1.2 mA and VEC Q = 6 V. RC The bias voltages are V + = 9 V and V − = −9 V. A transistor with β = 75 is available. The voltage across the emitter resistor should be approximately – 1.5 V. (b) Replace the designed resistors in part (a) with standard resistors V with values closest to the designed values. Determine the resulting Q-point. Figure P5.77 Section 5.5 Multistage Circuits 5.79 For each transistor in the circuit in Figure P5.79, β = 120 and the BE turn- on voltage is 0.7 V. Determine the quiescent base, collector, and emitter currents in Q1 and Q2. Also determine VC E Q1 and VC E Q2. 5.80 The parameters for each transistor in the circuit in Figure P5.80 are β = 80 and VB E (on) = 0.7 V. Determine the quiescent values of base, collector, and emitter currents in Q1 and Q2. +10 V RC1 = R1 = 100 kΩ 3 kΩ +5 V Q2 Q1 Q1 CC v + R2 = s – Ω RE1 = vO Q2 40 k 1 kΩ RE1 = 20 kΩ RE2 = 1 kΩ RE2 = 5 kΩ –10 V –5 V Figure P5.79 Figure P5.80 nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 366 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: 366 Part 1 Semiconductor Devices and Basic Applications D5.81 The bias voltage in the circuit shown in Figure 5.63 is changed to V + = 5 V. Design the circuit to meet the following specifications: VC E1 = VC E2 = 1.2 V, VRE = 0.5 V, IC ∼ 1 = IC ∼ 2 = 0.2 mA, and IR ∼ 1 = IR ∼ 2 = IR ∼ 3 = 20 μA. 5.82 Consider the circuit shown in Figure P5.82. The current gain for the npn transistor is βn = 120 and for the pnp transistor is βp = 80. Determine IB1, IC1, IB2, IC2, VC E1, and VEC2. V + = 9 V +5 V RE1 80 kΩ 2 kΩ Ω R1 = 50 kΩ 100 RC2 Q1 Q Q Q 1 2 2 VO R2 = 100 kΩ RC1 40 kΩ 2 kΩ 200 Ω RE2 –5 V Figure P5.82 Figure P5.83 5.83 (a) For the transistors in the circuit shown in Figure P5.83, the parameters are: β = 100 and VB E (on) = VE B(on) = 0.7 V. Determine RC1, RE1, RC2, and RE2 such that IC1 = IC2 = 0.8 mA, VEC Q1 = 3.5 V, and VC E Q2 = 4.0 V. (b) Correlate the results of part (a) with a computer simulation. COMPUTER SIMULATION PROBLEMS 5.84 Using a computer simulation, plot VC E versus V1 over the range 0 ≤ VI ≤ 8 V for the circuit in Figure 5.24(a). At what voltage does the transistor turn on and at what voltage does the transistor go into saturation? 5.85 Using a computer simulation, verify the results of Example 5.7. 5.86 Consider the circuit and parameters in Example 5.15. Using a computer simulation, determine the change in Q-point values if all resistors vary by ±5 percent. 5.87 Using a computer simulation, verify the results of Example 5.19. DESIGN PROBLEMS [Note: Each design should be correlated with a computer simulation.] *D5.88 Consider a common-emitter circuit with the configuration shown in Figure 5.54(a). Assume a bias voltage of VCC = 3.3 V and assume the transistor current gain is in the range 100 ≤ β ≤ 160. Design the circuit such that the nominal Q-point is in the center of the load line and that the Q-point values nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 367 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: Chapter 5 The Bipolar Junction Transistor 367 do not vary by more than ±3 percent. Determine appropriate values for R1 and R2. *D5.89 The emitter-follower circuit shown in Figure P5.89 is biased at V + = 2.5 V and V − = −2.5 V. Design a bias-stable circuit such that the nominal Q-point values are IC Q ∼= 5 mA and VC E Q ∼= 2.5 V. The transistor current gain values are in the range 100 ≤ β ≤ 160. Select standard 5 percent tolerance resistance values in the final design. What is the range in Q-point values? V + R1 R2 REV – Figure P5.89 *D5.90 The bias voltages for the circuit in Figure 5.57(a) are V + = 3.3 V and V − = −3.3 V. The transistor current gain is β = 100. Design a bias-stable circuit such that IC Q =∼ 120 μA, VRE ∼= 0.7 V, and VEC Q ∼= 3 V. Use standard resistor values in the final design. *D5.91 The multitransistor circuit in Figure 5.61 is to be redesigned. The bias voltages are to be ±3.3 V and the nominal transistor current gains are β = 120. Design a bias-stable circuit such that IC Q1 = 100 μA, IC Q2 = 200 μA, and VC E Q ∼ 1 = VEC Q ∼ 2 = 3 V. nea80644_ch05_285-368.qxd 06/12/2009 08:43 PM Page 368 F506 Tempwork:Dont' Del Rakesh:June:Rakesh 06-12-09:MHDQ134-05: nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 369 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Basic BJT Amplifiers 6 In the previous chapter, we described the structure and operation of the bipolar junction transistor, and analyzed and designed the dc response of circuits containing these devices. In this chapter, we emphasize the use of the bipolar transistor in linear amplifier applications. Linear amplifiers imply that, for the most part, we are dealing with analog signals. The magnitude of an analog signal may have any value, within limits, and may vary continuously with respect to time. A linear amplifier then means that the output signal is equal to the input signal multiplied by a constant, where the magnitude of the constant of proportionality is, in general, greater than unity. PREVIEW In this chapter, we will: • Investigate the process by which a transistor circuit can amplify a small, time- varying input signal, and develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. • Discuss the three basic transistor amplifier configurations. • Analyze the common-emitter amplifier and become familiar with the general characteristics of this circuit. • Understand the concept of the ac load line and determine the maximum symmetrical swing of the output signal. • Analyze the emitter-follower amplifier and become familiar with the general characteristics of this circuit. • Analyze the common-base amplifier and become familiar with the general characteristics of this circuit. • Compare the general characteristics of the three basic amplifier configurations. • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor circuits. • Understand the concept of signal power gain in an amplifier circuit. • As an application, incorporate bipolar transistors in a design of a multistage amplifier circuit configuration to provide a specified output signal power. 369 Chapter"
Chapter 6: Basic BJT Amplifiers,"6: Basic BJT Amplifiers 6 In the previous chapter, we described the structure and operation of the bipolar junction transistor, and analyzed and designed the dc response of circuits containing these devices. In this chapter, we emphasize the use of the bipolar transistor in linear amplifier applications. Linear amplifiers imply that, for the most part, we are dealing with analog signals. The magnitude of an analog signal may have any value, within limits, and may vary continuously with respect to time. A linear amplifier then means that the output signal is equal to the input signal multiplied by a constant, where the magnitude of the constant of proportionality is, in general, greater than unity. PREVIEW In this chapter, we will: • Investigate the process by which a transistor circuit can amplify a small, time- varying input signal, and develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. • Discuss the three basic transistor amplifier configurations. • Analyze the common-emitter amplifier and become familiar with the general characteristics of this circuit. • Understand the concept of the ac load line and determine the maximum symmetrical swing of the output signal. • Analyze the emitter-follower amplifier and become familiar with the general characteristics of this circuit. • Analyze the common-base amplifier and become familiar with the general characteristics of this circuit. • Compare the general characteristics of the three basic amplifier configurations. • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor circuits. • Understand the concept of signal power gain in an amplifier circuit. • As an application, incorporate bipolar transistors in a design of a multistage amplifier circuit configuration to provide a specified output signal power. 369 Chapter"
Preview,"PREVIEW In this chapter, we will: • Investigate the process by which a transistor circuit can amplify a small, time- varying input signal, and develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. • Discuss the three basic transistor amplifier configurations. • Analyze the common-emitter amplifier and become familiar with the general characteristics of this circuit. • Understand the concept of the ac load line and determine the maximum symmetrical swing of the output signal. • Analyze the emitter-follower amplifier and become familiar with the general characteristics of this circuit. • Analyze the common-base amplifier and become familiar with the general characteristics of this circuit. • Compare the general characteristics of the three basic amplifier configurations. • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor circuits. • Understand the concept of signal power gain in an amplifier circuit. • As an application, incorporate bipolar transistors in a design of a multistage amplifier circuit configuration to provide a specified output signal power. 369 Chapter nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 370 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 370 Part 1 Semiconductor Devices and Basic Applications 6.1 ANALOG SIGNALS AND LINEAR AMPLIFIERS Objective: • Understand the concept of an analog signal and the principle of a linear amplifier. In this chapter, we will be considering signals, analog circuits, and amplifiers. A signal contains some type of information. For example, sound waves produced by a speaking human contain the information the person is conveying to another person. A sound wave is an analog signal. The magnitude of an analog signal can take on any value, within limits, and may vary continuously with time. Electronic circuits that process analog signals are called analog circuits. One example of an analog circuit is a linear amplifier. A linear amplifier magnifies an input signal and produces an output signal whose magnitude is larger and directly proportional to the input signal. Time-varying signals from a particular source very often need to be amplified before the signal is capable of being “useful.” For example, Figure 6.1 shows a signal source that maybe the output of a microphone. The output of the microphone will need to be amplified in order to drive the speakers at the output. The amplifier is the circuit that performs this function. A dc voltage source is also an input to the amplifier. The amplifier contains transistors that must be biased so that the transistors can act as amplifying devices. In this chapter, we analyze and design linear amplifiers that use bipolar transistors as the amplifying device. The term small-signal means that we can linearize the ac equivalent circuit. We will define what is meant by small signal in the case of BJT circuits. The term linear amplifier means that we can use superposition so that the dc analysis and ac analysis of the circuits can be performed separately and the total response is the sum of the two individual responses. The mechanism by which BJT circuits amplify small time-varying signals was introduced in the last chapter. In this section, we will expand that discussion, using the graphical technique, dc load line, and ac load line. In the process, we will develop the various small-signal parameters of linear circuits and the corresponding equivalent circuits. Figure 6.1 suggests that there are two types of analyses of the amplifier that we must consider. The first is a dc analysis because of the applied dc voltage source, and the second is a time-varying or ac analysis because of the time-varying signal source. VDC dc power supply input Signal Electronic Signal input vI circuit vO output Ground or Figure 6.1 Schematic of an electronic circuit with two input signals: the dc power supply input, and the signal input"
6.1 Analog Signals and Linear Amplifiers,"6.1 ANALOG SIGNALS AND LINEAR AMPLIFIERS Objective: • Understand the concept of an analog signal and the principle of a linear amplifier. In this chapter, we will be considering signals, analog circuits, and amplifiers. A signal contains some type of information. For example, sound waves produced by a speaking human contain the information the person is conveying to another person. A sound wave is an analog signal. The magnitude of an analog signal can take on any value, within limits, and may vary continuously with time. Electronic circuits that process analog signals are called analog circuits. One example of an analog circuit is a linear amplifier. A linear amplifier magnifies an input signal and produces an output signal whose magnitude is larger and directly proportional to the input signal. Time-varying signals from a particular source very often need to be amplified before the signal is capable of being “useful.” For example, Figure 6.1 shows a signal source that maybe the output of a microphone. The output of the microphone will need to be amplified in order to drive the speakers at the output. The amplifier is the circuit that performs this function. A dc voltage source is also an input to the amplifier. The amplifier contains transistors that must be biased so that the transistors can act as amplifying devices. In this chapter, we analyze and design linear amplifiers that use bipolar transistors as the amplifying device. The term small-signal means that we can linearize the ac equivalent circuit. We will define what is meant by small signal in the case of BJT circuits. The term linear amplifier means that we can use superposition so that the dc analysis and ac analysis of the circuits can be performed separately and the total response is the sum of the two individual responses. The mechanism by which BJT circuits amplify small time-varying signals was introduced in the last chapter. In this section, we will expand that discussion, using the graphical technique, dc load line, and ac load line. In the process, we will develop the various small-signal parameters of linear circuits and the corresponding equivalent circuits. Figure 6.1 suggests that there are two types of analyses of the amplifier that we must consider. The first is a dc analysis because of the applied dc voltage source, and the second is a time-varying or ac analysis because of the time-varying signal source. VDC dc power supply input Signal Electronic Signal input vI circuit vO output Ground or Figure 6.1 Schematic of an electronic circuit with two input signals: the dc power supply input, and the signal input nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 371 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 371 A linear amplifier means that the superposition principle applies. The principle of superposition states: The response of a linear circuit excited by multiple independent input signals is the sum of the responses of the circuit to each of the input signals alone. For the linear amplifier, then, the dc analysis can be performed with the ac source set to zero. This analysis, called a large signal analysis, establishes the Q-point of the transistors in the amplifier. This analysis and design was the primary objective of the previous chapter. The ac analysis, called a small-signal analysis, can be performed with the dc source set to zero. The total response of the amplifier circuit is the sum of the two individual responses. 6.2 THE BIPOLAR LINEAR AMPLIFIER Objective: • Investigate the process by which a single-transistor circuit can amplify a small, time-varying input signal and develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. The transistor is the heart of an amplifier. In this chapter, we will consider bipolar transistor amplifiers. Bipolar transistors have traditionally been used in linear amplifier circuits because of their relatively high gain. We begin our discussion by considering the same bipolar circuit that was discussed in the last chapter. Figure 6.2(a) shows the circuit where the input signal vI contains both a dc and an ac signal. Figure 6.2(b) shows the same circuit where VB Bis a dc voltage to bias the transistor at a particular Q-point and vs is the ac signal that is to be amplified. Figure 6.2(c) shows the voltage transfer characteristics that were Q cutoff VCC VCC vO VCC Q in forward-active region RC t VCEQ Q-point RC Q in saturation vO VCE (sat) vO RB RB V vI Q v + BB s – v + + I – VBB – t (a) (b) (c) Figure 6.2 (a) Bipolar transistor inverter circuit, (b) inverter circuit showing both dc bias and ac signal sources in the base circuit, and (c) transistor inverter voltage transfer characteristics showing desired Q-point"
6.2 The Bipolar Linear Amplifier,"6.2 THE BIPOLAR LINEAR AMPLIFIER Objective: • Investigate the process by which a single-transistor circuit can amplify a small, time-varying input signal and develop the small-signal models of the transistor that are used in the analysis of linear amplifiers. The transistor is the heart of an amplifier. In this chapter, we will consider bipolar transistor amplifiers. Bipolar transistors have traditionally been used in linear amplifier circuits because of their relatively high gain. We begin our discussion by considering the same bipolar circuit that was discussed in the last chapter. Figure 6.2(a) shows the circuit where the input signal vI contains both a dc and an ac signal. Figure 6.2(b) shows the same circuit where VB Bis a dc voltage to bias the transistor at a particular Q-point and vs is the ac signal that is to be amplified. Figure 6.2(c) shows the voltage transfer characteristics that were Q cutoff VCC VCC vO VCC Q in forward-active region RC t VCEQ Q-point RC Q in saturation vO VCE (sat) vO RB RB V vI Q v + BB s – v + + I – VBB – t (a) (b) (c) Figure 6.2 (a) Bipolar transistor inverter circuit, (b) inverter circuit showing both dc bias and ac signal sources in the base circuit, and (c) transistor inverter voltage transfer characteristics showing desired Q-point nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 372 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 372 Part 1 Semiconductor Devices and Basic Applications developed in Chapter 5. To use the circuit as an amplifier, the transistor needs to be biased with a dc voltage at a quiescent point (Q-point), as shown in the figure, such that the transistor is biased in the forward-active region. This dc analysis or design of the circuit was the focus of our attention in Chapter 5. If a time-varying (e.g., sinusoidal) signal is superimposed on the dc input voltage, VB B , the output voltage will change along the transfer curve producing a time-varying output voltage. If the time- varying output voltage is directly proportional to and larger than the time-varying input voltage, then the circuit is a linear amplifier. From this figure, we see that if the transistor is not biased in the active region (biased either in cutoff or saturation), the output voltage does not change with a change in the input voltage. Thus, we no longer have an amplifier. In this chapter, we are interested in the ac analysis and design of bipolar transistor amplifiers, which means that we must determine the relationships between the time-varying output and input signals. We will initially consider a graphical technique that can provide an intuitive insight into the basic operation of the circuit. We will then develop a small-signal equivalent circuit that will be used in the mathematical analysis of the ac signals. In general, we will be considering a steady-state, sinusoidal analysis of circuits. We will assume that anytime-varying signal can be written as a sum of sinusoidal signals of different frequencies and amplitudes (Fourier series), so that a sinusoidal analysis is appropriate. We will be dealing with time-varying as well as dc currents and voltages in this chapter. Table 6.1 gives a summary of notation that will be used. This notation was discussed in the Prologue, but is repeated here for convenience. A lowercase letter with an uppercase subscript, such as iB or vB E , indicates total instantaneous values. Table 6.1 Summary of notation Variable Meaning iB , vB E Total instantaneous values IB , VB E DC values ib, vbe Instantaneous ac values Ib, Vbe Phasor values An uppercase letter with an uppercase subscript, such as IB or VB E , indicates dc quantities. A lowercase letter with a lowercase subscript, such as ib or vbe , indicates instantaneous values of ac signals. Finally, an uppercase letter with a lowercase subscript, such as Ib or Vbe , indicates phasor quantities. The phasor notation, which was reviewed in the Prologue becomes especially important in Chapter 7 during the discussion of frequency response. However, the phasor notation will be generally used in this chapter in order to be consistent with the overall ac analysis. 6.2.1 Graphical Analysis and ac Equivalent Circuit Figure 6.3 shows the same basic bipolar inverter circuit that has been discussed, but now includes a sinusoidal signal source in series with the dc source as was shown in Figure 6.2(b). nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 373 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 373 iC VCC RC Time Q-point i+ Bi + V C CC I Time BQ ICQ i– Bi R – CC iC R v B + O v + CE + iB vBE – vs – VCEQ V – CC vCE + VBB Time – v – + CE vCE Figure 6.3 A common-emitter circuit Figure 6.4 Common-emitter transistor characteristics, dc load with a time-varying signal source in line, and sinusoidal variation in base current, collector current, series with the base dc source and collector–emitter voltage Figure 6.4 shows the transistor characteristics, the dc load line, and the Q-point. The sinusoidal signal source, vs , will produce a time-varying or ac base current superimposed on the quiescent base current as shown in the figure. The time-varying base current will induce an ac collector current superimposed on the quiescent collector current. The ac collector current then produces a time-varying voltage across RC , which induces an ac collector–emitter voltage as shown in the figure. The ac collector–emitter voltage, or output voltage, in general, will be larger than the sinusoidal input signal, so that the circuit has produced signal amplification—that is, the circuit is an amplifier. We need to develop a mathematical method or model for determining the relationships between the sinusoidal variations in currents and voltages in the circuit. As already mentioned, a linear amplifier implies that superposition applies so that the dc and ac analyses can be performed separately. To obtain a linear amplifier, the time-varying or ac currents and voltages must be small enough to ensure a linear relation between the ac signals. To meet this objective, the time-varying signals are assumed to be small signals, which means that the amplitudes of the ac signals are small enough to yield linear relations. The concept of “small enough,” or small signal, will be discussed further as we develop the small-signal equivalent circuits. A time-varying signal source, vs , in the base of the circuit in Figure 6.3 generates a time-varying component of base current, which implies there is also a time- varying component of base–emitter voltage. Figure 6.5 shows the exponential relationship between base-current and base–emitter voltage. If the magnitudes of the time-varying signals that are superimposed on the dc quiescent point are small, then we can develop a linear relationship between the ac base–emitter voltage and ac base current. This relationship corresponds to the slope of the curve at the Q-point. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 374 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 374 Part 1 Semiconductor Devices and Basic Applications iB 1 Slope = rp IBQ Time VBEQ vBE Time Figure 6.5 Base current versus base–emitter voltage characteristic with superimposed sinusoidal signals. Slope at the Q-point is inversely proportional to rπ, a small-signal parameter. Small Signal Using Figure 6.5, we can now determine one quantitative definition of small signal. From the discussion in Chapter 5, in particular, Equation (5.6), the relation between base–emitter voltag(e and) base current can be written as = Ii S · v B exp BE (6.1) β VT If vB E is composed of a dc term with a sinusoidal component superimposed, i.e., vB E = VB E Q + vbe(, then + ) ( ) ( ) iB = IS · VB E Q vbe = I exp S · V exp BE Q · v exp be (6.2) β VT β VT VT where VB E Q is normally referred to as the base–emitter turn-on voltage, VB E (on). The term [IS/β] · e(xp(VB)E Q/VT ) is the quiescent base current, so we can write = · vi I exp be BB Q (6.3) VT The base current, given in this form, is not linear and cannot be written as an ac current superimposed on a dc quiescent value. However, if vbe  VT , then we can expand the exponential term in a Taylor series, keeping only the linear term. This approximation( is what i)s meant by small signal. We then have vi be B ∼= IB Q 1 + = IB Q + IB Q · v V V be = IB Q + ib (6.4(a)) T T nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 375 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 375 where ib i(s the t)ime-varying (sinusoidal) base current given by = Ii B Q b vbe (6.4(b)) VT The sinusoidal base current, ib, is linearly related to the sinusoidal base–emitter voltage, vbe . In this case, the term small-signal refers to the condition in which vbe is sufficiently small for the linear relationships between ib and vbe given by Equation (6.4(b)) to be valid. As a general rule, if vbe is less than l0 mV, then the exponential relation given by Equation (6.3) and its linear expansion in Equation (6.4(a)) agree within approximately 10 percent. Ensuring that vbe < 10 mV is another useful rule of thumb in the design of linear bipolar transistor amplifiers. If the vbe signal is assumed to be sinusoidal, but if its magnitude becomes too large, then the output signal will no longer be a pure sinusoidal voltage but will become distorted and contain harmonics (see box “Harmonic Distortion”). Harmonic Distortion If an input sinusoidal signal becomes too large, the output signal may no longer be a pure sinusoidal signal because of nonlinear effects. A nonsinusoidal output signal maybe expanded into a Fourier series and written in the form vO(t) = VO + V1 sin(ωt + φ1) + V2 sin(2ωt + φ2) + V3 sin(3ωt + φ3) + · · · dc desired 2nd harmonic 3rd harmonic linear output distortion distortion (6.5) The signal at the frequency ω is the desired linear output signal for a sinusoidal input signal at the same frequency. The time-varying input base-emitter voltage is contained in the exponential term given in Equation (6.3). Expanding the exponential function into a Taylor series, we find x = + + x2 x3 e 1 x + + · · · (6.6) 2 6 where, from Equation (6.3), we have x = vbe/VT . If we assume the input signal is a sinusoidal function, then we can write = v x be = Vπ sin ωt (6.7) VT VT The exponential function can th(en be) written as 2 ( ) V 1 V 3 ex = 1 + π sin t + · π ω sin2 1 ωt + · Vπ sin3 ωt + · · · (6.8) VT 2 VT 6 VT From trigonometric identities, we can write 1 sin2 ωt = [1 − 1 cos(2ωt)] = [1 − sin(2ωt + 90◦)] (6.9a) 2 2 and sin3 ωt = 1 [3 sin ωt − sin(3ωt)] (6.9b) 4 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 376 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 376 Part 1 Semiconductor Devices and Basic Applications Substituting Equations (6.9a) and (6.9b) into Equation (6.8), we obtain [ ( ) 1 V 2] [ ( ) ] x = + π + Vπ + 1 V 2 e 1 1 π sin ωt (4 )VT VT 8 VT 2 ( )3 −1 Vπ 1 V sin 2 t + 90◦ − π ( ω ) sin(3ωt) + · · · (6.10) 4 VT 24 VT Comparing Equation (6.10) to Equation (6.8), we find the coefficients as [ ( ) ] [ ( ) ] = + 1 V 2 V 2 V 1 π V = π 1 V O 1 + π (4 )V 1 T VT ( 8 )VT = −1 V 2 π = − 1 V 3 V2 V π (6.11) 4 V 3 T 24 VT We see that as (Vπ/VT ) increases, the second and third harmonic terms become nonzero. In addition, the dc and first harmonic coefficients also become nonlinear. A figure of merit is called the percent total harmonic distortion (THD) and is defined as √∑∞ V 2 THD(%) = 2 n × 100% (6.12) V1 Considering only the second and third harmonic terms, the THD is plotted in Figure 6.6. We see that, for Vπ ≤ 10 mV, the THD is less than 10 percent. This total harmonic distortion value may seem excessive, but as we will see later in Chapter 12, distortion can be reduced when feedback circuits are used. THD (%) 20 15 10 5 0 5 10 15 20 Vp (mV) Figure 6.6 Total harmonic distortion of the function evB E /VT , where vB E = Vπ sin ωt , as a function of Vπ nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 377 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 377 The AC Equivalent Circuit From the concept of small signal, all the time-varying signals shown in Figure 6.4 will be linearly related and are superimposed on dc values. We can write (refer to notation given in Table 6.1) iB = IB Q + ib (6.13(a)) iC = IC Q + ic (6.13(b)) vC E = VC E Q + vce (6.13(c)) and vB E = VB E Q + vbe (6.13(d)) The Base–Emitter Loop: If the signal source, vs , is zero, then the base-emitter loop equation is VB B = IB Q RB + VB E Q (6.14) Taking into account the time-varying signals, we find the base–emitter loop equation is VB B + vs = iB RB + vB E (6.15(a)) or VB B + vs = (IB Q + ib)RB + (VB E Q + vbe) (6.15(b)) Rearranging terms, we find VB B − IB Q RB − VB E Q = ib RB + vbe − vs (6.15(c)) From Equation (6.14), we see that the left side of Equation (6.15(c)) is zero. Equation (6.15(c)) can then be written as vs = ib RB + vbe (6.16) which is the base-emitter loop equation with all dc term effectively set equal to zero. The Collector–Emitter Loop: Again, if the signal source, vs , is zero, then the collector-emitter loop equation is VCC = IC Q RC + VC E Q (6.17) Taking into account the time-varying signals, the collector-emitter loop equation becomes VCC = iC RC + vC E = (IC Q + ic)RC + (VC E Q + vce) (6.18(a)) Rearranging terms, we find VCC − IC Q RC − VC E Q = ic RC + vce (6.18(b)) From Equation (6.17), we see that the left side of Equation (6.18(b)) is zero. Equation (6.18(b)) can be written as ic RC + vce = 0 (6.19) which is the collector–emitter loop equation with all dc terms set equal to zero. Equations (6.16) and (6.19) relate the ac parameters in the circuit. These equations can be obtained directly by setting all dc currents and voltages equal to zero, so the dc voltage sources become short circuits and any dc current sources would nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 378 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 378 Part 1 Semiconductor Devices and Basic Applications ic RC R v B + o v + ce i vbe – b v + – s – Figure 6.7 The ac equivalent circuit of the common-emitter circuit shown in Figure 6.3. The dc voltage sources have been set equal to zero. become open circuits. These results area direct consequence of applying superposition to a linear circuit. The resulting BJT circuit, shown in Figure 6.7, is called the ac equivalent circuit, and all currents and voltages shown are time-varying signals. We should stress that this circuit is an equivalent circuit. We are implicitly assuming that the transistor is still biased in the forward-active region with the appropriate dc voltages and currents. Another way of looking at the ac equivalent circuit is as follows. In the circuit in Figure 6.3, the base and collector currents are composed of ac signals superimposed on dc values. These currents flow through the VB Band VCC voltage sources, respectively. Since the voltages across these sources are assumed to remain constant, the sinusoidal currents do not produce any sinusoidal voltages across these elements. Then, since the sinusoidal voltages are zero, the equivalent ac impedances are zero, or short circuits. In other words, the dc voltage sources are ac short circuits in an equivalent ac circuit. We say that the node connecting RC and VCC is at signal ground. 6.2.2 Small-Signal Hybrid-π Equivalent Circuit of the Bipolar Transistor ic We developed the ac equivalent circuit shown in Figure 6.7. We now need to develop ib C + a small-signal equivalent circuit for the transistor. One such circuit is the hybrid-π B + model, which is closely related to the physics of the transistor. This effect will be- v v ce become more apparent in Chapter 7 when a more detailed hybrid-π model is developed – – to take into account the frequency response of the transistor. E We can treat the bipolar transistor as a two-port network as shown in Figure 6.8. The input port is between the base and emitter, and the output port is between the Figure 6.8 The BJT as a collector and emitter. small-signal, two-port network Input Base–Emitter Port One element of the hybrid-π model has already been described. Figure 6.5 showed the base current versus base–emitter voltage characteristic, with small time-varying signals superimposed at the Q-point. Since the sinusoidal signals are small, we can treat the slope at the Q-point as a constant, which has units of conductance. The inverse of this conductance is the small-signal resistance defined as rπ . We can then relate the small-signal input base current to the small-signal input voltage by vbe = ibrπ (6.20) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 379 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 379 where 1/rπ is equal to the slope of the iB–vB E curve, as shown in Figure 6.5. From Equation (6.2), w∣∣e then find rπ [from ∣∣ ( )] ∣ 1 = ∂iB = ∂ IS · v ∣ exp BE ∣∣ (6.21(a)) rπ ∂vB E Q-pt ∂vB E β VT Q-pt or [ ( )] ∣ 1 = 1 · IS · vB E ∣∣∣ = I exp B Q (6.21(b)) rπ VT β VT Q-pt VT Then vbe = = V βV r T T π = (6.22) ib IB Q IC Q The resistance rπ is called the diffusion resistance or base–emitter input resistance. We see that rπ is a function of the Q-point parameters. Note that this is the same expression obtained in Equation (6.4(b)). Output Collector–Emitter Port We can consider the output terminal characteristics of the bipolar transistor. If we initially consider the case in which the output collector current is independent of the collector–emitter voltage, then the collector current is a function only of the base–emitter volta∣∣ge, as discussed in Chapter 5. We can then write ∂iC iC = ∂v ∣∣ · vB E (6.23(a)) BE Q-pt or = ∂iC ∣∣ ic ∣∣ · vbe (6.23(b)) ∂vB E Q-pt From Chapter 5,(in par)ticular Equation (5.2), we had written iC = v I exp BE S (6.24) VT Then ∣ ∂iC ∣∣∣ ( ) ∣ = 1 · v ∣ II exp BE ∣∣ = C Q S (6.25) ∂vB E Q-pt VT VT Q-pt VT The term IS exp(vB E/VT ) evaluated at the Q-point is just the quiescent collector current. The term IC Q/VT is a conductance. Since this conductance relates a current in the collector to a voltage in the BE circuit, the parameter is called a transconductance and is written I g = C Q m (6.26) VT We can then write the small-signal collector current as ic = gmυbe (6.27) The small-signal transconductance is also a function of the Q-point parameters and is directly proportional to the dc bias current. The variation of transconductance with quiescent collector current will prove to be useful in amplifier design. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 380 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 380 Part 1 Semiconductor Devices and Basic Applications ib (Ib) ic (Ic) BC + + gr m vbe p v (V (g V ) be be) m be vce (Vce) ie (Ie) – – E Figure 6.9 A simplified small-signal hybrid-π equivalent circuit for the npn transistor. The ac signal currents and voltages are shown. The phasor signals are shown in parentheses. Hybrid-π Equivalent Circuit Using these new parameters, we can develop a simplified small-signal hybrid-π equivalent circuit for the npn bipolar transistor, as shown in Figure 6.9. The phasor components are given in parentheses. This circuit can be inserted into the ac equivalent circuit previously shown in Figure 6.7. Alternative Form of Equivalent Circuit We can develop a slightly different form for the output of the equivalent circuit. We can relate the sm∣∣all-signal collector current to the small-signal base current as ∂ii = C  C ∣∣ · iB (6.28(a)) ∂iB Q-pt or ∣ i = ∂iC ∣ c ∣∣ · ib (6.28(b)) ∂iB Q-pt where ∣ ∂iC ∣∣∣ ≡ β (6.28(c)) ∂iB Q-pt and is called an incremental or ac common-emitter current gain. We can then write ic = βib (6.29) The small-signal equivalent circuit of the bipolar transistor in Figure 6.10 uses this parameter. The parameters in this figure are also given as phasors. This circuit can also be inserted in the ac equivalent circuit given in Figure 6.7. Either equivalent circuit, Figure 6.9 or 6.10, maybe used. We will use both circuits in the examples that follow in this chapter. ib (Ib) ic (Ic) B + + bi r b p vbe (Vbe) (b Ib) vce (Vce) ie (Ie) – – Figure 6.10 BJT small-signal equivalent circuit using the common-emitter current gain. The ac signal currents and voltages are shown. The phasor signals are shown in parentheses. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 381 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 381 Common-Emitter Current Gain The common-emitter current gain defined in Equation (6.28(c)) is actually defined as an ac beta and does not include dc leakage currents. We discussed the common- emitter current gain in Chapter 5. We defined a dc beta as the ratio of a dc collector current to the corresponding dc base current. In this case leakage currents are included. However, we will assume in this text that leakage currents are negligible so that the two definitions of beta are equivalent. The small-signal hybrid-π parameters rπ and gm were defined in Equations (6.22) and (6.26). If( we mu)ltip(ly rπ )and gm , we find βV I rπ gm = T · C Q = β (6.30) IC Q VT In general, we will assume that the common-emitter current gain β is a constant for a given transistor. However, we must keep in mind that β may vary from one device to another and that β does vary with collector current. This variation with IC will be specified on data sheets for specific discrete transistors. 6.2.3 Small-Signal Voltage Gain Continuing our discussion of equivalent circuits, we may now insert the bipolar, equivalent circuit in Figure 6.9, for example, into the ac equivalent circuit in Figure 6.7. The result is shown in Figure 6.11. Note that we are using the phasor notation. When incorporating the small-signal hybrid-π model of the transistor (Figure 6.9) into the ac equivalent circuit (Figure 6.7), it is generally helpful to start with the three terminals of the transistor as shown in Figure 6.11. Then sketch the hybrid-π equivalent circuit between these three terminals. Finally, connect the remaining circuit elements, such as RB and RC , to the transistor terminals. As the circuits become more complex, this technique will minimize errors in developing the small-signal equivalent circuit. The small-signal voltage gain, Av = Vo/Vs , of the circuit is defined as the ratio of output signal voltage to input signal voltage. We may note a new variable in Figure 6.11. The conventional phasor notation for the small-signal base-emitter voltage is Vπ , called the control voltage. The dependent current source is then given by gm Vπ . The dependent current gm Vπ flows through RC , producing a negative collector–emitter voltage, or Vo = Vce = −(gm Vπ)RC (6.31) RB I B c C Vo I + + b V + r gmVbe = s – Vp = V p R beg V C Vce mp – E – Figure 6.11 The small-signal equivalent circuit of the common-emitter circuit shown in Figure 6.3. The small-signal hybrid-π model of the npn bipolar transistor is shown within the dotted lines. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 382 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 382 Part 1 Semiconductor Devices and Basic Applications and, from t(he input po)rtion of the circuit, we find r V π π = r + · V Rs (6.32) π B The small-signal voltage gain( is then ) Av = Vo = − r (gm R · π ) V Cs rπ + (6.33) RB EXAMPLE 6.1 Objective: Calculate the small-signal voltage gain of the bipolar transistor circuit shown in Figure 6.3. Assume the transistor and circuit parameters are: β = 100, VCC = 12 V, VB E = 0.7 V, RC = 6 k , RB = 50 k , and VB B = 1.2 V. DC Solution: We first do the dc analysis to find the Q-point values. We obtain IC Q = 1 mA and VC E Q = 6 V. The transistor is biased in the forward-active mode. AC Solution: The small-signal hybrid-π parameters are = βVT = (100)(0.026) rπ = 2.6 k IC Q 1 and gm = IC Q = 1 = 38.5 mA/V VT 0.026 The small-signal voltage gain is determined using the small-signal equivalent circuit shown in Figure 6.11. From E(quation (6).33), we find Av = Vo = − rπ (g RV m C) · s rπ + RB or ( ) = − 2.6 (38.5)(6) + = −11.4 2.6 50 Comment: We see that the magnitude of the sinusoidal output voltage is 11.4 times the magnitude of the sinusoidal input voltage. We will see that other circuit configurations result in even larger small-signal voltage gains. Discussion: We may consider a specific sinusoidal input voltage. Let vs = 0.25 sin ωt V The sinusoidal base current is given by = vs = 0.25 sin ωt ib + + → 4.75 sin ωt μA RB rπ 50 2.6 The sinusoidal collector current is ic = βib = (100)(4.75 sin ωt) → 0.475 sin ωt mA nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 383 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 383 vS (V) iB (mA) 0.25 ib 14.75 IBQ 0 10 Time 5.25 –0.25 Time (a) (b) iC (mA) vCE (V) 1.475 ic 8.85 ICQ VCEQ 1.0 6.0 v 0.525 3.15 ce Time Time (c) (d) Figure 6.12 The dc and ac signals in the common-emitter circuit: (a) input voltage signal, (b) input base current, (c) output collector current, and (d) output collector-emitter voltage. The ac output voltage is 180° out of phase with respect to the input voltage signal. and the sinusoidal collector-emitter voltage is vce = −ic RC = −(0.475)(6) sin ωt = −2.85 sin ωt V Figure 6.12 shows the various currents and voltages in the circuit. These include the sinusoidal signals superimposed on the dc values. Figure 6.12(a) shows the sinusoidal input voltage, and Figure 6.12(b) shows the sinusoidal base current superimposed on the quiescent value. The sinusoidal collector current superimposed on the dc quiescent value is shown in Figure 6.12(c). Note that, as the base current increases, the collector current increases. Figure 6.12(d) shows the sinusoidal component of the CE voltage superimposed on the quiescent value. As the collector current increases, the voltage drop across RC increases so that the CE voltage decreases. Consequently, the sinusoidal component of the output voltage is 180 degrees out of phase with respect to the input signal voltage. The minus sign in the voltage gain expression represents this 180-degree phase shift. In summary, the signal was both amplified and inverted by this amplifier. Analysis Method: To summarize, the analysis of a BJT amplifier proceeds as shown in the box “Problem Solving Method: Bipolar AC Analysis.” EXERCISE PROBLEM Ex 6.1: The circuit parameters for the circuit in Figure 6.3 are VCC = 3.3 V, VB B = 0.850 V, RB = 180 k , and RC = 15 k . The transistor parameters are β = 120 and VB E(on) = 0.7 V. (a) Determine the Q-point values IC Q and VC E Q . (b) Find the small-signal hybrid-π parameters gm and rπ . (c) Calculate the small-signal voltage gain. (Ans. (a) IC Q = 0.1 mA, VC E Q = 1.8 V; (b) gm = 3.846 mA/V, rπ = 31.2 k ; (c) Av = −8.52). nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 384 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 384 Part 1 Semiconductor Devices and Basic Applications Problem-Solving Technique: Bipolar AC Analysis Since we are dealing with linear amplifier circuits, superposition applies, which means that we can perform the dc and ac analyses separately. The analysis of the BJT amplifier proceeds as follows: 1. Analyze the circuit with only the dc sources present. This solution is the dc or quiescent solution, which uses the dc signal models for the elements, as listed in Table 6.2. The transistor must be biased in the forward-active region in order to produce a linear amplifier. 2. Replace each element in the circuit with its small-signal model, as shown in Table 6.2. The small-signal hybrid-π model applies to the transistor although it is not specifically listed in the table. 3. Analyze the small-signal equivalent circuit, setting the dc source components equal to zero, to produce the response of the circuit to the time-varying input signals only. Table 6.2 Transformation of elements in dc and small-signal analysis Element IV relationship DC model AC model V Resistor IR = RR R Capacitor IC = sCV Open CV Short Inductor IL = L sL Diode ID = I (ev SD/VT − 1) +Vγ − r f rd = VT /ID Independent = +V − Short V constant S voltage source S Independent = IS Open I constant current source S Table suggested by Richard Hester of Iowa State University. In Table 6.2, the dc model of the resistor is a resistor, the capacitor model is an open circuit, and the inductor model is a short circuit. The forward-biased diode model includes the cut-in voltage Vγ and the forward resistance r f . The small-signal models of R, L, and C remain the same. However, if the signal frequency is sufficiently high, the impedance of a capacitor can be approximated by a short circuit. The small-signal, low-frequency model of the diode becomes the diode diffusion resistance rd . Also, the independent dc voltage source becomes a short circuit, and the independent dc current source becomes an open circuit. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 385 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 385 6.2.4 Hybrid-π Equivalent Circuit, Including the Early Effect So far in the small-signal equivalent circuit, we have assumed that the collector current is independent of the collector–emitter voltage. We discussed the Early effect in the last chapter in which the collector current does vary with collector–emitter voltage. Equatio[n (5.1(6) int)he] pr(evious cha)pter gives the relation iC = v v IS exp BE · 1 + CE (6.34) VT VA where VA is the Early voltage and is a positive quantity. The equivalent circuits in Figures 6.9 and 6.10 can be expanded to take into account the Early voltage. The output ∣∣resistance ro is defined as = ∂v r CE o ∣∣ (6.35) ∂iC Q-pt Using Equations∣∣ (6.34) and (6.3{5), ∣∣ [we c(an wri)te( )]} ∣ 1 = ∂iC = ∂ v v ∣ IS exp BE 1 + CE ∣∣ (6.36(a)) ro ∂vC E Q-pt ∂vC E VT VA Q-pt or [ ( )] ∣ 1 = vB E · 1 IS exp ∣∣ =∼ IC Q (6.36(b)) ro VT V ∣ A Q-pt VA Then ro = VA (6.37) IC Q and is called the small-signal transistor output resistance. This resistance can be thought of as an equivalent Norton resistance, which means that ro is in parallel with the dependent current sources. Figure 6.13(a) and (b) show the modified bipolar equivalent circuits including the output resistance ro. Rib Ib Ic Roc Ib Ic BC BC + + + + + Vbe Vp rp gmVp ro V V ce be rp b Ib ro Vce – – E – – E – (a) (b) Figure 6.13 Expanded small-signal model of the BJT, including output resistance due to the Early effect, for the case when the circuit contains the (a) transconductance and (b) current gain parameters EXAMPLE 6.2 Objective: Determine the small-signal voltage gain, including the effect of the transistor output resistance ro. Reconsider the circuit shown in Figure 6.3, with the parameters given in Example 6.1. In addition, assume the Early voltage is VA = 50 V. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 386 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 386 Part 1 Semiconductor Devices and Basic Applications Solution: The small-signal output resistance ro is determined to be V r A 50 o = = = 50 k IC Q 1 mA Applying the small-signal equivalent circuit in Figure 6.13 to the ac equivalent circuit in Figure 6.7, we see that the output resistance ro is in parallel with RC . The small-signal voltage gain is the(refore ) ( ) = VA o v = − r g π 2.6 m(RC‖ro) + = −(38.5)(6‖50) + = −10.2 Vs rπ RB 2.6 50 Comment: Comparing this result to that of Example 6.1, we see that ro reduces the magnitude of the small-signal voltage gain. In many cases, the magnitude of ro is much larger than that of RC , which means that the effect of ro is negligible. EXERCISE PROBLEM Ex 6.2: For the circuit in Figure 6.3, assume transistor parameters of β = 150, VB E(on) = 0.7 V, and VA = 150 V. The circuit parameters are VCC = 5 V, VB B = 1.025 V, RB = 100 k , and RC = 6 k . (a) Determine the small-signal hybrid-π parameters gm , rπ , and ro. (b) Find the small-signal voltage gain Av = Vo/Vs . (Ans. (a) gm = 18.75 mA/V, rπ = 8 k , ro = 308 k ; (b) Av = −8.17) The hybrid-π model derives its name, in part, from the hybrid nature of the parameter units. The four parameters of the equivalent circuits shown in Figures 6.13(a) and 6.13(b) are: input resistance rπ (ohms), current gain β (dimensionless), output resistance ro (ohms), and transconductance gm (mhos). Input and Output Resistance Two other parameters that affect the performance of an amplifier are the small-signal input and output resistances. The determination of these parameters for the simple circuits that we have considered up to this point is straightforward. From the hybrid-π equivalent circuit in Figure 6.13(a), the input resistance looking into the base terminal of the transistor, denoted by Rib , is Rib = rπ . To find the output resistance, set all independent sources equal to zero. So, in Figure 6.13(a), we set Vπ = 0 which implies that gm Vπ = 0. A zero-valued current source means an open circuit. The output resistance looking back into the collector terminal of the transistor, denoted by Roc , is Roc = ro . These two parameters affect the loading characteristics of the amplifier. Equivalent Circuit for a pnp Transistor Up to this point, we have considered only circuits with npn bipolar transistors. However, the same basic analysis and equivalent circuit also applies to the pnp transistor. Figure 6.14(a) shows a circuit containing a pnp transistor. Here again, we see the change of current directions and voltage polarities compared to the circuit containing the npn transistor. Figure 6.14(b) is the ac equivalent circuit, with the dc voltage sources replaced by an ac short circuit, and all current and voltages shown are only the sinusoidal components. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 387 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 387 –VCC RC RB v – O vo v – EC RB – ic + v + v EB + vs ec – – Rib v + C + eb v + Vs – BB + (a) (b) Figure 6.14 (a) A common-emitter circuit with a pnp transistor and (b) the corresponding ac equivalent circuit The transistor in Figure 6.14(b) can now be replaced by either of the hybrid-π equivalent circuits shown in Figure 6.15. The hybrid-π equivalent circuit of the pnp transistor is the same as that of the npn device, except that again all current directions and voltage polarities are reversed. The hybrid-π parameters are determined by using exactly the same equations as for the npn device; that is, Equation (6.22) for rπ , Equation (6.26) for gm , and Equation (6.37) for ro. We can note that, in the small-signal equivalent circuits in Figure 6.15, if we define currents of opposite direction and voltages of opposite polarity, the equivalent circuit model is exactly the same as that of the npn bipolar transistor. Figure 6.16(a) is a repeat of Figure 6.15(a) showing the conventional voltage polarities and current directions in the hybrid-π equivalent circuit for a pnp transistor. Keep in mind that these voltages and currents are small-signal parameters. If the polarity of the Ib Ic Ib Ic B – – CB – – C – Veb Vp rp gmVp r V o ec Veb rp b Ib ro Vec + + E + + E + (a) (b) Figure 6.15 The small-signal hybrid-π equivalent circuit for the pnp transistor with the (a) transconductance and (b) current gain parameters. The ac voltage polarities and current directions are consistent with the dc parameters. BC BC II + b c Ib Ic Vp rp r V op rp r g V go mp mVp + E – E (a) (b) Figure 6.16 Small-signal hybrid-π models of the pnp transistor: (a) original circuit shown in Figure 6.15 and (b) equivalent circuit with voltage polarities and current directions reversed nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 388 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 388 Part 1 Semiconductor Devices and Basic Applications Ri RB BC Ro Vo – Ib V + s Vp rp gmVp r R – o C + E Figure 6.17 The small-signal equivalent circuit of the common-emitter circuit with a pnp transistor. The small-signal hybrid-π equivalent circuit model of the pnp transistor is shown within the dashed lines. input control voltage Vπ is reversed, then the direction of the current from the dependent current source is also reversed. This change is shown in Figure 6.16(b). We may note that this small-signal equivalent circuit is the same as the hybrid-π equivalent circuit for the npn transistor. However, the author prefers to use the models shown in Figure 6.15 because the current directions and voltage polarities are consistent with the pnp device. Combining the hybrid-π model of the pnp transistor (Figure 6.15(a)) with the ac equivalent circuit (Figure 6.14(b)), we obtain the small-signal equivalent circuit shown in Figure 6.17. The output voltage is given by Vo = (gm Vπ)(ro‖RC) (6.38) The control voltage Vπ can be expressed in terms of the input signal voltage Vs using a voltage divider equation. Taking into account the polarity, we find = − VsrV π π (6.39) RB + rπ Combining Equations (6.38) and (6.39), we obtain the small-signal voltage gain: = Vo = −gmr A π −β v + (ro‖RC) = + (ro‖RC) (6.40) Vs RB rπ RB rπ The expression for the small-signal voltage gain of the circuit containing a pnp transistor is exactly the same as that for the npn transistor circuit. Taking into account there- versed current directions and voltage polarities, the voltage gain still contains a negative sign indicating a 180-degree phase shift between the input and output signals. V + = 5 V Ri EXAMPLE 6.3 RB = 50 kΩ Objective: Analyze a pnp amplifier circuit. Ro Consider the circuit shown in Figure 6.18. Assume transistor parameters of vO v + β = 80, VE B(on) = 0.7 V, and VA = ∞. s – + RC = 3 kΩ Solution (dc analysis): The Q-point values are found to be IC Q = 1.04 mA and VBB = VEC Q = 1.88 V. The transistor is biased in the forward-active mode. 3.65 V – Solution (ac analysis): The small-signal hybrid-π parameters are found to be I g = C Q = 1.04 m = 40 mA/V VT 0.026 Figure 6. 18 pnp common- emitter circuit for = βVT = (80)(0.026) rπ = 2 k Example 6.3 IC Q 1.04 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 389 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 389 and = VA = ∞ ro = ∞ IC Q 1.04 The small-signal equivalent circuit is the same as shown in Figure 6.17. With ro = ∞, the small-signal output voltage is Vo = (gm Vπ)RC and we have( ) Vπ = − rπ · V rs π + RB Noting that β = gmrπ , we find the small-signal voltage gain to be = Vo = −β RC = −(80)(3) Av Vs rπ + RB 2 + 50 or Av = −4.62 The small-signal input resistance seen by the signal source (see Figure 6.17) is Ri = RB + rπ = 50 + 2 = 52 k The small-signal output resistance looking back into the output terminal is Ro = RC‖ro = 3‖∞ = 3 k Comment: We again note the −180° phase shift between the output and input signals. We may also note that the base resistance RB in the denominator substantially reduces the magnitude of the small-signal voltage gain. We can also note that placing the pnp transistor in this configuration allows us to use positive power supplies. EXERCISE PROBLEM Ex 6.3: For the circuit in Figure 6.14(a), let β = 90, VA = 120 V, VCC = 5 V, VE B(on) = 0.7 V, RC = 2.5 k , RB = 50 k , and VB B = 1.145 V. (a) Determine the small-signal hybrid-π parameters rπ , gm , and ro. (b) Find the small-signal voltage gain Av = Vo/Vs . (Ans. (a) gm = 30.8 mA/V, rπ = 2.92 k , ro = 150 k (b) Av = −4.18) Test Your Understanding TYU 6.1 Using the circuit and transistor parameters given in Exercise Ex 6.1, find iB , vB E , and vC E for vs = 0.065 sin ω t V. (Ans. iB = 0.833 + 0.308 sin ω t μA, vB E = 0.7 + 0.00960 sin ω t V, vC E = 1.8 − 0.554 sin ω t V) TYU 6.2 Consider the circuit in Figure 6.18. The circuit parameters are V + = 3.3 V, VB B = 2.455 V, RB = 80 k , and RC = 7 k . The transistor parameters are β = 110, VE B(on) = 0.7 V, and VA = 80 V. (a) Determine IC Q and VEC Q . (b) Find gm , rπ , and ro. (c) Determine the small-signal voltage gain Av = vo/vs . (d) Find the small-signal input and output resistances Ri and Ro, respectively. (Ans. (a) IC Q = 0.2 mA, VEC Q = 1.9 V; (b) gm = 7.692 mA/V, rπ = 14.3 k , ro = 400 k ; (c) Av = −8.02; (d) Ri = 94.3 k , Ro = 6.88 k ) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 390 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 390 Part 1 Semiconductor Devices and Basic Applications *6.2.5 Expanded Hybrid-π Equivalent Circuit1 Figure 6.19 shows an expanded hybrid-π equivalent circuit, which includes two additional resistances, rb and rμ. The parameter rb is the series resistance of the semiconductor material between the external base terminal Band an idealized internal base region B′. Typically, rb is a few tens of ohms and is usually much smaller than rπ ; therefore, rb is normally negligible (a short circuit) at low frequencies. However, at high frequencies, rb may not be negligible, since the input impedance becomes capacitive, as we will see in Chapter 7. rb B' rm BC + Vp rp gmVp ro – E Figure 6.19 Expanded hybrid-π equivalent circuit The parameter rμ is the reverse-biased diffusion resistance of the base–collector junction. This resistance is typically on the order of megohms and can normally be neglected (an open circuit). However, the resistance does provide some feedback between the output and input, meaning that the base current is a slight function of the collector–emitter voltage. In this text, when we use the hybrid-π equivalent circuit model, we will neglect both rb and rμ, unless they are specifically included. *6.2.6 Other Small-Signal Parameters and Equivalent Circuits Other small-signal parameters can be developed to model the bipolar transistor or other transistors described in the following chapters. One common equivalent circuit model for bipolar transistor uses the h- parameters, which relate the small-signal terminal currents and voltages of a two- port network. These parameters are normally given in bipolar transistor data sheets, and are convenient to determine experimentally at low frequency. Figure 6.20(a) shows the small-signal terminal current and voltage phasors for a common-emitter transistor. If we assume the transistor is biased at a Q-point in the forward-active region, the linear relationships between the small-signal terminal currents and voltages can be written as Vbe = hie Ib + hreVce (6.41(a)) Ic = hf e Ib + hoeVce (6.41(b)) These are the defining equations of the common–emitter h-parameters, where the subscripts are: i for input, r for reverse, f for forward, o for output, and e for common emitter. *Sections can be skipped without loss of continuity. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 391 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 391 Ic Ib h I ie c Ib + BC + + + Vce + 1 Vbe Vbe hreVce h – fe Ib V h ce oe – – – E – (a) (b) Figure 6.20 (a) Common-emitter npn transistor and (b) the h-parameter model of the common-emitter bipolar transistor These equations can be used to generate the small-signal h-parameter equivalent circuit, as shown in Figure 6.20(b). Equation (6.41(a)) represents a Kirchhoff voltage law equation at the input, and the resistance hie is in series with a dependent voltage source equal to hreVce . Equation (6.41(b)) represents a Kirchhoff current law equation at the output, and the conductance hoe is in parallel with a dependent current source equal to hf e Ib . Since both the hybrid-π and h-parameters can be used to model the characteristics of the same transistor, these parameters are not independent. We can relate the hybrid-π and h-parameters using the equivalent circuit shown in Figure 6.19. We can show the small-signal input resistance hie is hie = rb + rπ‖r ∼ μ = rπ (6.42) The parameter hf e is the small-signal current gain and is found to be hf e = gmrπ = β (6.43) The small-signal output admittance hoe is given by 1 hoe =∼ (6.44) ro The fourth h-parameter, hre , is called the voltage feedback ratio and can be written as r h = π re + ≈ 0 (6.45) rπ rμ The h-parameters for a pnp transistor are defined in the same way as those for an npn device. Also, the small-signal equivalent circuit for a pnp transistor using h-parameters is identical to that of an npn device, except that the current directions and voltage polarities are reversed. EXAMPLE 6.4 Objective: Determine the h-parameters of a specific transistor. The 2N2222A transistor is a commonly used discrete npn transistor. Data for this transistor are shown in Figure 6.21. Assume the transistor is biased at IC = 1 mA and let T = 300 K. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 392 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 392 Part 1 Semiconductor Devices and Basic Applications Solution: In Figure 6.21, we see that the small-signal current gain hf e is generally in the range 100 < hf e < 170 for IC = 1 mA, and the corresponding value of hie is generally between 2.5 and 5 k . The voltage feedback ratio hre varies between 1.5 × 10−4 and 5 × 10−4, and the output admittance hoe is in the range 8 < hoe < 18 μmhos. Comment: The purpose of this example is to show that the parameters of a given transistor type can vary widely. In particular, the current gain parameter can easily vary by a factor of two. These variations are due to tolerances in the initial semiconductor properties and in the production process variables. Design Pointer: This example clearly shows that there can be a wide variation in transistor parameters. Normally, a circuit is designed using nominal parameter values, but the allowable variations must be taken into account. In Chapter 5, we noted Input impedance Voltage feedback ratio 20 50 10 30 7.0 20 5.0 1 10 3.0 2.0 2 5.0 1 1.0 3.0 0.7 2.0 0.5 2 0.3 1.0 0.1 0.2 0.5 1.0 2.0 5.0 10 20 0.1 0.2 0.5 1.0 2.0 5.0 10 20 IC collector current (mA dc) IC collector current (mA dc) (a) (b) Current gain Output admittance 300 200 200 100 1 2 50 100 70 20 1 50 2 10 30 5.0 0.1 0.2 0.5 1.0 2.0 5.0 10 20 0.1 0.2 0.5 1.0 2.0 5.0 10 20 IC collector current (mA dc) IC collector current (mA dc) (c) (d) Figure 6.21 h-parameter data for the 2N2222A transistor. Curves 1 and 2 represent data from high-gain and low-gain transistors, respectively. hfe Current gain hie Input impedance (kΩ) hoe Output admittance (m mhos) hre Voltage feedback ratio (× 10 –4) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 393 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 393 how a variation in β affects the Q-point. In this chapter, we will see how the variations in small-signal parameters affect the small-signal voltage gain and other characteristics of a linear amplifier. EXERCISE PROBLEM Ex 6.4: Repeat Example 6.4 if the quiescent collector current is (a) IC Q = 0.2 mA and (b) IC Q = 5 mA. [Ans. (a) 7.8 < hie < 15 k , 6.2 × 10−4 < hre < 50 × 10−4, 60 < hf e < 125, 5 < hoe < 13 μmhos; (b) 0.7 < hie < 1.1 k , 1.05 × 10−4 < hre < 1.6 × 10−4 , 140 < hf e < 210, 22 < hoe < 35 μmhos) In the previous discussion, we indicated that the h-parameters hie and 1/hoe are essentially equivalent to the hybrid-π parameters rπ and ro, respectively, and that hf e is essentially equal to β . The transistor circuit response is independent of the transistor model used. This reinforces the concept of a relationship between hybrid- π parameters and h-parameters. In fact, this is true for any set of small-signal parameters; that is, any given set of small-signal parameters is related to any other set of parameters. Data Sheet In the previous example, we showed some data for the 2N2222 discrete transistor. Figure 6.22 shows additional data from the data sheet for this transistor. Data sheets contain a lot of information, but we can begin to discuss some of the data at this time. The first set of parameters pertains to the transistor in cutoff. The first two parameters listed are V(BR)CE O and V(BR)C BO , which are the collector–emitter breakdown voltage with the base terminal open and the collector–base breakdown voltage with the emitter open. These parameters were discussed in Section 5.1.6 in the last chapter. In that section, we argued that V(BR)C BO was larger than V(BR)CE O , which is supported by the data shown. These two voltages are measured at a specific current in the breakdown region. The third parameter, V(BR)E BO , is the emitter–base breakdown voltage, which is substantially less than the collector–base or collector–emitter breakdown voltages. The current IC BO is the reverse-biased collector–base junction current with the emitter open (IE = 0). This parameter was also discussed in Section 5.1.6. In the data sheet, this current is measured at two values of collector–base voltage and at two temperatures. The reverse-biased current increases with increasing temperature, as we would expect. The current IE BO is the reverse-biased emitter–base junction current with the collector open (IC = 0). This current is also measured at a specific reverse-bias voltage. The other two current parameters, ICE X and IBL , are the collector current and base current measured at given specific cutoff voltages. The next set of parameters applies to the transistor when it is turned on. As was shown in Example 6.4, the data sheets give the h-parameters of the transistor. The first parameter, hF E , is the dc common-emitter current gain and is measured over a wide range of collector current. We discussed, in Section 5.4.2, stabilizing the Q-point against variations in current gain. The data presented in the data sheet show that the current gain for a given transistor can vary significantly, so that stabilizing the Q-point is indeed an important issue. We have used VC E (sat) as one of the piecewise linear parameters when a transistor is driven into saturation and have always assumed a particular value in our nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 394 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 394 Part 1 Semiconductor Devices and Basic Applications National Semiconductor 2N2222 PN2222 MMBT2222 MPQ2222 2N2222A PN2222A MMBT2222AC B 14 CE BE 1 CB E TO–18 TO–92 TO–236 TO–116 E B (SOT–23) C NPN General Purpose Amplifier Electrical Characteristics TA = 25 °C unless otherwise noted Symbol Parameter Min Max Units OFF CHARACTERISTICS V(BR )CEO Collector-Emitter Breakdown Voltage (Note 1) (IC = 10 mA, IB = 0) 2222 30 2222A 40 V V(BR )CBO Collector-Base Breakdown Voltage (IC = 10 mA, IE = 0) 2222 60 V 2222A 75 V(BR )EBO Emitter Base Breakdown Voltage (IE = 10 mA, IC = 0) 2222 5.0 2222AV 6.0 ICEX Collector Cutoff Current (VCE = 60 V, VEB (off) = 3.0 V) 2222A 10 nA ICBO Collector Cutoff Current (VCB = 50 V, IE = 0) 2222 0.01 (VCB = 60 V, IE = 0) 2222A 0.01 (VCB = 50 V, I mA E = 0, TA = 150 °C) 2222 10 (VCB = 60 V, IE = 0, TA = 150 °C) 2222A 10 IEBO Emitter Cutoff Current (VEB = 3.0 V, IC = 0) 2222A 10 nA I Base Cutoff Current BL (VCE = 60 V, VEB (off ) = 3.0) 2222A 20 nA ON CHARACTERISTICS hFE DC Current Gain (IC = 0.1 mA, VCE = 10 V) 35 (IC = 1.0 mA, VCE = 10 V) 50 (IC = 10 mA, VCE = 10 V) 75 (IC = 10 mA, VCE = 10 V, T = –55 °C) 35 A (IC 100 300 = 150 mA, VCE = 10 V) (Note 1) 50 (IC = 150 mA, VCE = 1.0 V) (Note 1) 2222 30 (IC = 500 mA, VCE = 10 V) (Note 1) 2222A 40 Note 1: Pulse Test: Pulse Width ≤ 300 ms, Duty Cycle ≤ 2.0%. Figure 6.22 Basic data sheet for the 2N2222 bipolar transistor 2N2222/PN2222/MMBT2222/MPQ2222/2N2222A/PN2222A/MMBT2222A NPN General Purpose Amplifier nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 395 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 395 NPN General Purpose Amplifier (Continued) Electrical Characteristics TA = 25 °C unless otherwise noted (Continued) Symbol Parameter Min Max Units ON CHARACTERISTICS (Continued) VCE (sat) Collector-Emitter Saturation Voltage (Note 1) (IC = 150 mA, IB = 15 mA) 2222 0.4 (IC = 500 mA, IB = 50 mA) 2222A 0.3 2222 1.6 V 2222A 1.0 VBE (sat) Base-Emitter Saturation Voltage (Note 1) (IC = 150 mA, IB = 15 mA) 2222 0.6 1.3 (IC = 500 mA, IB = 50 mA) 2222A 0.6 1.2 2222 2.6 V 2222A 2.0 SMALL-SIGNAL CHARACTERISTICS fT Current Gain—Bandwidth Product (Note 3) (IC = 20 mA, VCE = 20 V, f = 100 MHz) 2222 250 2222A 300 MHz Cobo Output Capacitance (Note 3) (VCB = 10 V, IE = 0, f = 100 kHz) 8.0 pF Cibo Input Capacitance (Note 3) (VEB = 0.5 V, IC = 0, f = 100 kHz) 2222 30 2222A 25 pF rb'CC Collector Base Time Constant (IE = 20 mA, VCB = 20 V, f = 31.8 MHz) 2222A 150 ps NF Noise Figure (IC = 100 mA, VCE = 10 V, RS = 1.0 kΩ, f = 1.0 kHz) 2222A 4.0 dB Re(hie) Real Part of Common-Emitter High Frequency Input Impedance (IC = 20 mA, VCE = 20 V, f = 300 MHz) 60 Ω SWITCHING CHARACTERISTICS tD Delay Time (VCC = 30 V, VBE(off) = 0.5 V, except 10 ns I = 150 mA, I = 15 mA) MPQ2222 tR Rise Time CB1 25 ns tS Storage Time (VCC = 30 V, IC = 150 mA, except 225 ns tF Fall Time IB1 = IB2 = 15 mA) MPQ2222 60 ns Note 1: Pulse Test: Pulse Width < 300 ms, Duty Cycle ≤ 2.0%. Note 2: For characteristics curves, see Process 19. Note 3: fT is defined as the frequency at which hfe extrapolates to unity. Figure 6.22 (continued) analysis or design. This parameter, listed in the data sheet, is not a constant but varies with collector current. If the collector current becomes relatively large, then the collector–emitter saturation voltage also becomes relatively large. The larger VC E (sat) value would need to be taken into account in large-current situations. The base–emitter voltage for a transistor driven into saturation, VB E (sat), is also given. 2222/PN2222/MMBT2222/MPQ2222/2N2222A/PN2222A/MMBT2222A NPN General Purpose Amplifier nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 396 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 396 Part 1 Semiconductor Devices and Basic Applications C Up to this point in the text, we have not been concerned with this parameter; however, the data sheet shows that the base–emitter voltage can increase significantly ic when a transistor is driven into saturation at high current levels. gmvbe a i The other parameters listed in the data sheet become more applicable later in the = e text when the frequency response of transistors is discussed. The intent of this short discussion is to show that we can begin to read through data sheets even though there Bare a lot of data presented. ib + V vbe r Te = I The T-model: The hybrid-pi model can be used to analyze the time-varying char- E – acteristics of all transistor circuits. We have briefly discussed the h-parameter model ie of the transistor. The h-parameters of this model are often given in data sheets for E discrete transistors. Another small-signal model of the transistor, the T-model, is Figure 6.23 The T-model of shown in Figure 6.23. This model might be convenient to use in specific applications. an npn bipolar transistor However, to avoid introducing too much confusion, we will concentrate on using the hybrid-π model in this text and leave the T-model to more advanced electronics courses. 6.3 BASIC TRANSISTOR AMPLIFIER CONFIGURATIONS Objective: • Discuss the three basic transistor amplifier configurations and discuss the four equivalent two-port networks. As we have seen, the bipolar transistor is a three-terminal device. Three basic single- transistor amplifier configurations can be formed, depending on which of the three transistor terminals is used as signal ground. These three basic configurations are appropriately called common emitter, common collector (emitter follower), and common base. Which configuration or amplifier is used in a particular application depends to some extent on whether the input signal is a voltage or current and whether the desired output signal is a voltage or current. The characteristics of the three types of amplifiers will be determined to show the conditions under which each amplifier is most useful. The input signal source can be modeled as either a Thevenin or Norton equivalent circuit. Figure 6.24(a) shows the Thevenin equivalent source that would represent a voltage signal, such as the output of a microphone. The voltage source vs RS v + s i Rs S (a) (b) Figure 6.24. Input signal source modeled as (a) Thevenin equivalent circuit and (b) Norton equivalent circuit"
6.3 Basic Transistor Amplifier Configurations,"6.3 BASIC TRANSISTOR AMPLIFIER CONFIGURATIONS Objective: • Discuss the three basic transistor amplifier configurations and discuss the four equivalent two-port networks. As we have seen, the bipolar transistor is a three-terminal device. Three basic single- transistor amplifier configurations can be formed, depending on which of the three transistor terminals is used as signal ground. These three basic configurations are appropriately called common emitter, common collector (emitter follower), and common base. Which configuration or amplifier is used in a particular application depends to some extent on whether the input signal is a voltage or current and whether the desired output signal is a voltage or current. The characteristics of the three types of amplifiers will be determined to show the conditions under which each amplifier is most useful. The input signal source can be modeled as either a Thevenin or Norton equivalent circuit. Figure 6.24(a) shows the Thevenin equivalent source that would represent a voltage signal, such as the output of a microphone. The voltage source vs RS v + s i Rs S (a) (b) Figure 6.24. Input signal source modeled as (a) Thevenin equivalent circuit and (b) Norton equivalent circuit nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 397 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 397 represents the voltage generated by the microphone. The resistance RS is called the output resistance of the source and takes into account the change in output voltage as the source supplies current. Figure 6.24(b) shows the Norton equivalent source that would represent a current signal, such as the output of a photodiode. The current source is represents the current generated by the photodiode and the resistance RS is the output resistance of this signal source. Each of the three basic transistor amplifiers can be modeled as a two-port network in one of four configurations as shown in Table 6.3. We will determine the gain parameters, such as Avo, Aio, Gmo, and Rmo, for each of the three transistor amplifiers. These parameters are important since they determine the amplification of the amplifier. However, we will see that the input and output resistances, Ri and Ro, are also important in the design of these amplifiers. Although one configuration shown in Table 6.3 maybe preferable for a given application, anyone of the four can be used to model a given amplifier. Since each configuration must produce the same terminal characteristics for a given amplifier, the various gain parameters are not independent, but are related to each other. Table 6.3 Four equivalent two-port networks Type Equivalent circuit Gain property Voltage amplifier Rio Output voltage proportional too input voltage + + + vin Ri Avovin vo – – – Current amplifier iin io Output current proportional to input current + Ri Aisiin Ro vo – Transconductance amplifier io Output current proportional to input voltage + + vin Ri Gmsvin Ro vo – – Transresistance amplifier iin Rio Output voltage proportional too input current + R + i R – moiin vo – nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 398 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 398 Part 1 Semiconductor Devices and Basic Applications RS Ro + + + v + s v – in Ri A – vovin vo RL – – Equivalent Equivalent Equivalent circuit of amplifier load circuit microphone circuit Figure 6.25 Equivalent preamplifier circuit If we wish to design a voltage amplifier (preamp) so that the output voltage of a microphone, for example, is amplified, the total equivalent circuit maybe that shown in Figure 6.25. The input voltage to the amplifier is given by = Ri vin Ri + · vs (6.46) RS In general, we would like the input voltage vin to the amplifier to be as nearly equal to the source voltage vs as possible. This means, from Equation (6.46), that we need to design the amplifier such that the input resistance Ri is much larger than the signal source output resistance RS . (The output resistance of an ideal voltage source is zero, but is not zero for most practical voltage sources.) To provide a particular voltage gain, the amplifier must have again parameter Avo of a certain value. The output voltage supplied to the load (where the load maybe a second power amplifier stage) is given by = RL vo + · Avovin (6.47) RL Ro Normally, we would like the output voltage to the load to be equal to the Thevenin equivalent voltage generated by the amplifier. This means that we need Ro  RL for the voltage amplifier. So again, for a voltage amplifier, the output resistance should be very small. The input and output resistances are significant in the design of an amplifier. For a current amplifier, we would like to have Ri  RS and Ro RL . We will see as we proceed through the chapter that each of the three basic transistor amplifier configurations exhibits characteristics that are desirable for particular applications. We should note that, in this chapter, we will be primarily using the two-port equivalent circuits shown in Table 6.3 to model single-transistor amplifiers. However, these equivalent circuits are also used to model multitransistor circuits. This will become apparent as we get into Part 2 of the text. 6.4 COMMON-EMITTER AMPLIFIERS Objective: • Analyze the common-emitter amplifier and become familiar with the general characteristics of this circuit. In this section, we consider the first of the three basic amplifiers—the common- emitter circuit. We will apply the equivalent circuit of the bipolar transistor that was previously developed. In general, we will use the hybrid-π model throughout the text."
6.4 Common-Emitter Amplifiers,"6.4 COMMON-EMITTER AMPLIFIERS Objective: • Analyze the common-emitter amplifier and become familiar with the general characteristics of this circuit. In this section, we consider the first of the three basic amplifiers—the common- emitter circuit. We will apply the equivalent circuit of the bipolar transistor that was previously developed. In general, we will use the hybrid-π model throughout the text. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 399 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 399 6.4.1 Basic Common-Emitter Amplifier Circuit Figure 6.26 shows the basic common-emitter circuit with voltage-divider biasing. We see that the emitter is at ground potential—hence the name common emitter. The signal from the signal source is coupled into the base of the transistor through the coupling capacitor CC , which provides dc isolation between the amplifier and the signal source. The dc transistor biasing is established by R1 and R2, and is not disturbed when the signal source is capacitively coupled to the amplifier. VCC RR C 1 R v SO CC v + s – R2 Figure 6.26 A common-emitter circuit with a voltage-divider biasing circuit and a coupling capacitor If the signal source is a sinusoidal voltage at frequency f, then the magnitude of the capacitor impedance is |Zc| = [1/(2π f CC)]. For example, assume that CC = 10 μF and f = 2 kHz. The magnitude of the capacitor impedance is then | 1 1 Zc| = = ∼ 2π f C 2π(2 × 103)(10 × 10− = 8 6 (6.48) C ) The magnitude of this impedance is in general much less than the Thevenin resistance at the capacitor terminals, which in this case is R1‖R2‖rπ . We can therefore assume that the capacitor is essentially a short circuit to signals with frequencies greater than 2 kHz. We are also neglecting any capacitance effects within the transistor. Using these results, our analyses in this chapter assume that the signal frequency is sufficiently high that any coupling capacitance acts as a perfect short circuit, and is also sufficiently low that the transistor capacitances can be neglected. Such frequencies are in the midfrequency range, or simply at the midband of the amplifier. The small-signal equivalent circuit in which the coupling capacitor is assumed to be a short circuit is shown in Figure 6.27. The small-signal variables, such as the RR i o B Ib C Vo RS + V + s – R1 ⎜⎜R2 Vp rp gmVp ro RC – E Signal source Amplifier Figure 6.27 The small-signal equivalent circuit, assuming the coupling capacitor is a short circuit nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 400 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 400 Part 1 Semiconductor Devices and Basic Applications input signal voltage and input base current, are given in phasor form. The control voltage Vπ is also given as a phasor. The output voltage is Vo = −gm Vπ (ro ‖RC ) (6.49) and the control voltage Vπ is found to be = RV 1‖R2‖rπ π ‖ ‖ · V (6.50) R1 R2 r + Rs π S Combining Equations (6.49) a(nd (6.50), we see t)hat the small-signal voltage gain is VA o v = = − R1‖R2‖r g π V m(ro‖RC) ‖ ‖ (6.51) s R1 R2 rπ + RS The circuit in Figure 6.26 is not very practical. The voltage across R2 provides the base–emitter voltage to bias the transistor in the forward-active region. However, a slight variation in the resistor value or a slight variation in the transistor characteristics may cause the transistor to be biased in cutoff or saturation. The next section discusses an improved circuit configuration. 6.4.2 Circuit with Emitter Resistor In the last chapter, we found that the Q-point was stabilized against variations in β if an emitter resistor were included in the circuit, as shown in Figure 6.28. We will find a similar property for the ac signals, in that the voltage gain of a circuit with RE will be less dependent on the transistor current gain β. Even though the emitter of this circuit is not at ground potential, this circuit is still referred to as a common-emitter circuit. Assuming that CC acts as a short circuit, Figure 6.29 shows the small-signal hybrid-π equivalent circuit. As we have mentioned previously, to develop the small-signal equivalent circuit, start with the three terminals of the transistor. Sketch the hybrid-π equivalent circuit between the three terminals and then sketch VCC = 10 V Ri Rib Ro RS = 0.5 kΩ R1 = RC = 2 kΩ Vo 56 kΩ + I + RS = 0.5 kΩ vb O rp Vp b Ib – CV + s Vin R1 ⎜⎜R – 2 RC = 2 kΩ C + R2 = = 10.0 kΩ vs – 12.2 kΩ RE = 0.4 kΩ RE = 0.4 kΩ – Figure 6.28 An npn common-emitter circuit with Figure 6.29 The small-signal equivalent circuit of the circuit an emitter resistor, a voltage-divider biasing shown in Figure 6.28 circuit, and a coupling capacitor nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 401 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 401 in the remaining circuit elements around these three terminals. In this case, we are using the equivalent circuit with the current gain parameter β , and we are assuming that the Early voltage is infinite so the transistor output resistance ro can be neglected (an open circuit). The ac output voltage is Vo = −(β Ib)RC (6.52) To find the small-signal voltage gain, it is worthwhile finding the input resistance first. The resistance Rib is the input resistance looking into the base of the transistor. We can write the following loop equation Vin = Ibrπ + (Ib + β Ib)RE (6.53) The input resistance Rib is then defined as, and found to be, V R = in ib = rπ + (1 + β)RE (6.54) Ib In the common-emitter configuration that includes an emitter resistance, the small-signal input resistance looking into the base of the transistor is rπ plus the emitter resistance multiplied by the factor (1 + β). This effect is called the resistance reflection rule. We will use this result throughout the text without further derivation. The input resistance to the amplifier is now Ri = R1‖R2‖Rib (6.55) We can aga(in relate V)into Vs through a voltage-divider equation as V = Ri in + · Vs (6.56) Ri RS Combining Equations (6.52), (6.54), and (6.56), we find the small-signal voltage gain is ( ) ( ) = Vo = −(β Ib)RA C = − V R in v β C · 1 (6.57) Vs Vs Rib Vs or − ( ) β RR A = Ci v rπ + (1 + β)RE Ri + (6.58) RS From this equation, we see that if Ri RS and if (1 + β)RE rπ , then the small- signal voltage gain is approximately ∼= −β RC ∼= −RA C v + (6.59) (1 β)RE RE Equations (6.58) and (6.59) show that the voltage gain for this circuit is less dependent on the current gain β than in the previous circuit (Equation (6.51), which means that there is a smaller change in voltage gain when the transistor current gain changes. The circuit designer now has more control in the design of the voltage gain, but this advantage is at the expense of a smaller gain. In Chapter 5, we discussed the variation in the Q-point with variations or tolerances in resistor values. Since the voltage gain is a function of resistor values, it is also a function of the tolerances in those values. This must be considered in a circuit design. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 402 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 402 Part 1 Semiconductor Devices and Basic Applications EXAMPLE 6.5 Objective: Determine the small-signal voltage gain and input resistance of a common-emitter circuit with an emitter resistor. For the circuit in Figure 6.28, the transistor parameters are: β = 100, VB E (on) = 0.7 V, and VA = ∞. DC Solution: From a dc analysis of the circuit, we can determine that IC Q = 2.16 mA and VC E Q = 4.81 V, which shows that the transistor is biased in the forward-active mode. AC Solution: The small-signal hybrid-π parameters are determined to be = VT β = (0.026)(100) rπ = 1.20 k IC Q (2.16) I g C Q 2.16 m = = = 83.1 mA/V VT 0.026 and V ro = A = ∞ IC Q The input resistance to the base can be determined as Rib = rπ + (1 + β)RE = 1.20 + (101)(0.4) = 41.6 k and the input resistance to the amplifier is now found to be Ri = R1‖R2‖Rib = 10‖41.6 = 8.06 k Using the exact expression for( the voltage g)ain, we find Av = −(100)(2) 8.06 = −4.53 1.20 + (101)(0.4) 8.06 + 0.5 If we use the approximation given by Equation (6.59), we obtain = −R −2 AC v = = −5.0 RE 0.4 Comment: The magnitude of the small-signal voltage gain is substantially reduced when an emitter resistor is included because of the (1 + β) RE term in the denominator. Also, Equation (6.59) gives a good first approximation for the gain, which means that it can be used in the initial design of a common-emitter circuit with an emitter resistor. Discussion: The amplifier gain is nearly independent of changes in the current gain parameter β . This fact is shown in the following calculations: β Av 50 −4.41 100 −4.53 150 −4.57 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 403 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 403 RS Ro + + V + V R + sin i A – vVin Vo – – Figure 6.30 Two-port equivalent circuit for the amplifier in Example 6.5 The two-port equivalent circuit along with the input signal source for the common- emitter amplifier analyzed in this example is shown in Figure 6.30. We can determine the effect of the source resistance RS in conjunction with the amplifier input resistance Ri . Using a voltage-divider equation, we find the input voltage to the amplifier is( ) = RV i in + · Vs = (0.942) · V RR s i S The actual input voltage to the amplifier Vin is reduced compared to the input signal. This is called a loading effect. In this case, the input voltage is approximately 94 percent of the signal voltage. EXERCISE PROBLEM Ex 6.5: For the circuit in Figure 6.31, let RE = 0.6 k , RC = 5.6 k , β = 120, VB E(on) = 0.7 V, R1 = 250 k , and R2 = 75 k . (a) For VA = ∞, determine the small-signal voltage gain Av . (b) Determine the input resistance looking into the base of the transistor. (Ans. (a) Av = −8.27, (b) Rib = 80.1 k ) VCC = 5 V RR C 1 R = 0.5 kΩ CR C ib v SO v + s R – 2 RE Figure 6.31 Figure for Exercise Ex6.5 COMPUTER ANALYSIS EXERCISE PS 6.1: (a) Verify the results of Example 6.5 with a PSpice analysis. Use a standard 2N2222 transistor, for example. (b) Repeat part (a) for RE = 0.3 k . nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 404 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 404 Part 1 Semiconductor Devices and Basic Applications EXAMPLE 6.6 Objective: Analyze a pnp transistor circuit. Consider the circuit shown in Figure 6.32(a). Determine the quiescent parameter values and then the small-signal voltage gain. The transistor parameters are VE B(on) = 0.7 V, β = 80, and VA = ∞. Solution (dc analysis): The dc equivalent circuit with the Thevenin equivalent circuit of the base biasing is shown in Figure 6.32(b). We find RT H = R1‖R2 = 40‖60 = 24 k V+ = 2.5 V 2.5 V RE = IRE = EQ R = 2 kΩ 2 kΩ 1 40 kΩ CC R + TH VECQ + I – BQ v + vs o – V R TH 2 = – 60 kΩ RC = IRC = CQ 4 kΩ 4 kΩ V – = –2.5 V –2.5 V Figure 6.32 (a) pnp transistor circuit for Example 6.6 and (b) Thevenin equivalent circuit for Example 6.6 and ( ) VT H = R2 + (5) − 2.5 = 0.5 V R1 R2 The transistor quiescent values are found to be IC Q = 0.559 mA and VEC Q = 1.63 V. Solution (ac analysis): The small-signal hybrid-π parameters areas follows: = βVT = (80)(0.026) rπ = 3.72 k IC Q 0.559 IC Q 0.559 gm = = = 21.5 mA/V VT 0.026 and ro = VA = ∞ IQ The small-signal equivalent circuit is shown in Figure 6.33. As noted before, we start with the three terminals of the transistor, sketch the hybrid-π equivalent circuit between these three terminals, and then put in the other circuit elements around the transistor. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 405 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 405 BC Vo – Vp rp gmVp + E V + s R ⎜⎜RR – 1 2 C RE Figure 6.33 Small-signal equivalent circuit for circuit shown in Figure 6.32(a) used in Example 6.6 The output voltage is Vo = gm Vπ RC Writing a KVL eq(uation from th)e input around the BE loop, we find Vs = − V Vπ − π + gr m Vπ RE π The term in the parenthesis is the total current through the RE resistor. Solving for Vπ and recalling that gmrπ = β , we obtain = ( −V Vs π + 1 + ) β 1 R r E π Substituting into the expression for the output voltage, we find the small-signal voltage gain as Av = Vo = −β RC Vs rπ + (1 + β)RE Then = −(80)(4) Av = −1.93 3.72 + (81)(2) The negative sign indicates that the output voltage is 180 degrees out of phase with respect to the input voltage. This same result was found in common-emitter circuits using npn transistors. Using the approximation given by Equation (6.59), we have A ∼ v = − RC = −4 = −2 RE 2 This approximation is very close to the actual value of gain calculated. Comment: In the previous chapter, we found that including an emitter resistor provided stability in the Q-point. However, we may note that in the small-signal analysis, the RE resistor reduces the small-signal voltage gain substantially. There are almost always tradeoffs to be made in electronic design. nea80644_ch06_369-468.qxd 06/13/2009 08:23 PM Page 406 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 406 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 6.6: The circuit shown in Figure 6.34 has parameters RE = 0.3 k, RC = 4 k, R1 = 14.4 k, R2 = 110 k and RL = 10 k. The transistor parameters are β = 100, VE B(on) = 0.7 V, and VA = ∞. (a) Determine the quiescent values IC Q and VEC Q . (b) Find the small-signal parameters gm , rπ , and ro. (c) Determine the small-signal voltage gain. (Ans. (a) IC Q = 1.6 mA, VEC Q = 5.11 V; (b) gm = 61.54 mA/V, rπ = 1.625 k, ro = ∞; (c) Av = −8.95). VCC = 12 V RR E 1 CC1 CC2 vO v + s R – 2 RC RL Figure 6.34 Figure for Exercise Ex 6.6 Test Your Understanding TYU 6.3 The parameters of the circuit shown in Figure 6.28 are VCC = 5 V, RC = 4 k, RE = 0.25 k, RS = 0.25 k, R1 = 100 k, and R2 = 25 k. The transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = ∞. Determine the small-signal voltage gain. (Ans. Av = −13.6) TYU 6.4 For the circuit shown in Figure 6.31, let β = 100, VB E(on) = 0.7 V, and VA = ∞. Design a bias-stable circuit such that IC Q = 0.5 mA, VC E Q = 2.5 V, and Av = −8. (Ans. To a good approximation: RC = 4.54 k, RE = 0.454 k, R1 = 24.1 k, and R2 = 5.67 k) TYU 6.5 Design the circuit in Figure 6.35 such that it is bias stable and the small- signal voltage gain is Av = −8. Let IC Q = 0.6 mA, VEC Q = 3.75 V, β = 100, VCC = 7.5 V RR E 1 C RS = 0.25 kΩ C vO v + s R – 2 RC Figure 6.35 Figure for Exercise TYU 6.5 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 407 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 407 VE B(on) = 0.7 V, and VA = ∞. (Ans. To a good approximation: RC = 5.62 k , RE = 0.625 k , R1 = 7.41 k , and R2 = 42.5 k ) TYU 6.6 For the circuit in Figure 6.28, the small-signal voltage gain is given approximately by −RC/RE . For the case of RC = 2 k , RE = 0.4 k , and RS = 0, what must be the value of β such that the approximate value is within 5 percent of the actual value? (Ans. β = 76) COMPUTER ANALYSIS EXERCISE PS 6.2: Verify the results of Example 6.6 with a PSpice analysis. Use a standard transistor. 6.4.3 Circuit with Emitter Bypass Capacitor There maybe times when the emitter resistor must be large for the purposes of dc design, but degrades the small-signal voltage gain too severely. We can use an emitter bypass capacitor to effectively short out a portion or all of the emitter resistance as seen by the ac signals. Consider the circuit shown in Figure 6.36 biased with both positive and negative voltages. Both emitter resistors RE1 and RE2 are factors in the dc design of the circuit, but only RE1 is part of the ac equivalent circuit, since CE provides a short circuit to ground for the ac signals. To summarize, the ac gain stability is due only to RE1 and most of the dc stability is due to RE2. V+ = +5 V RC R = 0.5 kΩ CC vO S + RB = vs – 100 kΩ RE1 RE2 CE V – = –5 V Figure 6.36 A bipolar circuit with an emitter resistor and an emitter bypass capacitor DESIGN EXAMPLE 6.7 Objective: Design a bipolar amplifier to meet a set of specifications. Specifications: The circuit configuration to be designed is shown in Figure 6.36 and is to amplify a 12 mV sinusoidal signal from a microphone to a 0.4 V sinusoidal nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 408 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 408 Part 1 Semiconductor Devices and Basic Applications output signal. We will assume that the output resistance of the microphone is 0.5 k as shown. Choices: The transistor used in the design has nominal values of β = 100 and VB E(on) = 0.7 V, but the current gain for this type of transistor is assumed to be in the range 75 ≤ β ≤ 125 because of tolerance effects. We will assume that VA = ∞. Standard resistor values are to be used in the final design, but we will assume, in this example, that the actual resistor values are available (no tolerance effects). Solution (Initial Design Approach): The magnitude of the voltage gain of the amplifier needs to be | | = 0.4 V Av = 33.3 12 mV From Equation (6.59), the approximate voltage gain of the amplifier is |A | =∼ RC v RE1 Noting from the last example that this value of gain produces an optimistically high value, we can set RC/RE1 = 40 or RC = 40 RE1. The dc base-emitter loop equation is 5 = IB RB + VB E(on) + IE(RE1 + RE2) Assuming β = 100 and VB E(on) = 0.7 V, we can design the circuit to produce a quiescent emitter current of, for example, 0.20 mA. We then have = (0.20) 5 (100) + 0.70 + (0.20)(R + R ) (101 E1 E2 ) which yields RE1 + RE2 = 20.5 k Assuming IE =∼ IC and designing the circuit such that VC E Q = 4 V, the collector– emitter loop equation produces 5 + 5 = IC RC + VC E Q + IE(RE1 + RE2) = (0.2)RC + 4 + (0.2)(20.5) or RC = 9.5 k Then = RC = 9.5 RE1 = 0.238 k 40 40 and RE2 = 20.3 k . Tradeoffs: From Appendix C, we will pick standard resistor values of RE1 = 240 , RE2 = 20 k , and RC = 10 k . We will assume that these resistor values are available and will investigate the effects of the variation in transistor current gain β . The various parameters of the circuit for three values of β are shown in the following table. The output voltage Vo is the result of a 12 mV input signal. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 409 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 409 β ICQ (mA) rπ (k) |Av| Vo (V) 75 0.197 9.90 26.1 0.313 100 0.201 12.9 26.4 0.317 125 0.203 16.0 26.6 0.319 One important point to note is that, the output voltage is less than the design objective of 0.4 V for a 12 mV input signal. This effect will be discussed further in the next section involving the computer simulation. A second point to note is that the quiescent collector current, small-signal voltage gain, and output voltage are relatively insensitive to the current gain β . This stability is a direct result of including the emitter resistor RE1. Computer Simulation: Since we used approximation techniques in our design, we can use PSpice to give us a more accurate valuation of the circuit for the standard resistor values that were chosen. Figure 6.37 shows the PSpice circuit schematic diagram. V+ 10 kΩ + 5 V RC – 0 vout QC 1 1 2N3904 v3 100 mF + 12 mV RB 100 kΩ RE1 240 Ω 0 0 RE2 20 kΩ C5 100 mF + V – – 5 V – 0 0 Figure 6.37 PSpice circuit schematic diagram for Example 6.7 Using the standard resistor values and the 2N3904 transistor, the output signal voltage produced by a 12 mV input signal is 323 mV. A frequency of 2 kHz and capacitor values of 100 μF were used in the simulation. The magnitude of the output signal is slightly less than the desired value of 400 mV. The principal reason for the difference is that the rπ parameter of the transistor was neglected in the design. For a collector current of approximately IC = 0.2 mA, rπ can be significant. In order to increase the small-signal voltage gain, a smaller value of RE1 is necessary. For RE1 = 160 , the output signal voltage is 410 mV, which is very close to the desired value. Design Pointer: Approximation techniques are extremely useful in an initial electronic circuit design. A computer simulation, such as PSpice, can then be used to verify the design. Slight changes in the design can then be made to meet the required specifications. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 410 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 410 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 6.7: The circuit in Figure 6.38 has parameters V + = 5 V, V − = −5 V, RE = 4 k , RC = 4 k , RB = 100 k , and RS = 0.5 k . The transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = 80 V. (a) Determine the input resistance seen by the signal source. (b) Find the small-signal voltage gain. (Ans. (a) Ri = 3.91 k , (b) Av = −114) V + RC R CC vO S v + s – RB RE CE V – Figure 6.38 Figure for Exercise Ex 6.7 Test Your Understanding TYU 6.7 For the circuit in Figure 6.39, let β = 125, VB E(on) = 0.7 V, and VA = 200 V. (a) Determine the small-signal voltage gain Av . (b) Determine the output resistance Ro. (Ans. (a) Av = −50.5 (b) Ro = 2.28 k ) +5 V RC = 2.3 kΩ R1 = 20 kΩ Ro vo CC1 CC2 RL = 5 kΩ v + s – R2 = 20 kΩ RE = C 5 kΩ E –5 V Figure 6.39 Figure for Exercise TYU 6.7 COMPUTER ANALYSIS EXERCISE PS 6.3: (a) Using a PSpice simulation, determine the voltage gain of the circuit shown in Figure 6.39. (b) Repeat Part (a) if RL = 50 k . What can be said about loading effects? nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 411 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 411 6.4.4 Advanced Common-Emitter Amplifier Concepts Our previous analysis of common-emitter circuits assumed constant load or collector resistances. The common-emitter circuit shown in Figure 6.40(a) is biased with a constant-current source and contains a nonlinear, rather than a constant, collector resistor. Assume the current–voltage characteristics of the nonlinear resistor are described by the curve in Figure 6.40(b). The curve in Figure 6.40(b) can be generated using the pnp transistor as shown in Figure 6.40(c). The transistor is biased at a constant VE B voltage. This transistor is now the load device and, since transistors are active devices, this load is referred to as an active load. We will encounter active loads in much more detail in Part 2 of the text. Neglecting the base current in Figure 6.40(a), we can assume the quiescent current and voltage values of the load device are IQ = IC Q and VRQ as shown in Figure 6.40(b). At the Q-point of the load device, assume the incremental resistance vR/iC is rc. V+ iC + RC vR – i C v CC O Qo ICQ Slope = 1 rc v + s RB IQ CE V – VRQ vR (a) (b) V + + VEB + – vEC = vR – rc iC C v CO Qo v + s RB IQ CE V – (c) Figure 6.40 (a) A common-emitter circuit with current source biasing and a nonlinear load resistor, (b) current–voltage characteristics of the nonlinear load resistor, and (c) pnp transistor that can be used to generate the nonlinear load characteristics nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 412 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 412 Part 1 Semiconductor Devices and Basic Applications The small-signal equivalent circuit of the common-emitter amplifier circuit in Figure 6.40(a) is shown in Figure 6.41. The collector resistor RC is replaced by the small-signal equivalent resistance rc that exists at the Q-point. The small-signal voltage gain is then, assuming an ideal voltage signal source, Av = Vo = −gm(ro‖rc) (6.60) Vs Vo + V + s RB Vp rp gmVp ro rc – Figure 6.41 Small-signal equivalent circuit of the circuit in Figure 6.40(a) EXAMPLE 6.8 Objective: Determine the small-signal voltage gain of a common-emitter circuit with a nonlinear load resistance. Assume the circuit shown in Figure 6.40(a) is biased at IQ = 0.5 mA, and the transistor parameters are β = 120 and VA = 80 V. Also assume that nonlinear small- signal collector resistance is rc = 120 k . Solution: For a transistor current gain of β = 120, IC Q ∼= IE Q = IQ , and the small- signal hybrid-π parameters are = I g C Q = 0.5 m = 19.2 mA/V VT 0.026 and V r A 80 o = = = 160 k IC Q 0.5 The small-signal voltage gain is therefore Av = −gm(ro‖rc) = −(19.2)(160‖120) = −1317 Comment: As we will see further in Part 2 of this text, the nonlinear resistor rc is produced by the IV characteristics of another bipolar transistor. Because the resulting effective load resistance is large, a very large small-signal voltage gain is produced. A large effective load resistance rc means that the output resistance roof the amplifying transistor cannot be neglected; therefore, the loading effects must be taken into account. EXERCISE PROBLEM Ex 6.8: (a) Assume the circuit shown in Figure 6.40(a) is biased at IQ = 0.25 mA and assume transistor parameters β = 100 and VA = 100 V. Assume the small- signal nonlinear collector resistance is rc = 100 k . Determine the small-signal voltage gain. (b) Repeat part (a) assuming that a small-signal load resistance of rL = 100 k is connected between the output terminal and ground. (Ans. (a) Av = −769; (b) Av = −427) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 413 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 413 6.5 AC LOAD LINE ANALYSIS Objective: • Understand the concept of the ac load line and calculate the maximum symmetrical swing of the output signal. A dc load line gives us away of visualizing the relationship between the Q-point and the transistor characteristics. When capacitors are included in a transistor circuit, a new effective load line, called an ac load line, may exist. The ac load line helps in visualizing the relationship between the small-signal response and the transistor characteristics. The ac operating region is on the ac load line. 6.5.1 AC Load Line The circuit in Figure 6.36 has emitter resistors and an emitter bypass capacitor. The dc load line is found by writing a Kirchhoff voltage law (KVL) equation around the collector–emitter loop, as follows: V + = IC RC + VC E + IE(RE1 + R ) + V − E2 (6.61) Noting that IE = [(1 + β)/β][IC , Equ(ation (6).61) can be wri]tten as = + − − − + 1 + β VC E (V V ) IC RC (RE1 + RE2) (6.62) β which is the equation of the dc load line. For the parameters and standard resistor values found in Example 6.7, the dc load line and the Q-point are plotted in Figure 6.42. If β 1, then we can approximate (1 + β)/β ∼= 1. iC (mA) 0.40 –1 –1 DC load line, slope ≅ = RC + RE1 + RE2 30.2 kΩ 0.33 –1 –1 AC load line, slope = = R + R 10.2 kΩ 0.30 CE1 Q-point iB Time 0.20 IBQ = 2 mA 0.10 VCEQ = 4 V 0 2 4 6 8 10 vCE (V) Time Figure 6.42 The dc and ac load lines for the circuit in Figure 6.36, and the signal responses to input signal"
6.5 AC Load Line Analysis,"6.5 AC LOAD LINE ANALYSIS Objective: • Understand the concept of the ac load line and calculate the maximum symmetrical swing of the output signal. A dc load line gives us away of visualizing the relationship between the Q-point and the transistor characteristics. When capacitors are included in a transistor circuit, a new effective load line, called an ac load line, may exist. The ac load line helps in visualizing the relationship between the small-signal response and the transistor characteristics. The ac operating region is on the ac load line. 6.5.1 AC Load Line The circuit in Figure 6.36 has emitter resistors and an emitter bypass capacitor. The dc load line is found by writing a Kirchhoff voltage law (KVL) equation around the collector–emitter loop, as follows: V + = IC RC + VC E + IE(RE1 + R ) + V − E2 (6.61) Noting that IE = [(1 + β)/β][IC , Equ(ation (6).61) can be wri]tten as = + − − − + 1 + β VC E (V V ) IC RC (RE1 + RE2) (6.62) β which is the equation of the dc load line. For the parameters and standard resistor values found in Example 6.7, the dc load line and the Q-point are plotted in Figure 6.42. If β 1, then we can approximate (1 + β)/β ∼= 1. iC (mA) 0.40 –1 –1 DC load line, slope ≅ = RC + RE1 + RE2 30.2 kΩ 0.33 –1 –1 AC load line, slope = = R + R 10.2 kΩ 0.30 CE1 Q-point iB Time 0.20 IBQ = 2 mA 0.10 VCEQ = 4 V 0 2 4 6 8 10 vCE (V) Time Figure 6.42 The dc and ac load lines for the circuit in Figure 6.36, and the signal responses to input signal nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 414 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 414 Part 1 Semiconductor Devices and Basic Applications From the small-signal analysis in Example 6.7, the KVL equation around the collector–emitter loop is ic RC + vce + ie RE1 = 0 (6.63(a)) or, assuming ic ∼= ie , then vce = −ic(RC + RE1) (6.63(b)) This equation is the ac load line. The slope is given by = −1 Slope RC + RE1 The ac load line is shown in Figure 6.42. When vce = ic = 0, we are at the Q-point. When ac signals are present, we deviate about the Q-point on the ac load line. The slope of the ac load line differs from that of the dc load line because the emitter resistor RE2 is not included in the small-signal equivalent circuit. The small-signal CE voltage and collector current response are functions of the resistor RC and RE1 only. EXAMPLE 6.9 Objective: Determine the dc and ac load lines for the circuit shown in Figure 6.43. Assume the transistor parameters are: VE B(on) = 0.7 V, β = 150, and VA = ∞. DC Solution: The dc load line is found by writing a KVL equation around the CE loop, as follows: V + = IE RE + V − EC + IC RC + V The dc load line equation is th[en ( ) ] VEC = (V + − V −) − 1 + β IC RC + RE β Assuming that (1 + β)/β =∼ 1, the dc load line is plotted in Figure 6.44. The Q-point values are found to be IB Q = 5.96 μA, IC Q = 0.894 mA, IE Q = 0.90 mA, and VEC Q = 6.53 V. The Q-point is also plotted in Figure 6.44. AC Solution: Assuming that all capacitors act as short circuits, the small-signal equivalent circuit is shown in Figure 6.45. Note that the current directions and V + = +10 V iC (mA) V+ – V – R = 10 kΩ IC (max) ≈ = 1.33 mA E RC + REV + EB Q-point RS = 1 kΩ CC1 – CE 1 1 0.894 ac load line, slope = – = – C RC ⎜⎜RL 1.43 kΩ C2 + R v B = vo 1 s – 50 kΩ dc load line, slope ≈ – R Ω 15 kΩ RC = L = 2 k 5 kΩ V– = –10 V 6.53 V+ – V– = 20 V vEC (V) Figure 6.43 Circuit for Example 6.9 Figure 6.44 Plots of dc and ac load lines for Example 6.9 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 415 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 415 R i = 1 kΩ b SB C vo + – ic + RB = r g R = R v v vp CL = s v – m 50 kΩ pp 5 kΩ 2 kΩ ce + E – Figure 6.45 The small-signal equivalent circuit for Example 6.9 voltage polarities in the hybrid-π equivalent circuit of the pnp transistor are reversed compared to those of the npn device. The small-signal hybrid-π parameters are = VT β = (0.026)(150) rπ = 4.36 k IC Q 0.894 g = IC Q m = 0.894 = 34.4 mA/V VT 0.026 and ro = VA = ∞ = ∞ IC Q IC Q The small-signal output voltage, or CE voltage, is vo = vce = +(gmvπ)(RC‖RL) where gmvπ = ic The ac load line, written in terms of the EC voltage, is defined by vec = −ic(RC‖RL) The ac load line is also plotted in Figure 6.44. Comment: In the small-signal equivalent circuit, the large 10 k emitter resistor is effectively shorted by the bypass capacitor CE , the load resistor RL is in parallel with RC as a result of the coupling capacitor CC2, so that the slope of the ac load line is substantially different than that of the dc load line. EXERCISE PROBLEM Ex 6.9: For the circuit in Figure 6.39, let β = 125, VB E(on) = 0.7 V, and VA = 200 V. Plot the dc and ac load lines on the same graph. (Ans. IC Q = 0.840 mA, dc load line, VC E = 10 − IC(7.3); ac load line, Vce = −Ic(1.58)) 6.5.2 Maximum Symmetrical Swing When symmetrical sinusoidal signals are applied to the input of an amplifier, symmetrical sinusoidal signals are generated at the output, as long as the amplifier operation remains linear. We can use the ac load line to determine the maximum output symmetrical swing. If the output exceeds this limit, a portion of the output signal will be clipped and signal distortion will occur. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 416 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 416 Part 1 Semiconductor Devices and Basic Applications EXAMPLE 6.10 Objective: Determine the maximum symmetrical swing in the output voltage of the circuit given in Figure 6.43. Solution: The ac load line is given in Figure 6.44. The maximum negative swing in the collector current is from 0.894 mA to zero; therefore, the maximum possible symmetrical peak-to-peak ac collector current is ic = 2(0.894) = 1.79 mA The maximum symmetrical peak-to-peak output voltage is given by |vec| = |ic|(RC‖RL) = (1.79)(5‖2) = 2.56 V Therefore, the maximum instantaneous collector current is i 1 C = IC Q + 2 |ic| = 0.894 + 0.894 = 1.79 mA Comment: Considering the Q-point and the maximum swing in the CE voltage, the transistor remains biased in the forward-active region. Note that the maximum instantaneous collector current, 1.79 mA, is larger than the maximum dc collector current, 1.33 mA, as determined from the dc load line. This apparent anomaly is due to the different resistance in the CE circuit for the ac signal and the dc signal. EXERCISE PROBLEM Ex 6.10: Reconsider the circuit in Figure 6.38. Let β = 120, VB E(on) = 0.7 V, and VA = ∞. The circuit parameters are given in Exercise Ex 6.7. (a) Plot the dc and ac load lines on the same graph. (b) Determine the Q-point values. (c) Determine the maximum symmetrical swing in the output voltage for iC > 0 and 0.5 ≤ vC E ≤ 9 V. (Ans. (b) IC Q = 0.884 mA, VC E Q = 2.9 V; (c) vce = 4.8 V, peak-to-peak) Note: In considering Figure 6.42, it appears that the ac output signal is smaller for the ac load line compared to the dc load line. This is true for a given sinusoidal input base current. However, the required input signal voltage vs is substantially smaller for the ac load line to generate the given ac base current. This means the voltage gain for the ac load line is larger than that for the dc load line. Problem-Solving Technique: Maximum Symmetrical Swing Again, since we are dealing with linear amplifier circuits, superposition applies so that we can add the dc and ac analysis results. To design a BJT amplifier for maximum symmetrical swing, we perform the following steps. 1. Write the dc load line equation that relates the quiescent values IC Q and VC E Q . 2. Write the ac load line equation that relates the ac values ic and vce : vce = −ic Req where Req is the effective ac resistance in the collector–emitter circuit. 3. In general, we can write ic = IC Q − IC(min), where IC(min) is zero or some other specified minimum collector current. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 417 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 417 4. In general, we can write vce = VC E Q − VC E(min), where VC E(min) is some specified minimum collector-emitter voltage. 5. The above four equations can be combined to yield the optimum IC Q and VC E Q values to obtain the maximum symmetrical swing in the output signal. DESIGN EXAMPLE 6.11 Objective: Design a circuit to achieve a maximum symmetrical swing in the output voltage. Specifications: The circuit configuration to be designed is shown in Figure 6.46a. The circuit is to be designed to be bias stable. The minimum collector current is to be IC(min) = 0.1 mA and the minimum collector-emitter voltage is to be VC E(min) = 1 V. Choices: Assume nominal resistance values of RE = 2 k and RC = 7 k . Let RT H = R1‖R2 = (0.1)(1 + β)RE = 24.2 k . Assume transistor parameters of β = 120, VB E(on) = 0.7 V, and VA = ∞. Solution (Q-Point): The dc equivalent circuit is shown in Figure 6.46(b) and the midband small-signal equivalent circuit is shown in Figure 6.46(c). The dc load line, from Figure 6.46(b), is (assuming IC ∼= IE ) VC E = 10 − IC(RC + RE) = 10 − IC(9) +5 V +5 V RC = 7 kΩ R1 R v Co CC1 CC2 RL = 10 kΩ RTH v + s – R + 2 RE = C VTH E 2 kΩ – RE –5 V –5 V (a) (b) BC Vo + + Ic V + s R ⎜⎜RV r RR V – 1 2 pp CL ce g – mVp – E (c) Figure 6.46 (a) Circuit for Example 6.11, (b) Thevenin equivalent circuit, and (c) small- signal equivalent circuit nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 418 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 418 Part 1 Semiconductor Devices and Basic Applications iC (mA) AC load line slope = –1 4.12 kΩ 1.11 Q-point ICQ DC load line slope = –1 ΔI 9 kΩ C ΔVCE IC (min) 0 VCE (min) VCEQ 10 vCE (V) Figure 6.47 The ac and dc load lines to find the maximum symmetrical swing for the circuit shown in Figure 6.46(a) used in Example 6.11 The ac load line, from Figure 6.46(c), is Vce = −Ic(RC‖RL) = −Ic(4.12) These two load lines are plotted in Figure 6.47. At this point, the Q-point is unknown. Also shown in the figure are the IC(min) and VC E(min) values. The peak value of the ac collector current is IC and the peak value of the ac collector–emitter voltage is VC E . We can write IC = IC Q − IC(min) = IC Q − 0.1 and VC E = VC E Q − VC E(min) = VC E Q − 1 where IC(min) and VC E(min) were given in the specifications. Now VC E = IC(RC‖RL) or VC E Q − 1 = (IC Q − 0.1)(4.12) Substituting the expression for the dc load line, we obtain 10 − IC Q(9) − 1 = (IC Q − 0.1)(4.12) which yields IC Q = 0.717 mA and then VC E Q = 3.54 V nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 419 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 419 Solution (Bias Resistors): We can now determine R1 and R2 to produce the desired Q-point. From th(e dc equiva)lent circuit, we have RV = 2 TH [5 − (−5)] − 5 R1 + R2 = 1 1 (RT H )(10) − 5 = (24.2)(10) − 5 R1 R1 Then, from a( KVL) equation around the B(–E loop), we obtain V = IC Q 1 + β TH RT H + VB E(on) + IC Q RE − 5 β β or ( ) ( ) 1 − = 0.717 121 (24.2)(10) 5 (24.2) + 0.7 + (0.717)(2) − 5 R1 120 120 which yields R1 = 106 k We then find R2 = 31.4 k Symmetrical Swing Results: We then find the peak ac collector current to be IC = IC Q − IC(min) = 0.717 − 0.1 = 0.617 mA or a peak-to-peak ac collector current to be 1.234 mA. The peak ac collector-emitter voltage is VC E = VC E Q − VC E(min) = 3.54 − 1 = 2.54 V or the peak-to-peak ac collector–emitter voltage is 5.08 V. Comment: We have found the Q-point to yield the maximum undistorted ac output signal. However, tolerances in resistor values or transistor parameters may change the Q-point such that this maximum ac output signal may not be possible without inducing distortion. The effect of tolerances is most easily determined from a computer analysis. EXERCISE PROBLEM Ex 6.11: For the circuit shown in Figure 6.48, let β = 120, VE B(on) = 0.7 V, and ro = ∞. (a) Design a bias-stable circuit such that IC Q = 1.6 mA. Determine VEC Q . (b) Determine the value of RL that will produce the maximum symmetrical swing in the output voltage and collector current for iC ≥ 0.1 mA and 0.5 ≤ vEC ≤ 11.5 V. (Ans. (a) R1 = 15.24 k , R2 = 58.7 k , VEC Q = 3.99 V (b) RL = 5.56 k ) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 420 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 420 Part 1 Semiconductor Devices and Basic Applications VCC = +12 V RE = 1 kΩ R1 CC1 CE vo v + s R – 2 R = CC C2 RL 4 kΩ Figure 6.48 Figure for Exercise Ex 6.11 Test Your Understanding TYU 6.8 For the circuit in Figure 6.31, use the parameters given in Exercise Ex 6.5. If the total instantaneous current must always be greater than 0.1 mA and the total instantaneous CE voltage must be in the range 0.5 ≤ vC E ≤ 5 V, determine the maximum symmetrical swing in the output voltage. (Ans. 3.82 V peak-to-peak) TYU 6.9 Consider the circuit in Figure 6.38. Assume transistor and circuit parameters as given in Exercise Ex 6.7, except RB is a variable and VA = ∞. Assume iC ≥ 0.1 mA and vC E ≥ 0.7 V. (a) Determine the Q-point values to yield the maximum symmetrical swing. (b) What is the maximum swing in the collector current and the output voltage? (Ans. (a) IC Q = 0.808 mA, VC E Q = 3.53 V; (b) peak-to- peak values: IC = 1.42 mA, VC E = 5.67 V) 6.6 COMMON-COLLECTOR (EMITTER-FOLLOWER) AMPLIFIER Objective: • Analyze the emitter-follower amplifier and become familiar with the general characteristics of this circuit. The second type of transistor amplifier to be considered is the common-collector circuit. An example of this circuit configuration is shown in Figure 6.49. As seen in the figure, the output signal is taken off of the emitter with respect to ground and the collector is connected directly to VCC. Since VCC is at signal ground in the ac equivalent circuit, we have the name common-collector. The more common name for this circuit is emitter follower. The reason for this name will become apparent as we proceed through the analysis. 6.6.1 Small-Signal Voltage Gain The dc analysis of the circuit is exactly the same as we have already seen, so we will concentrate on the small-signal analysis. The hybrid-π model of the bipolar"
6.6 Common-Collector (Emitter-Follower) Amplifier,"6.6 COMMON-COLLECTOR (EMITTER-FOLLOWER) AMPLIFIER Objective: • Analyze the emitter-follower amplifier and become familiar with the general characteristics of this circuit. The second type of transistor amplifier to be considered is the common-collector circuit. An example of this circuit configuration is shown in Figure 6.49. As seen in the figure, the output signal is taken off of the emitter with respect to ground and the collector is connected directly to VCC. Since VCC is at signal ground in the ac equivalent circuit, we have the name common-collector. The more common name for this circuit is emitter follower. The reason for this name will become apparent as we proceed through the analysis. 6.6.1 Small-Signal Voltage Gain The dc analysis of the circuit is exactly the same as we have already seen, so we will concentrate on the small-signal analysis. The hybrid-π model of the bipolar nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 421 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 421 VCC = 5 V RS = 0.5 kΩ BC R1 = 50 kΩ + Ib + r b Ir R p Vb o S = 0.5 kΩ CC p – E V + s Vin R1 ⎜⎜R – 2 vO + v + s R – 2 = 50 kΩ RE = 2 kΩ RE Vo – – Figure 6.49 Emitter-follower circuit. Output signal Figure 6.50 Small-signal equivalent circuit of the emitter- is at the emitter terminal with respect to ground. follower transistor can also be used in the small-signal analysis of this circuit. Assuming the coupling capacitor CC acts as a short circuit, Figure 6.50 shows the small-signal equivalent circuit of the circuit shown in Figure 6.49. The collector terminal is at signal ground and the transistor output resistance ro is in parallel with the dependent current source. Ri Rib Ro RS = 0.5 kΩ B rp E Vo I + I + Vi b p Io Ie V + s V – in R1 ⎜⎜R ro R 2 b IE b – Figure 6.51 Small-signal equivalent circuit of the emitter-follower with all signal grounds connected together Figure 6.51 shows the equivalent circuit rearranged so that all signal grounds are at the same point. We see that Io = (1 + β)Ib (6.64) so the output voltage can be written as Vo = Ib(1 + β)(ro‖RE) (6.65) Writing a KVL equation around the base-emitter loop, we obtain Vin = Ib[rπ + (1 + β)(ro‖RE)] (6.66(a)) or R = Vin ib = rπ + (1 + β)(ro‖RE) (6.66(b)) Ib nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 422 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 422 Part 1 Semiconductor Devices and Basic Applications We canals(o write ) = RV i in + · Vs (6.67) Ri RS where Ri = R1‖R2‖Rib . Combining Equations (6.65), (6.66(b)), and (6.67), the small-signal voltage gain is ( ) V (1 + β)(r ‖R ) RA = o = o E iv + + ‖ · + (6.68) Vs rπ (1 β)(ro RE) Ri RS EXAMPLE 6.12 Objective: Calculate the small-signal voltage gain of an emitter-follower circuit. For the circuit shown in Figure 6.49, assume the transistor parameters are: β = 100, VB E(on) = 0.7 V, and VA = 80 V. Solution: The dc analysis shows that IC Q = 0.793 mA and VC E Q = 3.4 V. The small-signal hybrid-π parameters are determined to be = VT β = (0.026)(100) rπ = 3.28 k IC Q 0.793 g = IC Q = 0.793 m = 30.5 mA/V VT 0.026 and = VA = 80 ro =∼ 100 k IC Q 0.793 We may note that Rib = 3.28 + (101)(100‖2) = 201 k and Ri = 50‖50‖201 = 22.2 k The small-signal voltage gain is th(en ) = (101)(100‖2) 22.2 Av · 3.28 + (101)(100‖2) 22.2 + 0.5 or Av = +0.962 Comment: The magnitude of the voltage gain is slightly less than 1. An examination of Equation (6.68) shows that this is always true. Also, the voltage gain is positive, which means that the output signal voltage at the emitter is in phase with the input signal voltage. The reason for the terminology emitter-follower is now clear. The ac output voltage at the emitter is essentially equal to the ac input voltage. At first glance, a transistor amplifier with a voltage gain essentially of 1 may not seem to be of much value. However, the input and output resistance characteristics make this circuit extremely useful in many applications, as we will show in the next section. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 423 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 423 EXERCISE PROBLEM Ex 6.12: For the circuit shown in Figure 6.49, let VCC = 12 V, RE = 30 , R1 = 1.3 k , R2 = 4.2 k , and RS = 0. The transistor parameters are β = 80, VB E(on) = 0.7 V, and VA = 75 V. (a) Determine the quiescent values IE Q and VC E Q . (b) Find the small-signal voltage gain Av = Vo/Vs . (c) Determine the input resistance looking into the base of the transistor. (Ans. (a) IE Q = 0.2 A, VC E Q = 6 V; (b) Av = 0.9954; (c) Rib = 2.27 k ) COMPUTER ANALYSIS EXERCISE PS 6.4: Perform a PSpice simulation on the circuit in Figure 6.49. (a) Determine the small-signal voltage gain and (b) find the effective resistance seen by the signal source vs . 6.6.2 Input and Output Impedance Input Resistance The input impedance, or small-signal input resistance for low-frequency signals, of the emitter-follower is determined in the same manner as for the common- emitter circuit. For the circuit in Figure 6.49, the input resistance looking into the base is denoted Rib and is indicated in the small-signal equivalent circuit shown in Figure 6.51. The input resistance Rib was given by Equation (6.66(b)) as Rib = rπ + (1 + β)(ro‖RE) Since the emitter current is (1 + β) times the base current, the effective impedance in the emitter is multiplied by (1 + β). We saw this same effect when an emitter resistor was included in a common-emitter circuit. This multiplication by (1 + β) is again called the resistance reflection rule. The input resistance at the base is rπ plus the effective resistance in the emitter multiplied by the (1 + β) factor. This resistance reflection rule will be used extensively throughout the remainder of the text. Output Resistance Initially, to find the output resistance of the emitter-follower circuit shown in Figure 6.49, we will assume that the input signal source is ideal and that RS = 0. The circuit shown in Figure 6.52 can be used to determine the output resistance looking back into the output terminals. The circuit is derived from the small-signal equivalent Ro rp + Vp – Ix R1 ⎜⎜R + 2 r RV go Ex mVp Figure 6.52 Small-signal equivalent circuit of the emitter-follower used to determine the output resistance. The source resistance RS is assumed to be zero (an ideal signal source). nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 424 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 424 Part 1 Semiconductor Devices and Basic Applications circuit shown in Figure 6.51 by setting the independent voltage source Vs equal to zero, which means that Vs acts as a short circuit. A test voltage Vx is applied to the output terminal and the resulting test current is Ix. The output resistance, Ro, is given by V R = x o (6.69) Ix In this case, the control voltage Vπ is not zero, but is a function of the applied test voltage. From Figure 6.52, we see that Vπ = −Vx . Summing currents at the output node, we have Ix + gm Vπ = Vx + Vx + Vx (6.70) RE ro rπ Since Vπ = −Vx , Equation (6.70) can be written as Ix = 1 = + 1 + 1 + 1 gm (6.71) Vx Ro RE ro rπ or the output resistance is given by Ro = 1 ‖RE‖ro‖rπ (6.72) gm The output resistance may also be written in a slightly different form. Equation (6.71) (can be wri)tten in the form ( ) 1 = + 1 + 1 + 1 = 1 + β + 1 + 1 gm (6.73) Ro rπ RE ro rπ RE ro or the output resistance can be written in the form = r R π o 1 + ‖RE‖ro (6.74) β Equation (6.74) says that the output resistance looking back into the output terminals is the effective resistance in the emitter, RE‖ro, in parallel with the resistance looking back into the emitter. In turn, the resistance looking into the emitter is the total resistance in the base circuit divided by (1 + β). This is an important result and is called the inverse resistance reflection rule and is the inverse of the reflection rule looking to the base. EXAMPLE 6.13 Objective: Calculate the input and output resistance of the emitter-follower circuit shown in Figure 6.49. Assume RS = 0. The small-signal parameters, as determined in Example 6.12, are rπ = 3.28 k , β = 100, and ro = 100 k . Solution (Input Resistance): The input resistance looking into the base was determined in Example 6.12 as Rib = rπ + (1 + β)(ro‖RE) = 3.28 + (101)(100‖2) = 201 k and the input resistance seen by the signal source Ri is Ri = R1‖R2‖Rib = 50‖50‖201 = 22.2 k Comment: The input resistance of the emitter-follower looking into the base is substantially larger than that of the simple common-emitter circuit because of the nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 425 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 425 (1 + β) factor. This is one advantage of the emitter-follower circuit. However, in this case, the input resistance seen by the signal source is dominated by the bias resistors R1 and R2. To take advantage of the large input resistance of the emitter-follower circuit, the bias resistors must be designed to be much larger. Solution (Output Resistance): The output resistance is found from Equation (6.74)(as ) ( ) r R π o = + ‖RE‖ 3.28 ro = ‖2‖100 1 β 101 or Ro = 0.0325‖2‖100 = 0.0320 k ⇒ 32.0 The output resistance is dominated by the first term that has (1 + β) in the denominator. Comment: The emitter-follower circuit is sometimes referred to as an impedance transformer, since the input impedance is large and the output impedance is small. The very low output resistance makes the emitter-follower act almost like an ideal voltage source, so the output is not loaded down when used to drive another load. Because of this, the emitter-follower is often used as the output stage of a multistage amplifier. EXERCISE PROBLEM Ex 6.13: Consider the circuit and transistor parameters described in Exercise Ex 6.12 for the circuit shown in Figure 6.49. For the case of RS = 0, determine the output resistance looking into the output terminals. (Ans. Ro = 0.129 ) We can determine the output resistance of the emitter-follower circuit taking into account a nonzero source resistance. The circuit in Figure 6.53 is derived from the small-signal equivalent circuit shown in Figure 6.51 and can be used to find Ro. The independent source Vs is set equal to zero and a test voltage Vx is applied to the output terminals. Again, the control voltage Vπ is not zero, but is a function of the test voltage. Summing currents at the output node, we have V V V Ix + gm V = xx x π + + (6.75) RE ro rπ + R1‖R2‖RS The control voltage can be written in terms of the test voltage by a voltage divider equation as ( ) = − r V π π rπ + R1‖R2‖ · V (6.76) Rx S Ro R r Sp E + Vp – Ix R1 ⎜⎜R r + 2 o REV g V – x mp Figure 6.53 Small-signal equivalent circuit of the emitter-follower used to determine the output resistance including the effect of the source resistance RS nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 426 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 426 Part 1 Semiconductor Devices and Basic Applications Equation ((6.75) can then be w)ritten as = gmr I π · V + Vx + Vx + Vx x + x (6.77) rπ R1‖R2‖RS RE ro rπ + R1‖R2‖RS Noting that gmrπ = β , we find Ix = 1 = 1 + β 1 1 Vx Ro rπ + R1‖ ‖ + + (6.78) R2 RS RE ro or ( + ‖ ‖ ) = rπ R1 RR 2 RS o + ‖R 1 E‖ro (6.79) β In this case, the source resistance and bias resistances contribute to the output resistance. 6.6.3 Small-Signal Current Gain We can determine the small-signal current gain of an emitter-follower by using the input resistance and the concept of current dividers. For the small-signal emitter-follower equivalent circuit shown in Figure 6.51, the small signal current gain is defined as = IA e i (6.80) Ii where Ie and Ii are the output and input current phasors. Using a current divider equation, we can write the base current in terms of the input curr(ent, as follows:) RI = 1‖R2 b ‖ + Ii (6.81) R1 R2 Rib Since gm Vπ = β Ib , then, ( ) Io = (1 + β)Ib = (1 + R1‖R2 β) ‖ + Ii (6.82) R1 R2 Rib Writing th(e load cur)rent in terms of Io produces r Ie = or + IR o (6.83) o E Combining Equations (6.82) and (6.83), we obtain the small-signal current gain, as follows: ( ‖ )( ) = IA e i = (1 + R1 R2 ro β) Ii R1‖R2 + Rib ro + (6.84) RE If we assume that R1‖R2 Rib and ro RE , then Ai ∼= (1 + β) (6.85) which is the current gain of the transistor. Although the small-signal voltage gain of the emitter follower is slightly less than 1, the small-signal current gain is normally greater than 1. Therefore, the emitter- follower circuit produces a small-signal power gain. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 427 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 427 Although we did not explicitly calculate a current gain in the common-emitter circuit previously, the analysis is the same as that for the emitter-follower and in general the current gain is also greater than unity. DESIGN EXAMPLE 6.14 Objective: To design an emitter-follower amplifier to meet an output resistance specification. Specifications: Consider the output signal of the amplifier designed in Example 6.7. We now want to design an emitter-follower circuit with the configuration shown in Figure 6.54 such that the output signal from this circuit does not vary by more than 5 percent when a load in the range RL = 4 k to RL = 20 k is connected to the output. Choices: We will assume that a transistor with nominal parameter values of β = 100, VB E(on) = 0.7 V, and VA = 80 V is available. Discussion: The output resistance of the common-emitter circuit designed in Example 6.7 is Ro = RC = 10 k . Connecting a load resistance between 4 k and 20 k will load down this circuit, so that the output voltage will change substantially. For this reason, an emitter-follower circuit with a low output resistance must be designed to minimize the loading effect. The Thevenin equivalent circuit is shown in Figure 6.55. The output vol(tage can be )written as RL vo = R + · v RT H Lo where vT His the ideal voltage generated by the amplifier. In order to have vo change by less than 5 percent as a load resistance RL is added, we must have Ro less than or equal to approximately 5 percent of the minimum value of RL. In this case, then, we need Ro to be approximately 200 . Initial Design Approach: Consider the emitter-follower circuit shown in Figure 6.54. Note that the source resistance is RS = 10 k , corresponding to the output resistance of the circuit designed in Example 6.7. V + = +5 V R1 RC S = 10 kΩ C1 RC o C2 v + vo + s – R2 R + E RL – vTH vo RL – V – = –5 V Figure 6.55 Thevenin equivalent Figure 6.54 Figure for Example 6.14 of the output of an amplifier nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 428 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 428 Part 1 Semiconductor Devices and Basic Applications The ou(tput resistance, gi)ven by Equation (6.79), is = rπ + R ‖RR 1 2‖RS o + ‖RE‖r 1 o β The first term, with (1 + β) in the denominator, dominates, and if R1‖R2‖RS ∼= RS , then we have ∼= rπ + RR So 1 + β For Ro = 200 , we find r + 10 0 π .2 = 101 or rπ = 10.2 k . Since rπ = (βVT )/IC Q , the quiescent collector current must be = βV IT = (100)(0.026) C Q = 0.255 mA rπ 10.2 Assuming IC Q ∼= IE Q and letting VC E Q = 5 V, we find V + − V − R = CE Q − V = 5 − 5 − (−5) E = 19.6 k IE Q 0.255 The term (1 + β)RE is (1 + β)RE = (101)(19.6) ⇒ 1.98 M With this large resistance, we can design a bias-stable circuit as defined in Chapter 5 and still have large values for bias resistances. Let RT H = (0.1)(1 + β)RE = (0.1)(101)(19.6) = 198 k The base current is = VT H − VB E(on) − V − IB RT H + (1 + β)RE where ( ) VT H = R2 + (10) − 5 = 1 (RT H )(10) − 5 R1 R2 R1 We can then write 1 (198)(10) − 5 − 0.7 − (−5) 0.255 = R1 100 198 + (101)(19.6) We find R1 = 317 k and R2 = 527 k . Comment: The quiescent collector current IC Q = 0.255 mA establishes there- quired rπ value which in turn establishes the required output resistance Ro. Tradeoffs: We will investigate the effects of a variation in transistor current gain. In this example, we will assume that the designed resistor values are available. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 429 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 429 The Thevenin equivalent resistance is RT H = R1‖R2 = 198 k and the Thevenin equivalent voltage is VT H = 1.244 V. The base current is found by the KVL equation around the BE loop. We find = 1.244 − 0.7 − (−5) IB Q 198 + (1 + β)(19.6) The collector current is IC Q = β IB Q and we find rπ = (βVT )/IC Q . Finally, the output resistance is approximately =∼ rπ + RT H‖RS = rπ + 198‖10 Ro 1 + β 1 + β The values of these parameters for several values of β are shown in the following table. β ICQ (mA) rπ (k) Ro () 50 0.232 5.62 297 75 0.246 7.91 229 100 0.255 10.2 195 125 0.260 12.5 175 From these results, we see that the specified maximum output resistance of Ro ∼= 200 is met only if the current gain of the transistor is at least β = 100. In this design, then, we must specify that the minimum current gain of a transistor is 100. Computer Simulation: We again used approximation techniques in our design. For this reason, it is useful to verify our design with a PSpice analysis, since the computer simulation will take into account more details than our hand design. Figure 6.56 shows the PSpice circuit schematic diagram. A 1 mV sinusoidal signal source is capacitively coupled to the output of the emitter follower. The input signal source has been set equal to zero. The current from the output signal source was found to be 5.667 μA. The output resistance of the emitter follower is then Ro = 176 , which means that we have met our desired specification that the output resistance should be less than 200 . + V + 5 V – R1 344 kΩ Q 0 RC 1 S 2 2N3904 C3 10 kΩ 100 mF I 0 R2 467 kΩ 100 mF RE 19.6 kΩ + v3 + V – ~ – 1 mV –5 V – 0 0 Figure 6.56 PSpice circuit schematic for Example 6.14 nea80644_ch06_369-468.qxd 06/13/2009 08:24 PM Page 430 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 430 Part 1 Semiconductor Devices and Basic Applications Discussion: From the computer simulation, the quiescent collector current is IC Q = 0.239 mA compared to the designed value of IC Q = 0.255 mA. The principal reason for the difference in value is the difference in base-emitter voltage and current gain between the hand analysis and computer simulation. The output resistance specification is met in the computer simulation. In the PSpice analysis, the ac beta is 135 and the output resistance is Ro = 176 . This value correlates very well with the hand analysis in which Ro = 184  for β = 125. EXERCISE PROBLEM Ex 6.14: For the circuit in Figure 6.54, the transistor parameters are: β = 100, VB E(on) = 0.7 V, and VA = 125 V. Assume RS = 0 and RL = 1 k. (a) Design a bias-stable circuit such that IC Q = 1.25 mA and VC E Q = 4 V. (b) What is the small-signal current gain Ai = io/ ii ? (c) What is the output resistance looking back into the output terminals? (Ans. (a) RE = 4.76 k, R1 = 65.8 k, R2 = 178.8 k; (b) Ai = 29.9, (c) Ro = 20.5 ) Test Your Understanding TYU 6.10 Assume the circuit in Figure 6.57 uses a 2N2222 transistor. Assume a nominal dc current gain of β = 130. Using the average h-parameter values (assume hre = 0) given in the data sheets, determine Av = vo/vs , Ai = io/ is, Rib, and Ro for RS = RL = 10 k. (Ans. Av = 0.891, Ai = 8.59, Rib = 641 k, Ro = 96 ) V+ = +10 V RC = 10 kΩ Rib RC SC1 C Ro iv + i RB = vs o – 100 kΩ CC2 RE = i R 10 kΩ o L V – = –10 V Figure 6.57 Figure for Exercise TYU 6.10 TYU 6.11 For the circuit in Figure 6.58, RE = 2 k, R1 = R2 = 50 k and the transistor parameters are β = 100, VE B(on) = 0.7 V, and VA = 125 V. (a) Determine the small-signal voltage gain Av = vo/vs . (b) Find the resistances Rib and Ro. (Ans. (a) Av = 0.925, (b) Rib = 4.37 k, Ro = 32.0 ) TYU 6.12 The parameters of the circuit shown in Figure 6.57 are V + = 3.3 V, V − = −3.3 V, RE = 15 k, RL = 2 k, RS = 2 k, and RC = 0. The transistor parameters are β = 120 and VA = ∞. (a) Determine the quiescent values IE Q and nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 431 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 431 VCC = +5 V RE RR o 1 CC2 vo CC R 1 ib R ii L = o v + i R 500 Ω s – 2 Figure 6.58 Figure for Exercises TYU 6.11. VC E Q . (b) Find the small-signal voltage gain and small-signal current gain. (c) Calculate the small-signal input resistance Rib and the small-signal output resistance Ro . (Ans. (a) IE Q = 0.163 mA, VC E Q = 4.14 V; (b) Av = 0.892, Ai = 32.1; (c) Rib = 232.7 k , Ro = 172 ) 6.7 COMMON-BASE AMPLIFIER Objective: • Analyze the common-base amplifier and become familiar with the general characteristics of this circuit. A third amplifier circuit configuration is the common-base circuit. To determine the small-signal voltage and current gains, and the input and output impedances, we will use the same hybrid-π equivalent circuit for the transistor that was used previously. The dc analysis of the common-base circuit is essentially the same as for the common-emitter circuit. 6.7.1 Small-Signal Voltage and Current Gains Figure 6.59 shows the basic common-base circuit, in which the base is at signal ground and the input signal is applied to the emitter. Assume a load is connected to the output through a coupling capacitor CC2. RC SC1 CC2 vo RR io EC v + Rs – – R + LB CV BEE VCC + – Figure 6.59 Basic common-base circuit. The input signal is applied to the emitter terminal and the output signal is measured at the collector terminal."
6.7 Common-Base Amplifier,"6.7 COMMON-BASE AMPLIFIER Objective: • Analyze the common-base amplifier and become familiar with the general characteristics of this circuit. A third amplifier circuit configuration is the common-base circuit. To determine the small-signal voltage and current gains, and the input and output impedances, we will use the same hybrid-π equivalent circuit for the transistor that was used previously. The dc analysis of the common-base circuit is essentially the same as for the common-emitter circuit. 6.7.1 Small-Signal Voltage and Current Gains Figure 6.59 shows the basic common-base circuit, in which the base is at signal ground and the input signal is applied to the emitter. Assume a load is connected to the output through a coupling capacitor CC2. RC SC1 CC2 vo RR io EC v + Rs – – R + LB CV BEE VCC + – Figure 6.59 Basic common-base circuit. The input signal is applied to the emitter terminal and the output signal is measured at the collector terminal. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 432 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 432 Part 1 Semiconductor Devices and Basic Applications I g b R mVp BC SE C Vo + Ii – Io Vp r + p gmVp V Vs R r – E pp RC RL – + Ib E B (a) (b) Figure 6.60 (a) Simplified hybrid-πmodel of the npn transistor and (b) small-signal equivalent circuit of the common-base circuit Figure 6.60(a) again shows the hybrid-π model of the npn transistor, with the output resistance ro assumed to be infinite. Figure 6.60(b) shows the small-signal equivalent circuit of the common-base circuit, including the hybrid-π model of the transistor. As a result of the common-base configuration, the hybrid-π model in the small-signal equivalent circuit may look a little strange. The small signal output voltage is given by Vo = −(gm Vπ)(RC‖RL) (6.86) Writing a KCL equation at the emitter node, we obtain V V g V + π + π + Vs − (−Vπ) m π = 0 (6.87) rπ RE RS Since β(= gmrπ , Equation (6).87) can be written 1 + β + 1 Vπ + 1 = − Vs (6.88) rπ RE RS RS Then, [( ) ] = − Vs r ∥ V π ∥ π + ∥RE‖RS (6.89) RS 1 β Substituting Equation (6.89) into (6.86), we find the small-signal voltage gain, as follows: ( = Vo = + RC‖ )[( ) ] R r ∥ Avg L π ∥ V ms RS 1 + ∥RE‖RS (6.90) β We can show that as RS approaches zero, the small-signal voltage gain becomes Av = gm(RC‖RL) (6.91) Figure 6.60(b) can also be used to determine the small-signal current gain. The current gain is defined as Ai = Io/Ii . Writing a KCL equation at the emitter node, we have + VI π i + gm Vπ + Vπ = 0 (6.92) rπ RE Solving for Vπ[, w(e obtai)n∥ ] r V = −I π ∥∥ π i + ∥ RE (6.93) 1 β nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 433 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 433 The load curren(t is given b)y Io = − RC (gm Vπ) (6.94) RC + RL Combining Equations (6.93) and (6.94), we obtain an expression for the small-signal current gain, as foll(ows: )[( )∥ ] = Io = RC r A π ∥ i gm ∥ RI R + R 1 + ∥ E (6.95) i CL β If we take the limit as RE approaches infinity and RL approaches zero, then the current gain becomes the short-circuit current gain given by g A mrπ io = + = β + = α (6.96) 1 β 1 β where α is the common-base current gain of the transistor. Equations (6.90) and (6.96) indicate that, for the common-base circuit, the small-signal voltage gain is usually greater than 1 and the small-signal current gain is slightly less than 1. However, we still have a small-signal power gain. The applications of a common-base circuit take advantage of the input and output resistance characteristics. 6.7.2 Input and Output Impedance Figure 6.61 shows the small-signal equivalent circuit of the common-base configuration looking into the emitter. In this circuit, for convenience only, we have reversed the polarity of the control voltage, which reverses the direction of the dependent current source. The input resistance looking into the emitter is defined as = V R π ie (6.97) Ii If we write a KCL equation at the input, w(e obtain) = + = Vπ + 1 + β Ii Ib gm Vπ gm Vπ = Vπ (6.98) rπ rπ Therefore, Rie = Vπ = rπ ≡ r I 1 + e (6.99) i β Rie Ii + gmVp Vp Ib rp RC RL – Figure 6.61 Common-base equivalent circuit for input resistance calculations nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 434 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 434 Part 1 Semiconductor Devices and Basic Applications ro Roc RS E – CI gmV x p RV r + E pp V – x + B Figure 6.62 Common-base equivalent circuit for output resistance calculations The resistance looking into the emitter, with the base grounded, is usually defined as re and is quite small, as already shown in the analysis of the emitter-follower circuit. When the input signal is a current source, a small input resistance is desirable. Figure 6.62 shows the circuit used to calculate the output resistance looking back into the collector terminal. The small-signal resistance ro is included. The independent source vs has been set equal to zero. We may define an equivalent resistance Req = RS‖RE‖rπ . Writing a KCL equation at the output node, we obtain Ix = V − (−V ) gm V + x π π (6.100(a)) ro A KCL equation at the emitter node yields Vπ + + Vx − (−V ) g V π m π = 0 (6.100(b)) Req ro Combining Equation(s (6.100(a))) and (6.100(b)), we find that output resistance as Vx = Roc = ro 1 + gm Req + Req (6.101) Ix If the input resistance RS = 0, then Req = 0 and the output resistance is just given by Roc = ro . Including a collector resistor and a load resistor, the output resistance looking back into the output terminal is Ro = Roc‖RC‖RL . Since the output resistance looking back into the collector terminal is very large, the common-base circuit looks almost like an ideal current source. The circuit is also referred to as a current buffer. Discussion The common-base circuit is very useful when the input signal is a current. We will see this type of application when we discuss the cascode circuit in Section 6.9. Test Your Understanding TYU 6.13 For the circuit shown in Figure 6.63, the transistor parameters are: β = 100, VE B(on) = 0.7 V, and ro = ∞. (a) Calculate the quiescent values of IC Q and VEC Q . (b) Determine the small-signal current gain Ai = io/ ii . (c) Determine the small-signal voltage gain Av = vo/vs . (Ans. (a) IC Q = 0.921 mA, VEC Q = 6.1 V (b) Ai = 0.987 (c) Av = 177) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 435 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 435 Ri Ro CR CC CS C1 C2 v v o oi ii i o + i RE = 10 kΩ io RC = 5 kΩ + RE R v C vs s – – RL + – – RB C + VB V EE VCC EE = 10 V VCC = 10 V – + – + Figure 6.63 Figure for Exercise TYU 6.13 Figure 6.64 Figure for Exercises TYU 6.14 and TYU 6.15 TYU 6.14 The transistor parameters for the circuit shown in Figure 6.64 are β = 120, VB E(on) = 0.7 V, and VA = ∞. The circuit parameters are VCC = VE E = 3.3 V, RS = 500 , RL = 6 k , RB = 100 k , RE = 12 k , and RC = 12 k . (a) Determine the small-signal transistor parameters gm , rπ , and ro. (b) Find the small-signal current gain Ai = io/ ii and the small-signal voltage gain Av = vo/vs . (c) Determine the input resistance Ri and the output resistance Ro. (Ans. (a) gm = 7.73 mA/V, rπ = 15.5 k , ro = ∞; (b) Ai = 0.654, Av = 6.26; (c) Ri = 127 , Ro = 12 k ) TYU 6.15 For the circuit shown in Figure 6.64, let RS = 0, CB = 0, RC = RL = 2 k , VCC = VE E = 5 V, β = 100, VB E(on) = 0.7 V, and VA = ∞. Design RE and RB for a dc quiescent collector current of 1 mA and a small-signal voltage gain of 20. (Ans. RB = 2.4 k , RE = 4.23 k ) 6.8 THE THREE BASIC AMPLIFIERS: SUMMARY AND COMPARISON Objective: • Compare the general characteristics of the three basic amplifier configurations. The basic small-signal characteristics of the three single-stage amplifier configurations are summarized in Table 6.4. For the common-emitter circuit, the voltage and current gains are generally greater than 1. For the emitter-follower, the voltage gain is slightly less than 1, while the current gain is greater than 1. For the common-base circuit, the voltage gain is greater than 1, while the current gain is less than 1. Table 6.4 Characteristics of the three BJT amplifier configurations Configuration Voltage gain Current gain Input resistance Output resistance Common emitter Av > 1 Ai > 1 Moderate Moderate to high Emitter follower Av =∼ 1 Ai > 1 High Low Common base Av > 1 Ai ∼= 1 Low Moderate to high"
6.8 The Three Basic Amplifiers: Summary and Comparison,"6.8 THE THREE BASIC AMPLIFIERS: SUMMARY AND COMPARISON Objective: • Compare the general characteristics of the three basic amplifier configurations. The basic small-signal characteristics of the three single-stage amplifier configurations are summarized in Table 6.4. For the common-emitter circuit, the voltage and current gains are generally greater than 1. For the emitter-follower, the voltage gain is slightly less than 1, while the current gain is greater than 1. For the common-base circuit, the voltage gain is greater than 1, while the current gain is less than 1. Table 6.4 Characteristics of the three BJT amplifier configurations Configuration Voltage gain Current gain Input resistance Output resistance Common emitter Av > 1 Ai > 1 Moderate Moderate to high Emitter follower Av =∼ 1 Ai > 1 High Low Common base Av > 1 Ai ∼= 1 Low Moderate to high nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 436 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 436 Part 1 Semiconductor Devices and Basic Applications The input resistance looking into the base terminal of a common-emitter circuit maybe in the low kilohm range; in an emitter follower, it is generally in the 50 to 100 k range. The input resistance looking into the emitter of a common-base circuit is generally on the order of tens of ohms. The overall input resistance of both the common-emitter and emitter-follower circuits can be greatly affected by the bias circuitry. The output resistance of the emitter follower is generally in the range of a few ohms to tens of ohms. In contrast, the output resistance looking into the collector terminal of the common-emitter and common-base circuits is very high. In addition, the output resistance looking back into the output terminal of the common-emitter and common-base circuits is a strong function of the collector resistance. For these circuits, the output resistance can easily drop to a few kilohms. The characteristics of these single-stage amplifiers will be used in the design of multistage amplifiers. 6.9 MULTISTAGE AMPLIFIERS Objective: • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor amplifiers. In most applications, a single transistor amplifier will not be able to meet the combined specifications of a given amplification factor, input resistance, and output resistance. For example, the required voltage gain may exceed that which can be obtained in a single transistor circuit. We also saw an illustration of this effect in Example 6.14, in which a low output resistance was required in a particular design. Transistor amplifier circuits can be connected in series, or cascaded, as shown in Figure 6.65. This maybe done either to increase the overall small-signal voltage gain or to provide an overall voltage gain greater than 1, with a very low output resistance. The overall voltage or current gain, in general, is not simply the product of the individual amplification factors. For example, the gain of stage 1 is a function of the input resistance of stage 2. In other words, loading effects may have to be taken into account. There are many possible multistage configurations; we will examine a few here, in order to understand the type of analysis required. + + Stage 1 Stage 2 Stage 3 vs v A A o V1 V2 AV3 – – Ri1 Ro1 Ri2 Ro2 Ri3 Ro3 Figure 6.65 A generalized three-stage amplifier 6.9.1 Multistage Analysis: Cascade Configuration In Figure 6.66, the circuit is a cascade configuration of two common-emitter circuits. The dc analysis of this circuit, done in Example 5.19 of Chapter 5, showed that both transistors are biased in the forward-active mode. Figure 6.67 shows the small-signal"
6.9 Multistage Amplifiers,"6.9 MULTISTAGE AMPLIFIERS Objective: • Analyze multitransistor or multistage amplifiers and understand the advantages of these circuits over single-transistor amplifiers. In most applications, a single transistor amplifier will not be able to meet the combined specifications of a given amplification factor, input resistance, and output resistance. For example, the required voltage gain may exceed that which can be obtained in a single transistor circuit. We also saw an illustration of this effect in Example 6.14, in which a low output resistance was required in a particular design. Transistor amplifier circuits can be connected in series, or cascaded, as shown in Figure 6.65. This maybe done either to increase the overall small-signal voltage gain or to provide an overall voltage gain greater than 1, with a very low output resistance. The overall voltage or current gain, in general, is not simply the product of the individual amplification factors. For example, the gain of stage 1 is a function of the input resistance of stage 2. In other words, loading effects may have to be taken into account. There are many possible multistage configurations; we will examine a few here, in order to understand the type of analysis required. + + Stage 1 Stage 2 Stage 3 vs v A A o V1 V2 AV3 – – Ri1 Ro1 Ri2 Ro2 Ri3 Ro3 Figure 6.65 A generalized three-stage amplifier 6.9.1 Multistage Analysis: Cascade Configuration In Figure 6.66, the circuit is a cascade configuration of two common-emitter circuits. The dc analysis of this circuit, done in Example 5.19 of Chapter 5, showed that both transistors are biased in the forward-active mode. Figure 6.67 shows the small-signal nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 437 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 437 V+ = +5 V R = 2 kΩ RC1= 5 kΩ E2 R1 = 100 kΩ QC C 2 E2 RS = 0.5 kΩ C1 QC R 1 C2 o vo v + s – R2 = 50 kΩ CE R = R = RE 1 C2 L 1 = 1.5 kΩ 5 kΩ 2 kΩ V – = –5 V Figure 6.66 A two-stage common-emitter amplifier in a cascade configuration with npn and pnp transistors Ri Ro B1 C1 B2 C2 Vo RS + – V + s R1 ⎜⎜R2 rp1 Vp R r RR – 1 C1 p 2 Vp 2 C2 L – gm1Vp gm2V 1 + p 2 E1 E2 Figure 6.67 Small-signal equivalent circuit of the cascade circuit shown in Figure 6.66 equivalent circuit, assuming all capacitors act as short circuits and each transistor output resistance ro is infinite. We may start the analysis at the output and work back to the input, or start at the input and work toward the output. The small-signal voltage gain is ( ) A = Vo v = R gm1gm2(R ‖r R ‖R i C1 π2)( C2 L) Vs Ri + (6.102) RS The input resistance of the amplifier is Ri = R1‖R2‖rπ1 which is identical to that of a single-stage common-emitter amplifier. Similarly, the output resistance looking back into the output terminals is Ro = RC2. To determine the output resistance, the independent source Vs is set equal to zero, which means that Vπ1 = 0. Then gm1Vπ1 = 0, which gives Vπ2 = 0 and gm 2Vπ 2 = 0. The output resistance is therefore RC2. Again, this is the same as the output resistance of a single-stage common-emitter amplifier. COMPUTER EXAMPLE 6.15 Objective: Determine the small-signal voltage gain of the multitransistor circuit shown in Figure 6.66 using a PSpice analysis. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 438 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 438 Part 1 Semiconductor Devices and Basic Applications + V1 R 5 V E2 2 kΩ – RC1 5 kΩ 0 R1 100 kΩ CE2 100 mF 2N3906 0 QC 2 Q1 RS C1 CC2 V 2N3904 0.5 kΩ V 100 mF 100 mF 3 + 1 mV ~ R Ω CR Ω R 50 k 1.5 k L 5 kΩ – 2 E1 m C2 100 F RE1 2 kΩ 0 0 0 + V2 –5 V – 0 Figure 6.68 PSpice circuit schematic for Example 6.15 The dc and ac analyses of a multitransistor circuit become more complex compared to those for a single-transistor circuit. In this situation, a computer simulation of the circuit, without a hand analysis, is extremely useful. The PSpice circuit schematic is shown in Figure 6.68. The resulting Q-point values are IC Q1 = 2.54 mA, IC Q2 = 1.18 mA, VEC Q1 = 1.10 V, and VC E Q2 = 1.79 V. The ac common-emitter current gains are β1 = 173 and β2 = 157. A 1 μV sinusoidal signal is applied. The sinusoidal voltage at the collector of Q2 is 51 μV and the sinusoidal voltage at the output is 4.79 mV. The overall voltage gain is then 4790. We will show, in later chapters, that even larger voltage gains can be obtained by replacing the discrete collector resistors with active loads. Comment: We can see from the Q-point values that the collector–emitter voltage of each transistor is quite small. This implies that the maximum symmetrical swing in the output voltage is limited to a fairly small value. These Q-point values can be increased by a slight redesign of the circuit. Discussion: The transistors used in this PSpice analysis of the circuit were standard bipolar transistors from the PSpice library. We must keep in mind that, for the computer simulation to be valid, the models of the devices used in the simulation must match those of the actual devices used in the circuit. If the actual transistor characteristics were substantially different from those used in the computer simulation, then the results of the computer analysis would not be accurate. EXERCISE PROBLEM Ex 6.15: For each transistor in the circuit in Figure 6.69, the parameters are: β = 125, VB E(on) = 0.7 V, and ro = ∞. (a) Determine the Q-points of each transistor. (b) Find the overall small-signal voltage gain Av = Vo/Vs . (c) Determine the input resistance Ri and the output resistance Ro. (Ans. (a) IC Q1 = 0.364 mA, VC E Q1 = 7.92 V, IC Q2 = 4.82 mA, VC E Q2 = 2.71 V (b) Av = −17.7 (c) Ri = 4.76 k , Ro = 43.7 ) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 439 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 439 V + = +5 V RC1 = R1 = 5 kΩ R 70 kΩ i Q Ro 2 CC1 CC2 Q1 vo v + RL = s – R2 = R RE2 = 10 kΩ 6 kΩ E1 = 1.5 kΩ 0.2 kΩ V – = –5 V Figure 6.69 Figure for Exercise Ex 6.15 6.9.2 Multistage Circuit: Darlington Pair Configuration In some applications, it would be desirable to have a bipolar transistor with a much larger current gain than can normally be obtained. Figure 6.70(a) shows a multitransistor configuration, called a Darlington pair or a Darlington configuration, that provides increased current gain. The small-signal equivalent in which the input signal is assumed to be a current source, is shown in Figure 6.70(b). We will use the input current source to determine the current gain of the circuit. To determine the small-signal current gain Ai = Io/Ii , we see that Vπ1 = Iirπ1 (6.103) Therefore, gm1Vπ1 = gm1rπ1 Ii = β1 Ii (6.104) V + Ri ic RC BC C 1 1 2 Ri Vo CC vo + I g V o Q1 rp1 V m1 p 1 p1 ii Q2 + – B2 v + s RI Bi Vi RC – E g V 1 + m2 p 2 Vp 2 rp 2 IEo CE – E2 V – (a) (b) Figure 6.70 (a) A Darlington pair configuration; (b) small-signal equivalent circuit nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 440 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 440 Part 1 Semiconductor Devices and Basic Applications Then, Vπ2 = (Ii + β1 Ii )rπ2 (6.105) The output current is Io = gm1Vπ1 + gm2Vπ2 = β1 Ii + β2(1 + β1)Ii (6.106) where gm2rπ2 = β2. The overall current gain is then = IA oi = β1 + β2(1 + β1) =∼ β1β2 (6.107) Ii From Equation (6.107), we see that the overall small-signal current gain of the Darlington pair is essentially the product of the individual current gains. The input resistance is Ri = Vi/Ii . We can write that Vi = Vπ1 + Vπ2 = Iirπ1 + Ii (1 + β1)rπ2 (6.108) so that Ri = rπ1 + (1 + β1)rπ2 (6.109) The base of transistor Q2 is connected to the emitter of Q1, which means that the input resistance to Q2 is multiplied by the factor (1 + β1), as we saw in circuits with emitter resistors. We can write = β1V r T π1 (6.110) IC Q1 and I ∼= 1C Q 2 C Q 1 (6.111) β2 Therefore, ( ) β V r 2 T π1 = β1 = β I 1rπ2 (6.112) C Q2 From Equation (6.109), the input resistance is then approximately Ri ∼= 2β1rπ2 (6.113) We see from these equations that the overall gain of the Darlington pair is large. At the same time, the input resistance tends to be large, because of the β multiplication. 6.9.3 Multistage Circuit: Cascode Configuration A slightly different multistage configuration, called a cascode configuration, is shown in Figure 6.71(a). The input is into a common-emitter amplifier (Q1), which drives a common-base amplifier (Q2). The ac equivalent circuit is shown in Figure 6.71(b). We see that the output signal current of Q1 is the input signal of Q2. We mentioned previously that, normally, the input signal of a common-base configuration is to be a current. One advantage of this circuit is that the output resistance looking into the collector of Q2 is much larger than the output resistance of a simple common-emitter circuit. Another important advantage of this circuit is in the frequency response, as we will see in Chapter 7. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 441 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 441 VCC RC RC 1 C2 C v B o Q2 RL R2 CC1 Q Q 1 2 vo vs Q1 + RR – R3 CL RE CE (a) (b) Figure 6.71 (a) Cascode amplifier and (b) the ac equivalent circuit gm2 Vp 2 B1 C1 E2 C2 Vo + – V + s R2 ⎜⎜R3 rp1 Vp1 rp 2 V RR – p 2 CL – gm1Vp1 + E1 B2 Figure 6.72 Small-signal equivalent circuit of the cascode configuration The small-signal equivalent circuit is shown in Figure 6.72 for the case when the capacitors act as short circuits. We see that Vπ1 = Vs since we are assuming an ideal signal voltage source. Writing a KCL equation at E2, we have gm1Vπ1 = Vπ2 + gm2Vπ2 (6.114) rπ2 Solving for (the contr)ol voltage Vπ2 (noting that Vπ1 = Vs ), we find r V π2 π2 = + (gm1Vs) (6.115) 1 β2 where β2 = gm2rπ2. The output voltage is Vo = −(gm2Vπ2)(RC‖RL) (6.116(a)) or ( ) Vo = − r g π2 m1gm2 1 + (RC‖RL)Vs (6.116(b)) β2 Therefore, the small-signal( voltage g)ain is = Vo = − r Av gm1g π2 (RV m2 1 + C‖RL) (6.117) s β2 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 442 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 442 Part 1 Semiconductor Devices and Basic Applications An (examinat)ion of Equation (6.117) shows rπ2 β g 2 m ∼ 2 + = + = 1 (6.118) 1 β2 1 β2 The gain of the cascode amplifier is then approximately A ∼ v = −gm1(RC‖RL) (6.119) which is the same as for a single-stage common-emitter amplifier. This result is to be expected since the current gain of the common-base circuit is essentially unity. Test Your Understanding TYU 6.16 Consider the circuit in Figure 6.70(a). Let β = 100, VB E(on) = 0.7 V, and VA = ∞ for each transistor. Assume RB = 10 k , RC = 4 k , IEo = 1 mA, V + = 5 V, and V − = −5 V. (a) Determine the Q-point values for each transistor. (b) Calculate the small-signal hybrid-π parameters for each transistor. (c) Find the overall small-signal voltage gain Av = Vo/Vs . (d) Find the input resistance Ri. (Ans. (a) IC Q1 = 0.0098 mA, VC E Q1 = 1.7 V, IC Q2 = 0.990 mA, VC E Q2 = 2.4 V (b) rπ1 = 265 k , gm1 = 0.377 mA/V, rπ2 = 2.63 k , gm2 = 38.1 mA/V (c) Av = −77.0 (d) Ri = 531 k ) TYU 6.17 Consider the cascode circuit in Figure 6.71(a). Let β = 100, VB E(on) = 0.7 V, and VA = ∞ for each transistor. Let VCC = 9 V and RL = 10 k . (a) Design the circuit such that VC E1 = VC E2 = 2.5 V, VRE = 0.7 V, IC ∼ 1 = IC ∼ 2 = 1 mA, and IR ∼= IR ∼ 1 2 = IR ∼ 3 = 0.1 mA. (Hint: Neglect the dc base currents.) (b) Determine the small-signal hybrid-π parameters for each transistor. (c) Determine the small-signal voltage gain Av = Vo/Vs . (Ans. (a) R1 = 51 k , R2 = 25 k , R3 = 14 k , RE = 0.7 k , RC = 3.3 k ; (b) gm = 38.46 mA/V, rπ = 2.6 k ; (c) Av = −94.5) 6.10 POWER CONSIDERATIONS Objective: • Analyze the ac and dc power dissipation in a transistor amplifier and understand the concept of signal power gain. As mentioned previously, an amplifier produces a small-signal power gain. Since energy must be conserved, the question naturally arises as to the source of this “extra” signal power. We will see that the “extra” signal power delivered to a load is a result of a redistribution of power between the load and the transistor. Consider the simple common-emitter circuit shown in Figure 6.73 in which an ideal signal voltage source is connected at the input. The dc power supplied by the VCC voltage source PCC, the dc power dissipated or supplied to the collector resistor PRC, and the dc power dissipated in the transistor PQ are given, respectively, as"
6.10 Power Considerations,"6.10 POWER CONSIDERATIONS Objective: • Analyze the ac and dc power dissipation in a transistor amplifier and understand the concept of signal power gain. As mentioned previously, an amplifier produces a small-signal power gain. Since energy must be conserved, the question naturally arises as to the source of this “extra” signal power. We will see that the “extra” signal power delivered to a load is a result of a redistribution of power between the load and the transistor. Consider the simple common-emitter circuit shown in Figure 6.73 in which an ideal signal voltage source is connected at the input. The dc power supplied by the VCC voltage source PCC, the dc power dissipated or supplied to the collector resistor PRC, and the dc power dissipated in the transistor PQ are given, respectively, as nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 443 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 443 VCC iC RR C 1 vo CC + vCE – v + s R – 2 Figure 6.73 Simple common-emitter amplifier for power calculations PCC = IC Q VCC + PBias (6.120(a)) PRC = I 2 C Q RC (6.120(b)) and PQ = IC Q VC E Q + IB Q VB E Q ∼= IC Q VC E Q (6.120(c)) The term PBias is the power dissipated in the bias resistors R1 and R2. Normally in a transistor IC Q IB Q , so the power dissipated is primarily a function of the collector current and collector–emitter voltage. If the signal voltage is given by vs = Vp cos ωt (6.121) then the total base current is given by = + V iB I p B Q cos ωt = IB Q + Ib cos ωt (6.122) rπ and the total collector current is iC = IC Q + β Ib cos ωt = IC Q + Ic cos ωt (6.123) The total instantaneous collector-emitter voltage is vC E = VCC − iC RC = VCC − (IC Q + Ic cos ωt)RC = VC E Q − Ic RC cos ωt (6.124) The average power, including ac signals, supplied by the voltage source VCC is given by ∫ 1 T p̄cc = ∫ VCC · iC dt + PT Bias 0 1 T = VT CC · [IC Q + 0 ∫ Ic cos ωt] dt + PBias (6.125) T = VCC IV c CC IC Q + cos ωt dt + PT Bias 0 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 444 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 444 Part 1 Semiconductor Devices and Basic Applications Since the integral of the cosine function over one period is zero, the average power supplied by the voltage source is the same as the dc power supplied. The dc voltage source does not supply additional power. The averag∫e power delivered to∫ the load RC is found from = 1 T T p̄ i2 RC C∫RC dt = RC ∫[IC Q + Ic cos ωt]2 dt T 0 T 0 2 T ∫ = IC Q RC + 2IC Q IT I 2 RT dt c cos ωt dt + c C cos2 ωt dt T 0 T 0 T 0 (6.126) The middle term of this last expression is again zero, sop̄RC = I 2 C Q RC + 1 I 2 2 c RC (6.127) The average power delivered to the load has increased because of the signal source. This is expected in an amplifier. Now, the a∫verage power dissipated in the transistor is 1 T p̄Q = ∫ iC · vC E dt T 0 T (6.128) = 1 [IC Q + Ic cos ωt] · [VC E Q − Ic RC cos ωt] dt T 0 which produces 2 ∫ T p̄ = IV − Ic RC cos2 QC QC E Q ωt dt (6.129(a)) T 0 or p̄Q = IV 1 2 C QC E Q − 2 Ic RC (6.129(b)) From Equation (6.129(b)), we can deduce that the average power dissipated in the transistor decreases when an ac signal is applied. The VCC source still supplies all of the power, but the input signal changes the relative distribution of power between the transistor and the load. Test Your Understanding TYU 6.18 In the circuit in Figure 6.74 the transistor parameters are: β = 80, VB E(on) = 0.7 V, and VA = ∞. Determine the average power dissipated in RC, RL, and Q for: (a) vs = 0, and (b) vs = 18 cos ωt mV. (Ans. (a) p̄RC = 8 mW, p̄RL = 0, p̄Q = 14 mW (b) p̄Q = 13.0 mW, p̄RL = 0.479 mW, p̄RC = 8.48 mW) TYU 6.19 For the circuit in Figure 6.75, the transistor parameters are: β = 100, VB E(on) = 0.7 V, and VA = ∞. (a) Determine RC such that the Q-point is in the center of the load line. (b) Determine the average power dissipated in RC and Q for vs = 0. (c) Considering the maximum symmetrical swing in the output voltage, determine the ratio of maximum signal power delivered to RC to the total power dissipated in RC and the transistor. (Ans. (a) RC = 2.52 k (b) p̄RC = p̄Q = 2.48 mW (c) 0.25) nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 445 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 445 VCC = +12 V VCC = +5 V RC = R1 = 2 kΩ CC2 125 kΩ v R o R1 = 53.8 kΩ C CC1 C QC1 vO Q RL = 2 kΩ v + Rs 2 = R = – 30 kΩ R = v + 2 EC s E – 10 kΩ 0.5 kΩ Figure 6.74 Figure for Exercise TYU 6.18 Figure 6.75 Figure for Exercise TYU 6.19 6.11 DESIGN APPLICATION: AUDIO AMPLIFIER Objective: • Design a bipolar transistor audio amplifier to meet a set of specifications. Specifications: An audio amplifier is to deliver an average power of 0.1 W to an 8 speaker from a microphone that produces a 10 mV peak sinusoidal signal and has a source resistance of 10 k . Design Approach: A direct, perhaps brute force, approach will be taken in this design. The generalized multistage amplifier configuration that will be designed is shown in Figure 6.76. An input buffer stage, which will be an emitter-follower circuit, is to be used to reduce the loading effect of the 10 k source resistance. The output stage will also be an emitter-follower circuit to provide the necessary output current and output signal power. The gain stage will actually be composed of a 2-stage common-emitter amplifier that will provide the necessary voltage gain. We will assume that the entire amplifier system is biased with a 12 volt power supply. Solution (Input Buffer Stage): The input buffer stage, an emitter-follower amplifier, is shown in Figure 6.77. We will assume that the transistor has a current gain of β1 = 100. We will design the circuit so that the quiescent collector current is IC Q1 = 1 mA, the quiescent collector-emitter voltage is VC E Q1 = 6 V, and R1‖R2 = 100 k . Rs = 10 kΩ vo + Buffer Gain Output vi R = 8 Ω – i L stage stage stage L Figure 6.76 Generalized multistage amplifier for design application"
6.11 Design Application: Audio Amplifier,"6.11 DESIGN APPLICATION: AUDIO AMPLIFIER Objective: • Design a bipolar transistor audio amplifier to meet a set of specifications. Specifications: An audio amplifier is to deliver an average power of 0.1 W to an 8 speaker from a microphone that produces a 10 mV peak sinusoidal signal and has a source resistance of 10 k . Design Approach: A direct, perhaps brute force, approach will be taken in this design. The generalized multistage amplifier configuration that will be designed is shown in Figure 6.76. An input buffer stage, which will be an emitter-follower circuit, is to be used to reduce the loading effect of the 10 k source resistance. The output stage will also be an emitter-follower circuit to provide the necessary output current and output signal power. The gain stage will actually be composed of a 2-stage common-emitter amplifier that will provide the necessary voltage gain. We will assume that the entire amplifier system is biased with a 12 volt power supply. Solution (Input Buffer Stage): The input buffer stage, an emitter-follower amplifier, is shown in Figure 6.77. We will assume that the transistor has a current gain of β1 = 100. We will design the circuit so that the quiescent collector current is IC Q1 = 1 mA, the quiescent collector-emitter voltage is VC E Q1 = 6 V, and R1‖R2 = 100 k . Rs = 10 kΩ vo + Buffer Gain Output vi R = 8 Ω – i L stage stage stage L Figure 6.76 Generalized multistage amplifier for design application nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 446 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 446 Part 1 Semiconductor Devices and Basic Applications VCC = 12 V R1 Rs = 10 kΩ Q1 vo1 v + i – R2 RE1 Figure 6.77 Input signal source and input buffer stage (emitter-follower) for design application We find ∼= VCC − VC E Q1 = 12 − 6 RE1 = 6 k IC Q1 1 We obtain rπ1 = β1VT = (100)(0.026) = 2.6 k IC Q1 1 We also have, neglecting the loading effect of the next stage, Ri1 = R1‖R2‖[rπ1 + (1 + β1)RE1] = 100‖[2.6 + (101)(6)] = 85.9 k The small-signal voltage gain, from Equation (6.68) and assuming that ro = ∞, is (again neglecting the loading effect from( the next sta)ge) vo1 (1 + β1)RA E1 Ri1 v1 = = vi rπ1 + (1 +( · β1)RE1 )Ri1 + RS = (101)(6) 85.9 2.6 + · (101)(6) 85.9 + 10 or Av1 = 0.892 For a 10 mV peak input signal voltage, the peak voltage at the output of the buffer stage is now vo1 = 8.92 mV. We find the bias resistors to be R1 = 155 k and R2 = 282 k . Solution (Output Stage): The output stage, another emitter-follower amplifier circuit, is shown in Figure 6.78. The 8 speaker is capacitively coupled to the output of the amplifier. The coupling capacitor ensures that no dc current flows through the speaker. For an average power of 0.1 W to be delivered to the load, the rms value of the load current is found from P 2 L = iL(rms) · R or 0.1 = i2 LL(rms) · 8 which yields iL(rms) = 0.112 A. For a sinusoidal signal, the peak output current is then iL(peak) = 0.158 A nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 447 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 447 VCC = 12 V Ri4 VB4 vo3 Q4 IB4 vo RE4 iL RL = 8 Ω Figure 6.78 Output stage (emitter-follower) for design application and the peak output voltage is vo(peak) = (0.158)(8) = 1.26 V We will assume that the output power transistor has a current gain of β4 = 50. We will set the quiescent transistor parameters at IE Q4 = 0.3 A and VC E Q4 = 6 V Then V R CC − VC E Q4 12 − 6 E4 = = = 20 IE Q4 0.3 We find ( ) ( ) I = β4 50 C Q4 + · IE Q4 = (0.3) = 0.294 A 1 β4 51 Then β4VT (50)(0.026) rπ4 = = = 4.42 IC Q4 0.294 The small-signal voltage gain of the output stage is vo (1 + β A 4)(RE4‖RL) v4 = = vo3 rπ4 + (1 + β4)(RE4‖RL) = (51)(20‖8) = 0.985 4.42 + (51)(20‖8) which is very close to unity, as we would expect. For a required peak output voltage of vo = 1.26 V, we then need a peak voltage at the output of the gain stage to be vo3 = 1.28 V. Solution (Gain Stage): The gain stage, which will actually be a two-stage common-emitter amplifier, is shown in Figure 6.79. We will assume that the buffer stage is capacitively coupled to the input of the amplifier, the two stages of the amplifier are capacitively coupled, and the output of this amplifier is directly coupled to the output stage. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 448 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 448 Part 1 Semiconductor Devices and Basic Applications VCC = 12 V RC2 RR C3 Ri4 Ri2 3 R5 vo3 VC3 = VB4 Q IB4 2 Q3 vo1 vo2 R Ri3 4 R6 RE2 RE3 Figure 6.79 Gain stage (two-stage common-emitter amplifier) for design application We include emitter resistors to help stabilize the voltage gain of the amplifier. Assume that each transistor has a current gain of β = 100. ∣∣The ∣∣overall gain (magnitude) of this amplifier must be ∣∣vo3 ∣∣ = 1.28 = 144 vo1 0.00892 We w∣ ill d∣esig∣∣n the∣∣ amplifier so that the indivi∣∣dual ∣∣gains (magnitudes) are ∣A ∣ = ∣∣vo3 ∣∣ = 5 and |A | = ∣∣vo2 ∣ v3 v2 ∣ = 28.8 vo2 vo1 The dc voltage at the collector of Q3 (with VB E4(on) = 0.7 V) is VC3 = VB4 = 6 + 0.7 = 6.7 V. The quiescent base current to the output transistor is IB4 = 0.294/50 or IB4 = 5.88 mA. If we set the quiescent collector current in Q3 to be IC Q3 = 15 mA, then IRC3 = 15 + 5.88 = 20.88 mA. Then V − V 12 − 6.7 R CC C3 C3 = = ⇒ 254 IRC3 20.88 Also β r 3VT π3 = = (100)(0.026) ⇒ 173 IC Q3 15 We also find Ri4 = rπ4 + (1 + β4)(RE4‖RL) = 4.42 + (51)(20‖8) = 296 The small-signal voltage gain, for a common-emitter amplifier with an emitter resistor, c∣an b∣e written as ∣A ∣ = |vo3 | = β3(RC3‖Ri4) v∣3 ∣ vo2 rπ3 + (1 + β3)RE3 Setting ∣A ∣ v3 = 5, we have = (100)(254‖296) 5 173 + (101)RE3 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 449 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 449 which yields RE3 = 25.4 . If we set R5‖R6 = 50 k , we find R5 = 69.9 k and R6 = 176 k . Finally, if we set VC2 = 6 V and IC Q2 = 5 mA, then = VCC − VC2 = 12 − 6 RC2 = 1.2 k IC Q2 5 Also = β2VT = (100)(0.026) rπ2 = 0.52 k IC Q2 5 and Ri3 = R5‖R6‖ [rπ3 + (1 + β3)RE3] = 50‖[0.173 + (101)(0.0254)] = 2.60 k The expressio∣n for the voltage gain can be written as |A | = ∣∣vo2 v2 ∣∣∣ = β2(RC2‖Ri3) vo1 rπ2 + (1 + β2)RE2 Setting |Av2| = 28.8, we find = (100)(1.2‖2.6) 28.8 0.52 + (101)RE2 which yields RE2 = 23.1 . If we set R3‖R4 = 50 k , we find R3 = 181 k and R4 = 69.1 k . Comment: We may note that, as with any design, there is no unique solution. In addition, to actually build this circuit with discrete components, we would need to use standard values for resistors, which means the quiescent current and voltage values will change, and the overall voltage gain will probably change from the designed value. Also, the current gains of the actual transistors used will probably not be exactly equal to the assumed values. Therefore some slight modifications will likely need to be made in the final design. Discussion: We implicitly assumed that we were designing an audio amplifier, but we have not discussed the frequency response. For example, the coupling capacitors in the design must be large enough to pass audio signal frequencies. The frequency response of amplifiers will be discussed in detail in Chapter 7. We will also see in later chapters, in particular Chapter 8, that a more efficient output stage can be designed. The efficiency of the output stage in this design is relatively small; that is, the average signal power delivered to the load is small compared to the average power dissipated in the output stage. However, this design is a first approximation in the design process. 6.12 SUMMARY • This chapter emphasized the application of bipolar transistors in linear amplifier circuits. The basic process by which a transistor circuit can amplify a small time- varying signal was discussed."
6.12 Summary,"6.12 SUMMARY • This chapter emphasized the application of bipolar transistors in linear amplifier circuits. The basic process by which a transistor circuit can amplify a small time- varying signal was discussed. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 450 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 450 Part 1 Semiconductor Devices and Basic Applications • The hybrid-π small-signal equivalent circuit of the bipolar transistor was developed. This equivalent circuit is used in the analysis and design of transistor linear amplifiers. • Three basic circuit configurations were considered: the common-emitter, emitter- follower, and common-base. These three configurations form the basic building blocks for more complex integrated circuits. • The common-emitter circuit amplifies both time-varying voltages and currents. • The emitter-follower circuit amplifies time-varying currents, and has a large input resistance and low output resistance. • The common-base circuit amplifies time-varying voltages, and has a low input resistance and large output resistance. • Three multitransistor circuits were considered: a cascade configuration of two common-emitter circuits, a Darlington pair, and a cascode configuration formed by common-emitter and common-base circuits. Each configuration provides specialized characteristics such as overall larger voltage gain or an overall larger current gain. • The concept of signal power gain in amplifier circuits was discussed. There is a redistribution of power within the amplifier circuit. • As an application, bipolar transistors were incorporated in the design of a multistage amplifier circuit configuration to provide a specified output signal power. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Explain graphically the amplification process in a simple bipolar amplifier circuit. ✓ Describe the small-signal hybrid-π equivalent circuit of the bipolar transistor and to determine the values of the small-signal hybrid-π parameters. ✓ Apply the small-signal hybrid-π equivalent circuit to various bipolar amplifier circuits to obtain the time-varying circuit characteristics. ✓ Characterize the small-signal voltage and current gains and the input and output resistances of the common-emitter, emitter-follower, and common-base amplifiers. ✓ Determine the maximum symmetrical swing in the output signal of an amplifier. ✓ Apply the bipolar small-signal equivalent circuit in the analysis of multistage amplifier circuits. REVIEW QUESTIONS 1. Discuss, using the concept of a load line, how a simple common-emitter circuit can amplify a time-varying signal. 2. Why can the analysis of a transistor circuit be split into a dc analysis, with all ac sources set equal to zero, and an ac analysis, with all dc sources set equal to zero? 3. What does the term small-signal imply? 4. Sketch the hybrid-π equivalent circuit of an npn and a pnp bipolar transistor. 5. State the relationships of the small-signal hybrid-π parameters gm , rπ , and ro to the transistor dc quiescent values. 6. What are the physical meanings of the hybrid-π parameters rπ and ro? 7. Sketch a simple common-emitter amplifier circuit and discuss the general ac circuit characteristics (voltage gain, current gain, input and output resistances). nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 451 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 451 8. What are the changes in the dc and ac characteristics of a common-emitter amplifier when an emitter resistor and an emitter bypass capacitor are incorporated in the design? 9. Discuss the concepts of a dc load line and an ac load line. 10. Sketch a simple emitter-follower amplifier circuit and discuss the general ac circuit characteristics (voltage gain, current gain, input and output resistances). 11. Sketch a simple common-base amplifier circuit and discuss the general ac circuit characteristics (voltage gain, current gain, input and output resistances). 12. Compare the ac circuit characteristics of the common-emitter, emitter-follower, and common-base circuits. 13. Discuss the general conditions under which a common-emitter amplifier, an emitter-follower amplifier, and a common-base amplifier would be used in an electronic circuit design. 14. State at least two reasons why a multistage amplifier circuit would be required in a design rather than a single-stage circuit. PROBLEMS [Note: In the following problems, assume that the BE turn-on voltage is 0.7 V for both npn and pnp transistors and that VA = ∞ unless otherwise stated. Also assume that all capacitors act as short circuits to the signal.] Section 6.2 The Bipolar Linear Amplifier 6.1 (a) Determine the small-signal parameters gm , rπ , and roof a transistor with parameters β = 180 and VA = 150 V for bias currents of (i) IC Q = 0.5 mA and (ii) IC Q = 2 mA. (b) Repeat part (a) for β = 80 and VA = 100 V when biased at (i) IC Q = 0.25 mA and (ii) IC Q = 80 μA. 6.2 (a) The transistor parameters are β = 125 and VA = 200 V. A value of gm = 95 mA/V is desired. Determine the required collector current and then find rπ and ro. (b) A second transistor has small-signal parameters of gm = 120 mA/V and rπ = 1.2 k . What is the quiescent collector current and the transistor current gain? 6.3 A transistor has a current gain in the range 90 ≤ β ≤ 180 and the quiescent collector current is in the range 0.8 ≤ IC Q ≤ 1.2 mA. What is the possible range in the small-signal parameters gm and rπ ? 6.4 The transistor in Figure 6.3 has parameters β = 120 and VA = ∞. The circuit parameters are VCC = 3.3 V, RC = 15 k , and IC Q = 0.12 mA. A small signal vbe = 5 sin ω t mV is applied. (a) Determine iC and υC E . (b) What is the small-signal voltage gain Av = vce/vbe? 6.5 For the circuit in Figure 6.3, the transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = 80 V. The circuit parameters are VCC = 3.3 V, VB B = 1.10 V, RC = 4 k , and RB = 110 k . (a) Determine the hybrid-π parameters. (b) Find the small-signal voltage gain Av = vo/vs . (c) If the time-varying output signal is given by vo = 0.5 sin(100t) V, what is vs(t)? 6.6 For the circuit in Figure 6.3, β = 120, VCC = 5 V, VA = 100 V, and RB = 25 k . (a) Determine VB Band RC such that rπ = 5.4 k and the Q- point is in the center of the load line. (b) Find the resulting small-signal voltage gain Av = vo/vs ."
Problems,"PROBLEMS [Note: In the following problems, assume that the BE turn-on voltage is 0.7 V for both npn and pnp transistors and that VA = ∞ unless otherwise stated. Also assume that all capacitors act as short circuits to the signal.] Section 6.2 The Bipolar Linear Amplifier 6.1 (a) Determine the small-signal parameters gm , rπ , and roof a transistor with parameters β = 180 and VA = 150 V for bias currents of (i) IC Q = 0.5 mA and (ii) IC Q = 2 mA. (b) Repeat part (a) for β = 80 and VA = 100 V when biased at (i) IC Q = 0.25 mA and (ii) IC Q = 80 μA. 6.2 (a) The transistor parameters are β = 125 and VA = 200 V. A value of gm = 95 mA/V is desired. Determine the required collector current and then find rπ and ro. (b) A second transistor has small-signal parameters of gm = 120 mA/V and rπ = 1.2 k . What is the quiescent collector current and the transistor current gain? 6.3 A transistor has a current gain in the range 90 ≤ β ≤ 180 and the quiescent collector current is in the range 0.8 ≤ IC Q ≤ 1.2 mA. What is the possible range in the small-signal parameters gm and rπ ? 6.4 The transistor in Figure 6.3 has parameters β = 120 and VA = ∞. The circuit parameters are VCC = 3.3 V, RC = 15 k , and IC Q = 0.12 mA. A small signal vbe = 5 sin ω t mV is applied. (a) Determine iC and υC E . (b) What is the small-signal voltage gain Av = vce/vbe? 6.5 For the circuit in Figure 6.3, the transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = 80 V. The circuit parameters are VCC = 3.3 V, VB B = 1.10 V, RC = 4 k , and RB = 110 k . (a) Determine the hybrid-π parameters. (b) Find the small-signal voltage gain Av = vo/vs . (c) If the time-varying output signal is given by vo = 0.5 sin(100t) V, what is vs(t)? 6.6 For the circuit in Figure 6.3, β = 120, VCC = 5 V, VA = 100 V, and RB = 25 k . (a) Determine VB Band RC such that rπ = 5.4 k and the Q- point is in the center of the load line. (b) Find the resulting small-signal voltage gain Av = vo/vs . nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 452 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 452 Part 1 Semiconductor Devices and Basic Applications 6.7 The parameters of each transistor in the circuits shown in Figure P6.7 are β = 120 and IC Q = 0.5 mA. Determine the input resistance Ri for each circuit. V + V + Ri Ri Ri RB = 50 kΩ RB = 100 kΩ RC = 4 kΩ (a) (b) (c) Figure P6.7 6.8 The parameters of each transistor in the circuits shown in Figure P6.8 are β = 130, VA = 80 V, and IC Q = 0.2 mA. Determine the output resistance Ro for each circuit. V + V + V + RC = 10 kΩ RC = 10 kΩ Ro RB = 100 kΩ RR o RB = 50 kΩ o + VBB + + RL = 5 kΩ – V V RC = – BB BB – 4 kΩ (a) (b) (c) Figure P6.8 6.9 The circuit in Figure 6.3 is biased at VCC = 10 V and has a collector resistor of RC = 4 k . The voltage VB Bis adjusted such that VC = 4 V. The transistor has β = 100. The signal voltage between the base and emitter is vbe = 5 sin ωt(mV). Determine the total instantaneous values of iB(t), iC(t), and vC(t), and determine the small-signal voltage gain Av = vc(t)/vbe(t). 6.10 For the circuit in Figure 6.14, β = 100, VA = ∞, VCC = 10 V, and RB = 50 k . (a) Determine VB Band RC such that IC Q = 0.5 mA and the Q-point is in the center of the load line. (b) Find the small-signal parameters gm , rπ , and ro. (c) Determine the small-signal voltage gain Av = vo/vs . 6.11 The ac equivalent circuit shown in Figure 6.7 has RC = 2 k . The transistor parameters are gm = 50 mA/V and β = 100. The time-varying output voltage is given by vo = 1.2 sin ωt (V). Determine vbe(t) and ib(t). nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 453 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 453 Section 6.4 Common-Emitter Amplifier 6.12 The parameters of the transistor in the circuit in Figure P6.12 are β = 150 and VA = ∞. (a) Determine R1 and R2 to obtain a bias-stable circuit with the Q-point in the center of the load line. (b) Determine the small-signal voltage gain Av = vo/vs . V + = +5 V RC = 1.2 kΩ R1 CC vO v + s R – 2 RE = 0.2 kΩ V – = –5 V Figure P6.12 6.13 Assume that β = 100, VA = ∞, R1 = 33 k , and R2 = 50 k for the circuit in Figure P6.13. (a) Plot the Q-point on the dc load line. (b) Determine the small-signal voltage gain. (c) Determine the range in voltage gain if R1 and R2 vary by ±5 percent. D6.14 The transistor parameters for the circuit in Figure P6.13 are β = 100 and VA = ∞. (a) Design the circuit such that it is bias stable and that the Q-point is in the center of the load line. (b) Determine the small-signal voltage gain of the designed circuit. V + = +5 V RC VCC = 3.3 V vO CC RR E = 1 kΩ v + RB = 1 s – 50 kΩ C RS = 100 Ω C vO v + s – R2 RC = 2 kΩ RE CE V – = –5 V Figure P6.13 Figure P6.15 D6.15 For the circuit in Figure P6.15, the transistor parameters are β = 100 and VA = ∞. Design the circuit such that IC Q = 0.25 mA and VC E Q = 3 V. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 454 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 454 Part 1 Semiconductor Devices and Basic Applications Find the small-signal voltage gain Av = vo/vs . Find the input resistance seen by the signal source vs . D6.16 Assume the transistor in the circuit in Figure P6.16 has parameters β = 120 and VA = 100 V. (a) Design a bias-stable circuit such that VC E Q = 5.20 V. (b) Determine the small-signal transresistance function Rm = vo/is . (c) Using the results of part (a), determine the variation in Rm if 100 ≤ β ≤ 150. V + CC = +9 V V = +5 V IEo = 0.80 mA RC = R 2.2 kΩ CC2 1 vo CC CC1 1 CE RL = 1 kΩ v + vs – R oi B s R2 RC = C2 E Ω CE RC io RL = 4 kΩ 2 k V – = –5 V Figure P6.16 Figure P6.17 D6.17 (a) For transistor parameters β = 80 and VA = 100 V, (i) design the circuit in Figure P6.17 such that the dc voltages at the base and collector terminals are 0.20 V and −3 V, respectively, and (ii) determine the small-signal transconductance function G f = io/vs . (b) Repeat part (a) for β = 120 and VA = 80 V. 6.18 The signal source in Figure P6.18 is vs = 5 sin ω t mV. The transistor parameters are β = 120 and VA = ∞. (a) (i) Design the circuit such that IC Q = 0.25 mA and VC E Q = 3 V. (ii) Find the small-signal voltage gain Av = vo/vs . (iii) Find vo(t). (b) Repeat part (a) for RS = 0. V + = +5 V RC CC vo RS = 2.5 kΩ RL = 5 kΩ v + s – CE REV – = –5 V Figure P6.18 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 455 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 455 6.19 Consider the circuit shown in Figure P6.19 where the signal-source is vs = 4 sin ω t mV. (a) For transistor parameters of β = 80 and VA = ∞, (i) find the small-signal voltage gain Av = vo/vs and the transconductance function G f = io/vs , and (ii) calculate vo(t) and io(t). (b) Repeat part (a) for β = 120. VCC = 9 V V + = +5 V R1 = RC = R = 10 kΩ 27 kΩ 2.2 kΩ ER vo S = 10 kΩ CC1 CC2 RS = 2.5 kΩ Ci RL = E o 2 kΩ C is Ri i C + s v v + vs o – s – CR2 = RE = E RC = R Ω L = 15 kΩ 1.2 kΩ 5 k i 5 kΩ o V – = –5 V Figure P6.19 Figure P6.20 6.20 Consider the circuit shown in Figure P6.20. The transistor parameters are β = 100 and VA = 100 V. Determine Ri, Av = vo/vs , and Ai = io/ is . 6.21 The parameters of the transistor in the circuit in Figure P6.21 are β = 100 and VA = 100 V. (a) Find the dc voltages at the base and emitter terminals. (b) Find RC such that VC E Q = 3.5 V. (c) Assuming CC and CE act as short circuits, determine the small-signal voltage gain Av = vo/vs . (d) Repeat part (c) if a 500 source resistor is in series with the vs signal source. V + = +5 V V+ = +5 V RC RC = R1 = 6 kΩ 1 kΩ CC2 vO vo RS = 100 Ω RS = 200 Ω CC1 CC v + RB = RL = 1.2 kΩ s – 10 kΩ v + R2 = s I – = 1.5 kΩ R = CE C 0.35 mA E 0.1 kΩ E V – = –5 V Figure P6.21 Figure P6.22 6.22 For the circuit in Figure P6.22, the transistor parameters are β = 180 and ro = ∞. (a) Determine the Q-point values. (b) Find the small-signal hybrid-π parameters. (c) Find the small-signal voltage gain Av = vo/vs . nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 456 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 456 Part 1 Semiconductor Devices and Basic Applications 6.23 For the circuit in Figure P6.23, the transistor parameters are β = 80 and VA = 80 V. (a) Determine RE such that IE Q = 0.75 mA. (b) Determine RC such that VEC Q = 7 V. (c) For RL = 10 k , determine the small-signal voltage gain Av = vo/vs . (d) Determine the impedance seen by the signal source vs . V + = +9 V V + = +4 V RE RE = 5 kΩ Ri RS = 2 kΩ CE RC S = 1 kΩ C1 CE Ro v + v + vs o vs – RB = 5 kΩ o CC CC2 RR RC = CL RL = 4 kΩ 4 kΩ V – = –9 V V – = –6 V Figure P6.23 Figure P6.24 6.24 The transistor in the circuit in Figure P6.24 has parameters VE B(on) = 0.7 V, VA = 50 V, and a current gain in the range 80 ≤ β ≤ 120. Determine (a) the range in the small-signal voltage gain Av = vo/vs , (b) the range in the input resistance Ri , and (c) the range in the output resistance Ro. D6.25 Design a one-transistor common-emitter preamplifier that can amplify a 10 mV (rms) microphone signal and produce a 0.5 V (rms) output signal. The source resistance of the microphone is 1 k . Use standard resistor values in the design and specify the value of β required. 6.26 For the transistor in the circuit in Figure P6.26, the parameters are β = 100 and VA = ∞. (a) Determine the Q-point. (b) Find the small-signal parameters gm , rπ , and ro. (c) Find the small-signal voltage gain Av = vo/vs and the small-signal current gain Ai = io/ is . (d) Find the input resistances Rib and Ris . (e) Repeat part (c) if RS = 0. V + = +16 V RC = 6.8 kΩ CC2 Ris Rib vo CC1 io RL = RS = 0.5 kΩ 6.8 kΩ v + RB = s – 10 kΩ RE = 3 kΩ V– = –6 V Figure P6.26 nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 457 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 457 6.27 If the collector of a transistor is connected to the base terminal, the transistor continues to operate in the forward-active mode, since the BC junction is not reverse biased. Determine the small-signal resistance, re = vce/ ie , of this two-terminal device in terms of gm, rπ , and ro. D6.28 (a) Design an amplifier with the configuration similar to that shown in Figure 6.31. The circuit is to be biased with VCC = 3.3 V and the source resistance is RS = 100 . The minimum small-signal voltage gain is to be |Av| = 10. The available npn transistors have parameters of β = 120 and VA = ∞. (b) Using the results of part (a), what is the resulting input resistance seen by the signal source and what is the resulting output resistance? D6.29 An ideal signal voltage source is given by vs = 5 sin(5000t) (mV). The peak current that can be supplied by this source is 0.2 μA. The desired output voltage across a 10 k load resistor is vo = 100 sin(5000t) (mV). Design a one-transistor common-emitter amplifier to meet this specification. Use standard resistor values and specify the required value of β . D6.30 Design a one-transistor common-emitter amplifier with a small-signal voltage gain of approximately Av = −10. The circuit is to be biased from a single power supply of VCC = 5 V that can supply a maximum current of 0.8 mA. The input resistance is to be greater than 20 k and the output resistance is to be 5 k . The available transistor is a pnp device with β = 90 and VA = ∞. D6.31 Design a common-emitter circuit whose output is capacitively coupled to a load resistor RL = 10 k . The minimum small-signal voltage gain is to be |Av| = 50. The circuit is to be biased at ±5 V and each voltage source can supply a maximum of 0.5 mA. The parameters of the available transistors are β = 120 and VA = ∞. Section 6.5 AC Load Line Analysis 6.32 Consider the circuit shown in Figure P6.13. Assume R1 = 33 k and R2 = 50 k . The transistor parameters are β = 100 and VA = ∞. Determine the maximum undistorted swing in the output voltage if the total instantaneous EC voltage is to remain in the range 0.5 ≤ vEC ≤ 3 V. 6.33 For the circuit in Figure P6.15, let β = 100, VA = ∞, RE = 12.9 k , and RC = 6 k . Determine the maximum undistorted swing in the output voltage if the total instantaneous CE voltage is to remain in the range 1 ≤ vC E ≤ 9 V and if the total instantaneous collector current is to remain greater or equal to 50 μA. 6.34 Consider the circuit in Figure P6.19. The transistor parameters are β = 80 and VA = ∞. (a) Determine the maximum undistorted swing in the output voltage if the total instantaneous CE voltage is to remain in the range 0.7 ≤ vC E ≤ 9 V and the instantaneous collector is to be iC ≥ 0. (b) Using the results of part (a), determine the range in collector current. 6.35 The parameters of the circuit shown in Figure P6.17 are RB = 20 k and RC = 2.5 k . The transistor parameters are β = 80 and VA = ∞. Determine the maximum undistorted swing in the output current io if the total instantaneous collector current is to be iC ≥ 0.08 mA and the total instantaneous EC voltage is to be in the range 1 ≤ vEC ≤ 9 V. 6.36 Consider the circuit in Figure P6.26 with transistor parameters described in Problem 6.26. Determine the maximum undistorted swing in the output nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 458 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 458 Part 1 Semiconductor Devices and Basic Applications current iC if the total instantaneous collector current is iC ≥ 0.1 mA and the total instantaneous CE voltage is in the range 1 ≤ vC E ≤ 21 V. 6.37 For the circuit in Figure P6.20, the transistor parameters are β = 100 and VA = 100 V. The values of RC , RE , and RL areas shown in the figure. Design a bias-stable circuit to achieve the maximum undistorted swing in the output voltage if the total instantaneous CE voltage is to remain in the range 1 ≤ vC E ≤ 8 V and the minimum collector current is to be iC(min) = 0.1 mA. 6.38 In the circuit in Figure P6.22 with transistor parameters β = 180 and VA = ∞, redesign the bias resistors R1 and R2 to achieve maximum symmetrical swing in the output voltage and to maintain a bias-stable circuit. The total instantaneous CE voltage is to remain in the range 0.5 ≤ vC E ≤ 4.5 V and the total instantaneous collector current is to be iC ≥ 0.25 mA. 6.39 For the circuit in Figure P6.24, the transistor parameters are β = 100 and VA = ∞. (a) Determine the maximum undistorted swing in the output voltage if the total instantaneous EC voltage is to remain in the range 1 ≤ vEC ≤ 9 V. (b) Using the results of part (a), determine the range of collector current. Section 6.6 Common-Collector (Emitter-Follower) Amplifier Rib 6.40 Figure P6.40 shows the ac equivalent circuit of an emitter follower. (a) The transistor parameters are β = 120 and VA = ∞. For RE = 500 , deter- Vi Ro mine IC Q such that the small-signal voltage gain is Av = 0.92. (b) Using V the results of part (a), determine the voltage gain if VA = 20 V. (c) Deter- o R mine the small-signal output resistance Ro for both parts (a) and (b). E 6.41 Consider the ac equivalent circuit in Figure P6.40. The transistor parameters are β = 80 and VA = ∞. (a) Design the circuit (find IC Q and RE) such that Rib = 50 k and Av = 0.95. (b) Using the results of part (a), find Ro. Figure P6.40 6.42 For the ac equivalent circuit in Figure P6.42, RS = 1 k and the transistor parameters are β = 80 and VA = 50 V. (a) For IC Q = 2 mA, find Av , Ri , and Ro. (b) Repeat part (a) for IC Q = 0.2 mA. IR Q S Vi Ro Vo Vo V Rio IR Q S Figure P6.42 Figure P6.43 6.43 The circuit and transistor parameters for the ac equivalent circuit in Figure P6.43 are RS = 0.5 k , β = 120, and VA = ∞. (a) Determine the required value of IQ to produce a small-signal output resistance of Ro = 15 . (b) Using the results of part (a), find the small-signal voltage gain if VA = 50 V. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 459 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 459 6.44 The transistor parameters for the circuit in Figure P6.44 are β = 180 and VA = ∞. (a) Find IC Q and VC E Q . (b) Plot the dc and ac load lines. (c) Calculate the small-signal voltage gain. (d) Determine the input and output resistances Rib and Ro. V + = +9 V R = 1 kΩ R1 = 10 kΩ R1 = 10 kΩ CR RS = 1 kΩ C Rib Ω C ib C1 RS = 5 k C1 RC o RC2 Co C2 v v v + s R2 = o v + – s R2 = o – 10 kΩ RE = 10 kΩ RE = 500 Ω RL = 2 kΩ RL = 300 Ω 2 kΩ V – = –9 V –10 V Figure P6.44 Figure P6.45 6.45 Consider the circuit in Figure P6.45. The transistor parameters are β = 120 and VA = ∞. Repeat parts (a)–(d) of Problem 6.44. 6.46 For the circuit shown in Figure P6.46, let VCC = 3.3 V, RL = 4 k , R1 = 585 k , R2 = 135 k , and RE = 12 k . The transistor parameters are β = 90 and VA = 60 V. (a) Determine the quiescent values IC Q and VEC Q . (b) Plot the dc and ac load lines. (c) Determine Av = vo/vs and Ai = io/ is . (d) Find Rib and Ro. VCC V + = +5 V RE Ro IEo = 0.5 mA R1 CC2 CR vo ib v C1 Co C2 CC1 i R = i R o Li o L + s 0.5 kΩ vs – R2 iv + s Rs B = – 10 kΩ V – = –5 V Figure P6.46 Figure P6.47 6.47 For the transistor in Figure P6.47, β = 80 and VA = 150 V. (a) Determine the dc voltages at the base and emitter terminals. (b) Calculate the small- signal parameters gm , rπ , and ro. (c) Determine the small-signal voltage gain and current gain. (d) Repeat part (c) if a 2 k source resistor is in series with the vs signal source. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 460 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 460 Part 1 Semiconductor Devices and Basic Applications 6.48 Consider the emitter-follower amplifier shown in Figure P6.48. The transistor parameters are β = 100 and VA = 100 V. (a) Find the output resistance Ro. (b) Determine the small-signal voltage gain for (i) RL = 500 and (ii) RL = 5 k . V + = +3 V V+ = +5 V RE = 3.3 kΩ CR RS = 10 kΩ Co + R v vo o R eb C ib CR v io L = v + o s – i 1 kΩ s IQ = v + s 2 mA RL – V – = –3 V V = –5 V Figure P6.48 Figure P6.49 6.49 The transistor parameters for the circuit in Figure P6.49 are β = 110, VA = 50 V, and VE B(on) = 0.7 V. (a) Determine the quiescent values IC Q and VEC Q . (b) Find Av , Rib , and Ro. (c) The signal source is vs(t) = 2.8 sin ω t (V). Determine is(t), io(t), vo(t), and veb(t). D6.50 For the transistor in Figure P6.50, the parameters are β = 100 and VA = ∞. (a) Design the circuit such that IE Q = 1 mA and the Q-point is in the center of the dc load line. (b) If the peak-to-peak sinusoidal output voltage is 4 V, determine the peak-to-peak sinusoidal signals at the base of the transistor and the peak-to-peak value of vs . (c) If a load resistor RL = 1 k is connected to the output through a coupling capacitor, determine the peak- to-peak value in the output voltage, assuming vs is equal to the value determined in part (b). VCC = +10 V VCC = +10 V R1 = RB R 40 kΩ is C RS = 4 kΩ CC1 CR Co C2 RS = 0.7 kΩ is v v O o v + v + s s R2 = – – R 60 kΩ RE = E i R =1 kΩ 5 kΩ o L Figure P6.50 Figure P6.51 6.51 In the circuit shown in Figure P6.51, determine the range in small-signal voltage gain Av = vo/vs and current gain Ai = io/ is if β is in the range 75 ≤ β ≤ 150. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 461 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 461 6.52 The transistor current gain β in the circuit shown in Figure P6.52 is in the range 50 ≤ β ≤ 200. (a) Determine the range in the dc values of IE and VE . (b) Determine the range in the values of input resistance Ri and voltage gain Av = vo/vs . VCC = 9 V Ri RB = 100 kΩ RS = 10 kΩ CC C 2 C1 V + E vo vs – RE = RL = 1 kΩ 1 kΩ Figure P6.52 6.53 Consider the circuit shown in Figure P6.47. The transistor current gain is in the range 100 ≤ β ≤ 180 and the Early voltage is VA = 150 V. Determine the range in small-signal voltage gain if the load resistance varies from RL = 0.5 k to RL = 500 k . 6.54 For the circuit in Figure P6.54, the parameters are VCC = 5 V and RE = 500 . The transistor parameters are β = 120 and VA = ∞. (a) Design the circuit to obtain a small-signal current gain of Ai = io/is = 10 for RL = 500 . Find R1, R2, and also the small-signal output resistance Ro. (b) Using the results of part (a), determine the current gain for RL = 2 k . VCC R1 CC1 RC o C2 is v v + o s – R2 RE io RL Figure P6.54 D6.55 Design an emitter-follower circuit with the configuration shown in Figure 6.49 such that the input resistance Ri , as defined in Figure 6.51, is 120 k . Assume transistor parameters of β = 120 and VA = ∞. Let VCC = 5 V and RE = 2 k . Find new values of R1 and R2. The Q-point should be approximately in the center of the load line. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 462 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 462 Part 1 Semiconductor Devices and Basic Applications D6.56 (a) For the emitter-follower circuit in Figure P6.54, assume VCC = 24 V, β = 75, and Ai = io/ is = 8. Design the circuit to drive an 8 load. (b) Determine the maximum undistorted swing in the output voltage. (c) Determine the output resistance Ro. *D6.57 The output of an amplifier can be represented by vs = 4 sin ωt (V) and RS = 4 k . An emitter-follower circuit, with the configuration shown in Figure 6.54, is to be designed such that the output signal does not vary by more than 5 percent when a load in the range RL = 4 to 10 k is connected to the output. The transistor current gain is in the range 90 ≤ β ≤ 130 and the Early voltage is VA = ∞. For your design, find the minimum and maximum possible value of the output voltage. *D6.58 An emitter-follower amplifier, with the configuration shown in Figure 6.54, is to be designed such that an audio signal given by vs = 5 sin(3000t) V but with a source resistance of RS = 10 k can drive a small speaker. Assume the supply voltages are V + = +12 V and V − = −12 V. The load, representing the speaker, is RL = 12 . The amplifier should be capable of delivering approximately 1 W of average power to the load. What is the signal power gain of your amplifier? Section 6.7 Common-Base Amplifier 6.59 Figure P6.59 is an ac equivalent circuit of a common-base amplifier. The transistor parameters are β = 120, VA = ∞, and IC Q = 1 mA. Determine (a) the voltage gain Av = Vo/Vi , (b) the current gain Ai = Io/Ii , (c) the input resistance Ri , and (d) the output resistance Ro. Ri Ro Ri Roc Ro Vi Vo Vi Vo Ii Ii IRC = IQ = RC = o I RL = 2 kΩ 2 mA 1.5 kΩ o 2.5 kΩ Figure P6.59 Figure P6.60 6.60 The transistor in the ac equivalent circuit shown in Figure P6.60 has parameters β = 80 and VA = ∞. Determine (a) the voltage gain Av = Vo/Vi , (b) the current gain Ai = Io/Ii , and (c) the input resistance Ri . (d) If VA = 80 V, find (i) the output resistance Roc and (ii) the output resistance Ro. 6.61 Consider the ac equivalent common-base circuit shown in Figure P6.61. The transistor has parameters β = 110 and VA = ∞. Determine (a) the voltage gain Av = Vo/Vi , (b) the current gain Ai = Io/Ii , (c) the input resistance Ri , and (d) the output resistance Ro. nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 463 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 463 Ri Ro RS = 1 kΩ Vi Vo Ii IQ = IRC = 0.5 mA o 4 kΩ Figure P6.61 6.62 Figure P6.62 shows an ac equivalent circuit of a common-base amplifier. The parameters of the transistor are β = 120, VB E(on) = 0.7 V, and VA = ∞. (a) Determine the quiescent values IC Q and VC E Q . (b) Find the small-signal voltage gain Av = Vo/Vi . (c) Find the small-signal current gain Ai = Io/Ii . IQ = 1.5 mA CC Vi Vo Ii IR RL = 1 = 5 kΩ o 10 kΩ CR2 = B 2.8 kΩ Figure P6.62 6.63 The transistor in the circuit shown in Figure P6.63 has β = 100 and VA = ∞. (a) Determine the quiescent values IC Q and VEC Q . (b) Determine the small-signal voltage gain Av = vo/vs . 6.64 Repeat Problem 6.63 with a 100 resistor in series with the vs signal source. CC1 CC2 CC1 CC2 vo vo + RE = R v C = RL = + Is Ω Ω Ω v Q = RC = RL = – 10 k 5 k 50 ks – 1 mΑ 2 kΩ 10 kΩ V + – + = +10 V V – = –10 V V = –5 V V = +5 V Figure P6.63 Figure P6.65 6.65 Consider the common-base circuit in Figure P6.65. The transistor has parameters β = 120 and VA = ∞. (a) Determine the quiescent VC E Q . (b) Determine the small-signal voltage gain Av = vo/vs . nea80644_ch06_369-468.qxd 06/13/2009 07:32 PM Page 464 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 464 Part 1 Semiconductor Devices and Basic Applications 6.66 For the circuit shown in Figure P6.66, the transistor parameters are β = 100 and VA = ∞. (a) Determine the dc voltages at the collector, base, and emitter terminals. (b) Determine the small-signal voltage gain Av = vo/vs . (c) Find the input resistance Ri . V + = +5 VI = 0.5 mA v C CC s C1 CC2 Riv Co C1 vo i RS = RC Cs RR = C2 100 kΩ RL S 1 R = R 50 Ω ERE = L 1 kΩ + 1 kΩ R = 100 kΩ v + BC RV s – B 2 CC – Figure P6.66 Figure P6.67 6.67 The parameters of the circuit in Figure P6.67 are VCC = 9 V, RL = 4 k , RC = 6 k , RE = 3 k , R1 = 150 k , and R2 = 50 k . The transistor parameters are β = 125, VB E(on) = 0.7 V, and VA = ∞. The input signal is a current. (a) Determine the Q-point values. (b) Determine the transresistance function Rm = vo/is . (c) Find the small-signal voltage gain Av = vo/vs . 6.68 For the common-base circuit shown in Figure P6.67, let VCC = 5 V, RL = 12 k , and RE = 500 . The transistor parameters are β = 100 and VA = ∞. (a) Design the circuit such that the minimum small-signal voltage gain is Av = vo/vs = 25. (b) What are the Q-point values? (c) Determine the small-signal voltage gain if R2 is bypassed by a large capacitor. 6.69 Consider the circuit shown in Figure P6.69. The transistor has parameters β = 60 and VA = ∞. (a) Determine the quiescent values of IC Q and VC E Q . (b) Determine the small-signal voltage gain Av = vo/vs . V + = +5 V IQ = 1.0 mA CC vo RS = RL = 50 Ω Ω 2 kΩ RB = 100 k CB v + s – Figure P6.69 *D6.70 A photodiode in an optical transmission system, such as shown in Figure 1.40, can be modeled as a Norton equivalent circuit with is in parallel nea80644_ch06_369-468.qxd 06/13/2009 07:33 PM Page 465 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 465 with RS as shown in Figure P6.67. Assume that the current source is given by is = 2.5 sin ωtμA and RS = 50 k . Design the common-base circuit of Figure P6.67 such that the output voltage is vo = 5 sin ωt mV. Assume transistor parameters of β = 120 and VA = ∞. Let VCC = 5 V. 6.71 In the common-base circuit shown in Figure P6.71, the transistor is a 2N2907A, with a nominal dc current gain of β = 80. (a) Determine IC Q and VEC Q . (b) Using the h-parameters (assuming hre = 0), determine the range in small-signal voltage gain Av = vo/vs . (c) Determine the range in input and output resistances Ri and Ro. Ri RC Co RS = 1 kΩ C1 C2 vo RE = RC = 10 kΩ 6.5 kΩ v + RL = s – + – 5 kΩ VEE = VCC = 20 V 25 V – + Figure P6.71 *D6.72 In the circuit of Figure P6.71, let VE E = VCC = 5 V, β = 100, VA = ∞, RL = 1 k , and RS = 0. (a) Design the circuit such that the small-signal voltage gain is Av = vo/vs = 25 and VEC Q = 3 V. (b) What are the values of the small-signal parameters gm , rπ , and ro? Section 6.9 Multistage Amplifiers 6.73 Consider the ac equivalent circuit in Figure P6.73. The transistor parameters are β1 = 120, β2 = 80, VA1 = VA2 = ∞, and IC Q1 = IC Q2 = 1 mA. (a) Find the small-signal voltage gain Av1 = Vo1/Vi . (b) Determine the small- signal voltage gain Av2 = Vo2/Vo1. (c) Find the overall small-signal voltage gain Av = Vo2/Vi . RE2 = 4 kΩ Vi Q1 Vi Q V 1 o2 Vo1 Q Vo1 2 Vo2 Q2 RE = RC = RC1 = 1 kΩ 4 kΩ 4 kΩ Figure P6.73 Figure P6.74 6.74 The transistor parameters in the ac equivalent circuit shown in Figure P6.74 are β1 = β2 = 100, VA1 = VA2 = ∞, IC Q1 = 0.5 mA, and IC Q2 = 2 mA. nea80644_ch06_369-468.qxd 06/13/2009 07:33 PM Page 466 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 466 Part 1 Semiconductor Devices and Basic Applications (a) Find the small-signal voltage gain Av1 = Vo1/Vi . (b) Determine the small-signal voltage gain Av2 = Vo2/Vo1. (c) Determine the overall small- signal voltage gain Av = Vo2/Vi . *6.75 The parameters for each transistor in the circuit shown in Figure P6.75 are β = 100 and VA = ∞. (a) Determine the small-signal parameters gm , rπ , and ro for both transistors. (b) Determine the small-signal voltage gain Av1 = vo1/vs , assuming vo1 is connected to an open circuit, and determine the gain Av2 = vo/vo1. (c) Determine the overall small-signal voltage gain Av = vo/vs . Compare the overall gain with the product Av1 · Av2, using the values calculated in part (b). VCC = +10 V R = RC2 = R1 = C1 R 2 kΩ 3 = 4 kΩ Ω 85 kΩ C 80 k v C3 o1 CC v 1 o Q1 CC2 Q2 R = R = R = L v + 2 4 s 4 kΩ – 20 kΩ RE1 = 15 kΩ RE2 = 1 kΩ CE1 0.5 kΩ CE2 Figure P6.75 VCC = +12 V R = R1 = C1 R = 10 kΩ 3 R 67.3 kΩ 15 kΩ is CC1 Q1 CC2 Q2 Ro CC3 R = R = vo v + 2 4 s – 12.7 kΩ RE1 = 45 kΩ RE2 = RL = 2 kΩ CE 1.6 kΩ 250 Ω Figure P6.76 *6.76 Consider the circuit shown in Figure P6.76 with transistor parameters β = 120 and VA = ∞. (a) Determine the small-signal parameters gm , rπ , and ro for both transistors. (b) Plot the dc and ac load lines for both transistors. (c) Determine the overall small-signal voltage gain Av = vo/vs . (d) Determine the input resistance Ris and the output resistance Ro. (e) Determine the maximum undistorted swing in the output voltage. 6.77 The transistor parameters for the circuit in Figure P6.77 are β1 = 120, β2 = 80, VB E1(on) = VB E2(on) = 0.7 V, and VA1 = VA2 = ∞. (a) Determine the quiescent collector current in each transistor. (b) Find the small- signal voltage gain Av = vo/vs . (c) Determine the input and output resistances Rib and Ro. nea80644_ch06_369-468.qxd 06/13/2009 07:33 PM Page 467 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: Chapter 6 Basic BJT Amplifiers 467 VCC = 9 V VCC = +10 V Rib QR 1 R = C = 1 R Ω 2.2 kΩ o Ris 335 k v + s Q vo – 2 Q1 + 0.5 kΩ R CC Q o 2 5 V – + R2 = v v o s – 125 kΩ RE2 = C 50 Ω E 1 kΩ Figure P6.77 Figure P6.78 *6.78 For each transistor in Figure P6.78, the parameters are β = 100 and VA = ∞. (a) Determine the Q-point values for both Q1 and Q2. (b) Determine the overall small-signal voltage gain Av = vo/vs . (c) Determine the input and output resistances Ris and Ro. 6.79 An ac equivalent circuit of a Darlington pair configuration is shown in Figure P6.79. The transistor parameters are β1 = 120, β2 = 80, VA1 = 80 V, and VA2 = 50 V. Determine the output resistance Ro for (a) IC2 = IBias = 1 mA; (b) IC2 = 1 mA, IBias = 0.2 mA; and (c) IC2 = 2 mA, IBias = 0. R o IC2 Q1 Q2 AC ground I Bias Figure P6.79 Section 6.10 Power Considerations 6.80 Consider the circuit in Figure 6.31. The circuit and transistor parameters are given in Exercise Ex 6.5. (a) Determine the average power dissipated in the transistor, RC , and RE for vs = 0. (b) Repeat part (a) for vs = 100 sin ω t (mV). 6.81 Consider the circuit shown in Figure 6.38. The transistor parameters are given in Exercise Ex 6.7. (a) Calculate the average power dissipated in the transistor, RC , and RE for vs = 0. (b) Determine the maximum undistorted signal power that can be delivered to RC for the condition that iC ≥ 0 and 0.5 ≤ vC E ≤ 9 V. nea80644_ch06_369-468.qxd 06/13/2009 08:21 PM Page 468 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-06: 468 Part 1 Semiconductor Devices and Basic Applications 6.82 For the circuit shown in Figure 6.43, use the circuit and transistor parameters described in Example 6.9. (a) Calculate the average power dissipated in the transistor, RE , and RC , for vs = 0. (b) Determine the maximum signal power that can be delivered to RL . What are the signal powers dissipated in RE and RC , and what is the average power dissipated in the transistor in this case? 6.83 For the circuit shown in Figure 6.57, the transistor parameters are β = 100 and VA = 100 V, and the source resistor is RS = 0. Determine the maximum undistorted signal power that can be delivered to RL if: (a) RL = 1 k, and (b) RL = 10 k. 6.84 Consider the circuit shown in Figure 6.64 with parameters given in Exercise TYU 6.14. (a) Calculate the average power dissipated in the transistor and RC , for vs = 0. (b) Determine the maximum undistorted signal power that can be delivered to RL , and the resulting average power dissipated in the transistor and RC . COMPUTER SIMULATION PROBLEMS 6.85 (a) Using a computer simulation, verify the results of Exercise Ex 6.5. (b) Repeat part (a) for Early voltages of (i) VA = 100 V and (ii) VA = 50 V. 6.86 (a) Using a computer simulation, verify the results of Exercise TYU 6.7. (b) Repeat part (a) for an Early voltage of VA = 50 V. 6.87 Using a computer simulation, verify the results of Example 6.10. 6.88 Using a computer simulation, verify the results of Exercise Ex 6.15 for the multitransistor amplifier. DESIGN PROBLEMS [Note: Each design should be correlated with a computer simulation.] *D6.89 Design a common-emitter amplifier with the general configuration shown in Figure 6.39 except with a pnp transistor. The magnitude of the small-signal voltage gain should be |Av| = 50 while driving a load RL = 10 k. Bias the circuit at ±3.3 V. *D6.90 Consider the circuit in Figure 6.20. Let VCC = 5 V, RL = 10 k, β = 120, and VA = ∞. Design the circuit such that the small-signal current gain is Ai = 20 and such that the maximum undistorted swing in the output voltage is achieved. *D6.91 A microphone puts out a peak voltage of 2 mV and has an output resistance of 5 k. Design an amplifier system to drive a 24  speaker, producing 0.5 W of signal power. Assume a current gain of β = 50 for all available transistors. Specify the current and power ratings of the transistors. *D6.92 Redesign the two-stage amplifier in Figure 6.66 such that the voltage gain of each stage is Av1 = Av2 = −50. Assume transistor current gains of βnpn = 150 and βpnp = 110. The total power dissipated in the circuit should be limited to 25 mW. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 469 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Frequency Response 7 Thus far in our linear amplifier analyses, we have assumed that coupling capacitors and bypass capacitors act as short circuits to the signal voltages and open circuits to dc voltages. However, capacitors do not change instantaneously from a short circuit to an open circuit as the frequency approaches zero. We have also assumed that transistors are ideal in that output signals respond instantaneously to input signals. However, there are internal capacitances in both the bipolar transistor and field-effect transistor that affect the frequency response. The major goal of this chapter is to determine the frequency response of amplifier circuits due to circuit capacitors and transistor capacitances. PREVIEW In this chapter, we will: • Discuss the general frequency response characteristics of amplifiers. • Derive the system transfer functions of two simple RC circuits, develop the Bode plots for the magnitude and phase of the transfer functions, and become familiar with sketching the Bode diagrams. • Analyze the frequency response of transistor circuits with capacitors. • Determine the frequency response of the bipolar transistor, and determine the Miller effect and Miller capacitance. • Determine the frequency response of the MOS transistor, and determine the Miller effect and Miller capacitance. • Determine the high-frequency response of basic transistor circuit configurations including the cascode circuit. • As an application, design a two-stage BJT amplifier with coupling capacitors such that the 3 dB frequencies associated with each stage are equal. 469 Chapter"
Chapter 7: Frequency Response,"7: Frequency Response 7 Thus far in our linear amplifier analyses, we have assumed that coupling capacitors and bypass capacitors act as short circuits to the signal voltages and open circuits to dc voltages. However, capacitors do not change instantaneously from a short circuit to an open circuit as the frequency approaches zero. We have also assumed that transistors are ideal in that output signals respond instantaneously to input signals. However, there are internal capacitances in both the bipolar transistor and field-effect transistor that affect the frequency response. The major goal of this chapter is to determine the frequency response of amplifier circuits due to circuit capacitors and transistor capacitances. PREVIEW In this chapter, we will: • Discuss the general frequency response characteristics of amplifiers. • Derive the system transfer functions of two simple RC circuits, develop the Bode plots for the magnitude and phase of the transfer functions, and become familiar with sketching the Bode diagrams. • Analyze the frequency response of transistor circuits with capacitors. • Determine the frequency response of the bipolar transistor, and determine the Miller effect and Miller capacitance. • Determine the frequency response of the MOS transistor, and determine the Miller effect and Miller capacitance. • Determine the high-frequency response of basic transistor circuit configurations including the cascode circuit. • As an application, design a two-stage BJT amplifier with coupling capacitors such that the 3 dB frequencies associated with each stage are equal. 469 Chapter"
Preview,"PREVIEW In this chapter, we will: • Discuss the general frequency response characteristics of amplifiers. • Derive the system transfer functions of two simple RC circuits, develop the Bode plots for the magnitude and phase of the transfer functions, and become familiar with sketching the Bode diagrams. • Analyze the frequency response of transistor circuits with capacitors. • Determine the frequency response of the bipolar transistor, and determine the Miller effect and Miller capacitance. • Determine the frequency response of the MOS transistor, and determine the Miller effect and Miller capacitance. • Determine the high-frequency response of basic transistor circuit configurations including the cascode circuit. • As an application, design a two-stage BJT amplifier with coupling capacitors such that the 3 dB frequencies associated with each stage are equal. 469 Chapter nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 470 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 470 Part 1 Semiconductor Devices and Basic Applications 7.1 AMPLIFIER FREQUENCY RESPONSE Objective: • Discuss the general frequency response characteristics of amplifiers. All amplifier gain factors are functions of signal frequency. These gain factors include voltage, current, transconductance, and transresistance. Up to this point, we have assumed that the signal frequency is high enough that coupling and bypass capacitors can be treated as short circuits and, at the same time, we have assumed that the signal frequency is low enough that parasitic, load, and transistor capacitances can be treated as open circuits. In this chapter, we consider the amplifier response over the entire frequency range. In general, an amplifier gain factor versus frequency will resemble that shown in Figure 7.1.1 Both the gain factor and frequency are plotted on logarithmic scales (the gain factor in terms of decibels). Three frequency ranges, low, midband, and high, are indicated. In the low-frequency range, f < fL , the gain decreases as the frequency decreases because of coupling and bypass capacitor effects. In the high- frequency range, f > fH , stray capacitance and transistor capacitance effects cause the gain to decrease as the frequency increases. The midband range is the region where coupling and bypass capacitors act as short circuits, and stray and transistor capacitances act as open circuits. In this region, the gain is almost a constant. As we will show, the gain at f = fL and at f = fH is 3 dB less than the maximum midband gain. The bandwidth of the amplifier (in Hz) is defined as fBW = fH − fL . |A( jf )|dB Low-frequency High-frequency range range Midband |Am |dB 3 dB 3 dB f L fH f (Hz) (log scale) Figure 7.1 Amplifier gain versus frequency For an audio amplifier, for example, signal frequencies in the range of 20 Hz < f < 20 kHz need to be amplified equally so as to reproduce the sound as accurately as possible. Therefore, in the design of a good audio amplifier, the frequency fL must be designed to be less than 20 Hz and fH must be designed to be greater than 20 kHz. 1In many references, the gain is plotted as a function of the radian frequency ω. All curves in this chapter, for consistency, will be plotted as a function of cyclical frequency f (Hz). We note that ω = 2π f . The amplifier gain is also plotted in terms of decibels (dB), where |A|dB = 20 log10 |A|."
7.1 Amplifier Frequency Response,"7.1 AMPLIFIER FREQUENCY RESPONSE Objective: • Discuss the general frequency response characteristics of amplifiers. All amplifier gain factors are functions of signal frequency. These gain factors include voltage, current, transconductance, and transresistance. Up to this point, we have assumed that the signal frequency is high enough that coupling and bypass capacitors can be treated as short circuits and, at the same time, we have assumed that the signal frequency is low enough that parasitic, load, and transistor capacitances can be treated as open circuits. In this chapter, we consider the amplifier response over the entire frequency range. In general, an amplifier gain factor versus frequency will resemble that shown in Figure 7.1.1 Both the gain factor and frequency are plotted on logarithmic scales (the gain factor in terms of decibels). Three frequency ranges, low, midband, and high, are indicated. In the low-frequency range, f < fL , the gain decreases as the frequency decreases because of coupling and bypass capacitor effects. In the high- frequency range, f > fH , stray capacitance and transistor capacitance effects cause the gain to decrease as the frequency increases. The midband range is the region where coupling and bypass capacitors act as short circuits, and stray and transistor capacitances act as open circuits. In this region, the gain is almost a constant. As we will show, the gain at f = fL and at f = fH is 3 dB less than the maximum midband gain. The bandwidth of the amplifier (in Hz) is defined as fBW = fH − fL . |A( jf )|dB Low-frequency High-frequency range range Midband |Am |dB 3 dB 3 dB f L fH f (Hz) (log scale) Figure 7.1 Amplifier gain versus frequency For an audio amplifier, for example, signal frequencies in the range of 20 Hz < f < 20 kHz need to be amplified equally so as to reproduce the sound as accurately as possible. Therefore, in the design of a good audio amplifier, the frequency fL must be designed to be less than 20 Hz and fH must be designed to be greater than 20 kHz. 1In many references, the gain is plotted as a function of the radian frequency ω. All curves in this chapter, for consistency, will be plotted as a function of cyclical frequency f (Hz). We note that ω = 2π f . The amplifier gain is also plotted in terms of decibels (dB), where |A|dB = 20 log10 |A|. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 471 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 471 7.1.1 Equivalent Circuits Each capacitor in a circuit is important at only one end of the frequency spectrum. For this reason, we can develop specific equivalent circuits that apply to the low- frequency range, to midband, and to the high-frequency range. Midband Range The equivalent circuits used for calculations in the midband range are the same as those considered up to this point in the text. As already mentioned, the coupling and bypass capacitors in this region are treated as short circuits. The stray and transistor capacitances are treated as open circuits. In this frequency range, there are no capacitances in the equivalent circuit. These circuits are referred to as midband equivalent circuits. Low-Frequency Range In this frequency range, we use a low-frequency equivalent circuit. In this region, coupling and bypass capacitors must be included in the equivalent circuit and in the amplification factor equations. The stray and transistor capacitances are treated as open circuits. The mathematical expressions obtained for the amplification factor in this frequency range must approach the midband results as f approaches the midband frequency range, since in this limit the capacitors approach short-circuit conditions. High-Frequency Range In the high-frequency range, we use a high-frequency equivalent circuit. In this region, coupling and bypass capacitors are treated as short circuits. The transistor and any parasitic or load capacitances must be taken into account in this equivalent circuit. The mathematical expressions obtained for the amplification factor in this frequency range must approach the midband results as f approaches the midband frequency range, since in this limit the capacitors approach open-circuit conditions. 7.1.2 Frequency Response Analysis Using the three equivalent circuits just considered rather than a complete circuit is an approximation technique that produces useful hand-analysis results while avoiding complex transfer functions. This technique is valid if there is a large separation between fL and fH, that is fH  fL . This condition is satisfied in many electronic circuits that we will consider. Computer simulations, such as PSpice, can take into account all capacitances and can produce frequency response curves that are more accurate than the hand- analysis results. However, the computer results do not provide any physical insight into a particular result and hence do not provide any suggestions as to design changes that can be made to improve a particular frequency response. A hand analysis can provide insight into the “whys and wherefores” of a particular response. This basic understanding can then lead to a better circuit design. In the next section, we introduce two simple circuits to begin our frequency analysis study. We initially derive the mathematical expressions relating output voltage to input voltage (transfer function) as a function of signal frequency. From these functions, we can develop the response curves. The two frequency response curves give the magnitude of the transfer function versus frequency and the phase of the nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 472 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 472 Part 1 Semiconductor Devices and Basic Applications transfer function versus frequency. The phase response relates the phase of the output signal to the phase of the input signal. We will then develop a technique by which we can easily sketch the frequency response curves without resorting to a full analysis of the transfer function. This simplified approach will lead to a general understanding of the frequency response of electronic circuits. We will then rely on a computer simulation to provide more detailed calculations when required. 7.2 SYSTEM TRANSFER FUNCTIONS Objective: • Derive the system transfer functions of two circuits, develop the Bode diagrams of the magnitude and phase of the transfer functions, and become familiar with sketching the Bode diagrams. The frequency response of a circuit is usually determined by using the complex frequency s. Each capacitor is represented by its complex impedance, 1/sC, and each inductor is represented by its complex impedance, sL. The circuit equations are then formulated in the usual way. Using the complex frequency, the mathematical expressions obtained for voltage gain, current gain, input impedance, or output impedance are ratios of polynomials ins. We will be concerned in many cases with system transfer functions. These will be in the form of ratios of, for example, output voltage to input voltage (voltage transfer function) or output current to input voltage (transconductance function). The four general transfer functions are listed in Table 7.1. Once a transfer function is found, we can find the result of a steady-state sinusoidal excitation by settings = jω = j2π f . The ratio of polynomials ins then reduces to a complex number for each frequency f. The complex number can be reduced to a magnitude and a phase. Table 7.1 Transfer functions of the complex frequency s Name of function Expression Voltage transfer function T(s) = Vo(s)/Vi(s) Current transfer function Io(s)/Ii(s) Transresistance function Vo(s)/Ii(s) Transconductance function Io(s)/Vi(s) 7.2.1 s-Domain Analysis In general, a transfer function in the s-domain can be expressed in the form = (s − z1)(s − z2) · · · (s − z ) Tm (s) K (s − p1)(s − (7.1) p2) · · · (s − pn) where K is a constant, z1, z2, . . . , zm are the transfer function “zeros,” and p1, p2, . . . , pn are the transfer function “poles.” When the complex frequency is"
7.2 System Transfer Functions,"7.2 SYSTEM TRANSFER FUNCTIONS Objective: • Derive the system transfer functions of two circuits, develop the Bode diagrams of the magnitude and phase of the transfer functions, and become familiar with sketching the Bode diagrams. The frequency response of a circuit is usually determined by using the complex frequency s. Each capacitor is represented by its complex impedance, 1/sC, and each inductor is represented by its complex impedance, sL. The circuit equations are then formulated in the usual way. Using the complex frequency, the mathematical expressions obtained for voltage gain, current gain, input impedance, or output impedance are ratios of polynomials ins. We will be concerned in many cases with system transfer functions. These will be in the form of ratios of, for example, output voltage to input voltage (voltage transfer function) or output current to input voltage (transconductance function). The four general transfer functions are listed in Table 7.1. Once a transfer function is found, we can find the result of a steady-state sinusoidal excitation by settings = jω = j2π f . The ratio of polynomials ins then reduces to a complex number for each frequency f. The complex number can be reduced to a magnitude and a phase. Table 7.1 Transfer functions of the complex frequency s Name of function Expression Voltage transfer function T(s) = Vo(s)/Vi(s) Current transfer function Io(s)/Ii(s) Transresistance function Vo(s)/Ii(s) Transconductance function Io(s)/Vi(s) 7.2.1 s-Domain Analysis In general, a transfer function in the s-domain can be expressed in the form = (s − z1)(s − z2) · · · (s − z ) Tm (s) K (s − p1)(s − (7.1) p2) · · · (s − pn) where K is a constant, z1, z2, . . . , zm are the transfer function “zeros,” and p1, p2, . . . , pn are the transfer function “poles.” When the complex frequency is nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 473 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 473 equal to a zero, s = zi , the transfer function is zero; when the complex frequency is RC SS equal to a pole, s = pi , the transfer function diverges and becomes infinite. The Vo transfer function can be evaluated for physical frequencies by replacing s with jω. In + general, the resulting transfer function T ( jω) is a complex function, that is, its mag- Vi – RP nitude and phase are both functions of frequency. These topics are usually discussed in a basic circuit analysis course. To introduce the frequency response analysis of transistor circuits, we will examine the circuits shown in Figures 7.2 and 7.3. The voltage transfer function for Figure 7.2 Series coupling the circuit in Figure 7.2 can be expressed in a voltage divider format, as follows: capacitor circuit Vo(s) = RP (7.2) Vi (s) 1 RR + R + SS P V sC o S The elements RS and CS are in series between the input and output signals, and the V + i R – PCP element RP is in parallel with the output signal. Equation (7.2) can be written in the form Vo(s) = s RPCS + + (7.3) V (s) 1 s(RR )C Figure 7.3 Parallel load i SP S capacitor circuit which can be r(earranged a)n[d written as ] ( ) Vo(s) = RP s(RS + RP)CS = sτ Ks (7.4) Vi (s) RS + RP 1 + s(RS + RP)CS 1 + sτs where τS is a time constant and is given by τS = (RS + RP)CS . Writing a Kirchhoff current law (KCL) equation at the output node, we can determine the voltage transfer function for the circuit shown in Figure 7.3, as follows: Vo − Vi + Vo + Vo = 0 (7.5) RS RP (1/sCP) In this case, the element RS is in series between the input and output signals, and the elements RP and CP are in parallel with the output signal. Rearranging the terms in Equation (7.5) produces ( )⎡ ⎤ Vo(s) = RP ⎢⎣⎢ ( 1 ) ⎥⎥ (7.6) Vi (s) RS + R ⎦ PR R 1 + s SP + C RS RP P or ( )[ ] ( ) Vo(s) = RP 1 = 1 + + ‖ K + (7.7) Vi (s) RS RP 1 s(RS RP)CP 1 sτP where τP is also a time constant and is given by τP = (RS‖RP)CP . 7.2.2 First-Order Functions In our hand analysis of transistor circuits in this chapter, we will, in general, limit ourselves to the consideration of only one capacitance at a time. We will therefore be dealing with first-order transfer functions that, in most cases, will have the general form of either Equation (7.4) or (7.7). This simplified analysis will allow us to present the frequency responses of specific capacitances and of the transistors nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 474 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 474 Part 1 Semiconductor Devices and Basic Applications themselves. We will then compare our hand analysis results with more rigorous solutions, using a computer simulation. 7.2.3 Bode Plots A simplified technique for obtaining approximate plots of the magnitude and phase of a transfer function, given the poles and zeros or the equivalent time constants, was developed by H. Bode, and the resulting diagrams are called Bode plots. Qualitative Discussion: Initially, we will consider the magnitude of the voltage transfer function versus frequency. Before we delve into the mathematics, we can qualitatively determine the general characteristics of this plot. The capacitor CS in Figure 7.2 is in series between the input and output terminals. This capacitor then behaves as a coupling capacitor. In the limit of zero frequency (the input signal is a constant dc voltage), the impedance of the capacitor is infinite (an open circuit). In this case, then, the input signal does not get coupled to the output terminal so the output voltage is zero. In this case, the magnitude of the voltage transfer function is zero. In the limit of a very high frequency, the impedance of the capacitor becomes very small (approaching a short circuit). In this situation, the magnitude of the output voltage reaches a constant value given by a voltage divider, or Vo = [RP/(RP + RS)] · Vi . We therefore expect the magnitude of the transfer function to start at zero for zero frequency, increase for increasing frequency, and reach a constant value at a relatively high frequency. Bode Plot for Figure 7.2 Mathematical Derivation: For the transfer function in Equation (7.4), corresponding to the circuit in Figure 7.2, if we replaces by jω and define a time constant τs as τs = (RS + RP)CS , we ob(tain )[ ] = Vo( jω) RP jωτ TS ( jω) = (7.8) Vi ( jω) RS + RP 1 + jωτS The magnitude o(f Equation) (7⎡.8) is ⎤ | R ωτ T ( j | = P ⎣√ S ω) ⎦ + (7.9(a)) RS RP 1 + ω2τ 2 S or ( )[ | RT j f | = P ( ) + √ ] 2π f τS (7.9(b)) RS RP 1 + (2π f τ 2 S) We can develop the Bode plot of the gain magnitude versus frequency. We may note that |T ( j f )|dB = 20 l[o(g10 |T ( j f )|). From Equation (7.]9(b)), we can write | | = R 2π f τ T ( j f ) dB 20 log P · √ S 10 + + (7.10(a)) RS RP 1 (2π f τS)2 nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 475 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 475 or ( ) | | = RT ( j f P ) dB 20 log10 √+ + 20 log R 10(2π f τS) S RP (7.10(b)) −20 log10 1 + (2π f τS)2 We can plot each term of Equation (7.10(b)) and then combine the three plots to form the final Bode plot of the gain magnitude. Figure 7.4(a) is the plot of the first term of equation (7.10(b)), which is just a constant independent of frequency. We may note that, since [RP/(RS + RP)] is less than unity, the dB value is less than zero. Figure 7.4(b) is the plot of the second term of Equation (7.10(b)). When f = 1/2πτS , we have 20log10 (1) = 0. The slopes in Bode plot magnitudes are described in units of either dB/octave or dB/decade. An octave means that frequency is increased by a factor of two, and a decade implies that the frequency is increased by a factor of 10. The value of the function 20 log10(2π f τS) increases by a factor of 6.02 ∼= 6 dB for every factor of 2 increase in frequency, and the value of the function increases by a factor of 20 dB for every factor of 10 increase in frequency. Hence, we can consider a slope of 6 dB/octave or 20 dB/decade. Figure 7.4(c) is the plot of the third term in Equation (7.10(b)). For f  1/2πτS , the value of the function is essentially 0 dB and when f = 1/2πτS , the value is −3 dB. For f  1/2πτS , the function becomes −20 log10(2π f τS), so the slope becomes −6 dB/octave or −20 dB/decade. A straight-line projection of this slope passes through 0 dB at f = 1/2πτS . We can then approximate the Bode plot for this term by two straight line asymptotes intersecting at 0 dB and f = 1/2πτS . This particular frequency is known as a break-point frequency, corner frequency, or −3 dB frequency. dB dB 6 dB/octave f (log scale) or 0 20 dB/decade 0 1 f (log scale) f = RP 2ptS 20 log10 RP + RS (a) (b) dB f = 1 2pt f (log scale) 0 S –3 dB –6 dB/octave or –20 dB/decade (c) Figure 7.4 Plots of (a) the first term, (b) the second term, and (c) the third term of Equation (7.10(b)) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 476 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 476 Part 1 Semiconductor Devices and Basic Applications The complete Bode plot of Equation (7.10(b)) is shown in Figure 7.5. For f  1/2πτS , the second and third terms of Equation (7.10(b)) cancel, and for f  1/2πτS , the large negative dB value from Figure 7.4(b) dominates. The transfer function given by Equation (7.9) is for the circuit shown in Figure 7.2. The series capacitor CS is a coupling capacitor between the input and output signals. At a high enough frequency, capacitor CS acts as a short circuit, and the output voltage, from a voltage divider, is Vo = [RP/(RS + RP)]Vi For very low frequencies, the impedance of CS approaches that of an open circuit, and the output voltage approaches zero. This circuit is called a high-pass network since the high-frequency signals are passed through to the output. We can now understand the form of the Bode plot shown in Figure 7.5. |T( jf )| Asymptotic dB approximation 0 Imaginary RP part 20 log10 R + R 3 dB SP Actual curve B +6 dB/octave or +20 dB/decade K q f 1 = f (log scale) 2pts A Real part Figure 7.5 Bode plot of the voltage transfer function magnitude Figure 7.6 Relation between rectangular and polar for the circuit in Figure 7.2 forms of a complex number The Bode plot of the phase function can be easily developed by recalling there- lation between the rectangular√ and polar form of a complex number. We can write A + j B = K e jθ , where K = A2 + B2 and θ = tan−1(B/A). This relationship is shown in Figure 7.6. For the fun(ction given) in[ Equation (7.8]), we can write the function in the form = RP · j2π f τ T ( j f S ) [∣∣RS + RP = ∣∣ RP ∣∣∣ 1]+ j2π f τS (7.11(a)) ∣ jθ [| j2π f τ jθ S|e 2 ] + e 1 RS RP [|1 + j2π f τ |e jθ S 3 ] or [ ][[ ] = j K e jθ2 θ 2 ] = K KT j f K e 1 1 2 ( ) e j (θ1+θ2−θ3) 1 K e jθ 3 3 K3 (7.11(b)) The net phase of the function T ( j f ) is then θ = θ1 + θ2 − θ3. Since the first term, [RP/(RS + RP)], is a positive real quantity, the phase is θ1 = 0. The second term, ( j2π f τS), is purely imaginary so that the phase is θ ◦ −1 2 = 90 . The third term is complex so that its phase is θ3 = tan (2π f τS). The net phase of the function is now θ = 90 − tan−1(2π f τS) (7.12) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 477 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 477 Phase Asymptotic approximation 90° 45° Actual curve 0 f (log scale) f = 1 1 f = 1 f = 10 10 2ptS 2ptS 2ptS Figure 7.7 Bode plot of the voltage transfer function phase for the circuit in Figure 7.2 For the limiting case off → 0, we have tan−1(0) = 0, and for f → ∞, we have tan−1(∞) = 90◦ . At the corner frequency off = 1/(2πτS), the phase is tan−1(1) = 45◦. The Bode plot of the phase of the function given in Equation (7.11(a)) is given in Figure 7.7. The actual plot as well as an asymptotic approximation is shown. The phase is especially important in feedback circuits since this can influence stability. We will see this effect in Chapter 12. Bode Plot for Figure 7.3 Qualitative Discussion: Again, we will initially consider the magnitude of the voltage function versus frequency. The capacitor CP in Figure 7.3 is in parallel with the output and then behaves as a load capacitor on the output of a circuit, or may represent the input capacitance of a follow-on amplifier stage. In the limit of zero frequency (the input signal is a constant dc voltage), the impedance of the capacitor is infinite (an open circuit). In this case the output signal is a constant value given by a voltage divider, or Vo = [RP/(RP + RS)] · Vi . In the limit of a very high frequency, the impedance of the capacitor becomes very small (approaching a short circuit). In this situation, the output voltage will be zero, or the magnitude of the voltage transfer function will be zero. We therefore expect the magnitude of the transfer function to start at a constant value for zero and low frequencies, and then decrease toward zero at high frequencies. Mathematical Derivation: The transfer function given by Equation (7.7) is for the circuit that was shown in Figure 7.3. If we replaces by s = jω = j2π f and define a time constant τ(Pas τP = )(R[S‖RP)CP , the]n the transfer function is R 1 T ( j f = P ) + + (7.13) RS RP 1 j2π f τP The magnitude (of Equation) (7.[13) is ] | | = RT j f P 1 ( ) RS + · √ + (7.14) RP 1 (2π f τP)2 A Bode plot of this magnitude expression is shown in Figure 7.8. The low- frequency asymptote is a horizontal line, and the high-frequency asymptote is a nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 478 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 478 Part 1 Semiconductor Devices and Basic Applications |T( jf )|dB Asymptotic approximation 0 R 20 log P 10 RS + RP 3 dB Actual curve –20 dB/decade or –6 dB/octave f = 1 f (log scale) 2ptp Figure 7.8 Bode plot of the voltage transfer function magnitude for the circuit in Figure 7.3 straight line with a slope of −20 dB/decade, or −6 dB/octave. The two asymptotes meet at the frequency f = 1/2πτP , which is the corner, or 3 dB, frequency for this circuit. Again, the actual magnitude of the transfer function at the corner frequency differs from the maximum asymptotic value by 3 dB. Again, the magnitude of the transfer function given by Equation (7.14) is for the circuit shown in Figure 7.3. The parallel capacitor CP is a load, or parasitic, capacitance. At low frequencies, CP acts as an open circuit, and the output voltage, from a voltage divider, is Vo = [RP/(RS + RP)]Vi As the frequency increases, the magnitude of the impedance of CP decreases and approaches that of a short circuit, and the output voltage approaches zero. This circuit is called a low-pass network, since the low-frequency signals are passed through to the output. The phase of the transfer function given by Equation (7.13) is Phase = − tan−1(2π f τP) (7.15) The Bode plot of the phase is shown in Figure 7.9. The phase is −45 degrees at the corner frequency and 0 degrees at the low-frequency asymptote, where CP is effectively out of the circuit. Phase f 1 ⋅ 1 f 1 f 10 = pt = = 10 2 p 2ptp 2ptp 0 –45° Actual curve –90° Asymptotic approximation Figure 7.9 Bode plot of the voltage transfer function phase for the circuit in Figure 7.3 nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 479 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 479 EXAMPLE 7.1 Objective: Determine the corner frequencies and maximum-magnitude asymptotes of the Bode plots for a specified circuit. For the circuits in Figures 7.2 and 7.3, the parameters are: RS = 1 k, RP = 10 k, CS = 1 μF, and CP = 3 pF. Solution: (Figure 7.2) The time constant is τS = (RS + RP)CS = (103 + 10 × 103)(10−6) = 1.1 × 10−2 s ⇒ 11 ms The corner frequency of the Bode plot shown in Figure 7.5 is then = 1 f = 1 2πτS (2π)(11 × − = 14.5 Hz 10 3) The maximum magnitude is RP 10 RS + = = 0.909 RP 1 + 10 or ( ) R 20 log P 10 + = −0.828 dB RS RP Solution: (Figure 7.3) The time constant is τP = (RS‖RP)CP = (103‖(10 × 103))(3 × 10−12) ⇒ 2.73 ns The corner frequency of the Bode plot in Figure 7.8 is then = 1 = 1 f ⇒ 58.3 MHz 2πτP (2π)(2.73 × 10−9) The maximum magnitude is the same as just calculated: 0.909 or −0.828 dB. Comment: Since the two capacitance values are substantially different, the two time constants differ by orders of magnitude, which means that the two corner frequencies also differ by orders of magnitude. Later in this text, we will take advantage of these differences in our analysis of transistor circuits. EXERCISE PROBLEM Ex 7.1: (a) For the circuit shown in Figure 7.2, the parameters are RS = 2 k and RP = 8 k. (i) If the corner frequency is fL = 50 Hz, determine the value of CS . (ii) Find the magnitude of the transfer function at f = 20 Hz, 50 Hz, and 100 Hz. (Ans. (i) CS = 0.318 μF; (ii) 0.297, 0.566, and 0.716) (b) Consider the circuit shown in Figure 7.3 with parameters RS = 4.7 k, RP = 25 k, and CP = 120 pF. (i) Determine the corner frequency fH . (ii) Determine the magnitude of the transfer function at f = 0.2 fH , f = fH , and f = 8 fH . (Ans. (i) fH = 335 kHz; (ii) 0.825, 0.595, 0.104) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 480 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 480 Part 1 Semiconductor Devices and Basic Applications 7.2.4 Short-Circuit and Open-Circuit Time Constants The two circuits shown in Figures 7.2 and 7.3 each contain only one capacitor. The circuit in Figure 7.10 is the same basic configuration but contains both capacitors. Capacitor CS is the coupling capacitor and is in series with the input and output; capacitor CP is the load capacitor and is in parallel with the output and ground. RS CS Vo V + i R – PCP Figure 7.10 Circuit with both a series coupling and a parallel load capacitor We can determine the voltage transfer function of this circuit by writing a KCL equation at the( output nod)e. The result is Vo(s) = RP × [ ( )(1 ) ] (7.16) Vi (s) RS + RP RC 1 1 + PP R + + + sτ RC s PS PS τS where τS and τP are the same time constants as previously defined. Although Equation (7.16) is the exact transfer function, it is awkward to deal within this form. We have seen in the previous analysis, however, that CS affects the low- frequency response and CP affects the high-frequency response. Further, if CP  CS and if RS and RP are of the same order of magnitude, then the corner frequencies of the Bode plots created by CS and CP will differ by orders of magnitude. (We actually encounter this situation in real circuits.) Consequently, when a circuit contains both coupling and load capacitors, and when the values of the capacitors differ by orders of magnitude, then we can determine the effect of each capacitor individually. At low frequencies, we can treat the load capacitor CP as an open circuit. To find the equivalent resistance seen by a capacitor, set all independent sources equal to zero. Therefore, the effective resistance seen by CS is the series combination of RS and RP. The time constant associated with CS is τS = (RS + RP)CS (7.17) Since CP was made an open circuit, τS is called an open-circuit time constant. The subscript Sis associated with the coupling capacitor, or the capacitor in series with the input and output signals. At high frequencies, we can treat the coupling capacitor CS as a short circuit. The effective resistance seen by CP is the parallel combination of RS and RP, and the associated time constant is τP = (RS‖RP)CP (7.18) which is called the short-circuit time constant. The subscript Pis associated with the load capacitor, or the capacitor in parallel with the output and ground. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 481 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 481 Vo Vi T (max)dB fL fH f Figure 7.11 Bode plot of the voltage transfer function magnitude for the circuit in Figure 7.10 We can now define the corner frequencies of the Bode plot. The lower corner, or 3 dB frequency, which is at the low end of the frequency scale, is a function of the open-circuit time constant and is defined as = 1 fL (7.19(a)) 2πτS The upper corner, or 3 dB, frequency, which is at the high end of the frequency scale, is a function of the short-circuit time constant and is defined as fH = 1 (7.19(b)) 2πτP The resulting Bode plot of the magnitude of the voltage transfer function for the circuit in Figure 7.9 is shown in Figure 7.11. This Bode plot is for a passive circuit; the Bode plots for transistor amplifiers are similar. The amplifier gain is constant over a wide frequency range, called the mid- band. In this frequency range, all capacitance effects are negligible and can be neglected in the gain calculations. At the high end of the frequency spectrum, the gain drops as a result of the load capacitance and, as we will see later, the transistor effects. At the low end of the frequency spectrum, the gain decreases because coupling capacitors and bypass capacitors do not act as perfect short circuits. The midband range, or bandwidth, is defined by the corner frequencies fL and fH, as follows: fBW = fH − fL (7.20(a)) Since fH  fL , as we have seen in our examples, the bandwidth is essentially given by f ∼ BW = fH (7.20(b)) EXAMPLE 7.2 Objective: Determine the corner frequencies and bandwidth of a passive circuit containing two capacitors. Consider the circuit shown in Figure 7.10 with parameters RS = 1 k, RP = 10 k, CS = 1 μF, and CP = 3 pF. Solution: Since CP is less than CS by approximately six orders of magnitude, we can treat the effect of each capacitor separately. The open-circuit time constant is τS = (RS + RP)CS = (103 + 10 × 103)(10−6) = 1.1 × 10−2 s nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 482 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 482 Part 1 Semiconductor Devices and Basic Applications and the short-circuit time constant is τP = (RS‖RP)CP = [103‖(10 × 103)](3 × 10−12) = 2.73 × 10−9 s The corner frequencies are then = 1 = 1 fL × − = 14.5 Hz 2πτS 2π(1.1 10 2) and = 1 1 fH = ⇒ 58.3 MHz 2πτP 2π(2.73 × 10−9) Finally, the bandwidth is f ∼ BW = fH − fL = 58.3 MHz − 14.5 Hz = 58.3 MHz Comment: The corner frequencies in this example are exactly the same as those determined in Example 7.1. This occurred because the two corner frequencies are far apart. The maximum magnitude of the voltage function is again RP = 10 + + = 0.909 ⇒ −0.828 dB RS RP 1 10 The Bode plot of the magnitude of the voltage transfer function is shown in Figure 7.12. V f dB L = 14.5 Hz fH = 58.3 MHz of (Hz) Vi 0.1 1 10 100 106 107 108 109 1.0 0 3 dB 3 dB 0.1 –20 Asymptotes 0.01 –40 0.001 –60 Figure 7.12 Bode plot of the magnitude of the voltage transfer function for the circuit in Figure 7.10 EXERCISE PROBLEM Ex 7.2: The circuit shown in Figure 7.10 has parameters of RP = 7.5 k and CP = 80 pF. The midband gain is –2 dB and the lower corner frequency is fL = 200 Hz (a) Determine RS , CS , and the upper corner frequency fH . (b) Determine the open-circuit and short-circuit time constants. (Ans. (a) RS = 1.94 k, CS = 0.0843 μF, fH = 1.29 MHz; (b) τS = 0.796 ms, τP = 0.123 μs) We will continue, in the following sections of the chapter, to use the concept of open-circuit and short-circuit time constants to determine the corner frequencies of the Bode plots of transistor circuits. An implicit assumption in this technique is that coupling and load capacitance values differ by many orders of magnitude. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 483 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 483 Test Your Understanding TYU 7.1 For the equivalent circuit shown in Figure 7.13, the parameters are: RS = 1 k, rπ = 2 k, RL = 4 k, gm = 50 mA/V, and CC = 1 μF. (a) Determine the expression for the circuit time constant. (b) Calculate the 3 dB frequency and maximum gain asymptote. (c) Sketch the Bode plot of the transfer function magnitude. (Ans. (a) τ = (rπ + RS)CC , (b) f3 dB = 53.1 Hz, |T ( jω)|max = 133) RC SC Vo + V + i Vp rp RL – gmVp Figure 7.13 Figure for Exercise TYU 7.1 TYU 7.2 The equivalent circuit in Figure 7.14 has circuit parameters RS = 100 , rπ = 2.4 k, gm = 50 mA/V, RL = 10 k, and CL = 2 pF. (a) Determine the expression for and the value of the circuit time constant. (b) Calculate the 3 dB frequency and the maximum voltage gain. (c) Sketch the Bode plot of the transfer function magnitude. (Ans. (a) τ = RLCL = 0.02 μs; (b) f3 dB = 7.96 MHz, |Av| = 480) RS RC SC Vo Vo + + V + + i Vp r – p RL CL Vi Vp rp RLC – L – gmVp – gmVp Figure 7.14 Figure for Exercise TYU 7.2 Figure 7.15 Figure for Exercise TYU 7.3 TYU 7.3 The parameters in the circuit shown in Figure 7.15 are RS = 100 , rπ = 2.4 k, gm = 50 mA/V, RL = 10 k, CC = 5 μF, and CL = 4 pF. (a) Find the open-circuit and short-circuit time constants. (b) Calculate the midband voltage gain. (c) Determine the lower and upper 3 dB frequencies. (Ans. (a) τS = 12.5 ms, τP = 0.04 μs; (b) Av = −480; (c) fL = 12.7 Hz, fH = 3.98 MHz) 7.2.5 Time Response Up to this point, we have been considering the steady-state sinusoidal frequency response of circuits. In some cases, however, we may need to amplify nonsinusoidal signals, such as square waves. This situation might occur if digital signals are to be amplified. In these cases, we need to consider the time response of the output signals. In addition, such signals as pulses or square waves maybe used in testing the frequency response of circuits. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 484 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 484 Part 1 Semiconductor Devices and Basic Applications Z = 1 To gain some understanding, consider the circuit shown in Figure 7.16, which is RC sC SS a repeat of Figure 7.2. As mentioned previously, the capacitor represents a coupling Vo(s) capacitor. The( transfer fun)c[tion was given in Eq]uation (7(.4) as Vi (s) + RP Vo(s) = RP s(RS + ) RP)CS = sτ KS (7.21) Vi (s) RS + RP 1 + s 2 (RS + RP)CS 1 + sτS where the time constant is τS = (RS + RP)CS . If the input voltage is a step function, then Vi (s) = 1/s . The output voltage can Figure 7.16 Repeat of then be written as Figure 7.2 (coupling ( ) ( ) capacitor circuit), but τS 1 V (s) = K = K (7.22) showing complex so 2 1 + s 2 τS s + 1/τS parameters Taking the inverse Laplace transform, we find the output voltage time response as vo(t) = K −t/τS 2e (7.23) If we are trying to amplify an input voltage pulse using a coupling capacitor, the voltage applied to the amplifier (load) will begin to droop. In this case, we would need to ensure that the time constant τS is large compared to the input pulse width T. The output voltage versus time for a square wave input signal is shown in Figure 7.17. A large time constant implies a large coupling capacitor. If the cutoff frequency of the transfer function is f3-dB = 1/2πτS = 5 kHz, then the time constant is τS = 3.18 μs. For a pulse width of T = 0.1 μs, the output voltage will droop by only 0.314 percent at the end of the pulse. Consider, now, the circuit shown in Figure 7.18, which is a repeat of Figure 7.3. In this case, the capacitor CP may represent the input capacitance of an amplifier. The transfer functi(on was give)n[ in Equation (7.7) as] ( ) Vo(s) = RP 1 1 + + ‖ = K1 (7.24) Vi (s) RS RP 1 s (RP RS) CP 1 + sτP where the time constant is τP = (RP‖RS)CP . Again, if the input signal is a step function, then Vi (s) = 1/s . The output voltage can then be writte(n as ) ( ) = K1 1 Vs = K1 1/τP o( ) s 1 + sτP s s + (7.25) 1/τP Taking the inverse Laplace transform, we find the output voltage time response as vo(t) = K1(1 − e−t/τP ) (7.26) If we are trying to amplify an input voltage pulse, we need to ensure that the time constant τP is short compared to the pulse width T, so that the signal vO(t) reaches a vO (t) RS Vo (s) V + 1 i (s) RP ZC = sCP 0 T t Figure 7.17 Output response of circuit in Figure 7.18 Repeat of Figure 7.3 (load Figure 7.16 for a square-wave input signal capacitor circuit), but showing complex and for a large time constants parameters nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 485 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 485 t v v v ( ) II O vO vO T 2T 3T 4T t T vO 2T 3T 4T t vI v vI 0 T t O (a) (b) Figure 7.19 Output response of circuit in Figure 7.18 for a Figure 7.20 Steady-state output response for a square-wave input response for square-wave input signal and (a) circuit in Figure 7.16 (coupling capacitor) and a large time constant, and for a short time constant (b) circuit in Figure 7.18 (load capacitor) and a short time constant steady-state value. The output voltage is shown in Figure 7.19 for a square wave input signal. A short time constant implies a very small capacitor CP as an input capacitance to an amplifier. In this case, if the cutoff frequency of the transfer function is f3-dB = 1/2πτP = 10 MHz, then the time constant is τP = 15.9 ns. Figure 7.20 summarizes the steady-state output responses for square wave input signals of the two circuits we’ve just been considering. Figure 7.20(a) shows the steady-state output response of the circuit in Figure 7.16 (coupling capacitor) for along time constant, and Figure 7.20(b) shows the steady-state output response of the circuit in Figure 7.18 (load capacitor) for a short time constant. 7.3 FREQUENCY RESPONSE: TRANSISTOR AMPLIFIERS WITH CIRCUIT CAPACITORS Objective: • Analyze the frequency response of transistor circuits with capacitors. In this section, we will analyze the basic single-stage amplifier that includes circuit capacitors. Three types of capacitors will be considered: coupling capacitor, load capacitor, and bypass capacitor. In our hand analysis, we will consider each type of capacitor individually and determine its frequency response. In the last part of this section, we will consider the effect of multiple capacitors using a PSpice analysis. The frequency response of multistage circuits will be considered in Chapter 12 when the stability of amplifiers is considered. 7.3.1 Coupling Capacitor Effects Input Coupling Capacitor: Common-Emitter Circuit Figure 7.21(a) shows a bipolar common-emitter circuit with a coupling capacitor. Figure 7.21(b) shows the corresponding small-signal equivalent circuit, with the transistor small-signal output resistance ro assumed to be infinite. This assumption is valid since ro  RC and ro  RE in most cases. Initially, we will use a current– voltage analysis to determine the frequency response of the circuit. Then, we will use the equivalent time constant technique. From the analysis in the previous section, we note that this circuit is a high-pass network. At high frequencies, the capacitor CC acts as a short circuit, and the input"
7.3 Frequency Response: Transistor Amplifiers with Circuit Capacitors,"7.3 FREQUENCY RESPONSE: TRANSISTOR AMPLIFIERS WITH CIRCUIT CAPACITORS Objective: • Analyze the frequency response of transistor circuits with capacitors. In this section, we will analyze the basic single-stage amplifier that includes circuit capacitors. Three types of capacitors will be considered: coupling capacitor, load capacitor, and bypass capacitor. In our hand analysis, we will consider each type of capacitor individually and determine its frequency response. In the last part of this section, we will consider the effect of multiple capacitors using a PSpice analysis. The frequency response of multistage circuits will be considered in Chapter 12 when the stability of amplifiers is considered. 7.3.1 Coupling Capacitor Effects Input Coupling Capacitor: Common-Emitter Circuit Figure 7.21(a) shows a bipolar common-emitter circuit with a coupling capacitor. Figure 7.21(b) shows the corresponding small-signal equivalent circuit, with the transistor small-signal output resistance ro assumed to be infinite. This assumption is valid since ro  RC and ro  RE in most cases. Initially, we will use a current– voltage analysis to determine the frequency response of the circuit. Then, we will use the equivalent time constant technique. From the analysis in the previous section, we note that this circuit is a high-pass network. At high frequencies, the capacitor CC acts as a short circuit, and the input nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 486 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 486 Part 1 Semiconductor Devices and Basic Applications VCC R Ri C Rib RC 1 RSi C vO Vo RC + Si CI Ii b Vp rp R g V + B = – mp Vi R – RR C v + 1⎪⎪ 2 i R – 2 RE RE (a) (b) Figure 7.21 (a) Common-emitter circuit with coupling capacitor and (b) small-signal equivalent circuit signal is coupled through the transistor to the output. At low frequencies, the impedance of CC becomes large and the output approaches zero. Current–Voltage Analysis: The input current can be written as Ii = Vi (7.27) 1 RSi + + R sC i C where the input resistance Ri is given by Ri = RB‖[rπ + (1 + β)RE ] = RB‖Rib (7.28) In writing Equation (7.28), we used the resistance reflection rule given in Chapter 6. To determine the input resistance to the base of the transistor, we multiplied the emitter resistance by the factor (1 + β). Using( a current d)ivider, we determine the base current to be RI B b = + I (7.29) RB R i ib and then Vπ = Ibrπ (7.30) The output voltage is given by Vo = −gm Vπ RC (7.31) Combining Equations (7.27) through ((7.31) produ)ces Vo = − R gm RI BC( brπ) = −gmrπ RC R + IR i ( )⎛ Bib ⎞ (7.32) = − RB ⎝⎜⎜ V ⎟ g i mr ⎟ π RC R + R ⎠ Bib 1 RSi + + R sC i C nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 487 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 487 Therefore, the small-signal v(oltage gain i)s ( ) = Vo(s) = − RB sC Av(s) gmrπ RC C + + + (7.33) Vi (s) RB Rib 1 s(RSi Ri )CC which can be written in the form ( )( ) = V (s) Av(so ) = −gmrπ RC RB sτS (7.34) Vi (s) (RSi + Ri ) RB + Rib 1 + sτS where the time constant is τS = (RSi + Ri )CC (7.35) The form of the voltage transfer function as given in Equation (7.34) is the same as that of Equation (7.4), for the coupling capacitor circuit in Figure 7.2. The Bode plot is therefore similar to that shown in Figure 7.5. The corner frequency is 1 1 fL = = 2πτS 2π(RSi + (7.36) Ri )CC and the maximum magnitude(, in decibel)s,(is ) |Av(max)|dB = gr RR 20 log m π CB 10 + + (7.37) RSi Ri RB Rib EXAMPLE 7.3 Objective: Calculate the corner frequency and maximum gain of a bipolar common- emitter circuit with a coupling capacitor. For the circuit shown in Figure 7.21, the parameters are: R1 = 51.2 k, R2 = 9.6 k, RC = 2 k, RE = 0.4 k, RSi = 0.1 k, CC = 1 μF, and VCC = 10 V. The transistor parameters are: VB E(on) = 0.7 V, β = 100, and VA = ∞. Solution: From a dc analysis, the quiescent collector current is IC Q = 1.81 mA. The small-signal parameters are gm = 69.6 mA/V and rπ = 1.44 k. The input resistance is Ri = R1 ‖R2‖ [rπ + (1 + β)RE ] = 51.2 ‖9.6‖ [1.44 + (101)(0.4)] = 6.77 k and the time constant is therefore τS = (R 3 3 −6 Si + Ri )CC = (0.1 × 10 + 6.77 × 10 )(1 × 10 ) ⇒ 6.87 ms The corner frequency is 1 1 fL = = = 23.2 Hz 2πτS 2π(6.87 × 10−3) Finally, the maximum (voltage gain) magnitude is | | = gmrπ RR AC B v max (RSi + Ri ) RB + Rib where Rib = rπ + (1 + β)RE = 1.44 + (101)(0.4) = 41.8 k nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 488 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 488 Part 1 Semiconductor Devices and Basic Applications Therefore, ( ) | | = (69.6)(1.44)(2) 8.084 Av max + + = 4.72 (0.1 6.775) 8.084 41.84 Comment: The coupling capacitor produces a high-pass network. In this circuit, if the signal frequency is approximately two octaves above the corner frequency, the coupling capacitor acts as a short circuit. EXERCISE PROBLEM Ex 7.3: For the circuit shown in Figure 7.21(a), the parameters are: VCC = 3 V, RSi = 0, R1 = 110 k, R2 = 42 k, RE = 0.5 k, RC = 7 k, and CC = 0.47 μF. The transistor parameters are β = 150, VB E(on) = 0.7 V, and VA = ∞. (a) Determine the expression for and the value of the time constant τS . (b) Determine the corner frequency and midband voltage gain. (Ans. (a) τS = Ri CC = 10.87 ms; (b) fL = 14.6 Hz, Av = −10.84) Time Constant Technique: In general, we do not need to derive the complete circuit transfer function including capacitance effects in order to complete the Bode plot and determine the frequency response. By looking at a circuit with, initially, only one capacitor, we can determine if the amplifier is a low-pass or high-pass circuit. We can then specify the Bode plot if we know the time constant and the maximum midband gain. The time constant determines the corner frequency. The midband gain is found in the usual way when capacitances are eliminated from the circuit. This time constant technique yields good results when all poles are real, as will be the case in this chapter. In addition, this technique does not determine the corner frequencies due to system zeros. The major benefit of using the time constant approach is that it gives information about which circuit elements affect the −3 dB frequency of the circuit. A coupling capacitor produces a high-pass network, so the form of the Bode plot will be the same as that shown in Figure 7.5. Also, the maximum gain is determined when the coupling capacitor acts as a short circuit, as was assumed in Chapters 4 and 6. The time constant for the circuit is a function of the equivalent resistance seen by the capacitor. The small-signal equivalent circuit is shown in Figure 7.21(b). If we set the independent voltage source equal to zero, the equivalent resistance seen by the coupling capacitor CC is (RSi + Ri ). The time constant is then τS = (RSi + Ri )CC (7.38) This is the same as Equation (7.35), which was determined by using a current– voltage analysis. Output Coupling Capacitor: Common-Source Circuit Figure 7.22(a) shows a common-source MOSFET amplifier. We assume that there- sistance of the signal generator is much less than RG and can therefore be neglected. In this case, the output signal is connected to the load through a coupling capacitor. The small-signal equivalent circuit, assuming ro is infinite, is shown in Figure 7.22(b). The maximum output voltage, assuming CC is a short circuit, is |Vo|max = gm Vgs(RD‖RL) (7.39) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 489 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 489 +5 V RD = 6.7 kΩ CC v Co C Vo RL = 10 kΩ + RD = RL = V g V R = gs m gs 6.7 kΩ 10 kΩ vi + G – 50 kΩ R = V + RG = – Si – 50 kΩ 5 kΩ RS = 5 kΩ –5 V (a) (b) Figure 7.22 (a) Common-source circuit with output coupling capacitor and (b) small-signal equivalent circuit and the input voltage can be written as Vi = Vgs + gm RS Vgs (7.40) Therefore, the maximum small-signal gain is | | = gm(RD‖RL) Av max (7.41) 1 + gm RS Even though the coupling capacitor is in the output portion of the circuit, the Bode plot will still be that of a high-pass network, as shown in Figure 7.5. Using the time constant technique to determine the corner frequency will substantially simplify the circuit analysis, since we do not specifically need to determine the transfer function for the frequency response. The time constant is a function of the effective resistance seen by capacitor CC, which is determined by setting all independent sources equal to zero. Since Vi = 0, then Vgs = 0 and gm Vgs = 0, and the effective resistance seen by CC is (RD + RL ). The time constant is then τS = (RD + RL)CC (7.42) and the corner frequency is fL = 1/2πτS . DESIGN EXAMPLE 7.4 Objective: The circuit in Figure 7.22(a) is to be used as a simple audio amplifier. Design the circuit such that the lower corner frequency is fL = 20 Hz. Solution: The corner frequency can be written in terms of the time constant, as follows: fL = 1 2πτS The time constant is then 1 1 τS = = ⇒ 7.96 ms 2π f 2π(20) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 490 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 490 Part 1 Semiconductor Devices and Basic Applications Therefore, from Equation (7.42) the coupling capacitance is = τS = 7.96 × 10−3 CC + = 4.77 × 10−7 F RD RL 6.7 × 103 + 10 × 103 or CC = 0.477 μF Comment: Using the time constant technique to find the corner frequency is substantially easier than using the circuit analysis approach. EXERCISE PROBLEM Ex 7.4: Consider the circuit shown in Figure 7.22(a). The bias voltages are changed to V + = 3 V and V − = −3 V. Other circuit parameters are RL = 20 k and RG = 100 k. The transistor parameters are VT N = 0.4 V, Kn = 100 μA/V2 , and λ = 0. (a) Design the circuit such that IDQ = 250 μA and VDSQ = 1.7 V. (b) If CC = 0.7 μF, determine the corner frequency. (Ans. (a) RS = 4.08 k, RD = 13.1 k; (b) fL = 6.87 Hz) Output Coupling Capacitor: Emitter-Follower Circuit: An emitter follower with a coupling capacitor in the output portion of the circuit is shown in Figure 7.23(a). We assume that coupling capacitor CC1, which is part of the original emitter follower, is very large, and that it acts as a short circuit to the input signal. The small-signal equivalent circuit, including the small-signal transistor resistance ro, is shown in Figure 7.23(b). The equivalent resistance seen by the coupling capacitor CC2 is [Ro + RL ], and the time constant is τS = [Ro + RL ]CC2 (7.43) where Ro is the output resistance as defined in Figure 7.23(b). As shown in Chapter 6, the output resistanc{e is } = ‖ ‖ [rπ + (RS‖RR R r B)] o E o + (7.44) 1 β +10 V CC1 → ∞ R RS = 0.5 kΩ CC RS = 0.5 kΩ r o 2 p Vo v + i RB = 100 kΩ vo – + V – p CC2 R = R = V + RB = r RE = RL = E Li – 10 kΩ 10 kΩ 100 kΩ o 10 kΩ 10 kΩ gmVp –10 V (a) (b) Figure 7.23 (a) Emitter-follower circuit with output coupling capacitor and (b) small-signal equivalent circuit nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 491 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 491 If we combine Equations (7.44) and (7.43), the time constant expression becomes fairly complicated. However, the current–voltage analysis of this circuit including CC2 is even more cumbersome. The time constant technique again simplifies the analysis substantially. EXAMPLE 7.5 Objective: Determine the 3 dB frequency of an emitter-follower amplifier circuit with an output coupling capacitor. Consider the circuit shown in Figure 7.23(a) with transistor parameters β = 100, VB E(on) = 0.7 V, and VA = 120 V. The output coupling capacitance is CC2 = 1 μF. Solution: A dc analysis shows that IC Q = 0.838 mA. Therefore, the small-signal parameters are: rπ = 3.10 k, gm = 32.2 mA/V, and ro = 143 k. From Equation{ (7.44), the output} resistance Roof the emitter follower is = ‖ [r + (R ‖RR R r ‖ π SB)] o E o { 1 + β } = ‖ [3.10 + (0.5‖100)] 10 143‖ = 10‖143‖0.0356 k ∼= 35.5  101 From Equation (7.43), the time constant is τS = [Ro + RL ]CC2 = [35.5 + 104](10−6) ∼= 1 × 10−2 s The 3 dB frequency is then 1 fL = = 1 − = 15.9 Hz 2πτ 2π(10 2 S ) Comment: Determining the 3 dB or corner frequency is very direct with the time constant technique. Computer Verification: Based on PSpice, analysis, Figure 7.24 is a Bode plot of the voltage gain magnitude of the emitter-follower circuit shown in Figure 7.23(a). The corner frequency is essentially identical to that obtained by the time constant technique. Also, the asymptotic value of the small-signal voltage gain is Av = 0.988, as expected for an emitter-follower circuit. |AV | 1.0 0.1 0.01 1 10 fL 100 1000 f (Hz) Figure 7.24 PSpice analysis results for the emitter-follower circuit in Figure 7.23(a) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 492 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 492 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 7.5: For the emitter-follower circuit shown in Figure 7.23(a), determine the required value of CC2 to yield a corner frequency of 10 Hz. (Ans. CC2 = 1.59 μF) Problem-Solving Technique: Bode Plot of Gain Magnitude 1. For a particular capacitor in a circuit, determine whether the capacitor is producing a low-pass or high-pass circuit. From this, sketch the general shape of the Bode plot. 2. The corner frequency is found from f = 1/2 πτ where the time constant is τ = ReqC . The equivalent resistance Req is the equivalent resistance seen by the capacitor. 3. The maximum gain magnitude is the midband gain. Coupling and bypass capacitors act as short circuits and load capacitors act as open circuits. 7.3.2 Load Capacitor Effects An amplifier output maybe connected to a load or to the input or another amplifier. The model of the load circuit input impedance is generally a capacitance in parallel with a resistance. In addition, there is a parasitic capacitance between ground and the line that connects the amplifier output to the load circuit. Figure 7.25(a) shows a MOSFET common-source amplifier with a load resistance RL and a load capacitance CL connected to the output, and Figure 7.25(b) shows the small-signal equivalent circuit. The transistor small-signal output resistance ro is assumed to be infinite. This circuit configuration is essentially the same as that in Figure 7.3, which is a low-pass network. At high frequencies, the impedance of CL decreases and acts as a shunt between the output and ground, and the output voltage tends toward zero. The Bode plot is similar to that shown in Figure 7.8, with an upper corner frequency and a maximum gain asymptote. +5 V RS Vo gmVsg – v + R = i G v – OR Ω VD RL CL 200 k sg V + RG = + i RR C – 200 kΩ D LL RS –5 V (a) (b) Figure 7.25 (a) MOSFET common-source circuit with a load capacitor and (b) small-signal equivalent circuit nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 493 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 493 The equivalent resistance seen by the load capacitor CL is RD‖RL . Since we set Vi = 0, then gm Vsg = 0, which means that the dependent current source does not affect the equivalent resistance. The time constant for this circuit is τP = (RD‖RL)CL (7.45) The maximum gain asymptote, which is found by assuming CL is an open circuit, is |A | = gm(RD‖RL) v max + (7.46) 1 gm RS 7.3.3 Coupling and Load Capacitors A circuit with both a coupling capacitor and a load capacitor is shown in Figure 7.26(a). Since the values of the coupling capacitance and load capacitance differ by orders of magnitude, the corner frequencies are far apart and can be treated separately as discussed previously. The small-signal equivalent circuit is shown in Figure 7.26(b), assuming the transistor small-signal resistance ro is infinite. +5 V RC = 5 kΩ R1 = 40 kΩ vO RS = 0.1 kΩ RL = CL = CC = 10 kΩ 15 pF v + i 10 mF – R2 = Ω RE = 5.7 k 0.5 kΩ –5 V (a) R RS = 0.1 kΩ i Vo C = I CI i b + V + 10 mF R ⎪⎪R = R = R = C = i V – 1 2 p rp CL L 5 kΩ 5 kΩ 10 kΩ 15 pF – gmVp RE = 0.5 kΩ (b) Figure 7.26 (a) Circuit with both a coupling and a load capacitor and (b) small-signal equivalent circuit nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 494 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 494 Part 1 Semiconductor Devices and Basic Applications The Bode plot of the voltage gain magnitude is similar to that shown in Figure 7.11. The lower corner frequency fL is given by fL = 1 (7.47) 2πτS where τS is the time constant associated with the coupling capacitor CC, and the upper corner frequency fH is given by 1 fH = (7.48) 2πτP where τP is the time constant associated with the load capacitor CL. It should be emphasized that Equations (7.47) and (7.48) are valid only as long as the two corner frequencies are far apart. Using the small-signal equivalent circuit in Figure 7.26(b), we set the signal source equal to zero to find the equivalent resistance associated with the coupling capacitor. The related time constant is τS = [RS + (R1‖R2‖Ri )CC (7.49) where Ri = rπ + (1 + β)RE (7.50) Similarly, the time constant related to CL is τP = (RC‖RL)CL (7.51) Since the two corner frequencies are far apart, the gain will reach a maximum value in the frequency range between fL and fH, which is the midband. We can calculate the midband gain by assuming that the coupling capacitor is a short circuit and the load capacitor is an open circuit. Using the analysis techniques from the last chapter, we find the magnitude of the midband gai∣∣n as∣ follows: |A | = ∣∣ Vo v V ∣∣∣ i ( = ‖ R1‖ )( ) (7.52) R2 1 gmrπ(RC RL) (R1‖R2) + Ri [RS + (R1‖R2‖Ri )] EXAMPLE 7.6 Objective: Determine the midband gain, corner frequencies, and bandwidth of a circuit containing both a coupling capacitor and a load capacitor. Consider the circuit shown in Figure 7.26(a) with transistor parameters VB E(on) = 0.7 V, β = 100, and VA = ∞. Solution: The dc analysis of this circuit yields a quiescent collector current of IC Q = 0.99 mA. The small-signal parameters are gm = 38.08 mA/V, rπ = 2.626 k, and ro = ∞. The input resistance Ri is therefore Ri = rπ + (1 + β)RE = 2.63 + (101)(0.5) = 53.1 k nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 495 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 495 From Equa∣∣tion (7.52), the midband gain is |A | ∣ v max = ∣ ∣∣∣ ( ‖ )( ) Vo = ‖ RR 1 gr (RR 1 2 ) V ∣ m π CL i max ( (R1‖R2) + R)i ( [RS + (R1‖R2‖Ri )] ‖ ) = 40 5.7 1 (38.08)(2.626)(5‖10) (40‖5.7) + 53.1 [0.1 + (40‖5.7‖53.1)] or ∣∣ ∣ A ∣ v max = 6.14 The time constant τS is τS = (RS + R1‖R2‖Ri )CC = (0.1 × 103 + (5.7 × 103)‖(40 × 103)‖(53.1 × 103))(10 × 10−6) = 4.67 × 10−2 s ⇒ 46.6 ms and the time constant τP is τP = (RC‖RL)CL = ((5 × 103)‖(10 × 103))(15 × 10−12) = 5 × 10−8 s or τP = 50 ns The lower corner frequency is 1 fL = = 1 = 3.42 Hz 2πτS 2π(46.6 × 10−3) and the upper corner frequency is 1 1 fH = = × − ⇒ 3.18 MHz 2πτ 9 P 2π(50 10 ) Finally, the bandwidth is f ∼ BW = fH − fL = 3.18 MHz − 3.4 Hz = 3.18 MHz Comment: The two corner frequencies differ by approximately six orders of magnitude; therefore, considering one capacitor at a time is a valid approach. EXERCISE PROBLEM Ex 7.6: Consider the circuit in Figure 7.26(a). The load resistance value is changed to RL = 5 k, and the capacitor values are changed to CL = 5 pF and CC = 5 μF. Other circuit and transistor parameters are the same as given in Example 7.6. (a) Determine the new values of the collector current and small-signal hybrid-pi parameters. (b) Determine the value of midband voltage gain. (c) Find the corner frequencies of the circuit. (Ans. (a) IC Q = 0.986 mA, (b) Av = −4.60, (c) fL = 6.82 Hz, fH = 12.7 MHz) A figure of merit for an amplifier is the gain–bandwidth product. Assuming the corner frequencies are far apart, the bandwidth is fBW = fH − fL ∼= fH (7.53) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 496 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 496 Part 1 Semiconductor Devices and Basic Applications and the maximum gain is |Av|max. The gain–bandwidth product is therefore GB = |Av|max · fH (7.54) Later we will show that, for a given load capacitance, this product is essentially a constant. We will also describe how tradeoffs must be made between gain and bandwidth in amplifier design. 7.3.4 Bypass Capacitor Effects In bipolar and FET discrete amplifiers, emitter and source bypass capacitors are often included so that emitter and source resistors can be used to stabilize the Q-point without sacrificing the small-signal gain. The bypass capacitors are assumed to act as short circuits at the signal frequency. However, to guide us in choosing a bypass capacitor, we must determine the circuit response in the frequency range where these capacitors are neither open nor short circuits. Figure 7.27(a) shows a common-emitter circuit with an emitter bypass capacitor. The small-signal equivalent circuit is shown in Figure 7.27(b). We can find the small- signal voltage gain as a function of frequency. Using the impedance reflection rule, the small-signal input current is I = Vi b ( ∥ ) RS + rπ + (1 + ∥∥∥ 1 β) RE (7.55) sCE The total impedance in the emitter is multiplied by the factor (1 + β). The control voltage is Vπ = Ibrπ (7.56) and the output voltage is Vo = −gm Vπ RC (7.57) Combining equations produces the small-signal voltage gain, as follows: = Vo(s) = −gmrπ RA C v(s) ( ∥∥ ) (7.58) Vi (s) 1 RS + rπ + (1 + β) RE∥∥ sCE V+ RC vO RR SS Vo + Ib V V + p rp gmVp v + ii – R – – CC RE ERE CE V– (a) (b) Figure 7.27 (a) Circuit with emitter bypass capacitor and (b) small-signal equivalent circuit nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 497 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 497 Expanding the parallel combination of RE and 1/sCE and rearranging terms, we find = −gmrπ RA C (1 + s RE CE) v [RS + rπ + (1 + × { } (7.59) β)RE ] + s RE(RS + rπ)C 1 E [RS + rπ + (1 + β)RE ] Equation (7.59) can be written {in terms o}f time constants as = −gmrπ RC 1 + sτ A Av [RS + rπ + (1 + β)RE ] 1 + (7.60) sτB The form of this transfer function is somewhat different from what we have previously encountered in that we have both a zero and a pole. The Bode plot of the voltage gain magnitude has two limiting horizontal asymptotes. If we sets = jω, we can then consider the limit as ω → 0 and the limit as ω → ∞. For ω → 0, CE acts as an open circuit; for ω → ∞, CE acts as a short circuit. From Equation (7.59), we have |Av| gmrπ RC ω→0 = [RS + + + (7.61(a)) rπ (1 β)RE ] and | | = gmrπ RA C v ω→∞ + (7.61(b)) RS rπ From these results, we see that for ω → 0, RE is included in the gain expression, and for ω → ∞, RE is not part of the gain expression, since it has been effectively shorted out by CE. If we assume that the time constants τA and τB in Equation (7.60) differ substantially in magnitude, then the corner frequency due to τB is 1 fB = (7.62(a)) 2πτB and the corner frequency due to τA is = 1 f A (7.62(b)) 2πτA The resulting Bode plot of the voltage gain magnitude is shown in Figure 7.28. |AV | |AV |w → ∞ |AV |w → 0 fA fB f Figure 7.28 Bode plot of the voltage gain magnitude for the circuit with an emitter bypass capacitor nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 498 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 498 Part 1 Semiconductor Devices and Basic Applications EXAMPLE 7.7 Objective: Determine the corner frequencies and limiting horizontal asymptotes of a common-emitter circuit with an emitter bypass capacitor. Consider the circuit in Figure 7.27(a) with parameters RE = 4 k, RC = 2 k, RS = 0.5 k, CE = 1 μF, V + = 5 V, and V − = −5 V. The transistor parameters are: β = 100, VB E(on) = 0.7 V, and ro = ∞. Solution: From the dc analysis, we find the quiescent collector current as IC Q = 1.06 mA. The small-signal parameters are gm = 40.77 mA/V, rπ = 2.45 k, and ro = ∞. The time constant τA is τA = RE CE = (4 × 103)(1 × 10−6) = 4 × 10−3 sand the time constant τB is τB = RE(RS + rπ)CE [RS + rπ + (1 + β)RE ] = (4 × 103)(0.5 × 103 + 2.45 × 103)(1 × 10−6) [0.5 × 103 + 2.45 × 103 + (101)(4 × 103)] or τB = 2.90 × 10−5 s The corner frequencies are then 1 f A = = 1 × − = 39.8 Hz 2πτA 2π(4 10 3) and = 1 1 fB = × − ⇒ 5.49 kHz 2πτB 2π(2.9 10 5) ∣The∣ limiting low-frequency horizontal asymptote, given by Equation (7.61(a)) is ∣ ∣ = gmrπ RC (40.8)(2.45)(2) Av ω→0 [RS + + + = = 0.491 rπ (1 β)RE ] [0.5 + 2.45 + (101)(4)] The ∣lim∣iting high-frequency horizontal asymptote, given by Equation (7.61(b)) is ∣ ∣ = gmrπ RC = (40.77)(2.45)(2) Av →∞ + = 67.7 ω RS rπ 0.5 + 2.45 Comment: Comparing the two limiting values of voltage gain, we see that including a bypass capacitor produces a large high-frequency gain. Computer Verification: The results of a PSpice analysis are given in Figure 7.29. The magnitude of the small-signal voltage gain is shown in Figure 7.29(a). The two corner frequencies are approximately 39 Hz and 5600 Hz, which agree very well with the results from the time constant analysis. The two limiting magnitudes of 0.49 and 68 also correlate extremely well with the hand analysis results. Figure 7.29(b) is a plot of the phase response versus frequency. At very low and very high frequencies, where the capacitor acts as either an open circuit or short nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 499 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 499 |AV | 100 10 1.0 0.1 1 10 102 103 104 105 f (Hz) (a) Phase 1 10 102 103 104 105 f (Hz) –90 –100 –110 –120 –130 –140 –150 –160 –170 –180 (b) Figure 7.29 PSpice analysis results for the circuit with an emitter bypass capacitor: (a) voltage gain magnitude response and (b) phase response circuit, the phase is −180 degrees, as expected for a common-emitter circuit. Between the two corner frequencies, the phase changes substantially, approaching −90 degrees. EXERCISE PROBLEM Ex 7.7: The circuit shown in Figure 7.27(a) has parameters V + = 10 V, V − = −10 V, RS = 0.5 k, RE = 4 k, and RC = 2 k. The transistor parameters are: VB E(on) = 0.7 V, VA = ∞, and β = 100. (a) Determine the value of CE such that the low-frequency 3 dB point is fB = 200 Hz. (b) Using the results from part (a), determine fA. (Ans. (a) CE = 49.5 μF, (b) f A = 0.80 Hz) The analysis of an FET amplifier with a source bypass capacitor is essentially the same as for the bipolar circuit. The general form of the voltage gain expression is the same as Equation (7.60), and the Bode plot of the gain is essentially the same as that shown in Figure 7.28. 7.3.5 Combined Effects: Coupling and Bypass Capacitors When a circuit contains multiple capacitors, the frequency response analysis becomes more complex. In many amplifier applications, the circuit is to amplify an nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 500 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 500 Part 1 Semiconductor Devices and Basic Applications input signal whose frequency is confined to the midband range. In this case, the actual frequency response outside the midband range is not of interest. The endpoints of the midband range are defined to be those frequencies at which the gain decreases by 3 dB from the maximum midband value. These endpoint frequencies area function of the high- and low-frequency capacitors. These capacitors introduce a pole to the amplifier transfer function. If multiple coupling capacitors, for example, exist in a circuit, one capacitor may introduce the pole that produces the 3 dB reduction in the maximum gain at the low frequency. This pole is referred to as the dominant pole. A more detailed discussion of dominant poles is given in Chapter 12. A zero-value time constant analysis can be used to estimate the dominant pole in a circuit containing multiple capacitors. At this point in the text, we will determine the frequency response of circuits containing multiple capacitors with a computer simulation. As an example, Figure 7.30 shows a circuit with two coupling capacitors and an emitter bypass capacitor, all of which affect the circuit response at low frequencies. We could develop a transfer function that includes all the capacitors, but the analysis of such circuits is most easily handled by computer. +10 V |AV | RE = 10 kΩ 100 R1 = 320 kΩ 6 dB/octave R = 0.1 kΩ CS CC 1 EC2 = 2 mF 10 C1 = 1 mF CC2 v + s v – o R = 280 kΩ C1 = 1 mF 2 RC = 1 C2 = 2 mF 5 kΩ RL = 2 kΩ 12 dB/octave 0.1 –10 V 0.1 1 10 102 103 104 f (Hz) Figure 7.30 Circuit with two coupling capacitors Figure 7.31 PSpice results for each coupling capacitor, and the and an emitter bypass capacitor combined effect for the circuit in Figure 7.30 (CE → ∞) Figure 7.31 is the Bode plot of the voltage gain magnitude for the example circuit, taking into account the effects of the two coupling capacitors. In this case, the bypass capacitor is assumed to be a short circuit. The plots consider C1 and C2 individually, as well as together. As expected, with two capacitors both acting at the same time, the slope is 40 dB/decade or 12 dB/octave. Since the poles are not far apart, in the actual circuit, we cannot consider the effect of each capacitor individually. Figure 7.32 is the Bode plot of the voltage gain magnitude, taking into account the emitter bypass capacitor and the two coupling capacitors. The plot shows the effect of the bypass capacitor, the effect of the two coupling capacitors, and the net effect of the three capacitors together. When all three capacitors are taken into account, the slope is continually changing; there is no definitive corner frequency. However, at approximately f = 150 Hz, the curve is 3 dB below the maximum asymptotic nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 501 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 501 |AV | 100 C1 = 1 mF 10 C2 = 2 mF CE = 50 mF CE = 50 mF 1 C1 = 1 mF C2 = 2 mF 0.1 0.1 1 10 102 103 104 f (Hz) Figure 7.32 PSpice results for the two coupling capacitors, the bypass capacitor, and the combined effects value, and this frequency is defined as the lower corner frequency, or lower cutoff frequency. Test Your Understanding TYU 7.4 Consider the common-base circuit shown in Figure 7.33. Can the two coupling capacitors be treated separately? (a) From a computer analysis, determine the cutoff frequency. Assume the parameter values are β = 100 and IS = 2 × 10−15 A. (b) Determine the midband small-signal voltage gain. (Ans. (a) f3 db = 1.2 kHz, (b) Av = 118) +5 V RC = 2.3 kΩ R1 = 20 kΩ vO CC1 = 1 mF CC1 = 4.7 mF CC2 = 4.7 mF vo v + s – R2 = v + RE = 10 kΩ R = 5 kΩ RL = 20 kΩ C = 10 mF s CR = E – 10 kΩ E + – 5 kΩ VEE = 10 V VCC = 10 V – + –5 V Figure 7.33 Figure for Exercise TYU 7.4 Figure 7.34 Figure for Exercise TYU 7.5 TYU 7.5 The common-emitter circuit shown in Figure 7.34 contains both a coupling capacitor and an emitter bypass capacitor. (a) From a computer analysis, determine the 3 dB frequency. Assume the parameter values are β = 100 and IS = 2 × 10−15 A. (b) Determine the midband small-signal voltage gain. (Ans. (a) f3 dB ≈ 575 Hz, (b) |Av|max = 74.4) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 502 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 502 Part 1 Semiconductor Devices and Basic Applications 7.4 FREQUENCY RESPONSE: BIPOLAR TRANSISTOR Objective: • Determine the frequency response of the bipolar transistor, and determine the Miller effect and Miller capacitance. Thus far, we have considered the frequency response of circuits as a function of external resistors and capacitors, and we have assumed the transistor to be ideal. However, both bipolar transistors and FETs have internal capacitances that influence the high-frequency response of circuits. In this section, we will first develop an expanded small-signal hybrid-π model of the bipolar transistor, taking these capacitances into account. We will then use this model to analyze the frequency characteristics of the bipolar transistor. 7.4.1 Expanded Hybrid-π Equivalent Circuit When a bipolar transistor is used in a linear amplifier circuit, the transistor is biased in the forward-active region, and small sinusoidal voltages and currents are superimposed on the dc voltages and currents. Figure 7.35(a) shows an npn bipolar transistor in a common-emitter configuration, along with the small-signal voltages and currents. Figure 7.35(b) is across section of the npn transistor in a classic integrated circuit configuration. The C, B, and E terminals are the external connections to the transistor, and the C′, B′, and E′ points are the idealized internal collector, base, and emitter regions. To construct the equivalent circuit of the transistor, we will first consider various pairs of terminals. Figure 7.36(a) shows the equivalent circuit for the connection between the external base input terminal and the external emitter terminal. Resistance rb is the base series resistance between the external base terminal Band the internal base region B′. The B′–E′ junction is forward biased; therefore, Cπ is the forward- biased junction capacitance and rπ is the forward-biased junction diffusion resistance. Both parameters are functions of the junction current. Finally, rex is the emitter series resistance between the external emitter terminal and the internal emitter region. This resistance is usually very small, on the order of 1 to 2 . Figure 7.36(b) shows the equivalent circuit looking into the collector terminal. Resistance rc is the collector series resistance between the external and internal CB E BC Ic n I p E' b C + n B p B' p + Vce V C' be – – n+ buried layer E (a) (b) Figure 7.35 (a) Common-emitter npn bipolar transistor with small-signal currents and voltages and (b) cross section of an npn bipolar transistor, for the hybrid-π model"
7.4 Frequency Response: Bipolar Transistor,"7.4 FREQUENCY RESPONSE: BIPOLAR TRANSISTOR Objective: • Determine the frequency response of the bipolar transistor, and determine the Miller effect and Miller capacitance. Thus far, we have considered the frequency response of circuits as a function of external resistors and capacitors, and we have assumed the transistor to be ideal. However, both bipolar transistors and FETs have internal capacitances that influence the high-frequency response of circuits. In this section, we will first develop an expanded small-signal hybrid-π model of the bipolar transistor, taking these capacitances into account. We will then use this model to analyze the frequency characteristics of the bipolar transistor. 7.4.1 Expanded Hybrid-π Equivalent Circuit When a bipolar transistor is used in a linear amplifier circuit, the transistor is biased in the forward-active region, and small sinusoidal voltages and currents are superimposed on the dc voltages and currents. Figure 7.35(a) shows an npn bipolar transistor in a common-emitter configuration, along with the small-signal voltages and currents. Figure 7.35(b) is across section of the npn transistor in a classic integrated circuit configuration. The C, B, and E terminals are the external connections to the transistor, and the C′, B′, and E′ points are the idealized internal collector, base, and emitter regions. To construct the equivalent circuit of the transistor, we will first consider various pairs of terminals. Figure 7.36(a) shows the equivalent circuit for the connection between the external base input terminal and the external emitter terminal. Resistance rb is the base series resistance between the external base terminal Band the internal base region B′. The B′–E′ junction is forward biased; therefore, Cπ is the forward- biased junction capacitance and rπ is the forward-biased junction diffusion resistance. Both parameters are functions of the junction current. Finally, rex is the emitter series resistance between the external emitter terminal and the internal emitter region. This resistance is usually very small, on the order of 1 to 2 . Figure 7.36(b) shows the equivalent circuit looking into the collector terminal. Resistance rc is the collector series resistance between the external and internal CB E BC Ic n I p E' b C + n B p B' p + Vce V C' be – – n+ buried layer E (a) (b) Figure 7.35 (a) Common-emitter npn bipolar transistor with small-signal currents and voltages and (b) cross section of an npn bipolar transistor, for the hybrid-π model nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 503 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 503 rb B' B + V r pp Cp C' r – c E' C rm gmVp ro Cs rex B' C' E E' Cm (a) (b) (c) Figure 7.36 Components of the hybrid-π equivalent circuit: (a) base to emitter, (b) collector to emitter, and (c) base to collector rm rb r B' C' c BC Cm + Vp rp Cp ro Cs g – mVp E' rex E Figure 7.37 Hybrid-π equivalent circuit collector connections, and capacitance Cs is the junction capacitance of the reverse- biased collector–substrate junction. The dependent current source, gm Vπ , is the transistor collector current controlled by the internal base–emitter voltage. Resistance ro is the inverse of the output conductance go and is due primarily to the Early effect. Finally, Figure 7.36(c) shows the equivalent circuit of the reverse-biased B′–C′ junction. Capacitance Cμ is the reverse-biased junction capacitance, and rμ is the reverse-biased diffusion resistance. Normally, rμ is on the order of megohms and can be neglected. The value of Cμ is usually much smaller than Cπ ; however, because of a phenomenon known as the Miller effect, Cμ usually cannot be neglected. (We will consider the Miller effect later in this chapter.) The complete hybrid-π equivalent circuit for the bipolar transistor is shown in Figure 7.37. The capacitances lead to frequency effects in the transistor. One result is that the gain is a function of the input signal frequency. Because of the large number of elements, a computer simulation of this complete model is easier than a hand analysis. However, we can make some simplifications in order to evaluate some fundamental frequency effects of bipolar transistors. 7.4.2 Short-Circuit Current Gain We can begin to understand the frequency effects of the bipolar transistor by first determining the short-circuit current gain, after simplifying the hybrid-π model. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 504 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 504 Part 1 Semiconductor Devices and Basic Applications Cm BC + Ic Ib Vp rp Cp ro – gmVp E Figure 7.38 Simplified hybrid-π equivalent circuit for determining the short-circuit current gain Figure 7.38 shows a simplified equivalent circuit for the transistor, in which we neglect the parasitic resistances rb, rc, and rex , the BC diffusion resistance rμ, and the substrate capacitance Cs. Also, the collector is connected to signal ground. Keep in mind that the transistor must still be biased in the forward-active region. We will determine the small-signal current gain Ai = Ic/Ib . Writing a KCL equation at the input[ node, we find that ] I = Vπ b + Vπ + Vπ = 1 V r 1 1 π + jω(Cπ + Cr μ) (7.63) π π jωCπ jωCμ We see that Vπ is no longer equal to Ibrπ , since a portion of Ibis now shunted through Cπ and Cμ. From a KCL equation at the output node, we obtain Vπ + Ic = gm Vπ (7.64(a)) 1 jωCμ or Ic = Vπ(gm − jωCμ) (7.64(b)) The input voltage Vπ can then be written as = IV c π − (7.64(c)) (gm jωCμ) Substituting th[is expression for Vπ i]nto Equation (7.63) yields 1 + jω(Cπ + Cμ) I = I · rπ b c (7.65) (gm − jωCμ) The small-signal current gain usually designated ash f e , becomes Ic (gm − jωC A μ) i = = hf e = [ ] (7.66) Ib 1 + jω(Cr π + Cμ) π If we assume typical circuit parameter values of Cμ = 0.05 pF, gm = 50 mA/V, and a maximum frequency off = 500 MHz, then we see that ωCμ  gm . Therefore, to a good approximation, the small-signal current gain is ∼= [ gm ] = gr h m π f e (7.67) 1 + 1 + jωr (C + C ) jω(Cπ + C π π μ r μ) π nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 505 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 505 |hfe| bo 3 dB Phase fb f 0 –45° 1 ff f –90° b T (a) (b) Figure 7.39 Bode plots for the short-circuit current gain: (a) magnitude and (b) phase Since gmrπ = β , then the low frequency current gain is just β , as we previously assumed. Equation (7.67) shows that, in a bipolar transistor, the magnitude and phase of the current gain are both functions of the frequency. Figure 7.39(a) is a Bode plot of the short-circuit current gain magnitude. The corner frequency, which is also the beta cutoff frequency fβ in this case, is given by 1 fβ = 2πrπ(Cπ + (7.68) Cμ) Figure 7.39(b) shows the phase of the current gain. As the frequency increases, the small-signal collector current is no longer in phase with the small-signal base current. At high frequencies, the collector current lags the input current by 90 degrees. EXAMPLE 7.8 Objective: Determine the 3 dB frequency of the short-circuit current gain of a bipolar transistor. Consider a bipolar transistor with parameters rπ = 2.6 k, Cπ = 0.5 pF, and Cμ = 0.025 pF. Solution: From Equation (7.68), we find 1 fβ = + = 1 2πr (CC ) 2π(2.6 × 103 π π μ )(0.5 + 0.025)(10−12) or fβ = 117 MHz Comment: High-frequency transistors must have small capacitances; therefore, small devices must be used. EXERCISE PROBLEM Ex 7.8: A bipolar transistor has parameters βo = 120, Cμ = 0.02 pF, and fβ = 90 MHz and is biased at IC Q = 0.2 mA. (a) Determine Cπ . (b) What is the magnitude of the short-circuit current gain at (i) f = 50 MHz, (ii) f = 125 MHz, and (iii) f = 500 MHz. (Ans. (a) Cπ = 0.093 pF; (b) (i) 105, (ii) 70.1, (iii) 21.3) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 506 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 506 Part 1 Semiconductor Devices and Basic Applications 7.4.3 Cutoff Frequency Figure 7.39(a) shows that the magnitude of the small-signal current gain decreases with increasing frequency. At frequency fT , which is the cutoff frequency, this gain goes to 1. The cutoff frequency is a figure of merit for transistors. From Equation (7.67), we can write the small-signal current gain in the form β h fe = (o ) (7.69) 1 + f j fβ where fβ is the beta cutoff frequency defined by Equation (7.68). The magnitude of h fe i ∣∣ s ∣∣ = √ β ho fe ( ) (7.70) f 2 1 + fβ At th∣ecu ∣ ∣∣ toff frequency fT , |hf e| = 1, and Equation (7.70) becomes = = √ β h fe 1 (o ) (7.71) f 2 1 + T fβ Normally, βo  1, which implies that fT  fβ . Then Equation (7.71) can be written as ∼= √(β 1 o ) = βo fβ (7.72(a)) f 2 fT T fβ or fT = βo fβ (7.72(b)) Frequency fβ is also called the bandwidth of the transistor. Therefore, from Equation (7.72(b)), the cutoff frequency fT is the gain–bandwidth product of the transistor, or more commonly the unity-gain bandwidth. From Equation (7.68), the unity-gain ba[ndwidth is ] 1 g f m T = βo = (7.73) 2πrπ(Cπ + Cμ) 2π(Cπ + Cμ) Since the capacitances area function of the size of the transistor, we see again that high frequency transistors imply small device sizes. The cutoff frequency fT is also a function of the dc collector current IC, and the gen- fT eral characteristic of fT versus IC is shown in Figure 7.40. The transconductance gm is directly proportional to IC, but only a portion of Cπ is related to IC. The cutoff frequency is therefore lower at low collector current levels. However, the cutoff frequency also decreases at high current levels, in the same way that β decreases at large currents. The cutoff frequency or unity-gain bandwidth of a transistor is usually specified IC on the device data sheets. Since the low-frequency current gain is also given, the beta cutoff frequency, or bandwidth, of the transistor can be determined from Figure 7.40 Cutoff frequency versus collector = ff T (7.74) current β βo nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 507 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 507 The cutoff frequency of the general-purpose 2N2222A discrete bipolar transistor is fT = 300 MHz. For the MSC3130 discrete bipolar transistor, which has a special surface mount package, the cutoff frequency is fT = 1.4 GHz. This tells us that very small transistors fabricated in integrated circuits can have cutoff frequencies in the low GHz range. EXAMPLE 7.9 Objective: Calculate the bandwidth fβ and capacitance Cπ of a bipolar transistor. Consider a bipolar transistor that has parameters fT = 20 GHz at IC = 1 mA, βo = 120, and Cμ = 0.08 pF. Solution: From Equation (7.74), we find the bandwidth as = fT = 20 × 109 fβ → f 120 β = 167 MHz βo The transconductance is gm = IC = 1 = 38.46 mA/V VT 0.026 The Cπ capacitance is determined from Equation (7.73). We have = g f m T 2π(Cπ + Cμ) or × 9 = 38.5 × 10−3 20 10 2π(Cπ + 0.08 × 10−12) which yields Cπ = 0.226 pF. Comment: Although the value of Cπ maybe much larger than that of Cμ, Cμ cannot be neglected in circuit applications as we will see in the next section. EXERCISE PROBLEM Ex 7.9: A BJT is biased at IC = 0.15 mA, and has parameters βo = 150, Cπ = 0.8 pF, and Cμ = 0.012 pF. Determine fβ and fT . (Ans. fβ = 7.54 MHz, fT = 1.13 GHz) The hybrid-π equivalent circuit for the bipolar transistor uses discrete or lumped elements. However, when cutoff frequencies are on the order of fT =∼ 10 GHz and the transistor is operated at microwave frequencies, other parasitic elements and distributed parameters must be included in the transistor model. For simplicity, we will assume in this text that the hybrid-π model is sufficient to model the transistor characteristics up through the beta cutoff frequency. 7.4.4 Miller Effect and Miller Capacitance As previously mentioned, the Cμ capacitance cannot in reality be ignored. The Miller effect, or feedback effect, is a multiplication effect of Cμ in circuit applications. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 508 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 508 Part 1 Semiconductor Devices and Basic Applications VCC RC RC 1 C2 vo CC1 io Cm RV Lo Ii r R + o s s 2 RI B = s Vp rp C RC R RE CE rs ⎪⎪R1⎪⎪ p LR2 – gmVp (a) (b) Figure 7.41 (a) Common-emitter circuit with current source input; (b) small-signal equivalent circuit with simplified hybrid-π model Figure 7.41(a) is a common-emitter circuit with a signal current source at the input. We will determine the small-signal current gain Ai = io/ is of the circuit. Figure 7.41(b) is the small-signal equivalent circuit, assuming the frequency is sufficiently high for the coupling and bypass capacitors to act as short circuits. The transistor model is the simplified hybrid-π circuit shown in Figure 7.38 (assuming ro = ∞). Capacitor Cμ is a feedback element that connects the output back to the input. The output voltage and current will therefore influence the input characteristics. The presence of Cμ complicates the analysis. Previously, we could write KCL equations at the input and output nodes and derive an expression for the current gain. I C 1 m I2 Here, however, we will approach the problem differently. We will treat capacitor Cμ as a two-port network and will develop an equivalent circuit, with elements between + + the input base and ground and between the output collector and ground. This proce- Vp Vo dure may appear more complicated, but it will demonstrate the effect of Cμ more – – clearly. Consider the circuit segment between the two dotted lines in Figure 7.41(b). We can treat this section as a two-port network, as shown in Figure 7.42. The input volt- Figure 7.42 Two-terminal age is Vπ and the output voltage is Vo. Also, the input and output currents, I1 and I2, network of capacitor Cμ are defined as shown in the figure. Writing (KVL eq)uations at the input and output terminals, we now have = 1 Vπ I1 + Vo (7.75(a)) jωCμ and ( ) 1 Vo = I2 + Vπ (7.75(b)) jωCμ Using Equations (7.75(a)) and (7.75(b)), we can form a two-port equivalent circuit, as shown in Figure 7.43(a). We then convert the Thevenin equivalent circuit on the output to a Norton equivalent circuit, as shown in Figure 7.43(b). nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 509 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 509 I Cm C 1 m I2 I Cm I 1 2 + + + + V + + + Vp p V – o V – p V V V op o – Isc = w CV (1/ j Cm om) – – – – (a) (b) Figure 7.43 (a) Two-port equivalent circuit of capacitor Cμ with equivalent output circuits: (a) Thevenin equivalent and (b) Norton equivalent II 1 2 Vo C + m Io Is RB Vp rp Cp Cm RC R + LI – sc = Vo jw g V Cm p mVp Figure 7.44 Small-signal equivalent circuit, including the two-port equivalent model of capictor Cμ The equivalent circuit in Figure 7.43(b) replaces the circuit segment between the dotted lines in Figure 7.41(b), and the modified circuit is shown in Figure 7.44. To evaluate this circuit, we will make some simplifying approximations. Typical values of gm and Cμ are gm = 50 mA/V and Cμ = 0.05 pF. From these values, we can calculate the frequency at which the magnitudes of the two dependent current sources are equal. If ωCμVπ = gm Vπ (7.76(a)) then = gm = 50 × 10−3 f × − = 1.59 × 1011 Hz ⇒ 159 GHz (7.76(b)) 2πCμ 2π(0.05 10 12) Since the frequency of operation of bipolar transistors is far less than 159 GHz, the current source Isc = jωCμVπ is negligible compared to the gm Vπ source. We can now calculate the frequency at which the magnitude of the impedance of Cμ is equal to RC‖RL . If 1 = RC‖RL (7.77(a)) ωCμ then = 1 f (7.77(b)) 2πCμ(RC‖RL) If we assume RC = RL = 4 k, which are typical values for discrete bipolar circuits, then f = 1 9 2π(0.05 × 10− × ‖ × = 1.59 × 10 Hz (7.78) 12)[(4 103) (4 103)] nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 510 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 510 Part 1 Semiconductor Devices and Basic Applications I1 Vo Cm I + o Is RB Vp rp Cp + RC RL – – V gmV op Figure 7.45 Small-signal equivalent circuit, including approximations If the frequency of operation of the bipolar transistor is very much smaller than 1.59 GHz, then the impedance of Cμ will be much greater than RC‖RL and Cμ can be considered an open circuit. Using these approximations, the circuit in Figure 7.44 reduces to that shown in Figure 7.45. The I1 versus Vπ characteristic of the circuit segment between the dotted lines is I = Vπ − Vo 1 = jωCμ(Vπ − Vo) (7.79) 1 jωCμ The output voltage is Vo = −gm Vπ(RC‖RL) (7.80) Substituting Equation (7.80) into (7.79), we obtain I1 = jωCμ[1 + gm(RC‖RL)]Vπ (7.81) In Figure 7.45, the circuit segment between the dotted lines can be replaced by an equivalent capacitance given by CM = Cμ[1 + gm(RC‖RL)] (7.82) as shown in Figure 7.46. Capacitance CM is called the Miller capacitance, and the multiplication effect of Cµ is the Miller effect. For the equivalent circuit in Figure 7.46, the input capacitance is now Cπ + CM , rather than just Cπ if Cμ had been ignored. Vo Io + Is RB Vp rp Cp CM RC RL – gmVp Figure 7.46 Small-signal equivalent circuit, including the equivalent Miller capacitance EXAMPLE 7.10 Objective: Determine the 3 dB frequency of the current gain for the circuit shown in Figure 7.46, both with and without the effect of CM. The circuit parameters are: RC = RL = 4 k, rπ = 2.6 k, RB = 200 k, Cπ = 0.8 pF, Cμ = 0.05 pF, and gm = 38.5 mA/V. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 511 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 511 Solution: The outpu(t current ca)n be written as = − RI Co (gm Vπ) RC + RL Also, the inp[ut voltag∥∥e is V = Is [RB‖r ∥∥ ∥ 1 ∥∥∥ ] 1 π π jωCπ jωCM = RB‖ ] r I π s 1 + jω(RB‖rπ)(Cπ + CM) Therefore, the current( gain is )[ ] = Io = − RR ‖r Ai g CB π I ms RC + RL 1 + jω(RB‖rπ)(Cπ + CM) The 3 dB frequency is 1 f3 dB = 2π(RB‖rπ)(Cπ + CM) Neglecting the effect of Cμ(CM = 0), we find that = 1 fβ ⇒ 77.5 MHz 2π[(200 × 103)‖(2.6 × 103)](0.8 × 10−12) The Miller capacitance is CM = Cμ[1 + gm(RC‖RL)] = (0.05)[1 + (38.5)(4‖4)] = 3.9 pF Taking into account the Miller capacitance, the 3 dB frequency is 1 f3 –dB = 2π(RB‖rπ)(Cπ + CM) = 1 × ‖ ⇒ 13.2 MHz 2π[(200 103) (2.6 × 103)][0.8 + 3.9](10−12) Comment: The Miller effect, or multiplication factor of Cμ, is 78, giving a Miller capacitance of CM = 3.9 pF. The Miller capacitance, in this case, is approximately a factor of five larger than Cπ . This means that the actual transistor bandwidth is approximately six times less than the bandwidth expected if Cμ is neglected. The Miller capacitance, from Equation (7.82), can be written in the form CM = Cμ(1 + |Av|) (7.83) where Avis the internal base-to-collector voltage gain. The physical origin of the Miller effect is in the voltage gain factor appearing across the feedback element Cμ. A small input voltage Vπ produces a large output voltage Vo = −|Av| · Vπ of the opposite polarity at the output of Cμ. Thus the voltage across Cμ is (1 + |Av|)Vπ , which induces a large current through Cμ. For this reason, the effect of Cμ on the input portion of the circuit is significant. We can now see one of the tradeoffs that can be made in an amplifier design. The tradeoff is between amplifier gain and bandwidth. If the gain is reduced, then the Miller capacitance will be reduced and the bandwidth will be increased. We will consider this tradeoff again when we consider the cascode amplifier later in the chapter. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 512 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 512 Part 1 Semiconductor Devices and Basic Applications Discussion: In Equation (7.80), we assumed that | jωCμ|  gm , which is valid even for frequencies i(n the 100 MHz ran)ge. If jωCμ is not negligible, we can write 1 gm Vπ + Vo ‖ + jωCμ = 0 (7.84) RC RL Equation (7.84) implies that a capacitance Cμ should be in parallel with RC and RL in the output portion of the equivalent circuit in Figure 7.44. For RC = RL = 4 k and Cμ = 0.05 pF, we indicated that this capacitance is negligible for f  1.5 GHz. However, in special circuits involving, for example, active loads, the equivalent RC and RL resistances maybe on the order of 100 k. This means that the Cμ capacitance in the output part of the circuit is not negligible for frequencies even in the low- megahertz range. We will consider a few special cases in which Cμ in the output circuit is not negligible. EXERCISE PROBLEM Ex 7.10: For the circuit in Figure 7.41(a), the parameters are R1 = 200 k, R2 = 220 k, RC = 2.2 k, RL = 4.7 k, RE = 1 k, rs = 100 k, and VCC = 5 V. The transistor parameters are βo = 100, VB E(on) = 0.7 V, VA = ∞, and Cπ = 1 pF. Consider the simplified hybrid-π model of the transistor. (a) Determine the midband current gain Ai = Io/Ii . (b) Find the Miller capacitance CM for (i) Cμ = 0 and (ii) Cμ = 0.08 pF. (c) Determine the upper 3 dB frequency for (i) Cμ = 0 and (ii) Cμ = 0.08 pF. (Ans. (a)Ai = −30.24; (b) (i) CM = 0 , (ii) CM = 4.38 pF; (c) (i) f3dB = 60.2 MHz, (ii) f3dB = 11.2 MHz) 7.4.5 Physical Origin of the Miller Effect Figure 7.47(a) shows the hybrid-π equivalent circuit of the bipolar transistor with a load resistor RC connected at the output. Figure 7.47(b) shows the equivalent circuit with the Miller capacitance. As a first approximation, the output voltage is vo = −gmvπ RC . Assuming sinusoidal signals, Figure 7.48 shows the input signal vπ and the output signal vo. As we have noted previously, the output signal is 180 degrees out of phase with respect to the input signal. In addition, because of the gain, the magnitude of the output voltage is larger than the input voltage. The difference between vπ and vo is the voltage across the Cμ capacitor as seen in Figure 7.47(a). i B c Cm CB C vo vo + + i + vc – c CM vp rp Cp RC vp rp RC Cg m mvp gmvp – – E E (a) (b) Figure 7.47 (a) Hybrid-π equivalent circuit of a bipolar transistor with a load resistor RC connected to the output. (b) Equivalent circuit with the Miller capacitance. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 513 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 513 vo vp t vc Figure 7.48 Input signal voltage vπ and output signal voltage vo for the circuits in Figure 7.47 We may write the sinusoidal signals as v = V e jωt , v = V e jωt π π o o , and vc = V e jωt c . The current ic through the capacitor Cμ can be written as ic = dv Cc μ (7.85(a)) dt Using phasor notation, we find Ic = jωCμVc (7.85(b)) This current influences the input impedance looking into the base terminal of the transistor. For the two circuits shown in Figures 7.47(a) and 7.47(b) to be equivalent, the current ic in the two circuits must be the same. From Figure 7.47(b), we can write dv iC = C π M (7.86(a)) dt or using phasors, we have Ic = jωCM Vπ (7.86(b)) For the two capacitor currents in Equations (7.85(b)) and (7.86(b)) to be equal, we must have CμVc = CM Vπ (7.87) From the signals shown in Figure 7.48, we see that Vπ < Vc so that we must have CM > Cμ. Because of the 180 degree phase shift and voltage gain, the voltage across Cμ is quite large leading to a relatively significant value of capacitor current ic. In order to have the current in the Miller capacitor CM be the same with a smaller voltage across CM , the value of CM must be relatively large. This, then, is the physical origin of the Miller multiplication effect. Test Your Understanding TYU 7.6 A bipolar transistor is biased at IC Q = 120 μA and its parameters are βo = 120, Cμ = 0.08 pF, and fβ = 15 MHz. Determine the capacitance Cπ . (Ans. Cπ = 0.328 pF) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 514 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 514 Part 1 Semiconductor Devices and Basic Applications TYU 7.7 Fo∣∣r the∣∣ transist∣or described in Example 7.9 and biased at the same Q-point, dete∣rmi∣ne hf e and the ph∣ase at (a) f = 150 MHz, (∣b) ∣f = 500 MHz, and (c) f =∣ 4 G∣Hz. (Ans. (a) ∣hf e∣ = 89.3, φ = −41.9°; (b) ∣hf e∣ = 38.0, φ = −71.5°; (c) hf e = 5.0, φ = −87.6°) TYU 7.8 The parameters of a bipolar transistor are: βo = 150, fT = 1 GHz, rπ = 12 k, and Cμ = 0.15 pF. (a) Determine Cπ and fβ . (b) What is the bias current in the transistor? (Ans. (a) Cπ = 1.84 pF, fβ = 6.67 MHz; (b) IC Q = 0.325 mA) 7.5 FREQUENCY RESPONSE: THE FET Objective: • Determine the frequency response of the MOS transistor, and determine the Miller effect and Miller capacitance. We have considered the expanded hybrid-π equivalent circuit of the bipolar transistor that models the high-frequency response of the transistor. We will now develop the high-frequency equivalent circuit of the FET that takes into account various capacitances in the device. We will develop the model for a MOSFET, but it also applies to JFETs and MESFETs. 7.5.1 High-Frequency Equivalent Circuit We will construct the small-signal equivalent circuit of a MOSFET from the basic MOSFET geometry, as described in Chapter 3. Figure 7.49 shows a model based on the inherent capacitances and resistances in an n-channel MOSFET, as well as the elements representing the basic device equations. We make one simplifying assumption in the equivalent circuit: The source and substrate are both tied to ground. Two capacitances connected to the gate are inherent in the transistor. These capacitances, Cgs and Cgd , represent the interaction between the gate and the channel GS D Cgsp CC C gdp gs gd rs rd n+ n+ gmV'gs Cds p Figure 7.49 Inherent resistances and capacitances in then-channel MOSFET structure"
7.5 Frequency Response: The FET,"7.5 FREQUENCY RESPONSE: THE FET Objective: • Determine the frequency response of the MOS transistor, and determine the Miller effect and Miller capacitance. We have considered the expanded hybrid-π equivalent circuit of the bipolar transistor that models the high-frequency response of the transistor. We will now develop the high-frequency equivalent circuit of the FET that takes into account various capacitances in the device. We will develop the model for a MOSFET, but it also applies to JFETs and MESFETs. 7.5.1 High-Frequency Equivalent Circuit We will construct the small-signal equivalent circuit of a MOSFET from the basic MOSFET geometry, as described in Chapter 3. Figure 7.49 shows a model based on the inherent capacitances and resistances in an n-channel MOSFET, as well as the elements representing the basic device equations. We make one simplifying assumption in the equivalent circuit: The source and substrate are both tied to ground. Two capacitances connected to the gate are inherent in the transistor. These capacitances, Cgs and Cgd , represent the interaction between the gate and the channel GS D Cgsp CC C gdp gs gd rs rd n+ n+ gmV'gs Cds p Figure 7.49 Inherent resistances and capacitances in then-channel MOSFET structure nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 515 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 515 inversion charge near the source and drain terminals, respectively. If the device is biased in the nonsaturation region and vDS is small, the channel inversion charge is approximately unif(or)m, which means that C 1 gs ∼= Cgd =∼ 2 W LCox where Cox(F/cm2) = εox/tox. The parameter εox is the oxide permittivity, which for silicon MOSFETs is εox = 3.9εo , where εo = 8.85 × 10−14 F/cm is the permittivity of free space. The parameter tox is the oxide thickness in cm. However, when the transistor is biased in the saturation region, the channel is pinched off at the drain and the inversion charge is no longer uniform. The value of Cgd essentially goes to zero, and Cgs approximately equals (2/3)W LCox. As an example, if a device has an oxide thickness of 100 Å, a channel length of L = 0.18 μm, and a channel width of W = 20 μm, the value of Cgs is Cgs ∼= 8.3 fF. The value of Cgs changes as the device size changes, but typical values are in the tens of femto- farads range. The remaining two gate capacitances, Cgsp and Cgdp , are parasitic or overlap capacitances, so called because, in actual devices, the gate oxide overlaps the source and drain contacts, because of tolerances or other fabrication factors. As we will see, the drain overlap capacitance Cgdp lowers the bandwidth of the FET. The parameter Cds is the drain-to-substrate pn junction capacitance, and rs and rd are the series resistances of the source and drain terminals. The internal gate-to-source voltage controls the small-signal channel current through the transconductance. The small-signal equivalent circuit for then-channel common-source MOSFET is shown in Figure 7.50. Voltage V ′ gs is the internal gate-to-source voltage that controls the channel current. We will assume that the gate-to-source and gate-to-drain capacitances, Cgs and Cgd , contain the parasitic overlap capacitances. One parameter, ro, shown in Figure 7.50 is not shown in Figure 7.49. This resistance is associated with the slope of ID versus VDS . In the ideal MOSFET biased in the saturation region, ID is independent of VDS , which means that ro is infinite. However, ro is finite in short-channel-length devices, because of channel-length modulation, and is therefore included in the equivalent circuit. Source resistance rs can have a significant effect on the transistor characteristics. To illustrate, Figure 7.51 shows a simplified low-frequency equivalent circuit including rs but not ro. For this circuit, the drain current is Id = g ′ m Vgs (7.88) G Cgd rd D GD + + + + IV' d V' C gs gs gs ro Cds gmV' g V'gs gs V – m gs – Vgs rs – S rs – S Figure 7.51 Simplified low-frequency equivalent circuit of then-channel Figure 7.50 Equivalent circuit of then-channel common-source MOSFET including common-source MOSFET source resistance rs but not resistance ro nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 516 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 516 Part 1 Semiconductor Devices and Basic Applications and the relationship between Vgs and V ′ gs is V = V ′ + (g V ′ gs gs m gs)rs = (1 + gmr )V ′ s gs (7.89) From Equ(ation (7.88)), the drain current can now be written as Id = gm + Vgs = g′ m Vgs (7.90) 1 gmrs Equation (7.90) shows that the source resistance reduces the effective transconductance, or the transistor gain. The equivalent circuit of a p-channel MOSFET is exactly the same as that of an n-channel device, except that all voltage polarities and current directions are reversed. The capacitances and resistances are the same for both models. 7.5.2 Unity-Gain Bandwidth As for the bipolar transistor, the unity-gain frequency or bandwidth is a figure of merit for the FETs. If we neglect rs , rd , ro, and Cds , and connect the drain to signal ground, the resulting equivalent small-signal circuit is shown in Figure 7.52. Since the input gate impedance is no longer infinite at high frequency, we can define the short-circuit current gain. From that we can define and calculate the unity-gain bandwidth. Writing a KCL equation at the input node, we find that VI = gs i + Vgs = Vgs[ jω(Cgs + C 1 1 gd)] (7.91) jωCgs jωCgd From a KCL equation at the output node, we obtain Vgs + Id = gm Vgs (7.92(a)) 1 jωCgd or Id = Vgs(gm − jωCgd) (7.92(b)) Solving Equation (7.92(b)) for Vgs produces = IV d gs − (7.93) (gm jωCgd) G Cgd D + Ii Id Vgs Cgs gmVgs – S Figure 7.52 Equivalent high-frequency small-signal circuit of a MOSFET, for calculating short-circuit current gain nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 517 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 517 Substituting Equation (7.93) into (7.91) yields = · [ jω(CI I gs + Cgd)] id − (7.94) (gm jωCgd) Therefore, the small-signal current gain is IA = d i = gm − jωCgd (7.95) Ii jω(Cgs + Cgd) If we assume typical values of Cgd = 10 fF and gm = 1 mA/V, and a maximum frequency off = 1 GHz, we find that ωCgd  gm . The small-signal current gain, to a good approximation, is then = IA d i =∼ gm + (7.96) Ii jω(Cgs Cgd) The unity-gain frequency fT is defined as the frequency at which the magnitude of the short-circuit current gain goes to 1. From Equation (7.96) we find that fT = gm (7.97) 2π(Cgs + Cgd) The unity-gain frequency or bandwidth is a parameter of the transistor and is independent of the circuit. EXAMPLE 7.11 Objective: Determine the unity-gain bandwidth of an FET. Consider an n-channel MOSFET with parameters Kn = 1.5 mA/V2, VT N = 0.4 V, λ = 0, Cgd = 10 fF, and Cgs = 50 fF. Assume the transistor is biased at VGS = 0.8 V. Solution: The transconductance is gm = 2Kn(VGS − VT N ) = 2(1.5)(0.8 − 0.4) = 1.2 mA/V From Equation (7.97), the unity-gain bandwidth, or frequency, is g −3 f = m = 1.2 × 10 T + + × − = 3.18 × 109 Hz 2π(Cgs Cgd) 2π(50 10) 10 15 or fT = 3.18 GHz Comment: As with bipolar transistors, high-frequency FETs require small capacitances and a small device size. EXERCISE PROBLEM Ex 7.11: The parameters of an n-channel MOSFET are Kn = 1.2 mA/V2, VT N = 0.5 V, λ = 0, Cgd = 8 fF, and Cgs = 60 fF. The unity-gain frequency is found to be fT = 3 GHz. Determine the transconductance and the bias current of the MOSFET. (Ans. gm = 1.282 mA/V, IDQ = 0.342 mA) Typically, values of Cgs for MOSFETs are in the range of 10 to 50 fF and values of Cgd are typically from 0.1 to 0.5 fF. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 518 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 518 Part 1 Semiconductor Devices and Basic Applications As previously stated, the equivalent circuit is the same for MOSFETs, JFETS, and MESFETs. For JFETs, and MESFETS, capacitances Cgs and Cgd are depletion capacitances rather than oxide capacitances. Typically, for JFETs, Cgs and Cgd are larger than for MOSFETs, while the values for MESFETs are smaller. Also, for MESFETs fabricated in gallium arsenide, the unity-gain bandwidths maybe in the range of tens of GHz. For this reason, gallium arsenide MESFETs are often used in microwave amplifiers. 7.5.3 Miller Effect and Miller Capacitance As for the bipolar transistor, the Miller effect and Miller capacitance are factors in the high-frequency characteristics of FET circuits. Figure 7.53 is a simplified high- frequency transistor model, with a load resistor RL connected to the output. We will determine the current gain in order to demonstrate the impact of the Miller effect. G Cgd D + + Ii Id Vgs Cgs RL Vds gmVgs – S – Figure 7.53 Equivalent high-frequency small-signal circuit of a MOSFET with a load resistance RL Writing a Kirchhoff current law (KCL) equation at the input gate node, we have Ii = jωCgs Vgs + jωCgd(Vgs − Vds) (7.98) where Ii is the input current. Likewise, summing currents at the output drain node, we have Vds + gm Vgs + jωCgd(Vds − Vgs) = 0 (7.99) RL We can combine Equations (7.98) and (7.99) to eliminate voltage Vds . The input current is then { [ + ]} = + 1 g RI j CC m Li ω gs gd + Vgs (7.100) 1 jωRLCgd Normally, (ωRLCgd ) is much less than 1; therefore, we can neglect ( jωRLCgd ) and Equation (7.100) becomes Ii = jω[Cgs + Cgd(1 + gm RL)]Vgs (7.101) Figure 7.54 shows the equivalent circuit described by Equation (7.101). The parameter CM is the Miller capacitance and is given by CM = Cgd(1 + gm RL) (7.102) Equation (7.102) clearly shows the effect of the parasitic drain overlap capacitance. When the transistor is biased in the saturation region, as in an amplifier circuit, the major contribution to the total gate-to-drain capacitance Cgd is the overlap nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 519 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 519 G Id D + + Ii Vgs Cgs CM RL Vds gmVgs S – – Figure 7.54 MOSFET high-frequency circuit, including the equivalent Miller capacitance capacitance. This overlap capacitance is multiplied because of the Miller effect and may become a significant factor in the bandwidth of an amplifier. Minimizing the overlap capacitance is one of the challenges of fabrication technology. The cutoff frequency fT of a MOSFET is defined as the frequency at which the short circuit current gain magnitude is 1, or the magnitude of the input current Ii is equal to the ideal current Id . From Figure 7.54, we see that Ii = jω(Cgs + CM)Vgs (7.103) and the ideal short-circuit output current is Id = gm Vgs (7.104) The magnitu∣∣de ∣∣ ∣∣∣∣ of the current gain is therefore | | = IA d i = gm Ii 2π f (Cgs + (7.105) CM) Setting Equation (7.105) equal to 1, we find the cutoff frequency = g f m = gm T + (7.106) 2π(Cgs CM) 2πCG where CG is the equivalent input gate capacitance. EXAMPLE 7.12 Objective: Determine the Miller capacitance and cutoff frequency of an FET circuit. Then-channel MOSFET described in Example 7.11 is biased at the same current, and a 10 k load is connected to the output. Solution: From Example 7.11, the transconductance is gm = 1.2 mA/V. The Miller capacitance is therefore CM = Cgd(1 + gm RL) = (10)[1 + (1.2)(10)] = 130 fF From Equation (7.106), the cutoff frequency is = gm = 1.2 × 10−3 f = 1.06 × 109 T Hz 2π(C + C ) 2π(50 + 130) × 10−15 gs M or fT = 1.06 MHz Comment: The Miller effect and equivalent Miller capacitance reduce the cutoff frequency of an FET circuit, just as they do in a bipolar circuit. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 520 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 520 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 7.12: For the circuit in Figure 7.55, the transistor parameters are K 2 n = 0.8 mA/V , VT N = 2 V, λ = 0, Cgs = 100 fF, and Cgd = 20 fF. Determine (a) the midband voltage gain, (b) the Miller capacitance, and (c) the upper 3 dB frequency of the small-signal voltage gain. (Ans. (a) Av = −6.69, (b) CM = 167.6 fF, (c) f3dB = 1.32 GHz) VDD = 10 V RD = 4 kΩ R1 = 234 kΩ vo C → ∞ Ri = 10 kΩ C2 CC1 → ∞ RL = 20 kΩ v + i R = 166 kΩ – 2 RS = C → ∞ 0.5 kΩ S Figure 7.55 Figure for Exercise Ex 7.12 Test Your Understanding TYU 7.9 Ann-channel MOSFET has parameters K = 0.4 mA/V2 n , VT N = 1 V, and λ = 0. (a) Determine the maximum source resistance such that the transconductance is reduced by no more than 20 percent from its ideal value when VGS = 3 V. (b) Using the value of rs calculated in part (a), determine how much gm is reduced from its ideal value when VGS = 5 V. (Ans. (a) rs = 156 , (b) 33.3%) TYU 7.10 Ann-channel MOSFET has a unity-gain bandwidth of fT = 1.2 GHz. Assume overlap capacitances of C ′ 2 gsp = Cgdp = 3 fF, and assume kn = 100 μA/V , W/L = 15, and VT N = 0.4 V. If the transistor is biased at IDQ = 100 μA, determine Cgs . (Assume Cgd is equal to zero.) (Ans. Cgs = 66.6 fF) TYU 7.11 For a MOSFET, assume that gm = 1.2 mA/V. The basic gate capacitances are Cgs = 60 fF, Cgd = 0, and the overlap capacitances are Cgsp = Cgdp . Determine the minimum overlap capacitance for a unity-gain bandwidth of 2.5 GHz. (Ans. Cgsp = Cgdp = 8.2 fF) 7.6 HIGH-FREQUENCY RESPONSE OF TRANSISTOR CIRCUITS Objective: • Determine the high-frequency response of basic transistor circuit configurations including the cascode circuit."
7.6 High-Frequency Response of Transistor Circuits,"7.6 HIGH-FREQUENCY RESPONSE OF TRANSISTOR CIRCUITS Objective: • Determine the high-frequency response of basic transistor circuit configurations including the cascode circuit. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 521 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 521 In the last sections, we developed the high-frequency equivalent circuits for the bipolar and field-effect transistors. We also discussed the Miller effect, which occurs when transistors are operating in a circuit configuration. In this section, we will expand our analysis of the high-frequency characteristics of transistor circuits. Initially, we will look at the high-frequency response of the common-emitter and common-source configurations. We will then examine common-base and common- gate circuits, and a cascode circuit that is a combination of the common-emitter and common-base circuits. Finally, we will analyze the high-frequency characteristics of emitter-follower and source-follower circuits. In the following examples, we will use the same basic bipolar transistor circuit so that a good comparison can be made between the three circuit configurations. 7.6.1 Common-Emitter and Common-Source Circuits The transistor capacitances and the load capacitance in the common-emitter amplifier shown in Figure 7.56 affect the high-frequency response of the circuit. Initially, we will use a hand analysis to determine the effects of the transistor on the high- frequency response. In this analysis, we will assume that CC and CE are short circuits, and CL is an open circuit. A computer analysis will then be used to determine the effect of both the transistor and load capacitances. The high-frequency small-signal equivalent circuit of the common-emitter circuit is shown in Figure 7.57(a) in which CL is assumed to be an open circuit. We replace the capacitor Cμ with the equivalent Miller capacitance CM as shown in Figure 7.57(b). From our previous analysis of the Miller capacitance, we can write CM = Cμ(1 + gm R′ L) (7.107) where the output resistance R′ L is ro‖RC‖RL . The upper 3 dB frequency can be determined by using the time constant technique. We can write = 1 fH (7.108) 2πτP V+ RC R1 vo RS RL CL + C v C1 i – R2 RE CE V – Figure 7.56 Common-emitter amplifier nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 522 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 522 Part 1 Semiconductor Devices and Basic Applications RS Cm RS Vo Vo + + + V + RB = i ⎪⎪ Vp rp Cp ro RC RV Li – RB Vp rp Cp C – RM R'L 1 R2 – g V gm p mVp – (a) (b) Figure 7.57 (a) High-frequency equivalent circuit of common-emitter amplifier; (b) high- frequency equivalent circuit of common-emitter amplifier, including the Miller capacitance where τP = ReqCeq . In this case, the equivalent capacitance is Ceq = Cπ + CM , and the equivalent resistance is the effective resistance seen by the capacitance, Req = |AV | rπ‖RB‖RS . The upper corner frequency is therefore |AV |M fH = 1 2π[rπ‖RB‖ (7.109) RS](Cπ + CM) We determine the midband voltage gain magnitude by assuming Cπ and CM are fH f open circuits. ∣∣We ∣∣find that [ ] Figure 7.58 Bode plot of the | V R ‖r A | = ∣ o ∣ = g R′ B π high-frequency voltage gain v M ∣ ∣ m L ‖ + (7.110) Vi M RB rπ RS magnitude for the common- emitter amplifier The Bode plot of the high-frequency voltage gain magnitude is shown in Figure 7.58. EXAMPLE 7.13 Objective: Determine the upper corner frequency and midband gain of a common- emitter circuit. For the circuit in Figure 7.56, the parameters are: V + = 5 V, V − = −5 V, RS = 0.1 k, R1 = 40 k, R2 = 5.72 k, RE = 0.5 k, RC = 5 k, and RL = 10 k. The transistor parameters are: β = 150, VB E (on) = 0.7 V, VA = ∞, Cπ = 35 pF, and Cμ = 4 pF. Solution: From a dc analysis, we find IC Q = 1.03 mA. The small-signal parameters are therefore gm = 39.6 mA/V and rπ = 3.79 k. The Miller capacitance is then CM = Cμ(1 + g R′ m L) = Cμ[1 + gm(RC‖RL)] or CM = (4)[1 + (39.6)(5‖10)] = 532 pF and the upper 3 dB frequency is therefore fH = 1 2π[rπ‖RB‖RS](Cπ + CM) = 1 ⇒ 2.94 MHz 2π[3.79‖40‖5.72‖0.1](103)(35 + 532)(10−12) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 523 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 523 Finally, the midband[ gain is ] | R ‖r A | = g R′ B π v Mm L RB‖rπ[+ RS = ‖ 40‖ ] 5.72‖3.79 (39.6)(5 10) 40‖ = 126 5.72‖3.79 + 0.1 Comments: This example demonstrates the importance of the Miller effect. The feedback capacitance Cμ is multiplied by a factor of 133 (from 4 pF to 532 pF), and the resulting Miller capacitance CM is approximately 15 times larger than Cπ . The actual corner frequency is therefore approximately 15 times smaller than it would be if Cμ were neglected. PSpice Verification: Figure 7.59 shows the results of a PSpice analysis of this common-emitter circuit. The computer values are: Cπ = 35.5 pF and Cμ = 3.89 pF. The curve marked “Cπ only” is the circuit frequency response if Cμ is neglected; the curve marked “Cπ and Cμ only” is the response due to Cπ , Cμ, and the Miller effect. These curves illustrate that the bandwidth of this circuit is drastically reduced by the Miller effect. The corner frequency is approximately 2.5 MHz and the midband gain is 125, which agree very well with the hand analysis results. |AV | 200 100 Cp only CL = 150 pF 10 Cp and Cm CL = 5 pF only 1 104 105 106 107 108 109 f (Hz) Figure 7.59 PSpice analysis results for common-emitter amplifier The curves marked “CL = 5 pF” and “CL = 150 pF” show the circuit response if the transistor is ideal, with zero Cπ and Cμ capacitances and a load capacitance connected to the output. These results show that, for CL = 5 pF, the circuit response is dominated by the Cπ and Cμ capacitances of the transistor. However, if a large load capacitance, such as CL = 150 pF, is connected to the output, the circuit response is dominated by the CL capacitance. EXERCISE PROBLEM *Ex 7.13: The transistor in the circuit in Figure 7.60 has parameters β = 125, VB E (on) = 0.7 V, VA = 200 V, Cπ = 24 pF, and Cμ = 3 pF. (a) Calculate the Miller capacitance. (b) Determine the upper 3 dB frequency. (c) Determine the small-signal midband voltage gain. (Ans. (a) CM = 155 pF, (b) fH = 1.21 MHz, (c) |Av| = 37.3) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 524 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 524 Part 1 Semiconductor Devices and Basic Applications +5 V RC = 2.3 kΩ R1 = 20 kΩ vo CC → ∞ CC2 → ∞ 1 RL = 5 kΩ RS = 1 kΩ v + i – R2 = 20 kΩ RE = CE → ∞ 5 kΩ –5 V Figure 7.60 Figure for Exercise Ex 7.13 The high-frequency response of the common-source circuit is similar to that of the common-emitter circuit, and the discussion and conclusions are the same. Capacitance Cπ is replaced by Cgs , and Cμ is replaced by Cgd . The high-frequency small-signal equivalent circuit of the FET is then essentially identical to that of the bipolar transistor. 7.6.2 Common-Base, Common-Gate, and Cascode Circuits As we have just seen, the bandwidth of the common-emitter and common-source circuits is reduced by the Miller effect. To increase the bandwidth, the Miller effect, or the Cμ multiplication factor, must be minimized or eliminated. The common-base and common-gate amplifier configurations achieve this result. We will analyze a common-base circuit; the analysis is the same for the common-gate circuit. Common-Base Circuit Figure 7.61 shows a common-base circuit. The circuit configuration is the same as the common-emitter circuit considered previously, except a bypass capacitor is added to the base and the input is capacitively coupled to the emitter. Figure 7.62(a) shows the high-frequency equivalent circuit, with the coupling and bypass capacitors replaced by short circuits. Resistors R1 and R2 are then effectively short circuited. Also, resistance ro is assumed to be infinite. Capacitance Cμ, which led to the multiplication effect, is no longer between the input and output terminals. One side of capacitor Cμ is tied to signal ground. Writing a KCL equation at the emitter, we find that Ie + gm Vπ + Vπ + Vπ = 0 (7.111) (1/sCπ) rπ Since Vπ = −Ve , Equation (7.111) becomes Ie = 1 = 1 + g + sC (7.112) V Z m π e i rπ nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 525 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 525 V+ RC R1 vO RL CL C CC RB SR2 R + E vi V – Figure 7.61 Common-base amplifier CB m C Vo + Vp rp Cp RC RL CL – gmVp E Zi RS Ie + Ve r RSV + i RE V p e = –Vp Cp + 1 + b REV – i – (a) (b) Vo gmVp Cm RC RL CL (c) Figure 7.62 (a) High-frequency common-base equivalent circuit, (b) equivalent input circuit, and (c) equivalent output circuit where Zi is the impedance looking into the emitter. Rearranging terms, we have 1 = 1 + rπ gm + 1 + β sC = + sC Zr π r π (7.113) i π π The equivalent input portion of the circuit is shown in Figure 7.62(b). Figure 7.62(c) shows the equivalent output portion of the circuit. Again, one side of Cμ is tied to ground, which eliminates the feedback or Miller multiplication effect. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 526 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 526 Part 1 Semiconductor Devices and Basic Applications We then expect the upper 3 dB frequency to be larger than that observed in the common-emitter configuration. For the input portion of the circuit, the upper 3 dB frequency is given by = 1 fHπ (7.114(a)) 2πτpπ where the ti[m(e consta)nt is ] = rπ τPπ + ‖RE‖ RS · Cπ (7.114(b)) 1 β In the hand analysis, we assume that CL is an open circuit. Capacitance Cμ will also produce an upper 3 dB frequency, given by 1 fHμ = (7.115(a)) 2πτPμ where the time constant is τPμ = [RC‖RL ] · Cμ (7.115(b)) If Cμ is much smaller than Cπ , we would expect the 3 dB frequency fHπ due to Cπ to dominate the high-frequency response. However, the factor rπ/(1 + β) in the time constant τPπ is small; therefore, the two time constants maybe the same order of magnitude. EXAMPLE 7.14 Objective: Determine the upper corner frequencies and midband gain of a common- base circuit. Consider the circuit shown in Figure 7.61 with circuit parameters V + = 5 V, V − = −5 V, RS = 0.1 k, R1 = 40 k, R2 = 5.72 k, RE = 0.5 k, RC = 5 k, and RL = 10 k. (These are the same values as those used for the common-emitter circuit in Example 7.13.) The transistor parameters are: β = 150, VB E (on) = 0.7 V, VA = ∞, Cπ = 35 pF, and Cμ = 4 pF. Solution: The dc analysis is the same as in Example 7.13; therefore, IC Q = 1.03 mA, gm = 39.6 m[(A/V, and) rπ = 3.79]k. The time constant associated with Cπ is = rπ τPπ [( + ) ‖RE‖ RS ·]C1 π β = 3.79 ‖(0.5)‖ (0.1) × 103(35 × 10−12) ⇒ 0.675 ns 151 The upper 3 dB frequency corresponding to Cπ is therefore = 1 1 fHπ = ⇒ 236 MHz 2πτPπ 2π(0.675 × 10−9) The time constant associated with Cμ in the output portion of the circuit is τ = [R ‖R ] · C = [5‖10] × 103(4 × 10−12 Pμ CL μ ) ⇒ 13.33 ns The upper 3 dB frequency corresponding to Cμ is therefore 1 1 fHμ = = ⇒ 11.9 MHz 2πτPμ 2π(13.3 × 10−9) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 527 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 527 So in this case, fHμ is the dominant pole frequency. The magnitude of the mi⎡dband vo∥l(tage gain) is | | = ‖ ⎢⎣⎢ ∥∥∥ r ⎤ R∥ π ∥E ∥( 1 +)βAv M gm(RC RL) ∥ r ⎦⎥⎥ R π ⎡ E 1∥∥+( + β ) RS ⎢⎢ 3.79 ⎤ ⎣ 0∥.(5 ∥ = ‖ ∥ ∥ ∥ 15)1 ⎥ (39.6)(5 10) ⎥ ∥ = 25.5 3.79 ⎦ 0.5 + 0.1 151 Comment: The results of this example show that the bandwidth of the common-base circuit is limited by the capacitance Cμ in the output portion of the circuit. The bandwidth of this particular circuit is 12 MHz, which is approximately a factor of four greater than the bandwidth of the common-emitter circuit in Example 7.14. Computer Verification: Figure 7.63 shows the results of a PSpice analysis of the common-base circuit. The computer values are Cπ = 35.5 pF and Cμ = 3.89 pF, which are the same as those in Example 7.13. The curve marked “Cπ only” is the circuit frequency response if Cμ is neglected. The curve marked “Cπ and Cμ only” includes the effect of both Cπ and Cμ. As the hand analysis predicted, Cμ dominates the circuit high-frequency response. The corner frequency is approximately 13.5 MHz and the midband gain is 25.5, both of which agree very well with the hand analysis results. |AV | 40 10 Cp only CL = 5 pF Cp and Cm CL = 150 pF 1.0 only 0.1 104 105 106 107 108 109 f (Hz) Figure 7.63 PSpice analysis results for common-base circuit The curves marked “CL = 5 pF” and “CL = 150 pF” are the circuit response if the transistor is ideal and only a load capacitance is included. These results again show that if a load capacitance of CL = 150 pF were connected to the output, the circuit response would be dominated by this capacitance. However, if a 5 pF load capacitor were connected to the output, the circuit response would be a function of both the CL and Cμ capacitances, since the two response characteristics are almost identical. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 528 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 528 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM *Ex 7.14: Consider the common-base circuit in Figure 7.64. The transistor parameters are β = 100, VB E (on) = 0.7 V, VA = ∞, Cπ = 24 pF, and Cμ = 3 pF. (a) Determine the upper 3 dB frequencies corresponding to the input and output portions of the equivalent circuit. (b) Calculate the small-signal midband voltage gain. (Ans. (a) fHπ = 223 MHz, fHμ = 58.3 MHz, (b) Av = 0.869) CC1 → ∞ CC2 → ∞ vo RS = 1 kΩ + RE = RC = vi – 10 kΩ 10 kΩ RL = – RB = Ω C → ∞ + 1 kΩ 10 V 100 k B 10 V + – Figure 7.64 Figure for Exercise Ex 7.14 Cascode Circuit The cascode circuit, as shown in Figure 7.65, combines the advantages of the common- emitter and common-base circuits. The input signal is applied to the common-emitter circuit (Q1), and the output signal from the common emitter is fed into the common- base circuit (Q2). The input impedance to the common-emitter circuit (Q1) is relatively large, and the load resistance seen by Q1 is the input impedance to the emitter of Q2 and is fairly small. The low output resistance seen by Q1 reduces the Miller multiplication factor on Cμ1 and therefore extends the bandwidth of the circuit. Figure 7.66(a) shows the high-frequency small-signal equivalent circuit. The coupling and bypass capacitors are equivalent to short circuits, and resistance ro for Q2 is assumed to be infinite. V + RC R1 vO CC2 RC Q LL 2 CB R2 RC SC1 Q1 + vi – R3 RE CE V – Figure 7.65 Cascode circuit nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 529 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 529 The input impedance to the emitter of Q2 is Zie2. From Equation (7.113) in our previous ana(lysis, w)e ∥h(ave ) Zie2 = rπ2 ∥∥ 1 1 + ∥ (7.116) β sCπ2 The input portion of the small-signal equivalent circuit can be transformed to that shown in Figure 7.66(b). The input impedance Zie2 is again shown. The input portion of the circuit shown in Figure 7.66(b) can be transformed to that given in Figure 7.66(c), which shows the Miller capacitance. The Miller capacitance CM1 is included in the input, and capacitance Cμ1 is included in the output portion of the Q1 model. The possibility of including Cμ in the output circuit was discussed previously in Section 7.4.4. In the center of this equivalent circuit, ro1 is in parallel with rμ2/(1 + β). Since ro1 is usually larg[e, it can (be appro)x]imated as an open circuit. The Miller capacitance is then CM1 = Cμ1 1 + r g π2 m1 1 + (7.117) β BC 2 m2 C2 Vo + V r RR CZ p 2 p 2 CL Lie2 RB Cm1 C – Cp 2 gm2Vp 2 S 1 1 E2 RB1 = + CV + r p 1 i r – R2⎪⎪ V R p 1 p 1 o1 3 – g Em1Vp1 1 (a) Z C ie2 RS m 1 + – + r V R r r V p 2 i – B1 Vp 1 p 1 Co1 pp C 2 b p 2 1 1 + – gm1Vp1 + (b) RS + – V + r i RB1 Vp r r p 2 C – 1 p1 o1 Vp 2 p 2 Cp C Cm 1 + b – 1 M1 gm1Vp1 1 + (c) Figure 7.66 (a) High-frequency equivalent circuit of cascode configuration, (b) rearranged high-frequency equivalent circuit, and (c) variation of the high-frequency circuit, including the Miller capacitance nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 530 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 530 Part 1 Semiconductor Devices and Basic Applications Transistors Q1 and Q2 are biased with essentially the same current; therefore, r ∼ ∼ π1 = rπ2 and gm1 = gm2 Then gm1rπ2 = β which yields CM ∼ 1 = 2 Cμ1 (7.118) Equation (7.118) shows that this cascode circuit greatly reduces the Miller multiplication factor. The time constant related to Cπ2 involves resistance rπ2/(1 + β). Since this resistance is small, the time constant is small, and the corner frequency related to Cπ2 is very large. We can therefore neglect the effects of Cμ1 and Cπ2 in the center portion of the circuit. The time constant for the input portion of the circuit is τPπ = [RS‖RB1‖rπ1](Cπ1 + CM1) (7.119(a)) where CM1 = 2Cμ1. The corresponding 3 dB frequency is 1 fHπ = (7.119(b)) 2πτPπ Assuming CL acts as an open circuit, the time constant of the output portion of the circuit, from Figure 7.66, is τPμ = [RC‖RL ](Cμ2) (7.120(a)) and the corresponding corner frequency is 1 fHμ = (7.120(b)) 2πτPμ To determine the midband voltage gain we assume that all capacitances in the circuit in Figure 7.66(c) are open circuits. The output voltage is then Vo = −gm2Vπ2(RC‖RL) (7.121) and [ ∥∥∥∥( )] r V π2 π2 = gm1Vπ1 ro1 + (7.122) 1 β We can neglect the effect of ro1 compared to rπ2/(1 + β). Also, since gm1rπ2 = β , Equation (7.122) becomes V ∼ π2 = Vπ1 (7.123) and, from the input portion of the circuit, V = RB1‖rπ1 π1 RB1‖ × V (7.124) r i π1 + RS Finally, combining equations, we fi[nd the midband ‖ ] voltage gain is AvM = Vo = −gm2(RC‖ RR B1 rπ1 L) ‖ + (7.125) Vi RB1 rπ1 RS nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 531 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 531 If we compare Equation (7.125) to Equation (7.110) for the common-emitter circuit, we see that the expression for the midband gain of the cascode circuit is identical to that of the common-emitter circuit. The cascode circuit achieves a relatively large voltage gain, while extending the bandwidth. EXAMPLE 7.15 Objective: Determine the 3 dB frequencies and midband gain of a cascode circuit. For the circuit in Figure 7.65, the parameters are: V + = 10 V, V − = −10 V, RS = 0.1 k, R1 = 42.5 k, R2 = 20.5 k, R3 = 28.3 k, RE = 5.4 k, RC = 5 k, RL = 10 k, and CL = 0. The transistor parameters are: β = 150, VB E (on) = 0.7 V, VA = ∞, Cπ = 35 pF, and Cμ = 4 pF. Solution: Since β is large for each transistor, the quiescent collector current is essentially the same in each transistor and is IC Q = 1.02 mA. The small-signal parameters are: rπ1 = rπ2 ≡ rπ = 3.82 k and gm1 = gm2 ≡ gm = 39.2 mA/V. From Equation (7.119(a)), the time constant related to the input portion of the circuit is τPπ = [RS‖RB1‖rπ1](Cπ1 + CM1) Since RB1 = R2‖R3 and CM1 = 2Cμ1, then τPπ = [(0.1)‖20.5‖28.3‖3.82] × 103[35 + 2(4)] × 10−12 ⇒ 4.16 ns The corresponding 3 dB frequency is = 1 = 1 fHπ × − ⇒ 38.3 MHz 2πτPπ 2π(4.16 10 9) From Equation (7.120(a)), the time constant of the output portion of the circuit is τPμ = [RC‖RL ]Cμ2 = [5‖10] × 103(4 × 10−12) ⇒ 13.3 ns and the corresponding 3 dB frequency is 1 1 fHμ = = × − ⇒ 12 MHz 2πτPμ 2π(13.3 10 9) From Equation (7.125)[, the midband vo]ltage gain is |Av|M = ‖ RB1‖r g π1 m2(RC RL)[ RB1‖rπ1 + RS ] = ‖ (20.5‖28.3‖3.82) (39.2)(5 10) (20.5‖28.3‖3.82) + = 126 (0.1) Comment: As was the case for the common-base circuit, the 3 dB frequency for the cascode circuit is determined by capacitance Cμ in the output stage. The bandwidth of the cascode circuit is 12 Mz, compared to approximately 3 MHz for the common- emitter circuit. The midband voltage gains for the two circuits are essentially the same. Computer Verification: Figure 7.67 shows the results of a PSpice analysis of the cascode circuit. From the hand analysis, the two corner frequencies are 12 Mz and 38.3 MHz. Since these frequencies are fairly close, we expect the actual response to show the effects of both capacitances. This hypothesis is verified and demonstrated nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 532 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 532 Part 1 Semiconductor Devices and Basic Applications |AV | 200 100 Cp only 10 CL = 150 pF Cp and Cm CL = 5 pF only 1 104 105 106 107 108 109 f (Hz) Figure 7.67 PSpice analysis results for cascode circuit in the computer analysis results. The curves marked “Cπ only” and “Cπ and Cμ only” are fairly close together, and their slopes are steeper than −6 dB/octave, which shows that more than one capacitor is involved in the response. At a frequency of 12 MHz, the response curve is 3 dB below the maximum asymptotic gain, and the midband gain is 120. These values closely agree with the hand analysis results. The curves marked “CL = 5 pF” and “CL = 150 pF” show the circuit response if the transistor is ideal and only a load capacitance is included. EXERCISE PROBLEM *Ex 7.15: The cascode circuit in Figure 7.65 has parameters V + = 12 V, V − = 0, R1 = 58.8 k, R2 = 33.3 k, R3 = 7.92 k, RC = 7.5 k, RS = 1 k, RE = 0.5 k, and RL = 2 k. The transistor parameters are: β = 100, VB E (on) = 0.7 V, VA = ∞, Cπ = 24 pF, and Cμ = 3 pF. Let CL be an open circuit. (a) Determine the 3 dB frequencies corresponding to the input and output portions of the equivalent circuit. (b) Calculate the small-signal midband voltage gain. (c) Correlate the results from parts (a) and (b) with a computer analysis. (Ans. (a) fHπ = 7.15 MHz, fHμ = 33.6 MHz, (b) |Av| = 22.5) 7.6.3 Emitter- and Source-Follower Circuits In this section, we analyze the high-frequency response of the emitter follower. We will analyze the same basic circuit configuration that we have considered previously. The results and discussions also apply to the source follower. Figure 7.68 shows an emitter-follower circuit with the output signal at the emitter capacitively coupled to a load. Figure 7.69(a) shows the high-frequency small-signal equivalent circuit, with the coupling capacitors acting effectively as short circuits. We will rearrange the circuit so that we can gain a better insight into the circuit behavior. We see that Cμ is tied to ground potential and also that ro is in parallel with RE and RL . We may define R′ L = RE‖RL‖ro In this analysis we neglect the effect of CL . Figure 7.69(b) shows a rearrangement of the circuit. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 533 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 533 V + R1 RC SC1 CC2 v + i – vo R2 RE RL CL V – Figure 7.68 Emitter-follower circuit Z' RC B m CR b VS Sb I' R = + b + + V + B Vi RB Ci m r CR1⎪⎪RV r Cr – Vp pp 2 pp p o g – mVp – E Ib' Vo Vo RE RL CL RL' gmVp (a) (b) Z' Rb S Vb V + RC Ci – B m rp (1 + gmRL' ) p 1 + gmRL' RL' (c) Figure 7.69 (a) High-frequency equivalent circuit of emitter follower, (b) rearranged high- frequency equivalent circuit, and (c) high-frequency equivalent circuit with effective input base impedance We can find the impedance Z ′ b looking into the base without capacitance Cμ. The current I ′ b entering the parallel combination of rπ and Cπ is the same as that coming out of the combination. The output voltage is then V = (I ′ ob + gm V )R′ π L (7.126) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 534 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 534 Part 1 Semiconductor Devices and Basic Applications Voltage Vπ is given by I ′ V = b π (7.127) yπ where yπ = (1/rπ) + sCπ Voltage Vb is Vb = Vπ + Vo Therefore, Z ′ b = Vb = Vπ + Vo ′ ′ (7.128) Ib Ib Combining Equations (7.126), (7.127), and (7.128), we obtain ′ = 1 + ′ + gm R′ ZR Lb L (7.129(a)) yπ yπ or Z ′ b = 1 (1 + g R′ m L) + R′ L (7.129(b)) yπ Substituting the expression for yπ , we find Z ′ b = 1 × (1 + gm R′ L) + R′ L (7.130(a)) 1 + sC r π π This can then be written as 1 Z ′ b = sC + R′ (7.130(b)) 1 L π rπ(1 + ′ + gm RL) (1 + g R′ m L) Impedance Z ′ bis shown in the equivalent circuit in Figure 7.69(c). Equation (7.130(b)) shows that the effect of capacitance Cπ is reduced in the emitter- follower configuration. Since the emitter-follower circuit has a zero and two poles, a detailed analysis of the circuit is very tedious. From Equations (7.126) and (7.127), we have Vo = V (y + g )R′ π π m L (7.131) which yields a zero when yπ + gm = 0. Using the definition of yπ , the zero occurs at fo = (1 ) (7.132) r 2 π πCπ 1 + β Since rπ/(1 + β) is small, frequency fo is usually very high. nea80644_ch07_469-558.qxd 06/13/2009 09:03 PM Page 535 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 535 If we make a simplifying assumption, we can determine an approximate value of one pole. In many applications, the impedance of rπ(1 + g R′ m ) in parallel with C /(1 + g R′ L π m L) is large compared t(o R′ L . If we neglec)t R′ L , then the time constant is τP = [RS‖RB‖(1 + C gm R′ L)rπ ] Cμ + π 1 + ′ (7.133(a)) gm RL and the 3 dB frequency (or pole) is fH = 1 (7.133(b)) 2πτP EXAMPLE 7.16 Objective: Determine the frequency of a zero and a pole in the high-frequency response of an emitter follower. Consider the emitter-follower circuit in Figure 7.68 with parameters V + = 5 V, V − = −5 V, RS = 0.1 k, R1 = 40 k, R2 = 5.72 k, RE = 0.5 k, and RL = 10 k. The transistor parameters are: β = 150, VB E (on) = 0.7 V, VA = ∞, Cπ = 35 pF, and Cμ = 4 pF. Solution: As in previous examples, the dc analysis yields IC Q = 1.02 mA. Therefore, gm = 39.2 mA/V and rπ = 3.82 k. From Equation (7.132), the zero occurs at = (1 ) = 1 fo ( ) ⇒ 180 MHz rπ × − 3.82 × 103 2πC 2π(35 10 12 π + ) 1 β 151 To determine the time constant for the high-frequency pole calculation, we know that 1 + g R′ m L = 1 + gm(RE‖RL) = 1 + (39.2)(0.5‖10) = 19.7 and RB = R1‖R2 = 40‖5.72 = 5 k The time constant is therefore ( ) ′ Cπ τP = [RS‖RB‖(1 + gm RL)rπ ] Cμ (+ 1 + g ′ m R)L = [(0.1)‖5‖(19.7)(3.82)] × 103 4 + 35 × 10−12 ⇒ 0.566 ns 19.7 The 3 dB frequency (or pole) is then fH = 1 = 1 ⇒ 281 MHz 2πτP 2π(0.566 × 10−9) Comment: The frequencies for the zero and the pole are very high and are not far apart. This makes the calculations suspect. However, since the frequencies are high, the emitter follower is a wide-bandwidth circuit. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 536 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 536 Part 1 Semiconductor Devices and Basic Applications |AV | Cp only 1 Cp and Cm only CL = 150 pF 0.1 0.01 104 105 106 107 108 109 f (Hz) Figure 7.70 PSpice analysis results for emitter follower Computer Verification: Figure 7.70 shows the results of a PSpice analysis of the emitter follower. From the hand analysis, the 3 dB frequency is on the order of 281 MHz. However, the computer results show the 3 dB frequency to be approximately 400 MHz. We must keep in mind that at these high frequencies, distributed parameter effects may need to be considered in the transistor to more accurately predict the frequency response. Also shown in the figure is the frequency response due to a 150 pF load capacitance. Comparing this result to the common-emitter circuit, for example, we see that the bandwidth of the emitter-follower circuit is approximately two orders of magnitude larger. 7.6.4 High-Frequency Amplifier Design Our analysis shows that the frequency response, or the high-frequency cutoff point of an amplifier, depends on the transistor used, the circuit parameters, and the amplifier configuration. We also saw that a computer simulation is easier than a hand analysis, particularly for the emitter-follower circuit. However, the parameters of the actual transistor used in the circuit must be used in the simulation if it is to predict the circuit frequency response accurately. Also, at high frequencies, additional parasitic capacitances, such as the collector–substrate capacitance, may need to be included. This was not done in our examples. Finally, in high-frequency amplifiers, the parasitic capacitances of the interconnect lines between the devices in an IC may also be a factor in the overall circuit response. Test Your Understanding *TYU 7.12 For the circuit in Figure 7.71, the transistor parameters are: Kn = 1 mA/V2, VT N = 0.8 V, λ = 0, Cgs = 2 pF, and Cgd = 0.2 pF. Determine: (a) the Miller capacitance, (b) the upper 3 dB frequency, and (c) the midband voltage gain. (d) Correlate the results from parts (b) and (c) with a computer analysis. (Ans. (a) CM = 1.62 pF, (b) fH = 3.38 MHz, (c) |Av| = 4.60) *TYU 7.13 For the circuit in Figure 7.72, the transistor parameters are: VT N = 1 V, Kn = 1 mA/V2, λ = 0, Cgd = 0.4 pF, and Cgs = 5 pF. Perform a computer simulation to determine the upper 3 dB frequency and the midband small-signal voltage gain. (Ans. fH = 64.5 MHz, |Av| = 0.127) nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 537 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 537 +5 V RD = 5 kΩ CC1 → ∞ CC2 → ∞ R1 = 150 kΩ vo CC1 → ∞ Ri = 10 kΩ + I = RD = R v G L = i Ri = 20 kΩ – 1 mA 4 kΩ 2 kΩ v + i – R2 = –5 V +5 V 50 kΩ RS = CS → ∞ RG = 100 kΩ C Ω G → ∞ 2 k –5 V Figure 7.71 Figure for Exercise TYU 7.12 Figure 7.72 Figure for Exercise TYU 7.13 7.7 DESIGN APPLICATION: A TWO-STAGE AMPLIFIER WITH COUPLING CAPACITORS Objective: • Design a two-stage BJT amplifier with coupling capacitors such that the 3 dB frequencies associated with each stage are equal. Specifications: The first two stages of a multistage BJT amplifier are to be capacitively coupled and the 3 dB frequency of each stage is to be 20 Hz. Design Approach: The circuit configuration to be designed is shown in Figure 7.73. This circuit represents the first two stages of a discrete multistage amplifier. Choices: Assume the BJTs have parameters VB E (on) = 0.7 V, β = 200, and VA = ∞. VCC = 5 V RC1 = RC2 R1 = 3.5 kΩ R1 = 55 kΩ 55 kΩ CC1 Ri CC R 2 i + R2 = R = vi – R 2 = R 31 kΩ E1 31 kΩ E2 = 1 kΩ 1 kΩ Figure 7.73 Two-stage BJT amplifier with coupling capacitors for design application"
7.7 Design Application: A Two-Stage Amplifier with Coupling Capacitors,"7.7 DESIGN APPLICATION: A TWO-STAGE AMPLIFIER WITH COUPLING CAPACITORS Objective: • Design a two-stage BJT amplifier with coupling capacitors such that the 3 dB frequencies associated with each stage are equal. Specifications: The first two stages of a multistage BJT amplifier are to be capacitively coupled and the 3 dB frequency of each stage is to be 20 Hz. Design Approach: The circuit configuration to be designed is shown in Figure 7.73. This circuit represents the first two stages of a discrete multistage amplifier. Choices: Assume the BJTs have parameters VB E (on) = 0.7 V, β = 200, and VA = ∞. VCC = 5 V RC1 = RC2 R1 = 3.5 kΩ R1 = 55 kΩ 55 kΩ CC1 Ri CC R 2 i + R2 = R = vi – R 2 = R 31 kΩ E1 31 kΩ E2 = 1 kΩ 1 kΩ Figure 7.73 Two-stage BJT amplifier with coupling capacitors for design application nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 538 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 538 Part 1 Semiconductor Devices and Basic Applications Solution (DC Analysis): We find, for each stage, RT H = R1‖R2 = 55‖31 = 19.83 k and ( ) ( ) = R2 31 VT HR1 + VCC = + (5) = 1.802 V R2 31 55 Now = VT H − VB E(on) = 1.802 − 0.7 IB Q RT H + (1 + ⇒ 4.99 μA β)RE 19.83 + (201)(1) so that IC Q = 0.998 mA Solution (AC Analysis): The small-signal diffusion resistance is = βVT = (200)(0.026) rπ = 5.21 k IC Q 0.988 The input resistance looking into each base terminal is Ri = rπ + (1 + β)RE = 5.21 + (201)(1) = 206.2 k Solution (AC Design): The small-signal equivalent circuit is shown in Figure 7.74. The time constant of the first stage is τA = (R1‖R2‖Ri )CC1 CC1 CC2 g V V + mp i R1⎪⎪R2 Ri RC1 R1⎪⎪R – 2 Ri RE1 Figure 7.74 Small-signal equivalent circuit of two-stage BJT amplifier with coupling capacitors for design application and the time constant of the second stage is τB = (RC1 + R1‖R2‖Ri )CC2 If the 3 dB frequency of each stage is to be 20 Hz, then τA = 1 1 τB = = = 7.958 × 10−3 s 2π f3-dB 2π(20) The coupling capacitor of the first stage must be = τA = 7.958 × 10−3 CC1 R1‖R2‖Ri (55‖ ‖ × ⇒ 0.44 μF 31 206.2) 103 nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 539 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 539 and the coupling capacitor of the second stage must be = τB = 7.958 × 10−3 CC2 RC1 + R1‖R2‖Ri (2.5 + 55‖ ‖ ⇒ 0.386 μF 31 206.2) × 103 Comment: This circuit design using two coupling capacitors is a brute-force approach to a two-stage amplifier design and would not be used in an IC design. Since the 3 dB frequency for each capacitor is 20 Hz, this circuit is referred to as a two-pole high-pass filter. 7.8 SUMMARY • In this chapter, the frequency response of transistor circuits was discussed. The effects due to circuit capacitors, such as coupling, bypass, and load capacitors, were determined. In addition, expanded equivalent circuits of BJTs and MOSFETs were analyzed to determine the frequency response of the transistors. • A time-constant technique was developed so that Bode plots can be constructed without the need of deriving complex transfer functions. The high and low corner frequencies, or 3 dB frequencies, can be determined directly from the time constants. • Coupling and bypass capacitors affect the low-frequency characteristics of a circuit, while load capacitors affect the high-frequency characteristics of a circuit. • The capacitances included in the small-signal equivalent circuits of both the bipolar and MOS transistors result in reduced transistor gain at high frequencies. The cutoff frequency is a figure of merit for the transistor and is defined as the frequency at which the magnitude of the current gain is unity. • The Miller effect is a multiplication of the base–collector or gate–drain capacitance due to feedback between the output and input of the transistor. The bandwidth of the amplifier is reduced by this affect. • The common-emitter (common-source) amplifier, in general, shows the greatest reduction in bandwidth due to the Miller effect. The common-base (common- gate) amplifier has a larger bandwidth because of a smaller multiplication factor. The cascode configuration, a combination of a common emitter and common base, combines the advantages of high gain and wide bandwith. • As an application, a two-stage BJT amplifier was designed to meet specified 3 dB frequencies. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Construct the Bode plots of the gain magnitude and phase from a transfer function written in terms of the complex frequency s. ✓ Construct the Bode plots of the gain magnitude and phase of electronic amplifier circuits, taking into account circuit capacitors, using the time constant technique. ✓ Determine the short-circuit current gain versus frequency of a BJT and determine the Miller capacitance of a BJT circuit using the expanded hybrid-π equivalent circuit. ✓ Determine the unity-gain bandwidth of an FET and determine the Miller capacitance of an FET circuit using the expanded small-signal equivalent circuit. ✓ Describe the relative frequency responses of the three basic amplifier configurations and the cascode amplifier."
7.8 Summary,"7.8 SUMMARY • In this chapter, the frequency response of transistor circuits was discussed. The effects due to circuit capacitors, such as coupling, bypass, and load capacitors, were determined. In addition, expanded equivalent circuits of BJTs and MOSFETs were analyzed to determine the frequency response of the transistors. • A time-constant technique was developed so that Bode plots can be constructed without the need of deriving complex transfer functions. The high and low corner frequencies, or 3 dB frequencies, can be determined directly from the time constants. • Coupling and bypass capacitors affect the low-frequency characteristics of a circuit, while load capacitors affect the high-frequency characteristics of a circuit. • The capacitances included in the small-signal equivalent circuits of both the bipolar and MOS transistors result in reduced transistor gain at high frequencies. The cutoff frequency is a figure of merit for the transistor and is defined as the frequency at which the magnitude of the current gain is unity. • The Miller effect is a multiplication of the base–collector or gate–drain capacitance due to feedback between the output and input of the transistor. The bandwidth of the amplifier is reduced by this affect. • The common-emitter (common-source) amplifier, in general, shows the greatest reduction in bandwidth due to the Miller effect. The common-base (common- gate) amplifier has a larger bandwidth because of a smaller multiplication factor. The cascode configuration, a combination of a common emitter and common base, combines the advantages of high gain and wide bandwith. • As an application, a two-stage BJT amplifier was designed to meet specified 3 dB frequencies. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Construct the Bode plots of the gain magnitude and phase from a transfer function written in terms of the complex frequency s. ✓ Construct the Bode plots of the gain magnitude and phase of electronic amplifier circuits, taking into account circuit capacitors, using the time constant technique. ✓ Determine the short-circuit current gain versus frequency of a BJT and determine the Miller capacitance of a BJT circuit using the expanded hybrid-π equivalent circuit. ✓ Determine the unity-gain bandwidth of an FET and determine the Miller capacitance of an FET circuit using the expanded small-signal equivalent circuit. ✓ Describe the relative frequency responses of the three basic amplifier configurations and the cascode amplifier. nea80644_ch07_469-558.qxd 06/13/2009 08:07 PM Page 540 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 540 Part 1 Semiconductor Devices and Basic Applications REVIEW QUESTIONS 1. Describe the general frequency response of an amplifier and define the low- frequency, midband, and high-frequency ranges. 2. Describe the general characteristics of the equivalent circuits that apply to the low-frequency, midband, and high-frequency ranges. 3. Describe what is meant by a system transfer function in the s-domain. 4. What is the criterion that defines a corner, or 3 dB, frequency? 5. Describe what is meant by the phase of the transfer function. 6. Describe the time constant technique for determining the corner frequencies. 7. Describe the general frequency response of a coupling capacitor, a bypass capacitor, and a load capacitor. 8. Sketch the expanded hybrid-π model of the BJT. 9. Describe the short-circuit current gain versus frequency response of a BJT and define the cutoff frequency. 10. Describe the Miller effect and the Miller capacitance. 11. What effect does the Miller capacitance have on the amplifier bandwidth? 12. Sketch the expanded small-signal equivalent circuit of a MOSFET. 13. Define the cutoff frequency for a MOSFET. 14. What is the major contribution to the Miller capacitance in a MOSFET? 15. Why is there not a Miller effect in a common-base circuit? 16. Describe the configuration of a cascode amplifier. 17. Why is the bandwidth of a cascode amplifier larger, in general, than that of a simple common-emitter amplifier? 18. Why is the bandwidth of the emitter-follower amplifier the largest of the three basic BJT amplifiers? PROBLEMS Section 7.2 System Transfer Functions 7.1 (a) Determine the voltage transfer function T (s) = Vo(s)/Vi (s) for the circuit shown in Figure P7.1. (b) Sketch the Bode magnitude plot and determine the corner frequency. (c) Determine the time response of the circuit to an input step function of magnitude VI o. R1 = 1 kΩ C2 = 10 mF Vi V V oi Vo C = 1 mF R2 = 10 kΩ 1 Figure P7.1 Figure P7.2 7.2 Repeat Problem 7.1 for the circuit in Figure P7.2. 7.3 Consider the circuit in Figure P7.3. (a) Derive the expression for the voltage transfer function T(s) = Vo(s)/Vi (s). (b) What is the time constant associated with this circuit? (c) Find the corner frequency. (d) Sketch the Bode magnitude plot of the voltage transfer function. 7.4 Consider the circuit in Figure P7.4 with a signal current source. The circuit parameters are Ri = 30 k, RP = 10 k, CS = 10 μF, and CP = 50 pF."
Problems,"PROBLEMS Section 7.2 System Transfer Functions 7.1 (a) Determine the voltage transfer function T (s) = Vo(s)/Vi (s) for the circuit shown in Figure P7.1. (b) Sketch the Bode magnitude plot and determine the corner frequency. (c) Determine the time response of the circuit to an input step function of magnitude VI o. R1 = 1 kΩ C2 = 10 mF Vi V V oi Vo C = 1 mF R2 = 10 kΩ 1 Figure P7.1 Figure P7.2 7.2 Repeat Problem 7.1 for the circuit in Figure P7.2. 7.3 Consider the circuit in Figure P7.3. (a) Derive the expression for the voltage transfer function T(s) = Vo(s)/Vi (s). (b) What is the time constant associated with this circuit? (c) Find the corner frequency. (d) Sketch the Bode magnitude plot of the voltage transfer function. 7.4 Consider the circuit in Figure P7.4 with a signal current source. The circuit parameters are Ri = 30 k, RP = 10 k, CS = 10 μF, and CP = 50 pF. nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 541 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 541 R1 = 10 kΩ C vi v So Vo R2 = 20 kΩ C2 = 10 mF Ii Ri RP CP Figure P7.3 Figure P7.4 (a) Determine the open-circuit time constant associated with CS and the short-circuit time constant associated with CP . (b) Determine the corner frequencies and the magnitude of the transfer function T (s) = Vo(s)/Ii (s) at midband. (c) Sketch the Bode magnitude plot. 7.5 Consider the circuit shown in Figure P7.5. (a) What is the value of the voltage transfer function Vo/Vi at very low frequencies? (b) Determine the voltage transfer function at very high frequencies. (c) Derive the expression for the voltage transfer function T (s) = Vo(s)/Vi (s). Put the expression in the form T (s) = K (1 + sτA)/(1 + sτB). What are the values of K , τA , and τB? R1 = 10 kΩ vi vo C1 = 10 mF R2 = 20 kΩ Figure P7.5 *7.6 (a) Derive the voltage transfer function T (s) = Vo(s)/Vi (s) for the circuit shown in Figure 7.10, taking both capacitors into account. (b) Let RS = RP = 10 k, CS = 1 μF, and CP = 10 pF. Calculate the actual magnitude of the transfer function at fL = 1/[(2π)(RS + RP)CS] and at fH = 1/[(2π)(RS‖RP)CP ]. How do these magnitudes compare to the maximum magnitude of RP/(RS + RP)? (c) Repeat part (b) for RS = RP = 10 k and CS = CP = 0.1 μF. 7.7 A voltage transfer function is given by T ( f ) = 1/(1 + j f/ f )3 T . (a) Show that the actual response at f = fT is approximately 9 dB below the maximum value. What is the phase angle at this frequency? (b) What is the slope of the magnitude plot for f  fT ? What is the phase angle in this frequency range? 7.8 Sketch the Bode magnitude plots for the following functions: = s (a) T1(s) s + 100 5 (b) T2(s) = s/2000 + 1 200(s + 10) (c) T3(s) = (s + 1000) nea80644_ch07_469-558.qxd 06/13/2009 09:03 PM Page 542 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 542 Part 1 Semiconductor Devices and Basic Applications 7.9 (a) (i) Sketch the Bode magnitude plot for the function = 10(s + 10)(s + 100) T (s) (s + 1)(s + 1000) (ii) What are the corner frequencies? (iii) Determine |T (ω)| for ω → 0. (iv) Determine |T (ω)| for ω → ∞. (b) Repeat part (a) for the function 8s2 T (s) = (0.2s + 1)2 7.10 (a) Determine the transfer function corresponding to the Bode plot of the magnitude shown in Figure P7.10. (b) What is the actual gain at (i) ω = 50 rad/s, (ii) ω = 150 rad/s, and (iii) ω = 100 krad/s. T ( jw) 5 102 5×104 w (rad/s) Figure P7.10 7.11 Consider the circuit shown in Figure 7.15 with parameters RS = 0.5 k, rπ = 5.2 k, gm = 29 mA/V, and RL = 6 k. The corner frequencies are R fL = 30 1 Hz and fH = 480 kHz. (a) Calculate the midband voltage gain. (b) What are the open-circuit and short-circuit time constants? (c) Deter- + + R mine CC and CL . 2 *7.12 For the circuit shown in Figure P7.12, the parameters are R1 = 10 k, vi vo R2 = 10 k, R3 = 40 k, and C = 10 μF. (a) What is the value of the volt- RC age transfer function Vo/Vi at very low frequencies? (b) Determine the 3 – – value of the voltage transfer function at very high frequencies. (c) Derive the expression for the voltage transfer function T (s) = Vo(s)/Vi (s). Put the expression in the form T (s) = K (1 + sτA)/(1 + sτB). What are the values Figure P7.12 of K , τA , and τB? 7.13 The circuit shown in Figure 7.10 has parameters RS = 1 k, RP = 10 k, and CS = CP = 0.01 μF. Using PSpice, plot the magnitude and phase of the voltage transfer function. Determine the maximum value of the voltage tra√nsfer function. Determine the frequencies at which the magnitude is 1/ 2 of the peak value. Section 7.3 Frequency Response: Transistor Circuits 7.14 The transistor shown in Figure P7.14 has parameters VT N = 0.4 V, Kn = 0.4 mA/V2, and λ = 0. The transistor is biased at IDQ = 0.8 mA. (a) What is the maximum voltage gain? (b) What is the bandwidth? nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 543 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 543 V+ = 2.5 V VCC = 2.5 V V+ = 2.5 V RD = RI = C DQ 1 kΩ 100 mA V V o o Vo V Vi i CL = 1 pF CL = 0.08 pF Vi CL = 0.5 pF Figure P7.14 Figure P7.15 Figure P7.16 7.15 Consider the circuit shown in Figure P7.15. The transistor has parameters β = 120 and VA = ∞. The circuit bandwidth is 800 MHz and the quiescent collector–emitter voltage is VC E Q = 1.25 V. (a) Determine RC , (b) find IC Q , and (c) determine the maximum gain. 7.16 The transistor in the circuit shown in Figure P7.16 has parameters V 2 −1 TN = 0.4V, Kn = 50 μA/V , and λ = 0.01 V . (a) Derive the expression for the voltage transfer function T (s) = Vo(s)/Vi (s). (b) Determine the maximum voltage gain. (c) What is the bandwidth? 7.17 For the common-emitter circuit in Figure P7.17, the transistor parameters are: β = 100, VB E (on) = 0.7 V, and VA = ∞. (a) Calculate the lower corner frequency. (b) Determine the midband voltage gain. (c) Sketch the Bode plot of the voltage gain magnitude. VCC = 12 V VDD = 9 V RC = R 1 kΩ DR1 = 10 kΩ RR 1 v in O vO RS = 0.5 kΩ CC CC = 0.1 mF v + i R2 = 1.5 kΩ R = v + RE i – 2 RS = 0.1 kΩ 0.5 kΩ Figure P7.17 Figure P7.18 D7.18 (a) Design the circuit shown in Figure P7.18 such that IDQ = 0.8 mA, VDSQ = 3.2 V, Rin = 160 k, and fL = 16 Hz. The transistor parameters are Kn = 0.5 mA/V2, VT N = 1.2 V, and λ = 0. (b) What is the midband voltage gain? (c) Determine the magnitude of the voltage gain at (i) f = 5 Hz, (ii) f = 14 Hz, and (iii) f = 25 Hz. (d) Sketch the Bode plot of the voltage gain magnitude and phase. D7.19 The transistor in the circuit in Figure P7.19 has parameters Kn = 0.5 mA/V2, VT N = 1 V, and λ = 0. (a) Design the circuit such that IDQ = 1 mA and VDSQ = 3 V. (b) Derive the expression for the transfer function nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 544 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 544 Part 1 Semiconductor Devices and Basic Applications T (s) = Io(s)/Vi (s). What is the expression for the circuit time constant? (c) Determine CC such that the lower 3 dB frequency is 10 Hz. (d) Verify the results of parts (a) and (c) with a computer simulation. +5 V +9 V RD CC RS = 12 kΩ Ro vo io RL = 4 kΩ CC v + RG = i RL = – 100 kΩ 10 kΩ RS v + i RG = – 50 kΩ –5 V –9 V Figure P7.19 Figure P7.20 *D7.20 The transistor in the circuit in Figure P7.20 has parameters Kp = 0.5 mA/V2, VT P = −2 V, and λ = 0. (a) Determine Ro. (b) What is the expression for the circuit time constant? (c) Determine CC such that the lower 3 dB frequency is 20 Hz. 7.21 For the circuit in Figure P7.21, the transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = 50 V. (a) Design a bias-stable circuit such that IE Q = 1.5 mA. (b) Using the results of part (a), find the small-signal mid- band voltage gain. (c) Determine the output resistance Ro. (d) What is the lower 3 dB corner frequency? VCC = 12 V RV 1 DD CC1 → ∞ Ro RD CC2 = 2 mF v v + o Vi o – R2 RE = RL = RSi 4 kΩ 4 kΩ Vi CL Ci Figure P7.21 Figure P7.22 7.22 (a) For the circuit shown in Figure P7.22, write the voltage transfer function T (s) = Vo(s)/Vi (s). Assume λ > 0 for the transistor. (b) What is the expression for the time constant associated with the input portion of the circuit? (c) What is the expression for the time constant associated with the output portion of the circuit? nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 545 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 545 7.23 Consider the circuit shown in Figure P7.23. (a) Write the transfer function T (s) = Vo(s)/Vi (s). Assume λ = 0 for the transistor. (b) Determine the expression for the time constant associated with the input portion of the circuit. (c) Determine the expression for the time constant associated with the output portion of the circuit. RS CC CC1 = 4.7 mF CC2 = 1 mF Vi Vo vO RS = 200 Ω Ci + RD RL + RE = V vI RC = RL = G – 4 kΩ – 2 kΩ 47 kΩ + VDD – V– = –5 V V+ = 5 V Figure P7.23 Figure P7.24 7.24 The parameters of the transistor in the circuit in Figure P7.24 are VB E (on) = 0.7 V, β = 100, and VA = ∞. (a) Determine the quiescent and small-signal parameters of the transistor. (b) Find the time constants associated with CC1 and CC2. (c) Is there a dominant −3 dB frequency? Estimate the −3 dB frequency. 7.25 A capacitor is placed in parallel with RL in the circuit in Figure P7.24. The capacitance is CL = 10 pF. The transistor parameters are the same as given in Problem 7.24. (a) Determine the upper −3 dB frequency. (b) Find the high frequency value at which the small-signal voltage gain magnitude is one-tenth the midband value. 7.26 The parameters of the transistor in the circuit in Figure P7.26 are Kp = 1 mA/V2, VT P = −1.5 V, and λ = 0. (a) Determine the quiescent and small-signal parameters of the transistor. (b) Find the time constants associated with CC1 and CC2. (c) Is there a dominant pole frequency? Estimate the −3 dB frequency. R = 200 Ω CC2 = 1 mF S vo CC1 = 4.7 mF R = 1.2 kΩ RD = 1.2 kΩ 1 v + i – RL = 50 kΩ + – 5 V 5 V – + Figure P7.26 *D7.27 A MOSFET amplifier with the configuration in Figure P7.27 is to be designed for use in a telephone circuit. The magnitude of the voltage gain should be 10 in the midband range, and the midband frequency range should extend from 200 Hz to 3 kHz. [Note: A telephone’s frequency range does not correspond to a high-fidelity system’s.] All resistor, capacitor, and MOSFET parameters should be specified. nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 546 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 546 Part 1 Semiconductor Devices and Basic Applications VDD = 9 V V+ = 10 V RR D RB = 430 kΩ 1 R Ω vo RS = 500 Ω Si = 200 CC CC v + v v + CL so – i – R2 RE = 2.5 kΩ Figure P7.27 Figure P7.28 7.28 The circuit in Figure P7.28 is a simple output stage of an audio amplifier. The transistor parameters are β = 200, VB E (on) = 0.7 V, and VA = ∞. Determine CC such that the lower −3 dB frequency is 15 Hz. 7.29 Reconsider the circuit in Figure P7.28. The transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = ∞. The circuit parameters are V + = 3.3 V and RS = 100 . (a) Find RB and RE such that IE Q = 0.25 mA and VC E Q = 1.8 V. (b) Using the results of part (a), find the value of CC such that fL = 20 Hz. (c) Determine the midband voltage gain. D7.30 The parameters of the transistor in the circuit in Figure P7.30 are β = 100, VB E (on) = 0.7 V, and VA = ∞. The time constant associated with CC1 is a factor of 100 larger than the time constant associated with CC2. (a) Determine CC2 such that the −3 dB frequency associated with this capacitor is 25 Hz. (b) Determine CC1. D7.31 Consider the circuit shown in Figure P7.30. The time constant associated with CC2 is a factor of 100 larger than the time constant associated with CC1. (a) Determine CC1 such that the −3 dB frequency associated with this capacitor is 20 Hz. (b) Find CC2. VCC = 5 V R1 = 1.2 kΩ RS = 300 Ω CC C1 C2 v + vs o – R2 = 1.2 kΩ RE = 50 Ω RL = 10 Ω Figure P7.30 7.32 Consider the circuit shown in Figure P7.32. The transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = ∞. (a) Find RC such that VC E Q = 2.2 V. (b) Determine the midband gain. (c) Derive the expression for the corner frequencies associated with CC and CE . (d) Determine CC nea80644_ch07_469-558.qxd 06/13/2009 09:03 PM Page 547 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 547 and CE such that the corner frequency associated with CE is fE = 10 Hz and the corner frequency associated with CC is fC = 50 Hz. +5 V V+ = 3 V RD R v CO Ri = CC 10 kΩ vo RL = 20 kΩ v + v + i – Ci E – CS = 5 mF IQ = RS 0.2 mA V − = −3 V –5 V Figure P7.32 Figure P7.33 *D7.33 For the transistor in the circuit in Figure P7.33, the parameters are: Kn = 0.5 mA/V2, VT N = 0.8 V, and λ = 0. (a) Design the circuit such that IDQ = 0.5 mA and VDSQ = 4 V. (b) Determine the 3 dB frequencies. (c) If the RS resistor is replaced by a constant-current source producing the same IDQ quiescent current, determine the 3 dB corner frequencies. 7.34 Figure P7.34 shows the ac equivalent circuit of two identical common- source circuits in cascade. The transistor parameters are Kn1 = Kn2 = 0.8 mA/V2, λ1 = λ2 = 0.02 V−1, and IDQ1 = IDQ2 = 0.5 mA. The circuit parameters are RD = 5 k and CL = 12 pF. (a) Derive the expressions for the voltage transfer functions (i) T1(s) = Vo1(s)/Vi (s), (ii) T2(s) = Vo(s)/Vo1(s), and (iii) T(s) = Vo(s)/Vi (s). (b) Determine the –3 dB frequencies for (i) T1(s), (ii) T2(s), and (iii) T(s). (c) Sketch the Bode plot for the magnitude of the transfer function T(s). V + RE CE RD RD V + o1 vi v V – O o V MR i 1 CM CL 2 CL V – Figure P7.34 Figure P7.35 *7.35 The common-emitter circuit in Figure P7.35 has an emitter bypass capacitor. (a) Derive the expression for the small-signal voltage gain Av(s) = Vo(s)/Vi (s). Write the expression in a form similar to that of Equation (7.60). (b) What are the expressions for the time constants τA and τB ? nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 548 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 548 Part 1 Semiconductor Devices and Basic Applications D7.36 Consider the circuit in Figure P7.35. The bias voltages are V + = 3 V and V − = −3 V. The transistor parameters are β = 90, VE B(on) = 0.7 V and VA = ∞. (a) Design the circuit such that IC Q = 0.15 mA and VEC Q = 2.2 V. (b) Determine the midband voltage gain. (c) For CE = 3 μF, determine the corner frequencies. 7.37 Consider the common-base circuit in Figure 7.33 in the text. The transistor parameters are β = 90, VE B(on) = 0.7 V, and VA = ∞. A load capacitance of CL = 3 pF is connected in parallel with RL . (a) Determine the midband voltage gain. (b) Determine the upper 3 dB frequency. D7.38 Consider the circuit shown in Figure 7.25(a). The bias voltages are changed to V + = 3 V and V − = −3 V. The load resistor is RL = 20 k. The transistor parameters are Kp = 0.1 mA/V2, VT P = −0.6 V, and λ = 0. (a) Design the circuit such that IDQ = 0.2 mA and VSDQ = 1.9 V. (b) Determine the value of CL that produces a corner frequency of fH = 4 MHz. 7.39 For the circuit in Figure P7.39, the transistor parameters are: Kn = 0.5 mA/V2, VT N = 2 V, and λ = 0. Determine the maximum value of CL such that the bandwidth is at least BW = 5 MHz. State any approximations or assumptions that you make. What is the magnitude of the small-signal midband voltage gain? Verify the results with a computer simulation. VDD = 10 V V+ = 12 V R1 = 234 kΩ R = 2 kΩ R = 5.1 kΩ i RB = 1 MΩ CC CC2 = vo C1 = 10 mF m RS = 1 kΩ 10 F V RL = o C + L = 10 pF vi – R2 = 500 kΩ C = 10 mF 166 kΩ RS = RL = CC L 0.5 kΩ 4 kΩ v + i – Figure P7.39 Figure P7.40 7.40 The parameters of the transistor in the circuit in Figure P7.40 are β = 100, VB E (on) = 0.7 V, and VA = ∞. Neglect the capacitance effects of the transistor. (a) Draw the three equivalent circuits that represent the amplifier in the low-frequency range, midband range, and the high frequency range. (b) Sketch the Bode magnitude plot. (c) Determine the values of |Am |dB, fL , and fH . 7.41 In the common-source amplifier in Figure 7.25(a) in the text, a source bypass capacitor is to be added between the source terminal and ground potential. The circuit parameters are RS = 3.2 k, RD = 10 k, RL = 20 k, and CL = 10 pF. The transistor parameters are VT P = −2 V, KP = 0.25 mA/V2, and λ = 0. (a) Derive the small-signal voltage gain expression, as a function of s, that describes the circuit behavior in the high-frequency range. (b) What is the expression for the time constant associated with the upper 3 dB frequency? (c) Determine the time constant, upper 3 dB frequency, and small-signal midband voltage gain. nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 549 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 549 *7.42 Consider the common-base circuit in Figure P7.42. Choose appropriate transistor parameters. (a) Using a computer analysis, generate the Bode plot of the voltage gain magnitude from a very low frequency to the midband frequency range. At what frequency is the voltage gain magnitude 3 dB below the maximum value? What is the slope of the curve at very low frequencies? (b) Using the PSpice analysis, determine the voltage gain magnitude, input resistance Ri , and output resistance Ro at midband. +4 V RE = 1 kΩ CC1 = 1 mF CC2 = 10 mF CC1 = 1 mF CE = 5 mF vo RS = 1 kΩ RS = 1 kΩ CC2 = 1 mF RE = RC = v + R = 5 kΩ v + 10 kΩ 6.5 kΩ RL = i – B o vi – 5 kΩ + – RC = RL = 20 V 25 V – + 4 kΩ 4 kΩ –6 V Figure P7.42 Figure P7.43 *7.43 For the common-emitter circuit in Figure P7.43, choose appropriate transistor parameters and perform a computer analysis. Generate the Bode plot of the voltage gain magnitude from a very low frequency to the midband frequency range. At what frequency is the voltage gain magnitude 3 dB below the maximum value? Does one capacitor dominate this 3 dB frequency? If so, which one? *7.44 For the multitransistor amplifier in Figure P7.44, choose appropriate transistor parameters. The lower 3 dB frequency is to be less than or equal to 20 Hz. Assume that all three coupling capacitors are equal. Let CB → ∞. Using a computer analysis, determine the maximum values of the coupling capacitors. Determine the slope of the Bode plot of the voltage gain magnitude at very low frequencies. +10 V +10 V RS = 10 kΩ RC2 = 2.2 kΩ Q1 CC1 CC2 CC3 R = v + B1 i – Q v 10 kΩ 2 o RE1 = RE2 = 4.7 kΩ R = 4.7 kΩ L 3 kΩ RB2 = 10 kΩ CB –10 V –10 V Figure P7.44 nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 550 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 550 Part 1 Semiconductor Devices and Basic Applications Section 7.4 Frequency Response: Bipolar Transistor 7.45 A bipolar transistor has fT = 4 GHz, βo = 120, and Cμ = 0.08 pF when operated at IC Q = 0.25 mA. Determine gm , fβ , and Cπ . 7.46 A high-frequency bipolar∣ tran∣ sistor is biased at IC Q = 0.4 mA and has parameters Cμ = 0.075 pF,∣ fT ∣= 2 GHz, and βo = 120. (a) Determine Cπ and fβ . (b) Determine hf eat (i) f = 10 MHz, (ii) f = 20 MHz, and (iii) f = 50 MHz. 7.47 (a) The frequency fT of a bipolar transistor is found to be 540 MHz when biased at IC Q = 0.2 mA. The transistor parameters are Cμ = 0.4 pF and βo = 120. Determine fβ and Cπ . (b) Using the results of part (a), determine fT and fβ when the transistor is biased at IC Q = 0.8 mA. 7.48 The circuit in Figure P7.48 is a hybrid-π equivalent circuit including there- sistance rb. (a) Derive the expression for the voltage gain transfer function Av(s) = Vo(s)/Vi (s). (b) If the transistor is biased at IC Q = 1 mA, and if RL = 4 k and βo = 100, determine the midband voltage gain for (i) rb = 100  and (ii) rb = 500 . (c) For C1 = 2.2 pF, determine the −3 dB frequency for (i) rb = 100  and (ii) rb = 500 . Cr rb = 200 Ω m = 0.8 pF b V + o + V + rp = Cp = 0.04 Vp RL = i Vp V + Vp r R – p C 2.5 kΩ 10 pF 2.5 kΩ i – 1 L gmVp – – Figure P7.48 Figure P7.49 7.49 Consider the circuit in Figure P7.49. Calculate the impedance seen by the signal source Vi at (a) f = 1 kHz, (b) f = 10 kHz, (c) f = 100 kHz, and (d) f = 1 MHz. *7.50 A common-emitter equivalent circuit is shown in Figure P7.50. (a) What is the expression for the Miller capacitance? (b) Derive the expression for the voltage gain Av(s) = Vo(s)/Vi (s) in terms of the Miller capacitance and other circuit parameters. (c) What is the expression for the upper 3 dB frequency? R r CS b m Vo + V + i RB Vp rp Cp RL – gmVp Figure P7.50 7.51 For the common-emitter circuit in Figure 7.41(a) in the text, assume that rs = ∞, R1‖R2 = 5 k, and RC = RL = 1 k. The transistor is biased at IC Q = 5 mA and the parameters are: βo = 200, VA = ∞, Cμ = 5 pF, and fT = 250 MHz. Determine the upper 3 dB frequency for the small-signal current gain. nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 551 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 551 *7.52 For the common-emitter circuit in Figure P7.52, assume the emitter bypass capacitor CE is very large, and the transistor parameters are: βo = 100, VB E (on) = 0.7 V, VA = ∞, Cμ = 2 pF, and fT = 400 MHz. Determine the lower and upper 3 dB frequencies for the small-signal voltage gain. Use the simplified hybrid-π model for the transistor. +15 V RC = 4 kΩ R1 = 60 kΩ vO CC1 = 0.1 mF RS = 2 kΩ + R2 = 5.5 kΩ vi – RE = C → ∞ 0.2 kΩ E Figure P7.52 7.53 Consider the circuit in Figure P7.52. The resistor RS is changed to 500  and all other resistor values are increased by a factor of 10. The transistor parameters are the same as listed in Problem 7.52. Determine the lower and upper −3 dB frequencies for the voltage gain magnitude and find the mid- band gain. 7.54 The parameters of the circuit shown in Figure P7.52 are changed to V + = 5 V, RS = 0, R1 = 33 k, R2 = 22 k, RC = 5 k, and RE = 4 k. The transistor parameters are βo = 150, Cμ = 0.45 pF, and fT = 800 MHz. (a) Determine IC Q and VC E Q . (b) Determine Cπ , fβ , and the Miller capacitance CM . (c) Find the upper 3 dB frequency. Section 7.5 Frequency Response: The FET 7.55 The parameters of an n-channel MOSFET are k ′ n = 80 μA/V2, W = 4 μm, L = 0.8 μm, Cgs = 50 fF, and Cgd = 10 fF. The transistor is biased at IDQ = 0.6 mA. Determine fT . 7.56 Find fT for a MOSFET biased at IDQ = 120 μA and VGS − VT N = 0.20 V. The transistor parameters are Cgs = 40 fF and Cgd = 10 fF. 7.57 Fill in the missing parameter values in the following table for a MOSFET. Let Kn = 1.5 mA/V2. ID (μA) fT (GHz) Cgs(fF) Cgd (fF) 50 60 10 300 60 10 3 60 10 250 2.5 8 nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 552 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 552 Part 1 Semiconductor Devices and Basic Applications 7.58 (a) Ann-channel MOSFET has an electron mobility of 450 cm2/Vs and a channel length of 1.2 μm. Let VGS − VT N = 0.5 V. Determine the cutoff frequency fT . (b) Repeat part (a) if the channel length is reduced to 0.18 μm. 7.59 A common-source equivalent circuit is shown in Figure P7.59. The transistor transconductance is gm = 3 mA/V. (a) Calculate the equivalent Miller capacitance. (b) Determine the upper 3 dB frequency for the small-signal voltage gain. r = 10 kΩ Cgd = 12 fF i Vo + V + V Cgs = ro = RD = i – gs 80 fF – gmV 120 kΩ 10 kΩ gs Figure P7.59 7.60 (Sta)rting with the definition of unity-gain frequency, as given by Equation (7.97), neglect the overlap capacitance, assume Cgd ∼= 0 and Cgs ∼= 2 3 W LCox, a√nd show that 3 fT = · μn ID 2π L 2CoxW L Since ID is proportional to W, this relationship indicates that to increase fT , the channel length L must be small. 7.61 The parameters of an ideal n-channel MOSFET are W/L = 8, μn = 400 cm2/Vs, Cox = 6.9 × 10−7 F/cm2, and VT N = 0.4 V. (a) Determine the maximum source resistance such that the transconductance gm is reduced by no more that 20 percent from its ideal value when VGS = 3 V. (b) Using the results of part (a), find how much gm is reduced from its ideal value when VGS = 1 V. *7.62 Figure P7.62 shows the high-frequency equivalent circuit of an FET, including a source resistance rs. (a) Derive an expression for the low- frequency current gain Ai = Io/Ii . (b) Assuming Ri is very large, derive an expression for the current gain transfer function Ai (s) = Io(s)/Ii (s). (c) How does the magnitude of the current gain behave as rs increases? Cgd Vo + Vgs Cgs g – mVgs Ii Ri RL rs Io Figure P7.62 nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 553 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 553 7.63 For the FET circuit in Figure P7.63, the transistor parameters are: Kn = 1 mA/V2, VT N = 2 V, λ = 0, Cgs = 50 fF, and Cgd = 8 fF. (a) Draw the simplified high-frequency equivalent circuit. (b) Calculate the equivalent Miller capacitance. (c) Determine the upper 3 dB frequency for the small- signal voltage gain and find the midband voltage gain. VDD = +10 V RD = 5 kΩ R1 = 500 kΩ vO CC = 10 mF Ri = 1 kΩ v + i R = 225 kΩ – 2 Figure P7.63 Section 7.6 High-Frequency Response of Transistor Circuits 7.64 The midband voltage gain of a common-source MOSFET amplifier is Av = −15 V/V. The capacitances of the transistor are Cgs = 0.2 pF and Cgd = 0.04 pF. (a) Determine the input Miller capacitance. (b) What equivalent input resistance (bias resistance and signal source resistance) would result in an upper corner frequency of 5 MHz? 7.65 In the circuit in Figure P7.65, the transistor parameters are: β = 120, VB E (on) = 0.7 V, VA = 100 V, Cμ = 1 pF, and fT = 600 MHz. (a) Determine Cπ and the equivalent Miller capacitance CM . State any approximations or assumptions that you make. (b) Find the upper 3 dB frequency and the midband voltage gain. +5 V RC = 4 kΩ R1 = 33 kΩ vo CC = 2 mF C1 = 1 mF C2 RS = 2 kΩ RL = 5 kΩ v + i R2 = 22 kΩ – RE = CE = 4 kΩ 10 mF Figure P7.65 nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 554 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 554 Part 1 Semiconductor Devices and Basic Applications *7.66 In the circuit in Figure P7.66, the transistor parameters are: β = 120, VB E (on) = 0.7 V, VA = ∞, Cμ = 3 pF, and fT = 250 MHz. Assume the emitter bypass capacitor CE and the coupling capacitor CC2 are very large. (a) Determine the lower and upper 3 dB frequencies. Use the simplified hybrid-π model for the transistor. (b) Sketch the Bode plot of the voltage gain magnitude. VCC = +10 V RC = 5 kΩ R1 = 40 kΩ vo CC1 = 4.7 mF CC2 → ∞ R = 0.5 kΩ RL = S 2.5 kΩ v + i R2 = 5 kΩ – RE = Ω CE → ∞ 0.5 k Figure P7.66 7.67 The parameters of the transistor in the common-source circuit in Figure P7.67 are: Kp = 2 mA/V2, VT P = −2 V, λ = 0.01 V−1, Cgs = 10 pF, and Cgd = 1 pF. (a) Determine the equivalent Miller capacitance CM . (b) Find the upper 3 dB frequency and midband voltage gain. +9 V RS = 1.2 kΩ Ri = 2 kΩ CS + RG = v vi O – 100 kΩ RD = 1 kΩ – 9 V Figure P7.67 7.68 The bias voltages of the circuit shown in Figure P7.67 are changed to V + = 3 V and V − = −3 V. The input resistances are Ri = 4 k and RG = 200 k. The transistor parameters are Kp = 0.5 mA/V2, VT P = −0.5 V, λ = 0, Cgs = 0.8 pF, and Cgd = 0.08 pF. (a) Design the circuit such that IDQ = 0.5 mA and VSDQ = 2 V. (b) Find the midband voltage gain. (c) Determine the equivalent Miller capacitance. (d) Find the upper 3 dB frequency. nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 555 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 555 7.69 For the PMOS common-source circuit shown in Figure P7.69, the transistor parameters are: VT P = −2 V, Kp = 1 mA/V2, λ = 0, Cgs = 15 pF, and Cgd = 3 pF. (a) Determine the upper 3 dB frequency. (b) What is the equivalent Miller capacitance? State any assumptions or approximations that you make. (c) Find the midband voltage gain. +10 V RS = 0.5 kΩ R1 = 8 kΩ +5 V CC1 = 2 mF CS = 10 mF IQ = 0.5 mA Ri = 0.5 kΩ CC CC2 = 2 mF C1 C2 v v + vo oi – R Ω RS = 50 Ω 2 = 22 k RD = RL = + R = R = 2 kΩ v E L 5 kΩ i – 0.5 kΩ RB = 100 kΩ 1 kΩ CB –10 V Figure P7.69 Figure P7.70 *7.70 In the common-base circuit shown in Figure P7.70, the transistor parameters are: β = 100, VB E (on) = 0.7 V, VA = ∞, Cπ = 10 pF, and Cμ = 1 pF. (a) Determine the upper 3 dB frequencies corresponding to the input and output portions of the equivalent circuit. (b) Calculate the small-signal mid- band voltage gain. (c) If a load capacitor CL = 15 pF is connected between the output and ground, determine if the upper 3 dB frequency will be dominated by the CL load capacitor or by the transistor characteristics. *7.71 Repeat Problem 7.70 for the common-base circuit in Figure P7.71. Assume VE B(on) = 0.7 for the pnp transistor. The remaining transistor parameters are the same as given in Problem 7.70. RC CS = 1 kΩ C1 C2 C = 1 mF C = 2 mF v C1 C2 o vo RE = RC = Ri = 2 kΩ 10 kΩ 6.5 kΩ R = v + L + RS = RD = RL = iv + – 5 kΩ i – 10 kΩ 5 kΩ 4 kΩ 20 V 25 V – + V – = –5 V V + = +5 V Figure P7.71 Figure P7.72 *7.72 In the common-gate circuit in Figure P7.72, the transistor parameters are: VT N = 1 V, Kn = 3 mA/V2, λ = 0, Cgs = 15 pF, and Cgd = 4 pF. Determine the upper 3 dB frequency and midband voltage gain. 7.73 Consider the common-gate circuit in Figure P7.73 with parameters V + = 5 V, V − = −5 V, RS = 4 k, RD = 2 k, RL = 4 k, RG = 50 k, and nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 556 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 556 Part 1 Semiconductor Devices and Basic Applications RC i C1 CC2 vo v + i – RS RD RL RG CG V + V – Figure P7.73 Ri = 0.5 k. The transistor parameters are: Kp = 1 mA/V2, VT P = −0.8 V, λ = 0, Cgs = 4 pF, and Cgd = 1 pF. Determine the upper 3 dB frequency and midband voltage gain. *7.74 For the cascode circuit in Figure 7.65 in the text, circuit parameters are the same as described in Example 7.15. The transistor parameters are: βo = 120, VA = ∞, VB E (on) = 0.7 V, Cπ = 12 pF, and Cμ = 2 pF. (a) If CL is an open circuit, determine the 3 dB frequencies corresponding to the input and output portions of the equivalent circuit. (b) Determine the mid- band voltage gain. (c) If a load capacitance CL = 15 pF is connected to the output, determine if the upper 3 dB frequency is dominated by the load capacitance or by the transistor characteristics. COMPUTER SIMULATION PROBLEMS 7.75 An emitter-follower amplifier is shown in Figure P7.75. Using a computer simulation, determine the upper 3 dB frequency and the midband voltage gain for: (a) RL = 0.2 k, (b) RL = 2 k, and (c) RL = 20 k. Use a standard transistor. Explain any differences between the results of the three parts. +10 V RC = 2 kΩ R = 1 kΩ CS C vO +10 V Q1 + RB = RS = 2 kΩ vi – 20 kΩ Q2 CC1 CC2 v + RB = i vo RE1 100 kΩ RE2 = CR = 10 kΩ E ER 10 kΩ L –10 V –10 V Figure P7.75 Figure P7.76 7.76 The transistor circuit in Figure P7.76 is a Darlington pair configuration. Using a computer simulation, determine the upper 3 dB frequency and the nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 557 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: Chapter 7 Frequency Response 557 midband voltage gain for (a) RE1 = 10 k, (b) RE1 = 40 k, and (c) RE1 = ∞. Use standard transistors. Explain any differences between the results of the three parts. 7.77 Consider the common-source amplifier in Figure P7.77(a) and the cascode amplifier in Figure P7.77(b). Using standard transistors, determine the upper 3 dB frequency and the midband voltage gain for each circuit using a computer simulation. Compare the 3 dB frequencies and midband voltage gains. V+ = +10 V V+ = +10 V RD = 3 kΩ R1 = 179.5 kΩ R1 = 179.5 kΩ vo RD = 3 kΩ CC2 M RL = CC 2 G C2 10 kΩ R2 = v C Ω o G 175 k R2 = Ri = 2 kΩ 175 kΩ RL = 10 kΩ R = 2 kΩ Ci C1 CC1 M1 v + i – R3 = 145.5 kΩ v + i – R3 = 145.5 kΩ RS = CS RS = 10 kΩ C 10 kΩ S V – = –10 V V – = –10 V (a) (b) Figure P7.77 7.78 Consider identical transistors in the circuit in Figure P7.78. Assume the two coupling capacitors are both equal to CC = 4.7 μF. Using a computer simulation, determine the lower and upper 3 dB frequencies as well as the mid- band gain. What value of load capacitance will change the bandwidth by a factor of two? +10 V Ri = 2 kΩ CC1 M1 CC2 CC3 + R = v GM i – 2 vo 400 kΩ RS1 = RS2 = RD = RL = 10 kΩ 10 kΩ 5 kΩ 2 kΩ –10 V –10 V +10 V Figure P7.78 nea80644_ch07_469-558.qxd 06/13/2009 08:08 PM Page 558 F506 Hard disk:Desktop Folder:Rakesh:MHDQ134-07: 558 Part 1 Semiconductor Devices and Basic Applications DESIGN PROBLEMS [Note: Each design should be verified with a computer analysis.] *D7.79 (a) Design a common-emitter amplifier using a 2N2222A transistor biased at IC Q = 1 mA and VC E Q = 10 V. The available power supplies are ±15 V, the load resistance is RL = 20 k, the source resistance is RS = 0.5 k, the input and output are ac coupled to the amplifier, and the lower 3 dB frequency is to be less than 10 Hz. Design the circuit to maximize the midband gain. What is the upper 3 dB frequency? (b) Repeat the design for IC Q = 50 μA. Assume fT is the same as the case when IC Q = 1 mA. Compare the midband gain and bandwidth of the two designs. *D7.80 Design a bipolar amplifier with a midband gain of |Av| = 50 and a lower 3 dB frequency of 10 Hz. The available transistors are 2N2222A, and the available power supplies are ±10 V. All transistors in the circuit should be biased at approximately 0.5 mA. The load resistance is RL = 5 k, the source resistance is RS = 0.1 k, and the input and output are ac coupled to the amplifier. Compare the bandwidth of a single-stage design to that of a cascode design. *D7.81 A common-emitter amplifier is designed to provide a particular midband gain and a particular bandwidth, using device A from Table P7.81. Assume IC Q = 1 mA. Investigate the effect on midband gain and bandwidth if devices Band Care inserted into the circuit. Which device provides the largest bandwidth? What is the gain–bandwidth product in each case? Table P7.81 Device specifications for Problem 7.81 Device fT (MHz) Cμ (pF) β rb () A 350 2 100 15 B 400 5 100 10 C 500 2 50 5 *D7.82 A simplified high-frequency equivalent circuit of a common-emitter amplifier is shown in Figure P7.82. The input signal is coupled into the amplifier through CC1, the output signal is coupled to the load through CC2, and the amplifier provides a midband gain of |Am | and an upper 3 dB frequency of fH . Compare this single-stage amplifier design to one in which three amplifier stages are used between the signal and load. In the three-stage amplifier, assume all parameters are the same, except gm for each stage is one-third that of the single-stage amplifier. Compare the midband gains and the bandwidths. RC CS C1 m CC2 Vo + V + i Vp rp Cp RC RL – gmVp Amplifier stage Figure P7.82 nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 559 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Output Stages and Power Amplifiers 8 In previous chapters, we dealt mainly with small-signal voltage gains, current gains, and impedance characteristics of linear amplifiers. In this chapter, we analyze and design circuits that must deliver a specified power to a load. We will, therefore, be concerned with power dissipation in transistors, especially in the output stage, since the output stage must deliver the signal power. Linearity in the output signal is still a priority, however. A figure of merit for the output stage linearity characteristic is the total harmonic distortion that is present. Various classes of power amplifiers are defined. The ideal and actual power efficiencies of these classes of amplifiers are determined. PREVIEW In this chapter, we will: • Describe the concept of a power amplifier. • Describe the characteristics of BJT and MOSFET power transistors, and analyze the temperature and heat flow characteristics of devices using heat sinks. • Define the various classes of power amplifiers and determine the maximum power efficiency of each class of amplifier. • Analyze several circuit configurations of class-A power amplifiers. • Discuss the characteristics of an ideal class-B output stage. • Analyze and design various circuit configurations of class-AB output stages. • As an application, design an output stage using MOSFETs as the output devices. 559 Chapter"
Chapter 8: Output Stages and Power Amplifiers,"8: Output Stages and Power Amplifiers 8 In previous chapters, we dealt mainly with small-signal voltage gains, current gains, and impedance characteristics of linear amplifiers. In this chapter, we analyze and design circuits that must deliver a specified power to a load. We will, therefore, be concerned with power dissipation in transistors, especially in the output stage, since the output stage must deliver the signal power. Linearity in the output signal is still a priority, however. A figure of merit for the output stage linearity characteristic is the total harmonic distortion that is present. Various classes of power amplifiers are defined. The ideal and actual power efficiencies of these classes of amplifiers are determined. PREVIEW In this chapter, we will: • Describe the concept of a power amplifier. • Describe the characteristics of BJT and MOSFET power transistors, and analyze the temperature and heat flow characteristics of devices using heat sinks. • Define the various classes of power amplifiers and determine the maximum power efficiency of each class of amplifier. • Analyze several circuit configurations of class-A power amplifiers. • Discuss the characteristics of an ideal class-B output stage. • Analyze and design various circuit configurations of class-AB output stages. • As an application, design an output stage using MOSFETs as the output devices. 559 Chapter"
Preview,"PREVIEW In this chapter, we will: • Describe the concept of a power amplifier. • Describe the characteristics of BJT and MOSFET power transistors, and analyze the temperature and heat flow characteristics of devices using heat sinks. • Define the various classes of power amplifiers and determine the maximum power efficiency of each class of amplifier. • Analyze several circuit configurations of class-A power amplifiers. • Discuss the characteristics of an ideal class-B output stage. • Analyze and design various circuit configurations of class-AB output stages. • As an application, design an output stage using MOSFETs as the output devices. 559 Chapter nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 560 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 560 Part 1 Semiconductor Devices and Basic Applications 8.1 POWER AMPLIFIERS Objective: • Describe the concept of a power amplifier. A multistage amplifier maybe required to deliver a large amount of power to a passive load. This power maybe in the form of a large current delivered to a relatively small load resistance such as an audio speaker, or maybe in the form of a large voltage delivered to a relatively large load resistance such as in a switching power supply. The output stage of the power amplifier must be designed to meet the power requirements. In this chapter, we are interested only in power amplifiers using BJTs or MOSFETS, and will not consider other types of power electronics that, for example, use thyristors. Two important functions of the output stage are to provide a low output resistance so that it can deliver the signal power to the load without loss of gain and to maintain linearity in the output signal. A low output resistance implies the use of emitter-follower or source-follower circuit configurations. A measure of the linearity of the output signal is the total harmonic distortion (THD). This figure of merit is the rms value of the harmonic components of the output signal, excluding the fundamental, expressed as a percentage of the fundamental. A particular concern in the design of the output stage is to deliver the required signal power to the load efficiently. This specification implies that the power dissipated in the transistors of the output stage should be as small as possible. The output transistors must be capable of delivering the required current to the load, and must be capable of sustaining the required output voltage. We will initially discuss power transistors and will then consider several output stages of power amplifiers. 8.2 POWER TRANSISTORS Objective: • Describe the characteristics of BJT and MOSFET power transistors, and analyze the temperature and heat flow characteristics of devices using heat sinks. In our previous discussions, we have ignored any physical transistor limitations in terms of maximum current, voltage, and power. We implicitly assumed that the transistors were capable of handling the current and voltage, and could handle the power dissipated within the transistor without suffering any damage. However, since we are now discussing power amplifiers, we must be concerned with transistor limitations. The limitations involve: maximum rated current (on the order of amperes), maximum rated voltage (on the order of 100 V), and maximum rated power (on the order of watts or tens of watts).1 We will consider these effects in the BJT and then in the MOSFET. The maximum power limitation is related to the 1We must note that, in general, the maximum rated current and maximum rated voltage cannot occur at the same time."
8.1 Power Amplifiers,"8.1 POWER AMPLIFIERS Objective: • Describe the concept of a power amplifier. A multistage amplifier maybe required to deliver a large amount of power to a passive load. This power maybe in the form of a large current delivered to a relatively small load resistance such as an audio speaker, or maybe in the form of a large voltage delivered to a relatively large load resistance such as in a switching power supply. The output stage of the power amplifier must be designed to meet the power requirements. In this chapter, we are interested only in power amplifiers using BJTs or MOSFETS, and will not consider other types of power electronics that, for example, use thyristors. Two important functions of the output stage are to provide a low output resistance so that it can deliver the signal power to the load without loss of gain and to maintain linearity in the output signal. A low output resistance implies the use of emitter-follower or source-follower circuit configurations. A measure of the linearity of the output signal is the total harmonic distortion (THD). This figure of merit is the rms value of the harmonic components of the output signal, excluding the fundamental, expressed as a percentage of the fundamental. A particular concern in the design of the output stage is to deliver the required signal power to the load efficiently. This specification implies that the power dissipated in the transistors of the output stage should be as small as possible. The output transistors must be capable of delivering the required current to the load, and must be capable of sustaining the required output voltage. We will initially discuss power transistors and will then consider several output stages of power amplifiers. 8.2 POWER TRANSISTORS Objective: • Describe the characteristics of BJT and MOSFET power transistors, and analyze the temperature and heat flow characteristics of devices using heat sinks. In our previous discussions, we have ignored any physical transistor limitations in terms of maximum current, voltage, and power. We implicitly assumed that the transistors were capable of handling the current and voltage, and could handle the power dissipated within the transistor without suffering any damage. However, since we are now discussing power amplifiers, we must be concerned with transistor limitations. The limitations involve: maximum rated current (on the order of amperes), maximum rated voltage (on the order of 100 V), and maximum rated power (on the order of watts or tens of watts).1 We will consider these effects in the BJT and then in the MOSFET. The maximum power limitation is related to the 1We must note that, in general, the maximum rated current and maximum rated voltage cannot occur at the same time."
8.2 Power Transistors,"8.2 POWER TRANSISTORS Objective: • Describe the characteristics of BJT and MOSFET power transistors, and analyze the temperature and heat flow characteristics of devices using heat sinks. In our previous discussions, we have ignored any physical transistor limitations in terms of maximum current, voltage, and power. We implicitly assumed that the transistors were capable of handling the current and voltage, and could handle the power dissipated within the transistor without suffering any damage. However, since we are now discussing power amplifiers, we must be concerned with transistor limitations. The limitations involve: maximum rated current (on the order of amperes), maximum rated voltage (on the order of 100 V), and maximum rated power (on the order of watts or tens of watts).1 We will consider these effects in the BJT and then in the MOSFET. The maximum power limitation is related to the 1We must note that, in general, the maximum rated current and maximum rated voltage cannot occur at the same time. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 561 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 561 maximum allowed temperature of the transistor, which in turn is a function of the rate at which heat is removed. We will therefore briefly consider heat sinks and heat flow. 8.2.1 Power BJTs Power transistors are large-area devices. Because of differences in geometry and doping concentrations, their properties tend to vary from those of the small-signal devices. Table 8.1 compares the parameters of a general-purpose small-signal BJT to those of two power BJTs. The current gain is generally smaller in the power transistors, typically in the range of 20 to 100, and maybe a strong function of collector current and temperature. Figure 8.1 shows typical current gain versus collector current characteristics for the 2N3055 power BJT at various temperatures. At high current levels, the current gain tends to drop off significantly, and parasitic resistances in the base and collector regions may become significant, affecting the transistor terminal characteristics. The maximum rated collector current IC,rated maybe related to: the maximum current that the wires connecting the semiconductor to the external terminals can handle; the collector current at which the current gain falls below a minimum specified value; or the current that leads to the maximum power dissipation when the transistor is in saturation. Table 8.1 Comparison of the characteristics and maximum ratings of a small-signal and power BJT Power Small-Signal BJT Power BJT BJT Parameter (2N2222A) (2N3055) (2N6078) VC E(max) (V) 40 60 250 IC(max) (A) 0.8 15 7 PD(max) (W) (at T = 25 °C) 1.2 115 45 β 35–100 5–20 12–70 fT (MHz) 300 0.8 1 1000 Common emitter 500 VCE = 4 V 300 TC = 100 °C 25 100 50 –55 30 10 5 3 0.01 0.03 01 03 1 3 10 20 Collector current IC (A) Figure 8.1 Typical dc beta characteristics (hFE versus IC) for 2N3055 DC current gain hFE nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 562 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 562 Part 1 Semiconductor Devices and Basic Applications 10 9 8 IB = 75 7 6 60 5 45 4 3 30 2 15 1 Base current IB = 0 mA 0 20 40 60 80 100 120 140 Collector-to-emitter voltage VCE (V) Figure 8.2 Typical collector current versus collector–emitter voltage characteristics of a bipolar transistor, showing breakdown effects The maximum voltage limitation in a BJT is generally associated with avalanche breakdown in the reverse-biased base–collector junction. In the common-emitter configuration, the breakdown voltage mechanism also involves the transistor gain, as well as the breakdown phenomenon on the pn junction. Typical IC versus VC E characteristics are shown in Figure 8.2. The breakdown voltage when the base terminal is open circuited (IB = 0) is VC E O . From the data in Figure 8.2, this value is approximately 130 V. When the transistor is biased in the active region, the collector current begins to increase significantly before breakdown voltage VC E O is reached, and all the curves tend to merge to the same collector–emitter voltage once breakdown has occurred. The voltage at which these curves merge is denoted VC E (sus) and is the minimum voltage necessary to sustain the transistor in breakdown. From the data in Figure 8.2, the value of VC E (sus) is approximately 115 V. Another breakdown effect is called second breakdown, which occurs in a BJT operating at high voltage and a fairly high current. Slight nonuniformities in current density produce local regions of increased heating that decreases the resistance of the semiconductor material, which in turn increases the current in those regions. This effect results in positive feedback, and the current continues to increase, producing a further increase in temperature, until the semiconductor material may actually melt, creating a short circuit between the collector and emitter and producing a permanent failure. The instantaneous power dissipation in a BJT is given by pQ = vC EiC + vB EiB (8.1) The base current is generally much smaller than the collector current; therefore, to a good approximation, the instantaneous power dissipation is pQ ∼= vC EiC (8.2) The average power, which is found by integrating Equation (8.2) over one cycle of the signal, is ∫ T P̄Q = 1 vC EiC dt (8.3) T 0 Collector current IC (mA) nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 563 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 563 IC (A) IC (A) 1.0 IC, max Maximum current limit 1.0 PT PT VCE, (sus) 0.5 Second Second breakdown 0.10 breakdown VCE, (sus) 0.01 0 10 30 50 70 90 VCE (V) 1 10 100 VCE (V) (a) (b) Figure 8.3 The safe operating area of a bipolar transistor plotted on: (a) linear scales and (b) logarithmic scales The average power dissipated in a BJT must be kept below a specified maximum value, to ensure that the temperature of the device remains below a maximum value. If we assume that the collector current and collector–emitter voltage are dc quantities, then at the maximum rated power PT for the transistor, we can write PT = VC E IC (8.4) The maximum current, voltage, and power limitations can be illustrated on the IC versus VCE characteristics, as shown in Figure 8.3. The average power limitation PT is a hyperbola described by Equation (8.4). The region where the transistor can be operated safely is known as the safe operating area (SOA) and is bounded by IC,max, VCE(sus), PT, and the transistor’s second breakdown characteristics curve. Figure 8.3(a) shows the safe operating area, using linear current and voltage scales; Figure 8.3(b) shows the same characteristics using logarithmic scales. The iC–vCE operating point may move momentarily outside the safe operating area without damaging the transistor, but this depends on how far the Q-point moves outside the area and for how long. For our purposes, we will assume that the device must remain within the safe operating area at all times. EXAMPLE 8.1 Objective: Determine the required current, voltage, and power ratings of a power BJT. Consider the common-emitter circuit in Figure 8.4. The parameters are RL = 8  and VCC = 24 V. VCC Solution: For VC E =∼ 0, the maximum collector current is = VI max CC C( ) = 24 = RL 3 A RL 8 vO For IC = 0, the maximum collector–emitter voltage is vI VC E(max) = VCC = 24 V The load line is given by VC E = VCC − IC RL Figure 8.4 Figure for and must remain within the safe operating area, as shown in Figure 8.5. Example 8.1 nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 564 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 564 Part 1 Semiconductor Devices and Basic Applications IC (A) I 3 C, max VCE, (sus) 2 1 0 12 24 VCE (V) Figure 8.5 DC load line within the safe operating area The transistor power dissipation is therefore PT = VC E IC = (VCC − IC RL)IC = V 2 CC IC − IC RL The current at which the maximum power occurs is found by setting the derivative of this equation equal to zero as follows: d PT = 0 = VCC − 2Id I C RLC which yields V 24 IC = CC = = 1.5 A 2RL 2(8) The CE voltage at the maximum power point is VC E = VCC − IC RL = 24 − (1.5)(8) = 12 V The maximum power dissipation in the transistor occurs at the center of the load line. The maximum transistor power dissipation is therefore PT = VC E IC = 12(1.5) = 18 W Comment: To find a transistor for a given application, safety factors are normally used. For this example, a transistor with a current rating greater than 3 A, a voltage rating greater than 24 V, and a power rating greater than 18 W would be required. EXERCISE PROBLEM Ex 8.1: Consider the common-emitter circuit shown in Figure 8.4. Assume the transistor has limiting factors of: IC,max = 5 A, VC E(sus) = 30 V, and PT = 25 W. Neglecting second breakdown effects, determine the minimum RL such that the Q-point of the transistor stays within the safe operating area for: (a) VCC = 24 V and (b) VCC = 12 V. In each case, determine the maximum collector current and maximum transistor power dissipation. (Ans. (a) RL = 5.76 , IC,max = 4.17 A, PQ,max = 25 W; (b) RL = 2.4 , IC,max = 5 A, PQ,max = 15 W) Power transistors, which are designed to handle large currents, require large emitter areas to maintain reasonable current densities. These transistors are usually designed with narrow emitter widths to minimize the parasitic base resistance, nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 565 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 565 Base Emitter Base Emitter terminal terminal p base Figure 8.6 An interdigitated bipolar transistor structure showing the top view and cross- sectional view and maybe fabricated as an interdigitated structure, as shown in Figure 8.6. Also, emitter ballast resistors, which are small resistors in each emitter leg, are usually incorporated in the design. These resistors help maintain equal currents in each BE junction. 8.2.2 Power MOSFETs Table 8.2 lists the basic parameters of two n-channel power MOSFETs. The drain currents are in the ampere range and the breakdown voltages are in the hundreds of volts range. These transistors must also operate within a safe operating area as discussed for the BJTs. Table 8.2 Characteristics of two power MOSFETs Parameter 2N6757 2N6792 VDS(max) (V) 150 400 ID (max) (at T = 25 °C) 8 2 PD (W) 75 20 Power MOSFETs differ from bipolar power transistors both in operating principles and performance. The superior performance characteristics of power MOSFETs are: faster switching times, no second breakdown, and stable gain and response time over a wide temperature range. Figure 8.7(a) shows the transconductance nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 566 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 566 Part 1 Semiconductor Devices and Basic Applications 10 10 80 ms pulse test VDS = 15 V 8 8 TJ = –55 °C 6 6 TJ = 25 °C TJ = +125 °C 4 4 TJ = 125 °C TJ = 25 °C TJ = –55 °C 2 2 VDS = 15 V 80 ms pulse test 0 2 4 6 8 10 0 1 2 3 4 5 6 7 Drain current ID (A) Gate-to-source voltage (V) (a) (b) Figure 8.7 Typical characteristics for high-power MOSFETs: (a) transconductance versus drain current; (b) transfer characteristics of the 2N6757 versus temperature. The variation with temperature of the MOSFET transconductance is less than the variation in the BJT current gain shown in Figure 8.1. Power MOSFETs are often manufactured by a vertical or double-diffused process, called VMOS or DMOS, respectively. The cross section of a VMOS device is shown in Figure 8.8(a) and the cross section of the DMOS device is shown in Figure 8.8(b). The DMOS process can be used to produce a large number of closely packed hexagonal cells on a single silicon chip, as shown in Figure 8.8(c). Also, such MOSFETs can be paralleled to form large-area devices, without the need of an equivalent emitter ballast resistance to equalize the current density. A single power MOSFET chip may contain as many as 25,000 paralleled cells. Since the path between the drain and the source is essentially resistive, the on resistance rds(on) is an important parameter in the power capability of a MOSFET. Figure 8.9 shows atypical rds(on) characteristic as a function of drain current. Values in the tens of milliohm range have been obtained. Multiple source cells Silicon gate interconnected by metallization Multiple source cells Source Gate Source Gate Source Source p-base p n+ p-base p n+ Ln+ n+ Channel Channel W n-drift region n-drift region p + rent n r cu rain + + n D n n Drain Drain Drain metallization (a) (b) (c) Figure 8.8 (a) Cross section of a VMOS device; (b) cross section of DMOS device; (c) HEXFET structure Transconductance (siemens) Drain current ID (A) nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 567 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 567 1.0 VGS = 10 V 0.9 VGS = 20 V 0.8 0.7 0.6 0.5 RDS(on), measured with current pulse of 2.0 ms duration 0.4 initial Tj = 25 °C (heating effect of 2.0 ms pulse is minimal) 0.3 0 10 20 30 40 50 60 70 ID, drain current (A) Figure 8.9 Typical drain-to-source resistance versus drain current characteristics of a MOSFET 8.2.3 Comparison of Power MOSFETs and BJTs Since a MOSFET is a high input impedance, voltage-controlled device, the drive circuitry is simpler. The gate of a 10 A power MOSFET maybe driven by the output of a standard logic circuit. In contrast, if the current gain of a 10 A BJT is β = 10, then a base current of 1 A is required for a collector current of 10 A. However, this required input current is much larger than the output drive capability of most logic circuits, which means that the drive circuitry for power BJTs is more complicated. The MOSFET is a majority carrier device. Majority carrier mobility decreases with increasing temperature, which makes the semiconductor more resistive. This means that MOSFETs are more immune to the thermal runaway effects and second breakdown phenomena experienced in bipolars. Figure 8.7(b) shows typical ID versus VGS characteristics at several temperatures, clearly demonstrating that at high current levels, the current actually decreases with increasing temperature, for a given gate-to-source voltage. 8.2.4 Heat Sinks The power dissipated in a transistor increases its internal temperature above the ambient temperature. If the device or junction temperature Tj becomes too high, the transistor may suffer permanent damage. Special precautions must be taken in packaging power transistors and in providing heat sinks so that heat can be conducted from the transistor. Figures 8.10(a) and (b) show two packaging schemes, and Figure 8.10(c) shows atypical heat sink. To design a heat sink for a power transistor, we must first consider the concept of thermal resistance θ , which has units of °C/W. The temperature difference, T2 − T1, across an element with a thermal resistance θ is T2 − T1 = Pθ (8.5) RDS(on), drain-to-source on resistance (Ω) nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 568 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 568 Part 1 Semiconductor Devices and Basic Applications (a) (b) (c) Figure 8.10 Two packaging schemes: (a) and (b) for power transistors and (c) typical heat sink where Pis the thermal power through the element. Temperature difference is the electrical analog of voltage, and power or heat flow is the electrical analog of current. Manufacturers’ data sheets for power devices generally give the maximum operating junction or device temperature Tj,max and the thermal resistance from the Tdev junction to the case θjc = θdev− 2 case. By definition, the thermal resistance between the q case and heat sink is θcase−snk, and between the heat sink and ambient is θsnk−amb. dev-case The temperature difference between the device and the ambient can now be T written as follows, when a heat sink is used: case Tdev − Tamb = PD(θdev−case + θcase−snk + θsnk−amb) (8.6) PD qcase-snk where PD is the power dissipated in the device. Equation (8.6) may also be modeled Tsnk by its equivalent electrical elements, as shown in Figure 8.11. The temperature difference across the elements, such as the case and heat sink, is the dissipated qsnk-amb power PD multiplied by the applicable thermal resistance, which is θcase−snk for this example. Tamb If a heat sink is not used, the temperature difference between the device and Figure 8.11 Electrical ambient is written as equivalent circuit for heat Tdev − Tamb = PD(θdev−case + θcase−amb) (8.7) flow from the device to the ambient where θcase−amb is the thermal resistance between the case and ambient. EXAMPLE 8.2 Objective: Determine the maximum power dissipation in a transistor and determine the temperature of the transistor case and heat sink. Consider a power MOSFET for which the thermal resistance parameters are: θ − = 1.75 ◦C/W θ − = 1 ◦ dev case case snk C/W θ ◦ ◦ snk−amb = 5 C/W θcase−amb = 50 C/W The ambient temperature is Tamb = 30 °C, and the maximum junction or device temperature is Tj,max = Tdev = 150 °C. 2In this short discussion, we use a more descriptive subscript notation to help clarify the discussion. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 569 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 569 Solution (Maximum Power): When no heat sink is used, the maximum device power dissipation is found from Equation (8.7) as P = Tj,max − Tamb = 150 − 30 D,max = 2.32 W θdev−case + θcase−amb 1.75 + 50 When a heat sink is used, the maximum device power dissipation is found from Equation (8.6) as = T P j,max − Tamb D,max θdev−case + θcase−snk + θsnk−amb = 150 − 30 + + = 15.5 W 1.75 1 5 Solution (Temperature): The device temperature is T = 150 °C and the ambient temperature is Tamb = 30 °C. The heat flow is PD = 15.5 W. The heat sink temperature (see Figure 8.11) is found from Tsnk − Tamb = PD · θsnk−amb or Tsnk = 30 + (15.5)(5) ⇒ Tsnk = 107.5 ◦C The case temperature is found from Tcase − Tamb = PD · (θcase−snk + θsnk−case) or Tcase = 30 + (15.5)(1 + 5) ⇒ T = 123 ◦C Comment: These results illustrate that the use of a heat sink allows more power to be dissipated in the device, while keeping the device temperature at or below its maximum limit. EXERCISE PROBLEM Ex 8.2: A power BJT is operating with an average collector current of IC = 2 A and an average collector–emitter voltage of VC E = 8 V. The device parameters are θdev−case = 3 ◦C/W, θcase− = 1 ◦ snk C/W, and θ ◦ snk−amb = 4 C/W. The ambient temperature is 25 ◦C. Determine the temperatures of the (a) device, (b) case, and (c) heat sink. (Ans. (a) 153 ◦C, (b) 105 ◦C, (c) 89 ◦C) The maximum safe power dissipation in a device is a function of: (1) the temperature difference between the junction and case, and (2) the thermal resistance between the device and the case θdev−case, or T P = j,max − Tcase D,max (8.8) θdev−case A plot of PD,max versus Tcase, called the power derating curve of the transistor, is shown in Figure 8.12. The temperature at which the power derating curve crosses the horizontal axis corresponds to Tj, max. At this temperature, no additional temperature rise in the device can be tolerated; therefore, the allowed power dissipation must be zero, which implies a zero input signal. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 570 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 570 Part 1 Semiconductor Devices and Basic Applications PD, max PD, rated TOC = 25 °C Tj, max Tcase Figure 8.12 A power derating curve The rated power of a device is generally defined as the power at which the device reaches its maximum temperature, while the case temperature remains at room or ambient temperature, that is, Tcase = 25 °C. Maintaining the case at ambient temperature implies that the thermal resistance between the case and ambient is zero, or that an infinite heat sink is used. However, an infinite heat sink is not possible. With nonzero values of θcase−snk and θsnk−amb, the case temperature rises above the ambient, and the maximum rated power of the device cannot be achieved. This effect can be seen by examining the equivalent circuit model in Figure 8.11. If the device temperature is at its maximum allowed value of Tdev = Tj,max, then as Tcase increases, the temperature difference across θdev−case decreases, which means that the power through the element must decrease. EXAMPLE 8.3 Objective: Determine the maximum safe power dissipation in a transistor. Consider a BJT with a rated power of 20 Wand a maximum junction temperature of T ◦ j,max = 175 C. The transistor is mounted on a heat sink with parameters θcase−snk = 1 ◦C/Wand θsnk−amb = 5 ◦C/W. Solution: From Equation (8.8), the device-to-case thermal resistance is = Tj,max − TOC = 175 − 25 θdev−case = 7.5 ◦C/W PD,rated 20 From Equation (8.6), the maximum power dissipation is T P j,max − Tamb D,max = θdev−case + θcase−snk + θsnk−amb = 175 − 25 = 11.1 W 7.5 + 1 + 5 Comment: The actual maximum safe power dissipation in a device maybe less than the rated value. This occurs when the case temperature cannot be held at the ambient temperature, because of the nonzero thermal resistance factors between the case and ambient. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 571 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 571 EXERCISE PROBLEM Ex 8.3: The rated power of a power BJT is PD,rated = 50 W, the maximum allowed junction temperature is Tj,max = 200 °C, and the ambient temperature is T = 25 ◦ amb C. The thermal resistance between the heat sink and air is θsnk−amb = 2 ◦C/W, and that between the case and heat sink is θ ◦ case−snk = 0.5 C/W. Find the maximum safe power dissipation and the temperature of the case. (Ans. PD,max = 29.2 W, Tcase = 98 °C) Test Your Understanding TYU 8.1 Consider the common-source circuit shown in Figure 8.13. The parameters are RD = 20  and VDD = 24 V. Determine the required current, voltage, and power ratings of the MOSFET. (Ans. ID(max) = 1.2 A, VDS(max) = 24 V, PD(max) = 7.2 W) TYU 8.2 The emitter-follower circuit shown in Figure 8.14 is biased with VCC = 12 V. The transistor current gain is β = 80, and the transistor limiting factors are IC,max = 250 mA and VC E(sus) = 30 V. The transistor Q-point is to remain within the safe operating area at all times. (a) Determine the minimum value of RE . (b) Determine the minimum required transistor power rating. (Ans. (a) RE = 96 , (b) PQ = 1.5 W) TYU 8.3 (a) Assume the power flow through a material with a thermal resistance parameter of θ = 1.8 ◦C/Wis P = 6 W. Determine the resulting temperature difference across the material. (b) The thermal resistance of a material is θ = 2.5 ◦C/W. If the temperature difference across the material is T = 100 ◦C, find the power flow through the material. (Ans. (a) T = 10.8 ◦C, (b) P = 40 W) +V V CC DD v II D RD vO + Vi VDS RE – –VCC Figure 8.13 Figure for Figure 8.14 Figure for Exercise TYU 8.1 and Exercise TYU 8.2 Example 8.4 8.3 CLASSES OF AMPLIFIERS Objective: • Define various classes of power amplifiers, and investigate the characteristics, including power efficiency, of a few of these amplifiers."
8.3 Classes of Amplifiers,"8.3 CLASSES OF AMPLIFIERS Objective: • Define various classes of power amplifiers, and investigate the characteristics, including power efficiency, of a few of these amplifiers. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 572 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 572 Part 1 Semiconductor Devices and Basic Applications iC iC ICQ 0 p 2p 3p 4p ωt 0 p 2p 3p 4p ωt (a) (b) iC iC ICQ 0 p 2p 3p 4p ωt 0 p 2p 3p 4p ωt (c) (d) Figure 8.15 Collector current versus time characteristics: (a) class-A amplifier, (b) class-B amplifier, (c) class-AB amplifier, and (d) class-C amplifier Some power amplifiers are classified according to the percent of time the output transistors are conducting, or “turned on.” Four of the principal classifications are: class A, class B, class AB, and class C. These classifications are illustrated in Figure 8.15 for a sinusoidal input signal. In class-A operation, an output transistor is biased at a quiescent current IQ and conducts for the entire cycle of the input signal. For class-B operation, an output transistor conducts for only one-half of each sine wave input cycle. In class-AB operation, an output transistor is biased at a small quiescent current IQ and conducts for slightly more than half a cycle. In contrast, in class-C operation an output transistor conducts for less than half a cycle. These four types of power amplifiers use the output transistors as a current source. We will analyze the biasing, load lines, and power efficiency of each class of these power amplifiers. Another classification of power amplifiers, including class D, class E, and class F, uses the output transistors as switches. The output of the amplifier is, in general, a high-Q resonant RLC circuit. When the switch is closed, current and power are supplied to the output resonant circuit. In the ideal case, when the switch is closed, there is zero voltage across the switch, and when the switch is open, there is zero current through the switch. In both cases, the ideal power dissipated in the switch is zero. The power efficiency of these amplifiers can then approach 100 percent. The intent of this chapter is to provide the basic characteristics of a few of these power amplifiers. As usual, there are other types of power amplifiers and power electronics that are beyond the scope of this text, including high-frequency radio-frequency (RF) circuit design. 8.3.1 Class-A Operation The small-signal amplifiers considered in Chapters 4 and 6 were all biased for class-A operation. A basic common-emitter configuration is shown in Figure 8.16(a). The bias circuitry has been omitted, for convenience. Also, in this standard class-A amplifier configuration, no inductors or transformers are used. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 573 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 573 iC Time VCC 2ICQ T Q-point IP i QC RL CQ 0 DC load line VCC ICQ vO V V vCE 2 + CEQ CC vI vCE 0 – Time 0 T T Time T 2 (a) (b) (c) Figure 8.16 (a) Common-emitter amplifier, (b) dc load line, and (c) instantaneous power dissipation versus time in the transistor The dc load line is shown in Figure 8.16(b). The Q-point is assumed to be in the center of the load line, so that VC E Q = VCC/2. If a sinusoidal input signal is applied, sinusoidal variations are induced in the collector current and collector–emitter voltage. The absolute possible variations are shown in the figure, although values of vC E = 0 and iC = 2IC Q cannot actually be attained. The instantaneous power dissipation in the transistor, neglecting the base current, is pQ = vC EiC (8.9) For a sinusoidal input signal, the collector current and collector-emitter voltage can be written iC = IC Q + Ip sin ωt (8.10(a)) and = VCC vC E − Vp sin ωt (8.10(b)) 2 If we consider the absolute possible variations, then Ip = IC Q and Vp = VCC/2. Therefore, the instantaneous power dissipation in the transistor, from Equation (8.9), is = VCC I p C Q Q (1 − sin2 ωt) (8.11) 2 Figure 8.16(c) is a plot of the instantaneous transistor power dissipation. Since the maximum power dissipation corresponds to the quiescent value (see Figure 8.5), the transistor must be capable of handling a continuous power dissipation of VCC IC Q/2 when the input signal is zero. The power conversion efficiency is defined as = signal load power(P̄L) η (8.12) supply power(P̄S) where P̄L is the average ac power delivered to the load and P̄Sis the average power supplied by the VCC power source(s). For the standard class-A amplifier and nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 574 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 574 Part 1 Semiconductor Devices and Basic Applications ( ) sinusoidal input signals, the average ac power delivered to the load is 1 2 Vp Ip . Using the absolute poss(ible) v(ariatio)ns, we have P̄L(max) = 1 VCC = VI CC IC Q ( C Q) (8.13) 2 2 4 The average power supplied by the VCC source is P̄S = VCC IC Q (8.14) The maximum attainable conversion efficiency is therefore 1 = 4 VCC IC Q η(max) ⇒ 25% (8.15) VCC IC Q We must keep in mind that the maximum possible conversion efficiency may change when a load is connected to the output of the amplifier. This efficiency is relatively low; therefore, standard class-A amplifiers are normally not used when signal powers greater than approximately 1 Ware required. We must also emphasize that in practice, a maximum signal voltage of VCC/2 and a maximum signal current of ICQ are not possible. The output signal voltage must be limited to smaller values in order to avoid transistor saturation and cutoff, and the resulting nonlinear distortion. The calculation for the maximum possible efficiency also neglects power dissipation in the bias circuitry. Consequently, the realistic maximum conversion efficiency in a standard class-A amplifier is on the order of 20 percent or less. Design Pointer: In circuit analysis, the maximum power transfer theorem stated that the load impedance should be matched to the amplifier output impedance, which provides a 50 percent power conversion efficiency. However, in the design of power amplifiers, this theorem is not practical. For example, if 50 kW is to be delivered to an antenna, then the circuit would also dissipate 50 kW if the power conversion efficiency were only 50 percent. In general, this amount of power being dissipated in the amplifier would be unacceptable. Power conversion efficiencies as close to 100 percent as possible are desirable in very high power amplifiers. EXAMPLE 8.4 Objective: Calculate the actual efficiency of a class-A output stage. Consider the common-source circuit in Figure 8.13. The circuit parameters are VDD = 10 V and RD = 5 k, and the transistor parameters are: Kn = 1 mA/V2, VT N = 1 V, and λ = 0. Assume the output voltage swing is limited to the range between the transition point and vDS = 9 V, to minimize nonlinear distortion. Solution: The load line is given by VDS = VDD − ID RD At the transition point, we have VDS(sat) = VGS − VT N and ID = Kn(VGS − V 2 TN ) Combining these expressions, the transition point is determined from V 2 DS(sat) = VDD − Kn RDVDS(sat) nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 575 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 575 or (1)(5)V 2 DS(sat) + VDS(sat) − 10 = 0 which yields VDS(sat) = 1.32 V To obtain the maximum symmetrical swing under the conditions specified, we want the Q-point midway between VDS = 1.32 V and VDS = 9 V, or VDSQ = 5.16 V The maximum ac component of voltage across the load resistor is then vr = 3.84 sin ωt and the average power delivered to the load is = 1 · (3.84)2 P̄L = 1.47 mW 2 5 The quiescent drain current is found to be 10 − 5.16 IDQ = = 0.968 mA 5 The average power supplied by the VDD source is P̄S = VDD IDQ = (10)(0.968) = 9.68 mW and the power conversion efficiency, from Equation (8.12), is = P̄L = 1.47 η ⇒ 15.2% PS 9.68 Comment: By limiting the swing in the drain–source voltage, to avoid nonsaturation and cutoff and the resulting nonlinear distortion, we reduce the output stage power conversion efficiency considerably, compared to the theoretical maximum possible value of 25 percent for the standard class-A amplifier. EXERCISE PROBLEM *Ex 8.4: For the common-source circuit shown in Figure 8.17, the Q-point is VDSQ = 4 V. (a) Find IDQ. (b() T)he minimum value of the instantaneous drain current must be no less than 1 10 IDQ , and the minimum value of the instantaneous drain–source voltage must be no less than vDS = 1.5 V. Determine the VDD = 10 V RD = 100 Ω vO C → ∞ vI RL = 100 Ω Figure 8.17 Figure for Exercise Ex 8.4 nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 576 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 576 Part 1 Semiconductor Devices and Basic Applications maximum peak-to-peak amplitude of asymmetrical sinusoidal output voltage. (c) For the conditions of part (b), calculate the power conversion efficiency, where the signal power is the power delivered to RL. (Ans. (a) IDQ = 60 mA (b) Vp−p = 5.0 V (c) P̄L = 31.25 mW, η = 5.2%) Class-A operation also applies to the emitter-follower, common-base, source- follower, and common-gate configurations. As previously stated, the circuits considered in Figures 8.13 and 8.16(a) are standard class-A amplifiers in that no inductors or transformers are used. Later in this chapter, we will analyze inductively-coupled and transformer-coupled power amplifiers that also operate in the class-A mode. We will show that, for these circuits, the maximum conversion efficiency is 50 percent. 8.3.2 Class-B Operation Idealized Class-B Operation Figure 8.18(a) shows an idealized class-B output stage that consists of a complementary pair of electronic devices. When vI = 0, both devices are off, the bias currents are zero, and vO = 0. For vI > 0, device A turns on and supplies current to the load as shown in Figure 8.18(b). For vI < 0, device B turns on and sinks current V+ V+ + A vA A – vI vO vI > 0 vO > 0 + B vB RL B iL RL – V– V– (a) (b) V+ vO A Slope = 1 vI < 0 vO < O vI B iL RL V– (c) (d) Figure 8.18 (a) Idealized class-B output stage with complementary pair, A and B, of electronic devices; (b) device A turns on for vI > 0, supplying current to the load; (c) device B turns on for vI < 0, sinking current from the load; (d) ideal voltage transfer characteristics nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 577 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 577 from the load as shown in Figure 8.18(c). Figure 8.18(d) shows the voltage transfer V + characteristics. The ideal voltage gain is unity. Q Approximate Class-B Circuit n Figure 8.19 shows an output stage that consists of a complementary pair of bipolar vI vO transistors. When the input voltage is vI = 0, both transistors are cutoff and the output voltage is vO = 0. If we assume a BE cut-in voltage of 0.6 V, then the output voltage Qp iL RL vO remains zero as long as the input voltage is in the range −0.6 ≤ vI ≤ +0.6 V. If vI becomes positive and is greater than 0.6 V, then Qn turns on and operates as – an emitter follower. The load current iL is positive and is supplied through Qn, and the VB–E junction of Qp is reverse biased. If vI becomes negative by more than 0.6 V, then Figure 8.19 Basic Qp turns on and operates as an emitter follower. Transistor Qp is a sink for the load complementary push–pull current, which means that iL is negative. output stage This circuit is called a complementary push–pull output stage. Transistor Qn conducts during the positive half of the input cycle, and Qp conducts during the negative half-cycle. The transistors do not both conduct at the same time. Figure 8.20 shows the voltage transfer characteristics for this circuit. When either transistor is conducting, the voltage gain, which is the slope of the curve, is essentially unity as a result of the emitter follower. Figure 8.21 shows the output voltage for a sinusoidal input signal. When the output voltage is positive, the npn transistor is conducting, and when the output voltage is negative, the pnp transistor is conducting. We can see from this figure that each transistor actually conducts for slightly less than half the time. Thus the bipolar push–pull circuit shown in Figure 8.19 is not exactly a class-B circuit. We will see that an output stage using NMOS and PMOS transistors will produce the same general voltage transfer characteristics. Crossover Distortion From Figure 8.20, we see that there is a range of input voltage around zero volts where both transistors are cutoff and υO is zero. This portion of the curve is called the dead band. The output voltage for a sinusoidal input voltage is shown in Figure 8.21. The output voltage is not a perfect sinusoidal signal, which means that crossover distortion is produced by the dead band region. vO vO vO Qn conducting Qp cutoff Slope ≅ 1 vI t –0.6 0.6 vI Qp conducting Slope ≅ 1 Qn cutoff t Figure 8.20 Voltage transfer characteristics of basic Figure 8.21 Crossover distortion of basic complementary push–pull output stage complementary push–pull output stage nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 578 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 578 Part 1 Semiconductor Devices and Basic Applications Crossover distortion can be virtually eliminated by biasing both Qn and Qp with a small quiescent collector current when vI is zero. This technique is discussed in the next section. The crossover distortion effect can also be minimized with an op-amp used in a feedback configuration. Op-amps are discussed in Chapter 9 and feedback is discussed in Chapter 12, so this technique is not discussed here. EXAMPLE 8.5 Objective: Determine the total harmonic distortion (THD) of the class B complementary push–pull output stage in Figure 8.19. A PSpice analysis was performed, which yielded the harmonic content of the output signal. Solution: A 1 kHz sinusoidal signal with an amplitude of 2 V was applied to the input of the circuit shown in Figure 8.19. The circuit was biased at ±10 V. The transistors used in the circuit were 2N3904 npn and 2N3906 pnp devices. A 1 k load was connected to the output. The harmonic content for the first nine harmonics is shown in Table 8.3. We see that the output is rich in odd harmonics with the 3 kHz third harmonic being 18 percent as large as the 1 kHz principal output signal. The total harmonic distortion is 19.7 percent, which is large. Table 8.3 Harmonic content for Example 8.5 Normalized Frequency (Hz) Fourier component component Phase (degrees) 1.000E+03 1.151E+00 1.000E+00 -1.626E-01 2.000E+03 6.313E-03 5.485E-03 -9.322E+01 3.000E+03 2.103E-01 1.827E-01 -1.793E+02 4.000E+03 4.984E-03 4.331E-03 -9.728E+01 5.000E+03 8.064E-02 7.006E-02 -1.792E+02 6.000E+03 3.456E-03 3.003E-03 -9.702E+01 7.000E+03 2.835E-02 2.464E-02 1.770E+02 8.000E+03 2.019E-03 1.754E-03 -8.029E+01 9.000E+03 6.679E-03 5.803E-03 1.472E+02 TOTAL HARMONIC DISTORTION = 1.974899E+01 PERCENT Comment: These results show the obvious effects of the dead band region. If the input signal amplitude increases, the total harmonic distortion decreases, but if the amplitude decreases, the total harmonic distortion will increase above the 19 percent value. EXERCISE PROBLEM *Ex 8.5: Repeat Example 8.5 for the case when an NMOS transistor replaces the npn transistor and a PMOS transistor replaces the pnp transistor in Figure 8.19. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 579 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 579 Idealized Power Efficiency If we consider an idealized version of the circuit in Figure 8.19 in which the base–emitter turn-on voltages are zero, then each transistor would conduct for exactly one-half cycle of the sinusoidal input signal. This circuit would be an ideal class-B output stage, and the output voltage and load current would be replicas of the input signal. The collector–emitter voltages would also show the same sinusoidal variation. Figure 8.22 illustrates the applicable dc load line. The Q-point is at zero collector current, or at cutoff for both transistors. The quiescent power dissipation in each transistor is then zero. The output voltage for this idealized class-B output stage can be written vO = Vp sin ωt (8.16) where the maximum possible value of Vp is VCC. The instantaneous power dissipation in Qn is pQn = vC EniCn (8.17) and the collector current is Vi p Cn = sin ωt (8.18(a)) RL for 0 ≤ ωt ≤ π , and iCn = 0 (8.18(b)) for π ≤ ωt ≤ 2π , where Vp is the peak output voltage. From Figure 8.22, we see that the collector–emitter voltage can be written as vC En = VCC − Vp sin ωt (8.19) Therefore, the total instantaneo(us power d)issipation in Qn is pQn = (VCC − V Vp sin t p ω ) sin ωt (8.20) RL iCn VCC RL Qn conducting iL Time vCEn VCC 2VCC 0 0 0 2VCC VCC vECP Qp conducting VCC RL iCp 0 vO Time Figure 8.22 Effective load line of the ideal class-B output stage nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 580 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 580 Part 1 Semiconductor Devices and Basic Applications – PQn – PQn(max) 0 2VCC VCC VP π Figure 8.23 Average power dissipation in each transistor versus peak output voltage for class-B output stage for 0 ≤ ωt ≤ π , and pQn = 0 for π ≤ ωt ≤ 2π . The average power dissipation is therefore 2 P̄ = VCC Vp Vp Qn − (8.21) π RL 4RL The average power dissipation in transistor Qp is exactly the same as that for Qn, because of symmetry. A plot of the average power dissipation in each transistor, as a function of Vp, is shown in Figure 8.23. The power dissipation first increases with increasing output voltage, reaches a maximum, and finally decreases with increasing Vp. We determine the maximum average power dissipation by setting the derivative of P̄Qn with respect to Vp equal to zero, producing 2 P̄Qn(max) = VCC (8.22) π2 RL which o∣ccurs when 2V Vp∣P̄ (max) = CC (8.23) Qn π The average power delivered to the load is = 1 · V 2 P̄ p L (8.24) 2 RL Since the current supplied by each power supply is half a sine wave, the average current is Vp/(πRL). The( averag)e power supplied by each source is therefore P̄S+ = = VP̄ V p S− CC (8.25) π RL and the total ave(rage po)wer supplied by the two sources is VP̄ = 2V p S CC (8.26) π RL nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 581 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 581 From Equation (8.12), the conversion efficiency is 1 · V 2 p = 2 ( RL ) = π · Vp η (8.27) Vp 4 V 2V CC CC π RL The maximum possible efficiency, which occurs when Vp = VCC , is π η(max) = ⇒ 78.5% (8.28) 4 This maximum efficiency value is substantially larger than that of the standard class-A amplifier. From Equation (8.24), we find the maximum possible average power that can be delivered to the load, as follows: 1 V 2 P̄L(max) = · CC (8.29) 2 RL The actual conversion efficiency obtained in practice is less than the maximum value because of other circuit losses, and because the peak output voltage must remain less than VCC to avoid transistor saturation. As the output voltage amplitude increases, output signal distortion also increases. To limit this distortion to an acceptable level, the peak output voltage is usually limited to several volts below VCC. From Figure 8.23 and Equation (8.23), we see that the maximum transistor power dissipation occurs when Vp = 2VCC/π . At this peak output voltage, the conversion efficiency of th(e class-B) am(plifier )is, from Equation (8.27), π π 2VCC 1 η = · Vp = · = ⇒ 50% (8.30) 4VCC 4VCC π 2 8.3.3 Class-AB Operation Crossover distortion can be virtually eliminated by applying a small quiescent bias on each output transistor, for a zero input signal. This is called a class-AB output stage and is shown schematically in the circuit in Figure 8.24. If Qn and Qp are matched, then for vI = 0, VB B/2 is applied to the BE junction of Qn, VBB/2 is applied to the E–B junction of Qp, and vO = 0. The quiescent collector currents in each transistor are given by i = i VB B/2VT Cn Cp = ISe (8.31) As vI increases, the voltage at the base of Qn increases and vO increases. Transistor Qn operates as an emitter follower, supplying the load current to RL. The output voltage is given by = + VB B vO vI − v 2 B En (8.32) and the collector current of Qn (neglecting base currents) is iCn = iL + iCp (8.33) Since iCn must increase to supply the load current, vB En increases. Assuming VB B remains constant, as vB En increases, vE Bp decreases resulting in a decrease in iCp. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 582 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 582 Part 1 Semiconductor Devices and Basic Applications +VCC iCn Qn VBB 2 vI vO VBB iL 2 Q RL p iCp –VCC Figure 8.24 Bipolar class-AB output stage As vI goes negative, the voltage at the base of Qp decreases and vO decreases. Transistor Qp operates as an emitter follower, sinking current from the load. As iCp increases, vE Bp increases, causing a decrease in vB En and iCn. Figure 8.25(a) shows the voltage transfer characteristics for this class-AB output stage. If vB En and vE Bp do not change significantly, then the voltage gain, or the slope of the transfer curve, is essentially unity. A sinusoidal input signal voltage and the resulting collector currents and load current are shown in Figures 8.25(b), (c), and (d). Each transistor conducts for more than one-half cycle, which is the definition of class-AB operation. vO vI (VCC – VCE(sat)) Slope ≈ 1 0 vI p 2p wt –(VCC – VEC(sat)) (a) (b) iC iL iCn iCp ICQ 0 p 0 2p wt p 2p wt (c) (d) Figure 8.25 Characteristics of a class-AB output stage: (a) voltage transfer curve, (b) sinusoidal input signal, (c) collector currents, and (d) output current nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 583 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 583 There is a relationship between iCn and iCp. We know that vB En + vE Bp = VB B (8.34(a)) which can( be w)ritten ( ) ( ) i V ln Cn + i T VT ln Cp = I 2VT ln C Q (8.34(b)) IS IS IS Combining terms in Equation (8.34(b)), we find iCni = I 2 Cp C Q (8.35) The product of iCn and iCp is a constant; therefore, if iCn increases, iCp decreases, but does not go to zero. Since, for a zero input signal, quiescent collector currents exist in the output transistors, the average power supplied by each source and the average power dissipated in each transistor are larger than for a class-B configuration. This means that the power conversion efficiency for a class-AB output stage is less than that for an idealized class-B circuit. In addition, the required power handling capability of the transistors in a class-AB circuit must be slightly larger than in a class-B circuit. However, since the quiescent collector currents ICQ are usually small compared to the peak current, this increase in power dissipation is not great. The advantage of eliminating crossover distortion in the class-AB output stage greatly outweighs the slight disadvantage of reduced conversion efficiency and increased power dissipation. EXAMPLE 8.6 Objective: Determine the total harmonic distortion (THD) of the class AB complementary push–pull output stage shown in Figure 8.24. A PSpice analysis was performed, which yielded the harmonic content of the output signal. Solution: A 1 kHz sinusoidal signal with an amplitude of 2 V was applied to the input of the circuit. The bias voltages VBB/2 were varied. The circuit was biased at ±10 V and a 1 k load was connected to the output. Shown in Table 8.4 are the VBB/2 bias voltages applied, the quiescent transistor currents, and the total harmonic distortion (THD). Table 8.4 Quiescent collector currents and total harmonic distortion of class-AB circuit VBB/2 (V) ICQ (mA) THD (%) 0.60 0.048 1.22 0.65 0.33 0.244 0.70 2.20 0.0068 0.75 13.3 0.0028 Discussion: With a peak input voltage of 2 V and a 1 k load, the peak load current is on the order of 2 mA. From the results shown in Table 8.4, the THD decreases as the ratio of quiescent transistor current to peak load current increases. In other words, for a given input voltage, the smaller the variation in collector current when the nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 584 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 584 Part 1 Semiconductor Devices and Basic Applications signal is applied compared to the quiescent collector current, the smaller the distortion. However, there is a tradeoff. As the quiescent transistor current increases, the power efficiency is reduced. The circuit should be designed such that the transistor quiescent current is the smallest value while meeting the maximum total harmonic distortion specification. Comment: We see that the class-AB output stage results in a much smaller THD value than the class-B circuit, but as with most circuits, there are no uniquely specified bias voltages. A class-AB output stage using enhancement-mode MOSFETs is shown in Figure 8.26. If Mn and Mp are matched, and if vI = 0, then VB B/2 is applied across the gate–source terminals of Mn and the source–gate terminals of Mp. The quiescent drain currents established in( each transist)or are given by 2 iDn = Vi BB Dp = IDQ = K − |V 2 T | (8.36) As vI increases, the voltage at the gate of Mn increases and vO increases. Transistor Mn operates as a source follower, supplying the load current to RL. Since iDn must increase to supply the load current, vGSn must also increase. Assuming VBB remains constant, an increase in vGSn implies a decrease in vSGp and a resulting decrease in iDp. As vI goes negative, the voltage at the base of Mp decreases and vO decreases. Transistor Mp then operates as a source follower, sinking current from the load. +VDD iDn Mn + VBB vGSn 2 – vI vO VBB v + i SGp L 2 – RL Mp iDp –VDD Figure 8.26 MOSFET class-AB output stage EXAMPLE 8.7 Objective: Determine the required biasing in a MOSFET class-AB output stage. The circuit is shown in Figure 8.26. The parameters are VDD = 10 V and RL = 20 . The transistors are matched, and the parameters are K = 0.20 A/V2 and |VT | = 1 V. The quiescent drain current is to be 20 percent of the load current when vO = 5 V. Solution: For vO = 5 V, iL = 5/20 = 0.25 A nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 585 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 585 Then, for IQ = 0.05 A( when vO = 0), we have V 2 ( )2 I = 0 05 = KB B − | V DQ . VT | = (0.20 BB ) − 1 2 2 which yields VB B/2 = 1.50 V The input voltage for vO positive is = VB B vI vO + vGSn − 2 For vO = 5V√ and iDn ∼= iL =√0.25 A, we have iDn 0.25 vGSn = + |V | = + 1 = 2.12 V KT 0.20 The source-to-gate voltage of Mp is vSGp = VB B − VGSn = 3 − 2.12 = 0.88 V which means that Mp is cutoff and iDn = iL . Finally, the input voltage is vI = 5 + 2.12 − 1.5 = 5.62 V Comment: Since vI > vO , the voltage gain of this output stage is less than unity, as expected. EXERCISE PROBLEM Ex 8.7: Consider the MOSFET class-AB output stage shown in Figure 8.26. The circuit parameters are VDD = 15 V and RL = 25 . The transistors are matched with parameters K = 0.25 A/V2 and |VT | = 1.2 V. The quiescent drain currents are to be 20 percent of the load current when vO = 8 V. (a) Determine VB Band (b) find the small-signal voltage gain Av = dvO/dvI at (i) vO = 0 and (ii) vO = 8 V. (Ans. (a) VB B = 3.412 V; (b) (i) Av = 0.927, (ii) Av = 0.934) Voltage VB B can be established in a MOSFET class-AB circuit by using additional enhancement-mode MOSFETs and a constant current IBias. This will be considered in a problem at the end of the chapter. 8.3.4 Class-C Operation The transistor circuit ac load line, including an extension beyond cutoff, is shown in Figure 8.27. For class-C operation, the transistor has a reverse-biased BE voltage at the Q-point. This effect is illustrated in Figure 8.27. Note that the collector current is not negative, but is zero at the quiescent point. The transistor conducts only when the input signal becomes sufficiently positive during its positive half-cycle. The transistor therefore conducts for less than a half-cycle, which defines class-C operation. Class-C amplifiers are capable of providing large amounts of power, with conversion efficiencies larger than 78.5 percent. These amplifiers are normally used for radio-frequency (RF) circuits, with tuned RLC loads that are commonly used in radio nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 586 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 586 Part 1 Semiconductor Devices and Basic Applications iC iC vBE signal 0 p wt 0 vCE AC load line extended 0 p wt Q-point (negative VBEQ) Figure 8.27 Effective ac load line of a class-C amplifier and television transmitters. The RLC circuits convert drive current pulses into sinusoidal signals. Since this is a specialized area, we will not analyze these circuits here. Test Your Understanding TYU 8.4 For the common-emitter output stage shown in Figure 8.16(a), let VCC = 12 V and RL = 1 k. Assume the transistor Q-point is in the center of the load line. (a) Determine the quiescent power dissipated in the transistor. (b) Assume the sinusoidal output voltage is limited to a 9 V peak-to-peak value. Determine (i) the average signal power delivered to the load, (ii) the power conversion efficiency, and (iii) the average power dissipated in the transistor. (Ans. (a) PQ = 36 mW; (b) (i) PL = 10.1 mW, (ii) η = 14.1%, (iii) PQ = 25.9 mW) TYU 8.5 Design an idealized class-B output stage, as shown in Figure 8.18, to deliver an average of 25 W to an 8  speaker. The peak output voltage must be no larger than 80 percent of supply voltages VCC. Determine: (a) the required value of VCC, (b) the peak current in each transistor, (c) the average power dissipated in each transistor, and (d) the power conversion efficiency. (Ans. (a) VCC = 25 V (b) Ip = 2.5 A (c) P̄Q = 7.4 W (d) η = 62.8%) TYU 8.6 For the idealized class-B output stage shown in Figure 8.18, the parameters are VCC = 5 V and RL = 100 . The measured output signal is vo = 4 sin ωt (V). Determine: (a) the average signal load power, (b) the peak current in each transistor, (c) the average power dissipated in each transistor, and (d) the power conversion efficiency. (Ans. (a) P̄L = 80 mW (b) Ip = 40 mA (c) P̄Q = 23.7 mW (d) η = 62.8%) 8.4 CLASS-A POWER AMPLIFIERS Objective: • Analyze several circuit configurations of class-A power amplifiers. The standard class-A amplifier was analyzed previously, and the maximum possible power conversion efficiency was found to be 25 percent. This conversion efficiency can be increased with the use of inductors and transformers."
8.4 Class-A Power Amplifiers,"8.4 CLASS-A POWER AMPLIFIERS Objective: • Analyze several circuit configurations of class-A power amplifiers. The standard class-A amplifier was analyzed previously, and the maximum possible power conversion efficiency was found to be 25 percent. This conversion efficiency can be increased with the use of inductors and transformers. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 587 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 587 8.4.1 Inductively Coupled Amplifier Delivering a large power to a load generally requires both a large voltage and a high current. In a common-emitter circuit, this requirement can be met by replacing the collector resistor with an inductor, as shown in Figure 8.28(a). The inductor is a short circuit to a dc current, but acts as an open circuit to an ac signal operating at a sufficiently high frequency. The entire ac current is therefore coupled to the load. We assume that ωL  RL at the lowest signal frequency. The dc and ac load lines are shown in Figure 8.28(b). We assume that the resistance of the inductor is negligible, and that the emitter resistor value is small. The quiescent collector–emitter voltage is then approximately VC E Q =∼ VCC . The ac collector current is ic = −vce (8.37) RL To obtain the maximum symmetrical output-signal swing, which will in turn produce the maximum power, we want IC Q ∼= VCC (8.38) RL For this condition, the ac load line intersects the vC E axis at 2VCC . The use of an inductor or storage device results in an output ac voltage swing that is larger than VCC . The polarity of the induced voltage across the inductor maybe such that the voltage adds to VCC , producing an output voltage that is larger than VCC . The absolute maximum amplitude of the signal current in the load is IC Q ; therefore, the maximum possible average signal power delivered to the load is 1 1 V 2 P̄L(max) = I 2 CC 2 C Q RL = · (8.39) 2 RL If we neglect the power dissipation in the bias resistors R1 and R2, the average power supplied by the VCC source is V 2 P̄S = VCC IC Q = CC (8.40) RL VCC iC LR 2V R CC i 1 CC2 → ∞ RL v 1 C → ∞ o DC load line, slope = – C1 RE iL RL ICQ 1 + AC load line, slope = – vi RR – 2 L RE CE → ∞ VCC 2VCC vCE (a) (b) Figure 8.28 (a) Inductively coupled class-A amplifier and (b) dc and ac load lines nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 588 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 588 Part 1 Semiconductor Devices and Basic Applications The maximum possible power conversion efficiency is then 1 · V 2 CC = P̄L(max) max = 2 R η( ) L 1 P̄ V 2 = ⇒ 50% (8.41) S CC 2 RL This demonstrates that, in a standard class-A amplifier, replacing the collector resistor with an inductor doubles the maximum possible power conversion efficiency. 8.4.2 Transformer-Coupled Common-Emitter Amplifier The design of an inductively coupled amplifier to achieve high power conversion efficiency maybe difficult, depending on the relationship between the supply voltage VCC and the load resistance RL. The effective load resistance can be optimized by using a transformer with the proper turns ratio. Figure 8.29(a) shows a common-emitter amplifier with a transformer-coupled load in the collector circuit. The dc and ac load lines are shown in Figure 8.29(b). If we neglect any resistance in the transformer and assume that RE is small, the quiescent collector–emitter voltage is VC E Q ∼= VCC Assuming an ideal transformer, the currents and voltages in Figure 8.29(a) are related by iL = aiC and v2 = v1/a where a is the ratio of primary to secondary turns, or simply the turns ratio. Dividing voltages by currents, we find v2 = v1/a = v1 · 1 (8.42) iL aiC iC a2 The load resistance is RL = v2/ iL . We can define a transformed load resistance as v v2 R′ 1 L = = a2 · = a2 RL (8.43) iC iL VCC iL a:1 i + + C v1 v RR 2 L 2I 1 CQ – – 1 DC load line, slope = – RE CC → ∞ ICQ 1 AC load line, slope = – R ′ v + Li R – 2 R CE → ∞ E VCC ≈ 2VCC vCE (a) (b) Figure 8.29 (a) Transformer-coupled common-emitter amplifier and (b) dc and ac load lines nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 589 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 589 The turns ratio is designed to produce the maximum symmetrical swing in the output current and voltage; therefore, R′ 2VCC VCC 2 L = = = a RL (8.44) 2IC Q IC Q The maximum average power delivered to the load is equal to the maximum average power delivered to the primary of the ideal transformer, as follows: P̄L(max) = 1 2 VCC IC Q (8.45) where VCC and ICQ are the maximum possible amplitudes of the sinusoidal signals. If we neglect the power dissipation in the bias resistors R1 and R2, the average power supplied by the VCC source is P̄S = VCC IC Q and the maximum possible power conversion efficiency is again η(max) = 50% 8.4.3 Transformer-Coupled Emitter-Follower Amplifier Since the emitter follower has a low output impedance, it is often used as the output stage of an amplifier.A transformer-coupled emitter follower is shown in Figure 8.30(a). The dc and ac load lines are shown in Figure 8.30(b). As before, the resistance of the transformer is assumed to be negligible. The transformed load resistance is again R′ = a2 L RL . By correctly designing the turns ratio, we can achieve the maximum symmetrical swing in the output voltage and current. The average power delivered to the load is 2 P̄L = 1 · Vp (8.46) 2 RL VCC iC R1 2ICQ C → ∞ DC load line a:1 vo + + i Io CQ 1 v R AC load line, slope = – i – 2 v RR e LL′ – VCC 2VCC vCE (a) (b) Figure 8.30 (a) Transformer-coupled emitter-follower amplifier and (b) dc and ac load lines nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 590 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 590 Part 1 Semiconductor Devices and Basic Applications where Vp is the peak amplitude of the sinusoidal output voltage. The maximum peak amplitude of the emitter voltage is VCC, so that the maximum peak amplitude of the output signal is Vp(max) = VCC/a The maximum average output signal power is therefore = 1 · [Vp(max)]2 2 P̄L(max) = VCC (8.47) 2 RL 2a2 RL The maximum power conversion efficiency for this circuit is also 50 percent. DESIGN EXAMPLE 8.8 Objective: Design a transformer-coupled emitter-follower amplifier to deliver a specified signal power. Consider the circuit shown in Figure 8.30(a), with parameters VCC = 24 V and RL = 8 . The average power delivered to the load is to be 5 W, the peak amplitude of the signal emitter current is to be no more than 0.9ICQ, and that of the signal emitter voltage is to be no more than 0.9VCC. Let β = 100. Solution: √The average power delivered to the load is given by Equation (8.46). The peak output voltage mu√st therefore be Vp = 2RL P̄L = 2(8)(5) = 8.94 V and the peak output current is = Vp = 8.94 Ip = 1.12 A RL 8 Since Ve = 0.9 VCC = aVp then 0.9 Va = CC = (0.9)(24) = 2.42 Vp 8.94 Also, since Ie = 0.9IC Q = Ip/a then = 1 IC Q · Ip = 1.12 = 0.514 A 0.9 a (0.9)(2.42) The maximum power dissipated in the transistor, for this class-A operation, is PQ = VCC IC Q = (24)(0.514) = 12.3 W so the transistor must be capable of handling this power. Bias resistors R1 and R2 are found from a dc analysis. The Thevenin equivalent voltage is VT H = IB Q RT H + VB E(on) where RT H = R1‖R2 and VT H = [R2/(R1 + R2)] · VCC nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 591 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 591 We also have = IC Q = 0.514 IB Q ⇒ 5.14 mA β 100 Since VT H < VCC and IB Q ∼= 5 mA, then RT H cannot be unduly large. However, if RT His small, then the power dissipation in R1 and R2 becomes unacceptably high. We choose RT H = 2.5 k, so that 1 1 VT H = (RT H )VCC = (2.5)(24) = (5.14)(2.5) + 0.7 R1 R1 Therefore, R1 = 4.43 k and R2 = 5.74 k. Comment: The average power delivered by VCC (neglecting bias resistor effects) is P̄S = VCC IC Q = 12.3 W, which means that the power conversion efficiency is η = 5/12.3 ⇒ 40.7%. The efficiency will always be less than the 50% maximum value, if transistor saturation and distortion are to be minimized. EXERCISE PROBLEM *Ex 8.8: A transformer-coupled emitter-follower amplifier is shown in Figure 8.30(a). The parameters are: VCC = 18 V, VB E(on) = 0.7 V, β = 100, a = 10, and RL = 8 . (a) Design R1 and R2 to deliver the maximum power to the load. The input resistance seen by the vi source is to be 1.5 k. (b) If the peak amplitude of the emitter voltage vE is limited to 0.9VCC, and the peak amplitude of the emitter current iE is limited to 0.9ICQ, determine the maximum amplitude of the output signal voltage, and the average power delivered to the load. (Ans. (a) R1 = 26.4 k, R2 = 1.62 k (b) Vp = 1.62 V, Ip = 203 mA, P̄L = 0.164 W) Test Your Understanding *TYU 8.7 For the inductively coupled amplifier shown in Figure 8.28(a), the parameters are: VCC = 12 V, VB E(on) = 0.7 V, RE = 0.1 k, RL = 1.5 k, and β = 75. (a) Design R1 and R2 for maximum symmetrical swing in the output current and voltage. (Let RT H = (1 + β)RE .) (b) If the peak output voltage amplitude is limited to 0.9VCC, and the peak output current amplitude is limited to 0.9ICQ, determine the average power delivered to the load, the average power dissipated in the transistor, and the power conversion efficiency. (Ans. (a) R1 = 39.1 k, R2 = 9.43 k (b) P̄L = 38.9 mW, P̄Q = 57.1 mW, η = 40.5%) 8.5 CLASS-AB PUSH–PULL COMPLEMENTARY OUTPUT STAGES Objective: • Analyze several circuit configurations of class-AB power amplifiers. A class-AB output stage eliminates the crossover distortion that occurs in a class-B circuit. In this section, we will analyze several circuits that provide a small quiescent bias to the output transistors. Such circuits are used as the output stage of power"
8.5 Class-AB Push–Pull Complementary Output Stages,"8.5 CLASS-AB PUSH–PULL COMPLEMENTARY OUTPUT STAGES Objective: • Analyze several circuit configurations of class-AB power amplifiers. A class-AB output stage eliminates the crossover distortion that occurs in a class-B circuit. In this section, we will analyze several circuits that provide a small quiescent bias to the output transistors. Such circuits are used as the output stage of power nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 592 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 592 Part 1 Semiconductor Devices and Basic Applications amplifiers, as well as the output stage of operational amplifiers, and will be discussed in Chapter 13. 8.5.1 Class-AB Output Stage with Diode Biasing In a class-AB circuit, the VBB voltage that provides the quiescent bias for the output transistors can be established by voltage drops across diodes, as shown in Figure 8.31. A constant current IBias is used to establish the required voltage across the pair of diodes, or the diode-connected transistors, D1 and D2. Since D1 and D2 are not necessarily matched with Qn and Qp, the quiescent transistor currents may not be equal to IBias. As the input voltage increases, the output voltage increases, causing an increase in iCn. This in turn produces an increase in the base current iBn. Since the increase in base current is supplied by IBias, the current through D1 and D2, and hence the voltage VBB, decreases slightly. Since voltage VBB does not remain constant in this circuit, the relationship between iCn and iCp, as given by Equation (8.35), is not precisely valid for this situation. The analysis in the previous section must therefore be modified slightly, but the basic operation of this class-AB circuit is the same. V+ i I Cn Bias iBn Qn + D1 VBB vO D2 iL – QR p L iBp vI iCp V – Figure 8.31 Class-AB output stage with quiescent bias established by diodes DESIGN EXAMPLE 8.9 Objective: Design the class-AB output stage in Figure 8.31 to meet specific design criteria. Assume ISD = 3 × 10−14 A for D1 and D −13 2, ISQ = 10 A for Qn and Qp, and βn = βp = 75. Let RL = 8 . The average power delivered to the load is to be 5 W. The peak output voltage is to be no more than 80 percent of VCC, and the minimum value of diode current ID is to be no less than 5 mA. Solution: The average power delivered to the load, from Equation (8.24), is 1 2 P̄L = · Vp 2 RL nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 593 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 593 Therefore,√ √ Vp = 2RL P̄L = 2(8)(5) = 8.94 V The supply voltages must then be = Vp = 8.94 VCC = 11.2 V 0.8 0.8 At this peak output voltage, the emitter current of Qn is approximately equal to the load current, or iEn ∼= V (max) 8.94 iL(max = p ) = = 1.12 A RL 8 and the base current is ii = En Bn + = 1.12 ⇒ 14.7 mA 1 βn 76 For a minimum ID = 5 mA, we can choose IBias = 20 mA. For a zero input signal, neglecting b(ase cu)rrents, we find th(at × ) = ID = 20 10−3 VB B 2VT ln 2(0.026) ln − = 1.416 VI 14 SD 3 × 10 The quiescent collector currents are then I = I e(VB B/2)VT = 10−13e1.416/2(0.026) C Q SQ ⇒ 67.0 mA For vO = 8.94 V and iL = 1.12 A, the base current is iBn = 14.7 mA, and ID = IBias − iBn = 5.3 mA The new value of V(BB is t)hen ( I 5.3 × 10−3 ) V ′ BB = 2VD T ln = 2(0.026) ln × − = 1.347 VI 3 10 14 SD The BE voltage o(f Qn is) ( ) = iCn = 1.12 vB En VT ln (0.026) ln I 10− = 0.781 V 13 SQ The emitter–base voltage of Qp is then v ′ E Bp = VB B − vB En = 1.347 − 0.781 = 0.566 V and i = I evE Bp/VT = (10−13)e0.566/0.026 Cp SQ ⇒ 0.285 mA Comment: When the output goes positive, the current in Qp decreases significantly, as expected, but it does not go to zero. There is a factor of approximately 103 difference in the currents between Qn and Qp. Design Pointer: If the output signal currents are large, the base currents in the output transistors may become significant compared to the bias current through the diodes D1 and D2. The change in the diode bias current should be minimized in order to keep the small-signal voltage gain of the output stage close to unity. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 594 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 594 Part 1 Semiconductor Devices and Basic Applications EXERCISE PROBLEM Ex 8.9: The BJT class-AB output stage shown in Figure 8.31 is biased at V + = 5 V and V − = −5 V. The load resistance is RL = 1 k. The device parameters are I −14 SD = 1.2 × 10 A for the diodes and ISQ = 2 × 10−14 A for the transistors. (a) Neglecting base currents, determine the value of IBias that induces quiescent collector currents of IC Q = 1 mA. (b) Assuming βn = βp = 100, determine iCn , iCp, vB En , vE Bp , and ID for vO = 1.2 V. (c) Repeat part (b) for vO = 3 V . (Ans. (a) IBias = 0.6 mA; (b) iCn = 1.73 mA, iCp = 0.547 mA, vB En = 0.6547 V, vE Bp = 0.6248 V, ID = 0.5827 mA; (c) iCn = 3.24 mA, iCp = 0.276 mA, vB En = 0.671 V, vE Bp = 0.607 V, ID = 0.5676 mA) 8.5.2 Class-AB Biasing Using the VBE Multiplier An alternative biasing scheme, which provides more flexibility in the design of the output stage, is shown in Figure 8.32. The bias circuit that provides voltage VBB consists of transistor Q1 and resistors R1 and R2, biased by a constant-current source IBias. If we neglect the base current in Q1, then VI = BE1 R (8.48) R2 and voltage VB Bis ( ) R VB B = IR(R1 + R2) = V 1 BE1 1 + (8.49) R2 Since voltage VBB is a multiplication of the junction voltage VBE1, the circuit is called a VB E multiplier. The multiplication factor can be designed to yield the required value of VB B . V + I iCn Bias iBn Q + n II RC1 R 1 Q V 1 BB vO iL R2 RL – vI Qp iBp iCp V – Figure 8.32 Class-AB output stage with VBE multiplier bias circuit nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 595 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 595 A fraction oft(he co)nstant current IBias flows through Q1, so that I VB E1 = V ln C1 T (8.50) IS1 Also, the quiescent bias currents iCn and iCp are normally small; therefore, we can neglect iBn and iBp . Current IBias divides between IR and IC1, satisfying both Equations (8.48) and (8 50). As vI increases, vO becomes positive, and iCn and iBn increase, which reduces the collector current in Q1. However, the logarithmic dependence of IC1, shown in Equation (8.50), means that VB E1 and, in turn VB B remain essentially constant as the output voltage changes. DESIGN EXAMPLE 8.10 Objective: Design a Class-AB output stage using the VB E multiplier circuit to meet a specified total harmonic distortion. Assume the circuit in Figure 8.32, biased at V + = 15 V and V − = −15 V, is the output stage of an audio amplifier that is to drive another power amplifier whose input resistance is 1 k. The maximum peak sinusoidal output voltage is to be 10 V and the total harmonic distortion is to be less than 0.1 percent. Solution: Standard 2N3904 and 2N3906 transistors are to be used. From the results of Example 8.6, the THD is a function of the output transistor quiescent currents. For the basic circuit in Figure 8.24, the THD is found to be 0.097 percent for VB B = 1.346 V, quiescent collector currents of 0.88 mA, and a peak sinusoidal output voltage of 10 V. Figure 8.33 is the PSpice circuit schematic. For a peak output voltage of 10 V, the peak load current is 10 mA. Assuming β ∼= 100, the peak base current is 0.1 mA. + VI 1 I 1 DC 15 V 1 mA Q1 – 2N3904 0 R1 3.48 kΩ V Q3 Vout 2N3904 R2 3.25 kΩ R3 1 k Q2 2N3906 0 2N3906 V3 Q + 4 – + V2 –15 V 0 – 0 Figure 8.33 PSpice circuit schematic for Example 8.10 nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 596 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 596 Part 1 Semiconductor Devices and Basic Applications A bias current of 1 mA is chosen to bias the VB E multiplier. The peak 0.1 mA base current, then, will not greatly disturb the current through the multiplier circuit. We may select IR = 0.2 mA (current through R1 and R2) and IC3 = 0.8 mA. We then have + = VB B = 1.346 R1 R2 = 6.73 k IR 0.2 For the 2N3904, we find that VB E ∼= 0.65 V for a quiescent collector current of approximately 0.8 mA. Therefore = V RB E3 = 0.65 2 = 3.25 k IR 0.2 so that R1 = 3.48 k. From the PSpice results, we find that the voltage at the base of Q1 to be 0.6895 V and the voltage at the base of Q2 to be −0.6961 V, which means that VB B = 1.3856 V. This voltage is slightly greater than the design value of VB B = 1.346 V. Listed below are the quiescent transistor parameters. The quiescent collector currents of the output transistors are 1.88 mA, approximately twice the design value of 0.88 mA. The total harmonic distortion is 0.0356 percent, which is well within the design specification. NAME Q_Q1 Q_Q2 Q_Q3 Q_Q4 MODEL Q2N3904 Q2N3906 Q2N3904 Q2N3906 IB 1.12E-05 -5.96E-06 6.01E-06 -3.20E-06 IC 1.88E-03 -1.88E-03 7.80E-04 -9.92E-04 VBE 6.78E-01 -7.08E-01 6.59E-01 -6.92E-01 VBC -1.43E+01 1.43E+01 -7.27E-01 1.36E+01 VCE 1.50E+01 -1.50E+01 1.39E+00 -1.43E+01 BETADC 1.67E+02 3.15E+02 1.30E+02 3.10E+02 GM 7.11E-02 7.15E-02 2.98E-02 3.80E-02 RPI 2.66E+03 4.34E+03 5.01E+03 8.09E+03 Comment: Since the resulting VB B voltage is slightly larger than the design value, the quiescent output transistor currents are approximately double the design value. Although the THD specification is met, the larger collector currents mean a larger quiescent power dissipation. For this reason, the circuit may need to be redesigned slightly to lower the quiescent currents. 8.5.3 Class-AB Output Stage with Input Buffer Transistors The output stage in Figure 8.34 is a class-AB configuration composed of the complementary transistor pair Q3 and Q4. Resistors R1 and R2 and the emitter-follower transistors Q1 and Q2 establish the quiescent bias required in this configuration. Resistors R3 and R4, used in conjunction with short-circuit protection devices not shown in the figure, also provide thermal stability for the output transistors. The input signal vI maybe the output of a low-power amplifier. Also, since this is an emitter follower, the output voltage is approximately equal to the input voltage. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 597 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 597 V + R1 Q3 iE1 Q1 R i 3 iI B1 V – vI vO V + i iO B2 RR 4 L Q2 iE2 Q4 R2 V– Figure 8.34 Class-AB output stage with input buffer transistors When the input voltage vI increases from zero, the base voltage of Q3 increases, and the output voltage vO increases. The load current iO is positive, and the emitter current in Q3 increases to supply the load current, which causes an increase in the base current into Q3. Since the base voltage of Q3 increases, the voltage drop across R1 decreases, resulting in a smaller current in R1. This means that iE1 and iB1 also decrease. As vI increases, the voltage across R2 increases, and iE2 and iB2 increase. A net input current iI is then produced, to account for the reduction in iB1 and the increase in iB2. The net input current is i I = iB2 − iB1 (8.51) Neglecting the voltage drops across R3 and R4 and the base currents in Q3 and Q4, we have = (vI − VB E) − V − iB2 + (8.52(a)) (1 βn)R2 and = V + − (vI + VE B) iB1 + (8.52(b)) (1 βp)R1 where βn and βp are the current gains of the npn and pnp transistors, respectively. If V + = −V − , VB E = VE B , R1 = R2 ≡ R , and βn = βp ≡ β , then combining Equations (8.52(a)), (8.52(b)), and (8.51) produces = (vI − VB E − V −) − (V + − vI − Vi E B) = 2vI I (8.53) (1 + β)R (1 + β)R (1 + β)R nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 598 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 598 Part 1 Semiconductor Devices and Basic Applications Since the voltage gain of this output stage is approximately unity, the output current is iO = vO =∼ vI (8.54) RL RL Using Equations (8.53) and (8.54), we find the current gain of this output stage to be i A = Oi = (1 + β)R (8.55) i I 2RL With β in the numerator, this current gain should be substantial. A large current gain is desirable, since the output stage of power amplifiers must provide the current necessary to meet the power requirements. EXAMPLE 8.11 Objective: Determine the currents and the current gain for the output stage with input buffer transistors. For the circuit in Figure 8.34, the parameters are: R1 = R2 = 2 k, RL = 100 , R3 = R4 = 0, and V + = −V − = 15 V. Assume all transistors are matched, with β = 60 and VB E(npn) = VE B(pnp) = 0.6 V. Solution: For vI = 0, = 15 − 0.6 iR1 iR ∼ 2 = iE1 = iE2 = = 7.2 mA 2 Assuming all transistors are matched, the bias currents in Q3 and Q4 are also approximately 7.2 mA, since the base–emitter voltages of Q1 and Q3 are equal and those of Q2 and Q4 are equal. Solution: For vI = 10 V, the output current is approximately v 10 i = O O ∼= = 100 mA RL 0.1 The emitter current in Q3 is essentially equal to the load current, which means that the base current in Q3 is approximately iB3 = 100/61 = 1.64 mA The current in R1 is = 15 − (10 + 0.6) iR1 = 2.2 mA 2 which means that iE1 = iR1 − iB3 = 0.56 mA and iB1 = iE1/(1 + β) = 0.56/61 ⇒ 9.18 μA Since Q4 tends to turnoff when vO increases, we have ∼= 10 − 0.6 − (−15) iE2 iR2 = = 12.2 mA 2 nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 599 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 599 and iB2 = iE2/(1 + β) = 12.2/61 ⇒ 200 μA The input current is then i I = iB ∼ 2 − iB1 = 200 − 9.18 = 191 μA The current gain is then = iO = 100 Ai = 524 i I 0.191 From Equation (8.55), the predicted current gain is i A = O = (1 + β)R = (61)(2) i = 610 i I 2RL 2(0.1) Comment: Since the current gain determined from Equation (8.55) neglects base currents in Q3 and Q4, the actual current gain is less than the predicted value, as expected. The input current of 191 μA can easily be supplied by a low-power amplifier. EXERCISE PROBLEM Ex 8.11: Consider the class-AB output stage in Figure 8.34. The parameters are: V + = −V − = 12 V, R1 = R2 = 250 , RL = 8 , and R3 = R4 = 0. Assume all transistors are matched, with β = 40 and VB E(npn) = VE B(pnp) = 0.7 V. (a) For vI = 0, determine iE1, iE2, iB1, and iB2. (b) For vI = 5 V, find iO, iE1, iE2, iB1, iB2, and iI. (c) Using the results of part (b), determine the current gain of the output stage. Compare this value to that found using Equation (8.55). (Ans. (a) iE1 = iE2 = 44.1 mA, iB1 = iB2 = 1.08 mA (b) iO = 0.625 A, iE1 = 10.0 mA, iB1 = 0.244 mA, iE2 = 65.2 mA, iB2 = 1.59 mA, i I = 1.35 mA (c) Ai = 463, from Equation (8.55) Ai = 641) 8.5.4 Class-AB Output Stage Utilizing the Darlington Configuration The complementary push–pull output stage uses npn and pnp bipolar transistors. Usually in IC design, the pnp transistors are fabricated as lateral devices with low β values that are typically in the range of 5 to 10, and the npn transistors are fabricated as vertical devices with β values on the order of 200. This means that the npn and pnp transistors are not well matched, as we have assumed in our analyses. Consider the two-transistor configuration shown in Figure 8.35(a). Assume the transistor current gains are βn and βp for the npn and pnp transistors, respectively. We can write iCp = iBn = βpiBp (8.56) and i2 = (1 + βn)iBn = (1 + βn)βpiBp ∼= βnβpiBp (8.57) nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 600 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 600 Part 1 Semiconductor Devices and Basic Applications 3 i1 3 E iEp iCn iE 1 Qp B Q 1 b ≅ bnbi p Bp n i iCp = i B Bn iC i2 C 2 2 (a) (b) Figure 8.35 (a) A two-transistor configuration of an equivalent pnp transistor; (b) the equivalent pnp transistor Terminal 1 acts as the base of the composite three-terminal device, terminal 2 acts as the collector, and terminal 3 is the emitter. The current gain of the device is then approximately βnβp. The equivalent circuit is shown in Figure 8.35(b). We can use the two-transistor configuration in Figure 8.35(a) as a single equivalent pnp transistor with a current gain on the same order of magnitude as that of an npn device. In Figure 8.36, the output stage uses Darlington pairs to provide the necessary current gain. Transistors Q1 and Q2 constitute the npn Darlington emitter-follower that sources current to the load. Transistors Q3, Q4, and Q5 constitute a composite pnp Darlington emitter follower that sinks current from the load. The three diodes D1, D2, and D3 establish the quiescent bias for the output transistors. The effective current gain of the three-transistor configuration Q3–Q4–Q5 is essentially the product of the three individual gains. With the low current gain of the pnp device Q3, the overall current gain of the Q3–Q4–Q5 configuration is similar to that of the Q1–Q2 pair. V + V + IBias Q1 + Q D 2 1 D2 VBB vO D3 iO RL – Q3 Q4 vI Q6 Q5 V – V – Figure 8.36 Class-AB output stage with Darlington pairs nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 601 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 601 Test Your Understanding TYU 8.8 Consider the class-AB output stage shown in Figure 8.37. The transistor pa- V + = 3 V rameters are βn = 100 and ISn = 5 × 10−16 A for the npn device, and βp = 100 and ISp = 8 × 10−16 A for the pnp device. (a) What value of VB B will establish quiescent collector currents of IC Q = 1 mA with vO = 0. (b) What are the values of vB En and Qn vE Bp? (c) What must be the value of vI such that vO = 0. (Ans. (a) VB B = 1.4606 V; VBB + (b) vB En = 0.7364 V, vE Bp = 0.7242 V; (c) vI = 6.1 mV) 2 – vI vO TYU 8.9 From Figure 8.36, show that the overall current gain of the three-transistor VBB + configuration composed of Q3, Q4, and Q5 is approximately β = β3β4β5. 2 – Qp RL 8.6 DESIGN APPLICATION: AN OUTPUT STAGE V – = –3 V USING MOSFETS Figure 8.37 Figure for exercise TYU 8.8 Objective: • Design an output stage using power MOSFETs as the output devices. Specifications: The output stage configuration to be designed is shown in Figure 8.38. The current IBias is 5 mA and the zero output quiescent current in Mn and Mp is to be 0.5 mA. V + = 10 V IBias + Q1 V + D – + MN RI A 2 VM IR Q V R2 v 3 BB OI R NP B RL – MP + VD – – Q2 vI Q4 V – = –10 V Figure 8.38 Output stage for design application"
8.6 Design Application: An Output Stage Using MOSFETs,"8.6 DESIGN APPLICATION: AN OUTPUT STAGE V – = –3 V USING MOSFETS Figure 8.37 Figure for exercise TYU 8.8 Objective: • Design an output stage using power MOSFETs as the output devices. Specifications: The output stage configuration to be designed is shown in Figure 8.38. The current IBias is 5 mA and the zero output quiescent current in Mn and Mp is to be 0.5 mA. V + = 10 V IBias + Q1 V + D – + MN RI A 2 VM IR Q V R2 v 3 BB OI R NP B RL – MP + VD – – Q2 vI Q4 V – = –10 V Figure 8.38 Output stage for design application nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 602 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 602 Part 1 Semiconductor Devices and Basic Applications Design Pointer: The output devices are to be MOSFETs because of their superior power characteristics. The low output resistance of the emitter follower transistors Q1 and Q2 tends to increase switching speed of the output transistors. The voltage drop across resistor R2 provides the bias to Mn and Mp so that crossover distortion is minimized. Choices: MOSFETs with parameters VT N = 0.8 V, VT P = −0.8 V, Kn = Kp = 5 mA/V2, and λ = 0 are available. BJTs with parameters I = I −12 S1 S2 = 10 A, I = I = 2 × 10−13 S3 S4 A, and β = 150 are available. Also diodes with parameters ISD = 5 × 10−13 A are available. Solution: For IN P = 0.5 mA, the gate-to-source voltages are found from IN P = Kn(VGSn − VT N )2 or 0.5 = 5(VGSn − 0.8)2 Since the two output transistors are matched, we have VGSn = VSGp = 1.116 V If we design for I2 = 2 mA, then the value of resistor R2 is = 2(1.116) R2 = 1.116 k 2 Considering the BJTs, we fi(nd ) ( ) I2 2 × 10−3 VB E1 = VE B2 = VT ln = (0.026) ln − = 0.5568 VI 10 12 S1 We then have VB B = 2(0.5568) + 2(1.116) = 3.3456 V Neglecting base (curren)ts, the voltage(s across the d × −3 )iodes are VD = I 5 10 VD T ln = (0.026) ln I 5 × 10− = 0.5987 V 13 SD The voltage across the VB E multiplier circuit is found to be VM = VB B − 2VD = 3.3456 − 2(0.5987) = 2.1482 V We will design the VB E multiplier circuit such that IC3 = (0.9)IBias and IR = (0.1)IBias. Then ( ) [ × −3 ] = IV V ln C3 = (0.9)(5 10 ) BE3 T (0.026) ln I −13 S3 2 × 10 or VB E3 = 0.6198 V We also have = VB E3 = 0.6198 RB = 1.24 k IR (0.1)(5 × 10−3) nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 603 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 603 From Equation ((8.48), we )have RV AM = VB E3 1 + RB or ( ) R 2.1482 = (0.6198) 1 + A RB which yields RA/RB = 2.466, so that RA = 2.466 RB = 3.06 k. We see that ( ) ( ) = I −3 V V ln Bias E B4 T = 5 × 10 (0.026) ln × − = 0.6225 VIC4 2 10 13 Then, for vO = 0, the input voltage vI must be vI = −VSG P − VE B2 − VE B4 = −1.116 − 0.5568 − 0.6225 or vI = −2.295 V Comment: The required input voltage vI to yield vO = 0 would be designed from the previous stage of the amplifier. In addition, the circuit required to establish the IBias current will be considered in Chapter 10. We may notice that, except for IBias, all the design parameters are independent of the bias voltages V + and V −. 8.7 SUMMARY • In this chapter, we analyzed and designed amplifiers and output stages capable of delivering a substantial amount of power to a load. • The current, voltage, and power ratings of BJTs and MOSFETs were considered, and the safe operating area for the transistors was defined in terms of these limiting parameters. The maximum power rating of a transistor is related to the maximum allowed device temperature at which the device can operate without being damaged. • Several classes of power amplifiers were defined. • In a class-A amplifier, the output transistor conducts 100 percent of the time. The theoretical maximum power efficiency for a standard class-A amplifier is 25 percent. This efficiency can be theoretically increased to 50 percent by incorporating inductors and transformers in the circuit. • Class-B output stages are composed of complementary pairs of transistors operating in a push-pull manner. In an ideal class-B operation, each output transistor conducts 50 percent of the time. For an idealized class-B output stage, the theoretical maximum power conversion efficiency is 78.5 percent. However, practical class-B output stages tend to suffer from crossover distortion effects when the output is in the vicinity of zero volts. • The class-AB output stage is similar to the class-B circuit, except that each output transistor is provided with a small quiescent bias and conducts slightly more than 50 percent of the time. The power conversion efficiency of this circuit is less than that of a class-B circuit, but is substantially larger than that of the class-A circuit. In addition, the crossover distortion is greatly reduced. • As an application, a class-AB output stage using MOSFETs was designed."
8.7 Summary,"8.7 SUMMARY • In this chapter, we analyzed and designed amplifiers and output stages capable of delivering a substantial amount of power to a load. • The current, voltage, and power ratings of BJTs and MOSFETs were considered, and the safe operating area for the transistors was defined in terms of these limiting parameters. The maximum power rating of a transistor is related to the maximum allowed device temperature at which the device can operate without being damaged. • Several classes of power amplifiers were defined. • In a class-A amplifier, the output transistor conducts 100 percent of the time. The theoretical maximum power efficiency for a standard class-A amplifier is 25 percent. This efficiency can be theoretically increased to 50 percent by incorporating inductors and transformers in the circuit. • Class-B output stages are composed of complementary pairs of transistors operating in a push-pull manner. In an ideal class-B operation, each output transistor conducts 50 percent of the time. For an idealized class-B output stage, the theoretical maximum power conversion efficiency is 78.5 percent. However, practical class-B output stages tend to suffer from crossover distortion effects when the output is in the vicinity of zero volts. • The class-AB output stage is similar to the class-B circuit, except that each output transistor is provided with a small quiescent bias and conducts slightly more than 50 percent of the time. The power conversion efficiency of this circuit is less than that of a class-B circuit, but is substantially larger than that of the class-A circuit. In addition, the crossover distortion is greatly reduced. • As an application, a class-AB output stage using MOSFETs was designed. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 604 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 604 Part 1 Semiconductor Devices and Basic Applications CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Describe what factors are related to the maximum transistor current and maximum transistor voltage. ✓ Define the safe operating area of a transistor and define the power derating curve. ✓ Define the power conversion efficiency of an output stage. ✓ Describe the operation of a class-A output stage. ✓ Describe the operation of an ideal class-B output stage and discuss the concept of crossover distortion. ✓ Describe and design a class-AB output stage and discuss why crossover distortion is essentially eliminated. REVIEW QUESTIONS 1. Discuss the limiting factors for the maximum rated current and maximum rated voltage in a BJT and MOSFET. 2. Describe the safe operating area for a transistor. 3. Why is an interdigitated structure typically used in a high-power BJT design? 4. Discuss the role of thermal resistance between various junctions in a high-power transistor structure. 5. Define and describe the power derating curve for a transistor. 6. Define power conversion efficiency for an output stage. 7. Describe the operation of a class-A output stage. 8. Describe the operation of an ideal class-B output stage. 9. Discuss crossover distortion. 10. What is meant by harmonic distortion? 11. Describe the operation of a class-AB output stage and why a class-AB output stage is important. 12. Describe the operation of a transformer-coupled class-A common-emitter amplifier. 13. Sketch a class-AB complementary BJT push–pull output stage using a VBE multiplier circuit. 14. Sketch a class-AB complementary MOSFET push-pull output stage using all MOSFETs. 15. What are the advantages of a Darlington pair configuration? 16. Sketch a two-transistor configuration using npn and pnp BJTs that are equivalent to a single pnp BJT. PROBLEMS Section 8.2 Power Transistors 8.1 The maximum current, voltage, and power ratings of a power MOSFET are 4 A, 40 V, and 30 W, respectively. (a) Sketch and label the safe operating area for this transistor, using linear current and voltage scales. (b) For the common-source circuit shown in Figure P8.1, determine RD and sketch the load"
Problems,"PROBLEMS Section 8.2 Power Transistors 8.1 The maximum current, voltage, and power ratings of a power MOSFET are 4 A, 40 V, and 30 W, respectively. (a) Sketch and label the safe operating area for this transistor, using linear current and voltage scales. (b) For the common-source circuit shown in Figure P8.1, determine RD and sketch the load nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 605 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 605 line that produces a maximum power in the transistor for (i) VDD = 24 V and (ii) VDD = 40 V. (c) Using the results of part (b), determine the maximum possible drain current for (i) VDD = 24 V and (ii) VDD = 40 V. VCC VDD RR LR B DC VGG vS = Vp sin wt + (V) – Figure P8.1 Figure P8.2 8.2 The common-emitter circuit in Figure P8.2 is biased at VCC = 24 V. The maximum transistor power is rated at PQ,max = 25 W. The other parameters of the transistor are β = 60 and VB E(on) = 0.7 V. (a) Determine RL and RB such that the transistor is biased at the maximum power point. (b) For Vp = 12 mV, determine the average power dissipated in the transistor. 8.3 For the transistor in the common-emitter circuit in Figure P8.2, the parameters are: β = 80, PD,max = 10 W, VC E(sus) = 30 V, and IC,max = 1.2 A. (a) Design the values of RL and RB for VCC = 30 V. What is maximum power dissipated in the transistor? (b) Using the value of RL in part (a), find IC,max and VCC if PD,max = 5 W. (c) Calculate the maximum undistorted ac power that can be delivered to RL in parts (a) and (b) for the assumption that iC ≥ 0 and 0 ≤ vC E ≤ VCC . 8.4 Sketch the safe operating region for a MOSFET. Label three arbitrary points on the maximum hyperbola. Assume each of the labeled points is a Q-point and draw a tangent load line through each point. Discuss the advantages or disadvantages of each point relative to the maximum possible signal amplitude. 8.5 A power MOSFET is connected in a common-source configuration as shown in Figure P8.1. The parameters are: ID,max = 4 A, VDS,max = 50 V, PD,max = 35 W, VTN = 4 V, and Kn = 0.25 A/V2. The circuit parameters are VDD = 40 V and RL =10 . (a) Sketch and label the safe operating area for this transistor, using linear current and voltage scales. Also sketch the load line on the same graph. (b) Calculate the power dissipated in the transistor for VGG = 5, 6, 7, 8, and 9 V. (c) Is there a possibility of damaging the transistor? Explain. D8.6 Consider the common-source circuit shown in Figure P8.6. The transistor parameters are VTN = 4 V and K = 0.2 A/V2 n . (a) Design the bias circuit such that the Q-point is in the center of the load line. (b) What is the power dissipated in the transistor at the Q-point? (c) Determine the minimum rated ID,max, VDS,max, and PD,max values. (d) If vi = 0.5 sin ωt V, calculate the ac nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 606 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 606 Part 1 Semiconductor Devices and Basic Applications power delivered to RL, and determine the average power dissipated in the transistor. VDD = 50 V RL = 20 Ω R1 vO C → ∞ v + i R – 2 Figure P8.6 8.7 A particular transistor is rated for a maximum power dissipation of 60 W if the case temperature is at 25 °C. Above 25 °C, the allowed power dissipation is reduced by 0.5W/°C. (a) Sketch the power derating curve. (b) What is the maximum allowed junction temperature? (c) What is the value of θdev−case? 8.8 A MOSFET has a rated power of 50 Wand a maximum specified junction temperature of 150 °C. The ambient is Tamb = 25 °C. Find the relationship between the actual operating power and θcase−amb. 8.9 For a power MOSFET, θ − = 1.5 ◦C/W, θ − = 2.8 ◦ dev case snk amb C/W, and θcase−snk = 0.6 ◦C/W. The ambient temperature is 25 ◦C. (a) If the maximum junction temperature is limited to T ◦ j,max = 120 C, determine the maximum allowed power dissipation. (b) Using the results of part (a), determine the temperature of the case and heat sink. 8.10 A power BJT must dissipate 30 W of power. The maximum allowed junction temperature is T ◦ j,max = 150 C, the ambient temperature is 25 ◦C, and the device-to-case thermal resistance is θdev−case = 2.8 ◦C/W. (a) Find the maximum permissible thermal resistance between the case and ambient. (b) Using the results of part (a), determine the junction temperature if the power dissipated in the transistor is 20 W. 8.11 The quiescent collector current in a BJT is IC Q = 3 A. The maximum allowed junction temperature is T ◦ j,max = 150 C and the ambient temperature is Tamb = 25 ◦C. Other parameters are θsnk−amb = 3.8 ◦C/W, θcase−snk = 1.5 ◦C/W, and θ ◦ dev−case = 4 C/W. (a) Determine the power that can be safely dissipated in the transistor. (b) Using the results of part (a), determine the maximum collector-emitter voltage that maybe applied. Section 8.3 Classes of Amplifiers 8.12 For the class-A amplifier shown in Figure 8.16(a), show that the maximum theoretical conversion efficiency for asymmetrical square-wave input signal is 50 percent. nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 607 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 607 8.13 Consider the emitter-follower amplifier shown in Figure P8.13. (a) Assuming V+ β  1, show that the small-signal voltage gain can be written in the form = IC RA L RL VI v IC RL + = VT RL + 1 V g Om (b) If RL = 8 , determine the minimum collector current that produces IO RL a small-signal voltage gain of (i) Av = 0.9, (ii) Av = 0.95, and (iii) Av = 0.9970. V – 8.14 Consider the emitter-follower amplifier shown in Figure P8.13. An average power of 0.5 Wis to be delivered to a load of RL = 8 . (a) What are the Figure P8.13 peak values of ac output voltage and ac load current? (b) The minimum collector current occurs when VO reaches the maximum negative value. If the minimum collector current is to be 10 percent of IO , determine IO . (Use the results of part (a).) 8.15 Consider the emitter-follower amplifier in Figure P8.13. Since the base-emitter voltage is a function of collector current, the voltage gain changes as the collector current changes. This effect results in distortion of the output signal. Assume RL = 8  and IO = 0.25 A. Defining the voltage gain as (Problem 8.13) = RA L v 1 RL + gm find the voltage gain for (a) VO = +1.6 V, (b) VO = 0, and (c) VO = −1.6 V. 8.16 Consider the class-A emitter-follower circuit shown in Figure P8.16. Assume all transistors are matched with VB E(on) = 0.7 V, VC E(sat) = 0.2 V, and VA = ∞. Neglect base currents. Determine the maximum and minimum values of output voltage and the corresponding input voltages for the circuit to operate in the linear region. V + = 5 V +5 V vI Q1 vI M1 iE1 R = 1 kΩ R = 1 kΩ vO vO i IL R Ω RL = Q L = 1 k 1 kΩ Q3 Q2 M3 M2 V – = –5 V –5 V Figure P8.16 Figure P8.17 8.17 Consider the class-A source-follower circuit shown in Figure P8.17. The transistors are matched with parameters VT N = 0.5 V, K = 12 mA/V2 n , and λ = 0. Determine the maximum and minimum values of output voltage nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 608 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 608 Part 1 Semiconductor Devices and Basic Applications and the corresponding input voltages for the circuit to operate in the linear region. 8.18 A class-A emitter follower biased with a constant current source is shown in Figure P8.16. Assume circuit parameters of V + = 12 V, V − = −12 V, and RL = 20 . The transistor parameters are β = 40 and VB E(on) = 0.7 V. The minimum current in Q1 is to be iE1 = 50 mA and the minimum collector- emitter voltage is to be vC E(min) = 0.7 V. (a) Determine the value of R that will produce the maximum possible output voltage swing. What is the value of IQ? What are the maximum and minimum values of iE1? (b) Using the results of part (a), calculate the conversion efficiency. 8.19 The circuit parameters for the class-A emitter follower shown in Figure P8.16 are V + = 24 V, V − = −24 V, and RL = 200 . The transistor parameters are β = 50, VB E(on) = 0.7 V, and VC E(sat) = 0.2 V. The output voltage is to vary between +20 V and −20 V. The minimum current in Q1 is to be iE1 = 20 mA. (a) Find the minimum required IQ and the minimum value of R. (b) For vO = 0, find the power dissipated in the transistor Q1 and the power dissipated in the current source (Q2, Q3, and R). (c) Determine the conversion efficiency for asymmetrical sine-wave output voltage with a peak value of 20 V. 8.20 Consider the BiCMOS follower circuit shown in Figure P8.20. The BJT transistor parameters are VB E(on) = 0.7 V, VC E(sat) = 0.2 V, VA = ∞, and the MOSFET parameters are VT N = −1.8 V, Kn = 12 mA/V2, λ = 0. Determine the maximum and minimum values of output voltage and the corresponding input voltages for the circuit to operate in the linear region for (a) RL = ∞ and (b) RL = 500 . (c) What is the smallest value of RL possible if a 2 V peak sine wave is produced at the output? What is the corresponding conversion efficiency? +5 V V+ vI Q1 + A vA – vO iA vI vO RL iB M + R 1 LB vB – –5 V V– Figure P8.20 Figure P8.22 8.21 For the idealized class-B output stage in Figure 8.18 in the text, show that the maximum theoretical conversion efficiency for asymmetrical square- wave input signal is 100 percent. 8.22 Consider an idealized class-B output stage shown in Figure P8.22. (The effective turn-on voltages of devices A and Bare zero, and the effective nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 609 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 609 “saturation” voltages of vA and vB are zero.) Assume V + = 5 V and V − = −5 V. Assume asymmetrical sine wave is produced at the output. (a) What is the peak output voltage at maximum power conversion efficiency? (b) What is the peak output voltage when each device dissipates the maximum power? (c) If the maximum allowed power dissipation in each device is 2 Wand the output voltage is at its maximum value, what is the smaller permitted value of output load resistance? 8.23 Consider an idealized class-B output stage shown in Figure P8.22. (See Problem 8.22 for definitions of “ideal.”) The output stage is to deliver 50 W of average power to a 24  load for asymmetrical input sine wave. Assume the supply voltages are ±n volts, where n is an integer. (a) The power supply voltages are to beat least 3 V greater than the maximum output voltage. What must be the power supply voltages? (b) What is the peak current in each device? (c) What is the power conversion efficiency? 8.24 Consider the class-B output stage with complementary MOSFETs shown in Figure P8.24. The transistor parameters are VT N = VT P = 0 and Kn = Kp = 0.4 mA/V2. Let RL = 5 k. (a) Find the maximum output voltage such that Mn remains biased in the saturation region. What are the corresponding values of iL and vI for this condition? (b) Determine the conversion efficiency for asymmetrical sine-wave output signal with the peak value found in part (a). V+ = 10 V Mn vI vO iL RM L p V – = –10 V Figure P8.24 8.25 For the class-B output stage shown in Figure P8.24, the bias voltages are V + = 12 V and V − = −12 V. The load resistance is RL = 50 , and the transistor /parameters are VT N = VT P = 0 and K = K = 4 mA/V2 n p . (a) Plot vO versus vI for −10 ≤ vI ≤ +10 V. (b) What is the voltage gain, Av = dvO dvI , at (i) vI = 0, (ii) vI = 1 V, and (iii) vI = 10 V? 8.26 A simplified class-AB output stage with BJTs is shown in Figure 8.24. The circuit parameters are VCC = 5 V and RL = 1 k. For each transistor, I = 2 × 10−15 SA. (a) Determine the value of VB B that produces iCn = iCp = 1 mA when υI = 0. What is the power dissipated in each transistor? (b) For vO = −3.5 V, determine iL , iCn , iCp , and vI . What is the power dissipated in Qn , Qp , and RL ? 8.27 A simplified class-AB output stage with enhancement-mode MOSFETs is shown in Figure 8.26. The circuit parameters are VDD = 12 V and nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 610 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 610 Part 1 Semiconductor Devices and Basic Applications RL = 1 k. The transistor parameters are VT N = −VT P = 1.5 V and Kn = Kp = 4 mA/V2. (a) (i) Determine the value of VB B such that iDn = iDp = 1mA when vI = 0. (ii) What is the power dissipated in each transistor? (b) (i) Determine the maximum output voltage such that Mn remains biased in the saturation region. (ii) What are the values of iDn , iDp , iL , and vI for this case? (iii) Calculate the power dissipated in Mn , Mp , and RL for this case. 8.28 Consider the class-AB output stage in Figure P8.28. The diodes and transistors are matched, with parameters I = 6 × 10−12 SA, and β = 40. (a) Determine R1 such that the minimum current in the diodes is 25 mA when vO = 24 V. Find iN and iP for this condition. (b) Using the results of part (a), determine the diode and transistor currents when vO = 0. +30 V + RV +12 V 1 Qn IBias C → ∞ Di 1 N vO + D MM v 2 i 3 1 SP Q RL = 8 Ω p vO R RL = 1 M4 M2 500 Ω vI –30 V –12 V Figure P8.28 Figure P8.29 *8.29 An enhancement-mode MOSFET class-AB output stage is shown in Figure P8.29. The threshold voltage of each transistor is VT N = −VT P = 1V and the conduction parameters of the output transistors are Kn1 = Kp2 = 5 mA/V2. Let IBias = 200 μA. (a) Determine Kn3 = Kp4 such that the quiescent drain currents in M1 and M2 are 5 mA. (b) Using the results of part (a), find the small-signal voltage gain Av = dvO/dvI evaluated at: (i) vO = 0, and (ii) vO = 5 V. D8.30 Consider the MOSFET class-AB output stage in Figure 8.26. The parameters are: VDD = 10 V and RL = 100 . For transistors Mn and Mp, VT N = −VT P = 1 V. The peak amplitude of the output voltage is limited to 5 V. Design the circuit such that the small-signal voltage gain is Av = dvO/dvI = 0.95 when vO = 0. 8.31 The parameters of the amplifier shown in Figure 8.28(a) are VCC = 12 V, RE = 20 , R1 = 14 k, and R2 = 10 k. The transistor parameters are β = 90 and VB E(on) = 0.7V. (a) Determine the quiescent value IC Q . (b) Find the value of RL such that the maximum power will be delivered to the load. (c) What is the maximum power that can be delivered to the load if the output voltage is to remain in the range 1 ≤ vO ≤ 23 V? (d) Using the results of part (c) and neglecting currents in the bias resistors, what is the conversion efficiency? nea80644_ch08_559-614.qxd 06/15/2009 01:31 PM Page 611 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 611 D8.32 For the inductively coupled amplifier in Figure 8.28(a), the parameters are: VCC = 15 V, RE = 0.1 k, and RL = 1 k. The transistor parameters are β = 100 and VB E = 0.7 V. Design R1 and R2 to deliver the maximum power to the load. What is the maximum power that can be delivered to the load? 8.33 Consider the transformer-coupled common-emitter circuit shown in Figure P8.33 with parameters VCC = 12 V, RE = 20 , RL = 8 , R1 = 2.3 k, and R2 = 1.75 k. The transistor parameters are β = 40 and VB E(on) = 0.7 V. (a) Determine the quiescent value IC Q . (b) Determine the turns ratio a such that the maximum power is delivered to the load. (c) Determine the maximum power that can be delivered to the load if the voltage v1 is to remain in the range 2 ≤ v1 ≤ 20 V. (d) Using the results of part (c) and neglecting currents in the bias resistors, find the conversion efficiency. 8.34 The parameters for the transformer-coupled common-emitter circuit in Figure P8.33 are VCC = 36 V and n1 : n2 = 4 : 1. The signal power delivered to the load is 2 W. Determine: (a) the rms voltage across the load; (b) the rms voltage across the transformer primary; and (c) the primary and secondary currents. (d) If IC Q = 150 mA, what is the conversion efficiency? 8.35 A BJT emitter follower is coupled to a load with an ideal transformer, as shown in Figure P8.35. The bias circuit is not shown. The transistor current gain is β = 49, and the transistor is biased such that ICQ = 100 mA. (a) Derive the expressions for the voltage transfer functions ve/vi and vo/vi . (b) Find n1 : n2 for maximum ac power transfer to RL. (c) Determine the small-signal output resistance looking back into the emitter. VCC n1:n2 VCC = 12 V RL VCC R1 RC → ∞ 1 vi C → ∞ ve 10:1 vo n v + R 1 n2 i – 2 v + RR C → ∞ i – 2 RE R = 50 Ω i L = E Lo 8 Ω Figure P8.33 Figure P8.35 Figure P8.36 D8.36 Consider the transformer-coupled emitter follower in Figure P8.36. Assume an ideal transformer. The transistor parameters are β = 100 and VB E = 0.7 V. (a) Design the circuit to provide a current gain at Ai = io/ ii = 80. (b) If the magnitude of the signal emitter current is limited to 0.9 ICQ to prevent distortion, determine the power delivered to the load, and the conversion efficiency. D8.37 A class-A transformer-coupled emitter follower must deliver 2 W to an 8  speaker. Let VCC = 18 V, β = 100, and VB E = 0.7 V. (a) Determine the nea80644_ch08_559-614.qxd 06/15/2009 01:32 PM Page 612 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 612 Part 1 Semiconductor Devices and Basic Applications required transformer ration1 : n2. (b) Determine the minimum transistor power rating. D8.38 Repeat Problem 8.36 if the primary side of the transformer has a resistance of 100 . Section 8.5 Class-AB Push–Pull Complementary Output Stages 8.39 Consider the circuit in Figure 8.31. The circuit parameters are IBias = 1mA, R = 100 , V + = 10 V, and V − L = −10 V. The diode and transistor parameters are ISD = 5 × 10−16 A and ISQ = 7 × 10−15 A, respectively. Neglecting base currents, find (a) VB Band (b) the transistor quiescent collector currents (for vO = 0). D8.40 The circuit in Figure 8.31 is to be designed such that the quiescent collector currents are 4 mA (vO = 0). Assume ISQ = 2 × 10−15 A and ISD = 4 × 10−16 A. Neglecting base currents, (a) determine the required value of IBias, (b) the resulting value of VB B , and (c) the required value of vI . 8.41 The value of IBias in the circuit shown in Figure 8.31 is 0.5 mA. Assume diode and transistor parameters of I −16 SD1 = 10 A, I −16 SD2 = 4 × 10 A, I −16 −15 SQn = 8 × 10 A, and ISQp = 1.6 × 10 A. For vO = 0 and neglecting base currents, determine (a) VB B , (b) vB En and vE Bp , (c) the quiescent collector currents, and (d) the required value of vI . 8.42 The transistors in the output stage in Figure 8.34 are all matched. Their parameters are β = 60 and IS = 5 × 10−13 A. Resistors R1 and R2 are replaced by 3 mA ideal current sources, and R3 = R4 = 0. Let V+ = 10 V and V − = −10 V. (a) Determine the quiescent collector currents in the four transistors for vI = vO = 0. (b) For a load resistance of RL = 200  and a peak output voltage of 6 V, determine the current gain and voltage gain of the circuit. *8.43 Consider the circuit in Figure 8.34. The supply voltages are V+ = 10 V and V − = −10 V, and the R3 and R4 resistor values are zero. The transistor parameters are: β1 = β2 = 120, β3 = β4 = 50, IS1 = IS2 = 2 × 10−13 A, and IS3 = I −12 S4 = 2 × 10 A. (a) The range in output current is −1 ≤ iO ≤ + 1 A. Determine the values of R1 and R2 such that the currents in Q1 and Q2 do not vary by more than 2 : 1. (b) Using the results of part (a), determine the quiescent collector currents in the four transistors for vI = vO = 0. (c) Calculate the output resistance, excluding RL, for a quiescent output voltage of zero. Assume the source resistance of vI is zero. 8.44 Using the parameters given in Example 8.11 for the circuit in Figure 8.34, calculate the input resistance when the quiescent output voltage is zero. 8.45 (a) Redesign the class-AB output stage in Figure 8.34 using enhancement- mode MOSFETs. Let R3 = R4 = 0. Sketch the circuit. (b) Assume bias voltages of V + = 10 V and V − = −10 V. Assume the threshold voltages of then-channel devices are VT N = 1 V and the threshold voltages of the p-channel devices are VT P = −1 V. Also assume the conduction parameters are K = K 2 2 p1 n2 = 2 mA/V and Kn3 = Kp4 = 5 mA/V . Determine R1 and R2 such that the quiescent drain currents in the output transistors are 5 mA (for vI = vO = 0). (c) Using the results of part (b), find the currents in M1 and M2. (d) If RL = 150 , determine the current in each transistor, the input voltage vI , and the power delivered to the load if vO = 3.5 V. 8.46 Consider the class-AB MOSFET output stage shown in Figure P8.46. The circuit parameters are IBias = 0.2 mA and RL = 1 k. The transistor parameters nea80644_ch08_559-614.qxd 06/15/2009 01:32 PM Page 613 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: Chapter 8 Output Stages and Power Amplifiers 613 are k ′ = 100 μA/V2, k ′ n p = 40 μA/V2, VT N = 0.8 V, and VT P = −0.8 V. For the quiescent condition, assume vGS3 = vSG4 and vGS1 = vSG2. When vI = −1.5 V, vO = 0 and iD1 = iD2 = 0.5 mA. Determine the width-to- length ratio of each transistor. 8.47 Figure P8.47 shows a composite pnp Darlington emitter follower that sinks current from a load. Parameter IQ is the equivalent bias current and Z is the equivalent impedance in the base of Q1. Assume the transistor parameters are: β(pnp) = 10, β(npn) = 50, VAP = 50 V, and VAN = 100 V, where VAP and VAN are the Early voltages of the pnp and npn devices, respectively. Calculate the output resistance Ro. V+ = 10 V IBias V+ IQ = 4 mA RM3 Mo 1 Z = 25 kΩ vO vO Q1 QR 2 L M4 M2 RL Q3 vI V – = –10 V V– Figure P8.46 Figure P8.47 *8.48 Consider the class-AB output stage in Figure P8.48. The parameters are: V+ = 12 V, V − = −12 V, RL = 100 , and IBias = 5 mA. The transistor and diode parameters are I = 10−13 SA. The transistor current gains are βn = 100 and βp = 20 for the npn and pnp devices, respectively. (a) For vO = 0, determine VBB, and the quiescent collector current and base–emitter voltage for each transistor. (b) Repeat part (a) for vO = 10 V. What is the power delivered to the load and what is the power dissipated in each transistor? V+ IBias Q + 1 D1 VBB vO D2 – R v LI Q3 Q2 V– Figure P8.48 nea80644_ch08_559-614.qxd 06/15/2009 01:32 PM Page 614 F506 Hard disk:Desktop Folder:ALI:MHDQ134-08 Folder:MHDQ134-08: 614 Part 1 Semiconductor Devices and Basic Applications *8.49 For the class-AB output stage in Figure 8.36, the parameters are: V + = 24 V, V − = −24 V, RL = 20 , and IBias = 10 mA. The diode and transistor parameters are IS = 2 × 10−12 A. The transistor current gains are βn = 20 and βp = 5 for the npn and pnp devices, respectively. (a) For vO = 0, determine VB B , and the quiescent collector current and base– emitter voltage for each transistor. (b) An average power of 10 watts is to be delivered to the load. Determine the quiescent collector current in each transistor and the instantaneous power dissipated in Q2, Q5, and RL when the output voltage is at its peak negative amplitude. COMPUTER SIMULATION PROBLEMS 8.50 (a) Using a computer simulation, plot the voltage transfer characteristics of the complementary push-pull output stage shown in Figure 8.19 to demonstrate the crossover distortion. (b) Repeat part (a) for the class-AB output stage in Figure 8.24. Use several values of VB B . 8.51 Using a computer simulation, plot the voltage transfer characteristics of the class-AB output stage with a VB E multiplier bias circuit. Use the parameters described in Example 8.10. 8.52 Using a computer simulation, verify the results of Example 8.11. 8.53 Using a computer simulation, plot the voltage transfer characteristics of the class-AB output stage with Darlington pairs shown in Figure 8.36. DESIGN PROBLEMS [Note: Each design should be correlated with a computer analysis.] *D8.54 Design an audio amplifier to deliver an average of 10 W to an 8  speaker. The bandwidth is to cover the range from 20 Hz to 18 kHz. Specify minimum current gains, and current, voltage, and power ratings of all transistors. *D8.55 Design a class-A transformer-coupled emitter-follower amplifier to deliver 10 W to an 8  speaker. The ambient temperature is 25 ◦C and the maximum junction temperature is T ◦ j,max = 150 C. Assume the thermal resistance values are: θdev−case = 3.2 ◦C/W, θ ◦ case−snk = 0.8 C/W, and θsnk− = 4 ◦ amb C/W. Specify the power supply voltage, transformer turns ratio, bias resistor values, and transistor current, voltage, and power ratings. *D8.56 Design the class-AB output stage with the VB E multiplier in Figure 8.32 to deliver an average of 1 W to an 8  load. The peak output voltage must be no more than 80 percent of V +. Let V − = −V + . Specify the circuit and transistor parameters. *D8.57 Design the circuit shown in Figure P8.46 to deliver 2 W to a 20 ohm load. The maximum output voltage should be asymmetrical 8 V sine wave. nea80644_pro02_615-618.qxd 06/15/2009 03:54 PM Page 615 F506 Hard disk:Desktop Folder:MHDQ134-PROL-PRII: PROLOGUE TO ELECTRONIC DESIGN II PREVIEW In Part 1, we dealt, for the most part, with discrete electronic circuits; that is, circuits containing discrete resistors, capacitors, and transistors. The analysis of these fundamental circuits provided a basic understanding of circuit operation and characteristics. Some design discussions were also included to introduce the concept of electronic circuit design. As part of the design discussion, various tradeoffs were considered. In Part 2, we will develop, analyze, and design more complex analog electronic circuits. We will combine and expand the basic circuits considered in Part 1, to form these more complex circuits. Although, for the most part, we will continue to analyze and design discrete circuits, these circuits are usually fabricated as integrated circuits. In this short prologue, we discuss some fundamental aspects of the electronic design process. DESIGN APPROACH The design process can be viewed from two directions, as indicated in Figure PR2.1. The top-down design process begins with a proposed overall system concept. The whole system is divided into subsystems, of which one may include the electronics associated with the project. The electronics is then divided into its own set of subsystems. System Top-down design Subsystems Electronic subsystems using ICs Individual ICs Discrete semiconductor devices Bottom-up design Semiconductor materials Figure PR2.1 Top-down and bottom-up approaches to electronic design 615 Prologue"
PROLOGUE II: PROLOGUE TO ELECTRONIC DESIGN,"II: PROLOGUE TO ELECTRONIC DESIGN II PREVIEW In Part 1, we dealt, for the most part, with discrete electronic circuits; that is, circuits containing discrete resistors, capacitors, and transistors. The analysis of these fundamental circuits provided a basic understanding of circuit operation and characteristics. Some design discussions were also included to introduce the concept of electronic circuit design. As part of the design discussion, various tradeoffs were considered. In Part 2, we will develop, analyze, and design more complex analog electronic circuits. We will combine and expand the basic circuits considered in Part 1, to form these more complex circuits. Although, for the most part, we will continue to analyze and design discrete circuits, these circuits are usually fabricated as integrated circuits. In this short prologue, we discuss some fundamental aspects of the electronic design process. DESIGN APPROACH The design process can be viewed from two directions, as indicated in Figure PR2.1. The top-down design process begins with a proposed overall system concept. The whole system is divided into subsystems, of which one may include the electronics associated with the project. The electronics is then divided into its own set of subsystems. System Top-down design Subsystems Electronic subsystems using ICs Individual ICs Discrete semiconductor devices Bottom-up design Semiconductor materials Figure PR2.1 Top-down and bottom-up approaches to electronic design 615 Prologue"
Preview,"PREVIEW In Part 1, we dealt, for the most part, with discrete electronic circuits; that is, circuits containing discrete resistors, capacitors, and transistors. The analysis of these fundamental circuits provided a basic understanding of circuit operation and characteristics. Some design discussions were also included to introduce the concept of electronic circuit design. As part of the design discussion, various tradeoffs were considered. In Part 2, we will develop, analyze, and design more complex analog electronic circuits. We will combine and expand the basic circuits considered in Part 1, to form these more complex circuits. Although, for the most part, we will continue to analyze and design discrete circuits, these circuits are usually fabricated as integrated circuits. In this short prologue, we discuss some fundamental aspects of the electronic design process. DESIGN APPROACH The design process can be viewed from two directions, as indicated in Figure PR2.1. The top-down design process begins with a proposed overall system concept. The whole system is divided into subsystems, of which one may include the electronics associated with the project. The electronics is then divided into its own set of subsystems. System Top-down design Subsystems Electronic subsystems using ICs Individual ICs Discrete semiconductor devices Bottom-up design Semiconductor materials Figure PR2.1 Top-down and bottom-up approaches to electronic design 615 Prologue"
Design Approach,"DESIGN APPROACH The design process can be viewed from two directions, as indicated in Figure PR2.1. The top-down design process begins with a proposed overall system concept. The whole system is divided into subsystems, of which one may include the electronics associated with the project. The electronics is then divided into its own set of subsystems. System Top-down design Subsystems Electronic subsystems using ICs Individual ICs Discrete semiconductor devices Bottom-up design Semiconductor materials Figure PR2.1 Top-down and bottom-up approaches to electronic design 615 Prologue nea80644_pro02_615-618.qxd 06/15/2009 03:54 PM Page 616 F506 Hard disk:Desktop Folder:MHDQ134-PROL-PRII: 616 Prologue II Prologue to Electronic Design The top-down approach usually relies on existing technologies and devices, which means that the electronic subsystems are usually designed with existing ICs. New or customized ICs maybe designed and fabricated for a specialized application, although this may increase the cost of the system. The design engineer must be able to evaluate existing design strategies and technologies to determine if they are able to meet the design or performance objectives. Insight into the operation and characteristics of basic circuits is essential for circuit design, and for being able to make appropriate choices in atop-down design process. The bottom-up design process usually begins in a research laboratory with the development of new and unique semiconductor materials. Silicon-based devices and circuits still dominate electronics technology, but compound semiconductors are gaining importance in specialized applications. These compound semiconductor materials are being used in the development and design of new discrete devices, such as high-performance JFETs and improved optoelectronic devices. These new devices maybe incorporated into integrated circuits, which may eventually lead to the development of new systems based on the characteristics and properties of the new devices. SYSTEM DESIGN Consider atop-down approach in which the design of an electronic circuit or system begins with a proposed design for a large system, such as a new airplane. Designing and building such a system may involve hundreds or even thousands of engineers from the initial concept to the final working system. The concept begins with a set of specifications or performance objectives. The large total airplane system can be broken into subsystems, such as those shown in Figure PR2.2. The specifications for the electronics subsystem are usually dictated by the overall system specifications, which may include such things as size, weight, and power consumption. Design is an iterative process, and tradeoffs are an integral part of the process, all the way from the overall system to each individual circuit. As work progresses, the overall system or subsystem specifications maybe refined or modified. During the design, issues may arise that were not anticipated and design tradeoffs maybe required. For example, there maybe tradeoffs between airplane performance and cost. High performance may require very expensive electronics and Structure Airplane Engines specifications Radar systems Electronics Voice communication systems Performance monitoring systems Figure PR2.2 System and subsystem block diagrams for an airplane"
System Design,"SYSTEM DESIGN Consider atop-down approach in which the design of an electronic circuit or system begins with a proposed design for a large system, such as a new airplane. Designing and building such a system may involve hundreds or even thousands of engineers from the initial concept to the final working system. The concept begins with a set of specifications or performance objectives. The large total airplane system can be broken into subsystems, such as those shown in Figure PR2.2. The specifications for the electronics subsystem are usually dictated by the overall system specifications, which may include such things as size, weight, and power consumption. Design is an iterative process, and tradeoffs are an integral part of the process, all the way from the overall system to each individual circuit. As work progresses, the overall system or subsystem specifications maybe refined or modified. During the design, issues may arise that were not anticipated and design tradeoffs maybe required. For example, there maybe tradeoffs between airplane performance and cost. High performance may require very expensive electronics and Structure Airplane Engines specifications Radar systems Electronics Voice communication systems Performance monitoring systems Figure PR2.2 System and subsystem block diagrams for an airplane nea80644_pro02_615-618.qxd 06/15/2009 03:54 PM Page 617 F506 Hard disk:Desktop Folder:MHDQ134-PROL-PRII: Prologue II Prologue to Electronic Design 617 higher than expected costs in the development of high-performance engines. Once the system or subsystem requirements are finalized, design engineers then evaluate various approaches for meeting the design specifications. There is seldom a unique solution for a design, and engineering creativity is an integral part of this phase. Once suitable approaches are selected for an overall subsystem, such as the electronics subsystem, it may then be broken down into smaller subsystems. For example, the initial electronics breakdown may include radar systems, voice communications, and aircraft performance monitoring systems, such as shown in Figure PR2.2. The specifications for each subsystem are developed from the overall set of specifications. ELECTRONIC DESIGN A flowchart of the general electronic design process is shown in Figure PR2.3. This chart can apply to an entire system or to an individual circuit. A set of specifications is developed for each electronic system, and then each system is divided into many simpler circuits. For example, one relatively simple electronic system maybe a high temperature warning indicator. If the temperature of an engine or a particular engine part becomes greater than some predetermined value, a warning light would go on in the cockpit. Initial design approaches are considered and a circuit configuration is proposed, based on the experience and creativity of the circuit design engineer. This is where experience in the analysis of many different types of electronic circuits becomes important. Knowledge of particular characteristics, such as input impedance, output impedance, gain characteristics, and bandwidth, for many types of circuits, is used to choose a particular circuit configuration. Figure PR2.4 shows a block diagram for a particular circuit configuration that can serve as a starting point for the design of the temperature indicator. The block showing the amplifier maybe further divided to show a proposed configuration for the circuit. Component values can then be chosen. Problem statement Develop Initial design Develop block specifications approach diagram Performance Design of simulation each block Final design Prototype Prototype and Preset construction testing construction value Temperature Warning Working Amplifier Comparator transducer light system Figure PR2.3 Flowchart of the design process Figure PR2.4 Block diagram of a temperature warning light circuit"
Electronic Design,"Electronic Design 617 higher than expected costs in the development of high-performance engines. Once the system or subsystem requirements are finalized, design engineers then evaluate various approaches for meeting the design specifications. There is seldom a unique solution for a design, and engineering creativity is an integral part of this phase. Once suitable approaches are selected for an overall subsystem, such as the electronics subsystem, it may then be broken down into smaller subsystems. For example, the initial electronics breakdown may include radar systems, voice communications, and aircraft performance monitoring systems, such as shown in Figure PR2.2. The specifications for each subsystem are developed from the overall set of specifications. ELECTRONIC DESIGN A flowchart of the general electronic design process is shown in Figure PR2.3. This chart can apply to an entire system or to an individual circuit. A set of specifications is developed for each electronic system, and then each system is divided into many simpler circuits. For example, one relatively simple electronic system maybe a high temperature warning indicator. If the temperature of an engine or a particular engine part becomes greater than some predetermined value, a warning light would go on in the cockpit. Initial design approaches are considered and a circuit configuration is proposed, based on the experience and creativity of the circuit design engineer. This is where experience in the analysis of many different types of electronic circuits becomes important. Knowledge of particular characteristics, such as input impedance, output impedance, gain characteristics, and bandwidth, for many types of circuits, is used to choose a particular circuit configuration. Figure PR2.4 shows a block diagram for a particular circuit configuration that can serve as a starting point for the design of the temperature indicator. The block showing the amplifier maybe further divided to show a proposed configuration for the circuit. Component values can then be chosen. Problem statement Develop Initial design Develop block specifications approach diagram Performance Design of simulation each block Final design Prototype Prototype and Preset construction testing construction value Temperature Warning Working Amplifier Comparator transducer light system Figure PR2.3 Flowchart of the design process Figure PR2.4 Block diagram of a temperature warning light circuit nea80644_pro02_615-618.qxd 06/15/2009 03:54 PM Page 618 F506 Hard disk:Desktop Folder:MHDQ134-PROL-PRII: 618 Prologue II Prologue to Electronic Design The choice of a temperature transducer is based in part on the required temperature range. The design of the amplifier begins with the anticipated output signal of the temperature transducer, which in turn implies a required level of input impedance and signal gain for the amplifier. The necessary stability of the amplifier gain may determine whether a simple amplifier design maybe used, or a more complex amplifier using feedback maybe necessary. In addition, the location of the amplifier on the aircraft may determine the temperature range over which the amplifier must function. The comparator compares the amplifier output, which corresponds to a particular temperature, to a preset value. If the amplifier output is greater than the preset value, the output of the comparator must then be able to activate the warning light. The voltage and current levels required to activate the warning light are determined and are incorporated into the design of the comparator. In proposing the initial circuit configuration and component values, the design engineer may use an intuitive approach based to a large extent on experience. However, once this initial design is completed, the design must be verified with a mathematical analysis or computer simulation. The initial design process may include calculations using simple models for the transistors and circuits. Normally, a more sophisticated analysis is required to take into account such things as temperature variations, tolerances in component values, and other parameter variations based on a particular application. The circuit performance estimation or simulation is usually a very important phase of the design process. To validate the final design, it is necessary to simulate, as precisely as possible, the performance of the discrete devices and ICs used in the design. Simulation models are required for each circuit component in order to predict the operation and characteristics of the designed circuits. On the basis of these simulation models, tradeoffs between technologies and devices maybe evaluated to obtain the optimum performance. With improved simulation models, the breadboard development stage maybe eliminated and the design process may proceed directly to the construction of a prototype circuit. Since the prototype circuit may involve the fabrication of specialized or customized integrated circuits, this phase of the design process maybe expensive; therefore, costly mistakes in the design must be avoided. A good circuit simulation may identify potential problems that can be corrected before the prototype circuit is fabricated. The prototype circuit is then tested and evaluated. At this point, a minor redesign may involve only selecting slightly different component values. A more extensive redesign may require selecting an entirely different circuit configuration in order to meet the system requirements. Finally, the entire system is constructed from the operating subsystems. CONCLUSION Design involves creativity, and it can be challenging and rewarding. Design is based on experience. The design process in Part 2 of the text is based on the experience gained in Part 1. Our design experience should continue to grow as we proceed through the remainder of this book."
Conclusion,"CONCLUSION Design involves creativity, and it can be challenging and rewarding. Design is based on experience. The design process in Part 2 of the text is based on the experience gained in Part 1. Our design experience should continue to grow as we proceed through the remainder of this book. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 619 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Analog Electronics 2 Part 1 dealt with basic electronic devices and fundamental circuit configurations. Part 2 now deals with more complex analog circuits, including more sophisticated amplifiers. Chapter 9 introduces the ideal op-amp and related circuits. The op-amp is one of the most common analog integrated circuits and can be used in a plethora of electronic applications. IC biasing techniques, which primarily use constant-current sources, are described in Chapter 10. One of the most widely used amplifier configurations is the differential amplifier, which is analyzed in Chapter 11. Chapter 12 covers the fundamentals of feedback. Feedback is used extensively in analog circuits to set or control gain values more precisely, and to alter, in a favorable way, input and output impedance values. More complex analog integrated circuits, including circuits that form operational amplifiers, are discussed in Chapter 13. These circuits are composed of the fundamental configurations, such as the differential amplifier, constant-current biasing, active load, and output stage, that have been previously analyzed. Then Chapter 14 considers nonideal effects in operational amplifier circuits, and discusses the effects of these nonideal characteristics on op-amp circuit performance. Additional integrated circuit applications and designs are considered in Chapter 15. Such applications include active filters, oscillators, and integrated circuit power amplifiers. 619 PART"
PART 2: ANALOG ELECTRONICS,": Analog Electronics 2 Part 1 dealt with basic electronic devices and fundamental circuit configurations. Part 2 now deals with more complex analog circuits, including more sophisticated amplifiers. Chapter 9 introduces the ideal op-amp and related circuits. The op-amp is one of the most common analog integrated circuits and can be used in a plethora of electronic applications. IC biasing techniques, which primarily use constant-current sources, are described in Chapter 10. One of the most widely used amplifier configurations is the differential amplifier, which is analyzed in Chapter 11. Chapter 12 covers the fundamentals of feedback. Feedback is used extensively in analog circuits to set or control gain values more precisely, and to alter, in a favorable way, input and output impedance values. More complex analog integrated circuits, including circuits that form operational amplifiers, are discussed in Chapter 13. These circuits are composed of the fundamental configurations, such as the differential amplifier, constant-current biasing, active load, and output stage, that have been previously analyzed. Then Chapter 14 considers nonideal effects in operational amplifier circuits, and discusses the effects of these nonideal characteristics on op-amp circuit performance. Additional integrated circuit applications and designs are considered in Chapter 15. Such applications include active filters, oscillators, and integrated circuit power amplifiers. 619 PART nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 620 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 621 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Ideal Operational Amplifiers and 9 Op-Amp Circuits1 An operational amplifier (op-amp) is an integrated circuit that amplifies the difference between two input voltages and produces a single output. The op-amp is prevalent in analog electronics, and can be thought of as another electronic device, in much the same way as the bipolar or field-effect transistor. The term operational amplifier comes from the original applications of the device in the early 1960s. Op-amps, in conjunction with resistors and capacitors, were used in analog computers to perform mathematical operations to solve differential and integral equations. The applications of op-amps have expanded significantly since those early days. The main reason for postponing the discussion of op-amp circuits until now is that we can use a relatively simple transistor circuit to develop the ideal characteristics of the op-amps, instead of simply stating the ideal parameters as postulates. Once the ideal properties have been developed, the reader can then be more comfortable applying these ideal characteristics in the design of op-amp circuits. Just as we developed equivalent circuits of transistors that include dependent sources representing gain factors, we will develop a basic op-amp equivalent circuit with a dependent source that represents the device gain that can be used to determine some of the nonideal properties of op-amp circuits. For the most part, this chapter deals with ideal op-amps. Nonideal op-amp effects are considered in Chapter 14. PREVIEW In this chapter, we will: • Discuss and develop the parameters and characteristics of the ideal operational amplifier, and determine the analysis method of ideal op-amp circuits. • Analyzeandunderstand thecharacteristicsof the invertingoperationalamplifier. • Analyzeandunderstandthecharacteristicsofthesummingoperationalamplifier. • Analyze and understand the characteristics of the noninverting operational amplifier, including the voltage follower or buffer. • Analyze several ideal op-amp circuits including the difference amplifier and the instrumentation amplifier. • Discuss the operational transconductance amplifier. • Design several ideal op-amp circuits with given design specifications. • As an application, design an electronic thermometer in conjunction with an instrumentation amplifier that will provide the necessary amplification. 1This chapter, through Section 9.5.5, can easily be studied as a first chapter in electronics for those who wish to cover op-amp circuits first. 621 Chapter"
Chapter 9: Ideal Operational Amplifiers and Op-Amp Circuits,"9: Ideal Operational Amplifiers and 9 Op-Amp Circuits1 An operational amplifier (op-amp) is an integrated circuit that amplifies the difference between two input voltages and produces a single output. The op-amp is prevalent in analog electronics, and can be thought of as another electronic device, in much the same way as the bipolar or field-effect transistor. The term operational amplifier comes from the original applications of the device in the early 1960s. Op-amps, in conjunction with resistors and capacitors, were used in analog computers to perform mathematical operations to solve differential and integral equations. The applications of op-amps have expanded significantly since those early days. The main reason for postponing the discussion of op-amp circuits until now is that we can use a relatively simple transistor circuit to develop the ideal characteristics of the op-amps, instead of simply stating the ideal parameters as postulates. Once the ideal properties have been developed, the reader can then be more comfortable applying these ideal characteristics in the design of op-amp circuits. Just as we developed equivalent circuits of transistors that include dependent sources representing gain factors, we will develop a basic op-amp equivalent circuit with a dependent source that represents the device gain that can be used to determine some of the nonideal properties of op-amp circuits. For the most part, this chapter deals with ideal op-amps. Nonideal op-amp effects are considered in Chapter 14. PREVIEW In this chapter, we will: • Discuss and develop the parameters and characteristics of the ideal operational amplifier, and determine the analysis method of ideal op-amp circuits. • Analyzeandunderstand thecharacteristicsof the invertingoperationalamplifier. • Analyzeandunderstandthecharacteristicsofthesummingoperationalamplifier. • Analyze and understand the characteristics of the noninverting operational amplifier, including the voltage follower or buffer. • Analyze several ideal op-amp circuits including the difference amplifier and the instrumentation amplifier. • Discuss the operational transconductance amplifier. • Design several ideal op-amp circuits with given design specifications. • As an application, design an electronic thermometer in conjunction with an instrumentation amplifier that will provide the necessary amplification. 1This chapter, through Section 9.5.5, can easily be studied as a first chapter in electronics for those who wish to cover op-amp circuits first. 621 Chapter"
Preview,"PREVIEW In this chapter, we will: • Discuss and develop the parameters and characteristics of the ideal operational amplifier, and determine the analysis method of ideal op-amp circuits. • Analyzeandunderstand thecharacteristicsof the invertingoperationalamplifier. • Analyzeandunderstandthecharacteristicsofthesummingoperationalamplifier. • Analyze and understand the characteristics of the noninverting operational amplifier, including the voltage follower or buffer. • Analyze several ideal op-amp circuits including the difference amplifier and the instrumentation amplifier. • Discuss the operational transconductance amplifier. • Design several ideal op-amp circuits with given design specifications. • As an application, design an electronic thermometer in conjunction with an instrumentation amplifier that will provide the necessary amplification. 1This chapter, through Section 9.5.5, can easily be studied as a first chapter in electronics for those who wish to cover op-amp circuits first. 621 Chapter nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 622 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 622 Part 2 Analog Electronics 9.1 THE OPERATIONAL AMPLIFIER Objective: • Discuss and develop the parameters and characteristics of the ideal operational amplifier, and determine the analysis method of ideal op-amp circuits. The integrated circuit operational amplifier evolved soon after development of the first bipolar integrated circuit. The μA-709 was introduced by Fairchild Semiconductor in 1965 and was one of the first widely used general-purpose op-amps. The now classic μA-741, also by Fairchild, was introduced in the late 1960s. Since then, a vast array of op-amps with improved characteristics, using both bipolar and MOS technologies, have been designed. Most op-amps are very inexpensive (less than a dollar) and are available from a wide range of suppliers. From a signal point of view, the op-amp has two input terminals and one output terminal, as shown in the small-signal circuit symbol in Figure 9.1(a). The op-amp also requires dc power, as do all transistor circuits, so that the transistors are biased in the active region. Also, most op-amps are biased with both a positive and a negative voltage supply, as indicated in Figure 9.1(b). As before, the positive voltage is indicated by V + and the negative voltage by V −. V + 1 – 1 – 3 3 2 + 2 + V – (a) (b) Figure 9.1 (a) Small-signal circuit symbol of the op-amp; (b) op-amp with positive and negative supply voltages There are normally 20 to 30 transistors that makeup an op-amp circuit. The typical IC op-amp has parameters that approach the ideal characteristics. For this reason, then, we can treat the op-amp as a “simple” electronic device, which means that it is quite easy to design a wide range of circuits using the IC op-amp. In this chapter, we develop the ideal set of op-amp parameters and then consider the analysis and design of a wide variety of op-amp circuits, which will aid in our understanding of the design process of electronic circuits. We generally assume, in this chapter, that the op-amp is ideal. In the following chapters, we consider the differential amplifier, current-source biasing, and feedback, which leads to the development of the actual operational amplifier circuit in Chapter 13. Once the actual op-amp circuit is studied, then the source of nonideal characteristics can be understood. The effect of nonideal op-amp parameters is then considered in Chapter 14. Additional op-amp applications are given in Chapter 15. 9.1.1 Ideal Parameters The ideal op-amp senses the difference between two input signals and amplifies this difference to produce an output signal. The terminal voltage is the voltage at a terminal"
9.1 The Operational Amplifier,"9.1 THE OPERATIONAL AMPLIFIER Objective: • Discuss and develop the parameters and characteristics of the ideal operational amplifier, and determine the analysis method of ideal op-amp circuits. The integrated circuit operational amplifier evolved soon after development of the first bipolar integrated circuit. The μA-709 was introduced by Fairchild Semiconductor in 1965 and was one of the first widely used general-purpose op-amps. The now classic μA-741, also by Fairchild, was introduced in the late 1960s. Since then, a vast array of op-amps with improved characteristics, using both bipolar and MOS technologies, have been designed. Most op-amps are very inexpensive (less than a dollar) and are available from a wide range of suppliers. From a signal point of view, the op-amp has two input terminals and one output terminal, as shown in the small-signal circuit symbol in Figure 9.1(a). The op-amp also requires dc power, as do all transistor circuits, so that the transistors are biased in the active region. Also, most op-amps are biased with both a positive and a negative voltage supply, as indicated in Figure 9.1(b). As before, the positive voltage is indicated by V + and the negative voltage by V −. V + 1 – 1 – 3 3 2 + 2 + V – (a) (b) Figure 9.1 (a) Small-signal circuit symbol of the op-amp; (b) op-amp with positive and negative supply voltages There are normally 20 to 30 transistors that makeup an op-amp circuit. The typical IC op-amp has parameters that approach the ideal characteristics. For this reason, then, we can treat the op-amp as a “simple” electronic device, which means that it is quite easy to design a wide range of circuits using the IC op-amp. In this chapter, we develop the ideal set of op-amp parameters and then consider the analysis and design of a wide variety of op-amp circuits, which will aid in our understanding of the design process of electronic circuits. We generally assume, in this chapter, that the op-amp is ideal. In the following chapters, we consider the differential amplifier, current-source biasing, and feedback, which leads to the development of the actual operational amplifier circuit in Chapter 13. Once the actual op-amp circuit is studied, then the source of nonideal characteristics can be understood. The effect of nonideal op-amp parameters is then considered in Chapter 14. Additional op-amp applications are given in Chapter 15. 9.1.1 Ideal Parameters The ideal op-amp senses the difference between two input signals and amplifies this difference to produce an output signal. The terminal voltage is the voltage at a terminal nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 623 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 623 1 – v + 3 1 – + + 2 – Aod (v2 – v1) vO + – v + 2 – Figure 9.2 Ideal op-amp equivalent circuit measured with respect to ground. The ideal op-amp equivalent circuit is shown in Figure 9.2. Ideally, the input resistance Ri between terminals 1 and 2 is infinite, which means that the input current at each terminal is zero. The output terminal of the ideal op-amp acts as the output of an ideal voltage source, meaning that the small-signal output resistance Ro is zero. The parameter Aod shown in the equivalent circuit is the open-loop differential voltage gain of the op-amp. The output is out of phase with respect to v1 and in phase with respect to v2. Terminal (1) then is the inverting input terminal, designated by the “−” notation, and terminal (2) is the noninverting input terminal, designated by the “+” notation. In the ideal op-amp, the open-loop gain Aod is very large and approaches infinity. Since the ideal op-amp responds only to the difference between the two input signals v1 and v2, the ideal op-amp maintains a zero output signal for v1 = v2. When v1 = v2 = 0, there is what is called a common-mode input signal. For the ideal op- amp, the common-mode output signal is zero. This characteristic is referred to as common-mode rejection. Because the device is biased with both positive and negative power supplies, most op-amps are direct-coupled devices (i.e., no coupling capacitors are used on the input). Therefore, the input voltages v1 and v2 shown in Figure 9.2 can be dc voltages, which will produce a dc output voltage vO . Another characteristic of the op-amp that must be considered in any design is the bandwidth or frequency response. In the ideal op-amp, this parameter is neglected. The frequency response of practical op-amps and other nonideal characteristics are discussed in Chapters 13 and 14. These nonideal parameters are considered after the actual operational amplifier circuits are analyzed in Chapter 13. The ideal op-amp is being considered in this chapter in order to gain an appreciation of the properties and characteristics of op-amp circuits. 9.1.2 Development of the Ideal Parameters To develop the ideal op-amp parameters, we start with the basic equivalent circuit shown in Figure 9.2.2 We may note that this equivalent circuit is very similar to the MOSFET small-signal equivalent circuit. Figure 9.3(a) shows an n-channel enhancement-mode MOSFET, and Figure 9.3(b) shows the simplified low-frequency small-signal equivalent circuit. In our analysis, the transistor small-signal output resistance ro is assumed to be infinite. 2For those readers studying this chapter as the first topic in electronics, concentrate on the analysis using the equivalent circuit and ignore any reference to the MOSFET. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 624 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 624 Part 2 Analog Electronics RFD GD RI + vI + v V g V r IO g = 0 G gs m gs o Vgs gmV – gs – SS (a) (b) Figure 9.3 (a) n-channel enhancement-mode Figure 9.4 Simplified small-signal MOSFET and (b) small-signal equivalent circuit equivalent circuit of a MOSFET with input and feedback resistors Figure 9.4 shows the equivalent circuit including two external circuit resistors RI and RF . The voltage at the noninverting terminal is set equal to zero, so that the noninverting terminal is at ground potential. An input voltage vI is applied. Resistor RF is a feedback resistor that connects the output back to the input of the amplifier. This circuit is therefore called a feedback circuit. In this example, we use a single device (transistor) as the basic amplifier of the op-amp circuit. Writing a KCL equation at the gate, or inverting, terminal, we obtain vI − Vgs = Vgs − vO (9.1(a)) RI RF which can be arranged( as ) vI + vO = 1 + 1 V (9.1(b)) RI R gs FRI RF Since the input impedance to the transistor is infinite, the current into the device is zero. A KCL equation at the output node yields Vgs − vO = gm Vgs (9.2(a)) RF which can be solved for Vgs, as follows: = v V O gs · ( 1 ) (9.2(b)) RF 1 − g Rm F Substituting Equation (9.2(b)) into (9.1(b)) results in the overall voltage gain of the circuit ( ) − 1 1 vO = − RF · ( gm RF ) (9.3) vI RI + 1 1 gm RF If we let the gain gm of the basic amplifier (i.e., the transistor) go to infinity, then the overall voltage gain becomes vO = − RF (9.4) vI RI nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 625 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 625 RF V Ro = x Ix RI + Ix V + gs g V – m gs Vx – Figure 9.5 Equivalent circuit determining output resistance Equation (9.4) shows that the overall voltage gain is the ratio of two external circuit resistors, which is one result of using an ideal op-amp. The negative sign indicates a 180 degree phase shift between the input and the output, which means that the input to the transistor corresponds to the inverting terminal of an op-amp. The voltage gain given by Equations (9.3) and (9.4) is called a closed-loop voltage gain, since feedback is incorporated into the circuit. Conversely, the voltage gain Aod is an open-loop gain. Voltage Vgs at the input of the basic amplifier (transistor) is given by Equation (9.2(b)). Again, if we let the gain gm go to infinity, then Vgs ∼= 0; that is, the voltage at the input terminal to the basic amplifier is almost at ground potential. This terminal is said to beat virtual ground, which is another characteristic that we will observe in ideal op-amp circuits. The concept of virtual ground will be discussed in more detail in later sections. The output resistance of this circuit can be determined from the equivalent circuit shown in Figure 9.5. The input signal source is set at zero. A KCL equation at the output node, written in phasor notation, is VI xx = gm Vgs + + (9.5) RI RF Voltage Vgs ca(n be written) in terms of the test voltage Vx, as = RV VI gs x (9.6) RI + RF Substituting Equation (9.6) into (9.5), we find that Ix = 1 = 1 + gm RI + (9.7(a)) Vx Ro RI RF or R = RI + RF o + (9.7(b)) 1 gm RI If the gain gm goes to infinity, then Ro → 0. The output resistance of the circuit with negative feedback included goes to zero. This is also a property of an ideal op-amp circuit. A simplified MOSFET model with a large gain has thus provided the properties of an ideal op-amp. 9.1.3 Analysis Method Usually, an op-amp is not used in the open-loop configuration shown in Figure 9.2(a). Instead, feedback is added to close the loop between the output and the input. In this nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 626 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 626 Part 2 Analog Electronics v – Ro ≈ 0 1 i1 ≅ 0 Aod (v2 – v1) v0 + v – 2 + i2 ≅ 0 Aod ≅ ∞ Figure 9.6 Parameters of the ideal op-amp chapter, we will limit our discussion to negative feedback, in which the connection from the output goes to the inverting terminal, or terminal (1). As we will see later, this configuration produces stable circuits; positive feedback, in which the output is connected to the noninverting terminal, can be used to produce oscillators. The ideal op-amp characteristics resulting from our negative feedback analysis are shown in Figure 9.6 and summarized below. 1. The internal differential gain Aod is considered to be infinite. 2. The differential input voltage (v2 − v1) is assumed to be zero. If Aod is very large and if the output voltage vO is finite, then the two input voltages must be nearly equal. 3. The effective input resistance to the op-amp is assumed to be infinite, so the two input currents, i1 and i2, are essentially zero. 4. The output resistance Ro is assumed to be zero in the ideal case, so the output voltage is connected directly to the dependent voltage source, and the output voltage is independent of any load connected to the output. We use these ideal characteristics in the analysis and design of op-amp circuits. 9.1.4 Practical Specifications In the previous discussion, we have considered the properties of an ideal op-amp. Practical op-amps are not ideal, although their characteristics approach those of an ideal op-amp. Figure 9.7(a) is a more accurate equivalent circuit of an op-amp. Also included is a load resistance connected to the output terminal. This load resistance may actually represent another op-amp circuit connected to the output terminal. vO ΔV V + – v1 – Ro Slope = Aod vid Ri + vo – (v2 – v1) + v2 + R Aod L (v2 – v1) V – ΔV (a) (b) Figure 9.7 (a) Equivalent circuit of the op-amp and (b) simplified voltage transfer characteristic nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 627 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 627 Output Voltage Swing Since the op-amp is composed of transistors biased in the active region by the dc input voltages V + and V −, the output voltage is limited. When v + O approaches V , it will saturate, or be limited to a value nearly equal to V +, since it cannot go above the positive bias voltage. Similarly, when the output voltage approaches V −, it will saturate at a value nearly equal to V −. The output voltage is limited to V − + V < v + O < V − V , as shown in Figure 9.7(b). Figure 9.7(b) is a simplified voltage transfer characteristic for the op-amp, showing the saturation effect. In older op-amp designs, such as the 741, the value of V is between 1 and 2 V. We will see this property in Chapter 13. However, in newer CMOS op-amp designs, the value of V maybe as low as 10 mV. Output Currents As we can see from Figure 9.7(a), if the output voltage vO becomes either positive or negative, a current is induced in the load resistance. If the output voltage is positive, the load current is supplied by the output of the op-amp. If the output voltage is negative, then the output of the op-amp sinks the load current. A limitation of practical op-amps is the maximum current that an op-amp can supply or sink. Atypical value of the maximum current is on the order of ±20 mA for a general-purpose op-amp. 9.1.5 PSpice Modeling Three general purpose op-amps are included in the PSpice library. The PSpice circuit simulation uses a macromodel, which is a simplified version of the op-amp, to model the op-amp characteristics. For example, the μA-741 op-amp has parameters Ri = 2 M, Ro = 75 , Aod = 2 × 105, and a unity-gain bandwidth off BW = 1 MHz. This device is also capable of producing output voltages of ±14 V with dc power supply voltages of ±15 V. We will see in several examples as to whether these nonideal parameters affect actual circuit properties. 9.2 INVERTING AMPLIFIER Objective: • Analyze and understand the characteristics of the inverting operational amplifier. One of the most widely used op-amp circuits is the inverting amplifier. Figure 9.8 shows the closed-loop configuration of this circuit. We must keep in mind that the op-amp is biased with dc voltages, although those connections are seldom explicitly shown. R2 R1 1 vI – 2 vO + Figure 9.8 Inverting op-amp circuit"
9.2 Inverting Amplifier,"9.2 INVERTING AMPLIFIER Objective: • Analyze and understand the characteristics of the inverting operational amplifier. One of the most widely used op-amp circuits is the inverting amplifier. Figure 9.8 shows the closed-loop configuration of this circuit. We must keep in mind that the op-amp is biased with dc voltages, although those connections are seldom explicitly shown. R2 R1 1 vI – 2 vO + Figure 9.8 Inverting op-amp circuit nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 628 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 628 Part 2 Analog Electronics R2 i2 R1 1 vI – v1 0 i1 vO + v 2 2 = 0 – A + od (v2 – v1) 0 Figure 9.9 Inverting op-amp equivalent circuit 9.2.1 Basic Amplifier We analyze the circuit in Figure 9.8 by considering the ideal equivalent circuit shown in Figure 9.9. The closed-loop voltage gain, or simply the voltage gain, is defined as v A = O v (9.8) vI We stated that if the open-loop gain Aod is very large, then the two inputs v1 and v2 must be nearly equal. Since v2 is at ground potential, voltage v1 must also be approximately zero volts. We must point out, however, that having v1 be essentially at ground potential does not imply that terminal (1) is grounded. Rather, terminal (1) is said to beat virtual ground; that is, it is essentially zero volts, but it does not provide a current path to ground. The virtual ground concept will be used in the analysis of ideal op-amp circuits. To repeat this important concept, with terminal 1 being at virtual ground means that terminal 1 is essentially at zero volts, but is not connected to ground potential. From Figure 9.9, we can write i = vI − v1 = vI 1 (9.9) R1 R1 Since the current into the op-amp is assumed to be zero, current il must flow through resistor R2 to the output terminal, which means that i1 = i2. The output voltage is gi(ven b)y v vO = v1 − i2 R = 0 − I 2 R2 (9.10) R1 Therefore, the closed-loop voltage gain is = vO = − RA 2 v (9.11) vI R1 For the ideal op-amp, the closed-loop voltage gain is a function of the ratio of two resistors; it is not a function of the transistor parameters within the op-amp circuit. Again, the minus sign implies a phase reversal. If the input voltage vI is positive, then, because v1 is essentially at ground potential, the output voltage vO must be negative, or below ground potential. Also note that if the output terminal is open-circuited, current i2 must flow back into the op-amp. However, since the output impedance for the ideal case is zero, the output voltage is not a function of this current that flows back into the op-amp and is not dependent on the load. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 629 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 629 We can also determine the input resistance seen by the voltage source vI . Because of the virtual ground, we have, from Equation (9.9) i1 = vI /R1 The input resistance is then defined as = v RI i = R1 (9.12) i1 This shows that the input resistance seen by the source is a function of R1 only, and is a result of the “virtual ground” concept. Figure 9.10 summarizes our analysis of the inverting amplifier circuit. Since there are no coupling capacitors in the op-amp circuit, the input and output voltages, as well as the currents in the resistors, can be dc signals. The inverting op-amp can then amplify dc voltages. vi i I = Virtual ground, v = 0 2 1 = R 1 1 R2 R 0 1 1 vI – + 2 0 V vO = 0 – i2R v 2 i I – 1 = + RR 2 1 = – v RI 0 1 Figure 9.10 Currents and voltages in the inverting op-amp DESIGN EXAMPLE 9.1 Objective: Design an inverting amplifier with a specified voltage gain. Specifications: The circuit configuration to be designed is shown in Figure 9.10. Design the circuit such that the voltage gain is Av = −5. Assume the op-amp is driven by an ideal sinusoidal source, vs = 0.1 sin ωt (V), that can supply a maximum current of 5 μA. Assume that frequency ω is low so that any frequency effects can be neglected. Design Pointer: If the sinusoidal input signal source has a nonzero output resistance, the op-amp must be redesigned to provide the specified voltage gain. Initial Solution: The input current is given by = vI = vi s 1 R1 R1 If i1(max) = 5 μA, then we can write = vs(max) = 0.1 R1 × − ⇒ 20 k i1(max) 5 10 6 The closed-loop gain is given by A = −R2 v = −5 R1 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 630 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 630 Part 2 Analog Electronics We then have R2 = 5R1 = 5(20) = 100 k Tradeoffs: If the signal source has a finite output resistance and the desired output voltage is vo = −0.5 sin ωt , the circuit must be redesigned. Assume the output resistance of the source is RS = 1 k. Redesign Solution: The output resistance of the signal source is now part of the input resistance to the op-amp. We now write + = vs(max) = 0.1 R1 RS ⇒ 20 k i −6 1(max) 5 × 10 Since RS = 1 k, we then have R1 = 19 k. The feedback resistor is then R2 = 5(R1 + RS) = 5(19 + 1) = 100 k. Comment: The output resistance of the signal source must be included in the design of the op-amp to provide a specified voltage gain. Computer Verification: Figure 9.11(a) shows the PSpice circuit schematic with the source resistance of 1 k and an input resistance of 19 k. Figure 9.11(b) shows the R3 V (mV) 100 kΩ in 100 + v1 15 V 0 RR – 2 1 4 – 1 v3 1 kΩ 19 kΩ U 2 1 v– vout + 0 ~– m v+ A–741 6 + 5 3 7 R4 100 kΩ 0 0 + v2 15 V – 0 –100 0 1 2 3 0 Time (ms) (a) (b) Vout(V) Iin(mA) 1.0 5.0 0.5 0 0 –0.5 –5.0 0 1 2 3 0 1 2 3 Time (ms) Time (ms) (c) (d) Figure 9.11 (a) PSpice circuit schematic, (b) input signal, (c) output signal, and (d) input current signal for Example 9.1 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 631 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 631 100 mV sinusoidal input signal. Figure 9.11(c) is the output signal which shows that again of 5 (magnitude) has been achieved and also shows that the output signal is 180 degrees out of phase with respect to the input signal. Finally, the input current is shown in Figure 9.11(d) with a maximum value of 5 μA. The actual circuit characteristics are not influenced to any great extent by the nonideal parameters of the μA-741 op-amp used in the circuit simulation. EXERCISE PROBLEM Ex 9.1: Design an ideal inverting op-amp circuit such that the voltage gain is Av = −25. The maximum current in any resistor is to be limited to 10 μA with the input voltage in the range −25 ≤ vI ≤ +25 mV. (a) What are the values of R1 and R2? (b) What is the range of output voltage vO ? (Ans. (a) R1 = 2.5 k, R2 = 62.5 k; (b) −0.625 ≤ vO ≤ 0.625 V) Problem-Solving Technique: Ideal Op-Amp Circuits 1. If the noninverting terminal of the op-amp is at ground potential, then the inverting terminal is at virtual ground. Sum currents at this node, assuming zero current enters the op-amp itself. 2. If the noninverting terminal of the op-amp is not at ground potential, then the inverting terminal voltage is equal to that at the noninverting terminal. Sum currents at the inverting terminal node, assuming zero current enters the op-amp itself. 3. For the ideal op-amp circuit, the output voltage is determined from either step 1 or step 2 above and is independent of any load connected to the output terminal. 9.2.2 Amplifier with a T-Network Assume that an inverting amplifier is to be designed having a closed-loop voltage gain of Av = −100 and an input resistance of Ri = R1 = 50 k. The feedback resistor R2 would then have to be 5 M. However this resistance value is too large for most practical circuits. Consider the op-amp circuit shown in Figure 9.12 with a T-network in the feedback loop. The analysis of this circuit is similar to that of the inverting op-amp circuit of Figure 9.10. At the input, we have = vi I 1 = i2 (9.13) R1 i2 i3 vX R2 R3 i4 R4 R1 1 0 vI – v1 = 0 2 vi O 1 + 0 Figure 9.12 Inverting op-amp with T-network nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 632 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 632 Part 2 Analog Electronics We can also write that ( ) vX = R 0 − i 2 2 R2 = −vI (9.14) R1 If we sum the currents at the node vX , we have i2 + i4 = i3 which can be written −vX − vX = vX − vO (9.15) R2 R4 R3 or ( ) 1 + 1 + 1 vO vX = (9.16) R2 R4 R3 R3 Substituti(ng th)e( expression for vX)from Equation (9.14), we obtain − R2 1 1 1 vO vI + + = (9.17) R1 R2 R4 R3 R3 The closed-loop voltag(e gain is therefo)re = vO = − R2 + RA 1 3 + R3 v (9.18) vI R1 R4 R2 The advantage of using a T-network is demonstrated in the following example. DESIGN EXAMPLE 9.2 Objective: An op-amp with a T-network is to be designed as a microphone preamplifier. Specifications: The circuit configuration to be designed is shown in Figure 9.12. The maximum microphone output voltage is 12 mV (rms) and the microphone has an output resistance of 1 k. The op-amp circuit is to be designed such that the maximum output voltage is 1.2 V (rms). The input amplifier resistance should be fairly large, but all resistance values should be less that 500 k. Choices: The final design should use standard resistor values. In addition, standard resistors with tolerances of ±2 percent are to be considered. Solution: We need a voltage gain of | | = 1.2 Av = 100 0.012 Equation (9.18) (can be w)ritten in the form Av = − R2 + R 1 3 − R3 R1 R4 R1 RR If, for exampl(e, we arb)itrarily choose 2 = 3 = 8, then R1 R1 − = − + R 100 8 1 3 − 8 R4 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 633 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 633 which yields R3 = 10.5 R4 The effective R1 must include the RS resistance of the microphone. If we set R1 = 49 k so that R1,eff = 50 k, then R2 = R3 = 400 k and R4 = 38.1 k Design Pointer: If we need to use standard resistance values in our design, then, using Appendix C, we can choose R1 = 51 k so that R1,eff = 52 k, and we can choose R2 = R3 = 390 k(. Then, u)sing Equation (9.18(), we have) = − = −R2 + R3 − R3 = −390 + 390 − 390 Av 100 1 1 R1,eff R4 R1,eff 52 R4 52 which yields R4 = 34.4 k. We may use a standard resistor of R4 = 33 k. This resistance value then produces a voltage gain of Av = −103.6. Tradeoffs: If we consider ±2 percent tolerances in the standard resistor values, the voltage gain can be written as − ± [ ] = R2(1 0.02) + R3(1 ± 0.02) − R3(1 ± 0.02) Av 1 1 k + R1(1 ± 0.02) R4(1 ± 0.02) 1 k + R1(1 ± 0.02) or = − [ ] 390(1 ± 0.02) 390(1 ± 0.02) 390(1 ± 0.02) Av 1 + 51(1 ± 1 + − 0.02) 33(1 ± 0.02) 1 + 51(1 ± 0.02) Analyzing this equation, we find the maximum magnitude as |Av|max = 111.6 or +7.72 percent, and the minimum magnitude as |Av|min = 96.3 or −7.05 percent. Comment: As required, all resistor values are less than 500 k. Also the resistance ratios in the voltage gain expression are approximately equal. As with most design problems, there is no unique solution. We must keep in mind that, because of resistor value tolerances, the actual gain of the amplifier will have a range of values. EXERCISE PROBLEM Ex 9.2: Design an ideal inverting op-amp circuit with a T-network that has a closed-loop voltage gain of Av = −75 and an input resistance of R = 20 k. The maximum resistor value is to be limited to 200 k. (Ans. Let R1 = 20 k and R2 = R3 = 160 k. Then R4 = 21.7 k.) The amplifier with a T-network allows us to obtain a large gain using reasonably sized resistors. 9.2.3 Effect of Finite Gain A finite open-loop gain Aod, also called the finite differential-mode gain, affects the closed-loop gain of an inverting amplifier. We will consider nonideal effects in nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 634 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 634 Part 2 Analog Electronics R2 i2 R1 1 vI – v1 i 0 1 vO + v 2 – 2 = 0 Aod (v2 – v1) + Figure 9.13 Equivalent circuit of the inverting op-amp with a finite differential-mode gain op-amps in a later chapter; here, we will determine the magnitude of Aod required to approach the ideal case. Consider the inverting op-amps shown in Figure 9.13. As before, we assume an infinite input resistance at terminals (1) and (2), which means the input currents to the op-amp are zero. The current through R1 can be written as v − vi = I 1 1 (9.19) R1 and the current through R2 is i2 = v1 − vO (9.20) R2 The output voltage is now given by vO = −Aodv1 so that the terminal (1) voltage can be written as v1 = − vO (9.21) Aod Combining Equations (9.21), (9.19), and (9.20), and setting i1 = i2, we obtain vO vO vI + − − v A Oi od 1 = = i = Aod 2 (9.22) R1 R2 Solving for the closed-loop voltage gain, we find that = vO = − RA 2 [ (1v )] (9.23) vI R1 + 1 + R 1 1 2 Aod R1 Equation (9.23) shows that if Aod → ∞, the ideal closed-loop voltage gain reduces to that given by Equation (9.11). EXAMPLE 9.3 Objective: Determine the deviation from the ideal due to a finite differential gain. Consider an inverting op-amp with R1 = 10 k and R2 = 100 k. Determine the closed-loop gain for: Aod = 102, 103, 104, 105, and 106. Calculate the percent deviation from the ideal gain. nea80644_ch09_619-686.qxd 6/19/09 3:59 PM Page 635 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-09 Folder:MHDQ134-09 Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 635 Solution: The ideal closed-loop gain is = − R2 = −100 Av = −10 R1 10 If A = 102 od , we have, from Equation (9.23), 100 Av = − · [ (1 )] = −10 = −9.01 10 1 + 1 + 100 (1 + 0.11) 1 102 10 which is a 9.9 percent deviation from the ideal. For the other differential gain values we have the following results: Aod Av Deviation (%) 102 −9.01 9.9 103 −9.89 1.1 104 −9.989 0.11 105 −9.999 0.01 106 −9.9999 0.001 Comment: For this case, the open-loop gain must be on the order of at least 103 in order to be within 1 percent of the ideal gain. If the ideal closed-loop gain changes, a new value of open-loop gain must be determined in order to meet the specified requirements. As we will see in Chapter 14, at low frequencies, most op-amp circuits have gains on the order of 105, so achieving the required accuracy is not difficult. EXERCISE PROBLEM Ex 9.3: (a) An inverting op-amp circuit is to be designed using an op-amp with a finite differential voltage gain of A 4 od = 10 . The closed-loop voltage gain is to be Av = −15.0 and the input resistance is to be R = 25 k. What is the required value of R2? (b) Using the results of part (a), what is the closed-loop voltage gain if (i) A = 105 and (ii) A = 103 od od ? (Ans. (a) R1 = 25 k, R2 = 375.6 k; (b) (i) Av = −15.0216, (ii) Av = −14.787) Test Your Understanding TYU 9.1 (a) Design an ideal inverting op-amp circuit such that Av = −12. Let R2 = 240 k. (b) Using the results of part (a), find i1 when (i) vI = −0.15 V and (ii) vI = +0.25 V. (Ans. (a) R1 = 20 k; (b) (i) i1 = −7.5 μA, (ii) i1 = 12.5 μA) TYU 9.2 Consider Example 9.1. Suppose the source resistance is not a constant, but varies within the range 0.7 k ≤ RS ≤ 1.3 k. Using the results of Example 9.1, what is the range in (a) the voltage gain Av and (b) the input current i1. (c) Is the specified maximum input current still maintained? (Ans. (a) 4.926 ≤ Av ≤ 5.076, (b) 4.926 ≤ i1 ≤ 5.076 μA) TYU 9.3 Consider an inverting op-amp circuit as shown in Figure 9.13 with R1 = 20 k and R2 = 200 k. The op-amp is ideal except the open-loop gain is Aod = 104. Determine (a) v1 and vO when vI = 50 mV, (b) v1 and vI when vO = 5 V, and (c) vI and vO when v1 = 0.20 mV. (Ans. (a) vO = −0.49945 V, v1 = +49.945 μV; (b) vI = −0.50055 V, v1 = −0.5 mV; (c) vO = −2.0 V, vI = 0.20022 V) nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 636 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 636 Part 2 Analog Electronics 9.3 SUMMING AMPLIFIER Objective: • Analyze and understand the characteristics of the summing operational amplifier. To analyze the op-amp circuit shown in Figure 9.14(a), we will use the superposition theorem and the concept of virtual ground. Using the superposition theorem, we will determine the output voltage due to each input acting alone. We will then algebraically sum these terms to determine the total output. i4 Virtual ground R v F i I1 R 1 = FR1 0 0 i1 v v I1 – I1 – RR i 1 v1 = 0 1 vO R vO 2 2 vI2 + vI2 = 0 + R ii 2 2 = 0 R 3 3 vI3 vI3 = 0 R3 i3 = 0 (a) (b) Figure 9.14 (a) Summing op-amp amplifier circuit and (b) currents and voltages in the summing amplifier If we set vI 2 = vI 3 = 0, the current i1 is = vi I 1 1 (9.24) R1 Since vI 2 = vI 3 = 0 and the inverting terminal is at virtual ground, the currents i2 and i3 must both be zero. Current i1 does not flow through either R2 or R3, but the entire current must flow through the feedback resistor RF, as indicated in Figure 9.14(b). The output voltage due to vI(1 acti)ng alone is = − = − RF vO(vI 1) i1 RF vI 1 (9.25) R1 Similarly, the output vol(tages) due to vI 2 and vI 3 acting individually are vO(vI 2) = −i2 RF = − RF vI 2 (9.26) R2 and ( ) RF vO(vI 3) = −i3 RF = − vI 3 (9.27) R3 The total output voltage is the algebraic sum of the individual output voltages, or vO = vO(vI 1) + vO(vI 2) + vO(vI 3) (9.28) which becom(es ) = − RF + RF RF vO vI 1 v + v RR I 2 RI 3 (9.29) 1 2 3"
9.3 Summing Amplifier,"9.3 SUMMING AMPLIFIER Objective: • Analyze and understand the characteristics of the summing operational amplifier. To analyze the op-amp circuit shown in Figure 9.14(a), we will use the superposition theorem and the concept of virtual ground. Using the superposition theorem, we will determine the output voltage due to each input acting alone. We will then algebraically sum these terms to determine the total output. i4 Virtual ground R v F i I1 R 1 = FR1 0 0 i1 v v I1 – I1 – RR i 1 v1 = 0 1 vO R vO 2 2 vI2 + vI2 = 0 + R ii 2 2 = 0 R 3 3 vI3 vI3 = 0 R3 i3 = 0 (a) (b) Figure 9.14 (a) Summing op-amp amplifier circuit and (b) currents and voltages in the summing amplifier If we set vI 2 = vI 3 = 0, the current i1 is = vi I 1 1 (9.24) R1 Since vI 2 = vI 3 = 0 and the inverting terminal is at virtual ground, the currents i2 and i3 must both be zero. Current i1 does not flow through either R2 or R3, but the entire current must flow through the feedback resistor RF, as indicated in Figure 9.14(b). The output voltage due to vI(1 acti)ng alone is = − = − RF vO(vI 1) i1 RF vI 1 (9.25) R1 Similarly, the output vol(tages) due to vI 2 and vI 3 acting individually are vO(vI 2) = −i2 RF = − RF vI 2 (9.26) R2 and ( ) RF vO(vI 3) = −i3 RF = − vI 3 (9.27) R3 The total output voltage is the algebraic sum of the individual output voltages, or vO = vO(vI 1) + vO(vI 2) + vO(vI 3) (9.28) which becom(es ) = − RF + RF RF vO vI 1 v + v RR I 2 RI 3 (9.29) 1 2 3 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 637 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 637 The output voltage is the sum of the three input voltages, with different weighting factors. This circuit is therefore called the inverting summing amplifier. The number of input terminals and input resistors can be changed to add more or fewer voltages. A special case occurs when the three input resistances are equal. When R1 = R2 = R3 ≡ R, then vO = − RF (vI 1 + vI 2 + vI 3) (9.30) R1 This means that the output voltage is the sum of the input voltages, with a single amplification factor. Discussion: Up to this point, we have seen that op-amps can be used to multiply a signal by a constant and sum a number of signals with prescribed weights. These are mathematical operations. Later in the chapter, we will see that op-amps can also be used to integrate and differentiate. These circuits are the building blocks needed to perform analog computations—hence the original name of operational amplifier. Op- amps, however, are versatile and can do much more than just perform mathematical operations, as we will continue to observe through the remainder of the chapter. DESIGN EXAMPLE 9.4 Objective: Design a summing amplifier to produce a specified output signal. Specifications: The output signal generated from an ideal amplifier circuit is vO1 = 1.2 − 0.5 sin ω t (V). Design a summing amplifier to be connected to the amplifier circuit such that the output signal is vO = 2 sin ω t (V). Choices: Standard precision resistors with tolerances of ±1 percent are to be used in the final design. Assume an ideal op-amp is available. Solution: In this case, we need only two inputs to the summing amplifier, as shown in Figure 9.14. One input to the summing amplifier is the output of the ideal amplifier circuit and the second input should be a dc voltage to cancel the +1.2 V signal from the amplifier circuit. If the voltage gains of each input to the summing amplifier are equal, then an input of −1.2 Vat the second input will cancel the +1.2 V from the amplifier circuit. For a −0.5 V sinusoidal input signal and a desired 2 V sinusoidal output signal, the summing amplifier gain must be = −RF = 2 Av − = −4 R1 0.5 If we choose the input resistances to be R1 = R2 = 30 k, then the feedback resistance must be RF = 120 k. Tradeoffs: From Appendix C, we can choose precision resistor values of RF = 124 k and R1 = R2 = 30.9 k. The ratio of the ideal resistors is 4.013. Considering the ±1 percent tolerance values, the output of the summing amplifier is = −RF(1 ± 0.01) · − R (1 ± 0.01) vO ± (1.2 0.5 sin t − F ω ) ± · (−1.2) R1(1 0.01) R2(1 0.01) The dc output voltage is in the range −0.1926 ≤ vO (dc) ≤ 0.1926 V and the peak ac output voltage is in the range 1.967 ≤ vO (ac) ≤ 2.047 V. Comment: In this example, we have used a summing amplifier to amplify a time- varying signal and eliminate a dc voltage (ideally). nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 638 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 638 Part 2 Analog Electronics EXERCISE PROBLEM Ex 9.4: (a) Design an inverting summing amplifier that will produce an output voltage of vO = −3(vI 1 + 2vI 2 + 0.3vI 3 + 4vI 4). The maximum resistance is to be limited to 400 k. (b) Using the results of part (a), determine vO for (i) vI 1 = 0.1 V, vI 2 = −0.2 V, vI 3 = −1 V, vI 4 = 0.05 V; and for (ii) vI 1 = −0.2 V, vI 2 = 0.3 V, vI 3 = 1.5 V, vI 4 = −0.1 V. (Ans. (a) Let R3 = 400 k, RF = 360 k, R1 = 120 k, R2 = 60 k, R4 = 30 k; (b) (i) vO = +1.2 V, (ii) vO = −1.35 V) Test Your Understanding TYU 9.4 Consider an ideal summing amplifier as shown in Figure 9.14(a) with R1 = 20 k, R2 = 40 k, R3 = 50 k, and RF = 200 k. Determine the output voltage vO for (a) vI 1 = −0.25 mV, vI 2 = +0.30 mV, vI 3 = −0.50 mV; and (b) vI 1 = +10 mV, vI 2 = −40 mV, vI 3 = +25 mV. (Ans. (a) vO = 3 mV, (b) vO = 0) TYU 9.5 Design the summing amplifier in Figure 9.14 to produce the average (magnitude) of three input voltages, i.e., vO = (vI 1 + vI 2 + vI 3)/3. The amplifier is to be designed such that each input signal sees the maximum possible input resistance under the condition that the maximum allowed resistance in the circuit is 1 M. (Ans. R1 = R2 = R3 = 1 M, RF = 333 k) 9.4 NONINVERTING AMPLIFIER Objective: • Analyze and understand the characteristics of the noninverting operational amplifier, including the voltage follower or buffer. In our previous discussions, the feedback element was connected between the output and the inverting terminal. However, a signal can be applied to the noninverting terminal while still maintaining negative feedback. 9.4.1 Basic Amplifier Figure 9.15 shows the basic noninverting amplifier. The input signal vI is applied directly to the noninverting terminal, while one side of resistor R1 is connected to the inverting terminal and the other side is at ground. Previously, when v2 was at ground potential, we argued that v1 was also essentially at ground potential, and we stated that terminal (1) was at virtual ground. The same principle applies to the circuit in Figure 9.15, with slightly different terminology. The negative feedback connection forces the terminal voltages v1 and v2 to be essentially equal. Such a condition is referred to as a virtual short. This condition exists since a change in v2 will cause the output voltage vO to change in such away that v1 is forced to track v2. The virtual short means that the voltage difference"
9.4 Noninverting Amplifier,"9.4 NONINVERTING AMPLIFIER Objective: • Analyze and understand the characteristics of the noninverting operational amplifier, including the voltage follower or buffer. In our previous discussions, the feedback element was connected between the output and the inverting terminal. However, a signal can be applied to the noninverting terminal while still maintaining negative feedback. 9.4.1 Basic Amplifier Figure 9.15 shows the basic noninverting amplifier. The input signal vI is applied directly to the noninverting terminal, while one side of resistor R1 is connected to the inverting terminal and the other side is at ground. Previously, when v2 was at ground potential, we argued that v1 was also essentially at ground potential, and we stated that terminal (1) was at virtual ground. The same principle applies to the circuit in Figure 9.15, with slightly different terminology. The negative feedback connection forces the terminal voltages v1 and v2 to be essentially equal. Such a condition is referred to as a virtual short. This condition exists since a change in v2 will cause the output voltage vO to change in such away that v1 is forced to track v2. The virtual short means that the voltage difference nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 639 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 639 i2 R2 R1 1 v1 – 2 v vi 2 O 1 + + v – I Figure 9.15 Noninverting op-amp circuit between v1 and v2 is, for all practical purposes, zero. However, unlike a true short circuit, there is no current flow directly from one terminal to the other. We use the virtual short concept, i.e. v1 = v2, as an ideal op-amp characteristic and use this property in our circuit analysis. The analysis of the noninverting amplifier is essentially the same as for the inverting amplifier. We assume that no current enters the input terminals. Since v1 = v2, then v1 = vI , and current i1 is given by = − vi 1 = − vI 1 (9.31) R1 R1 Current i2 is given by vi 1 − vO vI − vO 2 = = (9.32) R2 R2 As before, i1 = i2, so that − vI = vI − vO (9.33) R1 R2 Solving for the closed-loop voltage gain, we find = v A O v = 1 + R2 (9.34) + + vI R1 + R2 v 1 + v v From this equation, we see that the output is in phase with the input, as expected. I – RI O 1 Also note that the gain is always greater than unity. – – The input signal vI is connected directly to the noninverting terminal; therefore, since the input current is essentially zero, the input impedance seen by the source is Figure 9.16 Equivalent very large, ideally infinite. The ideal equivalent circuit of the noninverting op-amp is circuit of ideal noninverting shown in Figure 9.16. op-amp 9.4.2 Voltage Follower An interesting property of the noninverting op-amp occurs when R1 = ∞, an open circuit. The closed-loop gain then becomes = v A O v = 1 (9.35) vI Since the output voltage follows the input, this op-amp circuit is called a voltage follower. The closed-loop gain is independent of resistor R2 (except when R2 = ∞), so we can set R2 = 0 to create a short circuit. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 640 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 640 Part 2 Analog Electronics The voltage-follower op-amp circuit is shown in Figure 9.17. At first glance, it – might seem that this circuit, with unity voltage gain, would be of little value. However, vO other terms used for the voltage follower are impedance transformer or buffer. The + input impedance is essentially infinite, and the output impedance is essentially zero. If, v + I – for example, the output impedance of a signal source is large, a voltage follower inserted between the source and a load will prevent loading effects, that is, it will act as a buffer between the source and the load. Figure 9.17 Voltage- Consider the case of a voltage source with a 100 k output impedance driving a follower op-amp 1 k load impedance, as shown in Figure 9.18(a). This situation may occur if the source is a transducer. (We will see an example of this later in the chapter when we consider a temperature-sensitive resistor, or thermistor, in a bridge circuit.) The ratio of output voltage to input voltage is vO = RL = 1 =∼ 0.01 vI RL + RS 1 + 100 This equation indicates that, for this case, there is a severe loading effect, or attenuation, in the signal voltage. Figure 9.18(b) shows a voltage follower inserted between the source and the load. Since the input impedance to the noninverting terminal is usually much greater than 100 k, then vO ∼= vI and the loading effect is eliminated. RS = 100 kΩ – RS = 100 kΩ + + v + Iv RL = 1 kΩ + – O – + RL = 1 kΩ v v OI – – Source Load (a) (b) Figure 9.18 (a) Source with a 100 k output resistance driving a 1 k load and (b) source with a 100 k output resistance, voltage follower, and 1 k load Test Your Understanding TYU 9.6 (a) Design a noninverting amplifier such that the closed-loop gain is Av = 10. The maximum resistance is to be 180 k and the output voltage is to be in the range −9 ≤ vO ≤ +9 V. (b) Repeat part (a) for a closed-loop gain of Av = 5. The maximum current in any resistor is to be limited to 100 μA when the output voltage is in the range −5 ≤ vO ≤ +5 V. (Ans. (a) R2 = 180 k, R1 = 20 k; (b) R2 = 40 k, R1 = 10 k) TYU 9.7 The noninverting op-amp in Figure 9.15 has a finite differential gain of Aod. Show that the closed-lo(op gain is) [ 1 + R2 = vO = (RA 1 v )] vI 1 + 1 R 1 + 2 Aod R1 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 641 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 641 TYU 9.8 Use superposition to determine the output voltage vO in the ideal op-amp circuit in Figure 9.19. (Ans. vO = 10vI 1 + 5vI 2) R2 = 70 kΩ R1 = 5 kΩ – vO vI1 + Ra = 25 kΩ vI2 Rb = 50 kΩ Figure 9.19 Figure for Exercise TYU 9.8 9.5 OP-AMP APPLICATIONS Objective: • Analyze several ideal op-amp circuits including the difference amplifier and the instrumentation amplifier. The summing amplifier is one example of special functional capabilities that can be provided by the op-amp. In this section, we will look at other examples of op-amp versatility. 9.5.1 Current-to-Voltage Converter In some situations, the output of a device or circuit is a current. An example is the output of a photodiode or photodetector. We may need to convert this output current to an output voltage. Consider the circuit in Figure 9.20. The input resistance Ri at the virtual ground node is = v R 1 i =∼ 0 (9.36) i1 In most cases, we can assume that RS Ri ; therefore, current i1 is essentially equal to the signal current iS. Then, i2 = i1 = iS (9.37) and vO = −i2 RF = −iS RF (9.38) i2 RR i F 0 – v1 = 0 i vO 1 + iiS RSV – Figure 9.20 Current-to-voltage converter"
9.5 Op-Amp Applications,"9.5 OP-AMP APPLICATIONS Objective: • Analyze several ideal op-amp circuits including the difference amplifier and the instrumentation amplifier. The summing amplifier is one example of special functional capabilities that can be provided by the op-amp. In this section, we will look at other examples of op-amp versatility. 9.5.1 Current-to-Voltage Converter In some situations, the output of a device or circuit is a current. An example is the output of a photodiode or photodetector. We may need to convert this output current to an output voltage. Consider the circuit in Figure 9.20. The input resistance Ri at the virtual ground node is = v R 1 i =∼ 0 (9.36) i1 In most cases, we can assume that RS Ri ; therefore, current i1 is essentially equal to the signal current iS. Then, i2 = i1 = iS (9.37) and vO = −i2 RF = −iS RF (9.38) i2 RR i F 0 – v1 = 0 i vO 1 + iiS RSV – Figure 9.20 Current-to-voltage converter nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 642 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 642 Part 2 Analog Electronics The output voltage is directly proportional to the signal current, and the feedback resistance RF is the magnitude of the ratio of the output voltage to the signal current. 9.5.2 Voltage-to-Current Converter The complement of the current-to-voltage converter is the voltage-to-current converter. For example, we may want to drive a coil in a magnetic circuit with a given current, using a voltage source. We could use the inverting op-amp shown in Figure 9.21. For this circuit, vi2 = i = I 1 (9.39) R1 which means that current i2 is directly proportional to input voltage vI and is independent of the load impedance or resistance R2. However, one side of the load device might need to beat ground potential, so the circuit in Figure 9.21 would not be practical for such applications. i2 RF R 0 1 vI – v + 1 vi 0 O 1 v2 – i + 2 i3 R3 0 R2 R1 0 vL vI – v1 = 0 vi Oi R2 Z 1 4 L iL + Figure 9.21 Simple voltage-to-current converter Figure 9.22 Voltage-to-current converter Consider the circuit in Figure 9.22. In this case, one terminal of the load device, which has an impedance of ZL, is at ground potential. The inverting terminal (1) is not at virtual ground. From the virtual short concept, v1 = v2. We also note that v1 = v2 = vL = iL ZL . Equating the currents i1 and i2, we have vI − iL ZL = iL ZL − vO (9.40) R1 RF Summing the currents at the noninverting terminal gives vO − iL ZL = + ii L ZL L (9.41) R3 R2 Solving for (vO − iL ZL ) from Equation (9.40) and substituting into Equation (9.41) produces RF · (iL ZL − vI ) = iL + iL ZL (9.42) R1 R3 R2 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 643 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 643 Combin(ing terms in iL, we) obtain ( ) RF Zi L − Z 1 − LL = RF vI (9.43) R1 R3 R2 R1 R3 In order to make iL independent of ZL, we can design the circuit such that the coefficient of ZL is zero, or RF = 1 (9.44) R1 R3 R2 Equation (9.43() then re)duces to = − RF = −vi IL vI (9.45) R1 R3 R2 which means that the load current is proportional to the input voltage and is independent of the load impedance ZL, as long as the output voltage remains between allowed limits. We may note that the input resistance seen by the source vI is finite, and is actually a function of the load impedance ZL. For a constant iL, a change in ZL produces a change in vL = v2 = v1, which causes a change in i1. A voltage follower maybe inserted between the voltage source vI and the resistor R1 to eliminate any loading effects due to a variable input resistance. EXAMPLE 9.5 Objective: Determine a load current in a voltage-to-current converter. Consider the circuit in Figure 9.22. Let ZL = 100 , R1 = 10 k, R2 = 1 k, R3 = 1 k, and RF = 10 k. If vI = −5 V, determine the load current iL and the output voltage vO. Solution: We note first that the condition expressed by Equation (9.44) is satisfied; that is, 1 = RF = 10 → 1 R2 R1 R3 (10)(1) 1 The load current is = −vI = −(−5) iL = 5 mA R2 1 k and the voltage across the load is vL = iL ZL = (5 × 10−3)(100) = 0.5 V Currents i4 and i3 are v 0.5 i4 = L = = 0.5 mA R2 1 and i3 = i4 + iL = 0.5 + 5 = 5.5 mA nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 644 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 644 Part 2 Analog Electronics The output voltage is then vO = i3 R3 + vL = (5.5 × 10−3)(103) + 0.5 = 6 V We could also calculate i1 and i2 as i1 = i2 = −0.55 mA Comment: In this example, we implicitly assume that the op-amp is not in saturation, which means that the applied dc bias voltage must be greater than 6 V. In addition, since currents i2 (which is negative) and i3 must be supplied by the op-amp, we are assuming that the op-amp is capable of supplying 6.05 mA. Computer Verification: The PSpice circuit schematic of the voltage-to-current converter is shown in Figure 9.23(a). The input voltage was varied between 0 and −10 V. Figure 9.23(b) shows the current through the 100  load and Figure 9.23(c) RF 10 kΩ IL (mA) + v1 10 10 V 0 R – 1 4 1 V Ω U 2 – 10 k 1 v– vout mA–741 v+ 6 + v + i 3 5 7 0 V + v 5 – 2 R3 1 kΩ 10 V – 0 0 R2 1 kΩ RL 100 Ω 0 –10 –5 0 0 0 Vi (V) (a) (b) Vout (V) Vout (V) 10 10 5 0 5 –10 –5 0 0 0.5 1.0 Vi (V) RL (kΩ) (c) (d) Figure 9.23 (a) PSpice circuit schematic; (b) load current and (c) op-amp output voltage versus input voltage; (d) op-amp output voltage versus load resistance for v1 = −5 V nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 645 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 645 shows the op-amp output voltage as a function of the input voltage. At approximately vI = −7.5 V, the op-amp saturates, so the load current and output voltage no longer increase with input voltage. This result demonstrates that the ideal voltage-to-current conversion is valid only if the op-amp is operating in its linear region. Figure 9.23(d) shows the output voltage as a function of load resistance for an input voltage of vI = −5 V. At a load resistance greater than approximately 900 , the op-amp saturates. The range over which the op-amp remains linear could be increased by increasing the bias to ±15 V, for example. EXERCISE PROBLEM Ex 9.5: Consider the voltage-to-current converter shown in Figure 9.22. The load impedance is ZL = 200  and the input voltage is vI = −3 V. Determine iL and vO if R1 = 10 k, R2 = 1.5 k, R3 = 3 k, and RF = 20 k. (Ans. iL = 2 mA, vO = 7.2 V) 9.5.3 Difference Amplifier An ideal difference amplifier amplifies only the difference between two signals; it rejects any common signals to the two input terminals. For example, a microphone system amplifies an audio signal applied to one terminal of a difference amplifier, and rejects any 60 Hz noise signal or “hum” existing on both terminals. The basic op-amp also amplifies the difference between two input signals. However, we would like to make a difference amplifier, in which the output is a function of the ratio of resistors, as we had for the inverting and noninverting amplifiers. Consider the circuit shown in Figure 9.24(a), with inputs vI 1 and vI 2. To analyze the circuit, we will use superposition and the virtual short concept. Figure 9.24(b) R2 R1 vI1 – vO vI2 + R3 R4 (a) R2 R2 R1 v 0 R 0 1a 1 v1b vI1 – – v2a vO1 vb v 2 O2 + vI2 + R3 R 0 3 0 R4 R4 (b) (c) Figure 9.24 (a) Op-amp difference amplifier, (b) difference amplifier with vI 2 = 0 and (c) difference amplifier with vI 1 = 0 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 646 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 646 Part 2 Analog Electronics shows the circuit with input vI 2 = 0. There are no currents in R3 and R4; therefore, v2a = 0. The resulting circuit is the inverting amplifier previously considered, for which R2 vO1 = − vI 1 (9.46) R1 Figure 9.24(c) shows the circuit with vI 1 = 0. Since the current into the op-amp is zero, R3 and R4 form a voltage divider. Therefore, R4 v2b = + vI 2 (9.47) R3 R4 From the virtual short concept, v1b = v2band the circuit becomes a noninverting amplifier, fo(r which ) ( ) = + R 1 2 R vO2 v1b = 1 + 2 v2b (9.48) R1 R1 Substituting( Equation) ((9.47) into) (9.48), we obtain vO2 = 1 + R2 R4 + vI 2 (9.49(a)) R1 R3 R4 which can be rearranged( as follows: ) = + R /R vO2 (1 R2/R 4 3 1) + vI 2 (9.49(b)) 1 R4/R3 Since the net output voltage is the sum of the individual terms, we have vO = vO1 + vO2 (9.50(a)) or ( )⎛ ⎞ vO = R ⎜ 1 + 2 ⎝⎜ R4 R3 ⎟⎟ R ⎠ ( ) vI 2 − R2 vI 1 (9.50(b)) R1 1 + 4 R1 R3 A property of the ideal difference amplifier is that the output voltage is zero when vI 1 = vI 2. An inspection of Equation (9.50(b)) shows that this condition is met if R4 = R2 (9.51) R3 R1 The output voltage is then = R2 vO (v RI 2 − vI 1) (9.52) 1 which indicates that this amplifier has a differential gain of Ad = R2/R1. This factor is a closed-loop differential gain, rather than the open-loop differential gain Aod of the op-amp itself. As previously stated, another important characteristic of electronic circuits is the input resistance. The differential input resistance of the differential amplifier can be determined by using the circuit shown in Figure 9.25. In the figure, we have nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 647 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 647 R2 Ri i R – v – 1 Iv + R O 1 + i Virtual R2 short circuit Figure 9.25 Circuit for measuring differential input resistance of op-amp difference amplifier imposed the condition given in Equation (9.51) and have set R1 = R3 and R2 = R4. The input resistance is then defined as v R = Ii (9.53) i Taking into account the virtual short concept, we can write a loop equation, as follows: vI = i R1 + i R1 = i(2R1) (9.54) Therefore, the input resistance is Ri = 2R1 (9.55) DESIGN EXAMPLE 9.6 Objective: Design a difference amplifier with a specified gain. Specifications: Design the difference amplifier with the configuration shown in Figure 9.24 such that the differential gain is 30. Standard valued resistors are to be used and the maximum resistor value is to be 500 k. Choices: An ideal op-amp is available. Solution: The differential gain is given by R2 = R4 = 30 R1 R3 From Appendix C, we can use standard resistors of R2 = R4 = 390 k and R1 = R3 = 13 k These resistor values are obviously less than 500 k and will give an input resistance of Ri = 2R1 = 2(13) = 26 k. Tradeoffs: Resistor tolerances must be considered as we have in other designs. This effect is considered in end-of-chapter Problem 9.62. Resistor tolerances also affect the common-mode rejection ratio, as analyzed in the following example. Comment: This example illustrated one disadvantage of this differential amplifier design. It cannot achieve both high gain and high input impedance without using extremely large resistor values. + – nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 648 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 648 Part 2 Analog Electronics EXERCISE PROBLEM Ex 9.6: Consider the difference amplifier in Figure 9.24(a). (a) Design the circuit with R2 = R4, R1 = R3, and such that the differential voltage gain is Ad = 50. For input voltages in the range of −50 mV to +50 mV, the maximum current in R2 is to be limited to 50 μA. (b) Using the results of part (a), what is the maximum current in R3? (Ans. (a) Set R2 = R4 = 100 k, then R1 = R2 = 2 k; (b) 0.49 μA) In the ideal difference amplifier, the output vO is zero when vI 1 = vI 2. However, an inspection of Equation (9.50(b)) shows that this condition is not satisfied if R4/R3 = R2/R1. When vI 1 = vI 2, the input is called a common-mode input signal. The common-mode input voltage is defined as vcm = (vI 1 + vI 2)/2 (9.56) The common-mode gain is then defined as = v A O cm (9.57) vcm Ideally, when a common-mode signal is applied, vO = 0 and Acm = 0. A nonzero common-mode gain maybe generated in actual op-amp circuits. This is discussed in Chapter 14. A figure of merit for a difference amplifier is the common-mode rejection ratio (CMRR), which is defined as the magnitude of the ratio of differential gain to common-mode∣∣ gain,∣∣ or CMRR = ∣∣ Ad ∣∣ (9.58) Acm Usually, the CMRR is e∣ = ∣∣∣ xpres∣∣sed in decibels, as follows: A CMRR(dB) 20 log d ∣ 10 ∣ (9.59) Acm Ideally, the common-mode rejection ratio is infinite. In an actual differential amplifier, we would like the common-mode rejection ratio to be as large as possible. EXAMPLE 9.7 Objective: Calculate the common-mode rejection ratio of a difference amplifier. Consider the difference amplifier shown in Figure 9.24(a). Let R2/R1 = 10 and R4/R3 = 11. Determine CMRR(dB). Solution: From Equ(ation (9.)50(b)), we have vO = + 11 (1 10) + vI 2 − (10)v 1 11 I 1 or vO = 10.0833vI 2 − 10vI 1 (9.60) The differential-mode input voltage is defined as vd = vI 2 − vI 1 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 649 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 649 and the common-mode input voltage is defined as vcm = (vI 1 + vI 2)/2 Combining these two equations produces = vd vI 1 vcm − (9.61(a)) 2 and vI 2 = vcm + vd (9.61(b)) 2 If we substitute Equa(tions (9.61(a)) and (9.61(b)) in Equation (9.60), we obtain = + v ) ( d v ) d vO (10.0833) vcm − (10) v 2 cm − 2 or vO = 10.042vd + 0.0833vcm (9.62) The output voltage is also vO = Advd + Acmvcm (9.63) If we compare Equations (9.62) and (9.63), we see that Ad = 10.042 and Acm = 0.0833 Therefore, from Equation (9(.59), the )common-mode rejection ratio, is = 10.042 CMRR(dB) 20 log10 = 41.6 dB 0.0833 Comment: For good differential amplifiers, typical CMRR values are in the range of 80–100 dB. This example shows how close the ratios R2/R1 and R4/R3 must be in order to achieve a CMRR value in that range. Computer Verification: A PSpice analysis was performed on the differential amplifier in this example with a μA-741 op-amp. For input voltages of vI 1 = −50 mV and vI 2 = +50 mV, the output voltage is vO = 1.0043 V, which gives a differential voltage gain of 10.043. For input voltages of vI 1 = vI 2 = 5 V, the output voltage is vO = 0.4153 V, which gives a common-mode voltage gain of Acm = 0.4153/5 = 0.0831. The common-mode rejection ratio is then CMRR = 10.043/0.0831 = 120.9 ⇒ 41.6 dB, which agrees with the hand analysis. This result demonstrates that at this point, the nonideal characteristics of the μA-741 op-amp do not affect these results. EXERCISE PROBLEM *Ex 9.7: In the difference amplifier shown in Figure 9.24(a), R1 = R3 = 10 k, R2 = 20 k, and R4 = 21 k. Determine vO when: (a) vI 1 = +1 V, vI 2 = −1 V; and (b) vI 1 = vI 2 = +1 V. (c) Determine the common-mode gain. (d) Determine the CMRR(dB). (Ans. (a) vO = −4.032 V, (b) vO = 0.0323 V, (c) Acm = 0.0323, (d) CMRR(db) = 35.9 dB) nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 650 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 650 Part 2 Analog Electronics 9.5.4 Instrumentation Amplifier We saw in the last section that it is difficult to obtain a high input impedance and a high gain in a difference amplifier with reasonable resistor values. One solution is to insert a voltage follower between each source and the corresponding input. However, a disadvantage of this design is that the gain of the amplifier cannot easily be changed. We would need to change two resistance values and still maintain equal ratios between R2/R1 and R4/R3. Optimally, we would like to be able to change the gain by changing only a single resistance value. The circuit in Figure 9.26, called an instrumentation amplifier, allows this flexibility. Note that two noninverting amplifiers, A1 and A2, are used as the input stage, and a difference amplifier, A3 is the second, or amplifying, stage. vI1 + vI1 + + A1 vO1 0 A1 vO1 = vI1 + i1R2 – – – R4 R 0 R 4 2 RR3 R3 2 – vI1 – vi – RA i I2 1 1 3 vO 1 = Av R 3 O + 1 i + R 1 2 R3 RR 3 1 R4 0 RR 2 4 – – – A2 vO2 0 A2 vO2 = vI2 vI2 + v + I2 + – i1R2 Figure 9.26 Instrumentation amplifier Figure 9.27 Voltages and currents in instrumentation amplifier We begin the analysis using the virtual short concept. The voltages at the inverting terminals of the voltage followers are equal to the input voltages. The currents and voltages in the amplifier are shown in Figure 9.27. The current in resistor R1 is then i = vI 1 − vI 2 1 (9.64) R1 The current in resistors R2 is also i1, as shown in the figure, and the output voltages of op-amps A1 and A2 are,( respectiv)ely, R2 vO1 = vI 1 + i1 R2 = 1 + vI 1 − R2 vI 2 (9.65(a)) R1 R1 and ( ) = R2 R2 vO2 vI 2 − i1 R2 = 1 + vI 2 − vI 1 (9.65(b)) R1 R1 From previous results, the output of the difference amplifier is given as = R4 vO (vO2 − vO1) (9.66) R3 Substituting Equations (9.65(a)) and (9.65(b)) into Equation (9.66), we find the output voltage, as( follows: ) = R4 + 2R 1 2 vO (v − v RR I 2 I 1) (9.67) 3 1 nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 651 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 651 Since the input signal voltages are applied directly to the noninverting terminals of A1 and A2, the input impedance is very large, ideally infinite, which is one desirable characteristic of the instrumentation amplifier. Also, the differential gain is a function of resistor R1, which can easily be varied by using a potentiometer, thus providing a variable amplifier gain with the adjustment of only one resistance. EXAMPLE 9.8 R1f Objective: Determine the range required for resistor R1, to realize a differential gain R adjustable from 5 to 500. 1 100 kΩ R The instrumentation amplifier circuit is shown in Figure 9.26. Assume that 1v = pot R4 2R3, so that the difference amplifier gain is 2. Solution: Assume that resistance R1 is a combination of a fixed resistance R1f and a variable resistance R1v , as shown in Figure 9.28. The fixed resistance ensures that the Figure 9.28 Equivalent gain is limited to a maximum value, even if the variable resistance is set equal to resistance R1 in zero. Assume the variable resistance is a 100 k potentiometer. instrumentation amplifier From Eq(uation (9.6)7), the maximum differential gain is = + 2R 500 2 1 2 R1 f and the mi(nimum differenti)al gain is 5 = 2 1 + 2R2 R1 f + 100 From the maximum gain expression, we find that 2R2 = 249R1 f Substituting this R2 value into the minimum gain expression, we have = 2R 1 5 2 . = 249R1 f R1 f + 100 R1 f + 100 The resulting value of R1 f is R1 f = 0.606 k, which yields R2 = 75.5 k. Comment: We can select standard resistance values that are close to the values calculated, and the range of the gain will be approximately in the desired range. Design Pointer: An amplifier with a wide range of gain and designed with a potentiometer would normally not be used with standard integrated circuits in electronic systems. However, such a circuit might be very useful in specialized test equipment. EXERCISE PROBLEM Ex 9.8: For the instrumentation amplifier in Figure 9.26, the parameters are R4 = 90 k, R3 = 30 k, and R2 = 50 k. Resistance R1 is a series combination of a fixed 2 k resistor and a 100 k potentiometer. (a) Determine the range of the differential voltage gain. (b) Determine the maximum current in R1 for input voltages in the range −25 mV to +25 mV. (Ans. (a) 5.94 ≤ Ad ≤ 153, (b) 25 μA) nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 652 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 652 Part 2 Analog Electronics 9.5.5 Integrator and Differentiator In the op-amp circuits previously considered, the elements exterior to the op-amp have been resistors. Other elements can be used, with differing results. Figure 9.29 shows a generalized inverting amplifier for which the voltage transfer function has the same general form as before, that is, vO = − Z2 (9.68) vI Z1 where Z1 and Z2 are generalized impedances. Two special circuits can be developed from this generalized inverting amplifier. Z2 0 vI Z1 – v1 = 0 vO v = 0 + 2 Figure 9.29 Generalized inverting amplifier In the first, Z1 corresponds to a resistor and Z2 to a capacitor. The impedances are then Z1 = R1 and Z2 = 1/sC2, wheres again is the complex frequency. The output voltage is vO = − Z2 −1 v ZI = v (9.69) 1 s RI 1C2 Equation (9.69) represents integration in the time domain. If VC is the voltage across the capacitor at t∫= 0, the output voltage is t vO = VC − 1 vI (t ′) dt ′ (9.70) R1C2 0 where t ′ is the variable of integration. Figure 9.30 summarizes these results. C2 – vC + R1 vI – V – 1 t vO = C v (t') dt' R1C ∫ I + 2 O Figure 9.30 Op-amp integrator Equation (9.70) is the output response of the integrator circuit, shown in Figure 9.30, for any input voltage vI . Note that if vI (t) is a finite step function, output vO will be a linear function of time. The output vO will be a ramp function and will eventually saturate at a voltage near either the positive or negative supply voltage. We will use the integrator in filter circuits, which are covered in Chapter 15. We will show in Chapter 14 that nonzero bias currents into the op-amp greatly influence the characteristics of this circuit. A dc current through the capacitor will cause the output voltage to linearly change with time until the positive or negative nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 653 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 653 R2 C1 vI – vO + Figure 9.31 Op-amp differentiator supply voltage is reached. In many applications, a transistor switch needs to be added in parallel with the capacitor to periodically set the capacitor voltage to zero. The second generalized inverting op-amp uses a capacitor for Z1 and a resistor for Z2, as shown in Figure 9.31. The impedances are Z1 = 1/sC1 and Z2 = R2, and the voltage transfer function is vO = − Z2 = −s R2C1 (9.71(a)) vI Z1 The output voltage is vO = −s R2C1vI (9.71(b)) Equation (9.71(b)) represents differentiation in the time domain, as follows: dv (t) vO(t) = −R2CI 1 (9.72) dt The circuit in Figure 9.31 is therefore a differentiator. Differentiator circuits are more susceptible to noise than are the integrator circuits. Input noise fluctuations of small amplitudes may have large derivatives. When differentiated, these noise fluctuations may generate large noise signals at the output, creating a poor output signal to noise ratio. This problem maybe alleviated by placing a resistor in series with the input capacitor. This modified circuit then differentiates low-frequency signals but has a constant high-frequency gain. EXAMPLE 9.9 Objective: Determine the time constant required in an integrator. Consider the integrator shown in Figure 9.30. Assume that voltage VC across the capacitor is zero at t = 0. A step input voltage of vI = −1 V is applied at t = 0. Determine the time constant required such that the output reaches +10 Vat t = 1 ms. Solution: From ∫Equation (9.70), we ha∣∣ve −1 t 1 t t vo = (−1) dt ′ = t ′∣ = R1C2 0 R1C ∣ 2 0 R1C2 At t = 1 ms, we want vO = 10 V. Therefore, −3 10 = 10 R1C2 which means the time constant is R1C2 = 0.1 ms. Comment: As an example, for a time constant of 0.1 ms, we could have R1 = 10 k and C2 = 0.01 μF, which are reasonable values of resistance and capacitance. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 654 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 654 Part 2 Analog Electronics EXERCISE PROBLEM Ex 9.9: An integrator with input and output voltages that are zero at t = 0 is driven by the input signal shown in Figure 9.32. (a) For circuit parameters R1 = 10 k and C2 = 0.1 μF, determine the output voltage at t = (i) 1 ms, (ii) 2 ms, (iii) 3 ms, and (iv) 4 ms. (b) Repeat part (a) for circuit parameters R1 = 10 k and C2 = 1 μF. (Ans. (a) (i) −1 V, (ii) 0, (iii) −1 V, (iv) 0; (b) (i) −0.1 V, (ii) 0, (iii) −0.1 V, (iv) 0) vI (V) 1 1 2 3 4 t (ms) –1 Figure 9.32 Figure for Exercise Ex 9.9 9.5.6 Nonlinear Circuit Applications Up to this point in the chapter, we have used linear passive elements in conjunction with the op-amp. Many useful circuits can be fabricated if nonlinear elements, such as diodes or transistors, are used in the op-amp circuits. We will consider three simple examples to illustrate the types of nonlinear characteristics that can be generated and to illustrate the general analysis technique. Precision Half-Wave Rectifier An op-amp and diode are combined as shown in Figure 9.33 to form a precision half- wave rectifier. For vI > 0, the circuit behaves as a voltage follower. The output voltage is vO = vI , the load current iL is positive, and a positive diode current is induced such that iD = iL . The feedback loop is closed through the forward-biased diode. The output voltage of the op-amp, vO1, adjusts itself to exactly absorb the forward voltage drop of the diode. For vI < 0, the output voltage tends to go negative, which tends to produce negative load and diode currents. However, a negative diode current cannot exist, so the diode cuts off, the feedback loop is broken, and vO = 0. The voltage transfer characteristics are shown in Figure 9.34. The rectification is precise in that, even at small positive input voltages, vO = vI and we do not observe a diode cut-in voltage. vO iD – vO v + vO Slope = 1 I 1 iL RL vI Figure 9.33 Precision half-wave Figure 9.34 Voltage transfer characteristics of rectifier circuit precision half-wave rectifier nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 655 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 655 A potential problem in this circuit exists for vI < 0. The feedback loop is broken so that the op-amp output voltage vO1 will saturate near the negative supply voltage. When vI switches positive, it will take time for the internal circuit to recover, so the response time of the output voltage maybe relatively slow. In addition, for vI < 0 and vO = 0, there is now a voltage difference applied across the input terminals of the op-amp. Most op-amps provide input voltage protection so the op-amp will not be damaged in this case. However, if the op-amp does not have input protection, the op-amp maybe damaged if the input voltage is larger than 5 or 6 V. Log Amplifier Consider the circuit in Figure 9.35. The diode is to be forward biased, so the input signal voltage is limited to positive values. The diode current is i = I (evD/VT D S − 1) (9.73(a)) If the diode is sufficiently forward biased, the (−1) term is negligible, and iD =∼ I vD/VT Se (9.73(b)) The input current can be written i1 = vI (9.74) R1 and the output voltage, since v1 is at virtual ground, is given by vO = −vD (9.75) Noting that i1 = iD , we can write i = vI = i = I e−vO/VT 1 D S (9.76) R1 If (we take) the natural log of both sides of this equation, we obtain v ln I = −vO (9.77(a)) IS R1 VT or ( ) v vO = −V ln IT (9.77(b)) IS R1 + vD – D1 iD R1 0 vI – v1 = 0 vi O 1 v2 = 0 + Figure 9.35 Simple log amplifier Equation (9.77(b)) indicates that, for this circuit, the output voltage is proportional to the log of the input voltage. One disadvantage of this circuit is that the reverse- saturation current IS is a strong function of temperature, and it varies substantially from one diode to another. A more sophisticated circuit uses bipolar transistors to eliminate the IS parameter in the log term. This circuit will not be considered here. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 656 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 656 Part 2 Analog Electronics Antilog or Exponential Amplifier The complement, or inverse function, of the log amplifier is the antilog, or exponential, amplifier. A simple example using a diode is shown in Figure 9.36. Since v1 is at virtual ground, we can write for vI > 0 i ∼= I evI /VT D S (9.78) and vO = −i2 R = −iD R (9.79(a)) or vO = −IS R · evI /VT (9.79(b)) R i2 vI – v1 = 0 vi OD + Figure 9.36 A simple antilog, or exponential, amplifier The output voltage is an exponential function of the input voltage. Again, there are more sophisticated circuits that perform this function, but they will not be considered here. Test Your Understanding TYU 9.9 A current source has an output impedance of RS = 100 k. Design a current-to-voltage converter with an output voltage of vO = −10 V when the signal current is iS = 100 μA. (Ans. Figure 9.20 with RF = 100 k) TYU 9.10 Design the voltage-to-current converter shown in Figure 9.22 such that the load current in a 500  load can be varied between 0 and l mA with an input voltage between 0 and −5 V. Assume the op-amp is biased at ±10 V. (Ans. R2 = 5 k; for example, let R3 = 7 k, R1 = 10 k, RF = 14 k) TYU 9.11 All parameters associated with the instrumentation amplifier in Figure 9.26 areas given in Exercise Ex 9.8, except that resistor R2 associated with the A1 op-amp is R2 = 50 k ± 5%. (a) Determine the maximum and minimum possible values of the common-mode gain. (b) Determine the maximum and minimum possible values of the differential-mode gain. (c) Determine the minimum CMRR(dB). (Ans. (a) Acm = 0; (b) Ad(min) = 5.87, Ad(max) = 156.75; (c) CMRR = ∞) TYU 9.12 Design the instrumentation amplifier in Figure 9.26 such that the variable differential voltage gain is in the range of 5 to 500. The range of the input voltages is between −2 mV and +2 mV, and the maximum current in R1 is to be limited to 2 μA. Set the gain of the difference amplifier to 2.5. (Ans. R1(fixed) = 2 k, R2 = 199 k, R1(var) = 396 k) TYU 9.13 An integrator is driven by the series of pulses shown in Figure 9.37. At the end of the tenth pulse, the output voltage is to be vO = −5 V. Assume VC = 0 at t = 0. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 657 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 657 vI (V) 1 1 2 . . . 10 10 ms t Figure 9.37 Figure for Exercise TYU 9.13 Determine the time constant and values of R1 and C2 that will meet these specifications. (Ans. τ = 20 μs; for example, let C2 = 0.01 μF, R1 = 2 k) 9.6 OPERATIONAL TRANSCONDUCTANCE AMPLIFIERS Objective: • Discuss the operational transconductance amplifier. The operational amplifiers considered up to this point have been voltage amplifiers. The input signal is a voltage and the output signal is a voltage. Another type of op-amp is an operational transconductance amplifier (OTA). This op-amp is a voltage-input, current-output amplifier. Its circuit symbol is shown in Figure 9.38(a) and the equivalent circuit model is given in Figure 9.38(b). For the ideal OTA, both the input and output impedance is infinite. (The output impedance of an ideal current source is infinite.) The output current for the ideal circuit can be written as iO = gmvd (9.80) where gm is called the unloaded transconductance, with units of amperes per volt. The transconductance can be varied by changing the control current in the op-amp circuit. The OTA can then be used to electronically program functions. vC R icont + + + io + vd vd – – gmvd – – io (a) (b) Figure 9.38 (a) Circuit symbol of the OTA. (b) Equivalent circuit model of the OTA. We will see examples of actual OTA circuits in Chapter 13. One example of an OTA application is shown in Figure 9.39. This circuit is a simple voltage-controlled amplifier. The output op-amp is configured as a current-to- voltage converter. We see that vO = −iO RF = −iO(25 k) (9.81)"
9.6 Operational Transconductance Amplifiers,"9.6 OPERATIONAL TRANSCONDUCTANCE AMPLIFIERS Objective: • Discuss the operational transconductance amplifier. The operational amplifiers considered up to this point have been voltage amplifiers. The input signal is a voltage and the output signal is a voltage. Another type of op-amp is an operational transconductance amplifier (OTA). This op-amp is a voltage-input, current-output amplifier. Its circuit symbol is shown in Figure 9.38(a) and the equivalent circuit model is given in Figure 9.38(b). For the ideal OTA, both the input and output impedance is infinite. (The output impedance of an ideal current source is infinite.) The output current for the ideal circuit can be written as iO = gmvd (9.80) where gm is called the unloaded transconductance, with units of amperes per volt. The transconductance can be varied by changing the control current in the op-amp circuit. The OTA can then be used to electronically program functions. vC R icont + + + io + vd vd – – gmvd – – io (a) (b) Figure 9.38 (a) Circuit symbol of the OTA. (b) Equivalent circuit model of the OTA. We will see examples of actual OTA circuits in Chapter 13. One example of an OTA application is shown in Figure 9.39. This circuit is a simple voltage-controlled amplifier. The output op-amp is configured as a current-to- voltage converter. We see that vO = −iO RF = −iO(25 k) (9.81) nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 658 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 658 Part 2 Analog Electronics vC RF = 25 kΩ 33 kΩ 25 kΩ icont vI + – + vd vO g v 470 Ω – m d i – O + Figure 9.39 Example of a voltage-controlled voltage amplifier using an OTA and iO = gmvd (9.82) where vd = 470 + · v = 0.014v 470 33 000 II (9.83) , From the OTA circuit, we have i g cont m = (9.84) 2VT where VT = 0.026 Vat room temperature. The control current is given by = vi C cont (9.85) 25 k where vC maybe in the range 2 ≤ vC ≤ 10 V. The transconductance of the transconductance operational amplifier is controlled by the control voltage vC . Combining equations, we can write the voltage gain as Av = vO = 0.269vC (9.86) vI The amplifier shown in Figure 9.39 is then a voltage-controlled voltage amplifier. The amplification factor is a function of the control voltage vC .This circuit can be used as an amplitude modulator. The vI input maybe the carrier signal and the vC input maybe the audio signal. OTAs can also be used to design voltage-controlled filters and voltage- controlled oscillators. 9.7 OP-AMP CIRCUIT DESIGN Objective: • Design several ideal op-amp circuits with given design specifications. Up to this point, we have mainly been concerned with analyzing ideal op-amp circuits and designing a few basic op-amp circuits. In this section, we will design three specific op-amp circuits. We will assume that these circuits will be fabricated as integrated circuits so that we are not limited to standard resistor values."
9.7 Op-Amp Circuit Design,"9.7 OP-AMP CIRCUIT DESIGN Objective: • Design several ideal op-amp circuits with given design specifications. Up to this point, we have mainly been concerned with analyzing ideal op-amp circuits and designing a few basic op-amp circuits. In this section, we will design three specific op-amp circuits. We will assume that these circuits will be fabricated as integrated circuits so that we are not limited to standard resistor values. nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 659 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 659 9.7.1 Summing Op-Amp Circuit Design In an inverting summing op-amp, each input is connected to the inverting terminal through a resistor. The summing op-amp can be designed such that the output is vO = −a1vI 1 − a2vI 2 + a3vI 3 + a4vI 4 (9.87) where the coefficients ai are all positive. In one design, we could apply voltages vI 3 and vI 4 to inverter amplifiers and use the summing op-amp considered previously. This design would require three such op-amps. Alternatively, we could use there- sults of Exercise TYU 9.8 to design a summing circuit that uses only one op-amp and is more versatile. Consider the circuit shown in Figure 9.40. Resistor RC provides more versatility in the design. When we consider nonideal effects, such as bias currents, in op-circuits, in Chapter 14, we will impose a design constraint on the relationship between the resistors connected to the inverting and noninverting terminals. In this section, we will continue to use the ideal op-amp. RR 1 F vI1 R2 v v 1 I2 – vv2 vO v 2 I3 + RA vI4 RR BC Figure 9.40 Generalized op-amp summing amplifier To determine the output voltage of our circuit, we use superposition. The inputs vI 1 and vI 2 produce the usual outputs, as follows: = − RF vO(vI 1) v RI 1 (9.88(a)) 1 and vO(vI 2) = − RF vI 2 (9.88(b)) R2 We then determine the output due to vI 3, with all other inputs set equal to zero. We can write RB‖RC v2(vI 3) = + ‖ vI 3 = v1(vI 3) (9.89) RA RB Rc Since vI 1 = vI 2 = 0, the voltage v2(vI 3) is the input to a noninverting op-amp with R1 and R2 in parallel. Then, ( ) ( )( ) = + RF = + RF RB‖RC vO(vI 3) 1 ‖ v1(vI 3) 1 v (9.90) R1 R2 R1‖R2 RA + RB‖RI 3 C nea80644_ch09_619-686.qxd 6/19/09 4:25 AM Page 660 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 660 Part 2 Analog Electronics which can be re(arranged a)s( follo)ws: = + RF R 1 P vO(vI 3) vI 3 (9.91) RN RA Here, we define RN = R1‖R2 (9.92(a)) and RP = RA‖RB‖RC (9.92(b)) The output volta(ge due to) v(I 4 is s)imilarly determined and is = + R 1 F RP vO(vI 4) vI 4 (9.93) RN RB The total output voltage is th(en the sum) [of the individual te]rms, or = − RF − RF vO vI 1 vI 2 + 1 + RF RP RP vI 3 + vI 4 (9.94) R1 R2 RN RA RB This form of the output voltage is the same as the desired output given by Equation (9.87). DESIGN EXAMPLE 9.10 Objective: Design a summing op-amp to produce the output vO = −10vI 1 − 4vI 2 + 5vI 3 + 2vI 4 The smallest resistor value allowable is 20 k. Consider the circuit in Figure 9.40. Solution: First we determine the values of resistors R1, R2, and RF , and then we can determine the noninverting terms. We know that RF = R 10 and F = 4 R1 R2 Resistor R1 will be the smallest value, so we can set R1 = 20 k. Then, RF = 200 k and R2 = 50 k The (multiplying fa)ctor (in the noninv)erting terms becomes 1 + RF ‖ = + 200 1 = 15 R1 R2 20‖50 Wet(hen n)eed ( ) R 15 P RP ( ) = 5 and (15) = 2 RA RB If we take the ratio of these two expressions, we have RB = 5 RA 2 nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 661 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 661 If we choose RA = 80 k, then RB = 200 k, RP = 26.67 k, and RC becomes RC = 50 k. Comment: We could change the number of inputs to either the inverting or noninverting terminal, depending on the desired output versus input voltage response. EXERCISE PROBLEM Ex 9.10: Consider the summing op-amp in Figure 9.40. Let RF = 80 k, R1 = 40 k, R2 = 20 k, RA = RB = 50 k, and RC = 100 k. (a) Determine the output voltage in terms of the input voltages. (b) Determine vO for (i) vI 1 = 0.1 V, vI 2 = 0.15 V, vI 3 = 0.2 V, vI 4 = 0.3 V; and for (ii) vI 1 = −0.2 V, vI 2 = 0.25 V, vI 3 = −0.1 V, vI 4 = 0.2 V. (Ans. (a) vO = −2vI 1 − 4vI 2 + 2.8vI 3 + 2.8vI 4; (b) (i) vO = 0.6 V, (ii) vO = −0.32 V) 9.7.2 Reference Voltage Source Design In Chapter 2, we discussed the use of Zener diodes to provide a constant or reference voltage source. A limitation, however, was that the reference voltage could never be greater than the Zener voltage. Now, we can combine a Zener diode with an op-amp to provide more flexibility in the design of reference voltage sources. Consider the circuit shown in Figure 9.41. Voltage source VS and resistor RS bias the Zener diode in the breakdown region. The op-amp is then used as a noninverting amp(lifier. Th)e output voltage is = + RV 1 2 O VZ (9.95) R1 The output current to the load circuit is supplied by the op-amp. A change in the load current will not produce a change in the Zener diode current; consequently, voltage regulation is much improved compared to the simple Zener diode voltage source previously considered. Since the incremental Zener resistance is not zero, the Zener diode voltage is a slight function of the diode current. The circuit shown in Figure 9.42 is less affected by variations in VS , since VS is used only to startup the circuit. The Zener diode begins to conduct when R4 ∼ R3 + VS > VZ + V = V RD Z + 0.7 (9.96) 4 R1 R2 VS R – 2 R3 v2 VO VS + RS R1 D1 – RF V R O 4 + I + + F VZ VZ – – Figure 9.41 Simple op-amp voltage reference circuit Figure 9.42 Op-amp voltage reference circuit nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 662 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 662 Part 2 Analog Electronics At this spec(ific volta)ge, we have RV 2 O = 1 + VZ (9.97) R1 and = VO − VZ = RI 2VZ F (9.98) RF R1 RF If VS decreases and diode D1 becomes reverse biased, the Zener diode continues to conduct; the Zener diode current is then constant. However, if diode D1 is conducting, the circuit can be designed such that variations in Zener diode current will be small. DESIGN EXAMPLE 9.11 Objective: Design a voltage reference source with an output of 10.0 V. Use a Zener diode with a breakdown voltage of 5.6 V. Assume the voltage regulation will be within specifications if the Zener diode is biased between 1–1.2 mA. Solution: C(onsider t)he circuit shown in Figure 9.42. For this example, we need VO = + R2 = 10.0 1 VZ R1 5.6 Therefore, R2 = 0.786 R1 We know that = VO − VI Z F RF If we set IF equal to the minimum bias current, we have = 10 − 5.6 1 mA RF which means that RF = 4.4 k. If we choose R2 = 30 k, then R1 = 38.17 k. Resistors R3 and R4 can be determined from Figure 9.43. The maximum Zener current supplied by VS , R3, and R4 should be no more than 0.2 mA. We set the current through D1 equal to 0.2 mA, for VS = 10 V. We then have V ′ 2 = VZ + 0.7 = 5.6 + 0.7 = 6.3 V Also, V ′ 6.3 I4 = 2 = R4 R4 R3 V ′ D 2 1 VS VZ = 5.6 VI3 ID1 + I4 R4 VZ – Figure 9.43 Input circuit of the op-amp voltage reference circuit nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 663 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 663 and V − V ′ 10 − 6.3 3.7 IS 2 3 = = = R3 R3 R3 If we set I4 = 0.2 mA, then I3 = 0.4 mA R3 = 9.25 k R4 = 31.5 k Comment: Voltage VS is used as a startup source. Once the Zener diode is biased in breakdown, the output will be maintained at 10.0 V, even if VS is reduced to zero. EXERCISE PROBLEM Ex 9.11: Consider the op-amp voltage reference circuit in Figure 9.42 with parameters given in Example 9.11. Initially set VS = 10 V and then plot, using PSpice, vO and IF versus VS as VS decreases from 10 to 0 V. Bias the op-amp at ±15 V. 9.7.3 Difference Amplifier and Bridge Circuit Design A transducer is a device that transforms one form of energy into another form. One type of transducer uses nonelectrical inputs to produce electrical outputs. For example, a microphone converts acoustical energy into electrical energy. A pressure transducer is a device in which, for example, a resistance is a function of pressure, so that pressure can be converted to an electrical signal. Often, the output characteristics of these transducers are measured with a bridge circuit. Figure 9.44 shows a bridge circuit. Resistance R3 represents the transducer, and V + parameter δ is the deviation of R3 from R2 due to the input response of the transducer. The output [voltage vO1 is a measure of δ. ]If vO1 is an open-circuit voltage, then R1 R1 = R2(1 + δ) vO1 + + − R2 + R (1 δ) RR + V (9.99) v R + O1 – 2 1 1 2 which reduce(s to ) R3 = R2(1 + d ) R2 vO1 = R1‖R2 δ V + (9.100) R1 + R2 Figure 9.44 Bridge circuit Since neither side of voltage vO1 is at ground potential, we must connect vO1 to an instrumentation amplifier. In addition, vO1 is directly proportional to supply voltage V +; therefore, this bias should be a well-defined voltage reference. DESIGN EXAMPLE 9.12 Objective: Design an amplifier system that will produce an output voltage of ±5 V when the resistance R3 deviates by ±1% from the value of R2. This would occur, for example, in as[ystem where R3 is a ther]mistor whose resistance is given by = + (0.040)(T − 300) R3 200 1 k 300 nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 664 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 664 Part 2 Analog Electronics where T is the absolute temperature. For R3 to vary by ±1% means the temperature is in the range 225 ≤ T ≤ 375 K. Consider biasing the bridge circuit at V + = 7.5 V using a 5.6 V Zener diode. Assume ±10 V is available for biasing the op-amp and reference voltage source, and that R1 = R2 = 200 k. Solution: W(ith) R1 = R2, from Equation (9.100), we have δ v + O1 = V 4 For V + = 7.5 V and δ = 0.01, the maximum output of the bridge circuit is vO1 = 0.01875 V. If the output of the amplifier system is to be +5 V, the gain of the instrumentation amplifier must be 5/0.01875 = 266.7. Consider the instrumentation amplifier shown in Figure 9.26. The output voltage is given by Equation (9.67), which can be written v R′ ( ′ ) O = 4 2R2 ′ 1 + ′ = 266.7 vO1 R3 R1 We would like the ratios R′ /R′ 4 3 and R′ /R′ 2 1 to be the same order of magnitude. If we let R′ 3 = 15.0 k and R′ 4 = 187.0 k, then R′ 4/R′ 3 = 12.467 and R′ 2/R′ 1 = 10.195. If we set R′ = 200.0 k, then R′ 2 1 = 19.62 k. Resistance R′ 1 can be a combination of a fixed resistance in series with a potentiometer, to permit adjustment of the gain. Comment: The complete design of this instrumentation amplifier is shown in Figure 9.45. Correlation of the reference voltage source design is left as an exercise. Design Pointer: The design of fairly sophisticated op-amp circuits is quite straightforward when the ideal op-amp parameters are used. R ″ 1 = 200.0 kΩ R″ 2 = 67.86 kΩ – R″ 3 = 74 kΩ VS = 10 V + D1 ″ ″ R = 252 kΩ RF = 7.6 kΩ 4 iF = 0.25 mA + vZ = 5.6 V + – – R ′ 4 = 187 kΩ R1 = 200 kΩ R1 = 200 kΩ ′ R ′ Ω R3 = 15 kΩ 2 = 200 k – + vO1 – R ′ 1 = 19.62 kΩ vO + R ′ 2 = 200 kΩ ′ R3 = 200(1 + d ) kΩ R2 = 200 kΩ R3 = 15 kΩ R ′ 4 = 187 kΩ – + Figure 9.45 Complete amplifier system nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 665 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 665 Test Your Understanding TYU 9.14 Consider the bridge circuit in Figure 9.46. The resistance is R = 20 k and the variable resistance R ranges between −100  and +100 . The circuit is biased at V + = 5 V. (a) Find vO1 as a function of R. (b) Design an amplifier system such that the output is −3 V when R = −100 . (Ans. (a) |vO1| = 2.5 × 10−4(R). (b) For an instrumentation amplifier, let R4/R3 = 10 and R2/R1 = 5.5) V + V + R + ΔR R – ΔR RR(1 + d ) + vO1 – + vO1 – R – ΔR R + ΔR RR Figure 9.46 Figure for Exercise TYU 9.14 Figure 9.47 Figure for Exercise TYU 9.15 TYU 9.15 The resistance R in the bridge circuit in Figure 9.47 is 50 k. The circuit is biased at V + = 3 V. (a) Find vO1 as a function of δ. (b) Design an amplifier system such that the output varies between +3 V and −3 V as the parameter δ varies between +0.025 and −0.025. (Ans. (a) vO ∼ 1 = 0.75δ. (b) For an instrumentation amplifier, let R4/R3 = 10 and R2/R1 = 7.5) 9.8 DESIGN APPLICATION: ELECTRONIC THERMOMETER WITH AN INSTRUMENTATION AMPLIFIER Objective: • Design an electronic thermometer with an instrumentation amplifier to provide the necessary amplification. Specifications: The temperature range to be measured is 0 to 100 ◦F. The output voltage is to be in the range of 0 to 5 V with 0 V corresponding to 0 ◦F and 5 V corresponding to 100 ◦F. Design Approach: In Chapter 1, we began a design of an electronic thermometer using the temperature characteristics of a pn junction diode. Here, we expand on that design. Figure 9.48(a) shows a circuit with two diodes, each biased with a constant current source. Figure 9.48(b) shows the same circuit, but with the constant current sources implemented with transistor circuits. The current source circuits were briefly"
9.8 Design Application: Electronic Thermometer with an Instrumentation Amplifier,"9.8 DESIGN APPLICATION: ELECTRONIC THERMOMETER WITH AN INSTRUMENTATION AMPLIFIER Objective: • Design an electronic thermometer with an instrumentation amplifier to provide the necessary amplification. Specifications: The temperature range to be measured is 0 to 100 ◦F. The output voltage is to be in the range of 0 to 5 V with 0 V corresponding to 0 ◦F and 5 V corresponding to 100 ◦F. Design Approach: In Chapter 1, we began a design of an electronic thermometer using the temperature characteristics of a pn junction diode. Here, we expand on that design. Figure 9.48(a) shows a circuit with two diodes, each biased with a constant current source. Figure 9.48(b) shows the same circuit, but with the constant current sources implemented with transistor circuits. The current source circuits were briefly nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 666 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 666 Part 2 Analog Electronics V + V + II Q1 Q 1 2 2 Q4 Q3 + – VI AT REF1 I1 II + V – 2 REF2 AT + + RR VD D 1 D 1 2 VD + + 2 1 2 – – D1 VD1 VD2 D2 – – (a) (b) Figure 9.48 (a) Two diodes biased with constant current sources. (b) The same circuit with the constant current sources implemented with transistor circuits. described and analyzed in Chapter 5. The two diodes, D1 and D2, are assumed to be matched or identical devices. We also assume that all transistors are matched. Neglecting base currents, we have I1 = IREF1 and I2 = IREF2. Choices: Ideal matched silicon diodes and bipolar transistors are available. In addition, ideal op-amps are available. Solution (Diodes): From Chapter 1, we can write the voltage drops across each diode as ( ) I VD1 = VT ln 1 (9.101(a)) IS and ( ) I VD2 = VT ln 2 (9.101(b)) IS We may note that, since the two diodes are matched, the reverse-saturation current, IS , is the same in the two expressions. The output voltage is defined as the difference between the voltages across the two diodes, or [ ( ) ( )] VAT = VD1 − VD2 = II VT ln 1 − ln 2 (9.102(a)) IS IS or ( ) ( ) I kT I VAT = V ln 1 = ln REF 1 T (9.102(b)) I2 e IREF 2 The output voltage, VAT , is now directly proportional to absolute temperature T, hence the subscript AT. If we let IREF1/I(REF2 =)5, then Equation (9.102(b)) can be written as VAT = T (0.0259) ln(5) = (1.3895 × 10−4)T (9.103) 300 nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 667 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 667 Letting IREF1/IREF2 > 0 provides a small amount of gain. Converting absolute temperature to degrees Celsius and then to degrees Fahrenheit, we find T = TC + 273.15 (9.104) and ( ) 9 5 TF = 32 + TC ⇒ TC = (TF − 32) (9.105) 5 9 where TC and TF are temperatures in degrees Celsius and degrees Fahrenheit, respectively. Combining Equ(atio)ns (9.104) and (9.105), we obtain 5 5 T = (TF − 32) + 273.15 = TF + 255.37 (9.106) 9 9 The output voltage from Equ(ation (9.103) can) now be written as 5 VAT = (1.3895 × 10−4) T 9 F + 255.37 = (7.719 × 10−5)TF + 3.5484 × 10−2 (9.107) Solution (Instrumentation Amplifier): Since neither terminal of the output voltage is at ground potential, we can apply this voltage to an instrumentation amplifier to obtain a voltage gain. The output of the instrumentation amplifier will be applied to a summing amplifier in addition to an offset voltage. The objective of the design is to obtain an output voltage of zero volts at TF = 0 and an output voltage of 5 Vat T = 100 ◦ FF. If the gain of the instrumentation amplifier is A = −129.55, then the output of the instrumentation amplifier is as follows: TF VAT VO1 0 0.035484 −4.5970 100 0.043203 −5.5970 Solution (Output Stage): The offset voltage can be generated by using the noninverting op-amp circuit with a Zener diode, as shown in Figure 9.49. If we use a Zener diode with a breakdown voltage of 3.60 V and if we set R3/R4 = 0.277, then the output voltage is VO2 = +4.597 V. Applying the output voltage of the instrumentation amplifier, VO1, and the offset voltage, VO2, to a summing amplifier with again of −5 as shown in Figure 9.49, we achieve the desired specifications. That is VO = 0 at TF = 0 and VO = 5 Vat TF = 100 ◦F. Comment: The primary advantage of this system is that the output voltage is a linear function of temperature. In Chapter 16, we can apply the analog output voltage VO to an A/D converter and use a seven-segment display so that the output signal is actually displayed in terms of degrees Fahrenheit. nea80644_ch09_619-686.qxd 6/19/09 3:59 PM Page 668 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-09 Folder:MHDQ134-09 668 Part 2 Analog Electronics Instrumentation + amplifier 5 R VAT VO1 – A = –129.55 R – VO + V + RR3 RR4 REF – VO2 + + 3.60 V – Figure 9.49 The output voltage VAT applied to an instrumentation amplifier, an offset voltage generated by a Zener diode and a noninverting amplifier, and the final output voltage obtained from a summing amplifier 9.9 SUMMARY • In this chapter, we considered the ideal operational amplifier (op-amp) and various op-amp applications. The op-amp is a three-terminal device (three signal terminals) that ideally amplifies only the difference between two input signals. The op-amp, then, is a high-gain differential amplifier. • The ideal op-amp model has infinite input impedance (zero input bias currents), infinite open-loop differential voltage gain (zero voltage between the two input terminals), and zero output impedance. • Two basic op-amp circuits are the inverting amplifier and the noninverting amplifier. For an ideal op-amp, the voltage gain of these circuits is just a function of the ratio of resistors. • Other amplifier configurations considered were the summing amplifier, voltage follower, current-to-voltage converter, and voltage-to-current converter. • A versatile circuit is the instrumentation amplifier. The input resistance is essentially infinite and the amplifier gain can be varied by changing a single resistor value. • If a capacitor is included as a feedback element, the output voltage is the integral of the input voltage. If a capacitor is included as an input element, the output voltage is the derivative of the input voltage. Nonlinear feedback elements, such as diodes or transistors, produce nonlinear transfer functions such as a logarithmic function. • As an application, an electronic thermometer in conjunction with an instrumentation amplifier was designed to yield a given amplification. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Describe the characteristics of an ideal op-amp. ✓ Analyze various op-amp circuits using the ideal op-amp model. ✓ Analyze various op-amp circuits, taking into account the finite gain of the op-amp."
9.9 Summary,"9.9 SUMMARY • In this chapter, we considered the ideal operational amplifier (op-amp) and various op-amp applications. The op-amp is a three-terminal device (three signal terminals) that ideally amplifies only the difference between two input signals. The op-amp, then, is a high-gain differential amplifier. • The ideal op-amp model has infinite input impedance (zero input bias currents), infinite open-loop differential voltage gain (zero voltage between the two input terminals), and zero output impedance. • Two basic op-amp circuits are the inverting amplifier and the noninverting amplifier. For an ideal op-amp, the voltage gain of these circuits is just a function of the ratio of resistors. • Other amplifier configurations considered were the summing amplifier, voltage follower, current-to-voltage converter, and voltage-to-current converter. • A versatile circuit is the instrumentation amplifier. The input resistance is essentially infinite and the amplifier gain can be varied by changing a single resistor value. • If a capacitor is included as a feedback element, the output voltage is the integral of the input voltage. If a capacitor is included as an input element, the output voltage is the derivative of the input voltage. Nonlinear feedback elements, such as diodes or transistors, produce nonlinear transfer functions such as a logarithmic function. • As an application, an electronic thermometer in conjunction with an instrumentation amplifier was designed to yield a given amplification. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Describe the characteristics of an ideal op-amp. ✓ Analyze various op-amp circuits using the ideal op-amp model. ✓ Analyze various op-amp circuits, taking into account the finite gain of the op-amp. nea80644_ch09_619-686.qxd 6/19/09 3:59 PM Page 669 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-09 Folder:MHDQ134-09 Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 669 ✓ Understand and describe the characteristics and operation of various op-amp circuits, such as the summing amplifier, difference amplifier, and instrumentation amplifier. ✓ Design various op-amp circuits to perform specific functions using the ideal op-amp model. ✓ Analyze and design op-amp circuits using nonlinear feedback elements. REVIEW QUESTIONS 1. Describe the ideal op-amp model and describe the implications of this ideal model in terms of input currents and voltages. 2. Describe the op-amp model including the effect of a finite op-amp voltage gain. 3. Describe the operation and characteristics of the ideal inverting amplifier. 4. What is the concept of virtual ground? 5. What is the significance of a zero output resistance? 6. When a finite op-amp gain is taken into account, is the magnitude of the resulting amplifier voltage gain less than or greater than the ideal value? 7. Describe the operation and characteristics of the ideal summing amplifier. 8. Describe the operation and characteristics of the ideal noninverting amplifier. 9. Describe the voltage follower. What are the advantages of using this circuit. 10. What is the input resistance of an ideal current-to-voltage converter? 11. Describe the operation and characteristics of a difference amplifier. 12. Describe the operation and characteristics of an instrumentation amplifier. 13. Describe the operation and characteristics of an op-amp circuit using a capacitor as a feedback element. 14. Describe the operation and characteristics of an op-amp circuit using a diode as a feedback element. PROBLEMS Section 9.1 The Operational Amplifier 9.1 Assume an op-amp is ideal, except for having a finite open-loop differential gain. Measurements were made with the op-amp in the open-loop mode. Determine the open-loop gain and complete the following table, which shows the results of those measurements. v1 v2 vO −1 mV +1 mV 1 V +1 mV 1 V 1 V 5 V −1 V −1 V −0.5 V −3 V 9.2 The op-amp in the circuit shown in Figure P9.2 is ideal except it has a finite open-loop gain. (a) If A = 104 od and vO = −2 V, determine vI . (b) If vI = 2 V and vO = 1 V, determine Aod . 9.3 An op-amp is in an open-loop configuration as shown in Figure 9.2. (a) If v1 = 2.0010 V, v2 = 2.000 V, and Aod = 5 × 103, determine vO ."
Problems,"PROBLEMS Section 9.1 The Operational Amplifier 9.1 Assume an op-amp is ideal, except for having a finite open-loop differential gain. Measurements were made with the op-amp in the open-loop mode. Determine the open-loop gain and complete the following table, which shows the results of those measurements. v1 v2 vO −1 mV +1 mV 1 V +1 mV 1 V 1 V 5 V −1 V −1 V −0.5 V −3 V 9.2 The op-amp in the circuit shown in Figure P9.2 is ideal except it has a finite open-loop gain. (a) If A = 104 od and vO = −2 V, determine vI . (b) If vI = 2 V and vO = 1 V, determine Aod . 9.3 An op-amp is in an open-loop configuration as shown in Figure 9.2. (a) If v1 = 2.0010 V, v2 = 2.000 V, and Aod = 5 × 103, determine vO . nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 670 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 670 Part 2 Analog Electronics – 2 MΩ vO vI + 1 kΩ Figure P9.2 (b) If v2 = 3.0025 V, vO = −3.00 V, and Aod = 2 × 104, what is v1? (c) If v1 = −0.01 mV, v2 = +0.01 mV, and vO = 1.80 V, determine Aod . 9.4 Consider the equivalent circuit of the op-amp shown in Figure 9.7(a). Assume terminal v1 is grounded and the input to terminal v2 is from a transducer that can be represented by a 0.8 mV voltage source in series with a 25 k resistance. What is the minimum input resistance Ri such that the minimum differential input voltage is vid = 0.790 mV? Section 9.2 Inverting Amplifier 9.5 Consider the ideal inverting op-amp circuit shown in Figure 9.8. Determine the voltage gain Av = vO/vI for (a) R2 = 200 k, R1 = 20 k; (b) R2 = 120 k, R1 = 40 k; and (c) R2 = 40 k, R1 = 40 k. 9.6 Assume the op-amps in Figure P9.6 are ideal. Find the voltage gain Av = vO/vI and the input resistance Ri of each circuit. 200 kΩ 20 kΩ 200 kΩ vI – v 20 kΩ O + vI – vO 20 kΩ + (a) (b) 200 kΩ 200 kΩ 20 kΩ vI – 20 kΩ vO vI – + vO 20 kΩ + 20 kΩ (c) (d) Figure P9.6 9.7 Consider an ideal inverting op-amp with R2 = 100 k and R1 = 10 k. (a) Determine the ideal voltage gain and input resistance Ri . (b) Repeat part (a) for a second 100 k resistor connected in parallel with R2. (c) Repeat part (a) for a second 10 k resistance connected in series with R1. nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 671 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 671 D9.8 (a) Design an inverting op-amp circuit with a closed-loop voltage gain of Av = vO/vI = −12. The current in each resistor is to be no larger than 20 μA when the output voltage is −4.0 V. (b) Using the results of part (a), determine vI and the current in each resistor when vO = +1.5 V. 9.9 Consider an ideal op-amp used in an inverting configuration as shown in Figure 9.8. Determine the closed-loop voltage gain for the following resistor values. (a) R1 = 20 k, R2 = 200 k (b) R1 = 20 k, R2 = 20 k (c) R1 = 20 k, R2 = 4 k (d) R1 = 50 k, R2 = 500 k (e) R1 = 50 k, R2 = 100 k (f) R1 = 50 k, R2 = 50 k 9.10 Consider the inverting amplifier shown in Figure 9.8. Assume the op-amp is ideal. Determine the resistor values R1 and R2 to produce a closed-loop voltage gain of (a) −3.0, (b) −8.0, (c) −20, and (d) −0.50. In each case the largest resistor is to be limited to 200 k. D9.11 (a) Design an inverting op-amp circuit with a closed-loop voltage gain of Av = −6.5. When in the input voltage is vI = −0.25 V, the magnitude of the currents is to be 50 μA. Determine R1 and R2. (b) Using the results of part (a), find vI , i1, and i2 when vO = −4.0 V. D9.12 (a) Design an inverting op-amp circuit such that the closed-loop voltage gain is Av = −20 and the smallest resistor value is 25 k. (b) Repeat part (a) for the case when the largest resistor value is 1 M. (c) Determine i1 in both parts (a) and (b) when the input voltage is vI = −0.20 V. 9.13 (a) In an inverting op-amp circuit, the nominal resistance values are R2 = 300 k and R1 = 15 k. The tolerance of each resistor is ±5%, which means that each resistance can deviate from its nominal value by ±5%. What is the maximum deviation in the voltage gain from its nominal value? (b) Repeat part (a) if the resistor tolerance is reduced to ±1%. 9.14 (a) The input to the circuit shown in Figure P9.14 is vI = −0.20 V. (i) What is vO ? (ii) Determine i2, iO , and iL . (b) Repeat part (a) for vI = +0.05 V. (c) Repeat part (a) for vI = 8 sin ω t mV. R2 = 15 kΩ i2 R1 = 1 kΩ vI – iO vO + iL RL = 4 kΩ Figure P9.14 D9.15 Design an inverting amplifier to provide a nominal closed-loop voltage gain of Av = −30. The maximum input voltage signal is 25 mV with a source resistance in the range 1 k ≤ RS ≤ 2 k. The variable source resistance should introduce no more than a 5 percent difference in the gain factor. What is the range in output voltage? nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 672 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 672 Part 2 Analog Electronics 9.16 The parameters of the two inverting op-amp circuits connected in cascade in Figure P9.16 are R1 = 10 k, R2 = 80 k, R3 = 20 k, and R4 = 100 k. For vI = −0.15 V, determine vO1, vO , i1, i2, i3, and i4. Also determine the current into or out of the output terminal of each op-amp. R2 R4 R1 i2 vi IR3 4 – i1 + vO1 vi O 3 + Figure P9.16 D9.17 Design the cascade inverting op-amp circuit in Figure P9.16 such that the overall closed-loop voltage gain is Av = vO/vI = 100 and such that the maximum current in any resistor is limited to 50 μA when υI = 50 mV, but under the condition that the minimum resistance is 10 k. D9.18 Design an amplifier system with three inverting op-amps circuits in cascade such that the overall closed-loop voltage gain is Av = vO/vI = −300. The maximum resistance is limited to 200 k and the minimum resistance is limited to 20 k. In addition, the maximum current in any resistor is to be limited to 60 μA when vO = 6 V. 9.19 Consider the circuit shown in Figure P9.19. (a) Determine the ideal output voltage vO if vI = −0.40 V. (b) Determine the actual output voltage if the open-loop gain of the op-amp is A 3 od = 5 × 10 . (c) Determine the required value of Aod in order that the actual voltage gain be within 0.2 percent of the ideal value. R2 = 22 kΩ R1 = 1 kΩ vI – vO + Figure P9.19 9.20 The inverting op-amp shown in Figure 9.9 has parameters R1 = 25 k, R2 = 100 k, and Aod = 5 × 103. The input voltage is from an ideal voltage source whose value is vI = 1.0000 V. (a) Calculate the closed-loop voltage gain. (b) Determine the actual output voltage. (c) What is the percentage difference between the actual output voltage and the ideal output voltage. (d) What is the voltage at the inverting terminal of the op-amp? 9.21 (a) An op-amp with an open-loop gain of A 3 od = 7 × 10 is to be used in an inverting op-amp circuit. Let R2 = 100 k and R1 = 10 k. If the output voltage is vO = 7 V, determine the input voltage and the voltage at the inverting terminal of the op-amp. (b) If the output voltage is vO = −5 V and nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 673 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 673 the voltage at the inverting terminal of the op-amp is 0.2 mV, what is the input voltage and the value of Aod ? 9.22 (a) For the ideal inverting op-amp circuit with T-network, shown in Figure 9.12, the circuit parameters are R1 = 10 k, R2 = R3 = 50 k, and R4 = 5 k. Determine the closed-loop voltage gain. (b) Determine a new value of R4 to produce a voltage gain of (i) Av = −100 and (ii) Av = −150. D9.23 Consider the ideal inverting op-amp circuit with T-network in Figure 9.12. (a) Design the circuit such that the input resistance is 500 k and the gain is Av = −80. Do not use resistor values greater than 500 k. (b) For the design in part (a), determine the current in each resistor if vI = −0.05 V. 9.24 An ideal inverting op-amp circuit is to be designed with a closed-loop voltage gain of Av = −1000. The largest resistor value to be used is 500 k. (a) If the simple two-resistor design shown in Figure 9.8 is used, what is the input resistance? (b) If the T-network design shown in Figure 9.12 with R3 = 500 k and R2 = R4 = 250 k is used, what is the input resistance? 9.25 For the op-amp circuit shown in Figure P9.25, determine the gain Av = vO/vI . Compare this result to the gain of the circuit shown in Figure 9.12, assuming all resistor values are equal. RR RR RR vI – vO + Figure P9.25 9.26 The inverting op-amp circuit in Figure 9.9 has parameters R1 = 20 k, R2 = 200 k, and Aod = 5 × 104. The output voltage is vO = −4.80 V. (a) Determine the closed-loop voltage gain. (b) Find the input voltage. (c) Determine the voltage at the inverting terminal of the op-amp. (d) Using vI from part (b), find the percent error in output voltage compared to the ideal value. 9.27 (a) Consider the op-amp circuit in Figure P9.27. The open-loop gain of the op-amp is Aod = 2.5 × 103. (i) Determine vO when vI = −0.80 V. (ii) What is the percent error in output voltage compared to the ideal value? (b) Repeat part (a) for Aod = 200. 100 kΩ 100 kΩ vI – vO + Figure P9.27 nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 674 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 674 Part 2 Analog Electronics *9.28 The circuit in Figure P9.28 is similar to the inverting amplifier except the resistor R3 has been added. (a) Derive the expression for vO in terms of vI and the resistors. (b) Derive the expression for i3 in terms of vI and the resistors. +10 V R2 R2 R1 vI – R 50 kΩ 3 R4 = 10 kΩ R Potentiometer 1 = 1 kΩ vO – + iv 3 O RL R3 = 100 Ω + –10 V Figure P9.28 Figure P9.29 *D9.29 Design the amplifier in Figure P9.29 such that the output voltage varies between ±10 V as the wiper arm of the potentiometer changes from −10 V to +10 V. What is the purpose of including R3 and R4 instead of connecting R1 directly to the wiper arm? Section 9.3 Summing Amplifier 9.30 Consider the ideal inverting summing amplifier in Figure 9.14(a) with parameters R1 = 40 k, R2 = 20 k, R3 = 60 k, and RF = 120 k. (a) Determine vO for vI 1 = −0.25 V, vI 2 = +0.10 V, and vI 3 = +1.5 V. (b) Determine vI 1 for vI 2 = +0.25 V, vI 3 = −1.2 V, and vO = +0.50 V. D9.31 (a) Design an ideal inverting summing amplifier to produce an output voltage of vO = −2.5(1.2vI 1 + 2.5vI 2 + 0.25vI 3). Design the circuit to produce the largest possible input resistance, assuming the largest resistance in the circuit is limited to 400 k. (b) Using the results of part (a), determine the current in the feedback resistor for vI 1 = −1.0 V, vI 2 = +0.25 V, and vI 3 = +2 V. D9.32 Design an ideal inverting summing amplifier to produce an output voltage of vO = −2 (vI 1 + 3vI 2). The input voltages are limited to the ranges of −1 ≤ vI 1 ≤ +1 V and −0.5 ≤ vI 2 ≤ +0.2 V. The current in any resistor is to be limited to a maximum of 80 μA. 9.33 Consider the summing amplifier in Figure 9.14 with RF = 10 k, R1 = 1 k, R2 = 5 k, and R3 = 10 k. If vI 1 is a 1 kHz sine wave with an rms value of 50 mV, if vI 2 is a 100 Hz square wave with an amplitude of ±1 V, and if vI 3 = 0, sketch the output voltage vO . 9.34 The parameters for the summing amplifier in Figure 9.14 are RF = 100 k and R3 = ∞. The two input voltages are vI 1 = 4 + 125 sin ω t mV and vI 2 = −6 mV. Determine R1 and R2 to produce an output voltage of vO = −0.5 sin ω t V. D9.35 (a) Design an ideal summing op-amp circuit to provide an output voltage of vO = −2 [(vI 1/4) + 2vI 2 + vI 3]. The largest resistor value is to be 250 k. (b) Using the results of part (a), determine the range in output voltage and nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 675 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 675 the maximum current in RF if the input voltages are in the ranges −2 ≤ vI 1 ≤ +2 V , 0 ≤ vI 2 ≤ 0.5 V, and −1 ≤ vI 3 ≤ 0 V. D9.36 An ideal three-input inverting summing amplifier is to be designed. The input voltages are vI 1 = 2 + 2 sin ω t V, vI 2 = 0.5 sin ω t V, and vI 3 = −4 V. The desired output voltage is vO = −6 sin ω t V. The maximum current in any resistor is to be limited to 120 μA. 9.37 A summing amplifier can be used as a digital-to-analog converter (DAC). An example of a 4-bit DAC is shown in Figure P9.37. When switch S3 is connected to the −5 V supply, the most significant bit is a3 = 1; when S3 is connected to ground, the most significant bit is a3 = 0. The same condition applies to the other switches S2, S1, and So, corresponding to bits a2, a1, and ao, where ao is the least significant bit. (a) Show that the output voltage is given by R [ ] = Fa3 + a2 + a1 + ao vO (5) 10 2 4 8 16 where RF is ink. (b) Find the value of RF such that vO = 2.5 V when the digital input is a3a2a1ao = 1000. (c) Using the results of part (b), find vo for: (i) a3a2a1ao = 0001, and (ii) a3a2a1ao = 1111. VR = –5 V RF R3 = 20 kΩ S3 – vO + R2 = 40 kΩ 10 kΩ S2 20 kΩ R1 = 80 kΩ 1 kΩ S v 1 I1 – 1 kΩ – Ro = 160 kΩ + 1 kΩ vO vI2 + So Figure P9.37 Figure P9.38 9.38 Consider the circuit in Figure P9.38. (a) Derive the expression for the output voltage vO in terms of vI 1 and vI 2. (b) Determine vO for vI 1 = +5 mV and vI 2 = −25 − 50 sin ω t mV. (c) Determine the peak currents in the 10 k and 20 k resistors. *9.39 Consider the summing amplifier in Figure 9.14 (a). Assume the op-amp has a finite open-loop differential gain Aod . Using the principle of superposition, show that the output volt[age is given by ] vO = −1 RF RF RF v (1 + R /R ) RI 1 + vI 2 + vI 3 1 + F P 1 R2 R3 Aod where RP = R1‖R2‖R3. Demonstrate how the expression will change if more or fewer inputs are included. nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 676 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 676 Part 2 Analog Electronics Section 9.4 Noninverting Amplifier 9.40 Consider the ideal noninverting op-amp circuit in Figure 9.15. Determine the closed-loop gain for the following circuit parameters: (a) R1 = 15 k, R2 = 150 k; (b) R1 = 50 k, R2 = 150 k; (c) R1 = 50 k, R2 = 20 k; and (d) R1 = 20 k, R2 = 20 k. D9.41 (a) Design an ideal noninverting op-amp circuit with the configuration shown in Figure 9.15 to have a closed-loop gain of Av = 15. When vO = −7.5 V, the current in any resistor is to be limited to a maximum value of 120 μA. (b) Using the results of part (a), determine the output voltage vO and the currents in the resistors for vI = 0.25 V. 9.42 Consider the noninverting amplifier in Figure 9.15. Assume the op-amp is ideal. Determine the resistor values R1 and R2 to produce a closed-loop gain of (a) 3, (b) 9, (c) 30, and (d) 1.0. The maximum resistor value is to be limited to 290 k. 9.43 For the circuit in Figure P9.43, the input voltage is vI = 5 V. (a) If vO = 2.5 V, determine the finite open-loop differential gain of the op-amp. (b) If the open-loop differential gain of the op-amp is 5000, determine vO . 50 kΩ – vO 50 kΩ vI + – 500 kΩ vO v Ω I1 + 1 k 20 kΩ vI2 40 kΩ Figure P9.43 Figure P9.44 9.44 Determine vO as a function of vI 1 and vI 2 for the ideal noninverting op-amp circuit in Figure P9.44. 9.45 Consider the ideal noninverting op-amp circuit in Figure P9.45. (a) Derive the expression for vO as a function of vI 1 and vI 2. (b) Find vO for vI 1 = 0.2 V and vI 2 = 0.3 V. (c) Find vO for vI 1 = +0.25 V and vI 2 = −0.40 V. 100 kΩ R2 50 kΩ – vO R1 vI1 + – 20 kΩ vO vI2 v Ω I + 40 k R3 10 kΩ R4 Figure P9.45 Figure P9.46 9.46 (a) Derive the expression for the closed-loop voltage gain Av = vO/vI for the circuit shown in Figure P9.46. Assume an ideal op-amp. (b) Let nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 677 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 677 R4 = 50 k and R3 = 25 k. Determine R1 and R2 such that Av = 6, assuming the maximum resistor value is limited to 200 k. 9.47 The circuit shown in Figure P9.47 can be used as a variable noninverting amplifier. The circuit uses a 50 k potentiometer in conjunction with an ideal op-amp. (a) Derive the expression for the closed-loop voltage gain vO/vI in terms of the potentiometer setting x. (b) What is the range of closed-loop voltage gain? (c) Is there a potential problem with this circuit? If so, what is the problem? 50 kΩ potentiometer 1– xx – vO vI + Figure P9.47 9.48 (a) Determine the closed-loop voltage gain Av = vO/vI for the ideal op- amp circuit in Figure P9.48. (b) Determine vO for vI = 0.25 V. (c) Let R = 30 k. For vI = −0.15 V, determine the current in the resistor R in the T-network. 2R 2RR R – – RS = 50 kΩ vO vO + + ii RL = 1 kΩ iv + L v + II – – Figure P9.48 Figure P9.49 9.49 For the amplifier in Figure P9.49, determine (a) the ideal closed-loop voltage gain, (b) the actual closed-loop voltage gain if the open-loop gain is Aod = 150,000, and (c) the open-loop gain such that the actual closed-loop gain is within 1 percent of the ideal. 9.50 Consider the voltage-follower circuit in Figure 9.17. Determine the closed-loop voltage gain if the op-amp open-loop voltage gain Aod is (a) 20, (b) 200, (c) 2 × 103, and (d) 2 × 104. 9.51 (a) Consider the ideal op-amp circuit shown in Figure P9.51. Determine the voltage gains Av1 = vO1/vI and Av2 = vO2/vI . What is the relationship between vO1 and vO2? (b) For R2 = 60 k, R1 = 20 k, and R = 50 k, determine vO1 and vO2 for vI = −0.50 V. (c) Determine (vO1 − vO2) for vI = +0.8 V. nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 678 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 678 Part 2 Analog Electronics R – 2 R + vO1 1 – R – RL + R vI + – iL v + IR – 1 + vO2 Figure P9.51 Figure P9.52 9.52 (a) Assume the op-amp in the circuit in Figure P9.52 is ideal. Determine iL as a function of vI . (b) Let R1 = 9 k and RL = 1 k. If the op-amp saturates at ±10 V, determine the maximum value of vI and iL before the op- amp saturates. 9.53 Consider the three circuits shown in Figure P9.53. Determine each output voltage for (i) vI = 3 V and (ii) vI = −5 V. – – 40 kΩ vO 40 kΩ vO vI + vI + 10 kΩ 20 kΩ 20 kΩ (a) (b) 10 kΩ 10 kΩ – vO vI + 48 kΩ 5 kΩ 6 kΩ (c) Figure P9.53 Section 9.5 Op-Amp Applications *9.54 A current-to-voltage converter is shown in Figure P9.54. The current source has a finite output resistance RS, and the op-amp has a finite open-loop differential gain Aod. (a) Show that the input resistance is given by RR = Fin 1 + Aod (b) If RF = 10 k and Aod = 1000, determine the range of RS such that the output voltage deviates from its ideal value by less than 1 percent. nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 679 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 679 iC (mA) R 8 20 F + Rin 6 15 – Light iC vO intensity, 10 V 4 10 2 I (mW/cm2) + I (mW/cm ) iS RS 2 5 – 10 vCE (V) Figure P9.54 Figure P9.55 *D9.55 Figure P9.55 shows a phototransistor that converts light intensity into an output current. The transistor must be biased as shown. The transistor output versus input characteristics are shown. Design a current-to-voltage converter to produce an output voltage between 0 and 8 V for an input light intensity between 0 and 20 mW/cm2. Power supplies of +10 V and −10 V are available. D9.56 The circuit in Figure P9.56 is an analog voltmeter in which the meter reading is directly proportional to the input voltage vI . Design the circuit such that a 1 mA full-scale reading corresponds to vI = 10 V. Resistance R2 corresponds to the meter resistance, and R1 corresponds to the source resistance. How do these resistances influence the design? RR 2 – vO + R1 v + I – Figure P9.56 D9.57 Consider the voltage-to-current converter in Figure 9.22 using an ideal op- amp. (a) Design the circuit such that the current in a 200  load can be varied between 0 and 5 mA with an input voltage between 0 and −5 V. Assume the op-amp is biased at ±15 V. (b) Using the results of part (a), determine voltage vO ; currents i2, i3, i4; and the output current of the op-amp for vI = −5 V. D9.58 The circuit in Figure P9.58 is used to drive an LED with a voltage source. The circuit can also be thought of as a current amplifier in that, with the proper RF iD R2 Light R1 vI – vi O 1 + Figure P9.58 nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 680 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 680 Part 2 Analog Electronics design, iD > i1. (a) Derive the expression for iD in terms of i1 and the resistors. (b) Design the circuit such that iD = 12 mA and i1 = 1 mA for vI = 5 V. *9.59 Figure P9.59 is used to calculate the resistance seen by the load in the voltage-to-current converter given in Figure 9.22. (a) Show that the output resistance is given by = RR 1 R2 R3 o R1 R3 − R2 RF (b) Using the parameters given in Example 9.5, determine Ro. Is this result unexpected? (c) Consider the design specification given by Equation (9.44). What is the expected value of Ro? RF R1 – vO + R3 R2 Ro Figure P9.59 D9.60 Consider the op-amp difference amplifier in Figure 9.24(a). Let R1 = R3 and R2 = R4. A load resistor RL = 10 k is connected from the output terminal to ground. (a) Design the circuit such that the difference voltage gain is Ad = 15 and the minimum difference input resistance is 30 k. (b) If the load current is iL = 0.25 mA, what is the differential input voltage (vI 2 − vI 1)? (c) If vI 1 = 1.5 V and vI 2 = 1.2 V, determine iL . (d) If iL = 0.5 mA when vI 2 = 2.0 V, determine vI 1. D9.61 Consider the differential amplifier shown in Figure 9.24(a). Let R1 = R3 and R2 = R4. Design the amplifier such that the differential voltage gain is (a) 40, (b) 25, (c) 5, and (d) 0.5. In each case the differential input resistance should be as large as possible but under the condition that the largest resistor value is limited to 250 k. *9.62 Consider the differential amplifier shown in Figure 9.24(a). Assume that each resistor is 50(1 ± x) k. (a) Determine the worst case common-mode gain AC M = vO/vC M , where vC M = v1 = v2. (b) Evaluate AC M and CMRR(dB) for x = 0.01, 0.02, and 0.05. 9.63 Let R = 10 k in the differential amplifier in Figure P9.63. Determine the voltages vX , vY , vO and the currents i1, i2, i3, i4 for input voltages of (a) v1 = 1.80 V, v2 = 1.40 V; (b) v1 = 3.20 V, v2 = 3.60 V; and (c) v1 = −1.20 V, v2 = −1.35 V. 9.64 Consider the circuit shown in Figure P9.64. (a) The output current of the op-amp is 1.2 mA and the transistor current gain is β = 75. Determine the resistance R . (b) Repeat part (a) if the current is 0.2 mA and the transistor current gain is β = 100. (c) Using the results of part (a), determine nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 681 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 681 10 R +25 V R i +10 V + 2 v1 vii x 1 v – 3 v O y + vi 2 OR i4 10 RR Figure P9.63 Figure P9.64 the op-amp output current if the input voltage is 6 V. (d) Using the results of part (b), determine the op-amp output current if the input voltage is 4 V. *9.65 The circuit in Figure P9.65 is a representation of the common-mode and differential-input signals to a difference amplifier. The output voltage can be written as vO = Advd + Acmvcm where Ad is the differential-mode gain and Acm is the common-mode gain. (a) Setting v(d = 0, show) that the common-mode gain is given by R4 − R2 RR A 3 1 cm = (1 + R4/R3) (b) Determine Acm if R1 = 10.4 k, R2 = 62.4 k, R3 = 9.6 k, and R4 = 86.4 k. (c) Determine the maximum value of |Acm | if R1 = 20 k ±1%, R2 = 80 k ±1%, R3 = 20 k ±1%, and R4 = 80 k ±1%. R2 R1 R v 2 v RA 2 v v I1 d/2 vI R 1 1 – + – – vO v v + O + – + vI2 + v + v cm I2 RR 3 1 – vd/2 RV R4 R vB 2 R2 Figure P9.65 Figure P9.66 *9.66 Consider the adjustable gain difference amplifier in Figure P9.66. Variable resistor RV is used to vary the gain. Show that the output voltage vO , as a function of vI 1 a(nd vI 2, is) given by 2R2 R2 vO = 1 + (v RR I 2 − vI 1) 1 V nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 682 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 682 Part 2 Analog Electronics 9.67 Assume the instrumentation amplifier in Figure 9.26 has ideal op-amps. The circuit parameters are R1 = 10 k, R2 = 40 k, R3 = 40 k, and R4 = 120 k. Determine vO1, vO2, vO , and the current in R1 for (a) vI 2 = 1.2 + 0.08 sin ω t (V), vI 1 = 1.2 − 0.08 sin ω t (V); and (b) vI 2 = −0.60 − 0.05 sin ω t (V), vI 1 = −0.65 + 0.05 sin ω t (V). 9.68 Consider the circuit in Figure P9.68. Assume ideal op-amps are used. The input voltage is vI = 0.5 sin ω t . Determine the voltages (a) vO B , (b) vOC , and (c) vO . (d) What is the voltage gain vO/vI ? + 40 kΩ + v v IO1 1 – 12 kΩ – i O – 12 kΩ + + + RL vOB – R 30 kΩ vO + vI – 12 kΩ – – – vO2 + 12 kΩ + + + v v OC I2 – – Figure P9.68 Figure P9.69 9.69 Consider the circuit in Figure P9.69. Assume ideal op-amps are used. (a) Derive the expression for the current iO as a function of input voltages vI 1 and vI 2. (b) Design the circuit such that iO = 5 mA for vI 1 = 0.25 V and vI 2 = −0.25 V. (c) Using the results of part (b), determine vO1 and vO2 if RL = 1 k. (d) Determine iO , vO1, and vO2 for R = 500 , RL = 3 k, vI 1 = 1.25 V, and vI 2 = 1.75 V. 9.70 The instrumentation amplifier in Figure 9.26 has the same circuit parameters and input voltages as given in Problem 9.67, except that R1 is replaced by a fixed resistance R1 fin series with a potentiometer, as shown in Figure 9.28. Determine the values of R1 f and the potentiometer resistance if the magnitude of the output has a minimum value of |vO | = 0.5 V and a maximum value of |vO | = 8 V. D9.71 Design the instrumentation amplifier in Figure 9.26 such that the variable differential voltage gain covers the range of 5 to 200. Set the gain of the difference amplifier to 2.5. The maximum current in R1 is to be limited to 50 μA for an output voltage of 10 V. What value of potentiometer is required? 9.72 All parameters associated with the instrumentation amplifier in Figure 9.26 are the same as given in Exercise Ex 9.8, except that resistor R3, which is connected to the inverting terminal of A3, is R3 = 30 k ± 5%. Determine the maximum common-mode gain. 9.73 The parameters in the integrator circuit shown in Figure 9.30 are R1 = 20 k and C2 = 0.02 μF. The input signal is vI = 0.25 cos ω t (V). (a) Determine the frequency at which the input and output signals have nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 683 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 683 equal amplitudes. At this frequency, what is the phase of the output signal with respect to the input? (b) At what frequency will the output signal amplitude be (i) |vO | = 1.5 V and (ii) |vO | = 0.15 V? 9.74 Consider the ideal op-amp integrator. Assume the capacitor is initially uncharged. (a) The output voltage is vO = −5 Vat t = 1.2 s after a +0.25 V pulse is applied to the input. What is the RC time constant? (b) Use there- sults of part (a). At t = 1.2 s, the input changes to −0.10 V. (i) At what time does vO = 0? (ii) At what time does vO = +5 V. 9.75 The circuit in Figure P9.75 is a first-order low-pass active filter. (a) Show that the voltage transfer function is given by = −RA 2 v · 1 R1 1 + jωR2C2 (b) What is the voltage gain at dc (ω =√0)? (c) At what frequency is the magnitude of the voltage gain a factor of 2 less that the dc value? (This is the −3 dB frequency.) C2 RR2 1 vI – vO + Figure P9.75 D9.76 (a) Using the results of Problem 9.75, design the low-pass active filter in Figure P9.75 such that the input resistance is 20 k, the low-frequency gain is −15, and the −3 dB frequency is 5 kHz. (b) Repeat part (a) such that the input resistance is 15 k, the low-frequency gain is −25, and the −3 dB frequency is 15 kHz. 9.77 The circuit shown in Figure P9.77 is a first-order high-pass active filter. (a) Show that the voltage transfer function is given by A = −R2 · jωR1C1 v R1 1 + jωR1C1 (b) What is the voltage gain as the frequency becomes large? √ (c) At what frequency is the magnitude of the gain a factor of 2 less than the high-frequency limiting value? R2 RC 1 1 vI – vO + Figure P9.77 nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 684 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 684 Part 2 Analog Electronics D9.78 (a) Using the results of Problem 9.77, design the high-pass active filter in Figure P9.77 such that the high-frequency voltage gain is −15 and the −3 dB frequency is 20 kHz. The maximum resistance value is to be limited to 350 k. (b) Repeat part (a) such that the high-frequency gain is −25 and the −3 dB frequency is 35 kHz. The minimum resistance value is to be limited to 20 k. 9.79 Consider the voltage reference circuit shown in Figure P9.79. Determine vO , i2, and iZ. +10 V R2 = 1 kΩ RS = 5.6 kΩ i Ω 2 R1 = 1 k – + vO VZ = 6.8 V iZ + – Figure P9.79 9.80 Consider the circuit in Figure 9.35. The diode parameter is I = 10−14 SA and the resistance is R1 = 10 k. Plot vO versus vI over the range 20 mV ≤ vI ≤ 2 V. (Plot vI on a log scale.) *9.81 In the circuit in Figure P9.81, assume that Q1 and Q2 are identical transistors. If T = 300 K, s(how th)at the output voltage is v2 R1 vO = 1.0 log10 v1 R2 Q1 Q2 R1 R2 v1 – – v2 + + 333 kΩ 20 kΩ – vO + 20 kΩ 333 kΩ Figure P9.81 9.82 Consider the circuit in Figure 9.36. The diode parameter is IS = 10−14 A and the resistance is R1 = 10 k. Plot vO versus vI for 0.30 ≤ vI ≤ 0.60 V. (Plot vO on a log scale.) nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 685 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: Chapter 9 Ideal Operational Amplifiers and Op-Amp Circuits 685 Section 9.7 Op-Amp Circuit Design *D9.83 Design an op-amp summer to produce the output voltage vO = 2vI 1 − 10vI 2 + 3vI 3 − vI 4. Assume the largest resistor value is 500 k, and the input impedance seen by each source is the largest value possible. *D9.84 Design an op-amp summer to produce an output voltage of vO = 3vI 1 + 1.5vI 2 + 2vI 3 − 4vI 4 − 6vI 5 . The largest resistor value is to be 250 k. *D9.85 Design a voltage reference source as shown in Figure 9.42 to have an output voltage of 12.0 V. A Zener diode with a breakdown voltage of 5.6 V is available. Assume the voltage regulation will be within specifications if the Zener diode current is within the range of 1.2 ≤ IZ ≤ 1.35 mA. The startup voltage VS is to be 10 V. *D9.86 Consider the voltage reference circuit in Figure P9.86. Using a Zener diode with a breakdown voltage of 5.6 V, design the circuit to produce an output voltage of 12.0 V. Assume the input voltage is 15 V and the Zener diode current is IZ = 2 mA. R4 VIN R2 R1 – VO + IZ + R IL RL 3 VZ – Figure P9.86 *D9.87 Consider the bridge circuit in Figure P9.87. The resistor RT is a thermistor with values of 20 k at T = 300 K and 21 k at T = 350 K. Assume that the thermistor resistance is linear with temperature, and that the bridge is biased at V + = 10 V. Design an amplifier system with an output of 0 Vat T = 300 K and 5 Vat T = 350 K. V+ R1 R2 vO1 vO2 R3 RT Figure P9.87 *D9.88 Consider the bridge circuit in Figure 9.46. The resistance R is 20 k and the bias is V + = 9 V. (a) Determine vO1 as a function of R. (b) Design an amplifier system such that the output varies from −5 V to +5 V as R varies from +200  to −200 . nea80644_ch09_619-686.qxd 6/19/09 4:26 AM Page 686 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-09: 686 Part 2 Analog Electronics COMPUTER SIMULATION PROBLEMS 9.89 Using a computer simulation, verify the design in Example 9.4. 9.90 Using a computer simulation, verify the design in Example 9.8. 9.91 Using a computer simulation, verify the design in Problem 9.76(b). Plot vO versus frequency over the range 2 ≤ f ≤ 50 kHz. 9.92 Using a computer simulation, verify the design in Problem 9.78(a). Plot vO versus frequency over the range 2 ≤ f ≤ 100 kHz. DESIGN PROBLEMS See Design Problems 9.83 to 9.88. [Note: Each design should be correlated with a computer analysis.] nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 687 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Integrated Circuit Biasing and Active Loads 10 The biasing techniques in Chapters 3 through 6 for FET and BJT amplifiers for the most part used voltage-divider resistor networks. While this technique can be used for discrete circuits, it is not suitable for integrated circuits. Resistors require relatively large areas on an IC compared to transistors; therefore, a resistor-intensive circuit would necessitate a large chip area. Also, the resistor biasing technique uses coupling and bypass capacitors extensively. On an IC, it is almost impossible to fabricate capacitors in the microfarad range, as would be required for the coupling capacitors. Biasing transistors and transistor circuits in ICs is considerably different from that in discrete transistor designs. Essentially, biasing integrated circuit amplifiers involves the use of constant-current sources. In this chapter, we will analyze and design both bipolar and FET circuits that form these constant-current sources. We will begin to see for the first time in this chapter the use of matched or identical transistor characteristics as a specific design parameter. Transistors can easily be fabricated in ICs with matched or identical parameters. A principal goal of this chapter is to help the reader understand how matched transistor characteristics are used in design and to be able to design BJT and MOSFET current source circuits. Transistors are also used as load devices in amplifier circuits. These transistors, called active loads, replace the discrete drain and collector resistors in FETand BJTcir- cuits. Using an active load eliminates resistors from the IC and achieves a higher small- signal voltage gain. The active load is essentially an “upside down” constant-current source, so an initial discussion of active loads is entirely appropriate in this chapter. PREVIEW In this chapter, we will: • Analyze and understand the characteristics of various bipolar circuits used to provide a constant output current. • Analyze and understand the characteristics of various MOSFET (and a few JFET) circuits used to provide a constant output current. • Analyze the dc characteristics of amplifier circuits using transistors as load devices (active loads). • Analyze the small-signal characteristics of amplifier circuits with active loads. • As an application, design an MOS current source circuit to provide a specified bias current and output resistance. 687 Chapter"
Chapter 10: Integrated Circuit Biasing and Active Loads,"10: Integrated Circuit Biasing and Active Loads 10 The biasing techniques in Chapters 3 through 6 for FET and BJT amplifiers for the most part used voltage-divider resistor networks. While this technique can be used for discrete circuits, it is not suitable for integrated circuits. Resistors require relatively large areas on an IC compared to transistors; therefore, a resistor-intensive circuit would necessitate a large chip area. Also, the resistor biasing technique uses coupling and bypass capacitors extensively. On an IC, it is almost impossible to fabricate capacitors in the microfarad range, as would be required for the coupling capacitors. Biasing transistors and transistor circuits in ICs is considerably different from that in discrete transistor designs. Essentially, biasing integrated circuit amplifiers involves the use of constant-current sources. In this chapter, we will analyze and design both bipolar and FET circuits that form these constant-current sources. We will begin to see for the first time in this chapter the use of matched or identical transistor characteristics as a specific design parameter. Transistors can easily be fabricated in ICs with matched or identical parameters. A principal goal of this chapter is to help the reader understand how matched transistor characteristics are used in design and to be able to design BJT and MOSFET current source circuits. Transistors are also used as load devices in amplifier circuits. These transistors, called active loads, replace the discrete drain and collector resistors in FETand BJTcir- cuits. Using an active load eliminates resistors from the IC and achieves a higher small- signal voltage gain. The active load is essentially an “upside down” constant-current source, so an initial discussion of active loads is entirely appropriate in this chapter. PREVIEW In this chapter, we will: • Analyze and understand the characteristics of various bipolar circuits used to provide a constant output current. • Analyze and understand the characteristics of various MOSFET (and a few JFET) circuits used to provide a constant output current. • Analyze the dc characteristics of amplifier circuits using transistors as load devices (active loads). • Analyze the small-signal characteristics of amplifier circuits with active loads. • As an application, design an MOS current source circuit to provide a specified bias current and output resistance. 687 Chapter"
Preview,"PREVIEW In this chapter, we will: • Analyze and understand the characteristics of various bipolar circuits used to provide a constant output current. • Analyze and understand the characteristics of various MOSFET (and a few JFET) circuits used to provide a constant output current. • Analyze the dc characteristics of amplifier circuits using transistors as load devices (active loads). • Analyze the small-signal characteristics of amplifier circuits with active loads. • As an application, design an MOS current source circuit to provide a specified bias current and output resistance. 687 Chapter nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 688 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 688 Part 2 Analog Electronics 10.1 BIPOLAR TRANSISTOR CURRENT SOURCES Objective: • Analyze and understand the characteristics of various bipolar circuits used to provide a constant output current. As we saw in previous chapters, when the bipolar transistor is used as a linear amplifying device, it must be biased in the forward-active mode. The bias maybe a current source that establishes the quiescent collector current as shown in Figure 10.1. We now need to consider the types of circuits that can be designed to establish the bias current IO. We will discuss a simple two-transistor current-source circuit and then two improved versions of the constant-current source. We will then analyze another current-source circuit, known as the Widlar current source. Finally, we will discuss a multitransistor current source. 10.1.1 Two-Transistor Current Source The two-transistor current source, also called a current mirror, is the basic building block in the design of integrated circuit current sources. Figure 10.2(a) shows the basic current-source circuit, which consists of two matched or identical transistors, Q1 and Q2, operating at the same temperature, with their base terminals and emitter terminals connected together. The BE voltage is therefore the same in the two transistors. Transistor Q1 is connected as a diode; consequently, when the supply voltages are applied, the BE junction of Q1 is forward biased and a reference current IREF is established. Although there is a specific relationship between IREF and VB E1, we can think of VBE1 as being the result of IREF. Once VB E1 is established, it is applied to the BE junction of Q2. The applied VB E2 turns Q2 on and generates the load current IO, which is used to bias a transistor or transistor circuit. The reference current in the two-transistor current source can be established by connecting a resistor to the positive voltage source, as shown in Figure 10.2(b). The reference current is then V + = − VB E − V − IREF (10.1) R1 V+ V+ V + IC2 = IO IC2 = IO IREF IREF R1 RC v V O IC1 C2 IB1 IB2 + vI Q1 Q V + + 2 CE2 Q1 Q2 + – V V BE1 VBE2 BE – – – ICE O V – V – V – (a) (b) Figure 10.1 Bipolar circuit with Figure 10.2 (a) Basic two-transistor current source; (b) two-transistor ideal current-source biasing current source with reference resistor R1"
10.1 Bipolar Transistor Current Sources,"10.1 BIPOLAR TRANSISTOR CURRENT SOURCES Objective: • Analyze and understand the characteristics of various bipolar circuits used to provide a constant output current. As we saw in previous chapters, when the bipolar transistor is used as a linear amplifying device, it must be biased in the forward-active mode. The bias maybe a current source that establishes the quiescent collector current as shown in Figure 10.1. We now need to consider the types of circuits that can be designed to establish the bias current IO. We will discuss a simple two-transistor current-source circuit and then two improved versions of the constant-current source. We will then analyze another current-source circuit, known as the Widlar current source. Finally, we will discuss a multitransistor current source. 10.1.1 Two-Transistor Current Source The two-transistor current source, also called a current mirror, is the basic building block in the design of integrated circuit current sources. Figure 10.2(a) shows the basic current-source circuit, which consists of two matched or identical transistors, Q1 and Q2, operating at the same temperature, with their base terminals and emitter terminals connected together. The BE voltage is therefore the same in the two transistors. Transistor Q1 is connected as a diode; consequently, when the supply voltages are applied, the BE junction of Q1 is forward biased and a reference current IREF is established. Although there is a specific relationship between IREF and VB E1, we can think of VBE1 as being the result of IREF. Once VB E1 is established, it is applied to the BE junction of Q2. The applied VB E2 turns Q2 on and generates the load current IO, which is used to bias a transistor or transistor circuit. The reference current in the two-transistor current source can be established by connecting a resistor to the positive voltage source, as shown in Figure 10.2(b). The reference current is then V + = − VB E − V − IREF (10.1) R1 V+ V+ V + IC2 = IO IC2 = IO IREF IREF R1 RC v V O IC1 C2 IB1 IB2 + vI Q1 Q V + + 2 CE2 Q1 Q2 + – V V BE1 VBE2 BE – – – ICE O V – V – V – (a) (b) Figure 10.1 Bipolar circuit with Figure 10.2 (a) Basic two-transistor current source; (b) two-transistor ideal current-source biasing current source with reference resistor R1 nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 689 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 689 where VB E is the BE voltage corresponding to the collector current, which is essentially equal to IREF. Connecting the base and collector terminals of a bipolar transistor effectively produces a two-terminal device with IV characteristics that are identical to the iC versus vB E characteristic of the BJT. For vC B = 0, the transistor is still biased in the forward-active mode, and the base, collector, and emitter currents are related through the current gain β. In constant-current source circuits, β is a dc term that is the ratio of the dc collector current to the dc base current. However, as discussed in Chapter 5, we assume the dc leakage currents are negligible; therefore, the dc beta and ac beta are essentially the same. We do not distinguish between the two values. Current Relationships Figure 10.2(a) shows the currents in the two-transistor current source. Since VBE is the same in both devices, and the transistors are identical, then IB1 = IB2 and IC1 = IC2. Transistor Q2 is assumed to be biased in the forward-active region. If we sum the currents at the collector node of Q1, we have IREF = IC1 + IB1 + IB2 = IC1 + 2IB2 (10.2) Replacing IC1 by IC2 and notin(g that IB)2 = IC2/β , Equation (10.2) becomes II C2 2 REF = IC2 + 2 = IC2 1 + (10.3) β β The output current is then IC2 = IO = IREF (10.4) 1 + 2 β Equation (10.4) gives the ideal output current of the two-transistor current source, taking into account the finite current gain of the transistors. Implicit in Equation (10.4) is that Q2 is biased in the forward-active region (the base–collector junction is zero or reverse biased, meaning V 1 CE2 > VB E2 ) and the Early voltage is infinite, or VA = ∞. We will consider the effects of a finite Early voltage later in this chapter. DESIGN EXAMPLE 10.1 Objective: Design a two-transistor current source to meet a set of specifications. Specifications: The circuit to be designed has the configuration shown in Figure 10.2(b).Assume that matched transistors are available with parameters VB E(on) = 0.6 V, β = 100, and VA = ∞. The designed output IO is to be 200 μA. The bias voltages are to be V + = 5 V and V − = 0. Choices: The circuit will be fabricated as an integrated circuit so that a standard resistor value is not required and matched transistors can be fabricated. 1In actual circuits, the collector–emitter voltage may decrease to values as low as 0.2 or 0.3 V, and the circuit will still behave as a constant-current source. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 690 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 690 Part 2 Analog Electronics Solution: The( referenc)e current c(an be writ)ten as = 2 2 IREF IO 1 + = (200) 1 + = 204 μA β 100 From Equation (10.1), the resistor R1 is found to be V + = − VB E (on) = 5 − 0.6 R1 = 21.6 k IREF 0.204 Tradeoffs: The design assumes that matched transistors exist. The effect of mismatched transistors will be discussed later in this section. Comment: In this example, we assumed a BE voltage of 0.6 V. This approximation is satisfactory for most cases. The BE voltage is involved in the reference current or resistor calculation. If a value of VB E (on) = 0.7 V is assumed, the value of IREF or R1 will change, typically, by only 1 to 2 percent. Design Pointer: We see in this example that, for β = 100, the reference and load currents are within 2 percent of each other in this two-transistor current source. In most circuit applications, we can use the approximation that IO ∼= IREF. EXERCISE PROBLEM Ex 10.1: The circuit parameters for the two-transistor current source shown in Figure 10.2(b) are V + = 3 V, V − = −3 V, and R1 = 47 k. The transistor parameters are β = 120, VBE(on) = 0.7 V, and VA = ∞. Determine IREF, IO , and IB1. (Ans. IREF = 0.1128 mA, IO = 0.1109 mA, IB1 = 0.9243 μA) Output Resistance In our previous analysis, we assumed the Early voltage was infinite, so that rO = ∞. In actual transistors, the Early voltage is finite, which means that the collector current is a function of the collector–emitter voltage. The stability of a load current generated in a constant-current source is a function of the output resistance looking back into the output transistor. Figure 10.3 shows the dc equivalent circuit of a simple transistor circuit biased with a two-transistor current source. The voltage VI applied to the base of Qo is a dc voltage. If the value of VI changes, the collector–emitter voltage VC E2 changes since the BE voltage of Qo is essentially a constant. A variation in VC E2 in turn changes the output current IO, because of the Early effect. Figure 10.4 shows that IO versus VC E2 characteristic at a constant BE voltage. The ratio of load current to reference current, taking the Early effect into account, is ( ) + V ( ) (1 CE2 IO = 1 × VA ) (10.5) IREF 2 V 1 + 1 + CE1 β VA where VA is the Early voltage and the factor (1 + 2/β) accounts for the finite gain. From the circuit configuration, we see that VC E1 = VB E , which is essentially a constant, and V − CE2 = VI − VB Eo − V (10.6) nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 691 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 691 V + Load circuit RC IREF RV 1 O VI Qo + VBEo – IO IO + + VCE1 Q V 1 Q2 VCE2 BE2 = constant + – – VBE 1 – Slope = ro V – –V 0 A VCE2 Figure 10.3 The dc equivalent circuit Figure 10.4 Output current versus collector–emitter of simple amplifier biased with two- voltage, showing the Early voltage transistor current source The differential change in IO with respect to a change in VC E2, is, from Equation (10.5), d IO = ( IREF ) × 1 × ( 1 ) (10.7) dVC E2 2 V V 1 + A 1 + BE β VA If we assume VB E  VA , then Equation (10.7) becomes d IO =∼ IO = 1 (10.8) dVC E2 VA ro where ro is the small-signal output resistance looking into the collector of Q2. EXAMPLE 10.2 Objective: Determine the change in load current produced by a change in collector– emitter voltage in a two-transistor current source. Consider the circuit shown in Figure 10.3. The circuit parameters are: V + = 5 V, V − = −5 V, and R1 = 9.3 k. Assume the transistor parameters are: β = 50, VB E(on) = 0.7 V, and VA = 80 V. Determine the change in IO as VC E2 changes from 0.7 V to 5 V. Solution: The reference current is + = V − VB E(on) − V − = 5 − 0.7 − (−5) IREF = 1.0 mA R1 9.3 For VC E2 = 0.7 V, transistors Q1 and Q2 are identically biased. From Equation (10.5), we then have = IREF = 1.0 IO = 0.962 mA + 2 + 2 1 1 β 50 nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 692 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 692 Part 2 Analog Electronics From Equation (10.8), the small-signal output resistance is VA 80 ro = = = 83.2 k IO 0.962 The change in load current is determined from d IO = 1 dVC E2 ro or 1 1 d IO = dVC E2 = (5 − 0.7) = 0.052 mA ro 83.2 The percent change in output current is therefore d IO = 0.052 = 0.054 ⇒ 5.4% IO 0.962 Comment: Although in many circuits a 5 percent change in bias current is insignificant, there are cases, such as digital-to-analog converters, in which the bias current must be held to very tight tolerances. The stability of the load current can be significantly affected by a change in collector–emitter voltage. The stability is a function of the output impedance of the current source. EXERCISE PROBLEM Ex 10.2: Consider the circuit shown in Figure 10.3. The circuit parameters are: V + = 5 V, V − = −5 V, and R1 = 12 k. The transistor parameters are β = 75 and VB E(on) = 0.7 V. The percentage change in load current IO/IO must be no more than 2 percent for a change in VC E2 from 1 V to 5 V. Determine the minimum required value of Early voltage. (Ans. VA ∼= 200 V) Integrated Circuit Fabrication We have assumed in the previous analysis that the two transistors in the current source circuit are matched or identical. When fabricated as an integrated circuit, the two transistors will be directly adjacent to each other. The material properties will therefore be essentially identical, and any ion implant dose and thermal anneal characteristics will be essentially identical. So, the two adjacent transistors can be very well matched. There maybe some variation in transistor characteristics from one circuit to another but, again, the characteristics of the adjacent transistors are closely matched. In practice, the characteristics of Q1 and Q2 maybe mismatched by 1 or 2 percent. Mismatched Transistors If β  1, we can neglect base currents. The current–voltage relationship for the circuit in Figure 10.2(b) is then I ∼ REF = IC1 = I VB E /VT S1e (10.9(a)) and IO = I = I VB E /VT C2 S2e (10.9(b)) nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 693 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 693 Here, we are neglecting the Early effect. The parameters IS1 and IS2 contain both the electrical and geometric parameters of Q1 and Q2. If Q1 and Q2 are not identical, then IS1 = IS2. Combining Equations (10.9(a)) and (10.9(b)), we obtain the relationship between the bias and ref(erenc)e currents, neglecting base currents, as follows: IO = II S2 REF (10.10) IS1 Any deviation in bias current from the ideal, as a function of mismatch between Q1 and Q2, is directly related to the ratio of the reverse-saturation currents IS1 and IS2. The parameter IS is a strong function of temperature. The temperatures of Q1 and Q2 must be the same in order for the circuit to operate properly. Therefore, Q1 and Q2 must be close to one another on the semiconductor chip. If Q1 and Q2 are not maintained at the same temperature, then the relationship between IO and IREF is a function of temperature, which is undesirable. Also, the parameters IS1 and IS2 are functions of the cross-sectional area of the BE junctions. Therefore, we can use Equation (10.10) to our advantage. By using different sizes of transistors, we can design the circuit such that IO = IREF. This is discussed further later in this chapter. Integrated circuit resistors area function of the resistivity of the semiconductor material as well as the geometry of the device. Since the geometry of each IC resistor can be individually designed, resistor values are not limited to standard values. So, IC resistors of any value (within reason) can be fabricated. 10.1.2 Improved Current-Source Circuits In many IC designs, critical current-source characteristics are the changes in bias current with variations in β and with changes in the output transistor collector voltage. In this section, we will look at two constant-current circuits that have improved load current stability against changes in β and changes in output collector voltage. Basic Three-Transistor Current Source A basic three-transistor current source is shown in Figure 10.5. We again assume that all transistors are identical; therefore, since the BE voltage is the same for Q1 and V + IC2 = IO IREF R1 Q3 IC1 IB3 + VBE3 IE3 – Q1 Q2 + IB1 IB2 VBE – V – Figure 10.5 Basic three-transistor current source nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 694 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 694 Part 2 Analog Electronics Q2, IB1 = IB2 and IC1 = IC2. Transistor Q3 supplies the base currents to Q1 and Q2, so these base currents should be less dependent on the reference current. Also, since the current in Q3 is substantially smaller than that in either Q1 or Q2, we expect the current gain of Q3 to be less than those of Q1 and Q2. We define the current gains of Q1 and Q2 as β1 = β2 ≡ β , and the current gain of Q3 as β3. Summing the currents at the collector node of Q1, we obtain IREF = IC1 + IB3 (10.11) Since IB1 = IB2 = 2IB2 = IE3 (10.12) and IE3 = (1 + β3)IB3 (10.13) then combining Equations (10.11), (10.12), and (10.13) produces I = I + IE3 = I + 2IB2 REF C1 + C1 + (10.14) (1 β3) (1 β3) Replacing IC1 by IC2 and noting that IB2 = IC2/β , we can rewrite Equation (10.14) as [ ] = + 2I 2 IREF I C2 C2 + = IC2 1 + + (10.15) β(1 β3) β(1 β3) The output or bias current is then I = = [ II REF C2 O ] (10.16) 1 + 2 β(1 + β3) The reference current is given by V + = − VB E3 − VB E − V − ∼ V + = − 2V − I BE − V REF (10.17) R1 R1 As a first approximation, we usually assume that the BE voltage of Q3 and Q1 are equal, as indicated in Equation (10.17). A comparison of Equation (10.16) for the three-transistor current source and Equation (10.4) for the two-transistor current source shows that the approximation of IO ∼= IREF is better for the three-transistor circuit. In addition, as we will see in the following example, the change in load current with a change in β is much smaller in the three-transistor current source. EXAMPLE 10.3 Objective: Compare the variation in bias current between the two- and three-transistor current-source circuits as a result of variations in β. A PSpice analysis is used. Figure 10.6(a) shows the two-transistor PSpice circuit schematic and Figure 10.6(b) shows the three-transistor PSpice circuit schematic used in this analysis. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 695 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 695 V2 5 V + V1 + – –5 V 0 0 – I1 I1 1 mA R1 9.3 kΩ 1 mA R1 9.3 kΩ Idc Q2 Idc 2N3904 II Q1 Q2 Q3 Q1 2N3904 2N3904 2N3904 2N3904 + V + V 2 1 –5 V –5 V – – 0 0 (a) (b) IO (mA) 1.00 3-transistor 0.98 circuit 0.96 2-transistor circuit 0.94 0.92 0.90 20 30 40 60 80 100 150 200 bf (c) Figure 10.6 (a) Two-transistor current mirror; (b) three-transistor current mirror; (c) variation in bias currents with a change in β Solution: In both circuits, the current gain β of all transistors was assumed to be equal, but the actual value was varied between 20 and 200. Since the change in β is very large, we cannot use derivatives to determine the changes in bias currents. Standard 2N3904 transistors were used, which means that the Early voltage is 74 V, and not infinite as in the ideal circuit. The Early voltage will influence the actual value of bias current, but has very little effect in terms of the change in bias current with a change in current gain. Figure 10.6(c) shows the bias current versus current gain for both the two- transistor and three-transistor current-source circuits. Comment: There is a significant decrease in the variation in bias current for the three-transistor circuit compared to that of the two-transistor circuit. For values of β greater than approximately 50, there is no perceptible change in bias current for the three-transistor current mirror. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 696 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 696 Part 2 Analog Electronics EXERCISE PROBLEM Ex 10.3: The parameters of the circuit shown in Figure 10.5 are: V + = 3 V, V − = −3 V, and R1 = 30 k. The parameters of the transistors Q1 and Q2 are VB E1,2(on) = 0.7 V and β = 120. The parameters of the transistor Q3 are VB E3 (on) = 0.6 V and β3 = 80. Assume VA = ∞ for all three transistors. Determine the value of each current shown in the figure. (Ans. IREF = 0.15667 mA, IO = 0.15663 mA= IC1 = IC2, IB1 = IB2 = 1.3053 μA, IE3 = 2.6106 μA, IB3 = 0.03223 μA) The output resistance looking into the collector of the output transistor Q2 of the basic three-transistor current source shown in Figure 10.5 is the same as that of the two-transistor current source; that is, d IO = 1 (10.18a) dVC E2 ro2 where V r = A o2 (10.18b) IO This means that, in the three-transistor current source, the change in bias current IO with a change in VCE2 is the same as that in the two-transistor current-source circuit. In addition, any mismatch between Q1 and Q2 produces a deviation in the bias current from the ideal, as given by Equation (10.10). Cascode Current Source Current-source circuits can be designed such that the output resistance is much greater than that of the two-transistor circuit. One example is the cascode circuit shown in Figure 10.7(a). In this case, if the transistors are matched, then the load and reference currents are essentially equal. We may calculate the output resistance Ro by considering the small-signal equivalent transistor circuits. For a constant reference current, the base voltages of Q2 and Q4 are constant, which implies these terminals are at signal ground. V+ II REF O Ro Ro + Q Q rp 4 Vbe4 ro4 Ix 3 + 4 – gm4Vbe4 VBE4 – + V – x Q1 Q + + 2 rp 2 V r V be2 0 = o2 BE2 – gm2Vbe2 V– (a) (b) Figure 10.7 (a) Bipolar cascode current mirror; (b) small-signal equivalent circuit nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 697 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 697 The equivalent circuit is then shown in Figure 10.7(b). Since gm2Vbe2 = 0, then Vbe4 = −Ix(ro2‖rπ4)(. Summing currents) at the output node yields V − I (r ‖r ) Ix = gm4V xx o2 π4 be4 + r(o4 ) = − ‖ + Vx − Ix(rg Ir r o2‖rπ4) m4 x( o2 π4) (10.19) ro4 Combining terms and assuming rπ4  ro2, we find Ro = Vx = ro4(1 + β) + r ∼ π4 = βr Io4 (10.20) x The output resistance has increased by a factor of β compared to the two-transistor current source, which increases the stability of the current source with changes in output voltage. Wilson Current Source Another configuration of a three-transistor current source, called a Wilson current source, is shown in Figure 10.8. This circuit also has a large output resistance. Our analysis again assumes identical transistors, with IB1 = IB2 and IC1 = IC2. The current levels in all three transistors are nearly the same; therefore, we can assume that the current gains of the three transistors are equal. Nodal equations at the collector of Q1 and the emitter of Q3 yield IREF = IC1 + IB3 (10.21) and ( ) 2 IE3 = IC2 + 2IB2 = IC2 1 + (10.22) β Using the relationships between the base, collector, and emitter currents in Q3, we can write the collector current IC2, from( Equati)on (10.22), as follows: = ( IE3 ) = ( 1 ) × 1 + ( ) β 1 + β IC2 I 2 2 C3 = I (10.23) β 2 + C3 β 1 + 1 + β β V+ IC3 = IO IREF Q3 IB3 II C1 E3 IC2 Q1 Q2 IB1 IB2 Figure 10.8 Wilson current source nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 698 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 698 Part 2 Analog Electronics If we replace IC1 by IC2 in( Equatio)n (10.21), the reference current becomes = + = 1 + β I IREF IC2 I C3 B3 2 + IC3 + (10.24) β β Rearranging terms, we can solve for the output current, 1 IC3 = IO = IREF × (10.25) 2 1 + β(2 + β) This current relationship is essentially the same as that of the previous three- transistor current source. The difference between the two three-transistor current-source circuits is the output resistance. In the Wilson current source, the output resistance looking into the collector of Q is Ro ∼ 3 = βro3/2, which is approximately a factor β/2 larger than that of either the two-transistor source or the basic three-transistor source. This means that, in the Wilson current source, the change in bias current IO with a change in output collector voltage is much smaller. Output Voltage Swing If we consider the equivalent circuit in Figure 10.3, we see that the maximum possible swing in the output voltage is a function of the minimum possible collector– emitter voltage of Q2. For the two-transistor current source in this figure, the minimum value of VC E2 = VC E (sat), which maybe on the order of 0.1 to 0.3 V. For the cascode and Wilson current sources, the minimum output voltage is VB E + VC E (sat) above the negative power supply voltage, which maybe on the order of 0.7 to 0.9 V. For circuits biased at ±5 V, for example, this increased minimum voltage may not be a serious problem. However, as the voltages decrease in low-power circuits, this minimum voltage effect may become more serious. Problem-Solving Technique: BJT Current Source Circuits 1. Sum currents at the various nodes in the circuit to find the relation between the reference current and the bias current. 2. To find the output resistance of the current source circuit, place a test voltage at the output node and analyze the small-signal equivalent circuit. Keep in mind that the reference current is a constant, which may make some of the base voltages constant or at ac ground. 10.1.3 Widlar Current Source In the current-source circuits considered thus far, the load and reference currents have been nearly equal. For a two-transistor current source, such as that shown in Figure 10.2(a), if we require a load current of I = 10 μA, then, for V + O = 5 V and V − = −5 V, the required resistance value is V + = − V − RB E − V ∼ 1 = 5 − 0.7 − (−5) IREF 10 × − = 930 k 10 6 In ICs, resistors on the order of 1 M require large areas and are difficult to fabricate accurately. We therefore need to limit IC resistor values to the low kilohm range. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 699 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 699 V+ IC2 = IO IREF R1 Ro VC2 IC1 Q1 Q + + 2 VBE1 VBE2 – – IE2 REV – Figure 10.9 Widlar current source The transistor circuit in Figure 10.9, called a Widlar current source, meets this objective. A voltage difference is produced across resistor RE, so that the BE voltage of Q2 is less than the BE voltage of Q1. A smaller BE voltage produces a smaller collector current, which in turn means that the load current IO is less than the reference current IREF. Current Relationship If β  1 for Q1 and Q2, and if the two transistors are identical, then I ∼ REF = IC1 = I eVB E1/VT S (10.26(a)) and I = I = I eVB E2/VT O C2 S (10.26(b)) Solving for the B–(E volta)ges, we have VB E1 = I VT ln REF (10.27(a)) IS and ( ) = IV OB E2 VT ln (10.27(b)) IS Combining Equations (10.(27(a)) )and (10.27(b)) yields VB E1 − IV REF BE2 = VT ln (10.28) IO From the circuit, we see that VB E1 − VB E2 = IE2 RE ∼= IO RE (10.29) When we combine (Equati)ons (10.28) and (10.29), we obtain: I IO RE = VT ln REF (10.30) IO This equation gives the relationship between the reference and bias currents. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 700 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 700 Part 2 Analog Electronics DESIGN EXAMPLE 10.4 Objective: Design a Widlar current source to achieve specified reference and load currents. Specifications: The circuit to be designed has the configuration shown in Figure 10.9. Assume bias voltages of V + = +5 V and V − = −5 V. Assume VB E1 = 0.7 V. Design the circuit such that IREF = 1 mA and IO = 12 μA. Choices: Assume that matched transistors are available and that base currents can be neglected. Also assume that IC resistors of any value can be fabricated. Solution: Resistance R1 is V + − V − BE1 − V 5 − 0.7 − (−5) R1 = = = 9.3 k IREF 1 Resistance RE is,( from E)quation (10.3(0), ) = VT IREF = 0.026 1 RE ln ln = 9.58 k IO IO 0.012 0.012 From Equation (10.29), we can determine the difference between the two BE voltages, as follows: V − V = IR = (12 × 10−6 3 BE1 BE2 OE )(9.58 × 10 ) = 0.115 V Tradeoffs: A slight variation in VB E1 and slight tolerance variations in resistor values will change the current values slightly. These effects are evaluated in end-of- chapter problems. Comment: A difference of 115 mV in the BE voltages of Q1 and Q2 produces approximately two orders of magnitude difference between the reference and load currents. Therefore, we can produce a very low bias current using resistors in the low kilohm range. These resistors can easily be fabricated in an IC. Including the resistor RE gives the designer additional versatility in adjusting the load to reference current ratio. EXERCISE PROBLEM Ex 10.4: Consider the Widlar current source in Figure 10.9. The bias voltages are V + = 3 V and V − = −3 V. Design the circuit such that IO = 20 μA and IREF = 100 μA. Assume VB E1 = 0.6 V and VA = ∞, and neglect base currents. Determine R1, RE , and VB E2. (Ans. R1 = 54 k, RE = 2.09 k, VB E2 = 0.558 V) In our analysis of constant-current source circuits, we have assumed a piecewise linear approximation for the BE voltage, VB E (on). However, in the Widlar current source and other current-source circuits, the piecewise linear approximation is not adequate, since the BE voltages are not all equal. With the exponential relationship between collector current and base–emitter voltage, as shown in Equations (10.26(a)) and (10.26(b)), a small change in BE voltage produces a large change in collector current. To take this variation into account, either the reverse-biased saturation current IS or the BE voltage at a particular collector current must be known. Also in our analysis, we have assumed that the temperatures of all transistors are equal. Maintaining equal temperatures is important for proper circuit operation. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 701 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 701 EXAMPLE 10.5 Objective: To determine the currents in a Widlar current source circuit. Assume the Widlar source is biased at V + = +5 V and V − = −5 V, and assume resistor values R1 = 7 k and RE = 4 k. Also assume VB E1 = 0.7 V. Solution: The reference current is found to be V + = − VB E1 − V − = 5 − 0.7 − (−5) IREF = 1.33 mA R1 7 The load current is( found )from the relation IR = IV ln REF OE T IO or ( ) = 1.33 IO(4) 0.026 ln IO A transcendental equation cannot be solved directly. A computer solution or atrial and error solution yields IO ∼= 25.7 μA Comment: In this case, the difference between the two base–emitter voltages is V+ IO RE ∼= 103 mV. Again, a relatively small difference in the two base–emitter voltages can produce a relatively large difference between the reference and load currents. IREF IO EXERCISE PROBLEM Ex 10.5: Consider the circuit in Figure 10.10. Assume the reference current is IREF = Q Q 120 μA and assume the transistor parameters are I = I = 2 × 10−16 A. 1 2 S1 S2 Neglect base currents. (a) Find VB E1. (b) If IO = 50 μA, determine VB E2 and RE . (c) Find IO if RE = 700 . What is VB E2? (Ans. (a) VB E1 = 0.7051 V; (b) RE = 455 , VB E2 = 0.6824 V; (c) IO = 40.4 μA, VB E2 = 0.6768 V) RE Output Resistance The change in load current with a change in voltage VC2 of the Widlar current source V – in Figure 10.9 can be expressed as Figure 10.10 Figure or d IO = 1 (10.31) Exercise Ex 10.5 dVC2 Ro where Ro is the output resistance looking into the collector of Q2. This output resistance can be determined by using the small-signal equivalent circuit in Figure 10.11(a). (Again, we use the phasor notation in small-signal analyses.) The base, collector, and emitter terminals of each transistor are indicated on the figure. First, we calculate the resistance Ro1 looking into the base of Q1. Writing a KCL equation at the base of Q1, we obtain VI = x1 V x1 + gm1V x1 r π1 + ‖ (10.32) π1 ro1 R1 nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 702 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 702 Part 2 Analog Electronics Ro1 V CB1 V 1 x1 BC Rx 2 2 o = Ix + Ix1 + Ix R1 ro1 rp V Vp 2 r 1 pp 2 ro2 1 g Vp – – gm1 1 m2Vp 2 + V E Ex 1 2 RE (a) r Ro o2 V Ro = x Ix Ix + Ix + Vp 2 rp ro gr V 2 2 m2 o2 p 2 – gm2Vp 2 + – Vx + – Vx – Vp 2 rp 2 RE RE + (b) (c) Figure 10.11 (a) Small-signal equivalent circuit for determining output resistance of Widlar current source, (b) simplified equivalent circuit for determining output resistance, and (c) equivalent circuit after a Norton transformation Noting that Vπ1 = Vx1, we have 1 = Ix1 = 1 + 1 gm1 + (10.33(a)) Ro1 Vx1 rπ1 ro1‖R1 or Ro = r ∥∥∥ 1 1 π1∥ ‖ro1‖R1 (10.33(b)) gm1 Next, we calculate the approximate value for Ro1. If IREF = 1 mA, then for β = 100, rπ1 = 2.6 k and gm1 = 38.5 mA/V. Assume that R1 = 9.3 k and ro1 = ∞. For these conditions, Ro ∼ 1 = 0.026 k = 26 . For a load current of IO = 12 μA, we find rπ2 = 217 k. Resistance Ro1 is in series with rπ2, and since Ro1  rπ2, we can neglect the effect of Ro1, which means that the base of Q2 is essentially at signal ground. Now we determine the output resistance at the collector of Q2, using the simplified equivalent circuit in Figure 10.11(b). The Norton equivalent of the current source gm2Vπ2 and resistance ro2 can be transformed into a Thevenin equivalent circuit, as shown in Figure 10.11(c). Resistances rπ2 and RE are in parallel; therefore, we define R′ E = RE‖rπ2. Since the current through the parallel combination of RE and rπ2 is Ix, we have Vπ2 = −Ix R′ E (10.34) nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 703 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 703 Writing a KVL equation, we obtain Vx = Ixro2 − gm2ro2Vπ2 + I ′ x RE (10.35) Substituting Equatio[n (10.34)( into (10.35)) ]yields Vx = 1 Ro = ro2 1 + R′ E gm2 + (10.36) Ix ro2 Normally, (1/ro2)  gm2; therefore, Ro ∼= ro2(1 + g ′ m2 RE) (10.37) The output resistance of the Widlar current source is a factor (1 + g ′ m2 RE) larger than that of the simple two-transistor current source. EXAMPLE 10.6 Objective: Determine the change in load current with a change in collector voltage in a Widlar current source. Consider the circuit in Figure 10.9. The parameters are: V + = 5 V, V − = −5 V, R1 = 9.3 k, and RE = 9.58 k. Let VA = 80 V and β = 100. Determine the change in IO as VC2 changes by 4 V. Solution: From Example 10.4, we have IO = 12 μA. The small-signal collector resistance is r = VA = 80 o2 ⇒ 6.67 M IO 0.012 We can determine that = IO = 0.012 gm2 = 0.462 mA/V VT 0.026 and = βVT = (100)(0.026) rπ2 = 217 k IO 0.012 The output resistance of the circuit is Ro = ro2[1 + gm2(RE‖rπ2)] = (6.67) · [1 + (0.462)(9.58‖217)] = 34.9 M From Equation (10.31), the change in load current is d IO = 1 1 dVC2 = × 4 ⇒ 0.115 μA Ro 34.9 × 106 The percentage change in output current is then d IO = 0.115 = 0.0096 ⇒ 0.96% IO 12 Comment: The stability of the load current, as a function of a change in output voltage, is improved in the Widlar current source, compared to the simple two-transistor current source. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 704 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 704 Part 2 Analog Electronics EXERCISE PROBLEM Ex 10.6: A Widlar current source is shown in Figure 10.9. The parameters are: V + = 5 V, V − = 0, IREF = 0.70 mA, and IO = 25 μA at VC2 = 1 V. The transistor parameters are: β = 150, VB E1(on) = 0.7 V, and VA = 100 V. Determine the change in IO when VC2 changes from 1 V to 4 V. (Ans. d IO = 0.176 μA) 10.1.4 Multitransistor Current Mirrors In the previous current sources, we established a reference current and one load current. In the two-transistor current source in Figure 10.2(a), the BE junction of the diode-connected transistor Q1 is forward biased when the bias voltages V + and V − are applied. Once VB E is established, the voltage is applied to the BE junction of Q2, which turns Q2 on and produces the load current IO. The BE voltage of Q1 can also be applied to additional transistors, to generate multiple load currents. Consider the circuit in Figure 10.12. Transistor QR, which is the reference transistor, is connected as a diode. The resulting BE voltage of QR, established by IREF, is applied to N output transistors, creating N load currents. The relationship between each load current and the reference current, assuming all transistors are matched and VA = ∞, is IO1 = IO2 = · · · = II = REF ON (1 + N (10.38) ) 1 + β V+ V+ IO IREF R1 II R O1 IO2 ION REF 1 I1 I2 I3 QR Q Q Q N Q 1 2 R Q Q Q3 1 2 V – Figure 10.12 Multitransistor current mirror Figure 10.13 Multioutput transistor current source The collectors of multiple output transistors can be connected together, changing the load current versus reference current relationship. As an example, the circuit in Figure 10.13 has three output transistors with common collectors and a load current IO. We assume that transistors QR, Q1, Q2, and Q3 are all matched. If the current gain β is very large, the base currents can be neglected, I1 = I2 = I3 = IREF, and the load current is IO = 3IREF. [Note: This process is not recommended for discrete devices, since a mismatch between devices will generally cause one device to carry more current than the other devices.] Connecting transistors in parallel increases the effective BE area of the device. In actual IC fabrication, the BE area would be doubled or tripled to provide a load current twice or three times the value of IREF. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 705 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 705 V+ + VEB – QR1 Q Q 4 3 IO3 IO4 IR REF 1 IO2 IO1 QR2 Q2 + Q1 VBE – N (a) (b) (c) V – Figure 10.14 Equivalent circuit symbols (a) two Figure 10.15 Generalized current mirror transistors in parallel, (b) three transistors in parallel, and (c) N transistors in parallel Rather than drawing each set of parallel output transistors, we can use the circuit symbols in Figure 10.14. Figure 10.14(a) is the equivalent symbol for two transistors connected in parallel, Figure 10.14(b) is for three transistors in parallel, and Figure 10.14(c) is for N transistors in parallel. Although the transistors appear to be multiemitter devices, we are simply indicating devices with different BE junction areas. A generalized current mirror is shown in Figure 10.15. We can use pnp transistors to establish the load currents, as shown in the figure. Transistors QR1 and QR2 are connected as diodes. The reference current is established in the branch of the circuit that has the diode-connected transistors, resistor R1, and bias voltages, and is given by V + − IREF = − VE B(QR1) − VB E(QR2) − V (10.39) R1 If β for each transistor is very large, the base current effects can be neglected. Then the load current IO1 generated by output transistor Q1 is equal to IREF. Likewise, Q3 generates a load current IO3 equal to IREF. Implicitly, all transistors are identical, all load transistors are biased in their forward-active region, and all transistor Early voltages are infinite. Transistor Q2 is effectively two transistors in parallel; then, since all transistors are identical, IO2 = 2IREF. Similarly, Q4 is effectively three transistors connected in parallel, which means that the load current is IO4 = 3IREF. In the above discussion, we neglected the effect of base currents. However, a finite β causes the collector currents in each load transistor to be smaller than IREF since the reference current supplies all base currents. This effect becomes more severe as more load transistors are added. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 706 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 706 Part 2 Analog Electronics DESIGN EXAMPLE 10.7 Objective: Design a generalized current mirror to meet a set of specifications. Specifications: The circuit to be designed has the configuration shown in Figure 10.15. The bias voltages are V + = +5 V and V − = −5 V. Neglect base currents and assume VB E = VE B = 0.6 V. Design the circuit such that IO2 = 400 μA. Determine the other currents and find the value for R1. Solution: For IO2 = 400 μA, we have IREF = IO1 = IO3 = 200 μA and IO4 = 600 μA Resistor R1 is = V + − VE B(Q − RR1) − VB E(QR2) − V = 5 − 0.6 − 0.6 − (−5) 1 IREF 0.2 or R1 = 44 k Tradeoffs: Base currents were neglected in this ideal design. Including the effects of base currents (a finite β) will change the current and resistor values slightly. Comment: If the load and reference currents are to be within a factor of approximately four of each other, it is more efficient, from an IC point of view, to adjust the BE areas of the transistors to achieve the specified currents rather than use the Widlar current source with its additional resistors. Design Pointer: This example demonstrates that a single reference current can be used to induce multiple load currents, which can be used to bias various stages of a complex circuit. We will see specific examples of this technique in Chapter 13 when we consider actual operational amplifier circuits. EXERCISE PROBLEM *Ex 10.7: Figure 10.12 shows the N-output current mirror. Assuming all transistors are matched, with a finite gain and VA = ∞, derive Equation (10.38). If each load current must be within 10 percent of IREF, and if β = 50, determine the maximum number of load transistors that can be connected. (Ans. N = 4) Test Your Understanding TYU 10.1 The circuit parameters for the current source shown in Figure 10.2(b) are V + = 2.5 V and V − = −2.5 , and the transistor parameters are VB E(on) = 0.7 V, β = 120, and VA = ∞. Design the circuit such that IO = 0.20 mA. What is the value of IREF? (Ans. R1 = 21.15 k, IREF = 0.2033 mA) TYU 10.2 Consider the circuit in Figure 10.2(a). The current source is IREF = 150 μA. The transistor parameters are I = 8 × 10−15 A, I = 5 × 10−15 S1 S2 A, and β = 150. Determine VB E1 and IO . (Ans. VB E1 = 0.6150 V, IO = 93.75 μA) TYU 10.3 For the Wilson current source in Figure 10.8, the transistor parameters are: VB E(on) = 0.7 V, β = 50, and VA = ∞. For IREF = 0.50 mA, determine all currents nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 707 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 707 shown in the figure. (Ans. IO = 0.4996 mA, IB3 = 9.99 μA, IE3 = 0.5096 mA, IC2 = 0.490 mA = IC1, IB1 = IB2 = 9.80 μA) TYU 10.4 The circuit and transistor parameters for the circuits in Figures 10.2(b) and 10.9 are V + = 3 V, V − = −3 V, IREF = 1 mA, β = 200, and VA = 50 V. For the circuit in Figure 10.9, let RE = 2 k. For each circuit, determine (a) IO , (b) Ro, and (c) d IO/IO (in percent) for VC2 = 3 V. (Ans. (a) IO = 1 mA, IO = 41.4 μA; (b) Ro = 50 k, Ro = 5.0 M; (c) 6%, 1.45%) 10.2 FET CURRENT SOURCES Objective: • Analyze and understand the characteristics of various MOSFET (and a few JFET) circuits used to provide a constant output current. Field-effect transistor integrated circuits are biased with current sources in much the same way as bipolar circuits. We will examine the relationship between the reference and load currents, and will determine the output impedance of the basic two-transistor MOSFET current source. We will then analyze multi-MOSFET current-source circuits to determine reference and load current relationships and output impedance. Finally, we will discuss JFET constant-current source circuits. 10.2.1 Basic Two-Transistor MOSFET Current Source Current Relationship Figure 10.16 shows a basic two-transistor NMOS current source. The drain and source terminals of the enhancement-mode transistor M1 are connected, which means that M1 is always biased in the saturation region. Assuming λ = 0, we can write the reference current as IREF = K 2 n1(VGS − VT N1) (10.40) Solving for VGS yiel√ds IV = V + REF GS TN1 (10.41) Kn1 V+ ID2 = IO IREF Ro + + VDS M1 M 1 2 VDS2 – + – VGS – V – Figure 10.16 Basic two-transistor MOSFET current source"
10.2 FET Current Sources,"10.2 FET CURRENT SOURCES Objective: • Analyze and understand the characteristics of various MOSFET (and a few JFET) circuits used to provide a constant output current. Field-effect transistor integrated circuits are biased with current sources in much the same way as bipolar circuits. We will examine the relationship between the reference and load currents, and will determine the output impedance of the basic two-transistor MOSFET current source. We will then analyze multi-MOSFET current-source circuits to determine reference and load current relationships and output impedance. Finally, we will discuss JFET constant-current source circuits. 10.2.1 Basic Two-Transistor MOSFET Current Source Current Relationship Figure 10.16 shows a basic two-transistor NMOS current source. The drain and source terminals of the enhancement-mode transistor M1 are connected, which means that M1 is always biased in the saturation region. Assuming λ = 0, we can write the reference current as IREF = K 2 n1(VGS − VT N1) (10.40) Solving for VGS yiel√ds IV = V + REF GS TN1 (10.41) Kn1 V+ ID2 = IO IREF Ro + + VDS M1 M 1 2 VDS2 – + – VGS – V – Figure 10.16 Basic two-transistor MOSFET current source nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 708 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 708 Part 2 Analog Electronics For the drain current to be independent of the drain-to-source voltage (for λ = 0), transistor M2 should always be biased in the saturation region. The load current is then IO = Kn2(VGS − VT N2) 2 (10.42) Substituting Eq[u√ation (10.41) into (10.4]2), we have 2 II = K REF On2 + VT N1 − VT N2 (10.43) Kn1 If M1 and M2 are identical transistors, then VT N1 = VT N2 and Kn1 = Kn2, and Equation (10.43) becomes IO = IREF (10.44) Since there are no gate currents in MOSFETs, the induced load current is identical to the reference current, provided the two transistors are matched. The relationship between the load current and the reference current changes if the width-to-length ratios, or aspect ratios, of the two transistors change. If the transistors are matched except for the aspect ratios, we find IO = (W/L)2 · IREF (10.45) (W/L)1 The ratio between the load and reference currents is directly proportional to the aspect ratios and gives designers versatility in their circuit designs. Output Resistance The stability of the load current as a function of the drain-to-source voltage is an important consideration in many applications. The drain current versus drain-to-source voltage is similar to the bipolar characteristic shown in Figure 10.4. Taking into account the finite output resistance of the transistors, we can write the load and reference currents as follows: IO = Kn2(V 2 GS − VT N2) (1 + λ2VDS2) (10.46(a)) and IREF = Kn1(VGS − V 2 TN1) (1 + λ1VDS1) (10.46(b)) Since transistors in the current mirror are processed on the same integrated circuit, all physical parameters, such as VTN, μn , Cox, and λ, are essentially identical for both devices. Therefore, taking the ratio of IO to IREF, we have IO = (W/L)2 · (1 + λVDS2) (10.47) IREF (W/L)1 (1 + λVDS1) Equation (10.47) again shows that the ratio IO/IREF is a function of the aspect ratios, which is controlled by the designer, and it is also a function of λ and VDS2. As before, the stability of the load current can be described in terms of the output resistance. Note from the circuit in Figure 10.16 that VDS1 = VGS1 = constant for a given reference current. Normally, λVDS1 = λVGS1  1, and if (W/L)2 = (W/L)1, then the change in bias current with respect to a change in VDS2 is 1 ≡ d IO = 1 (10.48(a)) Ro dVDS2 ro nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 709 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 709 where = 1 ro (10.48(b)) λIO where ro is the output resistance of the transistor. As we found with bipolar current- source circuits, MOSFET current sources require a large output resistance for excellent stability. Reference Current The reference current in bipolar current-source circuits is generally established by the bias voltages and a resistor. Since MOSFETs can be configured to act like a resistor, the reference current in MOSFET current mirrors is usually established by using additional transistors. Consider the current mirror shown in Figure 10.17. Transistors M1 and M3 are in series; assuming λ = 0, we can write, K 2 2 n1(VGS1 − VT N1) = Kn3(VGS3 − VT N3) (10.49) V+ IREF MID2 = IO 3 + VGS3 – M1 M2 + + VGS1 VGS2 – – V – Figure 10.17 MOSFET current source If we again assume that VT N , μn, and Cox are identical in all transistors, then Equation (10.49) c√an be rewritten ( √ ) VGS1 = (W/L)3 · (W/L) VGS3 + 1 − 3 · VT N (10.50) (W/L)1 (W/L)1 where VT N is the threshold voltage of both transistors. From the circuit, we see that V + V + − GS1 GS3 = V − V (10.51) Therefore, √ ( √ ) (W/L)3 (W/L)3 = √ 1 − (W/L)1 + − ( √ (W/L) VGS1 · (V − 1 V ) + ) · VT N = VGS2 (W/L) (W/L) 1 + 3 1 + 3 (W/L)1 (W/L)1 (10.52) nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 710 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 710 Part 2 Analog Electronics Finally, the load( cur)rent, for λ = 0, is given by k ′ I = n · W O (VGS2 − VT N )2 (10.53) 2 L 2 Since the designer has control over the width-to-length ratios of the transistors, there is considerable flexibility in the design of MOSFET current sources. DESIGN EXAMPLE 10.8 Objective: Design a MOSFET current source circuit to meet a set of specifications. Specifications: The circuit to be designed has the configuration shown in Figure 10.17. The bias voltages are V + = 2.5 V and V − = 0. Transistors are available with parameters k ′ n = 100 μA/V2, VT N = 0.4 V, and λ = 0. Design the circuit such that IREF = 100 μA, IO = 60 μA, and VDS2(sat) = 0.4 V. Solution: We have VDS2(sat) = 0.4 = VGS2 − 0.4, so that VGS2 = VGS1 = 0.8 V. Then( for )transistor M2, W = ( ) I0 = ( ) 60 ′ = 7.5 L 2 kn − 100 (V 2 2 2 GS2 VT N ) (0.8 − 0.4) 2 Fort(ransi)stor M1, W = ( IREF 100 L k ′ ) = ( ) = 12.5 1 n − 100 (VGS1 V 2 TN ) (0.8 − 0.4)2 2 2 The value of (VGS3 is fou)nd as VGS3 = V + − V − − VGS1 = 2.5 − 0.8 = 1.7 V Then( for )transistor M3 we find W = ( ) IREF = ( ) 100 ′ = 1.18 L 3 kn 100 (VGS3 − V 2 TN ) (1.7 − 0.4)2 2 2 Tradeoffs: As with other designs, slight variations in transistor parameters (k ′ n , W/L , and VT N ) will change the current values slightly. See Test Your Understanding exercise TYU 10.5. Comment: In this design, the output transistor remains biased in the saturation region for VDS > VDS(sat) = VGS − VT N = 0.8 − 0.4 = 0.4 V Design Pointer: As with most design problems, there is not a unique solution. The general design criterion was that M2 was biased in the saturation region over a wide range of VDS2 values. Letting VGS2 = 0.8 V was somewhat arbitrary. If VGS2 were smaller, the width-to-length ratios of M1 and M2 would need to be larger. Larger values of VGS2 would result in smaller width-to-length ratios. The value of VGS3 is the difference between the bias voltage and VGS1. If VGS3 becomes too large, the ratio (W/L)3 will become unreasonably small (much less than 1). Two or more transistors in series can be used in place of M3 to divide the voltage in order to provide reasonable W/L ratios (see end-of-chapter problems). nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 711 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 711 EXERCISE PROBLEM Ex 10.8: For the circuit shown in Figure 10.17, the bias voltages are V + = 1.8 V and V − = −1.8 V, and the transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, and λ = 0. Design the circuit such that IREF = 0.5 mA and IO = 0.1 mA, and that M2 remains biased in the saturation region for VDS2 ≥ 0.4 V. (Ans. (W/L)1 = 62.5, (W/L)2 = 12.5, (W/L)3 = 1.74) Problem-Solving Technique: MOSFET Current-Source Circuit 1. Analyze the reference side of the circuit to determine gate-to-source voltages. Using these gate-to-source voltages, determine the bias current in terms of the reference current. 2. To find the output resistance of the current source circuit, place a test voltage at the output node and analyze the small-signal equivalent circuit. Keep in mind that the reference current is a constant, which may make some of the gate voltages constant or at ac ground. 10.2.2 Multi-MOSFET Current-Source Circuits Cascode Current Mirror In MOSFET current-source circuits, the output resistance is a measure of the stability with respect to changes in the output voltage. This output resistance can be increased by modifying the circuit, as shown in Figure 10.18, which is a cascode current mirror. The reference current is established by including another MOSFET in the reference branch of the circuit as was done in the basic two-transistor current mirror. Assuming all transistors are identical, then IO = IREF. To determine the output resistance at the drain of M4, we use the small-signal equivalent circuit. Since IREF is a constant, the gate voltages to M1 and M3, and hence to M2 and M4, are constant. This is equivalent to an ac short circuit. The ac equivalent circuit for calculating the output resistance is shown in Figure 10.19(a). V + IO IREF V VD4 Ro = x IR x Go 4 + M3 M4 Ix Ix Vgs4 ro4 M4 gmVgs4 r – o + 2 Vx + VS – MM – x 4 1 2 Mr 2 o2 V – (a) (b) Figure 10.18 MOSFET cascode Figure 10.19 Equivalent circuits of the MOSFET cascode current mirror current mirror for determining output resistance nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 712 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 712 Part 2 Analog Electronics The small-signal equivalent circuit is given in Figure 10.19(b). The small-signal resistance looking into the drain of M2 is rO2. Writing a KCL equation, in phasor form, at the output node, we have V − (−V ) Ix = g V x gs4 m gs4 + (10.54) ro4 Also, Vgs4 = −Ixro2 (10.55) Substituting Equation (10.55) into (10.54), we obtain + r Io2 V x Ix + g x r mro2 Ix = (10.56) o4 ro4 The output resistance is then = V Rx o = ro4 + ro2(1 + gmro4) (10.57) Ix Normally, gmro4  1, which implies that the output resistance of this cascode configuration is much larger than that of the basic two-transistor current source. EXAMPLE 10.9 Objective: Compare the output resistance of the cascode MOSFET current source to that of the two-transistor current source. Consider the two-transistor current source in Figure 10.17 and the cascode current source in Figure 10.18. Assume IREF = IO = 100 μA in both circuits, λ = 0.01 V−1 for all transistors, and gm = 0.5 mA/V. Solution: The output resistance of the two-transistor current source is, from Equation (10.48(b)), = 1 = 1 ro ⇒ 1 M λIREF (0.01)(0.10) For the cascode circuit, we have ro2 = ro4 = 1 M. Therefore, the output resistance of the cascode circuit is, from Equation (10.57), Ro = ro4 + ro2(1 + gmro4) = 1 + (1)[1 + (0.5 × 10−3)(106)] or Ro = 502 M Comment: The output resistance of the cascode current source is substantially larger than that of the basic two-transistor circuit. Since d IO ∝ 1/Ro , the load current in the cascode circuit is more stable against variations in output voltage. Design Pointer: Achieving the output resistance of 502 M assumes the transistors are ideal. In fact, small leakage currents will begin to be a factor in actual output resistance values, so a value of 502 M may not be achieved in reality. nea80644_ch10_687-752.qxd 6/19/09 4:27 AM Page 713 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 713 EXERCISE PROBLEM Ex 10.9: In the MOSFET cascode current source shown in Figure 10.18, all transistors are identical, with parameters: VT N = 1 V, Kn = 80 μA/V2, and λ = 0.02 V−1. Let IREF = 20 μA. The circuit is biased at V + = 5 V and V − = −5 V. Determine: (a) VGS of each transistor, (b) the lowest possible voltage value VD4, and (c) the output resistance Ro. (Ans. (a) VGS = 1.5 V (b) VD4(min) = −3.0 V (c) Ro = 505 M) Wilson Current Mirror Two additional multi-MOSFET current sources are shown in Figures 10.20(a) and 10.20(b). The circuit in Figure 10.20(a) is the Wilson current source. Note that the VDS values of M1 and M2 are not equal. Since λ is not zero, the ratio IO/IREF is slightly different from the aspect ratios. This problem is solved in the modified Wilson current source, shown in Figure 10.20(b), which includes transistor M4. For a constant reference current, the drain-to-source voltages of M1, M2, and M4 are held constant. The primary advantage of these circuits is the increase in output resistance, which further stabilizes the load current. V + V+ II O REF IO IREF M3 M4 M3 M1 M2 M1 M2 V – V – (a) (b) Figure 10.20 (a) MOSFET Wilson current source and (b) modified MOSFET Wilson current source Wide-Swing Current Mirror If we consider the cascode current mirror in Figure 10.18, we can determine the minimum value of VD4, which will influence the maximum symmetrical swing of the voltage in the load circuit being biased. The gate voltage of M4 is V − G4 = V + VGS1 + VGS3 (10.58) The minimum VD4 is then VD4(min) = VG4 − VGS4 + VDS4(sat) (10.59) Assuming matched transistors, VGS1 = VGS2 = VGS4 ≡ VGS . We then find V − D4(min) = V + (VGS + VDS4(sat)) (10.60) nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 714 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 714 Part 2 Analog Electronics In considering the simple two-transistor current mirror, the minimum output voltage is VO(min) = V − + VDS(sat) (10.61) If, for example, VGS = 0.75 V and VT N = 0.50 V, then from Equation (10.60), VD4(min) = 1.0 V above V −, and from Equation (10.61), VO(min) is only 0.25 V above V −. For bias voltages in the range of ±3.5 V, this additional required voltage across the output of the cascode current mirror can have a significant effect on the output of the load circuit. One current mirror circuit that does not limit the output voltage swing as severely as the cascode circuit, but retains the high output resistance, is shown in Figure 10.21. Width-to-length ratios of the transistors are shown. Otherwise, the transistors are assumed to be identical. V + V + IREF IREF IO = IREF VBias V W D1 W 1 W LL 4 L M4 M1 M5 WW LL M3 M2 Figure 10.21 A wide-swing MOSFET cascode current mirror The transistor pair M3 and M4 acts like a single diode-connected transistor in creating the gate voltage for M3. By including M4, the drain-to-source voltage of M3 is reduced and is matched to the drain-to-source voltage of M2. Since M5 is one- fourth the size of M1−M4 and since all drain currents are equal, we have (VGS5 − VT N ) = 2(VGSi − VT N ) (10.62) where VGSi corresponds to the gate-to-source voltage of M1 − M4. The voltage at the gate of M1 is VG1 = VGS5 = (VGS5 − VT N ) + VT N (10.63) The minimum output voltage at the drain of M1 is VD1(min) = VG1 − VGS1 + VDS1(sat) = [(VGS5 − VT N ) + VT N ] − VGS1 + (VGS1 − VT N ) (10.64) or VD1(min) = VGS5 − VT N = 2(VGSi − VT N ) = 2VDSi (sat) (10.65) If we have VGSi = 0.75 V and VT N = 0.5 V, then VD1(min) = 0.50 V, which is one- half the value for the cascode circuit. At the same time, the high output resistance is maintained. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 715 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 715 Discussion: In the ideal circuit design in Figure 10.21, the transistors M3 and M4 are biased exactly at the transition point between the saturation and non-saturation regions. The analysis has neglected the body effect, so threshold voltages will not be exactly equal. In an actual circuit design, therefore, the size of M5 will be made slightly smaller to ensure transistors are biased in the saturation region. This design change then means that the minimum output voltage increases by perhaps 0.1 to 0.15 V. 10.2.3 Bias-Independent Current Source In all of the current mirror circuits considered up to this point (both BJT and MOSFET), the reference current is a function of the applied supply voltages. This implies that the load current is also a function of the supply voltages. In most cases, the supply voltage dependence is undesirable. Circuit designs exist in which the load currents are essentially independent of the bias. One such MOSFET circuit is shown in Figure 10.22. The width-to-length ratios are given. V + 5 1 M4 M3 M6 5 1 IO2 ID1 ID2 IO1 50 M 1 1 MM 5 5 2 1 RV – Figure 10.22 Bias-independent MOSFET current mirror Since the PMOS devices are matched, the currents ID1 and ID2 must be equal. Equating the c(urren)ts in M1 and M2, we find ( ) = k ′ n W − k ′ W ID1 (VGS1 VT N )2 = ID2 = n (V 2 GS2 − VT N ) (10.66) 2 L 1 2 L 2 Also VGS2 = VGS1 − ID2 R (10.67) Substituting Equatio(n (10.√67) into Eq)uation (10.66) and solving for R, we obtain = √ 1 − (W/L) R 1 1 (10.68) Kn1 ID1 (W/L)2 This value of resistance R will establish the drain currents ID1 = ID2. These currents establish the gate-to-source voltage across M1 and source-to-gate voltage across M3. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 716 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 716 Part 2 Analog Electronics These voltages, in turn, can be applied to M5 and M6 to establish load currents IO1 and IO2. The currents ID1 and ID2 are independent of the supply voltages V + and V − as long as M2 and M3 are biased in the saturation region. As the difference, V + − V −, increases, the values of VDS2 and VSD3 increase but the currents remain essentially constant. Similar bipolar bias-independent current mirror designs exist, but will not be covered here. 10.2.4 JFET Current Sources iD + Current sources are also fundamental elements in JFET integrated circuits. The simplest vDS method of forming a current source is to connect the gate and source terminals of a – depletion-mode JFET, as shown in Figure 10.23 for an n-channel device. The device will remain biased in the saturation region as long as vDS ≥ vDS(sat) = vGS − VP = |VP | (10.69) In the saturation region, the current is Figure 10.23 Depletion- ( ) mode JFET connected 2 vGS as a current source iD = IDSS 1 − (1 + λvDS) = IDSS(1 + λvDS) (10.70) VP The output resistance looking into the drain is, from Equation (10.70), 1 = diD = λI rd DSS (10.71) o vDS This expression for the output resistance of a JFET current source is the same as that of the MOSFET current source. V+ = 5 V EXAMPLE 10.10 Objective: Determine the currents and voltages in a simple JFET circuit biased with RD a constant-current source. V Consider the circuit shown in Figure 10.24. The transistor parameters are: O IDSS1 = 2 mA, IDSS2 = 1 mA, VP1 = VP2 = −1.5 V, and λ1 = λ2 = 0.05 V−1. Q Determine the minimum values of VS and VI such that Q2 is biased in the saturation 1 VI region. What is the value of IO? VS IO Solution: In order for Q2 to remain biased in the saturation region, we must have Q2 vDS ≥ |VP | = 1.5 V, from Equation (10.69). The minimum value of VS is then VS(min) − V − = vDS(min) = 1.5 V or V – = –5 V V (min) = 1.5 + V − S = 1.5 + (−5) = −3.5 V Figure 10.24 The dc equivalent circuit of simple From Equation (10.70), the output current is JFET amplifier biased with JFET current source iD = IO = IDSS2(1 + λvDS) = (1)[1 + (0.05)(1.5)] = 1.08 mA nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 717 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 717 As a first approximation in calculating the minimum value of VI, we neglect the effect of λ in transistor Q1. Then, assuming Q1 is biased in the saturation region, we have ( )2 v iD = I GS1 DSS1 1 − VP1 or ( )2 = v 1 08 2 1 − GS1 . (−1.5) which yields vGS1 = −0.40 V We see that vGS1 = −0.40 V = VI − VS = VI − (−3.5) or VI = −3.90 V Comment: Since Q1 is an n-channel device, the voltage at the gate is negative with respect to the source. EXERCISE PROBLEM *Ex 10.10: Consider the JFET circuit in Figure 10.24. The transistor parameters are: IDSS2 = 0.5 mA, IDSS1 = 0.8 mA, VP1 = VP2 = −2 V, and λ1 = λ2 = 0.15 V−1. Determine the minimum values of VS and VI such that Q2 is biased in the saturation region. What is the value of IO? What is the output impedance looking into the drain of Q2? (Ans. VS(min) = −3 V, IO = 0.65 mA, VI (min) = −3.2 V, ro = 1.09 k) The output resistance of a JFET current source can be increased by using a cascode configuration. A simple JFET cascode current source with two n-channel iD depletion-mode devices is shown in Figure 10.25. The current–voltage relationship, + + assuming Q1 and Q2 are identical, i(s given by ) Q v 2 DS2 2 – vi GS2 D = IDSS(1 + λvDS1) = IDSS 1 − (1 + λvDS2) (10.72) V V DS P + From the circuit, we see that vGS2 = − v vDS1. We define Q1 DS1 – – VDS = vDS1 + vDS2 (10.73(a)) so that vDS2 = VDS − vDS1 (10.73(b)) Figure 10.25 JFET From Equation (10.7(2), we obta)in cascode current source 2 + = + vDS1 (1 λvDS1) 1 [1 + λ(VDS − vDS1)] (10.74) VP For a given application, the value of VDS will usually be known, and the value of vDS1 can then be determined. The load current iD can then be calculated by using Equation (10.72). nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 718 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 718 Part 2 Analog Electronics V V R = x Rx o o = GI Ix x 2 + Ix Ix V r gs2 ro2 o2 g V g V m gs2 m gs2 – + + G Vx – – V – x 1 + Vgs2 ro1 Vgs1 = 0 r gmV o1 gs1 + – (a) (b) Figure 10.26 (a) Equivalent circuit, using phasor notation, of the JFET cascode current source for determining output resistance and (b) final configuration We can determine the output resistance by using the small-signal equivalent circuit of the composite two-transistor configuration, as shown in Figure 10.26(a), which includes the phasor variables. Since the gate and source of Q1 are connected together, the small-signal voltage Vgs1 is zero, which means that the dependent current source gmVgs1 is zero. This corresponds to an open circuit. Figure 10.26(b) shows the final configuration. The analysis is the same as for the MOSFET cascode circuit in Figure 10.19. Writing a KCL equation at the output node, we have I = g V + Vx − (−Vgs2) x m gs2 (10.75) ro2 Noting that Vgs2 = −Ixro1 (10.76) Equation (10.75) becomes ( ) I = − V gr I + x − ro1 x ( mo1) x Ix (10.77) ro2 ro2 The output resistance is then = V Rx o = r Io2 + ro1 + gmro1ro2 = ro2 + ro1(1 + gmro2) (10.78) x From Equation (10.78), we see that the output resistance relationship for the JFET cascode current source has the same form as that of the MOSFET cascode current source. Test Your Understanding TYU 10.5 Consider Design Example 10.8. Assume transistor parameters of k ′ n1 = 100 μA/V2, k ′ n2 = 105 μA/V2, k ′ n3 = 95 μA/V2, VT N1 = 0.38 V, VT N2 = 0.40 V, VT N3 = 0.42 V, and λ1 = λ2 = λ3 = 0. (a) Using the designed values of W/L for each transistor, determine the values of IREF and IO . (b) What is the percent change in IREF and IO from Example 10.8? (Ans. (a) IREF = 95.93 μA, IO = 54.43 μA; (b) −4.06%, −9.28%) nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 719 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 719 TYU 10.6 The bias voltages of the MOSFET current source in Figure 10.17 are V + = 3 V and V − = −3 V. The transistor parameters are VT N = 0.5 V, k ′ n = 80 μA/V2, and λ = 0.02 V−1. The transistor width-to-length ratios are (W/L)3 = 3, (W/L)1 = 12, and (W/L)2 = 6. Determine: (a) IREF, (b) IO at VDS2 = 2 V, and (c) IO at VDS2 = 4 V. (Ans. (a) IREF = 1.33 mA, (b) IO = 0.6936 mA, (c) IO = 0.7203 mA) TYU 10.7 Consider the circuit shown in Figure 10.27. The bias voltages are changed to V + = 3 V and V − = −3 V. The transistor parameters are VT N = 0.7 V, Kn1 = 0.35 mA/V2, Kn2 = 0.30 mA/V2, Kn3 = 0.10 mA/V2, and λ = 0. Determine IREF and IO . (Note: All transistors labeled M2 are identical.) (Ans. IREF = 0.8986 mA, IO = 2.31 mA) V+ = 5 V IO M3 IREF M1 MM2 M 2 2 V – = –5 V Figure 10.27 Figure for Exercise TYU 10.7 TYU 10.8 All transistors in the MOSFET modified Wilson current source in Figure 10.20(b) are identical. The parameters are: VT N = 1 V, Kn = 0.2 mA/V2, and λ = 0. If IREF = 250 μA, determine IO and VGS for each transistor. (Ans. IO = IREF = 250 μA, VGS = 2.12 V) 10.3 CIRCUITS WITH ACTIVE LOADS V Objective: • Analyze the dc characteristics of amplifier circuits using CC transistors as load devices (active loads). RC In bipolar amplifiers, such as that shown in Figure 10.28, the small-signal voltage R1 gain is directly proportional to the collector resistor RC. To increase the gain, we need vo to increase the value of RC, but there is a practical limitation. We can show that the Cc voltage gain (assuming CC acts as a short circuit to the signal frequency) of this circuit is given by v + i R – 2 Av = −gm RC where g = IC Q Figure 10.28 Bipolar m VT common-emitter circuit"
10.3 Circuits with Active Loads,"10.3 CIRCUITS WITH ACTIVE LOADS V Objective: • Analyze the dc characteristics of amplifier circuits using CC transistors as load devices (active loads). RC In bipolar amplifiers, such as that shown in Figure 10.28, the small-signal voltage R1 gain is directly proportional to the collector resistor RC. To increase the gain, we need vo to increase the value of RC, but there is a practical limitation. We can show that the Cc voltage gain (assuming CC acts as a short circuit to the signal frequency) of this circuit is given by v + i R – 2 Av = −gm RC where g = IC Q Figure 10.28 Bipolar m VT common-emitter circuit nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 720 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 720 Part 2 Analog Electronics Assuming the Q-point is in the center of the load line, then IC Q = VCC 2RC or = V R CC C 2IC Q Substituting into the voltage gain expression, we have | | = VA CC v 2VT So for reasonable values of bias voltage, the maximum value of small-signal voltage gain is essentially fixed. To get around this limitation, we need a load device that will pass a given current at a given bias voltage, but which will incrementally resist a change in current better than the fixed RC. This load device can be a transistor, which will also occupy less area in an integrated circuit, another advantage of using transistors in place of resistors. In addition, active loads produce a much larger small-signal voltage gain than discrete resistors, as discussed in Chapter 6. In Chapter 4, we introduced NMOS enhancement load and depletion load devices in MOSFET amplifiers. This was an introduction to active load devices. In this section, we consider the dc analysis of a bipolar active load in a simple BJT circuit and then the dc analysis of a MOSFET active load. Our discussion will include the voltage gains of these active load circuits. The small-signal analysis of active load circuits is covered in the next section. The discussion of active loads here can be considered an introduction. The use of active loads with differential amplifiers is considered in detail in the next chapter. 10.3.1 DC Analysis: BJT Active Load Circuit Consider the circuit shown in Figure 10.29. The elements R1, Q1, and Q2 form the active load circuit, and Q2 is referred to as the active load device for driver transistor Q0. The combination of R1, Q1, and Q2 forms the pnp version of the two-transistor V+ + + v + EB2 vEB1 + – – vEC2 Q2 Q1 vEC1 – – iC2 iC1 vO iC0 + v Q II 0 v REF R CE 1 0 – Figure 10.29 Simple BJT amplifier with active load, showing currents and voltages nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 721 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 721 current mirror. For the dc analysis of this circuit, we will use the dc symbols for the currents and voltages. The objective of this analysis is to obtain the voltage transfer function VO versus VI. The BE voltage of Q0 is the dc input voltage VI; therefore, the collector current in Q0 is ( ) VI = I [eVI /VT C0 S0 ] 1 + CE0 (10.79) VAN where IS0 is the reverse-saturation current, VT is the thermal voltage, and VAN is the Early voltage of the npn (transistor. S)imilarly, the collector current in Q2 is VIC2 = IS2[eVE B2/VT ] 1 + EC2 (10.80) VAP where VAP is the Early voltage of the pnp transistors. If we neglect base currents,( then ) IREF = I = I [eVE B1/VT C1 S1 ] 1 + VEC1 (10.81) VAP Assuming Q1 and Q2 are identical, then IS1 = IS2 and the Early voltages of the pnp transistors are equal. Also note that VEC1 = VE B1 = VE B2 . We can also assume that VC E  VAN and VEC  VAP . Combining equations, we find the output voltage is given as [ V /V ] = VAN VAP IT − IS0e + V VAN + O + 1 + (V − VE B2) (10.82) VAN VAP IREF VAN VAP Equation (10.82) is valid as long as Q0 and Q2 remain biased in the forward-active region, which means that the output voltage must remain in the range VC E0(sat) < VO < (V + − VEC2(sat)) (10.83) A sketch of VO versus VI is shown in Figure 10.30. If the circuit is to be used as a small-signal amplifier, a Q-point must be established, as indicated in the figure, for maximum symmetrical swing. Because of the exponential input voltage function, as given in Equation (10.82), the input voltage range over which both Q0 and Q2 remain in their active regions is very small. A sinusoidal variation in the input voltage produces a sinusoidal variation in the output voltage as shown in the figure. vO Q2 in saturation V+ – VEC2 (sat) Q0 and Q-point Q2 active t Q0 in saturation VCE0 (sat) vI t Figure 10.30 Voltage transfer characteristics of bipolar circuit with active load nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 722 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 722 Part 2 Analog Electronics IC0 VI2 Q-point VIH t VIQ VIL Load curve VI1 VCE0 t Figure 10.31 Driver transistor characteristics and load curve for BJT circuit with active load In addition to the voltage transfer function, we can also consider the load curve. Figure 10.31 shows the transistor characteristics of the driver transistor Q0 for several values of BE or VI voltages. Superimposed on these curves is the load curve, which essentially is the IC versus VEC characteristic of the active load Q2 at a constant VE B voltage. The Q-point shown corresponds to a quiescent input voltage VI Q . From the curve, we see that as the input changes between VI Hand VI L , the Q-point moves up and down the load curve producing a change in output voltage. Also, as VI increases to VI 2, the driver transistor Q0 is driven into saturation; as VI decreases to VI 1, the load transistor Q2 is driven into saturation. 10.3.2 Voltage Gain: BJT Active Load Circuit The small-signal voltage gain of a circuit is the slope of the voltage transfer function curve at the Q-point. For the bipolar circuit with an active load, the voltage gain can be found by taking th(e derivative of) E(quatio)n( (10.8)2) with respect to VI, as follows: = dV A O = − VAN VAP IS0 1 eVI /VT v (10.84) dVI VAN + VAP IREF VT As a good approximation, we can write that I ∼ REF = I eVI /VT S0 (10.85) Equation (10.84) then becomes ( )( ) ( ) − 1 = dV A O = − VAN VAP 1 v + = VT (10.86) dVI VAN VAP VT 1 + 1 VAN VAP The small-signal voltage gain is a function of the Early voltages and the thermal voltage. The voltage gain, given by Equation (10.86), relates to the open-circuit condition. When a load is connected to the output, the voltage gain is degraded, as we will see in the next section. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 723 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 723 EXAMPLE 10.11 Objective: Calculate the open-circuit voltage gain of a simple BJT amplifier with an active load. Consider the circuit shown in Figure 10.29. The transistor parameters are VAN = 120 V and VAP = 80 V. Let VT = 0.026 V. Solution: From( Equ)ation (10.(86), the )small-signal, open-circuit voltage gain is − 1 − 1 = VT = 0.026 = −38.46 Av + = −1846 1 + 1 1 + 1 0.00833 0.0125 VAN VAP 120 80 Comment: For a circuit with an active load, the magnitude of the small-signal, open-circuit voltage gain is substantially larger than the resulting gain when a discrete resistor load is used. Computer Verification: The voltage transfer characteristics of the active load circuit in Figure 10.29 were determined for a standard 2N3904 transistor as the npn device and standard 2N3906 transistors as the pnp devices. The circuit was biased at 5 V and the resistor was set at R = 1k. The transfer curve is shown in Figure 10.32. VO (V) 5.0 0 680 VI (mV) 720 Figure 10.32 Graphical output from a PSpice analysis, showing voltage transfer characteristics of bipolar active load circuit The input transition region, during which both Q0 and Q2 remain biased in the forward-active mode, is indeed very narrow. The slope of the curve, which is the voltage gain, is found to be −572. The reason for the smaller value compared to the hand calculation is that the Early voltages of these standard transistors are smaller than assumed in the previous calculation. The Early voltage of the npn device is 74 V and that of the pnp devices is only 18.7 V. Design Pointer: From the transfer characteristics in Figure 10.32, we can see that, for this circuit, it would be very difficult to apply the required input voltage to bias both Q0 and Q2 in the active region. This particular circuit, therefore, is not practical as an amplifier. However, the circuit does demonstrate the basic properties of an active load. In Chapters 11 and 13, we will see how an active load is applied to actual circuits. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 724 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 724 Part 2 Analog Electronics EXERCISE PROBLEM *Ex 10.11: A simple BJT amplifier with active load is shown in Figure 10.29. The transistor parameters are: IS0 = IS1 = IS2 = 10−12 A and VAN = VAP = 100 V. Let V + = 5 V. (a) Determine the value of VE B2 such that IREF = 0.5 mA. (b) Find the value of R1. (c) What value of VI will produce VC E0 = VEC2? (d) Determine the open-circuit, small-signal voltage gain. (Ans. (a) VE B2 = 0.521 V (b) R1 = 8.96 k (c) VI = 0.521 V (d) AV = −1923) 10.3.3 DC Analysis: MOSFET Active Load Circuit Consider the circuit in Figure 10.33. Transistors M1 and M2 form a PMOS active load circuit, and M2 is the active load device. We will consider the voltage transfer function of VO versus VI for this circuit. The reference current maybe written in the form IREF = Kp1(VSG + V 2 T P1) (1 + λ1VSD1) (10.87) The drain current I2 is I2 = K 2 p2 (VSG + VT P2) (1 + λ2 VSD2) (10.88) If we assume that M1 and M2 are identical, then λ1 = λ2 ≡ λp , VT P1 = VT P2 ≡ VT P , and Kp1 = Kp2 ≡ Kp . Combining equations, we find the output voltage as = [1 + λ (V + p − VSG)] − Kn(VI − VT N )2 VO (10.89) λn + λp IREF(λn + λp) V+ VO + VSG + + MM Q-point V M – 0 and M V 2 SD2 2 1 SD1 biased in – – t the saturation I2 region VO IO + IREF VIQ VI VIM0 VDS0 – t Figure 10.33 Simple MOSFET Figure 10.34 Voltage transfer amplifier with active load, showing characteristic of MOSFET circuit currents and voltages with active load Equation (10.89) describes that VO versus VI characteristic of the circuit, provided that both M0 and M2 remain biased in their saturation regions. Figure 10.34 shows a sketch of the voltage transfer characteristics. If the circuit is to be used as a small-signal amplifier, then a Q-point must be established, as indicated on the figure, for maximum symmetrical swing. As before, the input transition region in which both M0 and M2 are nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 725 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 725 ID VI2 Q-point VIH t VIQ VIL VI1 Load curve VDS0 t Figure 10.35 Driver transistor characteristics and load curve for MOSFET circuit with active load biased in the saturation region is quite narrow. A sinusoidal variation in the input voltage produces a sinusoidal variation in the output voltage as shown in the figure. We can also consider the load curve for this device. Figure 10.35 shows the transistor characteristics of the driver transistor M0 for several values of gate-to-source or VI voltages. Superimposed on these curves is the load curve, which essentially is the ID versus VSD characteristic of the active load M2 at a constant VSG voltage. The Q-point shown corresponds to a quiescent input voltage VIQ. From the curve, we see that as the input changes between VI Hand VI L , the Q-point moves up and down the load curve producing a change in output voltage. Also, as VI increases to VI 2, the driver transistor M0 is driven into the nonsaturation region; as VI decreases to VI 1, the load transistor M2 is driven into the non-saturation region. 10.3.4 Voltage Gain: MOSFET Active Load Circuit The small-signal voltage gain of a MOSFET circuit with an active load is also the slope of the voltage transfer function curve at the Q-point. Taking the derivative of Equation (10.89) with respect to VI, we obtain dV −2K (V − V ) A On IT N v = = (10.90) dVI IREF(λn + λp) The transconductance of the driver transistor is gm = 2Kn(VI − VT N ). Since M1 and M2 are assumed to be identical, then IO = IREF, and the small-signal transistor resistances are ron = 1/λn IREF and rop = 1/λp IREF. From Equation (10.90), the small-signal, open-circuit voltage gain can now be written A = ( −gm v ) = −gm(ron‖rop) (10.91) 1 + 1 ron rop In general, the transconductance gm of a MOSFET is less than that of a BJT; therefore, the voltage gain of a MOSFET amplifier with an active load is less than that of a BJT amplifier with an active load. However, the active load still produces a significant increase in the voltage gain. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 726 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 726 Part 2 Analog Electronics 10.3.5 Discussion In considering the BJT circuit with active load (Figure 10.29) and MOSFET circuit with active load (Figure 10.33), we could have directly considered the small-signal analysis without the dc analysis. However, it is important to understand how narrow the input transition width is (Figure 10.32) such that the transistors are biased correctly. For this reason, the use of active loads in discrete circuits is almost impossible. The biasing of the circuit with an active load depends to a large extent on the use of matched transistors. Matched transistors can be achieved on an integrated circuit. So in considering the small-signal analysis in the next section, we must keep in mind the very narrow range in which the transistors are biased in the active region. Test Your Understanding TYU 10.9 Repeat Exercise Problem 10.11 if the transistor parameters are ISO = IS1 = IS2 = 5 × 10−14 A and if IREF = 0.1 mA. (Ans. (a) VE B2 = 0.557 V (b) R1 = 44.4 k (c) VI = 0.557 V (d) Av = −1923) TYU 10.10 Consider the simple MOSFET amplifier with active load in Figure 10.33. The transistor parameters are VT N = 0.7 V, VT P = −0.7 V, Kn = Kp = 0.12 mA/V2, and λn = λp = 0.02 V−1. Let V + = 5 V and IREF = 0.15 mA. (a) Determine VSG . (b) Find the value of VI that produces VDSO = VSD2. (c) Determine the open- circuit small-signal voltage gain. (Ans. (a) VSG = 1.818 V, (b) VI = 1.798 V, (c) Av = −43.9) TYU 10.11 Repeat Exercise TYU 10.10 if the transistor parameters are Kn = Kp = 50 μA/V2, and if IREF = 80 μA. Other transistor parameters areas given in TYU 10.10. (Ans. (a) VSG = 1.965 V, (b) VI = 1.940 V, (c) Av = −38.74) 10.4 SMALL-SIGNAL ANALYSIS: ACTIVE LOAD CIRCUITS Objective: • Analyze the small-signal characteristics of amplifier circuits with active loads. The small-signal voltage gain of a circuit with an active load can be determined from the small-signal equivalent circuit. This is probably the easiest and most direct method of obtaining the gain of such circuits. Again, the dc analysis of these circuits, as shown in the previous section, clearly demonstrates the narrow range of input voltages over which the transistors will remain biased in the active region. The load curves in Figure 10.31 for the BJT circuit and in Figure 10.35 for the MOSFET circuit also help in visualizing the operation of these circuits. Even though a small- signal analysis is extremely useful for determining the voltage gain, we must not lose sight of the physical operation of these circuits, which is described through the dc analysis. If the BJTs are not biased in the active region or the MOSFETs are not biased in the saturation region, the small-signal analysis is not valid."
10.4 Small-Signal Analysis: Active Load Circuits,"10.4 SMALL-SIGNAL ANALYSIS: ACTIVE LOAD CIRCUITS Objective: • Analyze the small-signal characteristics of amplifier circuits with active loads. The small-signal voltage gain of a circuit with an active load can be determined from the small-signal equivalent circuit. This is probably the easiest and most direct method of obtaining the gain of such circuits. Again, the dc analysis of these circuits, as shown in the previous section, clearly demonstrates the narrow range of input voltages over which the transistors will remain biased in the active region. The load curves in Figure 10.31 for the BJT circuit and in Figure 10.35 for the MOSFET circuit also help in visualizing the operation of these circuits. Even though a small- signal analysis is extremely useful for determining the voltage gain, we must not lose sight of the physical operation of these circuits, which is described through the dc analysis. If the BJTs are not biased in the active region or the MOSFETs are not biased in the saturation region, the small-signal analysis is not valid. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 727 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 727 10.4.1 Small-Signal Analysis: BJT Active Load Circuit To find the small-signal voltage gain of the BJT circuit with an active load, we must determine the resistance looking into the collector of the active load device. Figure 10.36 is the small-signal equivalent circuit of the entire active load circuit in Figure 10.29, which uses pnp transistors. The base, collector, and emitter terminals of the two transistors are indicated on the figure. E2 E1 + + V r r or 2 p 2 V rp 1 V o1 Ro = x p 2 p 1 I g x mVp 2 – – gmVp 1 C2 B2 B1 C1 Ix R1 V + x – Figure 10.36 Small-signal equivalent circuit of BJT active load circuit In the Q1 portion of the equivalent circuit, there are no independent ac sources to excite any currents or voltages. Therefore, Vπ1 = Vπ2 = 0, which means that the dependent source gm Vπ2 is zero and is equivalent to an open circuit. The resistance looking into the collector of Q2 is just Ro = ro2 (10.92) We will use this equivalent resistance to calculate the small-signal voltage gain of the amplifier. Figure 10.37(a) shows a simple amplifier with an active load and the output voltage capacitively coupled to passive load RL. The small-signal equivalent circuit, shown in Figure 10.37(b), includes the load resistance RL, the resistance ro2 of the active load, and the output resistance roof the amplifying transistor Q0. V + Q2 Q1 CC v V O o + + v QR RV r I 0 L 1 i Vp1 po ro RL ro2 – gmVp1 – (a) (b) Figure 10.37 (a) Simple BJT amplifier with active load and load resistance and (b) small- signal equivalent circuit nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 728 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 728 Part 2 Analog Electronics The output voltage is Vo = −(gm Vπ1)(ro‖RL‖ro2) (10.93) Since Vπ1 = Vi , where Vi is the ac input voltage, the small-signal voltage gain is VA = o v = − −g gm V m(ro‖RL‖ro2) = ( ) (10.94) i 1 + 1 + 1 ro RL ro2 The small-signal voltage gain can also be written = −g Am v + + (10.95) go gL go2 where go and go2 are the output conductances of Q0 and Q2, and gL is the load conductance. The transconductance is gm = ICo/VT , the small-signal conductances are go = ICo/VAN and go2 = ICo/VAP , and the load conductance is gL = 1/RL . Therefore, Equation (10.9(5) bec)omes I Av = ( − Co VT ) (10.96) ICo + 1 + ICo VAN RL VAP If the passive load is an open circuit (RL → ∞), the small-signal voltage gain is identical to that determined from the dc analysis as given by Equation (10.86). If the load resistance RL is not an open circuit, then the magnitude of the small-signal voltage gain is reduced. EXAMPLE 10.12 Objective: Calculate the small-signal voltage gain of an amplifier with an active load and a load resistance RL. For the circuit in Figure 10.37(a), the transistor parameters are VAN = 120 V and VAP = 80 V. Let VT = 0.026 V and ICo = 0.2 mA. Determine the small-signal voltage gain for load resistances of RL = ∞, 200 k, and 20 k. Solution: For RL(= ∞) , Equation ((10.96) )reduces to 1 ( − − 1 = VA T v ) = ( 0.026 ) = −1846 1 + 1 1 + 1 VAN VAP 120 80 which is the same as that determined for the open-circuit configuration in Example 10.11. For RL = 200(k, the) small-signal voltage gain is − 0.2 = ( 0.026 ) = −7.692 Av = −839 0.2 + 1 + 0.2 0.001667 + 0.005 + 0.0025 120 200 80 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 729 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 729 and for RL = 20 k(, the )voltage gain is ( − 0.2 = 0.026 ) = −7.692 Av = −142 0.2 + 1 + 0.2 0.001667 + 0.05 + 0.0025 120 20 80 Comment: The small-signal voltage gain is a strong function of the load resistance RL. As the value of RL decreases, the loading effect becomes more severe. Design Pointer: If an amplifier with an active load is to drive another amplifier stage, the loading effect must be taken into account when the small-signal voltage gain is determined. Also, the input resistance of the next stage must be large in order to minimize the loading effect. EXERCISE PROBLEM Ex 10.12: For the circuit shown in Figure 10.37(a), the transistor parameters are VAN = 100 V and VAP = 60 V. Let ICo = 0.25 mA. (a) Determine the open-circuit small-signal voltage gain. (b) Find the value of RL such that the voltage gain is 60 percent of the open-circuit value. (Ans. (a) Av = −1442, (b) RL = 225 k) The small-signal voltage gain of an active-load circuit can be increased by increasing the effective resistance of the active load. Figure 10.38 shows the same type of BJT amplifier in which the active load is an “upside down” modified Widlar current source. The small-signal voltage gain can be written in the same form as Equation (10.94), or −g Am v = ( ) (10.97) 1 + 1 + 1 ro RL Ro2 V + RE2 RE1 Q2 Q1 Ro2 vO CC v RI Q 1 0 RL Figure 10.38 BJT amplifier with a modified Widlar current source as an active load nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 730 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 730 Part 2 Analog Electronics where Ro2 is now the effective resistance looking into the collector of Q2. We analyzed the output resistance of a Widlar current source in the Section 10.1. In this case, however, we are including a resistor in the emitter of both transistors Q1 and Q2. We can show that [ R = r 1 + g R′′ ] o2 o2 m2 E (10.98a) where R′′ E = RE‖[rπ2 + R1‖(Ro1 + RE)] (10.98b) and where ∥∥∥∥ ∥ = 1 Ro r ∥∥ 1 π1 ∥ro1 (10.98c) gm1 We may note that, if Q1 and Q2 are matched, then gm1 = gm2 and rπ1 = rπ2 since the resistors in the emitters of Q1 and Q2 are the same value. Problem-Solving Technique: Active Loads 1. Ensure that the active load devices are biased in the forward-active mode. 2. The small-signal analysis of the circuit with an active load then simply involves considering the output resistance looking into the output of the active load device as well as the equivalent circuit of the amplifying transistor. 10.4.2 Small-Signal Analysis: MOSFET Active Load Circuit The small-signal voltage gain of a MOSFET amplifier with an active load can also be determined from the small-signal equivalent circuit. Figure 10.39 is the small-signal equivalent circuit of the entire MOSFET active load in Figure 10.33. The signal voltages Vsg1 and Vsg2 are zero, since there is no ac excitation in this part of the circuit. This means that gm Vsg2 = 0 and Ro = ro2 (10.99) S2 S1 + + ro2 Vsg2 Vsg1 ro1 V gmVsg2 gmVsg1 Ro = x I – – x ID2 G x 2 G1 V + x – Figure 10.39 Small-signal equivalent circuit of the MOSFET active load circuit A simple MOSFET amplifier with an active load, and a load resistor RL capacitively coupled to the output, is shown in Figure 10.40(a). Figure 10.40(b) shows the small-signal equivalent circuit, in which the load RL, the active load resistance ro2, and the output resistance roof transistor M0 are included. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 731 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 731 V + M2 M1 CC V v o O + + IREF Vi Vgs ro R v MR L ro2 I 0 L gmVgs – – (a) (b) Figure 10.40 (a) Simple MOSFET amplifier with active load and load resistance and (b) small-signal equivalent circuit The output voltage is Vo = −gm Vgs(ro‖RL‖ro2) (10.100) and since Vgs = Vi , where Vi is the ac voltage, the small-signal voltage gain is Av = Vo = −gm (ro‖ ‖ −g R r = m ) V Lo2 i go + (10.101) gL + go2 The parameters go and go2 are the output conductances of M0 and M2, and gL is the load conductance. This expression for the small-signal voltage gain of a MOSFET amplifier with active load is the same as that of the BJT amplifier. A load resistance RL tends to degrade the gain and to cause a loading effect, as it did in the bipolar circuit with an active load. However, in MOSFET amplifiers, the output maybe connected to the gate of another MOSFET amplifier in which the effective RL is very large. EXAMPLE 10.13 Objective: Calculate the small-signal voltage gain of an NMOS amplifier with an active load. For the amplifier shown in Figure 10.40(a) the transistor parameters are: λn = λp = 0.01 V−1, VT N = 1 V, and Kn = 1 mA/V2. Assume M1 and M2 are matched and IREF = 0.5 mA. Calculate the small-signal voltage gain for load resistances of RL = ∞ and 100 k. Solution: S√ince M1 and M√2 are matched, then IO = IREF, and the transconductance is gm = 2 Kn IREF = 2 (1)(0.5) = 1.41 mA/V The small-signal transistor conductances are go = go2 = λIREF = (0.01)(0.5) = 0.005 mA/V For RL = ∞, Equation (10.101) reduces to = −gm = −1.41 Av + = −141 go go2 0.005 + 0.005 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 732 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 732 Part 2 Analog Electronics For RL = 100 k (gL = 0.01 mA/V), the voltage gain is = −gm = −1.41 Av + + + + = −70.5 go gL go2 0.005 0.01 0.005 Comment: The magnitude of the small-signal voltage gain of MOSFET amplifiers with active loads is substantially larger than for those with resistive loads, but it is still smaller than equivalent bipolar circuits, because of the smaller transconductance for the MOSFET. EXERCISE PROBLEM Ex 10.13: For the circuit in Figure 10.40(a), the transistor parameters are: λn = λ −1 2 p = 0.015 V , Kn = Kp = 0.10 mA/V , VT N = 0.5 V, and VT P = −0.5 V. Let V + = 5 V and IREF = 0.20 mA. (a) Determine VI Q . (b) Find the open-circuit small-signal voltage gain. (c) Find the value of RL that results in a voltage gain of one-half the open-circuit value. (Ans. (a) VI Q = 1.914 V, (b) Av = −47.1, (c) RL = 166 k) 10.4.3 Small-Signal Analysis: Advanced MOSFET Active Load The active loads considered in the BJT (Figure 10.37) and MOSFET (Figure 10.40(a)) circuits correspond to the simple two-transistor current mirrors. We may use a more advanced current mirror with a high output resistance as an active load to increase the amplifier gain. Figure 10.41(a) shows a MOSFET cascode amplifying stage with a cascode active load. The small-signal equivalent circuit is shown in Figure 10.41(b), V + M4 M6 M3 M5 G2 D2 Vo R + o3 vO V r gs2 o2 gm2V V M2 G gs2 1 D Bias 1 – Ro3 + + S2 IREF V r i Vgs1 o1 v M gm1VI 1 gs1 – – S1 (a) (b) Figure 10.41 (a) MOSFET cascode amplifying stage with cascode active load; (b) small- signal equivalent circuit nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 733 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 733 where Ro3 is the effective resistance looking into the drain of M3. From our discussion of the cascode current mirror, we found Ro3 = ro3 + ro4(1 + gmro3) (Equation (10.57)). We can assume all transistors are matched so that the currents in all transistors are equal. Summing currents at D1, we have + (−Vgs2) Vo − (−V g gs2) m Vgs1 = gr m Vgs2 + (10.102) o1 ro2 Summing currents at the output node, we find Vo + Vo − (−Vgs2) + gm Vgs2 = 0 (10.103) Ro3 ro2 Eliminating Vgs2 from the two equations, noting that Vgs1 = Vi , and assuming gm  1/ro , we find the small-signal voltage gain is V −g2 A o v = = m Vi g (10.104) m + 1 Ro3 ro1ro2 The resistance Ro3 is approximately Ro3 =∼ gm ro3 ro4, so the gain can be written as 2 Av = −gm (10.105) 1 + 1 ro3 ro4 ro1 ro2 For the same transistor parameters given in Example 10.13, the small-signal voltage gain of this circuit would be 39,762! However, a word of warning is in order. As we mentioned previously, output resistances in the hundreds of megohm range are ideal and will, in reality, be limited by leakage currents. For this reason, a voltage gain of 39,000 in a one-stage amplifier will probably not be achieved. However, the voltage gain of this amplifier should be substantially larger than the amplifier using a simple active load. Test Your Understanding TYU 10.12 In the circuit shown in Figure 10.37(a), the transistor parameters are VAN = 120 V and VAP = 80 V. Let ICo = 0.5 mA and RL = 50 k. (a) Determine the small-signal parameters gm, ro, and ro2. (b) Find the small-signal voltage gain. (Ans. (a) gm = 19.2 mA/V, ro = 240 k, ro2 = 160 k (b) Av = −631) TYU 10.13 Repeat Example 10.12 for the case where a resistor RE = 1 k is included in the emitters of Q1 and Q2 as shown in Figure 10.38. (Ans. For RL = ∞, Av = −4404; for RL = 200 k, Av = −2800; for RL = 20 k, Av = −655) TYU 10.14 In the circuit in Figure 10.40(a), the transistor parameters are: Kp = 0.1 mA/V2, Kn = 0.2 mA/V2, VT N = 1 V, VT P = −1 V, λn = 0.01 V−1, and λp = 0.02 V−1. Let V + = 10 V, IREF = 0.25 mA, and RL = 100 k. (a) Determine the small-signal parameters gm (for M0), ron, and rop. (b) Find the small-signal voltage gain. (Ans. (a) gm = 0.448 mA/V, ron = 400 k, rop = 200 k (b) Av = −25.6) nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 734 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 734 Part 2 Analog Electronics 10.5 DESIGN APPLICATION: AN NMOS CURRENT SOURCE V + = 3.3 V Objective: • Design an NMOS current source circuit to provide a specified bias current and output resistance. Specifications: Design an NMOS current source to provide a bias current of M5 IQ = 100 μA and an output resistance greater than 20 M. The reference current is to be IREF = 150 μA. The circuit is to be biased at ±3.3 V and the voltage at the I IQ REF drain of the current source transistor is to be no smaller than −2.2 V. VD3 Design Approach: A simple two-transistor current source would yield an output MM resistance of 4 3 1 1 Ro = ro = = ⇒ 1 M λIQ (0.01)(0.1) M2 M1 Therefore, to obtain a larger output resistance, a cascode current source is required. The basic circuit is shown in Figure 10.42. The transistor M5 may actually need to be two or more transistors in series. – Choices: NMOS transistors are available with the following parameters: V = VT N = –3.3 V 0.5 V, k ′ 2 −1 n = 80 μA/V , and λ = 0.01 V . The minimum width-to-length ratio of Figure 10.42 MOSFET any transistor is to be unity. cascode current source circuit for design application Solution: The minimum voltage VD3 is to be −2.2 V. This voltage is given by VD3 = VGS1 + VDS3(sat) + V − = VGS1 + V − V + V − GS3 TN Assuming that M1 and M3 are matched, we find VD3 = −2.2 = 2VGS1 − 0.5 + (−3.3) or VGS1 = VGS3 = 0.8 V Now ′ I = kn W Q (VGS1 − VT N )2 2 L or ( ) 80 W 100 = (0.8 − 0.5)2 2 L 1 whic(h yie)lds W = 27.8 L 1 If we( set ) ( ) W = W = 28 L 1 L 3 then we find that VGS1 = VGS3 = 0.799 V and VD3(min) = −2.202 V."
10.5 Design Application: An NMOS Current Source,"10.5 DESIGN APPLICATION: AN NMOS CURRENT SOURCE V + = 3.3 V Objective: • Design an NMOS current source circuit to provide a specified bias current and output resistance. Specifications: Design an NMOS current source to provide a bias current of M5 IQ = 100 μA and an output resistance greater than 20 M. The reference current is to be IREF = 150 μA. The circuit is to be biased at ±3.3 V and the voltage at the I IQ REF drain of the current source transistor is to be no smaller than −2.2 V. VD3 Design Approach: A simple two-transistor current source would yield an output MM resistance of 4 3 1 1 Ro = ro = = ⇒ 1 M λIQ (0.01)(0.1) M2 M1 Therefore, to obtain a larger output resistance, a cascode current source is required. The basic circuit is shown in Figure 10.42. The transistor M5 may actually need to be two or more transistors in series. – Choices: NMOS transistors are available with the following parameters: V = VT N = –3.3 V 0.5 V, k ′ 2 −1 n = 80 μA/V , and λ = 0.01 V . The minimum width-to-length ratio of Figure 10.42 MOSFET any transistor is to be unity. cascode current source circuit for design application Solution: The minimum voltage VD3 is to be −2.2 V. This voltage is given by VD3 = VGS1 + VDS3(sat) + V − = VGS1 + V − V + V − GS3 TN Assuming that M1 and M3 are matched, we find VD3 = −2.2 = 2VGS1 − 0.5 + (−3.3) or VGS1 = VGS3 = 0.8 V Now ′ I = kn W Q (VGS1 − VT N )2 2 L or ( ) 80 W 100 = (0.8 − 0.5)2 2 L 1 whic(h yie)lds W = 27.8 L 1 If we( set ) ( ) W = W = 28 L 1 L 3 then we find that VGS1 = VGS3 = 0.799 V and VD3(min) = −2.202 V. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 735 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 735 Assuming that M2 and M4 are matched, we have IREF = (W/L)2 IQ (W/L)1 or 150 = (W/L)2 100 28 whic(h yie)lds ( ) W = W = 42 L 2 L 4 Now the equivalent VGS5 is given by VGS5 = V + − 2V − GS2 − V = 3.3 − 2(0.799) − (−3.3) or VGS5 = 5.0 V The width-to-length ra(tio is) found from 80 W IREF = 150 = (5.0 − 0.5)2 2 L 5 which yields (W/L)5 = 0.185. A width-to-length ratio less than unity is unacceptable. Putting two equivalent M5 transistors in series yields agate-to-source voltage of VGS5 = 5.0/2 V. Then( ) ( ) = = 80 W 5.0 2 IREF 150 − 0.5 2 L 5 2 which yields (W/L)5 = 0.938. This value is still less than unity. Putting three equivalent M5 transistors in (serie)s yi(elds agate-t)o-source voltage of VGS5 = 5.0/3 V. Then = = 80 W 5.0 2 IREF 150 − 0.5 2 L 5 3 which yields (W/L)5 = 2.76. This is an acceptable solution. The output resistance is given by Ro = ro3 + ro1(1 + gm3 ro3) We find ro1 = 1 ro3 = = 1 ⇒ 1 M λIQ (0.01)(0.1) and √ ( ) √( ) = k ′ g 2 n W = 80 m3 IQ 2 (28)(100) = 669 μA/V 2 L 3 2 We then find Ro = 1 + 1 [1 + (669)(1)] = 671 M This value certainly meets the design criteria. nea80644_ch10_687-752.qxd 6/19/09 3:55 PM Page 736 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-10 Folder:MHDQ134-10 736 Part 2 Analog Electronics Comment: The very large output resistance of 671 M assumes that we have ideal MOS transistors. In fact there are leakage currents that, in reality, will lower the output resistance. However, the cascode current source does provide a very high output resistance that is useful in differential amplifiers as we will see in Chapter 11. 10.6 SUMMARY • This chapter addressed the biasing of bipolar and FET circuits with constant- current sources. The current source biasing technique eliminates the need for resistor-intensive biasing used up to this point. • The basic bipolar current source is the simple two-transistor circuit with a resistor to establish the reference current. The basic FET current source is also a simple two-transistor circuit but includes additional transistors in the reference portion of the circuit. The relation between the bias current and reference current was determined. • One parameter of interest in the current source circuit is the output resistance, which determines the stability of the bias current. More sophisticated current- source circuits, such as the Widlar and Wilson circuits in the BJT configuration and the Wilson and cascode circuits in the FET configuration, have larger output resistance parameters and increased bias-current stability. • Multitransistor output stages, in both bipolar and FET constant-current circuits, are used to bias multiple amplifier stages with a single reference current. These circuits, called current mirrors, reduce the number of elements required to bias amplifier stages throughout an IC. • Both bipolar and MOSFET active load circuits were analyzed. Active loads are essentially “upside down” current-source circuits that replace the discrete collector and drain resistors. The active loads produce a much larger small-signal voltage gain compared to discrete resistor circuits. • As an application, a MOSFET current source circuit was designed to provide a specified bias current and output resistance. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Analyze and design a simple two-transistor BJT current-source circuit to produce a given bias current. ✓ Analyze and design more sophisticated BJT current-source circuits, such as the three-transistor circuit, cascode circuit, Wilson circuit, and Widlar circuit. ✓ Design a BJT current-source circuit to yield a specified output resistance. ✓ Analyze and design a basic two-transistor MOSFET current-source circuit with additional MOSFET devices in the reference portion of the circuit to yield a given bias current. ✓ Analyze and design more sophisticated MOSFET current-source circuits, such as the cascode circuit, Wilson circuit, and wide-swing cascode circuit. ✓ Design a MOSFET current-source circuit to yield a specified output resistance. ✓ Describe the operation and characteristics of a BJT and MOSFET active load circuit. ✓ Discuss the reason for the increased small-signal voltage gain when an active load is used."
10.6 Summary,"10.6 SUMMARY • This chapter addressed the biasing of bipolar and FET circuits with constant- current sources. The current source biasing technique eliminates the need for resistor-intensive biasing used up to this point. • The basic bipolar current source is the simple two-transistor circuit with a resistor to establish the reference current. The basic FET current source is also a simple two-transistor circuit but includes additional transistors in the reference portion of the circuit. The relation between the bias current and reference current was determined. • One parameter of interest in the current source circuit is the output resistance, which determines the stability of the bias current. More sophisticated current- source circuits, such as the Widlar and Wilson circuits in the BJT configuration and the Wilson and cascode circuits in the FET configuration, have larger output resistance parameters and increased bias-current stability. • Multitransistor output stages, in both bipolar and FET constant-current circuits, are used to bias multiple amplifier stages with a single reference current. These circuits, called current mirrors, reduce the number of elements required to bias amplifier stages throughout an IC. • Both bipolar and MOSFET active load circuits were analyzed. Active loads are essentially “upside down” current-source circuits that replace the discrete collector and drain resistors. The active loads produce a much larger small-signal voltage gain compared to discrete resistor circuits. • As an application, a MOSFET current source circuit was designed to provide a specified bias current and output resistance. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Analyze and design a simple two-transistor BJT current-source circuit to produce a given bias current. ✓ Analyze and design more sophisticated BJT current-source circuits, such as the three-transistor circuit, cascode circuit, Wilson circuit, and Widlar circuit. ✓ Design a BJT current-source circuit to yield a specified output resistance. ✓ Analyze and design a basic two-transistor MOSFET current-source circuit with additional MOSFET devices in the reference portion of the circuit to yield a given bias current. ✓ Analyze and design more sophisticated MOSFET current-source circuits, such as the cascode circuit, Wilson circuit, and wide-swing cascode circuit. ✓ Design a MOSFET current-source circuit to yield a specified output resistance. ✓ Describe the operation and characteristics of a BJT and MOSFET active load circuit. ✓ Discuss the reason for the increased small-signal voltage gain when an active load is used. nea80644_ch10_687-752.qxd 6/19/09 3:55 PM Page 737 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-10 Folder:MHDQ134-10 Chapter 10 Integrated Circuit Biasing and Active Loads 737 REVIEW QUESTIONS 1. Sketch the basic BJT two-transistor current source and explain the operation. 2. Explain the significance of the output resistance of the current-source circuit. 3. Discuss the effect of mismatched transistors on the characteristics of the BJT two-transistor current source. 4. Sketch the BJT three-transistor current source and discuss the advantages of this circuit. 5. What is the primary advantage of a BJT cascode current source? 6. Sketch a Widlar current source and explain the operation. 7. Can a piecewise linear model of the transistor be used in the analysis of the Widlar current source? Why or why not? 8. Discuss the operation and significance of a multiple-output transistor current mirror. 9. Sketch the basic MOSFET two-transistor current source and explain the operation. 10. Discuss the effect of mismatched transistors on the characteristics of the MOSFET two-transistor current source. 11. Discuss how the reference portion of a MOSFET current source can be designed with MOSFETs only. 12. Sketch a MOSFET cascode current source circuit and discuss the advantages of this design. 13. Discuss the operation of an active load. 14. What is the primary advantage of using an active load? 15. Sketch the voltage transfer characteristics of a simple amplifier with an active load. Where should the Q-point be placed? 16. What is the impedance seen looking into a simple active load? 17. What is the advantage of using a cascode active load? PROBLEMS Section 10.1 Bipolar Transistor Current Sources 10.1 Figure P10.1 shows another form of a bipolar current source. (a) Neglecting IC base currents, derive the expression for IC in terms of the circuit, transistor, and diode parameters. (b) If the transistor BE and diode voltages are equal, R1 show that, for R1 = R2, the expression for IC reduces to Q = (−V −) D1 I1 IC 2RD 3 2 R3 (c) For V − = −10 V and VB E(on) = Vγ = 0.7 V, design the circuit such IR 2 2 that IC = I1 = I2 = 2 mA. 10.2 The matched transistors Q1 and Q2 in Figure 10.2(a) have parameters IS = 10−16 A. (a) For β = ∞, determine IO and VB E1 for (i) IREF = 50 μA, V– (ii) IREF = 150 μA, and (iii) IREF = 1.5 mA. (b) Repeat part (a) for β = 50. 10.3 Consider the circuit in Figure 10.2(a). Let IREF = 200 μA. Assume transis- Figure P10.1 tor parameters of β = 80, I = 5 × 10−15 S1 A, and IS2 = 2 × 10−15 A. Find VB E1, VB E2, and IO . 10.4 Reconsider the circuit in Figure 10.2(a). Let IREF = 150 μA. Assume transistor parameters of β = 120, IS1 = 10−16 A, and IS2 = 3 × 10−16 A. Find VB E1, VB E2, and IO ."
Problems,"PROBLEMS Section 10.1 Bipolar Transistor Current Sources 10.1 Figure P10.1 shows another form of a bipolar current source. (a) Neglecting IC base currents, derive the expression for IC in terms of the circuit, transistor, and diode parameters. (b) If the transistor BE and diode voltages are equal, R1 show that, for R1 = R2, the expression for IC reduces to Q = (−V −) D1 I1 IC 2RD 3 2 R3 (c) For V − = −10 V and VB E(on) = Vγ = 0.7 V, design the circuit such IR 2 2 that IC = I1 = I2 = 2 mA. 10.2 The matched transistors Q1 and Q2 in Figure 10.2(a) have parameters IS = 10−16 A. (a) For β = ∞, determine IO and VB E1 for (i) IREF = 50 μA, V– (ii) IREF = 150 μA, and (iii) IREF = 1.5 mA. (b) Repeat part (a) for β = 50. 10.3 Consider the circuit in Figure 10.2(a). Let IREF = 200 μA. Assume transis- Figure P10.1 tor parameters of β = 80, I = 5 × 10−15 S1 A, and IS2 = 2 × 10−15 A. Find VB E1, VB E2, and IO . 10.4 Reconsider the circuit in Figure 10.2(a). Let IREF = 150 μA. Assume transistor parameters of β = 120, IS1 = 10−16 A, and IS2 = 3 × 10−16 A. Find VB E1, VB E2, and IO . nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 738 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 738 Part 2 Analog Electronics V+ = 2.5 V 10.5 Consider the circuit shown in Figure P10.5. Assume IREF = 200 μA and R = 2 k. The transistor parameters are β = 40, I = I = 5 × 10−15 S1 S2 A. I Find V OB E1, VB E2, and IO . IREF 10.6 The transistor and circuit parameters for the circuit in Figure 10.2(b) are: VB E(on) = 0.7 V, β = 60, V = ∞, V + = +3 V, V − A = −3 V, and IREF = 0.250 mA. Determine the value of R1 and determine IC1, IB1, IB2, and IC2. R 10.7 The bias voltages in the circuit shown in Figure 10.2(b) are V + = +5 V, Q1 Q2 V − = −5 V and the resistor value is R1 = 18.3 k. Assume transistor parameters of VB E (on) = 0.7 V, β = 80, and VA = ∞. Determine IREF, IC1, IB1, IB2, and IC2. Figure P10.5 10.8 Consider the current source in Figure 10.2(b). The circuit is biased at V + = 2.5 V and V − = −2.5 V. The transistor parameters are β ∼= ∞, V = ∞, and I = 10−15 AS2 A. The circuit is to be designed such that IO = 0.25 mA and the power dissipated in the circuit is no greater than 1.8 mW. (a) Determine the maximum value of IREF, (b) the required value of IS1, and (c) the required value of R1. 10.9 For the basic two-transistor current source in Figure 10.2(b), the transistor parameters are: β = 120, VB E(on) = 0.7 V, and VA = 100 V. The bias voltages are V + = 5 V and V − = −5 V. (a) Design the circuit such that IO = 0.5 mA when VC E2 = 0.7 V. (b) What is the percent change in IO as VC E2 varies between 0.7 V and 7 V? 10.10 The transistors in the basic current mirror in Figure 10.2(b) have a finite β and an infinite Early voltage. The BE area of Q2 is n times that of Q1. Derive the expression for IO in terms of IREF, β, and n. D10.11 Figure P10.11 shows a basic two-transistor pnp current source. The transistor parameters are VEB(on) = 0.7 V, β = 40, and VA = ∞. Design the circuit such that IO = 0.20 mA and determine the value of IREF. D10.12 In the circuit in Figure P10.11, the transistor parameters are β = 80 and VE B(on) = 0.7 V. (a) Design the circuit such that IO = 120 μA for VEC2 = 0.7 V. (b) If VA = 80 V, determine the change in IO for (i) VEC2 = 2 V and (ii) VEC2 = 4 V. V+ = 5 V V+ = 5 V + Q1 Q Q V 2 1 Q2 EC2 – IO IO RC2 IREF R1 IREF R1 V – = –5 V Figure P10.11 Figure P10.13 D10.13 Consider the pnp current source in Figure P10.13, with transistor parameters β = ∞, VA = ∞, and VE B(on) = 0.7 V. (a) Design the circuit such that IREF = 1 mA. (b) What is the value of IO? (c) What is the maximum value of RC2 such that Q2 remains biased in the forward-active mode? nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 739 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 739 10.14 Consider the circuit shown in Figure P10.14. The transistor Q2 is equivalent V+ to two identical transistors in parallel, each of which is matched to Q1. As- IO sume the transistor parameters are VBE(on) = 0.7 V, β = 60, and VA = ∞, IREF R1 and assume the bias voltage is V + = 2.5 V. Design the circuit such that IO = 0.50 mA and determine the value of IREF. D10.15 Design a basic two-transistor current source circuit configuration such that IO = 0.40 mA and IREF = 0.20 mA. The circuit is to be biased at Q1 Q2 V + = 2.5 V and V − = −2.5 V. Neglect base currents and assume that VB E(on) = 0.7 V and VA = ∞. 10.16 The values of β for the transistors in Figure P10.16 are very large. (a) If Q1 is diode-connected with I1 = 0.5 mA, determine the collector currents in Figure P10.14 the other two transistors. (b) Repeat part (a) if Q2 is diode-connected with I2 = 0.5 mA. (c) Repeat part (a) if Q3 is diode-connected with I3 = 0.5 mA. V+ IO IREF R1 I1 I2 I3 Q3 Q Q Q Q1 Q 1 2 3 2 R2 V– Figure P10.16 Figure P10.17 10.17 Consider the circuit in Figure P10.17. The transistor parameters are: β = 80, VBE(on) = 0.7 V, and VA = ∞. (a) Derive the expression for IO in terms of IREF, β, and R2. (b) For R2 = 10 k and V + = 10 V, design the circuit such that IO = 0.70 mA. What is the value of IREF? 10.18 All transistors in the N output current mirror in Figure P10.18 are matched, with a finite β and VA = ∞. (a) Derive the expression for each load current in terms of IREF and β. (b) If the circuit parameters are V + = 5 V and V − = −5 V, and the transistor parameter is β = 50, determine R1 such that each load current is 0.5 mA for N = 5. Assume that VE B(QR) = VB E(QS) = 0.7 V. V+ IREF R1 IO1 IO2 ION QS QR Q Q Q N 1 2 V – Figure P10.18 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 740 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 740 Part 2 Analog Electronics V+ D10.19 Design a pnp version of the basic three-transistor current source circuit, IO using a resistor to establish IREF. The bias current is to be IO = 0.15 mA, and the circuit is to be biased at V + = 3 V and V − = −3 V. The transistor IREF parameters are β = 40, VE B(on) = 0.7 V, and VA = ∞. D10.20 Design a pnp version of the Wilson current source, using a resistor to estab- Q3 lish IREF. The circuit parameters are V + = 9 V and V − = −9 V, and the transistor parameters are: VE B (on) = 0.7 V, β = 25, and VA = ∞. If the load current is 0.8 mA, what is IREF? Q Q2 *10.21 Consider the Wilson current source in Figure P10.21. The transistors have a 1 finite β and an infinite Early voltage. Derive the expression for IO in terms of IREF and β . 10.22 Consider the circuit in Figure P10.22. The transistor parameters for Q1 and V – Q2 are VB E1,2(on) = 0.7 V and β1,2 = 90. The parameters for Q3 are Figure P10.21 VB E3(on) = 0.6 V and β3 = 60. Assume VA = ∞ for all transistors. Design the circuit such that IO = 0.5 mA. (a) What are the values of IREF and R1? (b) What are the values of IB1, IB2, IE3, and IB3? + 5 V 10.23 Consider the Wilson current-source circuit shown in Figure 10.8. Assume the reference current is 0.25 mA and assume transistor parameters of VBE (on) = 0.7 V, β = 100, and VA = 100 V. (a) Determine the output re- IO IR sistance looking into the collector of Q3. (b) What is the change in IO as the REF 1 output voltage changes by +5 V? Q3 10.24 Consider the Widlar current source shown in Figure 10.9. The circuit parameters are V + = +5 V, V − = 0, R1 = 9.3 k, and RE = 1.5 k. Assume Q1 Q2 VB E1 = 0.7 V. Neglecting base currents, determine IREF, IO, and VB E2. 10.25 For the circuit shown in Figure P10.25, neglect base currents and assume VA = ∞. Let IREF = 200 μA and RE = 500 . (a) Assume the transistor parameters are IS1 = IS2 = 5 × 10−15 A. Find VB E1, VB E2, and IO . –5 V (b) Repeat part (a) if the transistor parameters are I −15 S1 = 5 × 10 A and Figure P10.22 I = 7 × 10−15 S2 A. V+ V+ IREF II O REF IO Q1 Q2 Q1 Q2 RE RE Figure P10.25 Figure P10.26 10.26 Consider the circuit in Figure P10.26. Neglect base currents and assume VA = ∞. Assume IREF = 100 μA and RE = 700 . (a) For transistor parameters of IS1 = I −15 S2 = 5 × 10 A, find VB E1, VB E2, and IO . (b) Repeat nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 741 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 741 part (a) if the transistor parameters are I = 5 × 10−15 S1 A and IS2 = 2 × 10−15 A. 10.27 (a) For the Widlar current source shown in Figure 10.9, find IREF, IO , and VB E2 if R1 = 50 k, RE = 3 k, V + = 5 V, and V − = −5 V. The transistor parameters are β = 120 and VB E1(on) = 0.7 V. (b) Determine Ro for VA = 80 V. *10.28 Consider the Widlar current source in Problem 10.27. For β = 80 and VA = 80 V, determine the change in IO corresponding to a 5 V change in the output voltage. D10.29 (a) Design the Widlar current source such that IREF = 0.50 mA and IO = 50 μA. Assume that V + = +5 V, V − = −5 V, VB E1 = 0.7 V, and neglect base currents. (b) If β = 75 and VA = 100 V, determine the output resistance looking into the collector of Q2. (c) What is the percent change in IO if the voltage at the collector of Q2 changes by +5 V? D10.30 Design a Widlar current source to provide a bias current of IO = 50 μA. The circuit is to be biased at V + = 3 V and V − = −3 V. Assume VB E1(on) = 0.7 V and VA = ∞. The maximum resistor value is to be limited to 10 k. D10.31 Design the Widlar current source shown in Figure 10.9 such that IREF = 2 mA and I = 50 μA. Let V + O = 15 V and V − = 0. The transistors are matched, and VB E = 0.7 Vat 1 mA. 10.32 The circuit parameters of the Widlar current source in Figure 10.9 are V + = 3 V, V − = −3 V, and R1 = 20 k. Assume VB E1(on) = 0.7 V and VA = ∞. (a) Determine IREF and (b) RE such that IO = 100 μA. 10.33 Consider the Widlar current source in Figure 10.9. The circuit parameters are: V + = 10 V, V − = −10 V, R1 = 40 k, and RE = 12 k. Neglect base currents and assume VB E1 = 0.7 Vat 1 mA. Determine IREF, IO, VB E1, and VB E2. 10.34 Consider the circuit in Figure P10.34. The transistors are matched. Assume that base currents are negligible and that VA = ∞. Using the current–voltage relationships given by Equation(s (10.2)6(a)) and (10.26(b)), show that I IO RE2 − IREF RE1 = VT ln REF IO If RE1 = RE2 = 0 and VA = ∞, explain the advantage of this circuit over the basic two-transistor current source in Figure 10.2(b). V+ IO IREF R1 VC2 Q1 Q2 RE1 RE2 V– Figure P10.34 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 742 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 742 Part 2 Analog Electronics V+ 10.35 The modified Widlar current-source circuit shown in Figure P10.34 is biased at V + = 3 V and V − = −3 V. (a) For IS1 = I = 10−15 S2 A and RE1 = 500 , design the circuit such that IREF = 0.5 mA and IO = 0.2 mA. IREF IO Neglect base currents. What are the values of VB E1 and VB E2? (b) Repeat part (a) for I = 10−15 S1 A and I = 2 × 10−15 S2 A. *10.36 Consider the circuit in Figure P10.36. Neglect base currents and assume VA = ∞. (a) Derive the expression for IO in terms of IREF and RE. (b) De- Q1 Q3 termine the value of RE such that IO = IREF = 100 μA. Assume VB E = 0.7 Vat a collector current of 1 mA. 10.37 Consider the Widlar current-source circuit with multiple output tran- R sistors shown in Figure P10.37. Assume VB E1 = 0.7 V. (a) For circuit Q E 2 parameters R1 = 10 k, RE2 = 1 k, and RE2 = 2 k, find IREF, IO2, and IO3. (b) Determine new values of RE2 and RE3 such that IO2 = 20 μA and IO3 = 80 μA. 10.38 Assume that all transistors in the circuit in Figure P10.38 are matched and Figure P10.36 that β = ∞ (neglect base currents). (a) Derive an expression for IO in terms of bias voltages and resistor values. (b) Show that if R1 = R2 and IO = IREF, then I = (V + O − V −)/2RE , which means that the currents are independent of V + − BE. (c) For V = +5 V and V = −5 V, design the circuit such that IO = 0.5 mA. 10.39 In the circuit in Figure P10.39, the transistor parameters are: β = ∞, VA = ∞, and VB E = VE B = 0.7 V. Let RC1 = 2 k, RC2 = 3 k, RC3 = 1 k, and R1 = 12 k. (a) Determine IO1, IO2, and IO3. (b) Calculate VC E1, VEC2, and VEC3. 10.40 Consider the circuit in Figure P10.39, with transistor parameters β = ∞, VA = ∞, and VB E(on) = VE B(on) = 0.7 V. Let R1 = 24 k. (a) Find IREF, IO1, IO2, and IO3. (b) Determine the maximum values of RC1, RC2, and RC3 such that Q1, Q2, and Q3 remain biased in the forward-active region. Assume VC E(min) = VEC(min) = 0.7 V. +10 V V+ QR1 Q3 Q2 V+ = 5 VI R REF 1 IO2 RC2 IO3 RC3 IO IREF R1 IO2 II O3 Q Q REF R1 1 3 IO1 RC1 Q1 Q3 Q2 Q2 RE QR2 QR 1 E2 RE3 R2 V– = –5 V V – –10 V Figure P10.37 Figure P10.38 Figure P10.39 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 743 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 743 10.41 Consider the circuit shown in Figure P10.41. Assume VB E = VE B = 0.7 V for all transistors except Q5 and let β = ∞. Determine all collector currents, and find VC E3, VC E5, and VEC7. 10.42 For the circuit shown in Figure P10.42, assume transistor parameters VB E = VE B = 0.7 V for all transistors except Q3 and Q6, and let β = ∞. Find the collector current in each transistor. +10 V +5 V RE1 = +10 V 300 Ω Q1 Q4 Q6 Q7 Q Q 1 3 RR 2 = 3 = 1 kΩ 0.8 kΩ R = R1 =1 V + = 10 V 10 kΩ 10 kΩ +5 V R2 = R = IREF R1 = 6.3 kΩ 0.8 kΩ 3 Ω II 0.8 k O1 O2 IO3 Q Q Q2 Q6 Q 5 2 5 QR Q Q Q 3 4 3 Q1 Q2 RE = R Ω –10 V E2 = 500 500 Ω RER = 3 kΩ RE1 RE2 RE3 –10 V Figure P10.41 Figure P10.42 Figure P10.43 *D10.43 Consider the circuit in Figure P10.43. The transistor parameters are: β = ∞, VA = ∞, and VB E = 0.7 V. Design the circuit such that the BE voltages of Q1, Q2, and Q3 are identical to that of QR. What are the values of IO1, IO2, and IO3? V+ Section 10.2 FET Current Sources RI o 10.44 Consider the MOSFET current-source circuit in Figure P10.44 with V + = REF R +2.5 V and R = 15 k. The transistor parameters are VT N = 0.5 V, k ′ n = IO 80 μA/V2, W/L = 6, and λ = 0. Determine IREF, IO, and VDS2(sat). *D10.45 The MOSFET current-source circuit in Figure P10.44 is biased at V + = M1 M2 2.0 V. The transistor parameters are V ′ 2 TN = 0.5 V, kn = 80 μA/V , and λ = 0.015 V−1. (a) Design the circuit such that IREF = 50 μA and the nominal bias current is IO = 100 μA. (b) Find the output resistance Ro. (c) Determine the percentage change in IO for a change in drain-to-source voltage of VDS2 = 1 V. Figure P10.44 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 744 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 744 Part 2 Analog Electronics V+ = 5 V 10.46 Consider the basic two-transistor NMOS current source in Figure 10.16. The circuit parameters are V + = +5 V, V − = −5 V, and IREF = 250 μA. The transistor parameters are VT N = 1 V, k ′ n = 80 μA/V2, and λ = IREF IO 0.02 V−1. (a) For (W/L)1 = (W/L)2 = 3, find IO for (i) VDS2 = 3 V, (ii) VDS2 = 4.5 V, and (iii) VDS2 = 6 V. (b) Repeat part (a) for (W/L)1 = 3 and (W/L)2 = 4.5. 10.47 In the two-transistor NMOS current source shown in Figure 10.16, the pa- M1 M2 rameters are: V + = 3 V, V − = −3 V, and IREF = 0.2 mA. The transistor parameters are: VT N1 = 0.4 V, Kn1 = 0.2 mA/V2, and λ1 = λ2 = 0. (a) If VT N2 = 0.4 V and Kn2 = (0.2 ± 5%) mA/V2, determine the range in val- Rues of I . (b) If K = 0.2 mA/V2 and V = (0.4 ± 5%) V, determine SO n2 TN2 the range in values of IO . 10.48 Consider the circuit shown in Figure P10.48. Let IREF = 200 μA. The transistor parameters are Kn1 = K 2 n2 = 0.2 mA/V , VT N1 = VT N2 = 0.5 V, and λ1 = λ2 = 0. (a) If RS = 10 k, determine IO and VGS2. (b) If Figure P10.48 IO = 0.5 IREF, determine RS and VGS2. 10.49 Consider the two-transistor diode-connected circuit in Figure P10.49. Assume that both transistors are biased in the saturation region, and that Ro gm1 = gm2 ≡ gm and ro1 = ro2 ≡ ro . Neglect the body effect. Derive the expression for the output resistance Ro. 10.50 The circuit parameters for the circuit shown in Figure 10.17 are V + = 1.8 V M and V − = −1.8 V. The transistor parameters are VT N = 0.5 V, VBias 2 k ′ n = 80 μA/V2, and λ = 0. Design the circuit such that IO = 0.15 mA, IREF = 0.5 mA, and M2 remains biased in the saturation region for VDS2 ≥ 1 V. 10.51 The parameters for the circuit in Figure 10.17 are V + = +5 V and M1 V − = 0. The transistor parameters are VT N = 0.7 V, k ′ n = 60 μA/V2, and λ = 0.015 V−1. The transistor width-to-length ratios are (W/L)1 = 20, (W/L)2 = 12, and (W/L)3 = 3. Determine (a) IREF, (b) IO at VDS2 = 1.5 V, and (c) IO at VDS2 = 3 V. Figure P10.49 10.52 Figure P10.52 is a PMOS version of the current-source circuit shown in Figure 10.17. The transistor M2 sources a bias current to a load circuit. As- + sume the circuit is biased at V + = +5 V and V − = −5 V, and assume the V transistor parameters are V = −0.5 V, k ′ T Pp = 50 μA/V2, (W/L)1 = (W/L)2 = 15, (W/L)3 = 3, and λ = 0. Determine IREF, IO, and VSD2(sat). D10.53 The circuit shown in Figure P10.52 is biased at V + = +2 V and V − = MM −2 V. Assume the transistor parameters are VT P = −0.35 V, k ′ = 1 2 p 50 μA/V2, and λ = 0. Design the circuit such that IREF = 200 μA, I IO = 100 μA, and V REF SD2(sat) = 1.2 V. IO 10.54 The transistor circuit shown in Figure P10.54 is biased at V + = +5 V and V − = −5 V. The transistor parameters are V ′ T P = −1.2 V, kp = M 80 μA/V2, λ = 0, (W/L)1 = (W/L)2 = 25, and (W/L)3 = (W/L)4 = 4. 3 Determine IREF, IO, and VSD2(sat). D10.55 Assume the circuit shown in Figure P10.54 is biased at V + = 3 V and V − = −3 V. The transistor parameters are VT P = −0.5 V, k ′ p = 60 μA/V2, V– and λ = 0. Design the circuit such that IREF = 250 μA, IO = 80 μA, and VSD2(sat) = 1.0 V. Assume M3 and M4 are matched. Figure P10.52 10.56 The circuit in Figure P10.56 is a PMOS version of a two-transistor MOS current mirror. Assume transistor parameters of VT P = −0.4 V, k ′ p = 60 μA/V2, and λ = 0. The transistor width-to-length ratios are nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 745 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 745 V+ M1 M2 V+ = 3 VI IO REF M3 M1 M2 IO IREF RM4 M3 V+ IO IV– REF Figure P10.54 Figure P10.56 M5 M6 (W/L)1 = 25, (W/L)2 = 15, and (W/L)3 = 5. (a) Determine IO , IREF, VSG1, and VSG3. (b) What is the largest value of R such that M2 remains biased in the saturation region? D10.57 The transistors in Figure P10.56 have the same parameters as in Problem M3 M4 10.56 except for the W/L ratios. Design the circuit such that IO = 80 μA, IREF = 220 μA, and VSD2(sat) = 0.35 V. 10.58 Consider the NMOS cascode current source in Figure 10.18. The circuit M1 M2 parameters are V + = 5 V, V − = −5 V, and IREF = 100 μA. All transistors are matched with parameters VT N = 0.5 V, Kn = 100 μA/V2, and λ = 0.02 V−1. (a) Determine IO for VD4 = −2 V. (b) Determine the percent change in IO as VD changes from −2 to +2 V. Figure P10.59 4 *10.59 Consider the NMOS current source in Figure P10.59. Let IREF = 0.2 mA, Kn = 0.2 mA/V2, VT N = 1 V, and λ = 0.02 V−1. (All transistors are V + = +3 V matched.) Determine the output resistance looking into the drain of M6. 10.60 The transistors in the circuit shown in Figure P10.60 have parameters VT N = 0.4 V, VT P = −0.4 V, k ′ n = 100 μA/V2, k ′ = 60 μA/V2 p , and M λn = = 4 λp 0. The transistor width-to-length ratios are (W/L)1 = (W/L)2 = 20, (W/L)3 = 5, and (W/L)4 = 10. Determine IO , IREF, and IREF VDS2(sat). What are the values of VGS1, VGS3, and VSG4? D10.61 The transistors in the circuit shown in Figure P10.60 have the same para- M3 meters as in Problem 10.60 except for the (W/L) ratios. Design the circuit such that IO = 50 μA, IREF = 500 μA, VDS2(sat) = 0.5 V, and IO VGS3 = VSG4. *10.62 A Wilson current mirror is shown in Figure 10.20(a). The parameters are: M1 M2 V + = 5 V, V − = −5 V, and IREF = 80 μA. The transistor parameters are: VT N = 1 V, Kn = 80 μA/V2, and λ = 0.02 V−1. Determine IO at: (a) VD3 = −1 V, and (b) VD3 = +3 V. – *10.63 Repeat Problem 10.62 for the modified Wilson current mirror in V = –3 V Figure 10.20(b). Figure P10.60 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 746 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 746 Part 2 Analog Electronics *10.64 Consider the circuit in Figure 10.21 in the text. Assume IREF = 50 μA and assume transistor parameters of V = 0.8 V, ( 1 TN 2 )μnCox = 48 μA/V2, λ = 0, and γ = 0. (a) Find W/L such that VDS3(sat) = 0.2 V. (b) What is VGS5? (c) What is the minimum voltage at the drain of M1 such that all transistors remain biased in the saturation region? 10.65 Consider the bias-independent current source in Figure 10.22. Assume transistor parameters of V 1 TN = +0.5 V, VT P = −0.5 V, ( 2 )μnCox = 50 μA/V2, ( 1 )μ C = 20 μA/V2 2 pox , and λn = λp = 0. The W/L ratios are given for the M1–M4 transistors. (a) Determine R such that ID1 = ID2 = 50 μA. (b) What is the minimum bias voltage difference (V + − V −) that must be applied? (c) Determine (W/L)5 and (W/L)6 such that IO1 = 25 μA and IO2 = 75 μA. D10.66 Consider the multitransistor current source in Figure P10.66. The transistor parameters are VT N = 0.7 V, k ′ n = 80 μA/V2, and λ = 0. Assume M3, M4, and M5 are identical. Design the circuit such that IREF = 0.1 mA, IO1 = 0.2 mA, and IO2 = 0.3 mA. V+ = 5 V IREF V+ = 1.8 V M5 I Load Load Load REF 1 2 3 IO1 = IO2 = IO3 = M4 0.1 mA 0.2 mA 0.4 mA IO1 IO2 M1 M2 M3 M4 M3 MM 2 1 V – = –1.8 V Figure P10.66 Figure P10.67 D10.67 Consider the circuit shown in Figure P10.67. The transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, and λ = 0. Design the (W/L) ratios of the transistors such that the total power dissipated in the circuit is 5 mW and VDS2(sat) = 0.4 V. 10.68 The parameters of the transistors in the circuit in Figure P10.68 are VT N = 0.8 V, VT P = −0.8 V, k ′ n = 100 μA/V2, k ′ p = 60 μA/V2, and λn = λp = 0. The transistor (W/L) ratios are given in the figure. For R = 100 k, determine IREF, I1, I2, I3, and I4. 10.69 Repeat Problem 10.68 if the bias voltages are changed to V + = 5 V and V − = −5 V. 10.70 Consider the circuit shown in Figure P10.70. The NMOS transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, λn = 0 and the PMOS transistor parameters are V = −0.6V, k ′ = 40μA/V2 T Pp ,λp = 0.The width-to-length ratios are (W/L)1 = 15, (W/L)2 = (W/L)3 = 9, and (W/L)4 = 20. Assume IREF = 200 μA. Determine ID2, IO, and VSD4(sat). nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 747 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 747 V+ = +12 V 0.2 V + 1 1 1.25 1 1 I1 I2 II REF M3 M4 REF RI3 I4 IO 1 4 1 0.8 1 M1 M2 1 V– = –12 V Figure P10.68 Figure P10.70 10.71 For the circuit shown in Figure P10.70, IREF = 100 μA. The transistor parameters are VT N = 0.4 V, VT P = −0.4 V, k ′ n = 100 μA/V2, k ′ p = 60 μA/V2, and λn = λp = 0. The transistor width-to-length ratios are (W/L)1 = 4, (W/L)2 = 2.5, (W/L)3 = 6, and (W/L)4 = 4. Determine ID2, IO , and all gate-to-source voltages. D10.72 The parameters of the NMOS transistors in the circuit in Figure P10.72 are VT N = 0.4 V, k ′ n = 100 μA/V2, λn = 0 and the parameters of the PMOS transistors in the circuit are VT P = −0.6 V, k ′ 2 p = 40 μA/V , λp = 0. Design the circuit such that IREF = 50 μA, IO1 = 120 μA, ID3 = 25 μA, IO2 = 150 μA, VSD2(sat) = 0.35 V, and VDS5(sat) = 0.35 V. +1.75 V VD M1 MM 3 IO 2 IO2 IREF IO1 RM4 M5 VD –1.75 V –10 V IO Figure P10.72 Figure P10.73 10.73 For the JFET in Figure P10.73, the parameters are: IDSS = 2 mA, VP = −2 V, and λ = 0.05 V−1. Determine IO for: (a) VD = −5 V, (b) VD = 0 V, Rand (c) VD = +5 V. D10.74 A JFET circuit is biased with the current source in Figure P10.74. The transistor parameters are: IDSS = 4 mA, VP = −4 V, and λ = 0. Design the circuit such that IO = 2 mA. What is the minimum value of VD such that the transistor is biased in the saturation region? Figure P10.74 nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 748 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 748 Part 2 Analog Electronics V+ = 2.5 V Section 10.3 Active Load Circuits 10.75 Consider the circuit shown in Figure P10.75. The transistor parameters are IS1 = 5 × 10−16 A, IS2 = 10−15 A, β1 = 180, β2 = 120, VA1 = 120 V, and VB Q2 VA2 = 80 V. The Q-point is VO = 1.25 V and IC Q = 200 μA. (a) Determine the small-signal voltage gain, (b) determine VI , and (c) determine V VB . O 10.76 For the circuit shown in Figure P10.76, the transistor parameters are V Q VT N = 0.5 V, VT P = −0.5 V, k ′ n = 100 μA/V2, k ′ p = 60 μA/V2, λ I 1 = 1 0.02 V−1, and λ2 = 0.03 V−1. The quiescent drain current is IDQ = 200 μA and the quiescent output voltage is VO = 1.25 V. (a) Determine (W/L)1 such that the small-signal voltage gain is Av = −100, (b) determine VI , Figure P10.75 and (c) determine VG assuming Kn1 = Kp2. 10.77 Consider the simple BJT active load amplifier in Figure 10.29, with transistor + parameters: I = 10−12 SO A, IS1 = IS2 = 5 × 10−13 A, VAN = 120 V, V = 2.5 V and V + AP = 80 V. Let V = 5 V, and neglect base currents. (a) Find the value of VEB that will produce IREF = 1 mA. (b) Determine the value of R1. (c) What value of VI will produce VC E O = VEC2? (d) Determine the VG M2 open-circuit small-signal voltage gain. 10.78 The amplifier shown in Figure P10.78 uses a pnp driver and an npn active VO load circuit. The transistor parameters are: IS0 = 5 × 10−13 A, IS1 = IS2 = 10−12 A, VAN = 120 V, and VAP = 80 V. Let V + = 5 V, and neglect base V currents. (a) Find the value of VBE that will produce I M REF = 0.5 mA. I 1 (b) Determine the value of R1. (c) What value of VI will produce VEC0 = VC E2? (d) Determine the open-circuit small-signal voltage gain. V+ V+ = 5 V Figure P10.76 + VSG vI Q0 – IR REF 1 M2 M1 vO IO IREF vO Q2 Q1 M + vI M 3 o VBE – Figure P10.78 Figure P10.79 D10.79 The bias voltage of the MOSFET amplifier with active load in Figure P10.79 is changed to V + = 3 V. The transistor parameters are VT N = 0.5 V, VT P = −0.5 V, k ′ n = 100 μA/V2, k ′ p = 60 μA/V2, and λn = λp = 0.02 V−1. The quiescent values are VO = 1.5 V and VI = 1.2 V. (a) Design the circuit W/L ratios, such that IREF = IO = 100 μA. Assume M1 and M2 are matched. (b) Determine the small-signal voltage gain. 10.80 The simple MOSFET amplifier with active load shown in Figure 10.33 is biased at V + = 3 V. The reference current is IREF = 80 μA. The transistor parameters are VT N = 0.5 V, VT P = −0.5 V, Kn = Kp = 0.1 mA, and λn = λp = 0.02 V−1. (a) Find VSG . (b) What value of VI will produce VDSO = VSD2? (c) Determine the small-signal voltage gain. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 749 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 749 Section 10.4 Small-Signal Analysis: Active Load Circuits 10.81 Consider the circuit shown in Figure 10.37(a). Let V + = 3 V and R1 = 47 k. The transistors Q1 and Q2 are matched with VE B(on) = 0.6 V. Neglect base currents, and assume VAP = 90 V and VAN = 120 V. Determine the small-signal voltage gain for (a) RL = ∞, (b) RL = 300 k, and (c) RL = 150 k. 10.82 Again consider the circuit shown in Figure 10.37(a). Let V + = 5 V and R1 = 35 k. Let VE B1(on) = 0.6 V. Neglect dc base currents. The base- emitter area of Q2 is twice that of Q1. The Early voltages are VAN = 120 V and VAP = 80 V. Determine the small-signal voltage gain for (a) RL = ∞ and (b)RL = 250 k. 10.83 A BJT amplifier with active load is shown in Figure P10.83. The circuit contains emitter resistors RE and a load resistor RL. (a) Derive the expression for the output resistance looking into the collector of Q2. (b) Using the small-signal equivalent circuit, derive the equation for the small-signal voltage gain. Express the relationship in a form similar to Equation (10.94). + V+ V RE RE Q2 Q1 Q2 Q1 IQ 2 3 IREF vO vO IO IR v QR REF 1 I 0 L vI Q0 Figure P10.83 Figure P10.84 10.84 In the circuit in Figure P10.84, the active load circuit is replaced by a Wilson current source. Assume that β = 80 for all transistors, and that VAN = 120 V, VAP = 80 V, and IREF = 0.2 mA. Determine the open- circuit small-signal voltage gain. 10.85 For the circuit in Figure 10.40(a), the transistor parameters are k ′ n = 80 μA/V2, k ′ p = 40 μA/V2, VT N = 0.8 V, VT P = −0.6 V, λn = 0.015 V−1, and λp = 0.02 V−1. Also, assume (W/L)o = 20 and (W/L)1 = (W/L)2 = 35. The circuit parameters are V + = 5 V and IREF = 200 μA. (a) Determine the gm and ro parameters of each transistor. (b) Determine the open-circuit small-signal voltage gain. (c) Determine the value of RL that results in a voltage gain of one-half the open-circuit value. 10.86 Consider the circuit in Figure 10.40(a). The transistor and circuit parameters are the same as given in Problem 10.85 except for the width-to-length ratios of the transistors. Determine the W/L ratios such that the open-circuit small-signal voltage gain is Av = −100. Also let the dc voltage values be VGSo = VSG2. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 750 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: 750 Part 2 Analog Electronics 10.87 The parameters of the transistors in Figure P10.87 are VT N = 0.6 V, VT P = −0.6 V, k ′ n = 100 μA/V2, k ′ p = 60 μA/V2, and λn = λp = 0.02 V−1. The width-to-length ratios are shown in the figure. The value of VGSO is such that ID1 = 100 μA, and M1 and M2 are biased in the saturation region. Determine the small-signal voltage gain Av = vo/vi . V+ = 9 V V+ = 5 V M4 M5 80 80 1 1 M3 M4 M3 M6 80 vo 1 M2 VBias M2 IREF = vo I 80 mA REF = 20 100 mA 1 MM 1 1 v + iv + – i – + + VGSQ VGSQ – – Figure P10.87 Figure P10.88 V+ = 5 V 10.88 The parameters of the transistors in Figure P10.88 are VT N = 0.6 V, VT P = −0.6 V, k ′ n = 100 μA/V2, k ′ p = 60 μA/V2, and λn = λp = 0.04 V−1. The width-to-length ratios of M1 and M2 are 25, and those of all Q Q other transistors are 50. The value of VGSQ is such that ID1 = 80 μA, and 4 5 all transistors are biased in the saturation region. Determine the small- signal voltage gain Av = vo/vi . 10.89 A BJT cascode amplifier with a cascode active load is shown in Q3 Q6 Figure P10.89. Assume transistor parameters of β = 120 and VA = 80 V. The VB B voltage is such that all transistors are biased in the active region. vo Determine the small-signal voltage gain Av = vo/vi . D10.90 Design a bipolar cascode amplifier with a cascode active load similar to VBias Q2 that in Figure P10.89 except the amplifying transistors are to be pnp and IREF = m the load transistors are to be npn. Bias the circuit at V + = 10 V and in- 250 A corporate a reference current of IREF = 200 μA. If all transistors are Q1 matched with β = 100 and VA = 60 V, determine the small-signal volt- v + age gain. i – + D10.91 Design a MOSFET cascode amplifier with a cascode active load similar to VBB that shown in Figure P10.88 except that the amplifying transistors are to – be PMOS and the load transistors are to be NMOS. Assume transistor pa- Figure P10.89 rameters similar to those in Problem 10.88. Determine the small-signal voltage gain. nea80644_ch10_687-752.qxd 6/19/09 4:28 AM Page 751 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: Chapter 10 Integrated Circuit Biasing and Active Loads 751 COMPUTER SIMULATION PROBLEMS 10.92 Consider the Widlar current source in Figure 10.9, with parameters given in Example 10.5. Choose appropriate transistor parameters. Connect a 50 k resistor between V + and the collector of Q2 as a load. Using a computer simulation, determine IREF, IO , VB E1, and VB E2. 10.93 Using a computer simulation, verify the results of Example 10.9. 10.94 Using a computer simulation, verify the results of Example 10.12. In each case, plot vO versus vI over the range 0 ≤ vI ≤ 1.0 V. 10.95 Using a computer simulation, verify the results of Problem 10.87. DESIGN PROBLEMS [Note: Each design should be verified with a computer analysis.] *D10.96 Design a generalized Widlar current source (Figure P10.34) to provide a bias current of IO = 100 μA and an output resistance of Ro = 10 M. The circuit is to be biased at V + = 3 V and V − = −3 V. The transistor parameters are IS = 10−15 A and VA = 120 V. *D10.97 The current source to be designed has the general configuration shown in Figure 10.17. The bias voltages are V + = 2.5 V and V − = −2.5 V. The bias current is to be IO = 80 μA and VDS2(sat) = 0.5 V. The total power dissipated in the circuit is to be limited to 1 mW. Use appropriate transistor parameters. *D10.98 Design a PMOS version of the current source circuit shown in Figure 10.27. The circuit is to be biased at V + = 2.5 V and V − = 2.5 V. The currents are to be IO = 0.6 mA and IREF = 0.25 mA. Use appropriate transistor parameters. *D10.99 Consider Exercise TYU 10.10. Redesign the circuit such that the small- signal voltage gain is Av = −120. nea80644_ch10_687-752.qxd 6/19/09 5:18 AM Page 752 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-10: nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 753 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Differential and Multistage Amplifiers 11 In this chapter, we introduce a special multitransistor circuit configuration called the differential amplifier, or diff-amp. We have encountered a diff-amp previously in our discussion of op-amp circuits. However, the diff-amp, in the context of this chapter, is at the basic transistor level. The diff-amp is a fundamental building block of analog circuits. It is the input stage of virtually every op-amp, and is the basis of a high-speed digital logic circuit family, called emitter-coupled logic, which will be addressed in Chapter 17. The design of diff-amps for integrated circuits, in general, incorporates current- source biasing and active loads, which were analyzed in the last chapter. At the end of this chapter, the reader should be able to design both BJT and MOSFET diff-amps to meet particular specifications. Basic BiCMOS analog circuits are also considered. BiCMOS circuits combine bipolar and MOS transistors on the same semiconductor chip. The advantages of the MOSFET’s high input impedance and the bipolar high gain can be utilized in the same circuit. Up to this point, we have concentrated primarily on the analysis and design of single-stage amplifiers. However, these circuits have limited gain, input resistance, and output resistance characteristics. Multistage or cascaded-stage amplifiers can be designed to produce high gain and specified input and output resistance properties. In this chapter, we begin to consider these multistage amplifiers. PREVIEW In this chapter, we will: • Describe the characteristics and terminology of the ideal differential amplifier. • Analyze and determine the characteristics of the basic bipolar differential amplifier. • Analyze and determine the characteristics of the basic MOSFET differential amplifier. • Determine the characteristics of BJT and MOSFET differential amplifiers with active loads. • Describe the characteristics of and analyze various BiCMOS circuits. • Analyze an example of again stage and output stage of a multistage amplifier. • Analyze a simplified multistage bipolar amplifier. • Analyze the frequency response of the differential amplifier. • As an application, design a CMOS diff-amp with an output gain stage to meet a set of specifications. 753 Chapter"
Chapter 11: Differential and Multistage Amplifiers,"11: Differential and Multistage Amplifiers 11 In this chapter, we introduce a special multitransistor circuit configuration called the differential amplifier, or diff-amp. We have encountered a diff-amp previously in our discussion of op-amp circuits. However, the diff-amp, in the context of this chapter, is at the basic transistor level. The diff-amp is a fundamental building block of analog circuits. It is the input stage of virtually every op-amp, and is the basis of a high-speed digital logic circuit family, called emitter-coupled logic, which will be addressed in Chapter 17. The design of diff-amps for integrated circuits, in general, incorporates current- source biasing and active loads, which were analyzed in the last chapter. At the end of this chapter, the reader should be able to design both BJT and MOSFET diff-amps to meet particular specifications. Basic BiCMOS analog circuits are also considered. BiCMOS circuits combine bipolar and MOS transistors on the same semiconductor chip. The advantages of the MOSFET’s high input impedance and the bipolar high gain can be utilized in the same circuit. Up to this point, we have concentrated primarily on the analysis and design of single-stage amplifiers. However, these circuits have limited gain, input resistance, and output resistance characteristics. Multistage or cascaded-stage amplifiers can be designed to produce high gain and specified input and output resistance properties. In this chapter, we begin to consider these multistage amplifiers. PREVIEW In this chapter, we will: • Describe the characteristics and terminology of the ideal differential amplifier. • Analyze and determine the characteristics of the basic bipolar differential amplifier. • Analyze and determine the characteristics of the basic MOSFET differential amplifier. • Determine the characteristics of BJT and MOSFET differential amplifiers with active loads. • Describe the characteristics of and analyze various BiCMOS circuits. • Analyze an example of again stage and output stage of a multistage amplifier. • Analyze a simplified multistage bipolar amplifier. • Analyze the frequency response of the differential amplifier. • As an application, design a CMOS diff-amp with an output gain stage to meet a set of specifications. 753 Chapter"
Preview,"PREVIEW In this chapter, we will: • Describe the characteristics and terminology of the ideal differential amplifier. • Analyze and determine the characteristics of the basic bipolar differential amplifier. • Analyze and determine the characteristics of the basic MOSFET differential amplifier. • Determine the characteristics of BJT and MOSFET differential amplifiers with active loads. • Describe the characteristics of and analyze various BiCMOS circuits. • Analyze an example of again stage and output stage of a multistage amplifier. • Analyze a simplified multistage bipolar amplifier. • Analyze the frequency response of the differential amplifier. • As an application, design a CMOS diff-amp with an output gain stage to meet a set of specifications. 753 Chapter nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 754 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 754 Part 2 Analog Electronics 11.1 THE DIFFERENTIAL AMPLIFIER Objective: • Describe the characteristics and terminology of the ideal differential amplifier. In Chapters 4 and 6, we discussed the reasons linear amplifiers are necessary in analog electronic systems. In these chapters, we analyzed and designed several configurations of MOSFET and bipolar amplifiers. In these circuits, there was one input terminal and one output terminal. In this chapter, we introduce another basic transistor circuit configuration called v2 Difference v the differential amplifier. This amplifier, also called a diff-amp, is the input stage to v1 amplifier o virtually all op-amps and is probably the most widely used amplifier building block in analog integrated circuits. Figure 11.1 is a block diagram of the diff-amp. There Figure 11.1 Difference are two input terminals and one output terminal. Ideally, the output signal is propor- amplifier block diagram tional to only the difference between the two input signals. The ideal output voltage can be written as vo = Avol(v1 − v2) (11.1) where Avol is called the open-loop voltage gain. In the ideal case, if v1 = v2, the output voltage is zero. We only obtain a nonzero output voltage if v1 and v2 are not equal. We define the differential-mode input voltage as vd = v1 − v2 (11.2) and the common-mode input voltage as v1 + v2 vcm = (11.3) 2 These equations show that if v1 = v2, the differential-mode input signal is zero and the common-mode input signal is vcm = v1 = v2. If, for example, v1 = +10 μV and v2 = −10 μV, then the differential-mode voltage is vd = 20 μV and the common-mode voltage is vcm = 0. However, if v1 = 110 μV and v2 = 90 μV, then the differential-mode input signal is still vd = 20 μV, but the common-mode input signal is vcm = 100 μV. If each pair of input voltages were applied to the ideal difference amplifier, the output voltage in each case would be exactly the same. However, amplifiers are not ideal, and the common-mode input signal does affect the output. One goal of the design of differential amplifiers is to minimize the effect of the common-mode input signal. 11.2 BASIC BJT DIFFERENTIAL PAIR Objective: • Describe the characteristics of and analyze the basic bipolar differential amplifier. In this section, we consider the basic bipolar difference amplifier or diff-amp. We introduce the terminology, qualitatively describe the operation of the circuit, and analyze the dc and small-signal characteristics of the diff-amp."
11.1 The Differential Amplifier,"11.1 THE DIFFERENTIAL AMPLIFIER Objective: • Describe the characteristics and terminology of the ideal differential amplifier. In Chapters 4 and 6, we discussed the reasons linear amplifiers are necessary in analog electronic systems. In these chapters, we analyzed and designed several configurations of MOSFET and bipolar amplifiers. In these circuits, there was one input terminal and one output terminal. In this chapter, we introduce another basic transistor circuit configuration called v2 Difference v the differential amplifier. This amplifier, also called a diff-amp, is the input stage to v1 amplifier o virtually all op-amps and is probably the most widely used amplifier building block in analog integrated circuits. Figure 11.1 is a block diagram of the diff-amp. There Figure 11.1 Difference are two input terminals and one output terminal. Ideally, the output signal is propor- amplifier block diagram tional to only the difference between the two input signals. The ideal output voltage can be written as vo = Avol(v1 − v2) (11.1) where Avol is called the open-loop voltage gain. In the ideal case, if v1 = v2, the output voltage is zero. We only obtain a nonzero output voltage if v1 and v2 are not equal. We define the differential-mode input voltage as vd = v1 − v2 (11.2) and the common-mode input voltage as v1 + v2 vcm = (11.3) 2 These equations show that if v1 = v2, the differential-mode input signal is zero and the common-mode input signal is vcm = v1 = v2. If, for example, v1 = +10 μV and v2 = −10 μV, then the differential-mode voltage is vd = 20 μV and the common-mode voltage is vcm = 0. However, if v1 = 110 μV and v2 = 90 μV, then the differential-mode input signal is still vd = 20 μV, but the common-mode input signal is vcm = 100 μV. If each pair of input voltages were applied to the ideal difference amplifier, the output voltage in each case would be exactly the same. However, amplifiers are not ideal, and the common-mode input signal does affect the output. One goal of the design of differential amplifiers is to minimize the effect of the common-mode input signal. 11.2 BASIC BJT DIFFERENTIAL PAIR Objective: • Describe the characteristics of and analyze the basic bipolar differential amplifier. In this section, we consider the basic bipolar difference amplifier or diff-amp. We introduce the terminology, qualitatively describe the operation of the circuit, and analyze the dc and small-signal characteristics of the diff-amp."
11.2 Basic BJT Differential Pair,"11.2 BASIC BJT DIFFERENTIAL PAIR Objective: • Describe the characteristics of and analyze the basic bipolar differential amplifier. In this section, we consider the basic bipolar difference amplifier or diff-amp. We introduce the terminology, qualitatively describe the operation of the circuit, and analyze the dc and small-signal characteristics of the diff-amp. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 755 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 755 11.2.1 BJT Diff-Amp Operation—Qualitative Description Figure 11.2 shows the basic BJT differential-pair configuration. Two identical transistors, Q1 and Q2, whose emitters are connected together, are biased by a constant- current source I , which is connected to a negative supply voltage V − Q . The collectors of Q1 and Q2 are connected through resistors RC to a positive supply voltage V +. By design, transistors Q1 and Q2 are to remain biased in the forward-active region. We assume that the two collector resistors RC are equal, and that vB1 and vB2 are ideal sources, meaning that the output resistances of these sources are negligibly small. V+ iC RR 1 CC iC2 vC1 vC2 Q1 vE Q2 + + vBE1 – – vBE2 ii + E1 E2 v + – B1 vB2 – IQ V– Figure 11.2 Basic BJT differential-pair configuration Since both positive and negative bias voltages are used in the circuit, the need for coupling capacitors and voltage divider biasing resistors at the inputs of Q1 and Q2 has been eliminated. If the input signal voltages vB1 and vB2 in the circuit shown in Figure 11.2 are both zero, Q1 and Q2 are still biased in the active region by the current source IQ. The common-emitter voltage vE would be on the order of −0.7 V. This circuit, then, is referred to as a dc-coupled differential amplifier, so differences in dc input voltages can be amplified. Although the diff-amp contains two transistors, it is considered a single-stage amplifier. The analysis will show that it has characteristics similar to those of the common-emitter amplifier. First, we consider the circuit in which the two base terminals are connected together and a common-mode voltage vcm is applied as shown in Figure 11.3(a). The transistors are biased “on” by the constant-current source, and the voltage at the common emitters is vE = vcm − VB E(on). Since Q1 and Q2 are matched or identical, current IQ splits evenly between the two transistors, and I iE1 = i = Q E2 (11.4) 2 If base currents are negligible, then iC ∼ 1 = iE1 and iC ∼ 2 = iE2, and IQ v + C1 = V − RC = v 2 C2 (11.5) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 756 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 756 Part 2 Analog Electronics V+ V+ IQ IR QC RC 2 2 II Q + ΔI RC R QC – Δ I vC = vC = 2 2 1 2 II V + QR Q – CV + – RC vC1 = vC2 = 2 2 [ I + Q IV ΔI R ] [V + Q Q Q – + C – – ΔI R ] + 2 2 C 1 v 2 E II v Q Q cm + ΔI – ΔI I 2 2 – Q IQ + + 2 2 v v BE1 – – vBE2 v d + d 2 – 2 II Q Q V– V – (a) (b) Figure 11.3 Basic diff-amp with applied common-mode voltage and (b) basic diff-amp with applied differential-mode voltage We see from Equation (11.5) that, for an applied common-mode voltage, IQ splits evenly between Q1 and Q2 and the difference between vC1 and vC2 is zero. Now, if vB1 increases by a few millivolts and vB2 decreases by the same amount, or vB1 = vd/2 and vB2 = −vd/2, the voltages at the bases of Q1 and Q2 are no longer equal. Since the emitters are common, this means that the BE voltages on Q1 and Q2 are no longer equal. Since vB1 increases and vB2 decreases, then vB E1 > vB E2, which means that iC1 increases by I above its quiescent value and iC2 decreases by I below its quiescent value. This is shown in Figure 11.3(b). A potential difference now exits between[ the two( collector te)rmina]ls. We can write IC Q vC2 − vC1 = V + [ − ( − IR 2 )C ] − + − IV C Q + IRC = 2IRC (11.6) 2 A voltage difference is created between vC2 and vC1 when a differential-mode input voltage is applied. EXAMPLE 11.1 Objective: Determine the quiescent collector current and collector-emitter voltage in a difference amplifier. Consider the diff-amp in Figure 11.2, with circuit parameters: V + = 10 V, V − = −10 V, IQ = 1 mA, and RC = 10 k. The transistor parameters are: β = ∞ (neglect base currents), VA = ∞, and VB E(on) = 0.7 V. Determine iC1 and vCE1 for common-mode voltages vB1 = vB2 = vC M = 0,−5 V, and +5 V. Solution: We know that Ii QC1 = iC2 = = 0.5 mA 2 + – nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 757 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 757 therefore, v = v = V + C1 C2 − iC1 RC = 10 − (0.5)(10) = 5 V From vC M = 0, vE = −0.7 V and vC E1 = vC1 − vE = 5 − (−0.7) = 5.7 V For vC M = −5 V, vE = −5.7 V and vC E1 = vC1 − vE = 5 − (−5.7) = 10.7 V For vC M = +5 V, vE = 4.3 V and vC E1 = vC1 − vE = 5 − 4.3 = 0.7 V Comment: As the common-mode input voltage varies, the ideal constant current IQ still splits evenly between Q1 and Q2, but the collector-emitter voltage varies, which means that the Q-point changes. The variation in Q-point as a function of common- mode input voltage is shown in Figure 11.4(a). In this example, if vCM were to increase about +5 V, then Q1 and Q2 would be driven into saturation. This demonstrates that there is a limited range of applied common-mode voltage over which Q1 and Q2 will remain biased in the forward-active mode. Figure 11.4(b) shows the Q-point when vC M = 0 and also shows the variation in iC1 and vCE1 when an 18 mV sinusoidal differential voltage is applied. iC1 (mA) v = 0 v = –9.3 V vCM = +5 V CM CM 0.7 5.7 15.0 vCE1 (V) (a) iC1 (mA) 0.673 Time Q-point 0.5 0.327 3.97 5.7 7.43 vCE1 (b) Figure 11.4 (a) Variation of Q-point for transistor Q1 in the BJT diff-amp as the common- mode input voltage varies from +5 to −9.3 V; (b) change in collector current and collector–emitter voltage versus time for transistor Q1 in the BJT diff-amp when a sinusoidal 18 mV differential voltage is applied Time nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 758 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 758 Part 2 Analog Electronics EXERCISE PROBLEM Ex 11.1: The circuit parameters for the differential amplifier shown in Figure 11.2 are V + = 5 V, V − = −5 V, IQ = 0.3 mA, and RC = 20 k. The transistor parameters are β = 180, VB E (on) 5 0.7 V, and VA = ∞. Determine the voltages vE , vC1, vC2, vC E1, and vC E2 for (a) v1 = v2 = 0, (b) v1 = v2 = −1 V, and (c) v1 = v2 = +1 V. (Ans. (a) vE = −0.7 V, vC1 = vC2 = 2 V, vC E1 = vC E2 = 2.7 V; (b) vE = −1.7 V, vC1 = vC2 = 2 V, vC E1 = vC E2 = 3.7 V; (c) vE = +0.3 V, vC1 = vC2 = 2 V, vC E1 = vC E2 = 1.7 V) 11.2.2 DC Transfer Characteristics We can perform a general analysis of the differential-pair configuration by using the exponential relationship between collector current and BE voltage. To begin, we know that i vB E1/VT C1 = ISe (11.7(a)) and i = I evB E2/VT C2 S (11.7(b)) We assume Q1 and Q2 are matched and are operating at the same temperature, so the coefficient IS is the same in each expression. Neglecting base currents and assuming IQ is an ideal constant-current source, we have IQ = iC1 + iC2 (11.8) where iC1 and iC2 are the total instantaneous currents, which may include the signal currents. We then have IQ = I [evB E1/VT + evB E2/VT S ] (11.9) Taking the ratios of iC1 to IQ and iC2 to IQ, we obtain iC1 = 1 I 1 + e(vB E2− V (11.10(a)) v QB E1)/ T and iC2 = 1 + (11.10(b)) IQ 1 e−(vB E2−vB E1)/VT From Figure 11.3(b) we see that vB E1 − vB E2 ≡ vd (11.11) where vd is the differential-mode input voltage. Equations (11.10(a)) and (11.10(b)) can then be written in terms of vd, as follows: = Ii QC1 + − V (11.12(a)) 1 e vd/ T and = Ii QC2 + + V (11.12(b)) 1 e vd/ T Equations (11.12(a)) and (11.12(b)) describe the basic current–voltage characteristics of the differential amplifier. If the differential-mode input voltage is zero, nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 759 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 759 then the current IQ splits evenly between iC1 and IC2, as we discussed. However, when a differential-mode signal vd is applied, a difference occurs between iC1 and iC2 which in turn causes a change in the collector terminal voltage. This is the fundamental operation of the diff-amp. If a common-mode signal vC M = vB1 = vB2 is applied, the bias current IQ still splits evenly between the two transistors. Figure 11.5 is the normalized plot of the dc transfer characteristics for the differential amplifier. We can make two basic observations. First, the gain of the differential amplifier is proportional to the slopes of the transfer curves about the point vd = 0. In order to maintain a linear amplifier, the excursion of vd about zero must be kept small. 1.0 iC1 IQ 0.5 iC2 IQ –0.10 –0.06 –0.02 0.02 0.06 0.10 vd (V) Figure 11.5 Normalized dc transfer characteristics for BJT differential amplifier Second, as the magnitude of vd becomes sufficiently large, essentially all of current IQ goes to one transistor, and the second transistor effectively turns off. This particular characteristic is used in the emitter-coupled logic (ECL) family of digital logic circuits, which is discussed in Chapter 17. EXAMPLE 11.2 Objective: Determine the maximum differential-mode input signal that can be applied and still maintain linearity in the differential amplifier. Figure 11.6 shows an expanded view of the normalized iC1 versus vd characteristic. A linear approximation that corresponds to the slope at vd = 0 is superimposed on the curve. Determine vd(max) such that the difference between the linear approximation and the actual curve is 1 percent. Solution: The actual expression for iC1 versus vd is, from Equation (11.12(a)), I iC1(actual Q ) = 1 + e−vd/VT iC1 I Linear Q Δ(max) 0.5 Actual 0 vd(max) vd Figure 11.6 Expanded view, normalized iC1 versus vd transfer characteristic nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 760 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 760 Part 2 Analog Electronics The slope at vd ∣= 0 is found to be ( ) ∣ = diC1 ∣∣∣ = − + − − −1 − ∣∣∣g I ( 1)[1 e vd/VT f Q ] 2 [e vd/VT ] dvd v V d = 0 T vd = 0 or I g Q f = (11.13) 4VT where gf is the forward transconductance. The linear approximation for iC1 versus vd can be written ( ) = + = + I iC1(linear) 0.5IQ gf vd 0.5IQ Q vd (11.14) 4VT The differential-mode input voltage vd(max) that results in a 1 percent difference between the ideal linear curve and the actual curve is found from iC1(linear) − iC1(actual) = 0.01 iC1(linear) or [ ( ) ] II 0.5IQ +[ Q Q vd((max) − 4VT ) 1 + e]−vd (max)/VT = 0.01 I 0 Q .5IQ + v 4V d(max) T If we rear[range te(rms, t)his expres]sion becomes + 1 = 1 0.99 0.5 v (max) 4V d T 1 + e−vd (max)/VT Assuming VT = 26 mV, and using trial and error, we find that vd(max) ∼= 18 mV Comment: The differential-mode input voltage must be held to within ±18 mV in order for the output signal of this diff-amp to be within 1 percent of a linear response. EXERCISE PROBLEM Ex 11.2: Consider the dc transfer characteristics shown in Figure 11.5. Determine the value of the differential-mode input voltage that results in (a) iC1 = 0.25IQ and (b) iC2 = 0.9IQ . (Ans. (a) vd = −0.02856 V, (b) vd = −0.05713 V) COMPUTER SIMULATION PROBLEM PS 11.1 Plot the dc transfer characteristics in Figure 11.5 using a computer simulation. We can now begin to consider the operation of the diff-amp in terms of the small- signal parameters. Figure 11.7 shows the differential-pair configuration with an nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 761 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 761 V + iC1 = iC2 = Iv RC R Q g d C IQ v + mg d 2 2 2 m 2 vC1 vC2 Q1 Q2 v vd + + v v d = – 1 = 2 – – 2 2 IQ V– Figure 11.7 BJT differential amplifier with differential-mode input signal applied differential-mode input signal. Note that the polarity of the input voltage at Q1 is opposite to that at Q2. The forward-transconductance gf can be written in terms of the individual transistor transconductances gm. From Equation (11.13), we have IQ 1 IQ/2 1 gf = = = gm (11.15) 4VT 2 VT 2 where (IQ/2) is the quiescent collector current in Q1 and Q2. The magnitude of the small-signal collector current in each transistor is then (gmvd)/2. Figure 11.7 also shows the linear approximations for the collector currents in terms of the transistor transconductances gm. The slope of iC1 versus vd is the same magnitude as that of iC2 versus vd, but it has the opposite sign. This is the reason for the negative sign in the expression for iC2 versus vd. We can define the output signal voltage as vo = vC2 − vC1 (11.16) When the output is defined as the difference between the two collector voltages, we have a two-sided output. From Figure 11.7, we can write the output voltage as v = [V + − i R ] − [V + o C2 C − iC1 RC ] = (iC1 − iC2)RC (11.17(a)) or [( ) ( )] = IQ + gmvd − IQ − gmvd vo R = g R v 2 2 2 2 Cm Cd (11.17(b)) Figure 11.8 shows the ac equivalent circuit of the diff-amp configuration, as well as the signal voltages and currents as functions of the transistor transconductances gm. Since we are assuming an ideal current source, the output resistance looking into the current source is infinite (represented by the dashed line). Using the equivalent circuit in Figure 11.8(a(), we fi)nd the s(ignal outp)ut voltage to be gmvd −gmvd vo = vc2 − vc1 = RC − RC = gm RCvd (11.18) 2 2 which is the same as Equation (11.17(b)). nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 762 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 762 Part 2 Analog Electronics (Signal ground) (Signal ground) RC RC RC RC vc1 vc2 + – vo + g g vc2 = vo gm gm mm vd vd – vd vd 2 2 2 2 + + + + vBE1 – – vBE2 vd vd – – (a) (b) Figure 11.8 (a) Equivalent ac circuit, diff-amp with differential-mode input signal and two-sided output voltage and (b) ac equivalent circuit with one-sided output The ratio of the output signal voltage to the differential-mode input signal is called the differential-mode gain, Ad, which is v A o d = = IQ R g RC m C = (11.19) vd 2VT If the output voltage is the difference between the two collector terminal voltages, then neither side of the output voltage is at ground potential. In many cases, the output voltage is taken at one collector terminal with respect to ground. The resulting voltage output is called a one-sided output. If we define the output to be vc2, then from Figu(re 11.8()b), the signal output voltage is = gmvd vo RC (11.20) 2 The differential gain for the one-sided output is then given by vo gm RA Cd = = = IQ RC (11.21) vd 2 4VT The differential gain for the one-sided output is one-half that of the two-sided output. However, as we will see in our discussion on active loads, only a one-sided output is available. We have assumed that the transistors Q1 and Q2, and the two collector resistors RC, are matched. The effects of mismatched elements are discussed in the next section. 11.2.3 Small-Signal Equivalent Circuit Analysis The dc transfer characteristics derived in the last section provide insight into the operation of the differential amplifier. Assuming we are operating in the linear range, we can also derive the gain and other characteristics of the diff-amp, using the small- signal equivalent circuit. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 763 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 763 RC RC Vc1 Vc2 RB RB gmV + p 2 + V + b1 V + – pr 1 pg V r pp Vp 2 V m 1 – b2 – V – e Ro Figure 11.9 Small-signal equivalent circuit, bipolar differential amplifier Figure 11.9 shows the small-signal equivalent circuit of the bipolar differential- pair configuration. We assume that the Early voltage is infinite for the two emitter- pair transistors, and that the constant-current source is not ideal but can be represented by a finite output impedance Ro. Resistances RB are also included. These represent the output resistance of the signal voltage sources. All voltages are represented by their phasor components. Since the two transistors are biased at the same quiescent current, we have rπ1 = rπ2 ≡ rπ and gm1 = gm2 ≡ gm Writing a KCL equation at node Ve, using phasor notation, we have Vπ1 + V V gm V π2 e π1 + gm Vπ2 + = (11.22(a)) rπ rπ Ro or ( + ) ( ) 1 β Vπ1 + 1 + β Vπ2 = Ve (11.22(b)) rπ rπ Ro where gmrπ = β . From the circuit, we see that Vπ1 = Vb1 − Ve V V − V + and π2 = b2 e rπ rπ RB rπ rπ + RB Solving for Vπ1 and Vπ(2 and subst)ituting into Equation (11.22(b)), we find 1 + β V (V e b1 + Vb2 − 2Ve) + = (11.23) rπ RB Ro Solving for Ve, we obtain = V Vb1 + Vb2 er + R (11.24) 2 + π B (1 + β)Ro One-Sided Output If we consider a one-sided output at the collector of Q2, then = = − = −β RC(V V V g V Rb2 − Ve) o c2 ( m π2) C (11.25) rπ + RB nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 764 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 764 Part 2 Analog Electronics Substituting Equatio⎧n (11 ⎪⎪⎨ [.24) into (11.25) ]and rear⎫ranging terms yields r + R − Vb2 1 + π B − V ⎪⎪ = β RC ⎪⎪ (1 + Rb1 ⎬ β) V ⎩ o o rπ + (11.26) RB + r 2 π + RB ⎪⎪⎭ (1 + β)Ro In an ideal constant-current source, the output resistance is Ro = ∞, and Equation (11.26) reduces to Vo = −β RC(Vb2 − Vb1) (11.27) 2(rπ + RB) The differential-mode input is Vd = Vb1 − Vb2 and the differential-mode gain is = Vo = β RA Cd + (11.28) Vd 2(rπ RB) which for RB = 0 is identical to Equation (11.21), which was developed from the voltage transfer characteristics. Equation (11.26) includes a finite output resistance for the current source. We can see that when a common-mode signal Vcm = Vb1 = Vb2 is applied, the output voltage is no longer zero. Differential- and common-mode voltages are defined in Equations (11.2) and (11.3). Using phasor notation, we can solve these equations for Vb1 and Vb2 in terms of Vd and Vcm. We obtain V V db1 = Vcm + (11.29(a)) 2 and V Vb2 = Vcm − d (11.29(b)) 2 Since we are dealing with a linear amplifier, superposition applies. Equations (11.29(a)) and (11.29(b)) then simply state that the two input signals can be written as the sum of a differential-mode input signal component and a common-mode input signal component. Substituting Equations (11.29(a)) and (11.29(b)) into Equation (11.26) and rearranging terms results in the following: V = β RC · β R o + V Cd − + + + · V (11.30) 2(rπ RB) rπ RB 2(1 β)R cm o We can write the output voltage in the general form Vo = Ad Vd + Acm Vcm (11.31) where Ad is the differential-mode gain and Acm is the common-mode gain. Comparing Equations (11.30) and (11.31), we see that the differential-mode gain is Ad = β RC + (11.32(a)) 2(rπ RB) nea80644_ch11_753-850.qxd 6/19/09 4:34 PM Page 765 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-11 Folder:MHDQ134-11 Chapter 11 Differential and Multistage Amplifiers 765 and the common-mode gain is = −β RA C cm rπ + + + (11.32(b)) RB 2(1 β)Ro We again observe that the common-mode gain goes to zero for an ideal current source in which Ro = ∞. For a nonideal current source, Ro is finite and the common- mode gain is not zero for this case of a one-sided output. A nonzero common-mode gain implies that the diff-amp is not ideal. 11.2.4 Common-Mode Rejection Ratio The ability of a differential amplifier to reject a common-mode signal is described in terms of the common-mode rejection ratio (CMRR). The CMRR is a figure of merit for the diff-amp∣∣ and is defined as A CMRR = ∣∣ d ∣ A ∣∣∣ (11.33) cm For an ideal diff-amp, Acm = 0 and CMRR = ∞. Usually, the CMRR is expressed in decibels, as fol∣∣lows:∣ A ∣ CMMRdB = 20 log ∣ d ∣ 10∣ ∣ (11.34) Acm For the diff-amp in Figure 11.2, the one-sided differential- and common-mode gains are given by Equations (11.32(a)) and (11.32(b)). Using these equations, we can express the∣∣ CMR∣R as [ ] CMRR = ∣∣ Ad ∣∣∣ = 1 + 2(1 + β)R 1 o + (11.35) Acm 2 rπ RB The common-mode gain decreases as Ro increases. Therefore, we see that the CMRR increases as Ro increases. EXAMPLE 11.3 Objective: Determine the differential- and common-mode gains and the common- mode rejection ratio of a diff-amp. Consider the circuit in Figure 11.2, with parameters: V + = 10 V, V − = −10 V, IQ = 0.8 mA, and RC = 12 k. The transistor parameters are β = 100 and VA = ∞. Assume the output resistance looking into the constant-current source is Ro = 25 k. Assume the source resistors RB are zero. Use a one-sided output at vC2. Solution: From Equation (11.32(a)), the differential-mode gain can be written as = gm RC = IA C Q RC = IQ RC d = (0.8)(12) = 92.3 2 2VT 4VT 4(0.026) From Equation (1(1.32(b))), the commo[n-mode gain] can be written as − IQ RC − (0.8)(12) = 2VT = (2)(0.026) Acm + = −0.237 + (1 β)IQ Ro + (101)(0.8)(25) 1 1 VT β (0.026)(100) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 766 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 766 Part 2 Analog Electronics The common-m∣∣ode r∣ejection ratio is = ∣∣ A ∣ CMRR d ∣∣ = ∣∣∣ ∣ 92.3 ∣∣ = 389 A ∣ cm −0.237 ∣ In many cases, the value of CMRR is expressed in decibels, or CMRR|dB = 20 log10 CMRR which, for this example, becomes CMRR|dB = 20 log10(389) = 51.8 dB Comment: The common-mode gain is less than the differential-mode gain, but is not zero as determined for the ideal diff-amp with an ideal current source. In general, a common-mode rejection ratio of CMRR|dB > 80 dB is a design goal for a diff-amp. The aim, then, is to design a better diff-amp than considered in this example. EXERCISE PROBLEM Ex 11.3: Consider the diff-amp described in Example 11.3. Assume the same circuit and transistor parameters except for the current source output resistance Ro. Determine the required value of Ro to produce a CMRRdB of (a) 75 dB and (b) 95 dB. (Ans. (a) Ro = 362 k, (b) Ro = 3.62 M) DESIGN EXAMPLE 11.4 Objective: Design a differential amplifier to meet the specifications of an experimental system. Specifications: Figure 11.10 shows a Hall-effect experiment to measure semiconductor material parameters. A Hall voltage VH, which is perpendicular to both a current IX and a magnetic field BZ, is to be measured by using a diff-amp. The range of VH is −8 ≤ VH ≤ +8 mV and the desired range of the diff-amp output signal is to be −0.8 ≤ VO ≤ +0.8 V. The probes that make contact to the semiconductor have an effective resistance of 500 , and each probe has an induced 60 Hz signal with a magnitude of 100 mV. The diff-amp output 60 Hz signal is to be no larger than 10 mV. Typically, VX = 5 V, so that the quiescent or common-mode voltage of the Hall probes is 2.5 V. BZ – VX + IX – VH + Figure 11.10 Experimental arrangement for measuring Hall voltage nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 767 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 767 Choices: The bipolar diff-amp with the configuration in Figure 11.7 is to be designed with bias voltages of ±10 V. The diff-amp transistors are matched with β = 100 and matched integrated collector resistors of any value can be fabricated. Assume the transistors in the current source are matched with very large β values, VB E(on) = 0.7 V, and VA = 80 V. A bias current of IQ = 0.5 mA is to be used. Solution (Differential-Mode Gain): The differential-mode voltage gain requirement is Vo 0.8 Ad = = = 100 Vd 0.008 The small-signal parameters are then = βVT = (100)(0.026) rπ = 10.4 k IC Q 0.25 and I 0.25 g = C Q m = = 9.62 mA/V VT 0.026 The differential gain is = β RA Cd 2(rπ + RB) or = (100)R 100 C 2(10.4 + 0.5) which means that RC = 21.8 k. We may note that the voltage drop across RC under quiescent conditions is 5.45 V. With a 2.5 V common-mode input voltage, the quiescent collector-emitter voltages of Q1 and Q2 are approximately 3.65 V. The two input transistors will then remain in the active region. Solution (Common-Mode Gain): The common-mode voltage gain requirement is Acm = Vo = 10 mV = 0.10 Vcm 100 mV The common-mode gain is given by |Acm | = β RC rπ + RB + 2(1 + β)Ro or (100)(21.8) 0.10 = 10.4 + 0.5 + 2(101)Ro which means that Ro = 108 k. If we consider a simple two-transistor current source as discussed in the last chapter, the output resistance is Ro = ro = VA/IQ , where VA is the Early voltage. With IQ = 0.5 mA, then VA = 54 V is the Early voltage requirement. This specification is not difficult to achieve for most bipolar transistors. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 768 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 768 Part 2 Analog Electronics Tradeoffs: If the common-mode gain requirement had been more stringent, a different current source circuit might be required to provide a larger output resistance. The effects of mismatched devices and elements are considered in the next section. Computer Simulation Verification: Figure 11.11 shows the circuit used in the computer simulation for this example. The bias current IQ supplied by the Q3 current source transistor is 0.568 mA. A 2.5 V common-mode input voltage is applied, a 500  source (probe) resistance is included, and an 8 mV differential-mode input signal is applied. The differential output signal voltage measured at the collector of Q2 is 0.84 V, which is just slightly larger than the designed value. The current gains of the standard 2N3904 transistors used in the computer simulation are larger than the values of 100 used in the hand analysis and design. A common-mode signal voltage of 100 mV replaced the differential-mode signals. The common-mode output signal is 7.11 mV, which is within the design specification. R2 21.8 kΩ R1 21.8 kΩ + R3 38.6 kΩ V 10 V V5 – Q Q 1 2 0.5 kΩ 0.5 kΩ V 2N3904 2N3904 1 V2 + R ∼ B1 RB2 4 mV + – ∼ –4 mV 0 – + + 2.5 V V3 2.5 V V4 + – – 10 V V6 – 0 0 Q4 Q3 2N3904 2N3904 Figure 11.11 Circuit used in the computer simulation of Design Example 11.4 EXERCISE PROBLEM Ex 11.4: Consider the diff-amp configuration shown in Figure 11.7. Assume Q1 and Q2 are matched, let VA = ∞, and neglect base currents. Let IQ = 200 μA. (a) Design the circuit such that the differential-mode gain at vC1 is −150, the differential-mode gain at vC2 is +100, and the common-mode voltage is in the range −1.5 ≤ vcm ≤ 1.5 V. (b) Using the results of part (a), what are the minimum bias voltages V + = −V − such that the input transistors always remain biased in the forward-active region. (Ans. (a) RC1 = 78.0 k, RC2 = 52.0 k; (b) V + = −V − = 9.3 V) Test Your Understanding TYU 11.1 Find the differential- and common-mode components of the input signal applied to a diff-amp for input voltages of (a) v1 = 2.100 V and v2 = 2.120 V; and (b) v1 = 0.25 − 0.002 sin ω t V and v2 = 0.50 + 0.002 sin ω t V. (Ans. (a) vd = −0.02 V, vcm = 2.110 V; (b) vd = −0.25 − 0.004 sin ω t V, vcm = 0.375 V) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 769 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 769 TYU 11.2 Consider the diff-amp in Figure 11.2, with parameters V + = 5 V, V − = −5 V, and IQ = 0.4 mA. (a) Redesign the circuit such that the common- mode input voltage is in the range −3 ≤ vcm ≤ 3 V, while Q1 and Q2 remain biased in the forward-active region. (b) Using the results of part (a), find the differential- mode voltage gain Ad = (vc2 − vc1)/vd . (Ans. (a) RC = 10 k, (b) Ad = 76.9) TYU 11.3 Assume the differential-mode gain of a diff-amp is Ad = 80 and the common-mode gain is Acm = −0.20. Determine the output voltage for input signals of: (a) v1 = 0.995 sin ω t V and v2 = 1.005 sin ω t V; and (b) v1 = 2 − 0.005 sin ω t V and v2 = 2 + 0.005 sin ω t V. (Ans. (a) vo = −1.0 sin ω t V, (b) vo = −0.4 − 0.8 sin ω t V) 11.2.5 Two-Sided Output If we consider the two-sided output of an ideal op-amp and define the output voltage as Vo = Vc2 − Vc1, we can show that the differential-mode voltage gain is given by A = β RC d + (11.36(a)) rπ RB and the common-mode voltage gain is given by Acm = 0 (11.36(b)) The result of Acm = 0 for the two-sided output is a consequence of using matched devices and elements in the diff-amp circuit. We will reconsider a two-sided output and discuss the effects of mismatched elements. Effect of RC Mismatch—Two-Sided Output We assume that RC1 and RC2 are the resistors in the collectors of Q1 and Q2. If the two resistors are not matched, we assume that we can write RC1 = RC + RC and RC2 = RC − RC . For simplicity, let RB = 0. From Figure 11.9, the output voltage for a two-sided output is given by Vo = Vc2 − Vc1 = (−gm Vπ2 RC2) − (−gm Vπ1 RC1) (11.37) We also see from the figure (with RB = 0) that Vπ1 = Vb1 − Ve and Vπ2 = Vb2 − Ve . Using the expressions for Ve (Equation (11.24), Vb1 (Equation (11.29(a)), and Vb2 (Equation (11.29(b)), we find the differential voltage gain as Ad = gm RC (11.38) and the common-mode gain as 1 Acm = gm(2RC) · [ ] (11.39) 2(1 + β)R 1 + o rπ In general, 2(1 + β)Ro/rπ  1, so that r A π cm =∼ gm(2RC) · + (11.40(a)) 2(1 β)Ro Noting that gmrπ = β and β/(1 + β) ∼= 1, we have the common-mode gain as Acm ∼= RC (11.40(b)) Ro nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 770 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 770 Part 2 Analog Electronics The common-m∣∣ ode r∣∣ejection ratio is then Ag CMRR = ∣∣ d ∣∣ = m Ro (11.41) Acm (RC/RC) Effect of gm Mismatch—Two-Sided Output We can consider the effect of transistor mismatch by considering the effect of a mismatch in the transconductance gm. We assume gm1 and gm2 are the transconductance parameters of the two transistors in the diff-amp. We will assume that we can write gm1 = gm + gm and gm2 = gm − gm . Again, for simplicity, let RB = 0. Again, from Figure 11.9, the output voltage for a two-sided output is Vo = Vc2 − Vc1 = (−gm2Vπ2 RC) − (−gm1Vπ1 RC) (11.42) Applying a differential input voltage, we find Vπ1 = Vd/2 and Vπ2 = −Vd/2. The differential voltage gain is then Ad = Vo = gm RC (11.43) Vd Applying a common-mode input voltage, we have Vπ1 = Vπ2 = Vcm − Ve . The output voltage is again given by Vo = Vc2 − Vc1 = (−gm2Vπ2 RC) − (−gm1Vπ1 RC) (11.44(a)) or Vo = (Vcm − Ve)RC(gm1 − gm2) (11.44(b)) Summing currents at the Ve node in Figure 11.9, we have Vπ1 + + + Vπ2 = V gm1Vπ1 gm2V e π2 (11.45) rπ1 rπ2 Ro In general, we have gm  1/rπ . Then Equation (11.45) becomes Ve (Vcm − Ve)(gm1 + gm2) = (11.46(a)) Ro or = Vcm(gm1 + g V m2) e (11.46(b)) 1 + g + g Rm1 m2 o The output[ voltage is then = − Vcm(gm1 + ] gm2)Vo Vcm · RC(gm1 − gm2) (11.47) (1/Ro) + gm1 + gm2 Noting that gm1 + gm2 = 2gm and gm1 − gm2 = 2(gm), the common-mode gain is RC(2gm) Acm = + (11.48) 1 2Rogm The common-m∣∣ ode r∣∣ejection ratio now becomes = ∣∣ Ad ∣∣ = 1 + 2R CMRR ogm (11.49) Acm 2(gm/gm) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 771 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 771 11.2.6 Differential- and Common-Mode Gains—Further Observations For greater insight into the mechanism that causes differential- and common-mode gains, we reconsider the diff-amp as pure differential- and common-mode signals are applied. Figure 11.12(a) shows the ac equivalent circuit of the diff-amp with two sinusoidal input signals. The two input voltages are 180 degrees out of phase, so a pure differential-mode signal is being applied to the diff-amp. We see that vb1 + vb2 = 0. From Equation (11.24), we find ve = 0, so the common emitters of Q1 and Q2 remain at signal ground. In essence, the circuit behaves like a balanced seesaw. As the base voltage of Q1 goes into its positive-half cycle, the base voltage of Q2 is in its negative half-cycle. Then, as the base voltage of Q1 goes into its negative half-cycle, the base voltage of Q2 is in its positive half-cycle. The signal current directions shown in the figure are valid for vb1 in its positive half-cycle. Signal ground Signal ground vo RC RC RC RC vc1 vc2 vo v Q Q2 vb1 1 b2 v + v = d ve vd + vd + – vd – b1 v = – 2 b2 2 – 2 – + 2 t t Signal ground Signal ground (a) (b) Figure 11.12 (a) Equivalent ac circuit, diff-amp with applied sinusoidal differential-mode input signal, and resulting signal current directions and (b) differential-mode half-circuits Since ve is always at ground potential, we can treat each half of the diff-amp as a common-emitter circuit. Figure 11.12(b) shows the differential half-circuits, clearly depicting the common-emitter configuration. The differential-mode characteristics of the diff-amp can be determined by analyzing the half-circuit. In evaluating the small-signal hybrid-π parameters, we must keep in mind that the half-circuit is biased at IQ/2. Figure 11.13(a) shows the ac equivalent circuit of the diff-amp with a pure common-mode sinusoidal input signal. In this case, the two input voltages are in phase. The current source is represented as an ideal source IQ in parallel with its output resistance Ro. Current iq is the time-varying component of the source current. As the two input signals increase, voltage ve increases and current iq increases. Since this current splits evenly between Q1 and Q2, each collector current also increases. The output voltage vo then decreases below its quiescent value. As the two input voltages go through the negative half-cycle, all signal currents shown in the figure reverse direction, and vo increases above its quiescent value. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 772 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 772 Part 2 Analog Electronics Signal ground vo RC RC vo vb1 Q1 v Q2 v e b2 + v + – b1 = vcm vb2 = vcm – t iq t IQ Ro Signal ground (a) Signal ground RC RC vc1 vc2 iq iq 2 2 + v v + – cm 2Ro 2R cm o – Signal ground (b) Figure 11.13 (a) Equivalent ac circuit of diff-amp with common-mode input signal, and resulting signal current directions and (b) common-mode half-circuits Consequently, a common-mode sinusoidal input signal produces a sinusoidal output voltage, which means that the diff-amp has a nonzero common-mode voltage gain. If the value of Ro increases, the magnitude of iq decreases for a given common-mode input signal, producing a smaller output voltage and hence a smaller common-mode gain. With an applied common-mode voltage, the circuit shown in Figure 11.13(a) is perfectly symmetrical. The circuit can therefore be split into the identical common- mode half-circuits shown in Figure 11.13(b). The common-mode characteristics of the diff-amp can then be determined by analyzing the half-circuit, which is a common- emitter configuration with an emitter resistor. Each half-circuit is biased at IQ/2. The following examples further illustrate the effect of a nonzero common-mode gain on circuit performance. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 773 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 773 EXAMPLE 11.5 Objective: Determine the output of a diff-amp when both differential- and common- mode signals are applied. Consider the circuit shown in Figure 11.2. Use the transistor and circuit parameters described in Example 11.3. Assume that four sets of inputs are applied, as described in the following table, which also includes the differential- and common- mode voltages. Differential- and common-mode Input signal (μV) input signals (μV) Case 1 v1 = 10 sin ωt vd = 20 sin ωt v2 = −10 sin ωt vcm = 0 Case 2 v1 = 20 sin ωt vd = 40 sin ωt v2 = −20 sin ωt vcm = 0 Case 3 v1 = 210 sin ωt vd = 20 sin ωt v2 = 190 sin ωt vcm = 200 sin ωt Case 4 v1 = 220 sin ωt vd = 40 sin ωt v2 = 180 sin ωt vcm = 200 sin ωt Case 5 v1 = 200 sin ωt vd = 0 v2 = 200 sin ωt vcm = 200 sin ωt Solution: The output voltage is given by Equation (11.31), as follows: vo = Advd + Acmvcm From Example 11.3, the differential- and common-mode gains are Ad = 92.3 and Acm = −0.237. The output voltages for the four sets of inputs are: Output signal (mV) Case 1 vo = 1.846 sin ωt Case 2 vo = 3.692 sin ωt Case 3 vo = 1.799 sin ωt Case 4 vo = 3.645 sin ωt Case 5 vo = −0.0474 sin ωt Comment: In cases 1 and 2, the common-mode input is zero, and the output is directly proportional to the differential input signal. Comparing cases 1 and 3 and cases 2 and 4, we see that the output voltages are not equal, even though the differential input signals are the same. This shows that the common-mode signal affects the output. Also, even though the differential signal is doubled, in cases 4 and 3, the ratio of the output signals is not 2.0. If a common-mode signal is present, the output is not exactly linear with respect to the differential input signal. For Case 5, the differential-input voltage is zero, but the output voltage is not zero, since a common-mode input voltage exists and |Acm | = 0. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 774 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 774 Part 2 Analog Electronics EXERCISE PROBLEM Ex 11.5: Assume a diff-amp has a differential-mode gain of Ad = 150 and a common-mode rejection ratio of CMMRdB = 50 dB. Assume Acm is positive. Determine the output voltage if the input voltages are (a) v1 = −10 μV, v2 = +10 μV and (b) v1 = 190 μV, v2 = 210 μV. (Ans. (a) vo = −3.0 mV, (b) vo = −2.905 mV) As mentioned previously, the common-mode gain is a function of the output resistance of the current source. If the required common-mode gain needs to be reduced, then the current source output resistance must be increased, which may require the design of a more sophisticated current source. Problem-Solving Technique: Diff-Amps with Resistive Loads 1. To determine the differential-mode voltage gain, apply a pure differential- mode input voltage and use the differential-mode half-circuit in the analysis. 2. To determine the common-mode voltage gain, apply a pure common-mode input voltage and use the common-mode half-circuit in the analysis. 11.2.7 Differential- and Common-Mode Input Impedances The input impedance, or resistance, of an amplifier is as important a property as the voltage gain. The input resistance determines the loading effect of the circuit on the signal source. We will look at two input resistances for the difference amplifier: the differential-mode input resistance, which is the resistance seen by a differential- mode signal source; and the common-mode input resistance, which is the resistance seen by a common-mode input signal source. Differential-Mode Input Resistance The differential-mode input resistance is the effective resistance between the two input base terminals when a differential-mode signal is applied. A diff-amp with a pure differential input signal is shown in Figure 11.14. The applicable differential- mode half-circuits were shown in Figure 11.12(b). For this circuit, we have vd/2 = r i π (11.50) b The differential-mode input resistance is therefore v Rd id = = 2rπ (11.51) ib Another common diff-amp configuration uses emitter resistors, as shown in Figure 11.15. With a pure applied differential-mode voltage, similar differential-mode half-circuits are applicable to this configuration. We can then use the resistance reflection rule to find the differential-mode input resistance. We have vd/2 = rπ + (1 + β)RE (11.52) ib nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 775 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 775 V + Signal ground V+ Signal ground RC RC RC RC ib Q Q 1 Q2 + 1 RE R Q + E 2 Rid vd vd – – Signal Signal IQ I ground Q ground V – V – Figure 11.14 BJT differential amplifier Figure 11.15 BJT differential with differential-mode input signal, amplifier with emitter resistors showing differential input resistance Therefore, R = vd id = 2[r i π + (1 + β)RE ] (11.53) b Equation (11.53) implies that the differential-mode input resistance increases significantly when emitter resistors are included. We will see that the differential-mode gain decreases when emitter resistors are included in the same way that the voltage gain of a common-emitter amplifier decreases when an emitter resistor is included in the design. However, a larger differential-mode voltage (greater than 18 mV) maybe applied to the diff-amp in Figure 11.15 and the amplifier remains linear. Common-Mode Input Resistance Figure 11.16(a) shows a diff-amp with an applied common-mode voltage. The small- signal output resistance Roof the constant-current source is also shown. The equivalent common-mode half-circuits were given in Figure 11.13(b). Since the half-circuits are in parallel, we can write 2Ricm = rπ + (1 + β)(2Ro) ∼= (1 + β)(2Ro) (11.54) Equation (11.54) is a first approximation for determining the common-mode input resistance. Normally, Ro is large, and Ricm is typically in the megohm range. Therefore, the transistor output resistance ro and the base–collector resistance rμ may need to be included in the calculation. Figure 11.16(b) shows the more complete equivalent half-circuit model. For this model, we have 2Ricm = rμ ‖[(1 + β)(2Ro)]‖ [(1 + β)ro] (11.55(a)) Therefore, ( ) [ ( )] r R μ icm = ‖[(1 + r β)(Ro)]‖ (1 + o β) (11.55(b)) 2 2 nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 776 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 776 Part 2 Analog Electronics V + RC RC Ricm RC Signal ground r + m vcm – 2Ricm ro IQ Ro 2Ro V – Signal ground (a) (b) Figure 11.16 (a) BJT differential amplifier with common-mode input signal, including finite current source resistance and (b) equivalent common-mode half-circuit EXAMPLE 11.6 Objective: Determine the differential- and common-mode input resistances of a differential amplifier. Consider the circuit in Figure 11.17, with transistor parameters β = 100, VB E(on) = 0.7 V, and VA = 100 V. Determine Rid and Ricm . +5 V RC = RC = RI I 1 = 1 8 kΩ 8 kΩ 2 18.6 kΩ IREF v1 Q1 Q2 v2 IQ Q4 Q3 –5 V Figure 11.17 BJT differential amplifier for Example 11.6 Solution: From the circuit, we find IREF = 0.5 mA ∼= IQ and I = I ∼ 1 2 = IQ/2 = 0.25 mA nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 777 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 777 The small-signal parameters for Q1 and Q2 are then = βVT = (100)(0.026) rπ = 10.4 k IC Q 0.25 and V 100 r = A o = = 400 k IC Q 0.25 and the output resistance of Q4 is VA 100 Ro = = = 200 k IQ 0.5 From Equation (11.51), the differential-mode input resistance is Rid = 2rπ = 2(10.4) = 20.8 k From Equation (11.55(b)), neglecting the effect of rμ, the common-mode input resistance is [ ∥∥∥∥( )] { ∥∥( )} = ro 400 Ricm (1 + β) (Ro) = (101) 200∥∥ k → 10.1 M 2 2 Comment: If a differential-mode input voltage with a peak value of 15 mV is applied, the source must be capable of supplying a current of 15 × 10−3/20.8 × 10+3 = 0.72 μA without any severe loading effect. However, the input current from a 15 mV common-mode signal would only be approximately 1.5 nA. EXERCISE PROBLEM Ex 11.6: Consider the diff-amp shown in Figure 11.15. Assume the current source has a value of IQ = 0.5 mA, the transistor current gains are β = 100, and the emitter resistors are RE = 500 . Find the differential input resistance. (Ans. Rid = 122 k) Differential-Mode Voltage Gain with Emitter Degeneration We may determine the differential-mode voltage gain of the circuit shown in Figure 11.15. Figure 11.18 shows the differential-mode half circuits. For a one-sided output and for matched elements, we have Vo = Vc2 = −gm Vπ2 RC (11.56) RC RC Vo Q1 Q2 + Vd V + p 2 – Vd – – 2 + 2 RE RE Figure 11.18 Differential half-circuits with emitter degeneration nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 778 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 778 Part 2 Analog Electronics Writing a KVL equation around the BE loop, we have Vd + Vπ2 + gm Vπ2 RE = 0 (11.57) 2 which yields −(V V = d/2) π2 1 + (11.58) gm RE Substituting Equation (11.58) into (11.56), we find the differential-mode voltage gain as = Vo = gm RA Cd Vd 2(1 + (11.59) gm RE) EXAMPLE 11.7 Objective: Determine the one-sided differential-mode voltage gain of the circuit shown in Figure 11.15. Assume IQ = 0.5 mA, β = 100, and RC = 10 k. Find the differential-mode voltage gain for (a) RE = 0 and (b) RE = 500 . Solution: The small-signal transconductance is found to be gm = 9.62 mA/V. We find the differential-mode voltage gain to be (a) for RE = 0: = gm RC = (9.62)(10) Ad = 48.1 2 2 and (b) for RE = 500 : = gm RC = (9.62)(10) Ad + = 8.28 2(1 gm RE) 2[1 + (9.62)(0.5)] Comment: As with any design problem, there are tradeoffs. Including an emitter resistor RE decreases the voltage gain but increases the input differential-mode resistance. EXERCISE PROBLEM Ex 11.7: Consider the diff-amp described in Example 11.7. Assume the same parameters except the value of RE. Determine the value of RE that results in a differential-mode voltage gain of Ad = 10. What is the corresponding value of differential-input resistance? (Ans. RE = 0.396 k, Rid = 100.8 k) Test Your Understanding TYU 11.4 Consider the effect of a mismatch in collector resistors. Assume that gm = 3.86 mA/V2, Ro = 100 k, and a nominal collector resistor of RC = 10 k. Determine the minimum mismatch in the collector resistorRC such that the common- mode rejection ratio is 75 dB. (Ans. RC = 0.686 k) TYU 11.5 Consider the effect of a mismatch in the transconductance of the transistors. Assume Ro = 100 k and the nominal transconductance is gm = 3.86 mA/V. Determine the minimum mismatch in the transconductance gm such that the common- mode rejection ratio is 90 dB. (Ans. gm = 0.0472 mA/V or gm/gm → 1.22%) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 779 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 779 TYU 11.6 The parameters of the diff-amp shown in Figure 11.2 are V + = 5 V, V − = −5 V, IQ = 0.4 mA, and RC = 10 k. The output resistance of the constant- current source is Ro = 100 k. The transistor parameters are β = 150, VB E(on) = 0.7 V, and VA = ∞. (a) Determine the dc input base currents. (b) Determine the differential signal input currents if a differential-mode input voltage vd = 10 sin ω t mV is applied. (c) If a common-mode input voltage vcm = 3 sin ω t V is applied, determine the common-mode signal input base currents. (Ans. (a) IB1 = IB2 = 1.32 μA, (b) Ib = 0.256 sin ω t μA, (c) Ib = 0.0993 sin ω t μA) 11.3 BASIC FET DIFFERENTIAL PAIR Objective: • Describe the characteristics of and analyze the basic FET differential amplifier. In this section, we will evaluate the basic FET differential amplifier, concentrating on the MOSFET diff-amp. As we did for the bipolar diff-amp, we will develop the dc transfer characteristics, and determine the differential- and common-mode gains. Differential amplifiers using JFETs are also available. Since the analysis is almost identical to that for the MOSFET diff-amp, we will only briefly consider the JFET differential pair. A few of the problems at the end of this chapter are based on these circuits. 11.3.1 DC Transfer Characteristics Figure 11.19 shows the basic MOSFET differential pair, with matched transistors M1 and M2 biased with a constant current IQ. We assume that M1 and M2 are always biased in the saturation region. Like the basic bipolar configuration, the basic MOSFET diff-amp uses both positive and negative bias voltages, thereby eliminating the need for coupling capacitors and voltage divider biasing resistors at the gate terminals. Even with vG1 = vG2 = 0, the transistors M1 and M2 can be biased in the saturation region by the current source IQ. This circuit, then, is also a dc-coupled diff-amp. V + iD1 RD RD iD2 vO vG1 M1 M2 vG2 + + vGS1 vGS2 – – IQ V – Figure 11.19 Basic MOSFET differential pair configuration"
11.3 Basic FET Differential Pair,"11.3 BASIC FET DIFFERENTIAL PAIR Objective: • Describe the characteristics of and analyze the basic FET differential amplifier. In this section, we will evaluate the basic FET differential amplifier, concentrating on the MOSFET diff-amp. As we did for the bipolar diff-amp, we will develop the dc transfer characteristics, and determine the differential- and common-mode gains. Differential amplifiers using JFETs are also available. Since the analysis is almost identical to that for the MOSFET diff-amp, we will only briefly consider the JFET differential pair. A few of the problems at the end of this chapter are based on these circuits. 11.3.1 DC Transfer Characteristics Figure 11.19 shows the basic MOSFET differential pair, with matched transistors M1 and M2 biased with a constant current IQ. We assume that M1 and M2 are always biased in the saturation region. Like the basic bipolar configuration, the basic MOSFET diff-amp uses both positive and negative bias voltages, thereby eliminating the need for coupling capacitors and voltage divider biasing resistors at the gate terminals. Even with vG1 = vG2 = 0, the transistors M1 and M2 can be biased in the saturation region by the current source IQ. This circuit, then, is also a dc-coupled diff-amp. V + iD1 RD RD iD2 vO vG1 M1 M2 vG2 + + vGS1 vGS2 – – IQ V – Figure 11.19 Basic MOSFET differential pair configuration nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 780 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 780 Part 2 Analog Electronics EXAMPLE 11.8 Objective: Calculate the dc characteristics of a MOSFET diff-amp. Consider the differential amplifier shown in Figure 11.20. The transistor parameters are: Kn1 = Kn2 = 0.1 mA/V2, K = K = 0.3 mA/V2 n3 n4 , and for all transistors, λ = 0 and VT N = 1 V. Determine the maximum range of common-mode input voltage. V + = 10 V RD = RI D = R1 = D1 16 kΩ II 16 kΩ D2 1 30 kΩ vO1 vO2 v1 M1 M2 v2 IQ M4 M + 3 vGS4 – V – = –10 V Figure 11.20 MOSFET differential amplifier for Example 11.8 Solution: The reference current can be determined from = 20 − VI GS4 1 R1 and from I 2 1 = Kn3(VGS4 − VT N ) Combining these two equations and substituting the parameter values, we obtain 9V 2 GS4 − 17VGS4 − 11 = 0 which yields VGS4 = 2.40 V and I1 = 0.587 mA Since M3 and M4 are identical, we also find IQ = 0.587 mA The quiescent drain currents in Ml and M2 are ID1 = ID2 = IQ/2 ∼= 0.293 mA The gate-to-source vo√ltages are then √ VGS1 = = IV D1 GS2 + = 0.293 V KT N + 1 = 2.71 V n1 0.1 nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 781 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 781 The quiescent values of vO1 and vO2 are vO1 = vO2 = 10 − ID1 RD = 10 − (0.293)(16) = 5.31 V The maximum common-mode input voltage is the value when M1 and M2 reach the transition point, or VDS1 = VDS2 = VDS1(sat) = VGS1 − VT N = 2.71 − 1 = 1.71 V Therefore, vC M(max) = vO1 − VDS1(sat) + VGS1 = 5.31 − 1.71 + 2.71 or vC M(max) = 6.31 V The minimum common-mode input voltage is the value when M4 reaches the transition point, or VDS4 = VDS4(sat) = VGS4 − VT N = 2.4 − 1 = 1.4 V Therefore, vC M(min) = VGS1 + VDS4(sat) − 10 = 2.71 + 1.4 − 10 or vC M(min) = −5.89 V Comment: For this circuit the maximum range for the common-mode input voltage is −5.89 ≤ vC M ≤ 6.31 V. EXERCISE PROBLEM *Ex 11.8: For the differential amplifier in Figure 11.20, the parameters are: V + = 5 V, V − = −5 V, R1 = 80 k, and RD = 40 k. The transistor parameters are λ = 0 and VT N = 0.8 V for all transistors, and Kn3 = Kn4 = 100 μA/V2 and Kn1 = K 2 n2 = 50 μA/V . Determine the range of the common-mode input voltage. (Ans. −2.18 ≤ vcm ≤ 3.76 V) The dc transfer characteristics of the MOSFET differential pair can be determined from the circuit in Figure 11.19. Neglecting the output resistances of M1 and M2, and assuming the two transistors are matched, we can write iD1 = Kn(vGS1 − VT N )2 (11.60(a)) and iD2 = Kn(vGS2 − VT N )2 (11.60(b)) Taking the square roots of Equations (11.60(a)) and (11.60(b)), and subtracting the two √equation√s, we obt√ain √ iD1 − iD2 = Kn(vGS1 − vGS2) = Kn · vd (11.61) where vd = vG1 − vG2 = vGS1 − vGS2 is the differential-mode input voltage. If vd > 0, then vG1 > vG2 and vGS1 > vGS2, which implies that iD1 > iD2. Since iD1 + iD2 = IQ (11.62) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 782 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 782 Part 2 Analog Electronics then (E√quation√ (11.61) becomes√ iD1 − IQ − )2 ( ) i 2 2 D1 = Kn · vd = Knvd (11.63) when both sides of the equation are squared. After the terms are rearranged, Equation √(11.63) becomes − = 1( ) iD1(IQ iD1) IQ − K v2 n d (11.64) 2 If we square both sides of this equation, we develop the quadratic equation 1( ) i2 D1 − IQiD1 + I − K v2 2 Q n d = 0 (11.65) 4 Applying the quadratic formula, rearranging terms, and noting that iD1 > IQ/2 and vd > 0, we o√btain √ ( ) i = IQ + Kn IQ · K D1 vd 1 − n v2 d (11.66) 2 2 2IQ Using Equation (1√1.62), we fin√d that( ) = IQ − Kn IQ · − K i 1 n D2 vd v2 2 2 2Id (11.67) Q The normali√zed drain c√urrent(s are ) iD1 = 1 + Kn · K vd 1 − n v2 d (11.68) IQ 2 2IQ 2IQ and √ √ ( ) iD2 = 1 − Kn · K vd 1 − n v2 d (11.69) IQ 2 2IQ 2IQ √These equations describe the dc transfer characteristics for this circuit. They are plotted in Figure 11.21 as a function of a normalized differential input voltage vd/ (2IQ/Kn). 1.0 iD1/IQ 0.5 iD2/IQ –0.6 –0.4 –0.2 0 0.2 0.4 0.6 v vd′ d = 2IQ Kn Figure 11.21 Normalized dc transfer characteristics, MOSFET differential amplifier nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 783 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 783 We can see from Equations (11.68) and (11.69) that, at a specific differential input voltage, bias current IQ is switched entirely to one transistor or the other. This occurs when √ | | = IQ vd max (11.70) Kn The forward transconductance is defined as the slope of the iD1 versus vd transfer characteristic evaluate∣d at vd = 0, or gf (max) = diD1 ∣∣∣ (11.71) dvd vd=0 Using Equation (√11.66), we find that = Kn I g max Q = gm f ( ) (11.72) 2 2 where gm is the transconductance of each transistor. The slope of the iD2 characteristic curve at vd = 0 is the same, except it is negative. We can perform an analysis similar to that in Example 11.2 to determine the maximum differential-mode input signal that can be applied and still maintain linearity. If we let I 2 Q = 1 mA and Kn = 1 mA/V , then for differential input voltages less than 0.34 V, the difference between the linear approximation and the actual curve is less than 1 percent. The maximum differential input signal for the MOSFET diff- amp is much larger than for the bipolar diff-amp. The principal reason is that the gain of the MOSFET diff-amp, as we will see, is much smaller than the gain of the bipolar diff-amp. Figure 11.22 is the ac equivalent circuit of the diff-amp configuration, showing only the differential voltage and signal currents as a function of the transistor transconductance gm. We assume that the output resistance looking into the current source is infinite. Using this equivalent circuit, we find the one-sided output voltage at vo2, as follows: ( ) gmvd vo2 ≡ vo = + RD (11.73) 2 RD RD gmvd 2 g v mvd o2 2 M1 M2 + vd vd – – 2 2 + Signal ground Figure 11.22 AC equivalent circuit, MOSFET differential amplifier nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 784 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 784 Part 2 Analog Electronics The differential voltage gai√n is then v g R K A = o = m D = n IQ d · RD (11.74) vd 2 2 11.3.2 Differential- and Common-Mode Input Impedances At low frequencies, the input impedance of a MOSFET is essentially infinite, which means that both the differential- and common-mode input resistances of a MOSFET diff-amp are infinite. Also, we know that the differential input resistance of a bipolar pair can be in the low kilohm range. A design tradeoff, then, would be to use a MOSFET diff-amp with infinite input resistance, and sacrifice the differential-mode voltage gain. 11.3.3 Small-Signal Equivalent Circuit Analysis We can determine the basic relationships for the differential-mode gain, common- mode gain, and common-mode rejection ratio from an analysis of the small-signal equivalent circuit. Figure 11.23 shows the small-signal equivalent circuit of the MOSFET differential pair configuration. We assume the transistors are matched, with λ = 0 for each transistor, and that the constant-current source is represented by a finite output resistance Ro. All voltages are represented by their phasor components. The two transistors are biased at the same quiescent current, and gm1 = gm2 ≡ gm . RD RD Vo = Vd2 gmVgs1 gmVgs2 + + + V V V V gs1 s gs2 1 – – V + – 2 – Ro Figure 11.23 Small-signal equivalent circuit, MOSFET differential amplifier Writing a KCL equation at node Vs, we have V gs m Vgs1 + gm Vgs2 = (11.75) Ro From the circuit, we see that Vgs1 = V1 − Vs and Vgs2 = V2 − Vs . Equation (11.75) then becomes + − = V gm(V1 V 2Vs 2 s) (11.76) Ro nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 785 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 785 Solving for Vs we obtain Vs = V1 + V2 + 1 (11.77) 2 gm Ro For a one-sided output at the drain of M2, we have Vo = Vd2 = −(gm Vgs2)RD = −(gm RD)(V2 − Vs) (11.78) Substituting Equati⎡on (1(1.77) into (1)1.78) and rearranging terms yields ⎢⎢ + 1 ⎤ ⎣V2 1 − V g R 1 = − ⎥ Vo gm Rm o D ⎦⎥ (11.79) 1 2 + gm Ro Based on the relationships between the input voltages V1 and V2 and the differential- and common-mode voltages, as given by Equation (11.29), Equation (11.79) can be written = gm RD − gm RV VD o d V (11.80) 2 1 + 2gm R cm o The output voltage, in general form, is Vo = Ad Vd + Acm Vcm (11.81) The transco√nductance gm√of the MOSFET is gm = 2 Kn IDQ = 2Kn IQ Comparing Equations (11.80) and (11.81), we develop the relationships for the differential-mode gai√n, ( ) √ A = gm RD d = R K I 2K D n Q n IQ = · RD (11.82(a)) 2 2 2 and the common-mode gain = − √ gm RD = − 2√Kn IQ · RD Acm + + · (11.82(b)) 1 2gm Ro 1 2 2Kn IQ Ro We again see that for an ideal current source, the common-mode gain is zero since Ro = ∞. From Equations (11.82(a)) and (11.82(b)), the common-mode rejection ratio, CMRR = |Ad/A[cm |, is √found to be 1 ] CMRR = 1 + 2 2Kn IQ · Ro (11.83) 2 This demonstrates that the CMRR for the MOSFET diff-amp is also a strong function of the output resistance of the constant-current source. EXAMPLE 11.9 Objective: Determine the differential-mode voltage gain, common-mode voltage gain, and CMRR for a MOSFET diff-amp. Consider a MOSFET diff-amp with the configuration in Figure 11.20. Assume the same transistor parameters as given in Example 11.8 except assume λ = 0.01 V−1 for M4. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 786 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 786 Part 2 Analog Electronics Solution: From Example 11.8, we found the bias current to be IQ = 0.587 mA. The output resistance of the current source is then 1 1 Ro = = = 170 k λIQ (0.01)(0.587) The differe√ntial-mode volta√ge gain is = Kn IQ · = (1)(0.587) Ad RD · (16) = 8.67 2 2 and the common√-mode voltage gain is √ = − 2√Kn IQ · RD = − 2√(1)(0.587) · (16) Acm + = −0.0469 1 2 2Kn IQ · Ro 1 + 2 2(1)(0.587) · (170) The common-mode rejec(tion ratio) is then 8.67 CMRRdB = 20 log10 = 45.3 dB 0.0469 Comment: As mentioned earlier, the differential-mode voltage gain of the MOSFET diff-amp is considerably less than that of the bipolar diff-amp, since the value of the MOSFET transconductance is, in general, much smaller than that of the BJT. EXERCISE PROBLEM Ex 11.9: The parameters of the circuit shown in Figure 11.19 are V + = 3 V, V − = −3 V, IQ = 0.2 mA, and RD = 15 k. Assume M1 and M2 are matched with parameters VT N = 0.4 V, k ′ n = 100 μA/V2, and λ = 0. (a) Design the width- to-length ratios of the transistors such that the one-sided differential voltage gain is Ad = 15. (b) Using the results of part (a), what is the value of gf (max)? (Ans. (a) W/L = 200, (b) gf (max) = 1.0 mA/V) The value of the common-mode rejection ratio can be increased by increasing the output resistance of the current source. An increase in the output resistance can be accomplished by using a more sophisticated current source circuit. Figure 11.24 V + IQ IREF Ro M3 M4 M1 M2 V – Figure 11.24 MOSFET cascode current source nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 787 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 787 shows a MOSFET cascode current mirror that was discussed in the last chapter. The output resistance, as given by Equation (10.57), is Ro = ro4 + ro2(1 + g√mro4). For the parameters of Example 11.9, ro2 = ro4 = 170 k and gm = 2 Kn IQ = 1.53 mA/V. Then Ro = 170 + 170[1 + (1.53)(170)] ⇒ 44.6 M Again, using the parameters of Example 11.9, the common-mode voltage gain of the diff-amp with√ a cascode current mirror would be √ = − 2√Kn IQ · RD = − √2(1)(0.587) · (16) Acm + · + = −0.000179 1 2 2Kn IQ Ro 1 2 2(1)(0.587) · (44600) so that the CMRR would (be ) = 8.67 CMRRdB 20 log10 = 93.7 dB 0.000179 We increased the common-mode rejection ratio dramatically by using the cascode current mirror instead of the single two-transistor current source. Note, however, that the differential-mode voltage gain is unchanged. To gain an appreciation of the difference in CMRR between 45.3 dB and 93.7 dB, we can reconsider the linear scale. For a CMRRdB = 45.3 dB, the differential gain is a factor of 185 times larger than the common-mode gain, while for a CMRRdB = 93.7 dB, the differential gain is a factor of 48,436 times larger than the common-mode gain. 11.3.4 Two-Sided Output If we consider the two-sided output of an ideal MOSFET op-amp and define the output voltage as Vo = Vd2 − Vd1, we can show that the differential-mode voltage gain is given by Ad = gm RD (11.84(a)) and the common-mode voltage gain is given by Acm = 0 (11.84(b)) The result of Acm = 0 for the two-sided output is a consequence of using matched devices and elements in the diff-amp circuit. We will reconsider a two-sided output and discuss the effects of mismatched elements in the next section. Effect of RD Mismatch—Two-Sided Output We assume that RD1 and RD2 are the resistors in the drains of M1 and M2. If the two resistors are not matched, we assume that we can write RD1 = RD + RD and RD2 = RD − RD. Using the small-signal equivalent circuit in Figure 11.23, we can find Ad = gm RD (11.85(a)) and ∼= RA D cm (11.85(b)) Ro nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 788 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 788 Part 2 Analog Electronics The common-m∣∣ ode r∣∣ejection ratio is then = ∣∣ Ad ∣∣ = g R CMRR m D (11.86) Acm (RD/Ro) This result is essentially the same as the BJT diff-amp. Effect of gm Mismatch—Two-Sided Output We can consider the effect of transistor mismatch by considering the effect of a mismatch in the transconductance gm. We assume gm1 and gm2 are the transconductance parameters of the two transistors in the diff-amp. We will assume that we can write gm1 = gm + gm and gm2 = gm − gm. Again, using the small-signal equivalent circuit shown in Figure 11.23, we find the differential-mode voltage gain is Ad = gm RD (11.87(a)) and the common-mode gain is = RD(2gm) Acm + (11.87(b)) 1 2Rogm The common-m∣∣ ode r∣∣ejection ratio now becomes CMRR = ∣∣ Ad ∣∣ = 1 + 2Rogm (11.88) Acm 2(gm/gm) The CMRR of mismatched elements in the MOSFET diff-amp is identical with the results of mismatched elements in the BJT diff-amp. 11.3.5 JFET Differential Amplifier Figure 11.25 shows a basic JFET differential pair biased with a constant-current source. If a pure differential-mode input signal is applied such that vG1 = +vd/2 and vG2 = −vd/2, then drain currents ID1 and ID2 increase and decrease, respectively, in exactly the same way as in the MOSFET diff-amp. V + RD RD vO1 vO2 Q1 Q2 + v + – G1 vG2 – IQ V – Figure 11.25 Basic JFET differential pair configuration nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 789 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 789 RD RD Vo1 Vo2 gmVgs1 gmVgs2 + Vgs1 – – Vgs2 + + + – V V – V1 = d V2 = – d 2 2 Figure 11.26 Small-signal equivalent circuit, JFET differential amplifier We can determine the differential-mode voltage gain by analyzing the small-signal equivalent circuit. Figure 11.26 shows the equivalent circuit, with the output resistance of the constant-current source and the small-signal resistances of Q1 and Q2 assumed to be infinite. The small-signal equivalent circuit of the JFET diff-amp is identical to that of the MOSFET diff-amp in Figure 11.23 for the case when the current-source output resistance is infinite. A KCL equation at the common-source node, in phasor notation, is gm Vgs1 + gm Vgs2 = 0 (11.89(a)) or Vgs1 = −Vgs2 (11.89(b)) The differential-mode input voltage is Vd ≡ V1 − V2 = Vgs1 − Vgs2 = −2Vgs2 (11.90) A one-sided output at Vo2 is( given by = − − ) V Vo2 g d m Vgs2 RD = −gm R 2 D (11.91) and the differential-mode voltage gain is = Vo2 = +gm RA Dd (11.92) Vd 2 The expression for the differential-mode voltage gain for the JFET diff-amp (Equation (11.92)) is exactly the same as that of the MOSFET diff-amp (Equation 11.82(a)). If the constant-current source output resistance is finite, then the JFET diff-amp will also have a nonzero common-mode voltage gain. Test Your Understanding TYU 11.7 The circuit parameters of the diff-amp shown in Figure 11.19 are V + = 3 V, V − = −3 V, IQ = 0.40 mA, and RD = 7.5 k. The transistor parameters are V ′ TN = 0.5 V, kn = 100 μA/V2, and λ = 0. (a) Design the transistor W/L ratio such that the differential voltage gain is Ad = 12. (b) What is the maximum positive common-mode voltage that can be applied such that the transistors remain biased in the saturation region. (Ans. (a) W/L = 256, (b) vcm = 2 V) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 790 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 790 Part 2 Analog Electronics TYU 11.8 Consider the differential amplifier in Figure 11.20. The transistor parameters are given in Example 11.8, except that λ = 0.02 V−1 for M3 and M4. Determine the differential voltage gain Ad = vo2/vd , the common-mode gain Acm = vo2/vcm , and the CMRRdB. (Ans. Ad = 2.74, Acm = −0.0925, CMRRdB = 29.4 dB) TYU 11.9 The diff-amp in Figure 11.19 is biased at IQ = 100 μA. The transistor parameters are k ′ n = 100 μA/V2 and W/L = 10. (a) If the output resistance of the current source is Ro = 1 M, determine the common-mode rejection ratio CMRRdB. (b) Determine the required value of Ro such that CMRRdB = 80 dB. (Ans. (a) CMRRdB = 50 dB, (b) Ro = 31.6 M) *TYU 11.10 The differential amplifier in Figure 11.20 is to be redesigned. The current- source biasing is to be replaced with the cascode current source in Figure 11.24. The reference current is IREF = 100 μA and λ for transistors in the current source circuit is 0.01 V−1. The parameters of the differential pair M1 and M2 are the same as described in Example 11.8. The range of the common-mode input voltage is to be −4 ≤ vcm ≤ +4 V. Redesign the diff-amp to achieve the highest possible differential-mode voltage gain. Determine the values of Ad, Acm, and CMRRdB. (Ans. Ad = 9.90, Acm = 0.0003465, CMRRdB = 89.1 dB) 11.4 DIFFERENTIAL AMPLIFIER WITH ACTIVE LOAD Objective: • Analyze the characteristics of BJT and FET differential amplifiers with active loads. In Chapter 10, we considered an active load in conjunction with a simple transistor amplifier. Active loads can also be used in diff-amp circuits to increase the differential-mode gain. Active loads are essentially transistor current sources used in place of resistive loads. The transistors in the active load circuit are biased at a Q-point in the forward- active mode as shown in Figure 11.27. A change in collector current is induced by the differential-pair, which, in turn, produces a change in the emitter–collector voltage as shown in the figure. The relation between the change in current and change in voltage is proportional to the small-signal output resistance roof the transistor. The value of ro is, in general, much larger than that of a discrete resistive load, so the small- signal voltage gain will be larger with the active load. IC Q-point IB = constant 1 slope = ro VEC Figure 11.27 Current–voltage characteristic of active load device"
11.4 Differential Amplifier with Active Load,"11.4 DIFFERENTIAL AMPLIFIER WITH ACTIVE LOAD Objective: • Analyze the characteristics of BJT and FET differential amplifiers with active loads. In Chapter 10, we considered an active load in conjunction with a simple transistor amplifier. Active loads can also be used in diff-amp circuits to increase the differential-mode gain. Active loads are essentially transistor current sources used in place of resistive loads. The transistors in the active load circuit are biased at a Q-point in the forward- active mode as shown in Figure 11.27. A change in collector current is induced by the differential-pair, which, in turn, produces a change in the emitter–collector voltage as shown in the figure. The relation between the change in current and change in voltage is proportional to the small-signal output resistance roof the transistor. The value of ro is, in general, much larger than that of a discrete resistive load, so the small- signal voltage gain will be larger with the active load. IC Q-point IB = constant 1 slope = ro VEC Figure 11.27 Current–voltage characteristic of active load device nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 791 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 791 11.4.1 BJT Diff-Amp with Active Load Figure 11.28 shows a differential amplifier with an active load. Transistors Q1 and Q2 are the differential pair biased with a constant current IQ, and transistors Q3 and Q4 form the load circuit. From the collectors of Q2 and Q4, we obtain a one-sided output. If we assume all transistors are matched, then a pure applied common-mode voltage means that vB1 = vB2 = vC M , and current IQ splits evenly between Q1 and Q2. Neglecting base currents, I4 = I3 through the current-source circuit and I1 = I2 = I3 = I4 = IQ/2 with no load connected at the output. V+ V + IB3 IB4 Q3 Q4 Q3 Q I 4 IE5 3 I4 II Q Gain 3 4 5 stage v IO B5 IO I1 II 2 1 VI2 vB1 = vCM Q1 Q2 vB2 = vCM vB1 = vCM Q1 Q2 vB2 = vCM IQ IQ V – V – Figure 11.28 BJT differential amplifier with Figure 11.29 BJT differential amplifier with three- active load transistor active load and second gain stage In actual diff-amp circuits, base currents are not zero. In addition, a second amplifier stage is connected at the diff-amp output. Figure 11.29 shows a diff-amp with an active load circuit, corresponding to a three-transistor current source, as well as a second amplifying stage. In general, the common–emitter current gain β is a function of collector current, as was shown in Figure 6.21(c). However, for simplicity, we assume all transistor current gains are equal, even though the current level in Q5 is much smaller than in the other transistors. Current IO is the dc bias current from the gain stage. Assuming all transistors are matched and vB1 = vB2 = vC M , current IQ splits evenly and I1 = I2. To ensure that Q2 and Q4 are biased in the forward- active mode, the dc currents must be balanced, or I3 = I4. We see that = I IE5 IB3 + I 3 B4 = + I4 (11.93) β β Then I = IE5 = I3 + I4 B5 + (11.94) 1 β β(1 + β) If the base currents and IO are small, then I3 + I ∼ 4 = IQ (11.95) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 792 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 792 Part 2 Analog Electronics Therefore, I ∼ IQ B5 = (11.96) β(1 + β) For the circuit to be balanced, that is, for I1 = I2 and I3 = I4, we must have II Q O = IB5 = + (11.97) β(1 β) Equation (11.97) implies that the second amplifying stage must be designed and biased such that the direction of the dc bias current is as shown and is equal to the result of Equation (11.97). To illustrate this condition, we will analyze a second amplifying stage using a Darlington pair, later in this chapter. 11.4.2 Small-Signal Analysis of BJT Active Load Figure 11.30 shows a diff-amp with a three-transistor active load circuit. The resistance RL represents the small-signal input resistance of the gain stage. We will assume that a pure differential-mode input voltage is applied as shown in the figure. From previous results, we know that the common-emitter terminals of Q1 and Q2 are at signal ground. The signal voltage at the base of Q1 produces a signal collector current i1 = (gmvd)/2, where gm is the transistor transconductance for both Q1 and Q2. Assuming the base currents are negligible, a signal current i3 = i1 is induced in Q3, and the current mirror produces a signal current i4 equal to i3. The signal voltage at the base of Q2 produces a signal collector current i2 = (gmvd)/2, with the direction shown. The two signal currents, i2 and i4, add to produce a signal current in the load resistance RL. The discussion is a first-order evaluation of the circuit operation. V + Q3 Q4 i g i mvd 3 4 = 2 Q5 vo CC io i = i = RL 1 – 2 ib gmv V d gmv 1 d Q 2 2 1 Q2 ib2 vd + Signal – vd 2 – ground + 2 IQ V – Figure 11.30 BJT differential amplifier with three-transistor active load, showing the signal currents From the above discussion, we know the induced currents in Q2 and Q4. To more accurately determine the output voltage, we need to consider the equivalent small-signal collector–emitter output circuit of the two transistors. Figure 11.31(a) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 793 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 793 g vi m d 4 = ro4 2 vo vo RL gmvd r gmvd gmv i = o2 rd 2 o4 ro2 RL 2 2 2 (a) (b) Figure 11.31 (a) Small-signal equivalent circuit BJT differential amplifier with active load and (b) rearrangement of small-signal equivalent circuit shows the small-signal equivalent circuit at the collector nodes of Q2 and Q4. The circuit can be rearranged to combine the signal grounds at a common point, as in Figure 11.3(1(b). Fr)om this figure, we determine that = gmvd vo 2 (ro2‖ro4‖RL) (11.98) 2 and the small-signal differential-mode voltage gain is v A o d = = gm(ro2‖ro4‖RL) (11.99) vd Equation (11.99) can be rewritten in the form = g Am d = gm (11.100) 1 + 1 + 1 go2 + go4 + GL ro2 ro4 RL We recall that gm = IQ/2VT , ro2 = VA2/I2 , and ro4 = VA4/I4. The parameters go2, go4, and GL are the corresponding conductances. Assuming I2 = I4 = IQ/2, we can write Equation (11.100) in the form IQ A = 2VT d I (11.101) Q + IQ + 1 2VA2 2VA4 RL This expression of the differential-mode voltage gain of the diff-amp with an active load is very similar to that obtained in the last chapter for a simple amplifier with an active load. The output resistance looking back into the common collector node is Ro = ro2‖ro4. To minimize loading effects, we need RL > Ro . However, since Ro is generally large for active loads, we may not be able to satisfy this condition. We can determine the severity of the loading effect by comparing RL and Ro. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 794 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 794 Part 2 Analog Electronics EXAMPLE 11.10 Objective: Determine the differential-mode gain of a diff-amp with an active load, taking loading effects into account. Consider the diff-amp in Figure 11.30, biased with IQ = 0.20 mA. Assume an Early voltage of VA = 100 V for all transistors. Determine the open-circuit (RL = ∞) differential-mode voltage gain, as well as the differential-mode voltage gain when RL = 100 k. Solution: From Equation (11.101), the open-circuit voltage gain becomes 1 1 A = VT = 0.026 d = 1923 1 + 1 1 + 1 VA2 VA4 100 100 When RL = 100 k, the voltage gain is 0.20 × 10−3 A = 2(0.026) d 0.20 × 10−3 + 0.20 × 10−3 + 1 2(100) 2(100) 100 × 103 which can be written 0.20 A = 2(0.026) 3.85 d = = 321 0.20 + 0.20 + 1 0.001 + 0.001 + 0.01 2(100) 2(100) 100 An inspection of this last equation shows that the external load factor, 1/RL, dominates the denominator term and thus has a tremendous influence on the gain. Comment: The open-circuit differential-mode voltage gain, for a diff-amp with an active load, is large. However, a finite load resistance RL causes severe loading effects, as shown in this example. A 100 k load caused almost an order of magnitude decrease in the gain. EXERCISE PROBLEM Ex 11.10: The diff-amp circuit in Figure 11.30 is biased at IQ = 0.4 mA. The transistor parameters are β = 120, VA1 = VA2 = 150 V, and VA3 = VA4 = 90 V. (a) Determine the open-circuit (RL = ∞) differential-mode voltage gain. (b) Find the differential-mode voltage gain when RL = 250 k. (c) Determine the differential-mode input resistance. (d) Find the output resistance looking back from the load RL . (Ans. (a) 2163, (b) 1018, (c) 31.2 k, (d) 281 k) 11.4.3 MOSFET Differential Amplifier with Active Load We can use an active load in conjunction with a MOSFET differential pair, as we did for the bipolar differential amplifier. Figure 11.32 shows a MOSFET diff-amp with an active load. Transistors M1 and M2 are n-channel devices and form the differential nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 795 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 795 V + M3 M4 iD3 iD4 vO iD i 1 D2 v1 M1 M v 2 2 IQ V– Figure 11.32 MOSFET differential amplifier with active load pair biased with IQ. The load circuit consists of transistors M3 and M4, both p-channel devices, connected in a current mirror configuration. A one-sided output is taken from the common drains of M2 and M4. When a common-mode voltage of v1 = v2 = vcm is applied, the current IQ splits evenly between M1 and M2, and iD1 = iD2 = IQ/2. There are no gate currents; therefore, iD3 = iD1 and iD4 = iD2. If a small differential-mode input voltage vd = v1 − v2 is applied, then from Equation (11.66) and (11.67), we can write iD1 = IQ + id (11.102(a)) 2 and iD2 = IQ − id (11.102(b)) 2 where id is the signal current. For small values of vd, we have id = (gmvd)/2. Since M1 and M3 are in series, we see that iD3 = = Ii Q D1 + id (11.103) 2 Finally, the current mirror consisting of M3 and M4 produces I iD4 = i Q D3 = + id (11.104) 2 Figure 11.33 is the ac equivalent circuit of the diff-amp with active load, showing the signal currents. The negative sign for iD2 in Equation (11.102(b)) shows up as a change in current direction in M2, as indicated in the figure. Figure 11.34(a) shows the small-signal equivalent circuit at the drain node of M2 and M4. If the output is connected to the gate of another MOSFET, which is equivalent to an infinite impedance at low frequency, the output terminal is effectively an open circuit. The circuit can be rearranged by combining the signal grounds at a common po(int, ass)hown in Figure 11.34(b). Then, = gmvd vo 2 (r 2 o2‖ro4) (11.105) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 796 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 796 Part 2 Analog Electronics MM g v 3 4 m d ro4 2 id id vo gmvd g v void = id = m d 2 2 vo gmvd r gmvd gmv MM rd r 1 2 o2 2 2 o4 2 o2 + vd v – Signal d 2 2 ground (a) (b) Figure 11.33 The ac equivalent circuit, Figure 11.34 (a) Small-signal equivalent circuit, MOSFET differential MOSFET differential amplifier with amplifier with active load and (b) rearranged small-signal equivalent active load circuit and the small-signal differential-mode voltage gain is Ad = vo = gm(ro2‖ro4) (11.106) vd Equation (11.106) can be rewritten in the form = g Am = gm d + (11.107) 1 + 1 go2 go4 ro2 ro4 √ √ If we recall that gm = 2 Kn ID = 2Kn IQ , go2 = λ2 IDQ2 = (λ2 IQ)/2, and go4 = λ4 IDQ4 = (λ4√IQ)/2, then Eq√uation (11.107) becomes = 2 2Kn IQ = 2K 1 Ad + 2 n · IQ(λ2 λ4) IQ λ2 + (11.108) λ4 DESIGN EXAMPLE 11.11 Objective: Design a MOSFET diff-amp with the configuration in Figure 11.32 to meet the specifications of the experimental system in Example 11.4. Design Approach: We need not only to try to obtain the necessary differential-mode gain and minimize the common-mode gain in our design, but we must also be cognizant of the swing in the output voltage. In the circuit in Figure 11.32, if the corresponding PMOS and NMOS transistors are matched, then the quiescent value of VSD4 is equal to VSG4 = VSG3. As the signal output voltage increases, the source-to- drain voltage of M4 decreases. The minimum value of this voltage such that M4 remains biased in the saturation region is VSD4(min) = VSD4(sat) = VSG + VT P . This means that the maximum swing in the output voltage is equal to the magnitude of the threshold voltage of M4. In this example, the maximum swing in the output voltage is 0.8 V, so that the magnitude of the threshold voltages of the PMOS devices must be greater than 0.8 V. Assume that NMOS devices are available with the following parameters: VT N = 0.5 V, k ′ n = 80 μA/V2, and λn = 0.02 V−1. Assume that + – nea80644_ch11_753-850.qxd 6/19/09 5:35 AM Page 797 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 797 PMOS devices are available with the following parameters: VT P = −1.0 V, k ′ p = 40 μA/V2, and λp = 0.02 V−1. Choose supply voltages of ±5 V and choose a bias current of approximately IQ = 200 μA. Figure 11.35 is the diff-amp and current-source network used for the design in this example. M MbreakP Mbreakp 6 + M 5 V V1 7 M8 – MbreakN-X5 V MM 5 2 M1 V3 V4 4 mV + + 0 ~– MbreakN-X1 MbreakN-X ~– –4 mV MbreakN-X4 + + 2.5 V V6 2.5 V V5 MM 4 3 – + 0 0 5 V V2 – MbreakN-X2 MbreakN-X3 Figure 11.35 CMOS differential amplifier and current source network for Example 11.11 Design, Differential Amplifier: Differential-Mode Gain: From Equation (11.108), the different√ial-m(ode gain is k ′ )( ) = n W 1 Ad 2 2 · 1 2 Ln IQ λn + λp or √ ( )( ) = 80 W 1 1 100 2 2 · 2 L 200 0.02 + 0.02 which yields a width-to-length ratio of (W/L)n = 10 for the NMOS differential pair. Since the width-to-length ratios of the other transistors do not directly affect the gain of the diff-amp, we may arbitrarily choose width-to-length ratios of 10 for all other transistors except M5 and M6. The W/L ratio of 10 means that the other devices are reasonably small and do not lead to a large circuit area. Design, Current-Source Network: For the transistor M3 in the current source, we have k ′ IQ = · W · (V 2 2 L GS3 − VT N ) or 80 200 = (10)(V − 0.5)2 2 GS3 which means that the required gate-to-source voltage of M3 is VGS3 = 1.21 V. We may choose M4 and M3 to be identical so that the current in the reference portion of nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 798 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 798 Part 2 Analog Electronics the circuit is also 200 μA. Assuming that M5 and M6 are identical, then each transistor must have agate-to-source voltage of VGS5 = VGS6 = (10 − 1.21)/2 ∼= 4.4 V The width-to-length of( thes)e transistors is now found from k ′ WI = I = n · (V − V )2 REF Q 2 L GS5 TN 5 or ( ) 80 W 200 = · (4.4 − 0.5)2 2 L 5 which yields (W/L)5 = (W/L)6 = 0.33 Computer Simulation Verification: The circuit in Figure 11.35 was used in the computer simulation verification. In the hand design, the finite output resistance (lambda parameter) was neglected in the dc calculations. These parameters became important in the actual design and in the actual currents developed in the circuit. For (W/L)5 = (W/L)6 = 0.75, the reference current is IREF = 231 μA and the bias current is IQ = 208 μA. The differential-mode voltage gain is approximately 102 so that the signal output voltage is 0.82 V for a differential-mode input signal voltage of 8 mV. The common-mode output signal is approximately 0.86 mV, which is well within the specified 10 mV maximum value. Design Pointer: The body effect has been neglected in this design. In actual integrated circuits, the differential pair transistors may actually be fabricated within their own p-type substrate region (for NMOS devices). This p-type substrate region is then directly connected to the source terminals so that the body effect in the NMOS differential pair devices can be neglected. EXERCISE PROBLEM Ex 11.11: Determine IREF, IQ, and Ad of the diff-amp designed in Example 11.11 for the case when the bias voltages are changed to V + = +3 V and V − = −3 V. (Ans. IREF = IQ = 56.37 μA, Ad = 188) 11.4.4 MOSFET Diff-Amp with Cascode Active Load The differential-mode voltage gain is proportional to the output resistance looking into the active load transistor. The voltage gain can be increased, therefore, if the output resistance can be increased. An increase in output resistance can be achieved by using, for example, a cascode active load. This configuration is shown in Figure 11.36. The output resistance Ro was considered in the last section in the discussion of the cascode current source. As applied to Figure 11.36, the output resistance is given by Ro = ro4 + ro6(1 + gmro ∼ 4) = gmro4ro6 (11.109) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 799 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 799 V+ M5 M6 M3 M4 R v o o ro2 v1 M1 M2 v2 IQ V– Figure 11.36 MOSFET diff-amp with cascode active load The small-signal differential-mode voltage gain is then v A o d = = gm(ro2‖Ro) (11.110) vd EXAMPLE 11.12 Objective: Calculate the differential-mode voltage gain of a MOSFET diff-amp with a cascode active load. Consider the diff-amp shown in Figure 11.36. Assume the circuit and transistor parameters are the same as in Example 11.11. Solution: The transistor t√ra(nscond)uctance is = √ = 0.08 gm 2 Kn IDQ 2 (10)(0.1) = 0.40 mA/V 2 The output resistance of the individual transistors is 1 1 ro = = = 500 k λIDQ (0.02)(0.1) The output resistance of the cascode active load is then Ro = ro4 + ro6(1 + gmro4) = 0.5 + 0.5[1 + (0.40)(500)] = 101 M The differential-mode voltage gain is then found to be Ad = gm(ro2‖Ro) = (0.40)(500‖101000) = 200 Comment: Since Ro  ro2, the voltage gain is now essentially equal to Ad = gmro2 which is twice as large as the gain calculated in Example 11.11. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 800 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 800 Part 2 Analog Electronics EXERCISE PROBLEM Ex 11.12: The parameters of the circuit and transistors in Figure 11.36 are the same as described in Example 11.12 except for M1 and M2. Assume k ′ = k ′ n1 n2 = 80 μA/V2. Determine (W/L)1 = (W/L)2 such that Ad = 400. (Ans. (W/L)1 = (W/L)2 = 40) The differential-mode voltage gain can be further increased by incorporating a cascode configuration in the differential pair as well as in the active load. One such example is shown in Figure 11.37. Transistors M3 and M4 are the cascode transistors for the differential pair M1 and M2. The differential-mode voltage gain is now v A = o d = gm(Ro4‖Ro6) vd where Ro ∼ 4 = gmro2ro4 and Ro ∼ 6 = gmro6ro8. The small-signal differential-mode voltage gain of this type of amplifier can be on the order of 10,000. Other types of MOSFET differential amplifiers will be considered in Chapter 13 when operational amplifier circuits are discussed. V+ M7 M8 M5 M6 v Ro6 o Ro4 M3 M4 VBias v1 MM v 1 2 2 IQ V– Figure 11.37 A MOSFET cascode diff-amp with a cascode active load Test Your Understanding TYU 11.11 Consider the diff-amp in Figure 11.29, with parameters: V + = 10 V, V − = −10 V, and IQ = 0.5 mA. The transistor parameters are: β = 180, VB E(on) = 0.7 V, and VA = 100 V. (a) Find IO such that the circuit is balanced. (b) For the balanced condition, what are the values of VEC4 and VCE2, for v1 = v2 = 0? (Ans. (a) IO = 15.3 nA (b) VEC4 = 1.4 V, VC E2 = 9.3 V) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 801 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 801 TYU 11.12 The circuit parameters of the diff-amp in Figure 11.28 are V + = 5 V, V − = −5 V, and IQ = 0.1 mA. The npn transistor parameters are βnpn = 180, VAN = 120 V, and VB E(on) = 0.7 V; and the pnp transistor parameters are βpnp = 120, VAP = 80 V, and VE B(on) = 0.7 V. Determine the differential-mode voltage gain. (Ans. Ad = 1846) TYU 11.13 Redesign the circuit in Figure 11.30 using a Widlar current source and bias voltages of ±5 V. The bias current IQ is to be no less than 100 μA and the total power dissipated in the circuit (including the current-source circuit) is to be no more than 10 mW. The diff-amp transistor parameters are the same as in Exercise Ex11.10. The circuit is to provide a minimum loading effect when a second stage with an input resistance of R = 90 k is connected to the diff-amp. Determine the differential- mode voltage gain for this circuit. (Ans. R1 = 10.3 k, RE = 0.571 k, Ad = 158) TYU 11.14 Consider the diff-amp in Figure 11.28, using the parameters described in Exercise TYU11.12. (a) For a differential-mode input signal, determine the output resistance Ro at the output terminal. (b) Determine the load resistance RL that would reduce the differential-mode voltage gain to one-half the open-circuit value. (Ans. (a) Ro = 0.96 M, (b) RL = 0.96 M) TYU 11.15 The circuit parameters of the diff-amp in Figure 11.32 are V + = 5 V, V − = −5 V, and IQ = 0.2 mA. The NMOS transistor parameters are Kn = 180 μA/V2, VT N = 0.5 V, and λn = 0.015 V−1 and the PMOS transistor parameters are K 2 −1 p = 120 μA/V , VT P = −0.5 V, and λp = 0.025 V . Determine the differential-mode voltage gain Ad = vo/vd . (Ans. Ad = 67.1) 11.5 BICMOS CIRCUITS Objective: • Describe the characteristics of and analyze various BiCMOS circuits. Thus far, we have considered two basic amplifier design technologies: the bipolar technology, which uses npn and pnp bipolar junction transistors; and the MOS technology, which uses NMOS and PMOS field-effect transistors. We showed that bipolar transistors have a larger transconductance than MOSFETs biased at the same current levels, and that, in general, bipolar amplifiers have larger voltage gains. We also showed that MOSFET circuits have an essentially infinite input impedance at low frequencies, which implies a zero input bias current. These advantages of the two technologies can be exploited by combining bipolar and MOS transistors in the same integrated circuit. The technology is called BiCMOS. BiCMOS technology is especially useful in digital circuit design, but also has applications in analog circuits. In this section, we will examine basic BiCMOS analog circuit configurations. 11.5.1 Basic Amplifier Stages A bipolar multitransistor circuit previously studied is the Darlington pair configuration. Figure 11.38(a) shows a modified Darlington pair configuration, in which the bias current IBIAS, or some equivalent element, is used to control the quiescent"
11.5 BiCMOS Circuits,"11.5 BICMOS CIRCUITS Objective: • Describe the characteristics of and analyze various BiCMOS circuits. Thus far, we have considered two basic amplifier design technologies: the bipolar technology, which uses npn and pnp bipolar junction transistors; and the MOS technology, which uses NMOS and PMOS field-effect transistors. We showed that bipolar transistors have a larger transconductance than MOSFETs biased at the same current levels, and that, in general, bipolar amplifiers have larger voltage gains. We also showed that MOSFET circuits have an essentially infinite input impedance at low frequencies, which implies a zero input bias current. These advantages of the two technologies can be exploited by combining bipolar and MOS transistors in the same integrated circuit. The technology is called BiCMOS. BiCMOS technology is especially useful in digital circuit design, but also has applications in analog circuits. In this section, we will examine basic BiCMOS analog circuit configurations. 11.5.1 Basic Amplifier Stages A bipolar multitransistor circuit previously studied is the Darlington pair configuration. Figure 11.38(a) shows a modified Darlington pair configuration, in which the bias current IBIAS, or some equivalent element, is used to control the quiescent nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 802 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 802 Part 2 Analog Electronics Io V V Mi Q1 i 1 Q2 Q2 gm1Vgs IBias IBias + Vgs – + + – Vi Vp rp gm2Vp – (a) (b) Figure 11.38 (a) Bipolar Darlington pair configuration Figure 11.39 Small-signal equivalent circuit, and (b) BiCMOS Darlington pair configuration BiCMOS Darlington pair configuration current in Q1. This Darlington pair circuit is used to boost the effective current gain of bipolar transistors. There is no comparable configuration in FET circuits. A potentially useful BiCMOS circuit is shown in Figure 11.38(b). Transistor Q1 in the Darlington pair is replaced with a MOSFET. The advantages of this configuration are an infinite input resistance, and a large transconductance due to the bipolar transistor Q2. To analyze the circuit, we consider the small-signal equivalent circuit shown in Figure 11.39. We assume that ro = ∞ in both transistors. The output signal current is Io = gm1Vgs + gm2Vπ (11.111) We see that Vi = Vgs + Vπ (11.112) and Vπ = gm1Vgsrπ (11.113) Combining Equations (11.112) and (11.113) produces V Vi gs = (11.114) 1 + gm1rπ From Equation (11.111), the output current can now be written Io = gm1Vgs + gm2(gm1rπ)Vgs = (gm1 + gm2gm1rπ)Vgs (11.115) Substituting Equation (11.114) into (11.115), we obtain = gm1(1 + gm2rπ) I co + · V = g · V (11.116) (1 gm1r ii π) m where gc m is the composite transconductance. Since gm2 of the bipolar transistor is usually at least an order of magnitude greater than gm1 of the MOSFET, the composite transconductance is approximately an order of magnitude larger than that of the MOSFET alone. We now have the advantages of a large transconductance and an infinite input resistance. A bipolar cascode circuit is shown in Figure 11.40(a); a corresponding BiCMOS configuration is shown in Figure 11.40(b). The output resistance of the cascode circuit is very high, as we saw in Chapter 10. Also, the cascode amplifier has a wider nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 803 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 803 vo vo Bias Q2 Bias Q2 vin Q v 1 in M1 (a) (b) Figure 11.40 (a) Bipolar cascode configuration and (b) BiCMOS cascode configuration frequency bandwidth than the common-emitter circuit, since the input resistance looking into the emitter of Q2 is very low, thereby minimizing the Miller multiplication effect. This effect was observed in Chapter 7. Again, the advantage of the BiCMOS circuit is the infinite input resistance of M1. The equivalent resistance looking into the emitter of a bipolar transistor is much less than the resistance looking into the source of a MOSFET; therefore, the frequency response of a BiCMOS cascode circuit is superior to that of an all-MOSFET cascode circuit. 11.5.2 Current Sources In our previous discussions of constant-current sources, we mentioned that cascode current sources increase the output resistance, as well as the stability of the bias current. Figure 11.41 shows a bipolar cascode configuration in which the output resistance is Ro ∼= βro4. The bias current in this circuit is much more stable against variations in output voltage than the basic two-transistor current source. A BiCMOS double cascode constant-current source is shown in Figure 11.42. The small-signal equivalent circuit for determining output resistance is shown in V+ II REF O Ro V+ MM II 5 6 REF O Ro Q3 Q4 Q3 Q4 Q1 Q2 Q1 Q2 Figure 11.41 Bipolar cascode Figure 11.42 BiCMOS double constant-current source cascode constant-current source nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 804 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 804 Part 2 Analog Electronics V Rx o = Ix V Rx o = Ix GI 6 x + Ir x o6 V gm6V + gs6 gs6 Vx – ro6 – gm6Vgs6 V + x – B4 + Ix + Vp4 rp4 ro4 gm4Vp4 ro4 V1 – – gm4Vp 4 VB gs6 – 2 + + Ix – Vp 2 rp 2 ro2 gm2Vp 2 Vp 4 rp 4 ro2 – + (a) (b) Figure 11.43 (a) Equivalent circuit for determining output impedance of BiCMOS double cascode current source and (b) rearranged equivalent circuit Figure 11.43(a). The gate voltage to M6 and the base voltages to Q2 and Q4 are constants, equivalent to signal ground. Also, since Vπ2 = 0, then gm6Vπ2 = 0, and the equivalent circuit can be rearranged as shown in Figure 11.43(b). The output resistance of this circuit is extremely large. A detailed analysis shows that the output resistance is given approximately by Ro =∼ (gm6ro6)(βro4) (11.117) The output resistance is increased by a factor (gmro6) compared to the bipolar cascode circuit in Figure 11.41. If a bipolar transistor were to be used in place of M6, then are- sistance rπ6 would be connected across the terminals indicated by Vgs6. This resistance would effectively eliminate the multiplying constant (gm6ro6), and the output resistance would be essentially the same as that of the circuit in Figure 11.41. The BiCMOS circuit, then, increases the output resistance compared to an all-bipolar circuit. 11.5.3 BiCMOS Differential Amplifier A basic BiCMOS differential amplifier, with a constant-current source bias and a bipolar active load, is shown in Figure 11.44. Again, the primary advantages are the infinite input resistance and the zero input bias current. One disadvantage of a MOSFET input stage is a relatively high offset voltage compared to that of a bipolar input circuit. Offset voltages occur when the differential-pair input transistors are mismatched. In Chapter 14, we will examine the effect of offset voltages, as well as nonzero bias currents, in op-amp circuits. We will consider additional BiCMOS op-amp circuits in Chapter 13, when we discuss the analysis and design of full op-amp circuits. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 805 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 805 V+ Q1 Q2 vO M1 M v 2 1 v2 IQ V– Figure 11.44 Basic BiCMOS differential amplifier Test Your Understanding TYU 11.16 Consider the BiCMOS Darlington pair in Figure 11.45. The NMOS transistor parameters are Kn = 50 μA/V2, VT N = 0.5 V, and λ = 0. The BJT parameters are β = 150, VB E(on) = 0.7 V, and VA = ∞. Determine the small-signal parameters for each transistor, as well as the composite transconductance. (Ans. gm1 = 71.4 μA/V, gm2 = 2.865 mA/V, r c π2 = 52.3 k, gm = 2.275 mA/V) M1 Q2 IBias1 = 25 mA I C Bias2 = 100 mA Figure 11.45 Figure for Exercise TYU 11.16 TYU 11.17 The reference current in each of the constant-current source circuits shown in Figures 11.41 and 11.42 is IREF = 0.5 mA. All bipolar transistor parameters are β = 150 and VA = 80 V, and all MOSFET parameters are: K = 500 μA/V2 n , VT N = 1 V, and λ = 0.0125 V−1. Neglecting bipolar base currents, determine the output resistance Roof each constant-current source. (Ans. For Figure 11.41, Ro ∼= 24 M; for Figure 11.42, Ro = 3840 M) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 806 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 806 Part 2 Analog Electronics 11.6 GAIN STAGE AND SIMPLE OUTPUT STAGE Objective: • Analyze an example of again stage and output stage of a multistage amplifier. A diff-amp, including those previously discussed, is the input stage of virtually all op-amps. The second op-amp stage, or gain stage, is often a Darlington pair configuration, and the third, or output, stage is normally an emitter follower. 11.6.1 Darlington Pair and Simple Emitter-Follower Output Figure 11.46 shows a BJT diff-amp with a three-transistor active load, a Darlington pair connected to the diff-amp output, and a simple emitter-follower output stage. V+ Q3 Q4 Ri R Q7 1 Q v 5 O2 Q6 I IB5 IO 1 IC1 Iv – C2 – O3 V V Q8 Ro v1 Q1 Q2 v2 vO IC7 IQ Q9 Q11 Q10 R4 R2 R3 V – Figure 11.46 BJT diff-amp with three-transistor active load, Darlington pair gain stage, and simple emitter-follower output stage The differential-pair transistors are biased with a Widlar current source at a bias current IQ. We noted previously that, for the diff-amp dc currents to be balanced, we must have IO = IB5 = IQ + (11.118) β(1 β) From the figure, we see that = II E6 IC7 O + = + (11.119) (1 β) β(1 β)"
11.6 Gain Stage and Simple Output Stage,"11.6 GAIN STAGE AND SIMPLE OUTPUT STAGE Objective: • Analyze an example of again stage and output stage of a multistage amplifier. A diff-amp, including those previously discussed, is the input stage of virtually all op-amps. The second op-amp stage, or gain stage, is often a Darlington pair configuration, and the third, or output, stage is normally an emitter follower. 11.6.1 Darlington Pair and Simple Emitter-Follower Output Figure 11.46 shows a BJT diff-amp with a three-transistor active load, a Darlington pair connected to the diff-amp output, and a simple emitter-follower output stage. V+ Q3 Q4 Ri R Q7 1 Q v 5 O2 Q6 I IB5 IO 1 IC1 Iv – C2 – O3 V V Q8 Ro v1 Q1 Q2 v2 vO IC7 IQ Q9 Q11 Q10 R4 R2 R3 V – Figure 11.46 BJT diff-amp with three-transistor active load, Darlington pair gain stage, and simple emitter-follower output stage The differential-pair transistors are biased with a Widlar current source at a bias current IQ. We noted previously that, for the diff-amp dc currents to be balanced, we must have IO = IB5 = IQ + (11.118) β(1 β) From the figure, we see that = II E6 IC7 O + = + (11.119) (1 β) β(1 β) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 807 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 807 In order for IO = IB5, we must require that IC7 = IQ . This means that the emitter resistors of Q10 and Q11 should have the same value. Transistor Q11 also acts as an active load for the Darlington pair gain stage. Transistor Q8 and resistor R4 form the simple emitter-follower output stage. The emitter-follower amplifier minimizes loading effects because its output resistance is small. Ideally, when the diff-amp input is a pure common-mode signal, the output vo is zero. The combination of Q7 and Q11 allows the dc level to shift. By slightly changing the bias current IC7, we can vary voltages VEC7 and VC E11 such that vo = 0. The small variation of IC7 required to achieve the necessary dc level shift will not significantly change the balance between IO and IB5. As we will see in later chapters, other forms of level shifters could also be used. 11.6.2 Input Impedance, Voltage Gain, and Output Impedance The input resistance of the Darlington pair determines the loading effect on the basic diff-amp. In addition, the gain of the Darlington pair affects the overall gain of the op-amp circuit, and the output resistance of the emitter follower determines any loading effects on the output signal. Figure 11.47(a) is the ac equivalent circuit of the Darlington pair, where RL7 is the effective resistance connected between the collector of Q7 and signal ground. Figure 11.47(b) shows the simple hybrid-π model of the Darlington pair. We see that the equivalent circuits for Q6 and Q7 have been effectively turned upside down compared to the transistors in Figure 11.47(a). B6 C6 – V Ib6 – b6 + Vp 6 rp 6 g V Ri + Em6 p 6 i 6 b6 Q7 C7 Q i – 6 c7 – v g v o3 m7Vp 7 b6 Vp 7 rp 7 + RL7 RL7 + E7 (a) (b) Figure 11.47 (a) The ac equivalent circuit, Darlington pair, and (b) small-signal equivalent circuit, Darlington pair Writing a KVL equation around the BE loop of Q6 and Q7, we have Vb6 = Vπ6 + Vπ7 (11.120) We can also write that Vπ6 = Ib6rπ6 (11.121) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 808 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 808 Part 2 Analog Electronics and the KCL equation is Vπ7 = Vπ6 + gm6Vπ6 (11.122(a)) rπ7 rπ6 or [ = (1 + ] β) Vπ7 rπ7 Vπ6 = rπ7(1 + β)Ib6 (11.122(b)) rπ6 where rπ6gm6 = β . Substituting Equations (11.122(b)) and (11.121) into Equation (11.120), we obtain Vb6 = Ib6rπ6 + rπ7(1 + β)Ib6 (11.123) The input resistance is therefore = V Rb6 i = rπ6 + rπ7(1 + β) (11.124) Ib6 Assuming IC7 = IQ , the hybrid-π parameters are = βVT = βV r T π7 (11.125(a)) IC7 IQ and = βVT = (1 + β)βV r T π6 (11.125(b)) IC6 IQ Combining Equations (11.125(a)), (11.125(b)), and Equation (11.124) yields an expression for the input resistance, as follows: = (1 + β)βVT + (1 + β)βVT = 2(1 + β)βV RT i (11.126) IQ IQ IQ We can determine the small-signal voltage gain of the Darlington pair circuit by using the small-signal equivalent circuit in Figure 11.47(b). We see that vo3 = ic7 RL7 = (βib7)RL7 = β(1 + β)ib6 RL7 (11.127) and vi b6 b6 = (11.128) Ri The small-signal voltage gain is therefore vo3 β(1 + β)RA L7 v = = (11.129) vb6 Ri Substituting Equation (11.12(6) into) (11.129), we find that = β(1 + β)RI AL7 Q v + = RV L7 (11.130) 2(1 β)β T 2VT IQ In Figure 11.46, we see that resistance RL7 is the parallel combination of the resistance looking into the collector of Q11 and the resistance looking into the base of Q8. From Chapter 10, the resistance looking into the collector of Q11 is Rc11 = r ′ o11(1 + gm11 RE) (11.131) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 809 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 809 where R′ E = rπ11‖R3. The resistance looking into the base of Q8 is Rb8 = rπ8 + (1 + β)R4 . (11.132) Equations (11.131) and (11.132) indicate that resistances Rc11 and Rb8 are large, which means that the effective resistance RL7 is also large. EXAMPLE 11.13 Objective: Calculate the input resistance and the small-signal voltage gain of a Darlington pair. Consider the circuit shown in Figure 11.46, with parameters IC7 = IQ = 0.2 mA, IC8 = 1 mA, R4 = 10 k, and R3 = 0.2 k. Assume β = 100 for all transistors, and the Early voltage for Q11 is 100 V. Solution: The input resistance, given by Equation (11.126), is = 2(1 + β)βV RT i = 2(101)(100)(0.026) ⇒ 2.63 M IQ 0.2 The small-signal voltage gain is a function of RL7, which in turn is a function of Rc11 and Rb8. We can find that rπ11 = βVT /IQ = (100)(0.026)/0.2 = 13 k such that R′ E = 13‖0.2 = 0.197 k Also gm11 = IQ/VT = 0.2/0.026 = 7.69 mA/V and ro11 = VA/IQ = 100/0.2 = 500 k Therefore, Rc11 = ro11(1 + gm11 R′ E) = 500 [1 + (7.69)(0.197)] ⇒ 1.26 M We can determine that rπ8 = βVT /IC8 = (100)(0.026)/1 = 2.6 k Then Rb8 = rπ8 + (1 + β)R4 = 2.6 + (101)(10) ⇒ 1.01 M Consequently, resistance RL7 is RL7 = Rc11‖Rb8 = 1.26‖1.01 = 0.561 M nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 810 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 810 Part 2 Analog Electronics Finally, fro(m Equ)ation (11[.130), the ]small-signal voltage gain is A = IQ = 0.2 v RL7 (561) = 2158 2VT 2(0.026) Comment: The input resistance of the Darlington pair is in the megohm range, which should minimize severe loading effects on the diff-amp. In addition, the small- signal gain is large because of the active load (Q11) and the large input resistance of the emitter-follower output stage. EXERCISE PROBLEM Ex 11.13: Consider the Darlington pair Q6 and Q7 in Figure 11.46. Determine the current gain of the Darlington pair, Ic7/Ib6. Use the parameters described in Example 11.13. (Ans. (101)(100) = 1.01 × 104) We can use the results of Chapter 6 to determine the output resistance of the emitter follow ∥∥∥∥ e(r. The out)put resistance is = rπ8 + Z Ro R4 (11.133) (1 + β) where Z is the equivalent impedance, or resistance, in the base of Q8. In this case, Z = Rc11‖Rc7, where Rc7 is the resistance looking into the collector of Q7. Because of the factor (1 + β) in the denominator, the output resistance of the emitter follower is normally small, as previously determined. EXAMPLE 11.14 Objective: Calculate the output resistance of the circuit in Figure 11.46. Consider the same circuit and transistor parameters described in Example 11.13. Assume the Early voltage of Q7 is 100 V. Solution: From Example 11.13, we have that Rc11 = 1.26 M and rπ8 = 2.6 k. We can then determine that = VA = 100 Rc7 = 500 k IQ 0.2 Then, Z = Rc11‖Rc7 = 1260‖500 = 358 k Therefore, = ∥∥∥∥[ rπ8 + ] ∥( ) Z Ro R4 + = ∥ 2.6 + 358 10∥ = 2.63 k (1 β) ∥ 101 Comment: The output resistance is obviously less than R4 and is substantially less than the equivalent resistance Z in the base of Q8. In a later chapter, we will examine a Darlington pair emitter-follower output stage in which the output resistance is on the order of 100 . nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 811 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 811 EXERCISE PROBLEM Ex 11.14: The circuit shown in Figure 11.48 is an ac equivalent circuit of a Darlington pair output stage. Assume the transistor current gains are βA = 90 and βB = 180. Assuming transistor QB is biased at IC QB = 0.5 mA, determine the output resistance Ro. (Ans. Ro = 120 ) R Q oA A QB Ro 300 kΩ 10 kΩ Figure 11.48 Figure for Exercise Ex11.14 A BJT diff-amp with an active load can produce a small-signal differential- mode voltage gain on the order of 103, and the Darlington pair can also provide a voltage gain on the order of 103. Since the emitter follower has again of essentially unity, the overall voltage gain of the op-amp circuit is on the order of 106. This value is typical for the low-frequency, open-loop gain of op-amp circuits. Test Your Understanding TYU 11.18 Consider the Darlington pair and emitter-follower portions of the circuit in Figure 11.46. The parameters are: IC7 = IQ = 0.5 mA, IC8 = 2 mA, R4 = 5 k, and R3 = 0.1 k. For all transistors, the current gain is β = 120, and for Q11 and Q7, the Early voltage is VA = 120 V. Calculate the input resistance and small-signal voltage gain of the Darlington pair, and the output resistance of the emitter follower. (Ans. Ri = 1.51 M, Av = 3115, Ro = 1.14 k) TYU 11.19 In the circuit in Figure 11.46, the Darlington pair and emitter-follower transistor parameters are the same as in Exercise TYU 11.18. Determine the effective resistance RL7 (see Figure 11.47(a)) such that the small-signal voltage gain is 103. (Ans. RL7 = 104 k) 11.7 SIMPLIFIED BJT OPERATIONAL AMPLIFIER CIRCUIT Objective: • Analyze a simplified multistage bipolar amplifier. An operational amplifier (op-amp) is a multistage circuit composed of a differential amplifier input stage, again stage, and an output stage. In this section, we will consider a simplified BJT op-amp circuit."
11.7 Simplified BJT Operational Amplifier Circuit,"11.7 SIMPLIFIED BJT OPERATIONAL AMPLIFIER CIRCUIT Objective: • Analyze a simplified multistage bipolar amplifier. An operational amplifier (op-amp) is a multistage circuit composed of a differential amplifier input stage, again stage, and an output stage. In this section, we will consider a simplified BJT op-amp circuit. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 812 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 812 Part 2 Analog Electronics Although active load devices increase the gain of an amplifier, in this discussion, we will consider resistive loads, in order to simplify the analysis and design. For the bipolar circuit, all component values are given; we will analyze both the dc and ac circuit characteristics. Figure 11.49. depicts a simple bipolar operational amplifier. The differential amplifier stage is biased with a Widlar current source, and a one-sided output is connected to the Darlington pair gain stage. An emitter bypass capacitor CE is included to increase the small-signal voltage gain. The output stage is an emitter follower. In general, we want the dc value of the output voltage to be zero when the input voltage is zero. To accomplish this, we need to insert a dc level shifting circuit between the voltage vO3 and the output voltage vO. V+ = 10 V R5 = RR I 1 = R = R = IR5 5 kΩ i3 IC1 CC C2 v 19.3 kΩ 20 kΩ 20 kΩ O3 Ri Q 2 5 vO2 Q3 I1 Q4 IR6 = R6 v Q Q v 16.5 kΩ 1 1 2 2 CR = E Q 4 6 IQ 11.5 kΩ IR4 vO Q Q IR7 7 9 Q8 R7 = 5 kΩ R2 = R3 = 59.6 Ω 59.6 Ω V – = –10 V Differential Amplifier Gain Stage Output Stage Figure 11.49 Bipolar operational amplifier circuit EXAMPLE 11.15 Objective: Analyze the dc characteristics of the bipolar op-amp circuit. Consider the circuit in Figure 11.49. Neglect base currents and, as a simplification, assume VB E(on) = 0.7 V for all transistors except Q8 and Q9 in the Widlar circuit. Solution: The reference current I1 is = 10 − 0.7 − (−10) I1 = 1 mA 19.3 The bias current IQ(is de)termined from = I IQ R2 VT ln 1 IQ and is IQ = 0.4 mA nea80644_ch11_753-850.qxd 6/19/09 5:40 AM Page 813 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 813 The collector currents are then IC1 = IC2 = 0.2 mA The dc voltage at the collector of Q2 is VO2 = 10 − IC2 RC = 10 − (0.2)(20) = 6 V With these circuit parameters, the common-mode input voltage is limited to the range −8.6 ≤ vC M ≤ 6 V, which will keep all transistors biased in the forward-active mode. The current IR4 is determined to be = VO2 − 2VB E(on) = 6 − 1.4 IR4 = 0.4 mA R4 11.5 Since base currents are assumed negligible, the current I ∼ R5 is IR5 = IR4. The dc voltage at the collectors of Q3 and Q4 is then VO3 = 10 − IR5 R5 = 10 − (0.4)(5) = 8 V This shows us that the dc voltage VO3 is midway between the 10 V supply voltage and the dc input voltage VO2 = 6 V to Q3. This allows a maximum symmetrical swing in the time-varying voltage at vo3. Transistor Q5 and resistor R6 form the dc voltage level shifting function. Since R3 = R2, we have IR6 = IQ = 0.4 mA The dc voltage at the base of Q6 is found to be VB6 = VO3 − VB E(on) − IR6 R6 = 8 − 0.7 − (0.4)(16.5) = 0.7 V This relationship produces a zero dc output voltage when a zero differential-mode voltage is applied at the input. Finally, current IR7 is = vo − (−10) = 10 IR7 = 2 mA R7 5 Comment: The dc analysis of this simplified op-amp circuit proceeds in much the same way as in previous examples. We observe that all transistors are biased in the forward-active mode. EXERCISE PROBLEM Ex 11.15: Consider the simple bipolar op-amp circuit in Figure 11.49. The transistor parameters are: β = 100, VB E(on) = 0.7 V (except for Q8 and Q9), and VA = ∞. Redesign the circuit such that IC1 = IC2 = 0.1 mA, IR7 = 5 mA, I1 = IR4 = IR6 = 0.6 mA, VC E1 = VC E2 = 4 V, VC E4 = 3 V, and vO = 0. (Ans. R1 = 32.2 k, R2 = 143 , R3 = 0, RC = 67 k, R4 = 3.17 k, R5 = 8.5 k, R6 = 5.83 k, and R7 = 2 k) EXAMPLE 11.16 Objective: Determine the small-signal differential-mode voltage gain of the bipolar op-amp circuit. Consider the circuit in Figure 11.49, with transistor parameters β = 100 and VA = ∞. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 814 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 814 Part 2 Analog Electronics Solution: The overall diffe(rential-mo)de (volta)ge g(ain c)an be written A = A · A · v A o2 vo3 vo dd1 2 3 = − · · v1 v2 vo2 vo3 The overall small-signal voltage gain is the product of the individual stage gains only if the load resistance of the following stage is taken into account. We will rely on previous results to determine the individual voltage gains. The input resistances to the Darlington pair Ri2 and to the output stage Ri3 are indicated in Figure 11.49. The one-sided differential-mode voltage gain of the diff-amp is given by V g A o2 d1 = = m (RC‖R 2 i2) vd where Ri2 is the input resistance of the Darlington pair, as follows: Ri2 = rπ3 + (1 + β)rπ4 where rπ4 = βVT /IR4 = (100)(0.026)/0.4 = 6.5 k and rπ3 =∼ β2V 2 T /IR4 = (100) (0.026)/0.4 = 650 k Therefore, Ri2 = 650 + (101)(6.5) = 1307 k The transistor transconductance is = IQ = 0.4 gm = 7.70 mA/V 2VT 2(0.026) The gain of the differential a(mplifi)er stage is therefore A = gm d1 (RC‖Ri2) = 7.70 [20‖1307] = 75.8 2 2 Since the load resistance Ri2  RC , there is no significant loading effect of the second stage on the diff-amp stage. From p(reviou)s results, we know the voltage gain of the Darlington pair is given by IA R4 2 = (R 2V 5‖Ri3) T where Ri3 = rπ5 + (1 + β)[R6 + rπ6 + (1 + β)R7] We find that rπ5 = βVT /IR6 = (100)(0.026)/0.4 = 6.5 k and rπ6 = βVT /IR7 = (100)(0.026)/2 = 1.3 k Therefore Ri3 = 6.5 + (101)[16.5 + 1.3 + (101)(5)] ⇒ 52.8 M Since Ri3  R5, the output stage does not load down the gain stage, and the small- signal volta(ge ga)in is app[roximately] A =∼ IR4 2 R5 = 0.4 (5) = 38.5 2VT 2(0.026) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 815 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 815 The combination of Q5 and Q6 forms an emitter follower, and the gain of the output stage is A3 = vo/vo ∼ 3 = 1 The overall small-signal voltage gain is therefore Ad = Ad1 · A2 · A3 = (75.8)(38.5)(1) = 2918 Comment: From our previous discussion, we know that the overall gain can be increased substantially by using active loads. Yet, the analysis of this simplified circuit provides some insight into the design of multistage circuits, as well as the overall small-signal voltage gain of op-amp circuits. Computer Correlation: A PSpice analysis was performed on the bipolar op-amp circuit in Figure 11.49. The dc output voltage from this analysis was VO = −0.333 V, rather than the desired value of zero. This occurred because the BE voltages were not exactly 0.7 V, as assumed in the hand analysis. A zero output voltage can be obtained by slightly adjusting R6. The differential voltage gain was Ad = 2932, which agrees very well with the hand analysis. EXERCISE PROBLEM Ex 11.16: Consider the simple bipolar op-amp circuit in Figure 11.49 with circuit and transistor parameters given in Exercise Problem Ex11.15. Determine the input resistances Ri2 and Ri3, and the differential-mode voltage gain Ad = vo/vd . (Ans. Ri2 = 870 k, Ri3 = 21.0 M, Ad = 11,729) Problem-Solving Technique: Multistage Circuits 1. Perform the dc analysis of the circuit to determine the small-signal parameters of the transistors. In most cases BJT base currents can be neglected. This assumption will normally provide sufficient accuracy for a hand analysis. 2. Perform the ac analysis on each stage of the circuit, taking into account the loading effect of the following stage. (In many cases, previous results of small-signal analyses can be used directly.) 3. The overall small-signal voltage gain or current gain is the product of the gains of the individual stages as long as the loading effect of each stage is taken into account. 11.8 DIFF-AMP FREQUENCY RESPONSE Objective: • Analyze the frequency response of the differential amplifier. In Chapter 7, we considered the frequency responses of the three basic amplifier configurations. In this section, we will analyze the frequency response of the differential amplifier. Since the diff-amp is a linear circuit, we can determine the frequency"
11.8 Diff-Amp Frequency Response,"11.8 DIFF-AMP FREQUENCY RESPONSE Objective: • Analyze the frequency response of the differential amplifier. In Chapter 7, we considered the frequency responses of the three basic amplifier configurations. In this section, we will analyze the frequency response of the differential amplifier. Since the diff-amp is a linear circuit, we can determine the frequency nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 816 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 816 Part 2 Analog Electronics response due to: (a) a pure differential-mode input signal, (b) a pure common-mode input signal, and (c) the total or net result, using superposition. 11.8.1 Due to Differential-Mode Input Signal Consider the basic bipolar diff-amp shown in Figure 11.50(a). The input is a pure differential-mode input signal. We know from Equation (11.24) that the small-signal voltage ve is at signal ground when a differential-mode input signal is applied. To determine the frequency response, we evaluate the equivalent common-emitter half- circuit in Figure 11.50(b). V + RC RC V + vO1 vO2 R RB RC B Q1 v Q e 2 vO1 + v v = d v R – 1 v2 = – d + B 2 2 – IQ + v – v1 = + d 2 V – (a) (b) Figure 11.50 (a) BJT differential amplifier with differential-mode input signal and (b) equivalent common-emitter half-circuit of differential amplifier Since the diff-amp is a direct-coupled amplifier, the midband voltage gain extends to zero frequency. Th(is one-side)d midband gain is = VA o1 = − r g R π v1 m C + (11.134(a)) Vd/2 rπ RB or −β RA = C v1 (11.134(b)) rπ + RB From the high-frequency common-emitter characteristics determined in Chapter 7 we know that the upper 3 dB frequency is fH = 1 ‖ + (11.135) 2π[rπ RB](Cπ CM) where CM is the equivalent Miller capacitance given by CM = Cμ(1 + gm RC) (11.136) Equation (11.136) implies that, if the value of RC is fairly large, the Miller capacitance will significantly affect the bandwidth of the differential amplifier. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 817 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 817 11.8.2 Due to Common-Mode Input Signal Figure 11.51(a) shows the basic diff-amp with a pure common-mode input signal. The circuit is symmetrical, which means that resistors RB, resistors RC, and the transistors are effectively in parallel. Figure 11.51(b) is the small-signal equivalent circuit, with the constant-current source replaced by its output resistance Ro and capacitance Co. V + RR C RC B 2 Vo + 2gr mVp R vO1 vO2 + p B RB – Vp Q 2 1 Q2 Vcm – RC 2 + v1 = vcm v + – 2 = vcm – IQ Ro Co V – (a) (b) Figure 11.51 (a) BJT differential amplifier with common-mode input signal and (b) small-signal equivalent circuit, common-mode configuration We will justify neglecting the transistor parameters Cπ and Cμ. The output voltage is ( ) Vo = − RC (2gm Vπ) (11.137) 2 A KVL equ(ation ar)o(und th)e BE loo(p produces )[ ∥( )] V = Vπ RB + V + Vπ cm π + ∥ 1 2g V R ∥ (11.138(a)) rπ/2 2 rπ/2 m π o∥ sCo or { ( )( )} = RB + + 1 + β RV o cm Vπ 1 2 + (11.138(b)) rπ rπ 1 s RoCo Solving for Vπ and substituting the result into Equation (11.137) yields the common- mode gain, which is = Vo = −gm RA C cm + ( ) (11.139(a)) Vcm RB + 2(1 β) R 1 + o rπ rπ 1 + s RoCo nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 818 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 818 Part 2 Analog Electronics or = ( −)gm RC(1 + s RoCo)Acm + (11.139(b)) R 2(1 β)R 1 + B 1 + s RC + o ( ) r o o π rπ Equation (11.139(b)) shows that there is a zero in the common-mode gain. To explain, capacitor Co is in parallel with Ro, and it acts as a bypass capacitor. At very low frequency, Co is effectively an open circuit and the common-mode signal “sees” Ro. As the frequency increases, the impedance of the capacitor decreases and Ro is effectively bypassed; hence, the zero in Equation (11.139(b)). The frequency analysis of an emitter bypass capacitor also showed the presence of a zero in the voltage gain expression. The common-mode gain frequency response is shown in Figure 11.52. The frequency of the zero is 1 fz = (11.140) 2π RoCo Since the output resistance Roof a constant-current source is normally large, a small capacitance Co can result in a small fz. For frequencies greater than fz, the common- mode gain increases at the rate of 6 dB/octave. |ACM |dB fZ f Figure 11.52 Frequency response of common-mode gain Equation (11.139(b)) also shows that there is a pole associated with the common-mode gain. Rearranging the terms in that equation, we see that the frequency of the pole is 1 fp = (11.141) 2π ReqCo where ( ) Ro 1 + RB r R π eq = R (11.142) + B + 2(1 + β)R 1 o rπ rπ The denominator of Equation (11.142) is very large, because of the term (1 + β)Ro. This implies that Req is small, which means that the frequency fp of the pole is very large. The differential-mode gain is shown in Figure 11.53. The frequency response of the common-mode rejection ratio is found by combining Figures 11.52 and 11.53, and is shown in Figure 11.54. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 819 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 819 CMRRdB |Ad |dB –6 dB/octave –12 dB/octave fH fZ fH f Figure 11.53 Frequency response Figure 11.54 Frequency response of differential-mode gain of common-mode rejection ratio EXAMPLE 11.17 Objective: Determine the zero and pole frequencies in the common-mode gain. Consider a diff-amp biased with a constant-current source. The output resistance is Ro = 10 M and the output capacitance is Co = 1 pF. Assume the circuit and transistor parameters are RB = 0.5 k, rπ = 10 k, and β = 100. Solution: In the common-mode gain, the frequency of the zero is fz = 1 = 1 × × − ⇒ 15.9 kHz 2π RoCo 2π(10 106)(1 10 12) Also in the common-mode gain, the frequency of the pole is fP = 1/(2π ReqCo) where ( ) ( ) + RB × 6 0.5 Ro 1 (10 10 ) 1 + Req = rπ = 10 1 + RB + 2(1 + β)Ro + 0.5 + 2(101)(10 × 106) r 1 π rπ 10 10 × 103 or Req = 51.98  The frequency of the pole is therefore fP = 1 ⇒ 3.06 GHz 2π(51.98)(1 × 10−12) Comment: The frequency of the zero in the common-mode gain is fairly low, while the frequency of the pole is extremely large. The relatively low frequency of the zero justifies neglecting the effect of Cπ and Cμ. The CMRR frequency response is shown in Figure 11.54, where fz is the zero frequency of the common-mode gain and fH is the upper 3 dB frequency of the differential-mode gain. EXERCISE PROBLEM Ex 11.17: Repeat Example 11.17 for the case when the output capacitance of the constant current source is Co = 0.2 pF. (Ans. fz = 79.6 kHz, fp = 15.3 GHz) nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 820 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 820 Part 2 Analog Electronics 11.8.3 With Emitter-Degeneration Resistors Figure 11.55 shows a bipolar diff-amp with two resistances RE connected in the emitter portion of the circuit. One effect of including an emitter resistor is to reduce the voltage gain, so the presence of these resistors is termed emitter degeneration. In Chapter 7, we found that an emitter-follower circuit, which includes an emitter resistance, is a wide-bandwidth amplifier. Therefore, one effect of resistors RE is an increase in the bandwidth of the differential amplifier. We rely on a computer simulation to evaluate emitter degeneration effects. V + |Ad | 100 RE = 0.125 kΩ RC RC v 10 R O1 vO2 E = 1 kΩ RE = 0.50 kΩ v1 Q1 V Q2 v2 e RE = 0.25 kΩ RE RE 1.0 IQ V – 103 104 105 106 107 f (Hz) Figure 11.55 BJT differential amplifier Figure 11.56 PSpice results for frequency response with emitter-degeneration resistors of diff-amp with emitter-degeneration Figure 11.56 shows the frequency response of a one-sided differential-mode gain, obtained from a PSpice analysis for four RE resistance values. The diff-amp is biased at IQ = 0.5 mA and the RC resistors are RC = 30 k. The transistor capacitances are Cπ = 34.6 pF and Cμ = 4.3 pF. As the emitter degeneration increases, the differential-mode voltage gain decreases, but the bandwidth increases, as previously indicated. The figure-of-merit for amplifiers, the gain-bandwidth product, is approximately a constant for the results shown in Figure 11.56. 11.8.4 With Active Load Figure 11.57 shows a bipolar diff-amp with an active load and a single input at v1. The base and collector junctions of Q3 are connected together, and a one-sided output is taken at vO2. With the connection of Q3, the equivalent load resistance in the collector of Q1 is on the order of rπ/(1 + β). This small resistance minimizes the Miller multiplication factor in Q1. Also, with the base of Q2 at ground potential, one side of Cμ2 is grounded, and the Miller multiplication in Q2 is zero. Therefore, we expect the bandwidth of the diff-amp with an active load to be relatively wide. At high frequencies, however, the effective impedance in the collector of Q1 also includes the input nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 821 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 821 V + Q3 Q4 |Ad | 2000 vO2 1000 v2 = 0 v1 Q1 Q2 100 IQ 10 V – 103 104 105 106 107 f (Hz) Figure 11.57 BJT diff-amp with Figure 11.58 PSpice results for frequency response active load and single-sided input of diff-amp with active load and single-sided input capacitances of Q3 and Q4. These additional capacitances also affect the frequency response of the diff-amp, potentially narrowing the bandwidth. Again, we rely on a computer analysis to determine the frequency characteristics of the diff-amp with an active load. Figure 11.58 shows the results of the computer simulation. The diff-amp is biased at IQ = 0.5 mA, and the Early voltage of each transistor is assumed to be 80 V. The transistor capacitances are Cπ = 34.6 pF for each transistor, Cμ = 3.8 pF in Q1 and Q2, and Cμ = 7 pF and 5.5 pF in Q3 and Q4, respectively. The low-frequency voltage gain is 1560 and the upper 3 dB frequency is 64 kHz. The large gain is as expected for an active load amplifier, but the 3 dB frequency is lower than expected. However, the gain–bandwidth product for the active load diff- amp is approximately four times that of the diff-amp shown in Figure 11.55. The increased gain–bandwidth product implies a reduced Miller multiplication factor in the active load diff-amp, as predicted. 11.9 DESIGN APPLICATION: A CMOS DIFF-AMP Objective: • Design a CMOS diff-amp with an output gain stage to meet a set of specifications. Specifications: Design a CMOS diff-amp with an output stage. The magnitude of voltage gain of each stage is to beat least 600. Bias currents are to be IQ = IREF = 100 μA, and biasing of the circuit is to be V + = 2.5 V and V − = −2.5 V. Design Approach: The circuit to be designed has the configuration shown in Figure 11.59. The diff-amp has NMOS amplifying transistors and a PMOS active load. The diff-amp is biased with a cascode current source to provide a large output resistance. The gain stage is a PMOS transistor in a common source configuration that also has an active load."
11.9 Design Application: A CMOS Diff-Amp,"11.9 DESIGN APPLICATION: A CMOS DIFF-AMP Objective: • Design a CMOS diff-amp with an output gain stage to meet a set of specifications. Specifications: Design a CMOS diff-amp with an output stage. The magnitude of voltage gain of each stage is to beat least 600. Bias currents are to be IQ = IREF = 100 μA, and biasing of the circuit is to be V + = 2.5 V and V − = −2.5 V. Design Approach: The circuit to be designed has the configuration shown in Figure 11.59. The diff-amp has NMOS amplifying transistors and a PMOS active load. The diff-amp is biased with a cascode current source to provide a large output resistance. The gain stage is a PMOS transistor in a common source configuration that also has an active load. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 822 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 822 Part 2 Analog Electronics +2.5 V M6 M9 M10 vo1 M13 M5 v1 M7 M8 v2 vO Ro12 IREF IQ = 100 mA M3 MM 12 4 ID13 M1 MM 11 2 –2.5 V Figure 11.59 A CMOS diff-amp with an output stage for the design application We will assume that several sets of transistors are matched. In particular, we will assume that M1 to M4, M11, and M12 are matched; M7 and M8 are matched; M5 and M6 are matched; and M9 and M10 are matched. Choices: Assume NMOS and PMOS transistors are available with parameters VT N = 0.5 V, VT P = −0.5 V, k ′ n = 80 μA/V2, k ′ p = 40 μA/V2, and λn = λp = 0.01 V−1. Solution (Differential Pair): The differential gain of the diff-amp is given by Ad = gm(ro8‖ro10) We find ro8 = 1 ro10 = = 1 = 2000 k λID (0.01)(0.05) Then, for Ad = 600, we have 600 = gm(2000‖2000) which yield√s gm = 0.6 mA/V. The√n ′ ( )( ) kn W 0.08 W gm = 2 ID = 0.6 = 2 (0.05) 2 L 2 L 7 whic(h yie)lds ( ) W = W = 45 L 7 L 8 nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 823 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 823 We will also, somewhat arbitrarily, make the width-to-length ratios of all other transistors, except M5, M6, and M13, the same value of 45. Solution (Current Source): We need to consider the two transistors M5 and M6. The gate-to-source voltages of M1 and M3 are found from IREF = 100 = 80 (45)(V − 0.5)2 2 GS1 which yields VGS1 = VGS3 = 0.736 V. Since M5 and M6 are matched, we find = = 2.5 − (−2.5) − 2(0.736) VGS5 VGS6 = 1.76 V 2 The width-to-length ra(tios o)f M5 and M6 are found from 80 W IREF = 100 = (1.76 − 0.5)2 2 L 5,6 whic(h yie)lds ( ) W = W = 1.57 L 5 L 6 Solution (Second Stage): The source-to-gate voltage applied to the common- source transistor M13 is equal to the source-to-drain voltage on M10 which is the same as the source-to-gate voltage of M9 since the diff-amp is balanced. We find = = 40 ID9 50 (45)(VSG9 − 0.5)2 2 or VSG9 = VSG13 = 0.736 V The drain current in M13 is ID13 = IQ = 100 μA because of the matched transistors in the current source circuit. We now find ID13 = (W/L)13 ⇒ 100 = (W/L)13 ID9 (W/L)9 50 45 which yields (W/L)13 = 90. The gain of the second stage is given by A2 = −gm13(ro13‖Ro12) We find √ ′ ( ) √( ) gm13 = k 2 p W ID13 = 0.04 2 (90)(0.1) = 0.849 mA/V 2 L 13 2 and 1 1 ro13 = = = 1000 k λID13 (0.01)(0.1) The output resistance Ro12 is given by Ro12 = ro12 + ro11(1 + gm12ro12) nea80644_ch11_753-850.qxd 6/19/09 4:34 PM Page 824 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-11 Folder:MHDQ134-11 824 Part 2 Analog Electronics We find ro11 = 1 1 ro12 = = = 1000 k λID12 (0.01)(0.1) and √ ′ ( ) √( ) kW 0.08 gm12 = 2 n ID12 = 2 (45)(0.1) = 0.849 mA/V 2 L 12 2 Then Ro12 = 1000 + 1000[1 + (0.849)(1000)] = 851,000 k The second stage voltage gain is then A2 = −0.849(1000‖851,000) = −849 Solution (Overall Voltage Gain): Since there is no loading of the second stage on the diff-amp circuit, the overall voltage gain is Av = Ad A2 = (600)(−849) = −5.094 × 105 Comment: We may note that the amplifier we have just designed is an all MOSFET circuit. The circuit contains no resistors. An all-transistor circuit is one of the advantages of MOS transistors. We may also note that a large voltage gain can be obtained from a circuit using active loads. 11.10 SUMMARY • The ideal transistor differential amplifier amplifies only the difference between two input signals. • The differential-mode input voltage is defined as the difference between the two input signals and the common-mode input voltage is defined as the average of the two input signals. • When a differential input voltage is applied, one transistor of the differential pair turns on more than the second transistor of the differential pair so that the currents become unbalanced, producing a signal output voltage. • A common-mode output signal is generated when the output resistance of the current source is finite rather than ideally infinite. • The common-mode rejection ratio, CMRR, is defined in terms of decibels as CMRRdB = 20 log10 |Ad/Acm |, where Ad and Acm are the differential-mode voltage gain and common-mode voltage gain, respectively. • Differential amplifiers are usually designed with active loads to increase the differential-mode voltage gain. • BiCMOS circuits maybe designed to incorporate the best parameters and characteristics of BJTs and MOSFETs in the same circuit. • A BJT Darlington pair is typically used as a second stage in a BJT diff-amp. The input impedance is large, which tends to minimize loading effects on the diff-amp, and the effective current gain of the pair is the product of the individual gains. • As an application, a CMOS diff-amp with an output gain stage was designed to meet a set of specifications."
11.10 Summary,"11.10 SUMMARY • The ideal transistor differential amplifier amplifies only the difference between two input signals. • The differential-mode input voltage is defined as the difference between the two input signals and the common-mode input voltage is defined as the average of the two input signals. • When a differential input voltage is applied, one transistor of the differential pair turns on more than the second transistor of the differential pair so that the currents become unbalanced, producing a signal output voltage. • A common-mode output signal is generated when the output resistance of the current source is finite rather than ideally infinite. • The common-mode rejection ratio, CMRR, is defined in terms of decibels as CMRRdB = 20 log10 |Ad/Acm |, where Ad and Acm are the differential-mode voltage gain and common-mode voltage gain, respectively. • Differential amplifiers are usually designed with active loads to increase the differential-mode voltage gain. • BiCMOS circuits maybe designed to incorporate the best parameters and characteristics of BJTs and MOSFETs in the same circuit. • A BJT Darlington pair is typically used as a second stage in a BJT diff-amp. The input impedance is large, which tends to minimize loading effects on the diff-amp, and the effective current gain of the pair is the product of the individual gains. • As an application, a CMOS diff-amp with an output gain stage was designed to meet a set of specifications. nea80644_ch11_753-850.qxd 6/19/09 4:34 PM Page 825 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-11 Folder:MHDQ134-11 Chapter 11 Differential and Multistage Amplifiers 825 CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Describe the mechanism by which a differential-mode signal and common- mode signal are produced in a BJT diff-amp. ✓ Describe the dc transfer characteristics of a BJT diff-amp. ✓ Define common-mode rejection ratio. ✓ Describe the mechanism by which a differential-mode signal and common- mode signal are produced in a MOSFET diff-amp. ✓ Describe the dc transfer characteristics of a MOSFET diff-amp. ✓ Design a MOSFET diff-amp with an active load to yield a specified differential- mode voltage gain. ✓ Analyze a simplified BJT operational amplifier circuit. ✓ Design a simplified MOSFET operational amplifier circuit. REVIEW QUESTIONS 1. Define differential-mode and common-mode input voltages. 2. Sketch the dc transfer characteristics of a BJT differential amplifier. 3. From the dc transfer characteristics, qualitatively define the linear region of operation for a differential amplifier. 4. What is meant by matched transistors and why are matched transistors important in the design of diff-amps? 5. Explain how a differential-mode output signal is generated. 6. Explain how a common-mode output signal is generated. 7. Define the common-mode rejection ratio, CMRR. What is the ideal value? 8. What design criteria will yield a large value of CMRR in an emitter-coupled pair? 9. Sketch the differential-mode and common-mode half-circuit models for an emitter-coupled diff-amp. 10. Define differential-mode and common-mode input resistances. 11. Sketch the dc transfer characteristics of a MOSFET differential amplifier. 12. Sketch and describe the advantages of a MOSFET cascode current source used with a MOSFET differential amplifier. 13. Sketch a simple MOSFET differential amplifier with an active load. 14. Explain the advantages of an active load. 15. Describe the loading effects of connecting a second stage to the output of a BJT diff-amp. 16. Explain the frequency response of the differential-mode voltage gain. 17. Sketch a BJT Darlington pair circuit and explain the advantages. 18. Describe the three stages of a simple BJT operational amplifier. PROBLEMS Section 11.2 Basic BJT Differential Pair 11.1 (a) A differential-amplifier has a differential-mode gain of Ad = 250 and a common-mode rejection ratio of CMRRdB = ∞. A differential-mode input signal of vd = 1.5 sin ω t mV is applied along with a common-mode input signal of vcm = 3 sin ω t V. Assuming the common-mode gain is positive, determine the output voltage. (b) Repeat part (a) if the common-mode"
Problems,"PROBLEMS Section 11.2 Basic BJT Differential Pair 11.1 (a) A differential-amplifier has a differential-mode gain of Ad = 250 and a common-mode rejection ratio of CMRRdB = ∞. A differential-mode input signal of vd = 1.5 sin ω t mV is applied along with a common-mode input signal of vcm = 3 sin ω t V. Assuming the common-mode gain is positive, determine the output voltage. (b) Repeat part (a) if the common-mode nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 826 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 826 Part 2 Analog Electronics rejection ratio is CMRRdB = 80 dB. (c) Repeat part (a) if the common- mode rejection ratio is CMRRdB = 50 dB. 11.2 Consider the circuit shown in Figure P11.2. Assume gm = 1.0 mA/V. Assume the input signal voltages are v1 = 0.7 + 0.1 sin ω t V and v2 = 0.7 − 0.1 sin ω t V. (a) Determine the signal voltages (i) vo1, (ii) vo2, and (iii) vo1 − vo2. (b) Using the results of part (a), determine the small-signal voltage gains (i) Ad1 = vo1/(v1 − v2),(ii) Ad2 = vo2/(v1 − v2), and (iii) Ad3 = (vo1 − vo2) /(v1 − v2). V + = 5 V R = R = 5 kΩ 5 kΩ vO1 vO2 gmv2 v + gmv + 1 – 1 v – 2 Figure P11.2 11.3 Consider the differential amplifier shown in Figure P11.3 with transistor parameters β = 150, VB E(on) = 0.7 V, and VA = ∞. (a) Design the circuit such that the Q-point values are IC1 = IC2 = 100 μA and vO1 = vO2 = 1.2 V for v1 = v2 = 0. (b) Draw the dc load line and plot the Q-point for transistor Q2. (c) What are the maximum and minimum values of the common-mode input voltage? +3 V +5 V R1 = RC = RC = II RR I 1 I CC CC 8.5 kΩ C4 1 2 2 kΩ 2 kΩ + Q4 VCE4 Q5 vO1 vO2 – Q1 Q2 Q IC2 3 + v v + + – 1 2 – Q1 Q2 VI R CE2 E E – –3 V –5 V Figure P11.3 Figure P11.4 11.4 The differential amplifier in Figure P11.4 is biased with a three-transistor current source. The transistor parameters are: β = 100, VB E(on) = 0.7 V, and nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 827 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 827 VA = ∞. (a) Determine I1, IC2, IC4, VC E2, and VC E4. (b) Determine a new value of R1 such that VC E4 = 2.5 V. What are the values of IC4, IC2, I1, and R1? *D11.5 For the transistors in the circuit in Figure P11.5, the parameters are β = 100 and VB E(on) = 0.7 V. The Early voltage is VA = ∞ for Q1 and Q2, and is VA = 50 V for Q3 and Q4. (a) Design resistor values such that I3 = 400 μA and VC E1 = VC E2 = 10 V. (b) Find Ad, Acm, and CMRRdB for a one-sided output at vO2. (c) Determine the differential- and common-mode input resistances. V+ = 15 V RC RC I1 R1 IC1 IC2 vO2 10 kΩ 10 kΩ Q1 Q2 + v + v – 1 – 2 I3 Q3 Q4 V – = –15 V Figure P11.5 11.6 The diff-amp in Figure 11.3 of the text has parameters V + = +5 V, V − = −5 V, RC = 8 k, and IQ = 0.5 mA. The transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = ∞. (a) Using Figure 11.3(a), determine the maximum common-mode input voltage vcm that can be applied such that the transistors Q1 and Q2 remain biased in the active region. (b) Using Figure 11.3(b), determine the change in vC2 from its dc value if vd = 18 mV. (c) Repeat part (b) if vd = 10 mV. D11.7 The diff-amp configuration shown in Figure P11.7 is biased at ±3 V. The maximum power dissipation in the entire circuit is to be no more than 1.2 mW when v1 = v2 = 0. The available transistors have parameters: β = 120, VB E(on) = 0.7 V, and VA = ∞. Design the circuit to produce the maximum possible differential-mode voltage gain, but such that the common-mode input voltage can be within the range −1 ≤ vC M ≤ 1 V and the transistors are still biased in the forward-active region. What is the value of Ad? What are the current and resistor values? 11.8 Consider the circuit in Figure P11.8, with transistor parameters: β = 100, VB E(on) = 0.7 V, and VA = ∞. (a) For v1 = v2 = 0, find IC1, IC2, IE, VCE1, and VCE2. (b) Determine the maximum and minimum values of the common-mode input voltage. (c) Calculate Ad for a one-sided output at the collector of Q2. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 828 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 828 Part 2 Analog Electronics V + +10 V +5 VI R1 IR IR RC = 50 kΩ R = 50 kΩ 1 C1 CC2 CC R = R = I CC C1 I 100 kΩ 100 kΩ C2 v Q Q v v O1 vO2 1 1 2 2 RB = 0.5 kΩ RB = 0.5 kΩ v1 Q Q Q 1 Q2 v2 1 2 IC4 2 kΩ 2 kΩ + v v + – 1 2 – Q3 Q4 IR = 85 kΩ IR E E E E V – –5 V –10 V Figure P11.7 Figure P11.8 Figure P11.9 *11.9 The transistor parameters for the circuit in Figure P11.9 are: β = 100, VB E(on) = 0.7 V, and VA = ∞. (a) Determine RE such that IE = 150 μA. (b) Find Ad, Acm, and CMRRdB for a one-sided output at vO2. (c) Determine the differential- and common-mode input resistances. 11.10 The bias voltages for the diff-amp shown in Figure P11.10 are V + = 3 V and V − = −3 V. The transistor current gains are β = 80, the nominal value of VB E(on) is 0.6 V, and VA = ∞. (a) Design the circuit such that the quiescent collector currents are 50 μA and vC1 = vC2 = −1.5 V for v1 = v2 = 0. (b) Determine vC1 and vC2 when (i) v1 = v2 = 1 V and (ii) v1 = 0.994 V, v2 = 1.006 V. V + V + RE IQ v1 Q1 Q2 v2 v1 Q1 Q2 v2 vC1 vC2 vC1 vC2 RC RC RC RC V – V – Figure P11.10 Figure P11.11 11.11 Consider the circuit shown in Figure P11.11. The circuit and transistor parameters are V + = +3 V, V − = −3 V, RC = 360 k, IQ = 12 μA, β = 60, VE B(on) = 0.6 V, and VA = ∞. The output resistance of the current source is Ro = 4 M. (a) Determine the Q-points of the transistors for v1 = v2 = 0. (b) Determine the differential- and common-mode voltage gains for (i) vO = vC1 − vC2 and (ii) vO = vC2. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 829 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 829 11.12 The circuit and transistor parameters for the circuit shown in Figure P11.11 V + are V + = 5 V, V − = −5 V, IQ = 0.2 mA, β = 80, VE B(on) = 0.6 V, and VA = ∞. (a) Design the circuit such that the minimum common-mode voltage is vcm = −2.5 V. (b) Using the results of part (a), what is the ΔR ΔR magnitude of the differential-mode gain, A = | R + Rd (vC1 − vC2) / (v1 − v2)|? C 2 C 2 (c) Determine vC1 and vC2 for v1 = 0.507 V and v2 = 0.493 V. (d) What is the minimum output resistance of the current source such that vC1 vC2 CMRRdB = 60 dB for a one-sided output. v Q Q 11.13 Consider the differential amplifier shown in Figure P11.13 with mismatched 1 1 2 v2 collector resistors. The circuit and transistor parameters are V + = 5 V, V − = −5 V, β = 120, VB E(on) = 0.7 V, and VA = ∞. (a) For R = 0, RE design the circuit such that IC Q1 = IC Q2 = 120 μA and vC1 = vC2 = 3 V for v1 = v2 = 0. (b) Using the results of part (a), determine |Ad | for a two- sided output. (c) For R = 500 , determine Ad , Acm , and CMRRdB for V – vo = (vC1 − vC2). Figure P11.13 11.14 Consider the differential amplifier shown in Figure P11.14 with mismatched transistors. The mismatched transistors result in mismatched transconductances as shown. The circuit and transistor parameters are V + = +10 V, V − = −10 V, RC = 50 k, RE = 75 k, β = 120, VB E(on) = 0.7 V, and VA = ∞. Determine Ad, Acm, and CMRR|dB for gm/gm = 0.01 and for vO = vC1 − vC2. Assume v1 = v2 = 0 in the quiescent condition. V + V + = 5 V RE = 1.0 kΩ RC RC vE v1 Q1 Q2 v2 vC1 vC2 v Q 1 1 Q2 v2 vC1 vC2 gm1 = gm2 = Δg Δg RC = RC = gm mm + gm – 1 kΩ 1 kΩ 2 R 2 E V + = 10 V V – V – = –5 V Figure P11.14 Figure P11.15 RC RC 11.15 Consider the circuit in Figure P11.15. The transistor parameters are β = 120, VE B(on) = 0.7 V, and VA = ∞. Determine v v vE, vC C1 C2 1, and vC2 for (a) v1 = v2 = 0; (b) v1 = 0.5 V, v2 = 0; and (c) v1 = 0, v2 = 0.015 V. v Q Q 1 1 2 v2 11.16 (a) Design the circuit shown in Figure P11.16 such that vO = vC1 − vC2 = 1 V when v1 = −5 mV and v2 = +5 mV. The transistor parameters are β = 180, VB E(on) = 0.7 V, and VA = ∞. (b) Using the IQ = 2 mA results of part (a), determine the maximum common-mode input voltage. 11.17 Consider the differential amplifier in Figure P11.17 with parameters V + – = 5 V, V − = −5 V, and IV = –10 V O = 0.8 mA. Neglect base currents and assume VA = ∞ for all transistors. The emitter currents can be written as Figure P11.16 nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 830 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 830 Part 2 Analog Electronics V + RC1 RC2 R1 vO1 vO2 v1 Q1 Q2 v2 IO Q3 Q4 V – Figure P11.17 IE = IV Se BE1/VT and I = I eVB E2/VEST 1 1 2 2 . (a) If v1 = v2 = 0 and IS1 = IS2 = 3 × 10−15 A, determine (vO1 − vO2) for (i) RC1 = RC2 = 7.5 k and (ii) RC1 = 7.4 k, RC2 = 7.6 k. (b) Repeat part (a) for IS1 = 2.9 × 10−15 A and I = 3.1 × 10−15 S2 A. 11.18 For the diff-amp in Figure 11.2, determine the value of vd = v1 − v2 that produces (a) iC1 = 0.20IQ and (b) iC2 = 0.90IQ . 11.19 Consider the expanded dc transfer curves shown in Figure 11.6. Determine the maximum differential input voltage such that the actual curve is within (a) 0.5 percent of the ideal linear extrapolation and (b) 1.5 percent of the ideal extrapolation. *D11.20 The diff-amp for the experimental system described in Example 11.4 needs to be redesigned. The range of the output voltage has increased to −2 ≤ VO ≤ 2 V while the differential-mode voltage gain is still Ad = 100. The common-mode input voltage has increased to vC M = 3.5 V. The value of CMRR needs to be increased to 80 dB. *11.21 The transistor parameters for the circuit in Figure P11.9 are: β = 120, VB E(on) = 0.7 V, and VA = ∞. (a) Determine RE such that IE = 0.25 mA. (b) Assume the RB resistance connected to the base of Q2 is zero while the RB resistance connected to the base of Q1 remains at 0.5 k. (i) Determine the differential-mode voltage gain for a one-sided output at vO2. (ii) Determine the common-mode voltage gain for a one-sided output at vO2. 11.22 The circuit parameters of the diff-amp shown in Figure 11.2 are V + = 3 V, V − = −3 V, and IQ = 0.25 mA. Base currents are negligible and VA = ∞ for each transistor. (a) Design the circuit such that a differential-mode output voltage of vo = vC1 − vC2 = 1.2 V is produced when a differential-mode input voltage of vd = v1 − v2 = 16 mV is applied. (b) What is the maximum possible common-mode input voltage that can be applied such that the input transistors remain biased in the forward-active mode? (c) For a one-sided output, what is the value of CMRRdB if the output resistance of the current source is Ro = 4 M? *11.23 Consider the circuit in Figure P11.23. Assume the Early voltage of Q1 and Q2 is VA = ∞, and assume the current source IQ is ideal. Derive the nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 831 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 831 V + + V + = +10 V V RR RR CC C RC C RL v v O O v 1 vO2 ORB = 1 kΩ RB = 1 kΩ v1 Q1 Q v v Q Q v R Q Q 2 2 1 1 2 2 L 1 2 + v v + – 1 2 – IQ IQ IQ = 0.2 mA V – V – V – = –10 V Figure P11.23 Figure P11.24 Figure P11.26 expressions for the one-sided differential-mode gain Av1 = vo1/vd and Av2 = vo2/vd , and for the two-sided differential-mode gain Ad = (vo2 − vo1)/vd . 11.24 The Early voltage of transistors Q1 and Q2 in the circuit in Figure P11.24 is VA = ∞. Assuming an ideal current source IQ, derive the expression for the differential-mode gain Ad = vo/vd . *11.25 Consider the small-signal equivalent circuit of the differential-pair configuration shown in Figure 11.9. Derive the expressions for the differential- and common-mode voltage gains if the output is a two-sided output defined as Vo = Vc2 − Vc1. *D11.26 Consider a BJT diff-amp with the configuration in Figure P11.26. The signal sources have nonzero source resistances as shown. The transistor parameters are: β = 150, VB E(on) = 0.7 V, and VA = ∞. The range of the common-mode input voltage is to be −3 ≤ vC M ≤ 3 V and the CMRR is to be 75 dB. (a) Design the diff-amp to produce the maximum possible differential-mode voltage gain. (b) Design the current source to produce the desired bias current and CMRR. 11.27 The bridge circuit in Figure P11.27 is a temperature transducer in which the V + = 5 V resistor RA is a thermistor (a resistor whose resistance varies with temperature). The value of δ varies over the range of −0.01 ≤ δ ≤ 0.01 as tem- RR perature varies over a particular range. Assume the value of R = 40 k. The bridge circuit is to be connected to the diff-amp in Figure 11.2. The AB diff-amp circuit parameters are V + = 5 V, V − = −5 V, IQ = 0.2 mA, and RA = RC = 15 k. The transistor parameters are β = 120, V RB E(on) = 0.7 V, R(1 + d ) and VA = ∞. Terminal A of the bridge circuit is connected to the base of Q1 and terminal Bis connected to the base of Q2. Determine the range of output voltage vO2 as δ changes. [Hint: Make a Thevenin equivalent cir- Figure P11.27 cuit at terminals A and B of the bridge circuit.] 11.28 A diff-amp is biased with a constant-current source IQ = 0.25 mA that has an output resistance of Ro = 8 M. The bipolar transistor parameters are β = 120 and VA = ∞. Determine (a) the differential-mode input resistance and (b) the common-mode input resistance. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 832 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 832 Part 2 Analog Electronics 11.29 The transistor parameters for the circuit shown in Figure P11.29 are β = 180, VB E(on) = 0.7 V (except for Q4), VA = ∞ for Q1 and Q2, and VA = 100 V for Q3 and Q4. (a) Determine R1 and R2 such that I1 = 0.5 mA and IQ = 140 μA. (b) Determine the common-mode input resistance. (c) For RC = 40 k, determine the common-mode voltage gain. +10 V +10 V RR RR RC RC IR 1 1 2 2 1 1 vo3 v1 Q1 Q2 v2 Q v 3 Q4 o1 IQ vo2 – vout1 + Q4 Q3 v1 Q1 Q v 2 2 R2 IQ1 IQ2 –10 V –10 V –10 V Figure P11.29 Figure P11.30 D11.30 Figure P11.30 shows a two-stage cascade diff-amp with resistive loads. Power supply voltages of ±10 V are available. Assume transistor parameters of: β = 100, VB E(on) = 0.7 V, and VA = ∞. Design the circuit such that the two-sided differential-mode voltage gain is Ad1 = (vo2 − vo1)/ (v1 − v2) = 20 for the first stage, and that the one-sided differential-mode voltage gain is Ad2 = vo3/(vo2 − vo1) = 30 for the second stage. The circuit is to be designed such that the maximum differential-mode voltage swing is obtained in each stage. Section 11.3 Basic FET Differential Pair 11.31 For the differential amplifier in Figure P11.31 the parameters are R1 = 50 k and RD = 24 k. The transistor parameters are: Kn = 0.25 mA/V2, λ = 0, and VT N = 2 V. (a) Determine I1, IQ, ID1, VDS1, and VDS4 when v1 = v2 = 0. (b) Draw the dc load line and plot the Q-point for transistor M2. (c) What are the maximum and minimum values of the common-mode input voltage? 11.32 The bias voltages in the diff-amp shown in Figure P11.31 are changed to V + = 3 V and V − = −3 V. The transistor parameters are Kn1 = Kn2 = 100 μA/V2, K = K = 200 μA/V2 −1 n3 n4 , λ1 = λ2 = 0, λ3 = λ4 = 0.01 V and VT N = 0.3 V (all transistors). (a) Design the circuit such that VDS1 = VDS2 = 4 V and ID1 = ID2 = 60 μA when v1 = v2 = −1.15 V. (i) What are the values of IQ and I1? (ii) What are the values of RD and R1? (iii) What are the values of VGS1 and VGS4? (b) Calculate the change in IQ if v1 = v2 = +1.15 V. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 833 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 833 V + = 10 V V + = 10 V ID R 1 DI IR IR DR 2 DI R 1 1 D1 DD2 D vO2 v1 M1 M2 v2 v1 M1 M2 v2 IQ M4 M3 IQ V – = –10 V V – = –10 V Figure P11.31 Figure P11.33 11.33 The transistor parameters for the differential amplifier shown in Figure P11.33 are VT N = 0.5 V, k ′ n = 80 μA/V2, W/L = 4, and λ = 0. (a) Find RD and IQ such that ID1 = ID2 = 80 μA and vO2 = 2 V when v1 = v2 = 0. (b) Draw the dc load line, and plot the Q-point for M2. (c) What is the maximum common-mode input voltage? 11.34 The diff-amp in/ Figure P11.34 has parameters V + = 3 V, V − = −3 V, and IQ = 0.18 mA. The transistor parameters are V ′ TN = 0.35 V, kn = 100 μA/V2, W L = 4, and λ = 0. (a) Using Figure P11.34(a), determine RD such that the maximum value of the common-mode input voltage is vcm (max) = 2.25 V. The input transistors M1 and M2 must remain biased in the saturation region. (b) Using Figure P11.34(b), determine the value of vD2 for (i) vd = 0, (ii) vd = +120 mV, and (iii) vd = −50 mV. 11.35 The bias voltages of the diff-amp shown in Figure P11.35 are V + = 5 V and V − = −5 V. The threshold voltage of each transistor is VT N = 0.4 V and V + V + V+ RD RD RD RD ID1 RD I 1 D2 RD2 I1 R1 vD2 vD2 vO1 vO2 vcm M1 M2 M1 M v 2 1 M1 M2 v2 vd v + – d 2 2 IQ IQ IQ M4 M3 V – V – (a) (b) V– Figure P11.34 Figure P11.35 nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 834 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 834 Part 2 Analog Electronics assume λ = 0. Let Kn3 = Kn4 = 0.20 mA/V2. The drain currents can be written as ID1 = Kn1 (VGS1 − V )2 TN and ID2 = Kn2 (VGS2 − V 2 TN ) . (a) Design the circuit such that IQ = 0.25 mA when v1 = v2 = 0. (b) If v1 = v2 = 0 and K 2 n1 = Kn2 = 0.120 mA/V , find vO1 − vO2 when (i) RD1 = RD2 = 15 k and (ii) RD1 = 14.5 k, RD2 = 15.5 k. (c) Repeat part (b) for Kn1 = 0.125 mA/V2 and Kn2 = 0.115 mA/V2. 11.36 The circuit parameters of the diff-amp shown in Figure 11.19 are V + = 3 V, V − = −3 V, and IQ = 0.15 mA. The transistor parameters are Kn = 0.2 mA/V2, VT N = 0.4 V, and λ = 0. Determine the value of vd = vG1 − vG2 that produces (a) iD1 = 0.2IQ , (b) iD2 = 0.8IQ , and (c) iD1 = IQ . 11.37 Consider the normalized dc transfer characteristics of a MOSFET diff-amp shown in Figure 11.21. Assume that Kn = 0.20 mA/V2 and IQ = 0.10 mA. Determine the maximum differential input voltage such that the actual curve of iD1/IQ is within (a) 0.5 percent of the ideal linear extrapolation and (b) 1.5 percent of the ideal linear extrapolation. 11.38 The parameters of the diff-amp circuit shown in Figure P11.38 are V + = 9 V, V − = −9 V, RD = 510 k, and RS = 390 k. The transistor parameters are VT P = −0.8 V, Kp = 50 μA/V2, and λ = 0. Determine vD1 and vD2 for (a) v1 = v2 = 1 V and (b) v1 = 1.050 V, v2 = 0.950 V. V + V + IS RS IQ v1 M1 M v v v 2 2 1 M1 M2 2 vD1 vD2 vD1 vD2 RD RD RD RD V – V – Figure P11.38 Figure P11.39 11.39 Consider the circuit shown in Figure P11.39. The circuit and transistor parameters are V + = +3 V, V − = −3 V, RD = 360 k, IQ = 12 μA, VT P = −0.4 V, Kp = 30 μA/V2, and λ = 0. The output resistance of the current source is Ro = 4 M. (a) Determine the Q-points of the transistors for v1 = v2 = 0. (b) Determine the differential- and common-mode voltage gains for (i) vO = vD1 − vD2 and (ii) vO = vD2. 11.40 The circuit and transistor parameters for the circuit shown in Figure P11.39 are V + = 5 V, V − = −5 V, IQ = 0.15 mA, RD = 30 k, VT P = −0.5 V, Kp = 0.12 mA/V2, and λ = 0. The output resistance of the current source is Ro = 4 M. (a) Determine vD1 − vD2 for (i) v1 = +0.05 V, v2 = −0.05 V and (ii) v1 = +0.10 V, v2 = −0.10 V. (b) Determine the change in vD2 as the inputs change (i) from v1 = v2 = 0 to v1 = 0.10 V and v2 = −0.10 V, and (ii) from v1 = v2 = 0 to v1 = 1.10 V and v2 = 0.90 V. nea80644_ch11_753-850.qxd 6/19/09 4:37 AM Page 835 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 835 V + V + V + = 5 V RS = ΔR ΔR 2 kΩ RD + RD – RD RD 2 2 vD1 vD2 vD1 vD2 v1 M v 1 M2 2 v1 M v 1 M2 v2 1 M1 M2 v2 vD1 vD2 gm1 = g = Δ m2 Δ RD = RD = g g gm gm Rm + m – 1 kΩ 1 kΩ S 2 RS 2 V – V – V – = –5 V Figure P11.41 Figure P11.42 Figure P11.43 11.41 Consider the differential amplifier shown in Figure P11.41 with mismatched drain resistors. The circuit and transistor parameters are V + = +10 V, V − = −10 V, RD = 50 k, RS = 75 k, VT N = 1 V, Kn = 0.15 mA/V2, and λ = 0. Determine Ad, Acm, and CMRR|dB for R = 500  and for vO = vD1 − vD2. Assume v1 = v2 = 0 in the quiescent condition. 11.42 Consider the differential amplifier shown in Figure P11.42 with mismatched transistors. The mismatched transistors result in mismatched transconductances as shown. The circuit and transistor parameters are V + = +10 V, V − = −10 V, RD = 50 k, RS = 75 k, VT N = 1 V, K = 0.15 mA/V2 n , and λ = 0. Determine Ad, Acm, and CMRR|dB for gm/gm = 0.01 and for vO = vD1 − vD2. Assume v1 = v2 = 0 in the quiescent condition. 11.43 Consider the circuit in Figure P11.43. The transistor parameters are Kp = 1.2 mA/V2, VT P = −0.6 V, and λ = 0. Determine vS , vD1, and vD2 for (a) v1 = v2 = 0; (b) v1 = v2 = 1 V; (c) v1 = −0.1 V, v2 = 0.1 V; and (d) v1 = 0.9 V, v2 = 1.1 V. D11.44 (a) Design the circuit shown in Figure P11.44 such that vO = vD1 − vD2 = 1 V when v1 = −50 mV and v2 = +50 mV. The transistor parameters are VT N = 0.8 V, K = 0.4 mA/V2 n , and λ = 0. (b) Using the results of part (a), determine the maximum common-mode input voltage. *D11.45 The Hall effect experimental arrangement was described in Example 11.4. The required diff-amp is to be designed in the circuit configuration in Figure P11.35. The transistor parameters are VT N = 0.8 V, k ′ = 80 μA/V2 n , λ1 = λ2 = 0, and λ3 = λ4 = 0.01 V−1. If the CMRR requirement cannot be met, a more sophisticated current source may have to be designed. *11.46 Consider the diff-amp in Figure P11.46. The transistor parameters are: K 2 −1 n1 = Kn2 = 50 μA/V , λ1 = λ2 = 0.02 V , and VT N1 = VT N2 = 1 V. (a) Determine IS , ID1, ID2, and vO2 for v1 = v2 = 0. (b) Using the small- signal equivalent circuit, determine the differential-mode voltage gain Ad = vo2/vd , the common-mode voltage gain Acm = vo2/vcm , and the CMRRdB. nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 836 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 836 Part 2 Analog Electronics V + V + = 5 V = 10 V RR RD = 25 kΩ ID1 ID2 RD = 25 kΩ DD vO2 vD1 vD2 v1 M v MM v 1 M2 v2 1 1 2 2 IQ = IS RS = 20 kΩ 2 mA V – V – = –10 V = –5 V Figure P11.44 Figure P11.46 11.47 Consider the circuit shown in Figure P11.47. Assume that λ = 0 for M1 and M2. Also assume an ideal current source IQ. Derive the expression for the one-sided differential mode gains Ad1 = vo1/vd and Ad2 = vo2/vd , and the two-sided differential-mode gain Ad = (vo2 − vo1)/vd . V + V + RD RD RD RL vO1 vO2 vO v1 MM v v1 MM v R 1 2 2 1 2 2 LIQ IQ V – V – Figure P11.47 Figure P11.48 11.48 Consider the diff-amp shown in Figure P11.48. Assume λ1 = λ2 = 0 and assume the current source has an output resistance of Ro. (a) Derive the expression for the differential-mode voltage gain Ad = vO/vd where vd = v1 − v2. (b) Derive the expression for the common-mode voltage gain Acm = vO/vcm where vcm = (v1 + v2)/2. 11.49 The bias voltages of the diff-amp circuit shown in Figure 11.19 are V + = 5 V and V − = −5 V, and the bias current is IQ = 0.2 mA. The transistor parameters are VT N = 0.4 V, Kn = 0.15 mA/V2, and λ = 0. (a) Design the circuit such that a differential-mode output voltage of vO = 0.5 V is nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 837 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 837 produced when a differential-mode input voltage of vd = v1 − v2 = 100 mV is applied. (b) Using the results of part (a), determine the maximum possible common-mode input voltage that can be applied such that the transistors remain biased in the saturation region. 11.50 Consider the small-signal equivalent circuit in Figure 11.23. Assume the output is a two-sided output defined as Vo = Vd2 − Vd1, where Vd2 and Vd1 are the signal voltages at the drains of M2 and M1, respectively. Derive expressions for the differential- and common-mode voltage gains. 11.51 Consider the MOSFET diff-amp with the configuration in Figure P11.33. The circuit parameters are V + = 3 V, V − = −3 V, and IQ = 0.2 mA. The transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, W/L = 10, and λ = 0. The range of the common- mode input voltage is to be −1.5 ≤ vcm ≤ +1.5 V, and the common- mode rejection ratio is to be CMRRdB = 50 dB. (a) Design the diff-amp to produce the maximum possible differential-mode voltage gain. (b) Design an all MOSFET current source to produce the desired bias current and CMRR. The minimum W/L ratio of any transistor is to be 0.8, and assume λ = 0.02 V−1 for all transistors in the current source circuit. 11.52 Consider the bridge circuit and diff-amp described in Problem 11.27. The BJT diff-amp is to be replaced with a MOSFET diff-amp as shown in Figure 11.19. The transistor parameters are VT N = 0.4 V, Kn = 1 mA/V2, and λ = 0. The bias voltages of the MOSFET diff-amp are V + = 5 V and V − = −5 V, and the reference current is IQ = 0.2 mA. Let RD = 20 k. Terminal A of the bridge circuit is to be connected to the gate of M1 and terminal Bis to be connected to the gate of M2. (a) Determine the range of output voltage vO as δ changes. (b) Explain the advantages and disadvantages of this circuit configuration compared to that in Problem 11.27. *D11.53 Figure P11.53 shows a two-stage cascade diff-amp with resistive loads. Power supply voltages of ±10 V are available. Assume transistor parameters of VT N = 1 V, k ′ n = 60 μA/V2, and λ = 0. Design the circuit such +10 V R1 R1 R2 R2 vo3 MM v 3 4 o1 vo2 – vout1 + v1 M1 M2 v2 IQ1 IQ2 –10 V –10 V Figure P11.53 nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 838 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 838 Part 2 Analog Electronics that the two-sided differential-mode voltage gain is Ad1 = (vo2 − vo1)/ (v1 − v2) = 20 for the first stage, and that the one-sided differential-mode voltage gain is Ad2 = vo3/(vo2 − vo1) = 30 for the second stage. The circuit is to be designed such that the maximum differential-mode voltage swing is obtained in each stage. *11.54 Figure P11.54 shows a matched JFET differential pair biased with a current source IQ. ((a) Startin)g with 2 iD = IDSS 1 − vGS VP show that ( ) √ ( ) ( ) ( ) i 1 1 II 2 2 D1 = + 2 DSS − vd − DSS vd IQ 2 2VP IQ IQ VP and ( ) √ ( ) ( ) ( ) iD2 = 1 − 1 II 2 2 v − vd 2 DSS − DSS d IQ 2 2VP IQ IQ VP (b) Show that the IQ bias current is switched entirely to one transistor or the other when √ |vd | = |V | IQ P IDSS (c) Show that the max∣∣imum fo(rward t)ra√nsconductance is given by = dig max D1 1 IQ · IDSS f ( ) ∣ = dv ∣ d vd=0 −VP 2 V + = 10 V ID1 RD ID2 RD iD1 iD2 vO Q Q Q 1 Q2 1 2 vG1 v v1 v G2 2 II Q Q – V – V = –10 V Figure P11.54 Figure P11.55 11.55 A JFET differential amplifier is shown in Figure P11.55. The transistor parameters are: VP = −4 V, IDSS = 2 mA, and λ = 0. (a) Find RD and IQ such that ID1 = ID2 = 0.5 mA and vo2 = 7 V when v1 = v2 = 0. nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 839 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 839 (b) Calculate the maximum forward transconductance. (c) Determine the one-sided differential-mode voltage gain Ad = vo/vd . *11.56 Consider the JFET diff-amp shown in Figure P11.56. The transistor parameters are: IDSS = 0.8 mA, λ = 0, and VP = −2 V. (a) Determine IS, ID1, ID2, and vo2 for v1 = v2 = 0. (b) Using the small-signal equivalent circuit, determine the differential-mode voltage gain Ad = vo2/vd , the common-mode voltage gain Acm = vo/vcm , and the CMRRdB. V + V + = 5 V RR = RD RD ID ID = D1 25 kΩ D2 25 kΩ RL vO1 vO2 vO2 Q1 Q2 Q1 Q2 v1 v2 v1 v2 IS RS = 20 kΩ IQ V – = –5 V V – Figure P11.56 Figure P11.57 *11.57 Consider the circuit in Figure P11.57. Assume that λ = 0 for the transistors, and assume an ideal current source IQ. Derive the expressions for the one-sided differential-mode gains Ad1 = vo1/vd and Ad2 = vo2/vd , and for the two-sided differential-mode gain Ad = (vo2 − vo1)/vd . Section 11.4 Differential Amplifier with Active Load 11.58 The circuit parameters for the diff-amp shown in Figure 11.30 are V + = 3.3 V, V − = −3.3 V, and IQ = 0.4 mA. The transistor parameters are β = 120, VA1 = VA2 = 120 V, VA3 = VA4 = 80 V, and VA5 = ∞. (a) Determine the open-circuit differential-mode voltage gain. (b) What is the output resistance of the diff-amp? (c) Find the value of load resistance RL that reduces the differential-mode gain to 75 percent of the open-circuit value. D11.59 Design a differential amplifier with the configuration shown in Figure 11.28 incorporating a basic two-transistor current source to establish IQ. The bias voltages are to be V + = +5 V and V − = −5 V, the bias current is to be IQ = 250 μA, and the available transistors have parameters β = 180, VB E(on) = VE B(on) = 0.7 V, VAN = 150 V, and VAP = 100 V. (a) Show the complete circuit. (b) What is the open-circuit differential-mode voltage gain. (c) Determine the differential-mode input resistance and the output resistance. (d) Determine the common-mode input voltage range. 11.60 The differential amplifier shown in Figure P11.60 has a pair of pnp bipolars as input devices and a pair of npn bipolars connected as an active load. nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 840 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 840 Part 2 Analog Electronics V + IQ v1 Q1 Q2 v2 vO IO RL Q3 Q4 V – Figure P11.60 The circuit bias is IQ = 0.2 mA, and the transistor parameters are β = 100 and VA = 100 V. (a) Determine I0 such that the dc currents in the diff-amp are balanced. (b) Find the open-circuit differential-mode voltage gain. (c) Determine the differential-mode voltage gain if a load resistance RL = 250 k is connected to the output. 11.61 The bias voltages for the diff-amp shown in Figure 11.30 are V + = 5 V and V − = −5 V. A load resistance of RL = 250 k is capacitively coupled to the output. The transistor parameters are β = 120, VA1 = VA2 = 90 V, and VA3 = VA4 = 60 V. (a) Determine the bias current IQ that will produce a differential-mode voltage gain of Ad = 1000. (b) If VE B(on) = 0.6 V, what is the maximum common-mode voltage that can be applied such that all transistors are biased in the forward-active mode? 11.62 Consider the diff-amp shown in Figure P11.62. The circuit parameters are V + = 3 V, V − = −3 V, and IQ = 0.4 mA. The npn transistor parameters are βnpn = 180, VB E(on) = 0.7 V, and VAN = 120 V, and the pnp transistor parameters are βpnp = 120, VE B(on) = 0.7 V, and VAP = 80 V. (a) Sketch the small-signal equivalent circuit for the diff-amp assuming an ideal differential-mode input signal. (b) Determine the one-sided differential-mode gain Ad1 = vO1/vd . (c) Determine the one-sided differential- mode gain Ad2 = vO2/vd . (d) Find the two-sided differential-mode gain Ad3 = (vO2 − vO1)/vd . 11.63 Consider the MOSFET diff-amp shown in Figure P11.63. The bias voltages are V + = 3 V and V − = −3 V. The current source is IQ = 200 μA and has an output resistance of Ro = 2 M. The transistor parameters are VT N = 0.4 V, V = −0.4 V, K = K = 0.5 mA/V2, λ = 0.02 V, V−1 T Pnp 2 , λ4 = 0.03 V−1 and λ1 = λ3 = 0. (a) Determine the voltage gain A = vo/vd for v1 = vd and v2 = 0. (b) Determine the voltage gain A = vo/vd for v1 = 0 and v2 = −vd . (c) Determine the voltage gain A = vo/vd for v1 = vd/2 and v2 = −vd/2. 11.64 The differential amplifier in Figure P11.64 has a pair of PMOS transistors as input devices and a pair of NMOS transistors connected as an active load. The circuit is biased with IQ = 0.2 mA, and the transistor parameters are: Kn = Kp = 0.1 mA/V2, λ = 0.01 V−1 n , λp = 0.015 V−1, nea80644_ch11_753-850.qxd 6/19/09 4:34 PM Page 841 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-11 Folder:MHDQ134-11 Chapter 11 Differential and Multistage Amplifiers 841 V + V + = 10 V V + IQ M3 M4 Q3 Q4 vO v v v1 M1 M2 v O 2 1 O2 v v v1 M1 M v dd 2 2 v1 = Q1 Q2 v = – 2 2 2 vO M3 M4 IQ IQ V – V – V – = –10 V Figure P11.62 Figure P11.63 Figure P11.64 VT N = 1 V, and VT P = −1 V. (a) Determine the quiescent drain-to- source voltage in each transistor. (b) Find the open-circuit differential- mode voltage gain. (c) What is the output resistance? 11.65 The circuit parameters for the diff-amp shown in Figure 11.32 are V + = 1.8 V, V − = −1.8 V, and IQ = 120 μA. The NMOS transistor parameters are V ′ 2 TN = 0.3 V, kn = 100 μA/V , (W/L)n = 8, and λn = 0.025 V−1. The parameters of the PMOS transistors are VT P = −0.3 V, k ′ p = 40 μA/V2, (W/L) = 10, and λ = 0.04 V−1 pp . (a) Determine the small-signal differential-mode voltage gain Ad = vo/vd . (b) What is the maximum common-mode voltage gain that can be applied such that all transistors are still biased in the saturation region? *11.66 Consider the diff-amp with active load in Figure P11.66. The Early voltages are VAN = 120 V for Q1 and Q2 and VAP = 80 V for Q3 and Q4. V + = 10 V R = 1 kΩ R = 1 kΩ Q3 Q4 vO v1 Q1 Q2 v2 IQ = 0.2 mA V – = –10 V Figure P11.66 nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 842 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 842 Part 2 Analog Electronics (a) Determine the open-circuit differential-mode voltage gain. (b) Compare this value to the gain obtained when R = 0. (c) Determine the output resistance Ro for parts (a) and (b). Assume β = 100. [Hint: As a good approximation, use the output resistance results from a Widlar current source.] 11.67 The diff-amp in Figure P11.67 has a three-transistor active load circuit and a Darlington pair configuration connected to the output. Determine the bias current IQ1 in terms of IQ such that the diff-amp dc currents are balanced. V + = 10 V V + R1 = 1 kΩ R1 = 1 kΩ Q QM M 3 4 3 4 Q7 v Q O 5 Q6 IQ1 v1 M1 M2 v2 V – V – v1 Q1 Q2 v2 V – IQ = 0.2 mA IQ V – V – = –10 V Figure P11.67 Figure P11.68 *11.68 Consider the diff-amp in Figure P11.68. The PMOS parameters are: Kp = 80 μA/V2, λp = 0.02 V−1, VT P = −2 V. The NMOS parameters are: K = 80 μA/V2, λ = 0.015 V−1 n n , VT N = +2 V. (a) Determine the open- circuit differential-mode voltage gain. (b) Compare this value to the gain obtained when R1 = 0. (c) What is the output resistance of the diff-amp for parts (a) and (b)? *11.69 Reconsider the circuit in Figure P11.60 except that 1 k resistors are inserted at the emitters of the active load transistors Q3 and Q4 as in the circuit in Figure P11.66. Assume the same transistor parameters as in Problem 11.60. (a) Determine the output resistance looking into the output of the diff-amp circuit. (b) Find the open-circuit differential-mode voltage gain. *11.70 Consider the circuit in Figure P11.70, in which the input transistors to the diff-amp are Darlington pairs. Assume transistor parameters of β(npn) = 120, β(pnp) = 80, VA(npn) = 100 V, and VA(pnp) = 80 V. Let the power supply voltages be ±10 V and let IQ = 1 mA. (a) Determine the output resistance Ro. (b) Calculate the differential-mode voltage gain. (c) Find the differential-mode input resistance Rid. *D11.71 Design a BJT diff-amp with an active load similar to the configuration in Figure P11.70 except that the input devices are to be pnp transistors and nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 843 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 843 V + Q5 Q6 vo v1 v2 Q1 Q2 Q3 Q4 IQ V – Figure P11.70 the active load will have npn transistors. Using the same parameters as in Problem 11.70, determine the small-signal differential-mode voltage gain. D11.72 Reconsider the diff-amp specifications listed in Problem 11.45. Design an all-CMOS diff-amp with the configuration in Figure 11.32 to meet the specifications. The NMOS transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, and λ = 0.025 V−1 n . The parameters of the PMOS transistors are V = −0.4 V, k ′ T Pp = 40 μA/V2, and λp = 0.04 V−1. D11.73 An all-CMOS diff-amp, including the current source circuit, with the configuration in Figure 11.32 is to be designed to have a differential-mode gain of Ad = 240. The bias voltages are V + = 3 V and V − = −3 V. The total power dissipation in the circuit is to be limited to 0.8 mW. Assume the NMOS transistor parameters are VT N = 0.4 V, k ′ n = 100 μA/V2, and λn = 0.02 V−1. Assume PMOS transistor parameters of VT P = −0.4 V, k ′ p = 40 μA/V2, and λp = 0.03 V−1. D11.74 The differential amplifier with the configuration shown in Figure 11.36 is to be designed to achieve a differential-mode voltage gain of Ad = 400. The circuit parameters are to be V + = +5 V, V − = −5 V, and IQ = 200 μA. The available transistors have parameters for the PMOS of VT P = −0.5 V, k ′ p = 40 μA/V2, and λp = 0.02 V−1, and for the NMOS of V = +0.5 V, k ′ TN n = 80 μA/V2, and λ −1 n = 0.015 V . *11.75 Consider the fully cascoded diff-amp in Figure 11.37. Assume I = 80 μA and transistor parameters of: V = 0.8 V, k ′ = 60 μA/V2 QT N n , λn = 0.015 V−1, VT P = −0.8 V, k ′ p = 25 μA/V2, and λp = 0.02 V−1. The transistor width-to-length ratios are W/L = 60/4 for transistors M1–M4, W/L = 40/4 for transistors M5–M6, and W/L = 4/4 for transistors M7–M8. (a) Determine the output resistance of the diff-amp. (b) Calculate the differential-mode voltage gain of the diff-amp. (c) Find the common-mode voltage gain of the diff-amp using a computer simulation. 11.76 Consider the diff-amp that was shown in Figure P11.63. The circuit and transistor parameters are V + = 2.8 V, V − = −2.8 V, IQ = 120 μA, Kn = K = 0.2 mA/V2 p , VT N = +0.3 V, VT P = −0.3 V, and λn = λp = 0.025 V−1. (a) Determine the differential-mode voltage gain. (b) What is nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 844 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 844 Part 2 Analog Electronics the output resistance of the diff-amp? (c) What is the maximum common- mode voltage that maybe applied? 11.77 The diff-amp in Figure P11.63 is biased at IQ = 0.5 mA. The transistor parameters are Kn = Kp = 0.25 mA/V2, VT N = 0.4 V, VT P = −0.4 V, and λ −1 n = λp = 0.02 V . (a) What are the minimum power supply voltages if the common-mode input voltage is to be in the range ±3 V? Assume symmetrical supply voltages. (b) Determine the differential-mode voltage gain. 11.78 The circuit and transistor parameters of the bipolar diff-amp shown in Figure P11.78 are IQ = 200 μA, βnpn = 125, βpnp = 80, VB E(on) = VE B(on) = 0.7 V, VAN = 100 V, and VAP = 60 V. (a) What are the minimum power supply voltages (assume symmetrical supply voltages) if the common-mode input voltage is to be in the range of ±2 V. (b) What is the differential-mode voltage gain? 11.79 Repeat Problem 11.78 if IQ = 120 μA, VAN = 75 V, and VAP = 40 V. All other parameters remain the same. V + Q3 Q4 vO Q1 Q2 v1 v2 IQ V – Figure P11.78 Section 11.5 BiCMOS Circuits 11.80 (a) The Darlington pair circuit in Figure 11.45 has new bias current levels of IBIAS1 = 0.25 mA and IBIAS2 = 0.50 mA. The transistor parameters are Kn = 0.2 mA/V2, VT N = 0.4 V, and λ = 0 for M1; and β = 150, VB E(on) = 0.7 V, and VA = ∞ for Q2. Determine the small-signal parameters for each transistor and find the composite transconductance. (b) Repeat part (a) for bias currents of IBIAS1 = 0.05 mA and IBIAS2 = 0.50 mA. 11.81 Consider the BiCMOS diff-amp in Figure 11.44, biased at IQ = 0.4 mA. The transistor parameters for M1 and M2 are: Kn = 0.2 mA/V2, VT N = 1 V, and λ = 0.01 V−1. The parameters for Q1 and Q2 are: β = 120, VE B(on) = 0.7 V, and VA = 80 V. (a) Determine the differential-mode voltage gain. (b) If the output resistance of the current source is Ro = 500 k, determine the common-mode voltage gain using a computer simulation analysis. nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 845 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 845 V+ IQ +10 V +5 V V+ vo RI o QR IRC = Q o V 20 kΩ Bias1 v v O o CC Ro vi M v 1 o M1 VBias VBias2 v + i – QR Q 2 L 1 + v v Mi QR1 = i 1 1 2.5 V 8 kΩ IQ = 0.2 mA – (a) (b) –10 V Figure P11.82 Figure P11.84 Figure P11.85 11.82 The BiCMOS circuit shown in Figure P11.82 is equivalent to a pnp bipolar transistor with an infinite input impedance. The bias current is IQ = 0.5 mA. The MOS transistor parameters are VT P = −0.5 V, Kp = 0.7 mA/V2, and λ = 0, and the BJT parameters are β = 180, VB E(on) = 0.7 V, and VA = ∞. (a) Sketch the small-signal equivalent circuit. (b) Calculate the small-signal parameters for each transistor. (c) Determine the small-signal voltage gain Av = vo/vi for (i) RL = 10 k and (ii) RL = 100 k. 11.83 The bias current in the BiCMOS circuit shown in Figure P11.82 is IQ = 0.8 mA. The transistor parameters are the same as described in Problem 11.82. (a) Sketch the small-signal equivalent circuit and calculate the small-signal parameters for each transistor. (b) Determine the output resistance as defined in the figure. *11.84 The bias current IQ is 25 μA in each circuit in Figure P11.84. The BJT parameters are β = 100 and VA = 50 V, and the MOSFET parameters are V = 0.8 V, K = 0.25 mA/V2 TN n , and λ = 0.02 V−1. Assume the two amplifying transistors M1 and Q1 are biased in the saturation region and forward-active region, respectively. Determine the small-signal voltage gain Av = vo/vi and the output resistance Ro for each circuit. 11.85 For the circuit shown in Figure P11.85, determine the small-signal voltage gain, Av = vo/vi . Assume transistor parameters of VT N = 1 V, Kn = 0.2 mA/V2, and λ = 0 for M1 and β = 80 and VA = ∞ for Q1. Section 11.6 Gain Stage and Simple Output Stage 11.86 The output stage in the circuit shown in Figure P11.86 is a Darlington pair emitter-follower configuration. Assume β = 120 for all npn transistors and β = 90 for all pnp transistors. Let VA7 = 60 V for Q7, VA11 = 120 V for Q11, and VA = ∞ for all other transistors. Determine the output resistance Ro . *11.87 For the circuit in Figure P11.87, the transistor parameters are β = 100 and VA = ∞. The bias currents in the transistors are indicated on the figure. nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 846 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 846 Part 2 Analog Electronics V + V + V + Q7 V + V + V + Q6 Q9 IQ Q = 50 kΩ 5 kΩ 8 Ro 0.5 mA V – IQ = 0.2 mA v v O O Ri QR 3 o Bias Q11 IC8 = 1 mA R4 = 5 kΩ Q + 1 Q2 IC3 = R3 = 0.2 kΩ vin 1 mA – V – V – Figure P11.86 Figure P11.87 Determine the input resistance Ri, the output resistance Ro, and the small- signal voltage gain Av = vo/vin . 11.88 Consider the circuit in Figure P11.88. The bias currents I1 and I2 are such that a zero dc output voltage is established. The transistor parameters are: Kp = 0.2 mA/V2, Kn = 0.5 mA/V2, VT P = −0.8 V, VT N = +0.8 V, and λn = λp = 0.01 V−1. Determine the small-signal voltage gain Av = vo/vin and the output resistance Ro. + + V = 5 V V = 5 V v IR in M 2 2 1 I1 R1 vO M2 Ro M2 vO I1 R1 = 35 kΩ I2 R v 2 = 5 kΩ in M1 V – – = –5 V V = –5 V Figure P11.88 Figure P11.89 11.89 The bias currents in the circuit shown in Figure P11.89 are I1 = 0.25 mA and I2 = 1.0 mA. The transistor parameters are Kn = 0.5 mA/V2, K 2 −1 p = 1.0 mA/V , VT N = 0.8 V, VT P = −0.8 V, and λn = λp = 0.02 V . (a) Determine the resistor values R1 and R2 such that the dc value of the output voltage is zero. (b) Sketch the small-signal equivalent circuit and find the small-signal transistor parameters. (c) Determine the small-signal voltage gain Av = vo/vin . (d) Determine the output resistance Ro. nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 847 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: Chapter 11 Differential and Multistage Amplifiers 847 Section 11.7 Simplified Op-Amp Circuits *11.90 Consider the multistage bipolar circuit in Figure P11.90, in which dc base currents are negligible. Assume the transistor parameters are β = 120, VB E(on) = 0.7 V, and VA = ∞. The output resistance of the constant current source is Ro = 200 k. (a) For v1 = v2 = −1.5 V, design the circuit such that vO2 = vO = 0, IC Q3 = 0.25 mA, and IC Q4 = 2 mA. (b) Assuming CE acts as a short circuit, determine the differential-mode voltage gains Ad1 = vo2/vd and Ad = vo/vd . (c) Determine the common- mode gains Acm1 = vo2/vd and Acm = vo/vd , and the overall CMRRdB. V + = 5 V V + = 10 V RC RC2 RC2 R ICQ4 RC1 RC1 vO3 R vO4 vO2 Q Q Q Q 3 4 vO1 3 4 vO2 v v Q1 QC O 1 2 v2 E v1 Q1 QR 2 v2 E1 RE2 I = 0.4 mA IQ2 Q = 0.5 mA IQ1 = 0.2 mA V – = –5 V V – = –5 V V – = –5 V V – = –10 V V – = –10 V Figure P11.90 Figure P11.91 *D11.91 The circuit in Figure P11.91 has two bipolar differential amplifiers in cascade, biased with ideal current sources IQ1 and IQ2. Assume the transistor parameters are β = 180 and VA = ∞. (a) Design the circuit such that vo1 = vo2 = 2 V and vO4 = 6 V when v1 = v2 = 0. (b) Determine the differential-mode voltage gains Ad1 = (vo1 − vo2)/vd and Ad = vo4/vd . *11.92 The transistor parameters for the circuit in Figure P11.92 are: β = 200, VB E(on) = 0.7 V, and VA = 80 V. (a) Determine the differential-mode voltage gain Ad = vo3/vd and the common-mode voltage gain Acm = vo3/vcm . (b) Determine the output voltage vo3 if v1 = 2.015 sin ωt V and v2 = 1.985 sin ωt V. Compare this output to the ideal output that would be obtained if Acm = 0. (c) Find the differential-mode and common-mode input resistances. *11.93 For the transistors in the circuit in Figure P11.93, the parameters are: Kn = 0.2 mA/V2, VT N = 2 V, and λ = 0.02 V−1. (a) Determine the differential-mode voltage gain Ad = vo3/vd and the common-mode voltage gain Acm = vo3/vcm . (b) Determine the output voltage vo3 if v1 = 2.15 sin ωt V and v2 = 1.85 sin ωt V. Compare this output to the ideal output that would be obtained if Acm = 0. nea80644_ch11_753-850.qxd 6/19/09 4:34 PM Page 848 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-11 Folder:MHDQ134-11 848 Part 2 Analog Electronics V+ = 12 V V + = 12 VI1 RD2 = 4 kΩ RD = RD = 40 kΩ RC2 40 kΩ vO3 RC = = 4 kΩ 8 kΩ RC = 8 kΩ R = R 1 I 1 = v v M 1 Ω O3 55 kΩ O2 3 12 k vO2 Q3 MM v2 R5 = v 1 2 v1 Q1 Q v 1 6 kΩ 2 2 RE = 3.3 kΩ IQ Q4 QM4 M 5 5 V – = –12 V V – = –12 V Figure P11.92 Figure P11.93 Section 11.8 Diff-Amp Frequency Response 11.94 Consider the differential amplifier in Figure 11.50(a) with parameters IQ = 0.8 mA, RC = 10 k, and RB = 0.5 k. The transistor parameters are β = 150, VB E (on) = 0.7 V, VA = ∞, Cπ = 1.2 pF, and Cμ = 0.2 pF. (a) Determine the low-frequency differential-mode gain Ad = vo2/vd . (b) Find the equivalent Miller capacitance of each transistor. (c) Determine the upper 3 dB frequency. 11.95 The differential amplifier in Figure 11.51(a) has the same circuit and transistor parameters as described in Problem 11.94. The equivalent impedance of the current source is Ro = 10 M and Co = 0.4 pF. (a) Determine the frequency of the zero in the common-mode gain. (b) Find the frequency of the pole in the common-mode gain. 11.96 A BJT diff-amp is biased with a current source IQ = 2 mA, and the circuit parameters are RC = 10 k and RB = 1 k. The transistor parameters are: β = 120, fT = 800 MHz, and Cμ = 1 pF. (a) Determine the upper 3 dB frequency of the differential-mode gain. (b) If the current source impedance parameters are Ro = 10 M and Co = 1 pF, find the frequency of the zero in the common-mode gain. 11.97 Consider the diff-amp in Figure 11.55. The circuit and transistor parameters are the same as in Problem 11.6. For a one-sided output at vo2, determine the differential-mode gain for: (a) RE = 100 , and (b) RE = 250 . COMPUTER SIMULATION PROBLEMS 11.98 Using a computer simulation, verify the results of Example 11.12. 11.99 Using a computer simulation, verify the results of Example 11.13 for the simple op-amp circuit. nea80644_ch11_753-850.qxd 6/19/09 4:34 PM Page 849 pmath DATA-DISK:Desktop Folder:19/6/2009:MHDQ134-11 Folder:MHDQ134-11 Chapter 11 Differential and Multistage Amplifiers 849 11.100 Consider the circuit in Figure P11.100. Use standard transistors. Using a computer simulation, determine the small-signal differential-mode voltage gain and common-mode voltage gain for (a) RL = 10 M and (b) RL = 200 k. V + = 10 V V + = 10 VI Q3 Q4 1 C → ∞ M v 5 R = QM3 M4 1 5 o 20 kΩ IC1 IC2 RC → ∞ L v V – o Q = –10 V 1 Q2 M6 v1 v2 RL I M1 M Q v 2 I 1 v2 1 Q6 Q7 IQ R2 = 2 kΩ M7 M8 V – = –10 V V – = –10 V Figure P11.100 Figure P11.101 11.101 Consider the circuit in Figure P11.101. Use standard transistors. Using a computer simulation, determine the small-signal differential-mode voltage gain and common-mode voltage gain for (a) RL = 10 M and (b) RL = 200 k. DESIGN PROBLEMS [Note: Each design is to be correlated with a computer simulation analysis.] *D11.102 Design a basic BJT diff-amp with an active load and constant current- source biasing. The bias voltages are to be ±3 V and the maximum power dissipation is to be limited to 2 mW. The open-circuit differential-mode voltage gain should be |Ad | = 1800 and the common-mode rejection ratio should be CMRRdB = 75 dB. Specify bias currents, minimum Early voltages, and the minimum output impedance of the current source. Design the current source to achieve the required output impedance. *D11.103 Design a basic MOSFET diff-amp with an active load and constant current-source biasing. The bias voltages are to be ±3 V and the maximum power dissipation is to be limited to 2 mW. The open-circuit differential- mode voltage gain should be |Ad | = 180 and the common-mode rejection ratio should be CMRRdB = 80 dB. Use appropriate transistor parameters. Specify bias currents, minimum λ values, and the minimum output impedance of the current source. Design the current source to achieve the required output impedance. nea80644_ch11_753-850.qxd 6/19/09 4:38 AM Page 850 pmath DATA-DISK:Desktop Folder:18.6.09:MHDQ134-11: 850 Part 2 Analog Electronics *D11.104 Consider the bipolar op-amp configuration in Figure 11.49. The bias voltages are ±10 V, as shown, the current IR7 is to be IR7 = 3 mA, and the maximum dc power dissipation in the circuit is to be l20 mW. The output voltage is to be vo = 0 for v1 = v2 = 0. Design the circuit, using reasonable resistance and current values. What is the overall differential-mode voltage gain? *D11.105 The transistor parameters for the circuit in Figure P11.105 are: Kn = 0.2 mA/V2, VT N = 0.8 V, and λ = 0. The output resistance of the constant-current source is Ro = 100 k. (a) For v1 = v2 = 0, design the circuit such that: vo2 = 2 V, vo3 = 3 V, vo = 0, IDQ3 = 0.25 mA, and IDQ4 = 2 mA. (b) Determine the differential-mode gains Ad1 = vo2/vd and Ad = vo/vd . (c) Determine the common-mode voltage gains Acm1 = vo2/vcm and Acm = vo/vcm , and the overall CMRRdB. V + = 5 VI I DQ RD DQ4 3 R v R O3 M4 vO2 M3 vO v MM v RR 1 1 2 2 S1 S2 V – = –5 V IQ = 0.5 mA V – = –5 V Figure P11.105 nea80644_ch12_851-946.qxd 6/25/09 11:22 AM Page 851 VK TEMPWORK:Desktop Folder:25/06/09pp:MHDQ134-12: Feedback and Stability 12 Previously, we found that the small-signal voltage gain and other characteristics of BJT and MOSFET circuit amplifiers are functions of, for example, the bipolar current gain and the MOSFET conduction parameter. In general, these transistor parameters vary with temperature and have a range of values for a given type of transistor, because of processing and material property tolerances. These parameter variations mean that the Q-point, voltage gain, and other circuit properties can vary from one circuit to another, and can be functions of temperature. Transistor circuit characteristics can be made essentially independent of the individual transistor parameters by using feedback. The feedback process takes a portion of the output signal and returns it to the input to become part of the input excitation. We previously encountered feedback in our study of ideal op-amps and op-amp circuits. For example, resistors are connected between the output and input terminals of an ideal op-amp to form a feedback network. The voltage gain of these ideal circuits is a function only of the ratio of resistors and not of any individual transistor parameters. In this chapter, we formally study feedback and feedback circuits. PREVIEW In this chapter, we will: • Introduce feedback concepts and discuss, in general terms, advantages and disadvantages of using feedback in electronic circuits. • Derive the transfer function of the ideal feedback system and determine a few characteristics of the feedback system. • Analyze the four ideal feedback circuit configurations and determine circuit characteristics including input and output resistances. • Analyze op-amp and discrete transistor circuit examples of voltage feedback amplifiers, current feedback amplifiers, transconductance feedback amplifiers, and transresistance feedback amplifiers. • Derive the loop-gain of ideal and practical feedback circuits. • Determine the stability criteria of feedback circuits. • Consider frequency compensation techniques, methods by which unstable feedback circuits can be stabilized. • As an application, redesign a BJT feedback circuit using MOSFETs. 851 Chapter"
Chapter 12: Feedback and Stability,"12: Feedback and Stability 12 Previously, we found that the small-signal voltage gain and other characteristics of BJT and MOSFET circuit amplifiers are functions of, for example, the bipolar current gain and the MOSFET conduction parameter. In general, these transistor parameters vary with temperature and have a range of values for a given type of transistor, because of processing and material property tolerances. These parameter variations mean that the Q-point, voltage gain, and other circuit properties can vary from one circuit to another, and can be functions of temperature. Transistor circuit characteristics can be made essentially independent of the individual transistor parameters by using feedback. The feedback process takes a portion of the output signal and returns it to the input to become part of the input excitation. We previously encountered feedback in our study of ideal op-amps and op-amp circuits. For example, resistors are connected between the output and input terminals of an ideal op-amp to form a feedback network. The voltage gain of these ideal circuits is a function only of the ratio of resistors and not of any individual transistor parameters. In this chapter, we formally study feedback and feedback circuits. PREVIEW In this chapter, we will: • Introduce feedback concepts and discuss, in general terms, advantages and disadvantages of using feedback in electronic circuits. • Derive the transfer function of the ideal feedback system and determine a few characteristics of the feedback system. • Analyze the four ideal feedback circuit configurations and determine circuit characteristics including input and output resistances. • Analyze op-amp and discrete transistor circuit examples of voltage feedback amplifiers, current feedback amplifiers, transconductance feedback amplifiers, and transresistance feedback amplifiers. • Derive the loop-gain of ideal and practical feedback circuits. • Determine the stability criteria of feedback circuits. • Consider frequency compensation techniques, methods by which unstable feedback circuits can be stabilized. • As an application, redesign a BJT feedback circuit using MOSFETs. 851 Chapter"
Preview,"PREVIEW In this chapter, we will: • Introduce feedback concepts and discuss, in general terms, advantages and disadvantages of using feedback in electronic circuits. • Derive the transfer function of the ideal feedback system and determine a few characteristics of the feedback system. • Analyze the four ideal feedback circuit configurations and determine circuit characteristics including input and output resistances. • Analyze op-amp and discrete transistor circuit examples of voltage feedback amplifiers, current feedback amplifiers, transconductance feedback amplifiers, and transresistance feedback amplifiers. • Derive the loop-gain of ideal and practical feedback circuits. • Determine the stability criteria of feedback circuits. • Consider frequency compensation techniques, methods by which unstable feedback circuits can be stabilized. • As an application, redesign a BJT feedback circuit using MOSFETs. 851 Chapter nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 852 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 852 Part 2 Analog Electronics 12.1 INTRODUCTION TO FEEDBACK Objective: • Introduce feedback concepts and discuss, in general terms, a few advantages and disadvantages of using feedback in electronic circuits. Feedback is used in virtually all amplifier systems. Harold Black, an electronics engineer with the Western Electric Company, invented the feedback amplifier in 1928 while searching for methods to stabilize the gain of amplifiers for use in telephone repeaters. In a feedback system, a signal that is proportional to the output is fed back to the input and combined with the input signal to produce a desired system response. As we will see, external feedback is used deliberately to achieve particular system benefits. However, feedback maybe unintentional and an undesired system response maybe produced. We have already seen examples of feedback in previous chapters, although the term feedback may not have been used. For example, in Chapters 3 and 5 we introduced resistors at the emitter of BJT common-emitter circuits and at the source of MOSFET common-source circuits to stabilize the Q-point against variations in transistor parameters. This technique introduces negative feedback in the circuit. An increase in collector or drain current produces an increase in the voltage across these resistors which produces a decrease in the base-emitter or gate-source voltage. The decrease in these device voltages tends to reduce or oppose the change in collector or drain current. Opposition to change is suggested by use of the term negative feedback. Feedback can be either negative or positive. In negative feedback, a portion of the output signal is subtracted from the input signal; in positive feedback, a portion of the output signal is added to the input signal. Negative feedback, for example, tends to maintain a constant value of amplifier voltage gain against variations in transistor parameters, supply voltages, and temperature. Positive feedback is used in the design of oscillators and in a number of other applications. In this chapter, we will concentrate on negative feedback. 12.1.1 Advantages and Disadvantages of Negative Feedback Before we actually get into the analysis and design of feedback circuits, we will list some of the advantages and disadvantages of negative feedback. Although these characteristics and properties of negative feedback are not obvious at this point, they are listed here so that the reader can anticipate these results during the derivations and analysis. Advantages 1. Gain sensitivity. Variations in the circuit transfer function (gain) as a result of changes in transistor parameters are reduced by feedback. This reduction insensitivity is one of the most attractive features of negative feedback. 2. Bandwidth extension. The bandwidth of a circuit that incorporates negative feedback is larger than that of the basic amplifier."
12.1 Introduction to Feedback,"12.1 INTRODUCTION TO FEEDBACK Objective: • Introduce feedback concepts and discuss, in general terms, a few advantages and disadvantages of using feedback in electronic circuits. Feedback is used in virtually all amplifier systems. Harold Black, an electronics engineer with the Western Electric Company, invented the feedback amplifier in 1928 while searching for methods to stabilize the gain of amplifiers for use in telephone repeaters. In a feedback system, a signal that is proportional to the output is fed back to the input and combined with the input signal to produce a desired system response. As we will see, external feedback is used deliberately to achieve particular system benefits. However, feedback maybe unintentional and an undesired system response maybe produced. We have already seen examples of feedback in previous chapters, although the term feedback may not have been used. For example, in Chapters 3 and 5 we introduced resistors at the emitter of BJT common-emitter circuits and at the source of MOSFET common-source circuits to stabilize the Q-point against variations in transistor parameters. This technique introduces negative feedback in the circuit. An increase in collector or drain current produces an increase in the voltage across these resistors which produces a decrease in the base-emitter or gate-source voltage. The decrease in these device voltages tends to reduce or oppose the change in collector or drain current. Opposition to change is suggested by use of the term negative feedback. Feedback can be either negative or positive. In negative feedback, a portion of the output signal is subtracted from the input signal; in positive feedback, a portion of the output signal is added to the input signal. Negative feedback, for example, tends to maintain a constant value of amplifier voltage gain against variations in transistor parameters, supply voltages, and temperature. Positive feedback is used in the design of oscillators and in a number of other applications. In this chapter, we will concentrate on negative feedback. 12.1.1 Advantages and Disadvantages of Negative Feedback Before we actually get into the analysis and design of feedback circuits, we will list some of the advantages and disadvantages of negative feedback. Although these characteristics and properties of negative feedback are not obvious at this point, they are listed here so that the reader can anticipate these results during the derivations and analysis. Advantages 1. Gain sensitivity. Variations in the circuit transfer function (gain) as a result of changes in transistor parameters are reduced by feedback. This reduction insensitivity is one of the most attractive features of negative feedback. 2. Bandwidth extension. The bandwidth of a circuit that incorporates negative feedback is larger than that of the basic amplifier. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 853 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 853 3. Noise sensitivity. Negative feedback may increase the signal-to-noise ratio if noise is generated within the feedback loop. 4. Reduction of nonlinear distortion. Since transistors have nonlinear characteristics, distortion may appear in the output signals, especially at large signal levels. Negative feedback reduces this distortion. 5. Control of impedance levels. The input and output impedances can be increased or decreased with the proper type of negative feedback circuit. Disadvantages 1. Circuit gain. The overall amplifier gain, with negative feedback, is reduced compared to the basic amplifier used in the circuit. 2. Stability. There is a possibility that the feedback circuit may become unstable (oscillate) at high frequencies. These advantages and disadvantages will be further discussed as we develop the feedback theory. In the course of our discussion, we will analyze several feedback circuits, in both discrete and op-amp circuit configurations. First, however, we will consider the ideal feedback theory and derive the general characteristics of feedback amplifiers. In this section, we discuss the ideal signal gain, gain sensitivity, bandwidth extension, noise sensitivity, and reduction of nonlinear distortion of a generalized feedback amplifier. 12.1.2 Use of Computer Simulation Conventional methods of analysis that have been used in the previous chapters apply directly to feedback circuits. That is, the same dc analysis techniques and the same small-signal transistor equivalent circuits apply directly to feedback circuits in this chapter. However, in the analysis of feedback circuits, several simultaneous equations can be obtained, the time involved maybe quite long and the probability of introducing errors may become almost certain. Therefore, computer simulation of feedback circuits may prove to be very useful and is used fairly often throughout this chapter. As always, a word of warning is in order concerning computer simulation. Computer simulation does not replace basic understanding. It is important for the reader to understand the concepts and characteristics of the basic types of feedback circuits. Computer simulation is used only as a tool for obtaining specific results. 12.2 BASIC FEEDBACK CONCEPTS Objective: • Analyze and obtain the transfer function of the ideal feedback system, and determine a few characteristics (advantages) of the feedback system. Figure 12.1 shows the basic configuration of a feedback amplifier. In the diagram, the various signals Scan be either currents or voltages. The circuit contains a basic amplifier with an open-loop gain A and a feedback circuit that samples the output"
12.2 Basic Feedback Concepts,"12.2 BASIC FEEDBACK CONCEPTS Objective: • Analyze and obtain the transfer function of the ideal feedback system, and determine a few characteristics (advantages) of the feedback system. Figure 12.1 shows the basic configuration of a feedback amplifier. In the diagram, the various signals Scan be either currents or voltages. The circuit contains a basic amplifier with an open-loop gain A and a feedback circuit that samples the output nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 854 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 854 Part 2 Analog Electronics Si + Sε So Source Σ A Load – Sfb b Figure 12.1 Basic configuration of a feedback amplifier signal and produces a feedback signal Sf b . The feedback signal is subtracted from the input source signal, which produces an error signal Sε . The error signal is the input to the basic amplifier and is the signal that is amplified to produce the output signal. The subtraction property produces the negative feedback. Implicit in the diagram in Figure 12.1 is the assumption that the input signal is transmitted through the amplifier only, none through the feedback network, and that the output signal is transmitted back through the feedback network only, none through the amplifier. Also, there are no loading effects in the ideal feedback system. The feedback network does not load down the output of the basic amplifier, and the basic amplifier and feedback network do not produce a loading effect on the input signal source. In actual feedback circuits, these assumptions and conditions are not entirely accurate. We will see later how nonideal conditions change the characteristics of actual feedback circuits with respect to those of the ideal feedback network. 12.2.1 Ideal Closed-Loop Signal Gain From Figure 12.1, the output signal is So = ASε (12.1) where A is the amplification factor, and the feedback signal is Sf b = βSo (12.2) where β in this case is the feedback transfer function.1 At the summing node, we have Sε = Si − Sf b (12.3) where Si is the input signal. Equation (12.1) then becomes So = A(Si − βSo) = ASi − β ASo (12.4) Equation (12.4) can be rearranged to yield the closed-loop transfer function, or gain, which is = So = A Af + (12.5) Si (1 β A) As mentioned, signals Si, So, Sf b , and Sε can be either currents or voltages; however, they do not need to be all voltages or all currents in a given feedback amplifier. 1In this chapter, β is the feedback transfer function, rather than the transistor current gain. The parameter hF E will be used as the transistor current gain. Normally, hF E indicates the dc current gain and hf e indicates the ac current gain. However, as usual, we neglect any difference between the two parameters and assume hF E = hf e . nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 855 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 855 In other words, there maybe a combination of current and voltage signals in the same circuit. Equation (12.5) can be written A A Af = + = + (12.6) (1 β A) 1 T where T = β A is the loop gain. For negative feedback, we assume T to be a positive real factor. We will see later that the loop gain can become a complex function of frequency, but for the moment, we will assume that T is positive for negative feedback. We will also see that in some cases the gain will be negative (180 degree phase difference between input and output signals) which means that the feedback transfer function β will also be a negative quantity for a negative feedback circuit. Combining Equations (12.1) and (12.2), we obtain the loop gain relationship T = Aβ = Sf b (12.7) Sε Normally, the error signal is small, so the expected loop gain is large. If the loop gain is large so that β A  1, then, from Equation (12.6), we have =∼ A = 1 Af (12.8) β A β and the gain or transfer function of the feedback amplifier essentially becomes a function of the feedback network only. The feedback circuit is usually composed of passive elements, which means that the feedback amplifier gain is almost completely independent of the basic amplifier properties, including individual transistor parameters. Since the feedback amplifier gain is a function of the feedback elements only, the closed-loop gain can be designed to be a given value. This property was demonstrated in Chapter 9, where we showed that the closed-loop gain of ideal op-amp circuits is a function of the feedback elements only. The individual transistor parameters may vary widely, and may depend on temperature and frequency, but the feedback amplifier gain is constant. The net results of negative feedback is stability in the amplifier characteristics. In general, the magnitude and phase of the loop gain are functions of frequency, and they become important when we discuss the stability of feedback circuits. EXAMPLE 12.1 Objective: Calculate the feedback transfer function β , given A and Af. Case A. Assume that the open-loop gain of a system is A = 105 and the closed-loop gain is Af = 50. Solution: From Equation (12.5), the closed-loop gain is A 105 Af = (1 + or 50 = β A) 1 + β(105) which yields β = 0.01999 or 1/β = 50.025. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 856 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 856 Part 2 Analog Electronics Case B. Now assume that the open-loop gain is A = −105 and the close-loop gain is Af = −50. Solution: Again, from Equation (12.5), the closed-loop gain is 5 Af = A −10 + or −50 = (1 β A) 1 + β(−105) which yields β = −0.01999 or 1/β = −50.025. Comment: From these typical parameter values, we see that Af =∼ 1/β , as Equation (12.8) predicts. We also see that if the open-loop gain A is negative, then the closed-loop gain Af and feedback transfer function β will also be negative for a negative feedback network. EXERCISE PROBLEM Ex 12.1: (a) The open-loop gain of an amplifier is A = 5 × 104 and the closed-loop gain is Af = 50. (i) What is the feedback transfer function? (ii) What is the ratio of Af to 1/β? (b) Repeat part (a) for A = 100 and Af = 20. (Ans. (a) (i) 0.01998, (ii) 0.9990; (b) (i) 0.04, (ii) 0.80) Assum(ing a larg)e loop gain, the output signal, from Equation (12.5), becomes = A So + Si =∼ 1 · Si (12.9) 1 β A β Substituting Equation (12.9) i(nto )(12.3), we obtain the error signal, S = SS − S ∼= S − i ε i β oi β = 0 (12.10) β With a large loop gain, the error signal decreases to almost zero. We will see this result again as we consider specific feedback circuits throughout the chapter. 12.2.2 Gain Sensitivity As previously stated, if the loop gain T = β A is very large, the overall gain of the feedback amplifier is essentially a function of the feedback network only. We can quantify this characteristic. If the feedback transfer function β is a constant, then taking the derivative of Af with respect to A, from Equation (12.5), produces d Af = 1 + − A 1 + · β = (12.11(a)) d A (1 β A) (1 β A)2 (1 + β A)2 or d Ad Af = + (12.11(b)) (1 β A)2 Dividing both sides of Equation (12.11(b)) by the closed-loop gain yields d A ( ) d Af = (1 + β A)2 = 1 · d A = Af d A A (12.12) Af (1 + β A) AAA 1 + β A nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 857 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 857 Equation (12.12) shows that the percent change in the closed-loop gain Af is less than the corresponding percent change in the open-loop gain A by the factor (1 + β A). The change in open-loop gain may result from variations in individual transistor parameters in the basic amplifier. EXAMPLE 12.2 Objective: Calculate the percent change in the closed-loop gain Af, given a change in the open-loop gain A. Using the same parameter values as in Example 12.1, we have A = 105, Af = 50, and β = 0.01999. Assume that the change in the open-loop gain is d A = 104 (a 10 percent change). Solution: From Equation (12.12), we have Af d A 50 104 d A −3 f = · = · = 2.5 × 10 (1 + β A) A [1 + (0.01999)(105)] 105 The percent change is then d Af = 2.5 × 10−3 = 5 × 10−5 ⇒ 0.005% Af 50 compared to the 10 percent change assumed in the open-loop gain. Comment: From this example, we see that the resulting percent change in the closed-loop gain is substantially less than the percent change in the open-loop gain. This is one of the principal advantages of negative feedback. EXERCISE PROBLEM Ex 12.2: (a) Consider a general feedback system with parameters A = 5 × 105 and Af = 50. If the magnitude of A decreases by 15 percent, what is the new value of Af and what is the corresponding percent change in Af ? (b) Repeat part (a) if A = 100 and Af = 20. (Ans. (a) Af = 49.99912, −1.76 × 10−3 %; (b) Af = 19.318, −3.41%) From Equation (12.12), the change in Af is reduced by the factor (1 + β A) compared to the change in A. The term (1 + β A) is called the desensitivity factor. 12.2.3 Bandwidth Extension The amplifier bandwidth is a function of feedback. Assume the frequency response of the basic amplifier can be characterized by a single pole. We can then write A(s) = Ao s (12.13) 1 + ωH where Ao is the low-frequency or midband gain, and ωH is the upper 3 dB or corner frequency. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 858 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 858 Part 2 Analog Electronics The closed-loop gain of the feedback amplifier can be expressed as A(s) Af (s) = + (12.14) (1 β A(s)) where we assume that the feedback transfer function β is independent of frequency. Substituting Equation (12.13) into Equation (12.14), we can write the closed-loop gain in the form = Ao · 1 Af (s) + (12.15) (1 β As o) 1 + ωH (1 + β Ao) From Equation (12.15), we see that the low-frequency closed-loop gain is smaller than the open-loop gain by a factor of (1 + β Ao), but the closed-loop 3 dB frequency is larger than the open-loop value by a factor of (1 + β Ao). If we multiply the low-frequency open-loop gain Ao by the bandwidth (3 dB frequency) ωH , we obtain AoωH , which is the gain–bandwidth product. The product of the low-frequency closed-loop gain and the closed-loop bandwidth is Ao + [ω (1 + β A )] = A ω (12.16) (1 β AH o o Ho) Equation (12.16) states that the gain-bandwidth product of a feedback amplifier is a constant. That is, for a given circuit, we can increase the gain at the expense of a reduced bandwidth, or we can increase the bandwidth at the expense of a reduced gain. This property is illustrated in Figure 12.2. |Af | Ao Open-loop Ao 1 + bAo Closed-loop wH wH(1 + bAo) w (rad/s) Figure 12.2 Open-loop and closed-loop gain versus frequency, illustrating bandwidth extension EXAMPLE 12.3 Objective: Determine the bandwidth of a feedback amplifier. Consider a feedback amplifier with an open-loop low-frequency gain of Ao = 104, an open-loop bandwidth of ωH = (2π)(100) rad/s, and a closed-loop low-frequency gain of Af (0) = 50. Solution: From Equation (12.15), the low-frequency closed-loop gain is A 104 Af (0) = o (1 + or 50 = β Ao) (1 + β Ao) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 859 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 859 which yields 4 (1 + = 10 β Ao) = 200 50 From Equation (12.15), the closed-loop bandwidth is ω f H = ωH (1 + β Ao) = (2π)(100)(200) = (2π)(20 × 103) Comment: The bandwidth increases from 100 Hz to 20 kHz as the gain decreases from 104 to 50. EXERCISE PROBLEM Ex 12.3: (a) A feedback amplifier has an open-loop low-frequency gain of AO = 5 × 104, an open-loop bandwidth of ωH = (2π)(5) rad/s, and a closed- loop low-frequency gain of Af (0) = 80. Determine (i) β and (ii) the closed-loop bandwidth. (b) Using the results of part (a), if β is reduced by 50 percent, determine the percent change in (i) Af (0) and (ii) ω f H ? (Ans. (a) (i) β = 0.01248, (ii) ω f H = (2π)(3.125 × 103) rad/s; (b) (i) +100%, (ii) −50%) 12.2.4 Noise Sensitivity In any electronic system, unwanted random and extraneous signals maybe present in addition to the desired signal. These random signals are called noise. Electronic noise can be generated within an amplifier, or may enter the amplifier along with the input signal. Negative feedback may reduce the noise level in amplifiers; more accurately, it may increase the signal-to-noise ratio. More precisely, feedback can help reduce the effect of noise generated in an amplifier, but it cannot reduce the effect when the noise is part of the input signal. The input signal-to-noise ratio is defined as (SNR)i = Si = vi (12.17) Ni vn where Si = vi is the input source signal and Ni = vn is the input noise signal. The output signal-to-noise ratio is SA S (SNR = o = Ti i )o (12.18) No AT n Ni where the desired output signal is So = AT i Si and the output noise signal is No = AT n Ni . The parameter ATi is the amplification factor that multiplies the source signal, and the parameter ATn is the amplification factor that multiplies the noise signal. A large signal-to-noise ratio allows the signal to be detected without any loss of information. This is a desirable characteristic. The following example compares the signal and noise amplification factors, which mayor may not be equal. nea80644_ch12_851-946.qxd 6/24/09 10:32 AM Page 860 pmath DATA-DISK:Desktop Folder:24/06/09:MHDQ134-12: 860 Part 2 Analog Electronics EXAMPLE 12.4 Objective: Determine the effect of feedback on the source signal and noise signal levels. Consider the four possible amplifier configurations shown in Figure 12.3. The amplifiers are designed to provide the same output signal voltage. Determine the effect of the noise signal vn . Solution (Figure 12.3(a)): Two open-loop amplifiers are in a cascade configuration, and the noise signal is generated between the two amplifiers. The output voltage is voa = A1 A2vi + A2vn = 100vi + 10vn Therefore, the output signal-to-noise ratio is So = 100vi = S 10 i No 10vn Ni Solution (Figure 12.3(b)): Two open-loop amplifiers are in a cascade configuration, and the noise is part of the input signal. The output voltage is vob = A1 A2vi + A1 A2vn = 100vi + 100vn Therefore, the output signal-to-noise ratio is So = 100vi = Si No 100vn Ni Solution (Figure 12.3(c)): Two amplifiers are in a feedback configuration, and the noise signal is generated between the two amplifiers. The output voltage is voc = A1 A2vε + A2vn and the feedback signal is v f b = βvoc vn vn + + vi A1 = 10 + A2 = 10 voA vi + A1 = 10 A2 = 10 voB (a) (b) vn vn ve + A + ve vi + A1 = 103 + 2 = 10 voC vi + A 3 A = 10 v – – 1 = 10 2 oD vfb vfb b = 0.01 b = 0.01 (c) (d) Figure 12.3 Four amplifier configurations with different input noise sources nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 861 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 861 Then, vε = vi − v f b = vi − βvoc therefore, voc = A1 A2(vi − βvoc) + A2vn or voc = A1 A2 · A2 + v 1 A A i + · vn ∼ + = 100vi + 0.1vn ( β 1 2) (1 β A1 A2) The output signal-to-noise ratio is So = 100vi = S 1000 i No 0.1vn Ni Solution (Figure 12.3(d)): A basic feedback configuration, and the noise is part of the input signal. The output voltage is A1 A2 vod = + (vi + vn) ∼= 100vi + 100v 1 A An ( β 1 2) Therefore, the output signal-to-noise ratio is So = 100vi = Si No 100vn Ni Comment: Comparing the four configurations, we see that Figure 12.3(c) produces the largest output signal-to-noise ratio. This configuration may occur when amplifier A2 is an audio power-amplifier stage, in which large currents can produce excessive noise, and when amplifier A1 corresponds to a low-noise preamplifier, which provides most of the voltage gain. EXERCISE PROBLEM Ex 12.4: (a) Consider the circuit shown in Figure 12.3(a). Assume A1 = 100 and A2 = 10. Determine the output signal-to-noise ratio in terms of the input signal-to-noise ratio. (b) Consider the circuit shown in Figure 12.3(c). Assume A1 = 104, A2 = 10, and β = 0.001. Determine the output signal-to-noise ratio in terms of the input signal-to-noise ratio. (Ans. (a) So/No = 100(Si/Ni ), (b) So/N 4 o = 10 (Si/Ni )) We must emphasize that the increased signal-to-noise ratio due to feedback occurs only in specific situations. As indicated in Figure 12.3(d), when noise is effectively part of the amplifier input signal, the feedback mechanism does not improve the ratio. 12.2.5 Reduction of Nonlinear Distortion Distortion in an output signal is caused by a change in the basic amplifier gain or a change in the slope of the basic amplifier transfer function. The change in gain is a function of the nonlinear properties of bipolar and MOS transistors used in the basic amplifier. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 862 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 862 Part 2 Analog Electronics So So2 A3 = 250 A2 = 500 So1 A1 = 1000 Se1 Se2 Se (error signal) (a) So SA = 250 = 9.71 o2 f 3 1 + (0.099)(250) A = 500 f 2 = 9.90 So 1 + (0.099)(500) 1 A = 1000 f1 = 10.0 1 + (0.099)(1000) Si1 Si2 Si (input signal) (b) Figure 12.4 (a) Basic amplifier (open-loop) transfer characteristics; (b) closed-loop transfer characteristics Assume the basic amplifier, or open-loop, transfer function is as shown in Figure 12.4(a), which shows changes in gain as the input signal amplitude changes. The gain values are shown on the figure. When this amplifier is incorporated in a feedback circuit with a feedback transfer function of β = 0.099, the resulting closed-loop transfer characteristics are shown in Figure 12.4(b). This transfer function also has changes in gain but, whereas the open-loop gain changes by a factor of 2, the closed- loop gain changes by only 1 percent and 2 percent, respectively. A smaller change in gain means less distortion in the output signal of the negative feedback amplifier. Test Your Understanding TYU 12.1 (a) The closed-loop gain of a feedback amplifier is Af = 50 and the feedback transfer function is β = 0.019. Determine the open-loop gain A. (b) If the open-loop gain is A = 5 × 105 and β = 0.019, find the closed-loop gain Af . (Ans. (a) A = 103, (b) Af = 52.63) TYU 12.2 The gain factors in a feedback system are A = 5 × 105 and Af = 100. Parameter Af must not change more than ±0.001 percent because of a change in A. What is the maximum allowable variation in A? (Ans. ±5%) TYU 12.3 In a feedback system, the basic amplifier open-loop low-frequency gain is Ao = 5 × 105 and the open-loop 3 dB frequency is 6 Hz. (a) If the required closed-loop bandwidth is f = 200 kHz, determine the maximum closed-loop low-frequency gain Af (0). (b) If the required closed-loop bandwidth is f = 100 kHz, what is the maximum closed-loop low-frequency gain Af (0)? (Ans. (a) Af (0) = 15, (b) Af (0) = 30) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 863 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 863 12.3 IDEAL FEEDBACK TOPOLOGIES Objective: • Analyze the four ideal feedback circuit configurations and determine circuit characteristics including input and output resistances. There are four basic feedback topologies, based on the parameter to be amplified (voltage or current) and the output parameter (voltage or current). The four feedback circuit categories can be described by the types of connections at the input and output of circuit. The four types of connections are shown in Figure 12.5. The four connections are referred to as: series–shunt (voltage amplifier), shunt–series (current amplifier), series–series (transconductance amplifier), and shunt–shunt (transresistance amplifier). The first term refers to the connection at the amplifier input, and the second term refers to the connection at the output. Also, the type of connection determines which parameter (voltage or current) is sampled at the output and which parameter is amplified. The connections also determine the feedback amplifier characteristics—in particular, the input and output resistances. The resistance parameters become an important circuit property, when, for example, we consider voltage amplifiers versus current amplifiers. RS Av RL Ii RS Ai V + i Io RL bv bi (a) Series–shunt (b) Shunt–series RS + Ag Ii RS Az V R o L – V + i Io RL b z bg (c) Series–series (d) Shunt–shunt Figure 12.5 Basic feedback connections In this section, we will determine the ideal transfer functions and the ideal input and output resistances of each of the four feedback topologies. In later sections, we will compare actual versus ideal feedback circuit characteristics. As a note, the ideal topologies are small-signal equivalent circuits; therefore, phasor notation is used throughout this analysis. 12.3.1 Series–Shunt Configuration The configuration of an ideal series–shunt feedback amplifier is shown in Figure 12.6. The circuit consists of a basic voltage amplifier with an input resistance Ri"
12.3 Ideal Feedback Topologies,"12.3 IDEAL FEEDBACK TOPOLOGIES Objective: • Analyze the four ideal feedback circuit configurations and determine circuit characteristics including input and output resistances. There are four basic feedback topologies, based on the parameter to be amplified (voltage or current) and the output parameter (voltage or current). The four feedback circuit categories can be described by the types of connections at the input and output of circuit. The four types of connections are shown in Figure 12.5. The four connections are referred to as: series–shunt (voltage amplifier), shunt–series (current amplifier), series–series (transconductance amplifier), and shunt–shunt (transresistance amplifier). The first term refers to the connection at the amplifier input, and the second term refers to the connection at the output. Also, the type of connection determines which parameter (voltage or current) is sampled at the output and which parameter is amplified. The connections also determine the feedback amplifier characteristics—in particular, the input and output resistances. The resistance parameters become an important circuit property, when, for example, we consider voltage amplifiers versus current amplifiers. RS Av RL Ii RS Ai V + i Io RL bv bi (a) Series–shunt (b) Shunt–series RS + Ag Ii RS Az V R o L – V + i Io RL b z bg (c) Series–series (d) Shunt–shunt Figure 12.5 Basic feedback connections In this section, we will determine the ideal transfer functions and the ideal input and output resistances of each of the four feedback topologies. In later sections, we will compare actual versus ideal feedback circuit characteristics. As a note, the ideal topologies are small-signal equivalent circuits; therefore, phasor notation is used throughout this analysis. 12.3.1 Series–Shunt Configuration The configuration of an ideal series–shunt feedback amplifier is shown in Figure 12.6. The circuit consists of a basic voltage amplifier with an input resistance Ri nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 864 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 864 Part 2 Analog Electronics Rif Rof RS + IR + i o V + + i – Ve Ri – Vo AvVe – – + + Vf b + V – o bvVo – – Figure 12.6 Ideal series–shunt feedback topology and an open-loop voltage gain Av . The feedback circuit samples the output voltage and produces a feedback voltage Vf b , which is in series with the input signal voltage Vi. In this ideal configuration, the input resistance to the feedback circuit is infinite; therefore, there is no loading effect on the output of the basic amplifier due to the feedback circuit. Voltage Vε is the difference between the input signal voltage and the feedback voltage and is called an error signal. The error signal is amplified in the basic voltage amplifier. We can recognize the series connection on the input and the shunt connection of the output for this configuration. The feedback circuit is a voltage-controlled voltage source and is an ideal voltage amplifier. The feedback circuit samples the output voltage and provides a feedback voltage in series with the source voltage. For example, an increase in the output voltage produces an increase in the feedback voltage, which in turn decreases the error voltage due to the negative feedback. Then, the smaller error voltage is amplified producing a smaller output voltage, which means that the output signal tends to be stabilized. If the output of the feedback network is an open circuit, then the output voltage is Vo = AvVε (12.19) and the feedback voltage is Vf b = βVo = βvVo (12.20) Parameter βv is the voltage feedback transfer function, which is the ratio of the feedback voltage to the output voltage. The notation is similar to the voltage gain Av , which is also the ratio of two voltages. The error voltage, assuming the source resistance RS is negligible, is Vε = Vi − Vf b (12.21) Combining Equations (12.19), (12.20), and (12.21), we find the closed-loop voltage transfer function is = VA o = Av v f + (12.22) Vi (1 βv Av) Equation (12.22) is the closed-loop voltage gain of the feedback amplifier, and it has the same form as the ideal feedback transfer function given by Equation (12.5). nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 865 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 865 The input resistance including feedback is denoted by Ri f . Starting with Equation (12.21), using Equations (12.19) and (12.20), we find that Vi = Vε + Vf b = Vε + βvVo = Vε + βv(AvVε) (12.23(a)) or = V Vi ε + (12.23(b)) (1 βv Av) The input current is Ii = Vε = Vi + (12.24) Ri Ri (1 βv Av) and the input resistance with feedback is then Ri f = Vi = Ri (1 + βv Av) (12.25) Ii Equation (12.25) shows that a series input connection results in an increased input resistance compared to that of the basic voltage amplifier. A large input resistance is a desirable property of a voltage amplifier. This eliminates loading effects on the input signal source. The output resistance of the feedback circuit can be determined from the equivalent circuit in Figure 12.7. The input signal voltage source is set equal to zero (a short circuit), and a test voltage is applied to the output terminals. V Rx of = Ix + Ro Ix V R + AV + e iv e – Vx – + V + fb bvVo = b – vVx – Figure 12.7 Ideal series–shunt feedback configuration for determining output resistance From the circuit, we see that Vε + Vf b = Vε + βvVx = 0 (12.26(a)) or Vε = −βvVx (12.26(b)) The output current is = Vx − AvVε = Vx − Av(−βvVx) = Vx(1 + β A ) Iv v x (12.27) Ro Ro Ro and the output resistance, including feedback, is = Vx = RR o of + (12.28) Ix (1 βv Av) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 866 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 866 Part 2 Analog Electronics Equation (12.28) shows that a shunt output connection results in a decreased output resistance compared to that of the basic voltage amplifier. A small output resistance is a desirable property of a voltage amplifier. This eliminates loading effects on the output signal when an output load is connected. The equivalent circuit of this feedback voltage amplifier is shown in Figure 12.8. RS + Rof + V + + i ′ ′ – Vi Rif – Av fVi Vo RL – – Figure 12.8 Equivalent circuit of the series–shunt feedback circuit or voltage amplifier EXAMPLE 12.5 Objective: Determine the input resistance of a series input connection and the output resistance of a shunt output connection for an ideal feedback voltage amplifier. Consider a series–shunt feedback amplifier in which the open-loop gain is Av = 105 and the closed-loop gain is Av f = 50. Assume the input and output resistances of the basic amplifier are Ri = 10 k and Ro = 20 k, respectively. Solution: The ideal closed-loop voltage transfer function is, from Equation (12.22), Av f = Av (1 + βv Av) or + = Av = 105 (1 β A ) = 2 × 103 v v Av f 50 From Equation (12.25), the input resistance is R 3 if = Ri (1 + βv Av) = (10)(2 × 10 ) k ⇒ 20 M and, from Equation (12.28), the output resistance is R 20 Roof = + = × k ⇒ 10  (1 β 3 v Av) 2 10 Comment: With a series input connection, the input resistance increases drastically, and with a shunt output connection, the output resistance decreases substantially, with negative feedback. These are the desired characteristics of a voltage amplifier. EXERCISE PROBLEM Ex 12.5: An ideal series–shunt feedback amplifier is shown in Figure 12.6. Assume RS is negligibly small. (a) If Vi = 100 mV, Vf b = 99 mV, and Vo = 5 V, determine Av , βv , and Av f , including units. (b) Using the results of part (a), determine Ri f and Rof , for Ri = 5 k and Ro = 4 k. (Ans. (a) Av = 5000 V/V, βv = 0.0198 V/V, Av f = 50 V/V (b) Ri f = 500 k, Rof = 40 ) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 867 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 867 12.3.2 Shunt–Series Configuration The configuration of an ideal shunt–series feedback amplifier is shown in Figure 12.9. The circuit consists of a basic current amplifier with an input resistance Ri and an open-loop current gain Ai. The feedback circuit samples the output current and produces a feedback current If b , which is in shunt with an input signal current Ii. In this ideal configuration, the feedback circuit does not load down the basic amplifier output; therefore, the load current Io is not affected. Rif Rof + Ie Ai Ie I Ii RS Vi R oi Ro – Ifb b iIo Figure 12.9 Ideal shunt–series feedback topology Current Iε is the difference between the input signal current and the feedback current and is the error signal. The error signal is amplified in the basic current amplifier. We can recognize the shunt connection on the input and the series connection on the output for this configuration. This circuit is a current-controlled current source and is an ideal current amplifier. The feedback circuit samples the output current and provides a feedback signal in shunt with the signal current. An increase in output current produces an increase in feedback current, which in turn decreases the error current. The smaller error current is then amplified, producing a smaller output current and stabilizing the output signal. The input source shown is a Norton equivalent circuit; it could be converted to a Thevenin equivalent circuit. If the output is essentially a short circuit, then the output current is Io = Ai Iε (12.29) and the feedback current is If b = β Io = βi Io (12.30) The parameter βi is the feedback current transfer function. The input signal current, assuming RS is large, is Ii = Iε + If b (12.31) Combining Equations (12.29), (12.30), and (12.31) yields the closed-loop current transfer function Ai f = Io = Ai + (12.32) Ii (1 βi Ai ) Equation (12.32) is the closed-loop current gain of the feedback amplifier. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 868 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 868 Part 2 Analog Electronics The form of the equation for the current transfer function of the current amplifier (shunt–series connection) is the same as that for the voltage transfer function of the voltage amplifier (series–shunt connection). We will show that this will be the same for the two feedback connections yet to be discussed. The input resistance of the shunt–series configuration is Ri f . Starting with Equation (12.31), using Equations (12.29) and (12.30), we find that Ii = Iε + If b = Iε + βi Io = Iε + βi (Ai Iε) (12.33(a)) or I Iε = i + (12.33(b)) (1 βi Ai ) The input voltage is IR Vi = IR = ii ε i + (12.34) (1 βi Ai ) The input resistance with feedback is then V R i Ri if = = (12.35) Ii (1 + βi Ai ) Equation (12.35) shows that a shunt input connection decreases the input resistance compared to that of the basic amplifier. A small input resistance is a desirable property of a current amplifier, to avoid loading effects on the input signal current source. The output resistance of the feedback circuit can be determined from the equivalent circuit in Figure 12.10. The input signal current is set equal to zero (an open circuit) and a test current is applied to the output terminals. Since the input signal current source is assumed to be ideal we have RS = ∞. V R = x of Ix + Ii = 0 Ie Ri AiIe Ro Vx Ix – Ifb bi Io = b iI x Figure 12.10 Ideal shunt–series feedback configuration for determining output resistance From the circuit, we see that Iε + If b = Iε + βi Ix = 0 (12.36(a)) or Iε = −βi Ix (12.36(b)) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 869 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 869 The output voltage can be written as Vx = (Ix − Ai Iε)Ro = [Ix − Ai (−βi Ix)]Ro = Ix(1 + βi Ai )Ro (12.37) Therefore, V Rx of = = (1 + βi Ai )Ro (12.38) Ix Equation (12.38) shows that a series output connection increases the output resistance compared to that of the basic amplifier. A large output resistance is a desirable property of a current amplifier, to avoid loading effects on the output signal due to a load connected to the amplifier output. The equivalent circuit of this feedback current amplifier is shown in Figure 12.11. Ii' Io Ii RS Rif Ai f Ii′ Rof RL Figure 12.11 Equivalent circuit of shunt–series feedback circuit, or current amplifier EXAMPLE 12.6 Objective: Determine the input resistance of a shunt input connection and the output resistance of a series output connection, for a feedback current amplifier. Consider a shunt–series feedback amplifier in which the open-loop gain is A 5 i = 10 and the closed-loop gain is Ai f = 50. Assume the input and output resistances of the basic amplifier are Ri = 10 k and Ro = 20 k, respectively. Solution: The ideal closed-loop current transfer function, from Equation (12.32), is A A ii f = (1 + βi Ai ) or A 105 i (1 + β 3 i Ai ) = = = 2 × 10 Ai f 50 From Equation (12.35), the input resistance is RR ii f = = 10 k ⇒ 5  (1 + βi A 3 i ) 2 × 10 and from Equation (12.38), the output resistance is Rof = (1 + βi Ai )Ro = (2 × 103)(20) k ⇒ 40 M Comment: With a shunt input connection, the input resistance decreases drastically, and with a series output connection, the output resistance increases substantially, assuming negative feedback. These are the desired characteristics of a current amplifier. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 870 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 870 Part 2 Analog Electronics EXERCISE PROBLEM Ex 12.6: Consider the ideal shunt–series feedback amplifier in Figure 12.9. Assume that the source resistance is RS = ∞. (a) If Ii = 100 μA, If b = 99 μA, and Io = 5 mA, determine Ai, βi , and Ai f , including units. (b) Using the results of part (a), determine Ri f and Rof , for Ri = 5 k and Ro = 4 k. (Ans. (a) Ai = 5000 A/A, βi = 0.0198 A/A, Ai f = 50 A/A (b) Ri f = 50 , Rof = 400 k) 12.3.3 Series–Series Configuration The configuration of an ideal series–series feedback amplifier is shown in Figure 12.12. The feedback samples a portion of the output current and converts it to a voltage. This feedback circuit can therefore be thought of as a voltage-to-current amplifier. Rif Rof RS + II + i o – Vi Ve Ri AgVe Ro – + V + fb – bzIo – Figure 12.12 Ideal series–series feedback topology The circuit consists of a basic amplifier that converts the error voltage to an output current with again factor Ag and that has an input resistance Ri . The feedback circuit samples the output current and produces a feedback voltage Vf b, which is in series with the input signal voltage Vi. Assuming the output is essentially a short circuit, the output current is Io = AgVε and the feedback voltage is Vf b = βz Io where βz is called a resistance feedback transfer function, with units of resistance. The input signal voltage, neglecting the effect of RS, is Vi = Vε + Vf b Combining these equations, as we have in previous analyses, yields the closed-loop current-to-voltage transfer function, = IA o g f = Ag + (12.39) Vi (1 βz Ag) The units of the transfer function given by Equation (12.39) are amperes/volt, or conductance. We may note that the term βzAg is dimensionless. This particular feedback circuit is therefore called a transconductance amplifier. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 871 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 871 The input and output resistances area function of the specific types of input and output connections, respectively. The input resistance for the series connection is given by Equation (12.25), which shows that with this configuration, the input resistance increases compared to that of the basic amplifier. The output resistance for the series connection is given by Equation (12.38), which shows that with this configuration, the output resistance increases compared to that of the basic amplifier. The equivalent circuit for the series–series feedback amplifier is shown in Figure 12.13. R + S Io V + i ′ – Vi Rif AgfVi′ Rof RL – Figure 12.13 Equivalent circuit of series–series feedback circuit, or transconductance amplifier 12.3.4 Shunt–Shunt Configuration The configuration of the ideal shunt–shunt feedback amplifier is shown in Figure 12.14. The feedback samples a portion of the output voltage and converts it to a current. This feedback circuit can therefore be thought of as a current-to-voltage amplifier. Rif Rof + I Ro + e Ii RSV + i Ri – AzIe Vo – – Ifb bgVo Figure 12.14 Ideal shunt–shunt feedback topology The circuit consists of a basic amplifier that converts the error current to an output voltage with again factor Az and that has an input resistance Ri . The feedback circuit samples the output voltage and produces a feedback current If b , which is in shunt with the input signal current Ii. Assuming the output is essentially an open circuit, the output voltage is Vo = Az Iε and the feedback current is If b = βgVo where βg is the conductance feedback transfer function, with units of conductance. The input signal current, assuming RS is very large, is Ii = Iε + If b nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 872 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 872 Part 2 Analog Electronics Combining these equations yields the closed-loop voltage-to-current transfer function, = Vo = A A z z f (12.40) Ii (1 + βg Az) The units of the transfer function given by Equation (12.40) are volts/ampere, or resistance. We may note that the term βg Az is dimensionless. This particular feedback circuit is therefore referred to as a transresistance amplifier. The input and output resistances are again a function of only the types of input and output connections, respectively. The input resistance is given by Equation (12.35) and the output resistance is given by Equation (12.28). The equivalent circuit for the shunt–shunt feedback amplifier is shown in Figure 12.15. IR + i′ of Ii R + S Rif – AR zf Ii′ Vo L – Figure 12.15 Equivalent circuit of shunt–shunt feedback circuit or, transresistance amplifier 12.3.5 Summary of Results Table 12.1 summarizes the ideal relationships, including the transfer functions, input resistances, and output resistances, obtained in the analysis of the four types of feedback amplifiers. Table 12.1 Summary results of feedback amplifier functions for the ideal feedback circuit Feedback Source Output Transfer Input Output amplifier signal signal function resistance resistance = VA o = Av RR 1 + A o Series–shunt Voltage Voltage v f i ( βv v) (voltage Vi (1 + βv Av) (1 + βv Av) amplifier) = Io = Ai Ri Shunt–series Current Current Ai f + + Ro(1 + β I 1 A 1 A i Ai ) (current i ( βi i ) ( βi i ) amplifier) IA Series–series Voltage Current A = o g f = g Ri (1 + βz Ag) Ro(1 + βz Ag) (transconductance Vi (1 + βz Ag) amplifier) A = Vo = Az Ri Ro Shunt–shunt Current Voltage z f (transresistance Ii (1 + βg Az) (1 + βg Az) (1 + βg Az) amplifier) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 873 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 873 Having analyzed the characteristics of the four ideal feedback topologies, we will next derive the transfer functions and resistance characteristics of op-amp and discrete transistor representations of each type of feedback configuration. We will compare actual results with the ideal results, discussing any deviations from the ideal. Test Your Understanding TYU 12.4 An ideal series–series feedback amplifier is shown in Figure 12.12. Assume RS is negligibly small. If Vi = 100 mV, Vf b = 99 mV, and Io = 5 mA, determine Ag, βz , and Ag f , including units. (Ans. Ag = 5 A/V, βz = 19.8 V/A, Ag f = 50 mA/V) TYU 12.5 Consider the ideal shunt–shunt feedback amplifier in Figure 12.14. Assume that the source resistance is RS = ∞. If Ii = 100 μA, If b = 99 μA, and Vo = 5 V, determine Az, βg , and Az f , including units. (Ans. Az = 5 × 106 V/A, βg = 1.98 × 10−5A/V, Az f = 50 V/mA) 12.4 VOLTAGE (SERIES–SHUNT) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of series–shunt (voltage) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the series–shunt feedback configuration. Since the series–shunt circuit is a voltage amplifier, we will derive the transfer function relating the output signal voltage to the input signal voltage. For the ideal configuration, this function is shown in Equation (12.22) and is A Av v f = (1 + βv Av) where Avis the basic amplifier voltage gain and βv is the voltage feedback transfer function. We found that, in this feedback configuration, the input resistance increases and the output resistance decreases compared to the basic amplifier values. 12.4.1 Op-Amp Circuit Representation Vi + + V Vo e – – Figure 12.16 shows a noninverting op-amp circuit, which is an example of the series–shunt configuration. The input signal is the input voltage Vi, the feedback + R2 voltage is Vf b , and the error signal is the voltage Vε . Since the shunt output samples Vfb R1 the output voltage, the feedback voltage is a function of the output voltage. – In the ideal feedback circuit, the amplification factor Avis very large; from Equation (12.22), the transfer function is then Figure 12.16 Example of V 1 A = o =∼ (12.41) an op-amp series–shunt v f Vi βv feedback circuit"
12.4 Voltage (Series–Shunt) Amplifiers,"12.4 VOLTAGE (SERIES–SHUNT) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of series–shunt (voltage) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the series–shunt feedback configuration. Since the series–shunt circuit is a voltage amplifier, we will derive the transfer function relating the output signal voltage to the input signal voltage. For the ideal configuration, this function is shown in Equation (12.22) and is A Av v f = (1 + βv Av) where Avis the basic amplifier voltage gain and βv is the voltage feedback transfer function. We found that, in this feedback configuration, the input resistance increases and the output resistance decreases compared to the basic amplifier values. 12.4.1 Op-Amp Circuit Representation Vi + + V Vo e – – Figure 12.16 shows a noninverting op-amp circuit, which is an example of the series–shunt configuration. The input signal is the input voltage Vi, the feedback + R2 voltage is Vf b , and the error signal is the voltage Vε . Since the shunt output samples Vfb R1 the output voltage, the feedback voltage is a function of the output voltage. – In the ideal feedback circuit, the amplification factor Avis very large; from Equation (12.22), the transfer function is then Figure 12.16 Example of V 1 A = o =∼ (12.41) an op-amp series–shunt v f Vi βv feedback circuit nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 874 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 874 Part 2 Analog Electronics Rif Rof Vi V + + o I Ro i + Ve Ri – AvVe – – + R2 Vfb R1 – Figure 12.17 Equivalent circuit, op-amp series–shunt feedback configuration For the ideal nonin(verting o)p-amp amplifier, we found in Chapter 9 that = VA o v f = 1 + R2 (12.42) Vi R1 Therefore, the feedback transfer function βv is βv = ( 1 ) (12.43) R 1 + 2 R1 We can take a finite amplifier gain into account by considering the equivalent circuit in Figure 12.17. The parameter Avis the open-loop voltage gain of the basic amplifier. We can write, for Ro ≈ 0, Vo = AvVε (12.44) and Vε = Vi − Vf b (12.45) therefore, ( ) Vo = Av Vi − Vf b (12.46) Assuming t(he input re)sistance Ri is very large, the feedback voltage is given by Vf b =∼ R1 + Vo (12.47) R1 R2 Substituting Equation (12.47) into (12.46) and rearranging terms, we obtain A = Vo v f = A Vi 1 + ( v A ) (12.48) v + R 1 2 R1 The voltage feedback transfer function βv is given by Equation (12.43), and the closed-loop voltage transfer function can be written = A Av v f (12.49) (1 + βv Av) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 875 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 875 The voltage transfer function for the noninverting op-amp circuit has the same form as that for the ideal series–shunt configuration, assuming the input resistance Ri is very large. We may note in this case that the voltage gain Av of the basic amplifier is positive and that the feedback transfer function βv is also positive, so that the loop gain T = βv Avis positive for negative feedback. We can now derive the expression for the input resistance Ri f . We see from the figure that Vε = Ii Ri , Vo = AvVε , and Vi = Vε + Vf b . The approximate feedback voltage is given( by Equatio)n (12.47). Therefore, the input voltage is = + RV V 1 V = V + ( AvVε i ε ) R1 + R o ε R [ 2 ] 1 + 2 R1 = A Vε 1 + v (1 + (12.50) R2/R1) The input resistance is then = Vi = V R ii f Ii [ (Vε/Ri ) ] = AR vi 1 + + = R 1 RR i (1 + βv Av) (12.51) ( ( 2/ 1)) The expression for the input resistance for the op-amp circuit has the same form as that for the ideal series input connection, as given in Equation (12.25). In the ideal case in which the gain is Av = ∞, the input resistance of the noninverting op-amp is also infinite. However, if the gain is finite, the input resistance will also be finite. EXAMPLE 12.7 Objective: Determine the expected input resistance of the noninverting op-amp circuit. Consider the noninverting op-amp in Figure 12.16, with parameters Ri = 50 k, R1 = 10 k, R2 = 90 k, and A = 104 v . Solution: The feedback transfer function βv is βv = ( 1 ) = ( 1 ) = 0.10 + R2 + 90 1 1 R1 10 The input resistance is therefore Ri f = Ri (1 + βv Av) = (50)[1 + (0.10)(104)] or Ri f ∼= 50 × 103 k = 50 M Comment: Even with a moderate differential input resistance Ri to the op-amp, the closed-loop input resistance Ri f is very large, because of the series input feedback connection. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 876 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 876 Part 2 Analog Electronics EXERCISE PROBLEM Ex 12.7: Consider the noninverting op-amp circuit shown in Figure 12.16, with parameters R1 = 15 k, R2 = 60 k, and A = 5 × 104 v . Assume Ri = ∞. Let the input signal voltage be Vi = 0.10 V. (a) What is the ideal voltage gain and the ideal output voltage? (b) (i) Determine the actual closed-loop gain and the actual output voltage. (ii) What is the error voltage Vε? (c) If the open-loop gain increases by a factor of 10, what are the values of (i) the closed-loop gain and (ii) the error voltage? (Ans. (a) Af = 5.00, Vo = 0.500 V; (b) (i) Af = 4.9995, Vo = 0.49995 V, (ii) Vε = 9.999 μV; (c) (i) Af = 4.99995, (ii) Vε = 0.99999 μV) The analysis results for the noninverting op-amp circuit are consistent with the ideal series–shunt feedback characteristics. 12.4.2 Discrete Circuit Representation Figures 12.18(a) and (b) show the basic emitter-follower and source-follower circuits, which we examined in previous chapters. These are examples of discrete-circuit series–shunt feedback topologies. The input signal is the voltage vi, the error signal is the base-emitter voltage in the emitter follower and the gate-source voltage in the source follower, and the feedback voltage is equal to the output voltage, which means that the feedback transfer function is βv = 1. The small-signal equivalent circuit of the emitter follower is shown in Figure 12.18(c). Since we have already analyzed the emitter-follower circuit, we will simply state the resu(lts here. Th)e small-signal voltage gain is 1 R ( + gm RE V EA = o v f = rπ ) = re R (12.52) Vi + 1 1 + E gr m RE 1 + π re where r r = π e (1 + gmrπ) Rif VCC VDD + + Rif Vp rp gmVp vi vi + + R Rof of – v v V begs i vo – vo + + + RE Vo vfb RE vfb RS – – – – (a) (b) (c) Figure 12.18 Discrete transistor series–shunt feedback circuits: (a) emitter-follower, (b) source-follower, and (c) small-signal equivalent circuit of emitter follower nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 877 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 877 The voltage gain of the emitter follower can be written as a voltage divider equation. Since the feedback transfer function is unity, the form of the voltage gain expression is the same as that for the ideal series–shunt configuration, as given in Equation (12.22(). The ope)n-loop voltage gain corresponds to 1 R Av = + gm RE = E (12.53) rπ re The closed-loop input resistanc[e is2 ( ) ] Ri f = rπ + (1 + 1 hF E)RE = rπ 1 + + g R rm E (12.54) π The form of the input resistance is also the same as that of the ideal expression, given by Equation (12.25). The input resistance increases with a series input connection. The outpu∥∥t resistance of the∥∥ emitter-follower circuit is given by r R π of = RE∥∥ ∥ + = RE∥ re (12.55) 1 hF E which can be written in the form R = ( RE of ) (12.56) + 1 1 + gr m RE π The output resistance decreases with a shunt output connection. For the emitter- follower circuit, the form of the output resistance is also the same as that of the ideal expression, given by Equation (12.28). Even though the magnitude of the emitter-follower voltage gain is slightly less than unity, this circuit is a classic example of a series–shunt feedback configuration, which represents a voltage amplifier. DESIGN EXAMPLE 12.8 Objective: Design a feedback amplifier to amplify the output signal of a microphone to meet a set of specifications. Specifications: The output signal from the microphone is 10 mV and the output signal from the feedback amplifier is to be 0.5 V in order to drive a power amplifier that in turn will drive the speakers. The nominal output resistance of the microphone is RS = 5 k and the nominal input resistance of the power amplifier is RL = 75 . Choices: An op-amp with parameters Ri = 10 k, Ro = 100 , and a low-frequency gain of Av = 104 is available. [Note: In this simple design, neglect frequency response.] Solution (Design Approach): Since the source resistance is fairly large, an amplifier with a large input resistance is required to minimize loading at the input. Also, since the load resistance is low, an amplifier with a low output resistance is required to minimize loading at the output. To satisfy these requirements, a series–shunt feedback configuration, or voltage amplifier, should be used. 2Reminder: In this chapter, the parameter hF E is used as the transistor current gain to avoid confusion with β , which is used as the feedback transfer function. Again, we assume that the dc and ac current gains are equal; therefore, hF E = hf e = gmrπ . nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 878 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 878 Part 2 Analog Electronics The closed-loop voltage gain must be Av f = 0.5/0.01 = 50. For the ideal case, Av f = 1/βv , so the feedback transfer function is βv = 1/50 = 0.02. The loop gain is then T = βv Av = (0.02)(104) = 200 Referring to Table 12.1, we expect the input resistance to be Ri f ∼= (10)(200) k → 2 M and the output resistance to be Rof ∼= (100/200)  = 0.5  These input and output resistance values will minimize any loading effects at the amplifier input and output terminals. If we use the noninverting amplifier configuration in Figure 12.16, then we have 1 = + R 1 2 = 50 βv R1 and R2 = 49 R1 The feedback network loads the output of the amplifier; consequently, we need R1 + R2 to be much larger than Ro. However, the output resistance of the feedback network is in series with the input terminals, so extremely large values of R1 and R2 will reduce the actual signal applied to the op-amp because of voltage divider action. Initially, then, we choose R1 = 1 k and R2 = 49 k. Computer Simulation Verification: The circuit in Figure 12.19 was used in a PSpice analysis of the voltage amplifier. A standard 741 op-amp was used in the circuit. For a 10 mV input signal, the output signal was 499.6 mV, for again of 49.96. This result is within 0.08 percent of the ideal designed value. The input resistance Ri f was found to be approximately 580 M and the output resistance Rof was determined to be approximately 0.042 . The differences between the measured input and output – v3 5 V 0 R + S 3 5 7 v + 1 + 5 kΩ v+ oS2 6 V 10 mV ~ o – 2 v– S1 1 U – 1 4 0 mA – 741 RL 75 Ω – 5 V v + 4 0 0 R2 49 kΩ R1 1 kΩ 0 Figure 12.19 Circuit used in the computer simulation analysis in Example 12.8 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 879 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 879 resistances compared to the predicted values are due to the differences between the actual μA-741 op-amp parameters and the assumed parameters. However, the measured input resistance is larger than predicted and the measured output resistance is smaller than predicted, which is desired and more in line with an ideal op-amp circuit. Comment: An almost ideal feedback voltage amplifier can be realized if an op-amp is used in the circuit. EXERCISE PROBLEM *Ex 12.8: Design a feedback voltage amplifier to provide a voltage gain of 15. The nominal voltage source resistance is RS = 2 k, and the nominal load is RL = 100 . An op-amp with parameters Ri = 5 k, Ro = 50 , and a low- frequency open-loop gain of A = 5 × 103 v is available. Correlate the design with a computer simulation analysis to determine the voltage gain, input resistance, and output resistance. Test Your Understanding TYU 12.6 Assume the transistor in the emitter-follower circuit in Figure 12.18(a) is biased such that IC Q = 1.2 mA. Let RE = 1.5 k. (a) If the transistor current gain is hF E = 120, determine Av f , Ri f , and Rof . (b) Determine the percent change in Av f , Ri f , and Rof if the transistor current gain increases to hF E = 180. Assume the quiescent collector current remains unchanged. (Ans. (a) Av f = 0.985877, Ri f = 184.1 k, Rof = 21.18 ; (b) Av f : −0.00386%, Ri f : +49.6%, Rof : +0.283%) TYU 12.7 (a) Assume the transistor in the source-follower circuit shown in Figure 12.18(b) is biased at IDQ = 250 μA. Let RS = 3 k. If the transistor parameters are K = 0.5 mA/V2 n , VT N = 0.8 V, and λ = 0, determine Av f and Rof . (b) Determine the percent change in Av f and Rof if the quiescent drain current is increased to IDQ = 1 mA. (Ans. (a) Av f = 0.6796, Rof = 961 ; (b) Av f : +19.1%, Rof : −40.5%) 12.5 CURRENT (SHUNT–SERIES) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of shunt–series (current) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the shunt–series feedback amplifier. The shunt–series circuit is a current amplifier; therefore, we must derive the output current to input current transfer function. For the ideal configuration, this function is given in Equation (12.32): A A = ii f (1 + βi Ai ) where Ai is the basic amplifier current gain and βi is the current feedback transfer function. For this amplifier, the input resistance decreases and the output resistance increases compared to the basic amplifier values."
12.5 Current (Shunt–Series) Amplifiers,"12.5 CURRENT (SHUNT–SERIES) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of shunt–series (current) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the shunt–series feedback amplifier. The shunt–series circuit is a current amplifier; therefore, we must derive the output current to input current transfer function. For the ideal configuration, this function is given in Equation (12.32): A A = ii f (1 + βi Ai ) where Ai is the basic amplifier current gain and βi is the current feedback transfer function. For this amplifier, the input resistance decreases and the output resistance increases compared to the basic amplifier values. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 880 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 880 Part 2 Analog Electronics 12.5.1 Op-Amp Circuit Representation Figure 12.20 shows an op-amp current amplifier, which is a shunt–series configuration. The input signal is the current I ′ i from the Norton equivalent source of Ii and RS. The feedback current is If b , the error signal is the current Iε , and the output signal is the current Io. With the shunt input connection, the input resistance Ri f is small, as previously stated. Resistance RS is the output resistance of the current source and is normally large. If RS  Ri f , then I ′ ∼ i = Ii . RF Rif Ifb – RL Ii′ V1 Ie Vo + Ii RS Io I1 R1 Figure 12.20 Example of an op-amp shunt–series feedback circuit If we assume initially that Iε is negligible, then, from Figure 12.20, we have I ∼= I ′ ii = If b The output voltage Vo, assuming V1 is at virtual ground, is Vo = −If b RF = −Ii RF and current I1 is I1 = −Vo/R1 The output current can be (express)ed ( ) Io = If b + I1 = Ii + − 1 R (−Ii RF) = Ii 1 + F (12.57) R1 R1 Therefore, the ideal current gain is Io = R 1 + F (12.58) Ii R1 In the ideal feedback circuit, the amplification factor Ai is very large; consequently, the current transfer function, from Equation (12.32), becomes = Io ∼= 1 Ai f (12.59) Ii βi Comparing Equation (12.59) with (12.58), we see that the current feedback transfer function for the ideal op-amp current amplifier is 1 βi = ( ) (12.60) R 1 + FR1 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 881 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 881 RF Ifb RL Vo IV1 – i′ Ie Io Ii RS Ri AiIe IR 1 1 + Figure 12.21 Equivalent circuit, op-amp shunt–series feedback configuration We can take the finite amplifier gain into account by considering the equivalent circuit in Figure 12.21. The parameter Ai is the open-loop current gain. We have Io = Ai Iε (12.61) and I = I ′ − If b ∼ ε i = Ii − If b (12.62) therefore, Io = Ai (Ii − If b) (12.63) If we again assume that V1 is at virtual ground, voltage Vo is given by Vo = −If b RF (12.64) We can then write ( ) ( ) V 1 RI o F 1 = − = − (−If b RF) = If b (12.65) R1 R1 R1 The output current is also (expre)ssed as R Io = If b + I1 = IF f b + If b (12.66) R1 Solving for If b from Equation (12.66), substituting that into Equation (12.63), and rearranging terms yields the closed-loop current gain Ai f = Io = A ( i A (12.67) Ii 1 + i ) R 1 + FR1 Since the current feedback transfer function is βi = 1/[1 + (RF/R1)], the closed-loop current gain expression for the op-amp current amplifier has the same form as that for the ideal shunt–series configuration. 12.5.2 Simple Discrete Circuit Representation Figure l2.22(a) shows the ac equivalent circuit of a common-base circuit, which is an example of a simple discrete shunt–series configuration. Figure l2.22(b) is the same circuit rearranged to demonstrate more clearly the input, feedback, and error components of nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 882 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 882 Part 2 Analog Electronics Ie II i Io RI Re Lo LI Ifb i (a) (b) Figure 12.22 (a) Equivalent circuit for simple common-base circuit and (b) reconfigured circuit the currents. The output current is equal to the feedback current, which means that the feedback transfer function is βi = 1. The basic amplifier gain is Io/Iε = Ai = hF E which is simply the common-emitter current gain of the transistor. From Figure l2.22(b), we see that the closed-loop current transfer function or gain is IA = oi f = hF E = Ai + + (12.68) Ii 1 hF E 1 Ai Since the current feedback transfer function βi is unity, Equation (12.68) has the same form as that for the ideal shunt–series transfer function. Figure l2.23(a) is a more realistic common-base circuit. Resistor RE and the supply voltages V + and V − bias the transistor in the forward-active mode. The ac equivalent circuit is in Figure l2.23(b). We can show that the current gain is Ai f = Io = ( hF)E = ( Ai) (12.69) Ii + r 1 π + hF E 1 + rπ + ARE R i E Equation (12.69) does not have the same form as the ideal shunt–series feedback transfer function. This is common in many discrete transistor feedback circuits. The reason is that resistor RE introduces loading effects that are not present in the ideal configuration. Typically, then, the transfer functions of actual discrete circuits are not the same as for the ideal case. Ii R i Ii RR E o RC i E o CV+ V – (a) (b) Figure 12.23 (a) Common-base circuit, including biasing and (b) ac equivalent circuit 12.5.3 Discrete Circuit Representation Figure 12.24(a) shows a two-stage discrete transistor circuit example of a shunt– series feedback configuration. While the large number of capacitors makes this circuit somewhat impractical, it can be used to illustrate the basic concepts of feedback. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 883 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 883 VCC = 10 V RC1 = RC2 = R1 = 2 kΩ R3 = 4 kΩ 80 kΩ 85 kΩ CC1 C vo C2 C QC3 Q1 2 i R o L = 4 kΩ ii RR2 = R4 = S 20 kΩ RE1 = C 15 kΩ RE2 = 1 kΩ E1 0.5 kΩ RF = 10 kΩ CF (a) Ie Q2 Q1 II e o R = R RB1 = RB2 C2 I C1 i RS RR ⎪⎪R 3⎪⎪R4 RE2 R 1 2 L Ifb RF (b) Figure 12.24 (a) Example of a discrete transistor shunt–series feedback circuit and (b) ac equivalent circuit Figure 12.24(b) shows the ac equivalent circuit, in which all capacitors act as short circuits. With the shunt input connection, the input signal current is essentially Ii (assuming RS is large), the feedback current is If b , and the error signal is Iε . The signal emitter current Ie is directly proportional to the load current Io, and the feedback current is directly proportional to Ie, demonstrating that this series output connection samples the output current Io. [Note: It maybe argued that, even though Ie is related to the output current Io, the output current is not part of the feedback circuit. In particular, the output resistance ro2 of Q2 is not within the feedback network. For this reason, the output connection maybe thought of as a shunt connection with the output signal being a voltage at the emitter of Q2. However, we are assuming the output signal is a current so we will treat this circuit as a shunt-series amplifier.] The small-signal equivalent circuit is shown in Figure 12.25. We assume that the small-signal output resistance roof each transistor is infinite. We could derive the expression for the closed-loop current gain by writing and solving a set of simultaneous nodal equations. However, as with most discrete transistor feedback circuits, the transfer function cannot be arranged exactly in the ideal form without several approximations. For this circuit, then, we rely on a computer analysis to provide the required results. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 884 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 884 Part 2 Analog Electronics Rif Rof + gm1Vp1 + gm2Vp 2 Ii RS RB1 Vp1 rp1 RC1⎪⎪RB2 Vp 2 rp 2 RC2 Io RL – – RE2 RF Figure 12.25 Small-signal equivalent circuit of circuit in Figure 12.24(a) EXAMPLE 12.9 Objective: Determine the closed-loop current gain and input resistance of a discrete shunt–series transistor feedback circuit. Consider the circuit in Figure 12.24(a), with transistor parameters hF E = 100 and VA = ∞. Assume the source resistance is RS = 10 M. The capacitors are large enough to act as short circuits to the signal currents. Solution: A PSpice analysis shows that the closed-loop current gain is Ai f = Io/Ii = 9.58 The input resistance Ri f is defined as the ratio of the signal voltage at the base of Q1 to the input signal current. The PSpice results show that Ri f = 134 . This low input resistance is expected for the shunt input connection. Comment: The PSpice analysis shows that the closed-loop current gain increases from 9.58 to 10.2 as the transistor current gain hFE increases from 100 to 1000. This result again demonstrates a principal characteristic of feedback circuits, which is that the transfer function is relatively insensitive to changes in the individual transistor parameters. EXERCISE PROBLEM *Ex 12.9: Consider the common-base circuit in Figure 12.23(a), with transistor parameters hF E = 80, VE B(on) = 0.7 V, and VA = ∞. Assume the transistor is biased at IC Q = 0.5 mA. Redesign the circuit such that the closed-loop current gain is greater than 0.95. (Ans. RE(min) = 1.30 k, and V +(min) = 1.36 V) From the small-signal equivalent circuit in Figure 12.25, we find that the output resistance Rof looking into the collector of Q2 is very large. If roof Q2 is assumed to be infinite, then Rof is also infinite. We expect a large output impedance for these- ries output connection of this feedback circuit. DESIGN EXAMPLE 12.10 Objective: Design a feedback amplifier to provide a given current gain. Specifications: Assume that a signal current source has a nominal output resistance of RS = 10 k and that the amplifier will drive a nominal load of RL = 50 . A current gain of 10 is required. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 885 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 885 Choices: An op-amp with the same characteristics described in Example 12.8 is available. Solution (Design Approach): An amplifier with a low input resistance and a large output resistance is required, to minimize loading effects at the input and output. For these reasons, a shunt–series feedback configuration, or current amplifier, will be used. The closed-loop gain is Ai f = 10 ∼= 1/βi and the feedback transfer function is βi = 0.1. The dependent open-loop voltage source of the op-amp, as shown in Figure 12.17, can be transformed to an equivalent dependent open-loop current source, as shown in Figure 12.9. We find that Ai = Av Ri/Ro Using the parameters specified for the op-amp, we find Ai = 106. The loop gain for the shunt–series configuration is Aiβ 6 i = (10 ) (0.1) = 105 Referring to Table 12.1, we expect the input resistance to be Ri f = 10/105 k → 0.1  and the output resistance to be Rof = (100)(105)  → 10 M These resistance values will minimize any loading effects at the amplifier input and output. For the shunt–series configuration in Figure 12.20, we have 1 = + R 1 F = 10 βi R1 or RF/R1 = 9 For our purposes, R1 must be fairly small, to avoid a loading effect at the output. However, R1 must not be too small, to avoid large currents in the amplifier. Therefore, we choose R1 = 1 k and RF = 9 k. Computer Simulation Verification: Figure 12.26 shows the circuit used in the computer simulation. A standard μA-741 op-amp was used in the circuit. The current gain was found to be exactly 10.0. The input resistance Ri f looking into the op-amp with feedback was found to be 0.056 , which compares favorably to the predicted value of 0.1 . The output resistance seen by the load resistor was found to be approximately 200 M. This value is on the order of 20 times larger than the predicted value, but is closer to the ideal value. The differences between predicted and measured values are due to the differences in assumed op-amp parameters and the μA-741 op-amp parameters. Comment: This design also produces an almost ideal feedback current amplifier, if reasonable values of feedback resistors are used. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 886 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 886 Part 2 Analog Electronics – v1 10 V 0 + 3 5 + 7 R v+ o LS2 6 I 0 DC 2 o v– S1 – 1 50 Ω I1 U1 4 R mA – 741 RS 10 kΩ 1 1 kΩ – 10 V v + 0 A 2 0 0 0 RF 9 kΩ Figure 12.26 Circuit used in the computer simulation analysis in Example 12.10 EXERCISE PROBLEM Ex 12.10: Design a feedback current amplifier to provide a current gain of 15. The nominal current source resistance is RS = 500 , and the nominal load is RL = 200 . An op-amp with parameters Ri = 5 k, Ro = 50 , and a low- frequency open-loop voltage gain of Av = 5 × 103 is available. Correlate the design with a PSpice analysis to determine the current gain, input resistance, and output resistance. Test Your Understanding TYU 12.8 Consider the shunt–series feedback circuit in Figure 12.24(a). Using a computer simulation analysis, investigate the magnitude of the current gain Ai f as the emitter resistor RE2 is varied between 0.4 k and 1.6 k. What is the relationship between RF , RE2, and Ai f ? TYU 12.9 Consider the shunt–series feedback circuit in Figure 12.24(a). Using a computer simulation analysis, investigate the magnitude of the input resistance Ri f as the feedback resistor RF is varied between 5 k and 50 k. What is the influence of RF on the input resistance Ri f ? 12.6 TRANSCONDUCTANCE (SERIES–SERIES) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of series–series (transconductance) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the series–series feedback amplifier. The series–series circuit is a transconductance amplifier; therefore, we must derive the output current to input voltage transfer"
12.6 Transconductance (Series–Series) Amplifiers,"12.6 TRANSCONDUCTANCE (SERIES–SERIES) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of series–series (transconductance) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the series–series feedback amplifier. The series–series circuit is a transconductance amplifier; therefore, we must derive the output current to input voltage transfer nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 887 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 887 function. For the ideal configuration, this function is, from Equation (12.39), = A Ag g f (1 + βz Ag) where Ag is the basic amplifier transconductance gain and βz is the resistance feedback transfer function. We found that with this feedback configuration, both the input and output resistances increase compared to the basic amplifier values. 12.6.1 Op-Amp Circuit Representation The op-amp circuit in Figure 12.27 is an example of the series–series feedback VCC configuration. The input signal is the input voltage Vi, the feedback voltage is Vf b, and the error signal is the voltage Vε . The series output connection samples the out- Io + put current, which means that the feedback voltage is a function of the output current. Vi + V In the ideal feedback circuit, the amplification factor Ag is very large; therefore, e – – from Equation (12.39), the transfer function is = IR A o Lg f ∼= 1 (12.70) Vi βz Assuming an ideal op-amp circuit and neglecting the transistor base current, we have + Vfb RE Vi = Vf b = Io RE – and Figure 12.27 Example of = I 1 A o = (12.71) an op-amp series–series g f Vi RE feedback circuit Comparing Equations (12.70) and (12.71), we see that the ideal feedback transfer function is βz = RE (12.72) We can take a finite amplifier gain into account by considering the equivalent circuit in Figure 12.28. The parameter Ag is the open-loop transconductance gain of VCC Io RR if of Vi + + Ve Ri AgVe – – RL + Vfb RE – Figure 12.28 Equivalent circuit, op-amp series–series feedback configuration nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 888 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 888 Part 2 Analog Electronics the amplifier. Assuming the collector and emitter currents are nearly equal and Ri is very large, we can write that = VI f b o = hF E Ib = hF E AgVε (12.73) RE Also, Vε = Vi − Vf b = Vi − Io RE (12.74) Substituting Equation (12.74) into Equation (12.73) yields Io = hF E Ag(Vi − Io RE) (12.75) which can be rearranged to yield the closed-loop transfer function, = Io = (hF E Ag)Ag f (12.76) Vi 1 + (hF E Ag)RE which has the same form as that of the ideal theory. In this example, we see that in this feedback network, the transistor current gain is part of the basic amplifier gain. 12.6.2 Discrete Circuit Representation Figure 12.29 shows a single bipolar transistor circuit that is an example of a series– series feedback configuration. This circuit is similar to those evaluated in Chapters 5 and 6. The input signal is the input voltage vi, the feedback voltage is v f b , and the error signal is the base–emitter voltage. The series output connection samples the output current; therefore, the feedback voltage is a function of the output current. The small-signal equivalent circuit is shown in Figure 12.30. The Early voltage of the transistor is a(ssumed to b)e infinite. The output current can be written Io = − RC (gm Vπ) + (12.77) RC RL VCC Rif Rof RC V R o 1 + vo Io C → ∞ C → ∞ Vp rp gmVp + – V + RB = vi – RR R ⎪⎪RC L be – i + o R 1 2 L + v + i – R2 vfb RE Vfb RE – – Figure 12.29 Example of a discrete Figure 12.30 Small-signal equivalent circuit, discrete transistor series–series feedback circuit transistor series–series feedback configuration nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 889 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 889 and the feed(back voltage )is V V π f b = + gm Vπ RE (12.78) rπ A KVL equation around th[e BE( loop yiel)ds ] = + = + 1 Vi Vπ Vf b Vπ 1 + gr m RE (12.79) π Solving Equation (12.79) for Vπ , substituting that into Equation (12.77), and rearranging terms produces the expression for the transconductance transfer function, ( ) − R gm Ag f = Io = ( C RC + R)L (12.80) Vi 1 1 + + gm R r E π Again, the closed-loop transfer function of the discrete transistor feedback circuit cannot be put in exactly the same form as that of the ideal series–series feedback network. Resistor RC introduces loading on the output, and rπ introduces loading on the input. If both RC and rπ become large, then Equation (12.80) changes to the ideal form, where the feedback transfer function is βz = −RE and the basic amplifier transconductance is Ag = −gm . EXAMPLE 12.11 Objective: Determine the transconductance gain of a transistor feedback circuit. Consider the circuit in Figure 12.29, with transistor parameters hF E = 100, VB E(on) = 0.7 V, and VA = ∞. The circuit parameters are: VCC = 10 V, R1 = 55 k, R2 = 12 k, RE = 1 k, RC = 4 k, and RL = 4 k. Solution: From a dc analysis of the circuit, the quiescent values are IC Q = 0.983 mA and VC E Q = 5.08 V. The transistor small-signal parameters are found to be rπ = 2.64 k and gm = 37.8 mA/V. From Equation (12(.80), the) transconductance transfer function is − 4 ((37.8) = 4 + 4 Ag f ) = −0.482 mA/V + 1 1 + 37.8 (1) 2.64 As a first approximation, we have = 1 = 1 1 Ag f − = − = −1 mA/V βz RE 1 k The term RC/(RC + RL) introduces the largest discrepancy between the actual and ideal transconductance values. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 890 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 890 Part 2 Analog Electronics This circuit is often used as a voltage amplifier. The output voltage is directly proportional to the output current. Therefore, = vo = io RA L v f = Ag f RL vi vi which yields Av f = (−0.482)(4) = −1.93 Comment: The circuit in Figure 12.29 is an example of a series–series feedback topology, even though in many cases we treat this circuit as a voltage amplifier. When an emitter resistor is included, the small-signal voltage gain decreases, because of the feedback effect of RE. However, the transconductance and voltage gain become insensitive to the transistor parameters, also a result of the feedback effect of RE. A 100 percent increase in the transistor current gain hF E produces a 0.5 percent change in the closed-loop voltage gain. EXERCISE PROBLEM Ex 12.11: For the circuit in Figure 12.31, the transistor parameters are Kn = 2 mA/V2, VT N = 2 V, and λ = 0. (a) Determine (i) IDQ and (ii) the transconductance transfer function Ag f = io/vi . (b) If the conductance parameter decreases by 10 percent to Kn = 1.8 mA/V2, determine (i) the new value of IDQ and (ii) the percent change in Ag f . (Ans. (a) (i) IDQ = 2.31 mA, (ii) Ag f = −0.7904 mA/V; (b) (i) IDQ = 2.22 mA, (ii) −2.68%) +5 V RD = 2 kΩ R1 = 30 kΩ C → ∞ C → ∞ i R o L = 2 kΩ v + i – R2 = 20 kΩ RS = 0.4 kΩ –5 V Figure 12.31 Figure for Exercise Ex 12.11 The input resistance Ri f of the series input feedback connection includes RE multiplied by (1 + hF E), where hFE is the transistor current gain. The input resistance increases significantly because of the series connection. The output resistance of a series output feedback connection is usually very large. However, resistance RC reduces the output resistance and introduces a loading nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 891 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 891 effect. The reduced output resistance demonstrates that discrete transistor feedback circuits do not conform exactly to ideal feedback circuits. Nevertheless, overall circuit characteristics improve when feedback is used. DESIGN EXAMPLE 12.12 Objective: Design a driver amplifier to supply current to an LED. Specifications: The available voltage source is variable from 0 to 5 V and has an output resistance of 200 . The required diode current is 10 mA when the maximum input voltage is applied. The required closed-loop transconductance gain is then A −3 g f = Io/Vi = (10 × 10 )/5 → 2 mS. Choices: An op-amp with the characteristics described in Example 12.8 and a BJT with hF E = 100 are available. Solution (Design Approach): To minimize loading effects on the input, an amplifier with a large input resistance is required; to minimize loading effects on the output, a large output resistance is required. For these reasons, a series–series feedback configuration, or transconductance amplifier, is selected. The closed-loop gain is Ag f = 2 × 10−3 ∼= 1/βz and the resistance feedback transfer function is βz = 500  The dependent open-loop voltage source of the op-amp, as shown in Figure 12.17, can be transformed to an equivalent dependent op-loop transconductance source for the transconductance amplifier, as shown in Figure 12.12. We find that Ag = Av/Ro The parameters specified for the op-amp yield Ag = 100 A/V The loop gain for the series–series configuration is Agβz = (100)(500) = 5 × 104 Referring to Table 12.1, the expected input resistance is Ri f = (10)(5 × 104) k → 500 M and the expected output resistance is R 4 of = (100)(5 × 10 )  → 5 M These input and output resistances should minimize any loading effects at the amplifier input and output. For this example, we may use the amplifier configuration shown in Figure 12.27, in which the load resistor RL is replaced by an LED. In the ideal case, βz = RE = 500  nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 892 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 892 Part 2 Analog Electronics v4 – – v 10 V 2 10 V 0 0 + R + S 3 5 + 7 200 Ω v+ o 6 Q1 2 o S2 v– S1 1 2N3904 + v – 1 U 4 I 0 V 1 – mA – 741 – 10 VD 0 v + 1 3 1N914 0 RE 500 Ω 0 Figure 12.32 Circuit used in the computer simulation analysis for Example 12.12 Computer Simulation Verification: Figure 12.32 shows the circuit used in the computer simulation. Again, a standard μA-741 op-amp was used in the circuit and a standard diode was used in place of an LED. When the input voltage reached 5 V, the current through the diode was 10.0 mA, which was the design value. The input resistance Ri f was found to be approximately 2400 M and the output resistance Rof was found to be approximately 60 M. Both of these values are larger than predicted because of the differences in the assumed op-amp parameters and those of the μA-741 op-amp. Comment: Again, an almost ideal feedback circuit can be designed by using an op-amp. EXERCISE PROBLEM *Ex 12.12: Design a transconductance feedback amplifier with again of Ag f = 10 mS. The source resistance is RS = 500 , and the load is an LED. State any necessary assumptions. Use an op-amp with the characteristics described in Example 12.8. From a computer simulation analysis, determine the closed-loop transconductance, input resistance, and output resistance of your design. Test Your Understanding TYU 12.10 Consider the op-amp circuit in Figure 12.27 with parameters RE = 1 k and Ag = 102 mA/V. Assume the transistor current gain is hF E = 180. The input voltage is Vi = 1.5 V. (a) (i) Determine the transfer function Ag f = Io/Vi and the output current Io. (ii) Determine the value of the error voltage Vε . (b) If the transistor current gain decreases by 20 percent to hF E = 144, (i) determine the new values of Ag f and Io, and the percent change in these values and (ii) determine the new value of Vε . (Ans. (a) (i) Ag f = 0.9999444 mA/V, Io = 1.4999166 mA, (ii) Vε = 83.4 μV; (b) (i) Ag f = 0.9999306 mA/V, Io = 1.4998959 mA, −0.00138% change, (ii) Vε = 104 μV) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 893 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 893 12.7 TRANSRESISTANCE (SHUNT–SHUNT) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of shunt–shunt (transresistance) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the shunt–shunt feedback amplifier. The shunt-shunt circuit is a transresistance amplifier; therefore, we must derive the output voltage to input current transfer function. For the ideal configuration, this function is given by Equation (12.40) as A A z z f = (1 + βg Az) where Az is the basic amplifier transresistance gain, and βg is the feedback transfer function. With this feedback connection, both the input and output resistance decrease compared to the basic amplifier values. 12.7.1 Op-Amp Circuit Representation Figure 12.33(a) shows the basic inverting op-amp circuit that we analyzed in Chapter 9. We treated this as a voltage amplifier whose voltage gain is Av = −Vo/Vi . However, this circuit is actually an example of a shunt–shunt configuration. The defining input signal is the input current Ii. Figure 12.33(b) shows the same circuit without the input resistance. From this configuration, we see the input shunt connection. The input current splits between the feedback current If band the error current Iε . The shunt output connection samples the output voltage; therefore, the feedback current is a function of the output voltage. In the ideal feedback circuit, the amplification factor Az is very large, and the transresistance transfer function is, from Equation (12.40), V 1 A oz f = =∼ (12.81) Ii βg For the ideal inverting op-amp circuit, V1 is at virtual ground, and Vo = −If b R2 Also for the ideal op-amp, If b = Ii , and the ideal transresistance transfer function is = VA oz f = −R (12.82) I 2 i R2 R2 Rif Ifb Ifb R Ie R 1 of Ie Vi – – VI 1 A Vo IV i oi + + (a) (b) Figure 12.33 (a) The basic inverting op-amp circuit and (b) the circuit showing the shunt input connection"
12.7 Transresistance (Shunt–Shunt) Amplifiers,"12.7 TRANSRESISTANCE (SHUNT–SHUNT) AMPLIFIERS Objective: • Analyze op-amp and discrete transistor circuit examples of shunt–shunt (transresistance) feedback amplifiers. In this section, we will analyze an op-amp and a discrete circuit representation of the shunt–shunt feedback amplifier. The shunt-shunt circuit is a transresistance amplifier; therefore, we must derive the output voltage to input current transfer function. For the ideal configuration, this function is given by Equation (12.40) as A A z z f = (1 + βg Az) where Az is the basic amplifier transresistance gain, and βg is the feedback transfer function. With this feedback connection, both the input and output resistance decrease compared to the basic amplifier values. 12.7.1 Op-Amp Circuit Representation Figure 12.33(a) shows the basic inverting op-amp circuit that we analyzed in Chapter 9. We treated this as a voltage amplifier whose voltage gain is Av = −Vo/Vi . However, this circuit is actually an example of a shunt–shunt configuration. The defining input signal is the input current Ii. Figure 12.33(b) shows the same circuit without the input resistance. From this configuration, we see the input shunt connection. The input current splits between the feedback current If band the error current Iε . The shunt output connection samples the output voltage; therefore, the feedback current is a function of the output voltage. In the ideal feedback circuit, the amplification factor Az is very large, and the transresistance transfer function is, from Equation (12.40), V 1 A oz f = =∼ (12.81) Ii βg For the ideal inverting op-amp circuit, V1 is at virtual ground, and Vo = −If b R2 Also for the ideal op-amp, If b = Ii , and the ideal transresistance transfer function is = VA oz f = −R (12.82) I 2 i R2 R2 Rif Ifb Ifb R Ie R 1 of Ie Vi – – VI 1 A Vo IV i oi + + (a) (b) Figure 12.33 (a) The basic inverting op-amp circuit and (b) the circuit showing the shunt input connection nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 894 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 894 Part 2 Analog Electronics R2 Rif Ifb Rof R1 Vi V – – o V1 II i e Vd R + i A – oLVd = Az Ie = -| Az |Ie + + Figure 12.34 Equivalent circuit, op-amp shunt–shunt feedback configuration Comparing Equation (12.82) to Equation (12.81), we see that the feedback transfer function for the ideal inverting op-amp circuit is βg = − 1 (12.83) R2 We can take a finite amplifier gain into account by considering the equivalent circuit in Figure 12.34. The parameter Az is the open-loop transresistance gain factor,( and is ne)gative sinc(e the erro)r current Iε is considered to be positive entering the inverting terminal. We can write Vo = Az Iε = − |Az| Iε , Iε = Ii − If b , and Vo = Az Ii − If b = − |Az| Ii − If b . If we assume that voltage V1 is at virtual ground, then If b = −Vo/R2. Combining equations, we see that the closed-loop transresistance transfer function is = Vo = − |A | A z z f Ii + |A | (12.84) 1 z R2 From Equation (12.83), the feedback transfer function is βg = −1/R2, and Equation (12.84) becomes VA = oz f = − |Az| + − | | = Az + (12.85) Ii 1 ( Az )βg 1 Azβg This feedback circuit is one example in which the open-loop gain of the basic amplifier, Az = Vo/Iε , is negative. The feedback transfer function, βg = −1/R2, is also negative, but the loop gain T = Azβg is positive for this negative feedback circuit. The transresistance transfer function for the inverting op-amp circuit has the same form as that for the ideal shunt–shunt configuration. In addition, since V1 is at virtual ground, the input resistance including feedback, Ri f , is essentially zero, and we have shown that the output resistance with feedback, Rof , is very small. These small resistance values area result of the shunt–shunt configuration. Therefore, our analysis of the inverting op-amp circuit produces results consistent with ideal shunt–shunt feedback characteristics. The inverting amplifier circuit in Figure 12.33 is most often thought of as a voltage amplifier. The input current Ii is directly proportional to the input voltage Vi, which means that the voltage transfer function (gain) and transresistance transfer function have the same characteristics. Even though we are usually concerned with the voltage gain, the inverting amplifier is an example of a shunt–shunt feedback topology which is a transresistance amplifier. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 895 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 895 12.7.2 Discrete Circuit Representation Figure 12.35 shows a single bipolar transistor circuit, which is an example of a shunt–shunt feedback configuration. The input signal current is ii, the feedback current is if b, and the error signal current is iε and is the signal base current. The shunt output samples the output voltage; therefore, the feedback current is a function of vo. VCC RC RF RF vo Ifb ifb R Vo S Ie + i Ii Vp rp g Vi mp RC i e + – vi – Figure 12.36 Small-signal equivalent Figure 12.35 Example of a discrete transistor circuit, discrete transistor shunt–shunt shunt–shunt feedback circuit feedback configuration The small-signal equivalent circuit is shown in Figure 12.36. The input signal is assumed to be an ideal signal current source. Also the Early voltage of the transistor is assumed to be infinite. Writing a KCL equation at the output node, we find Vo + V − V g V + o π m π = 0 (12.86) RC RF A KCL equation at the input node yields = Vπ + Vπ − VI oi (12.87) rπ RF Solving Equation (12.87) for Vπ and substituting that result into Equation (12.86), we obta(in )( ) ( )( ) 1 + 1 1 Vo + 1 + g − 1 VI + o = 0 (12.88) RC RF rπ Rm FR i F RF The transresistance transfer function (is then ) − 1 gm − Az f = Vo = ( )( )RF ( ) (12.89) Ii 1 + 1 1 + 1 + 1 − 1 g Rm C RF rπ RF RF RF The open-loop transresistance gain factor Az is found by setting RF = ∞. We find = ( −)gA (mz ) = −g 1 1 mrπ RC = −hF E RC (12.90) RC rπ nea80644_ch12_851-946.qxd 6/24/09 10:33 AM Page 896 pmath DATA-DISK:Desktop Folder:24/06/09:MHDQ134-12: 896 Part 2 Analog Electronics where hF E is the common-emitter transistor current gain. Multiplying both numerator and denominator of Equation (12.89) by (rπ RC ), we obtain the closed-loop transresistance gain, ( ) + + r ( )( A ) π RC V z RA = o F z f = ( ) (12.91) Ii + RC + r 1 1 π − 1 + rπ RA C RF RF R z F RF The closed-loop transresistance gain for the single-transistor feedback circuit cannot be put into the ideal form, as given in Equation (12.40), without further approximations. In an ideal feedback circuit, the feedback network does not load the basic amplifier. Also, the forward transmission occurs entirely through the basic amplifier. However, in a discrete transistor feedback circuit, these ideal assumptions are not entirely valid; therefore, the form of the transfer function is usually not exactly the same as that of the ideal configuration. We may assume that the feedback resistor is fairly large, which means that the feedback does not drastically perturb the circuit. We may then assume hF E = gmrπ  (rπ/RF) If we also assume that RC  RF and rπ  RF , then Equation (12.91) reduces to VA oz f = ∼= Az(− ) (12.92) Ii 1 + 1 (Az) RF Consequently, the feedback transfer function is approximately βg ∼= −1 (12.93) RF Equation (12.93) demonstrates that the approximate value of the feedback transfer function depends only on a resistance value. Although the actual closed-loop transfer function does not fit the ideal form, the magnitude of that function depends lesson the individual transistor parameters than does the open-loop gain. This characteristic is one of the general properties of feedback circuits. Also, since the input current is proportional to the input voltage, we can use this circuit as a voltage amplifier. EXAMPLE 12.13 Objective: Determine the transresistance and voltage gain of a single-transistor shunt–shunt feedback circuit. Consider the circuit in Figure 12.37(a). The transistor parameters are: hF E = 100, VB E(on) = 0.7 V, and VA = ∞. Since the input signal current is directly proportional to the input voltage, the voltage gain of this shunt–shunt configuration has the same general properties as the transresistance transfer function. As with many circuits considered in this chapter, several capacitors are included. In the circuit in Figure 12.37(a), R1 and CC2 maybe removed. Resistor RF can be used for biasing, and the circuit can be redesigned to provide the same feedback properties. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 897 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 897 VCC = 10 V 4 RC = 10 kΩ R1 = 51 kΩ CC2 → ∞ RF = 82 kΩ vo Rif 5 1 C → ∞ 6 C1 Rof RS = 10 kΩ 2 3 7 v + i – R2 = 5.5 kΩ RE = 0.5 kΩ CE → ∞ (a) RF = 82 kΩ Vo V + I = i RS = R1⎪⎪R2 = r = V p 18.9Vp RC = i RS 10 kΩ 4.96 kΩ p 5.28 kΩ (mA) 10 kΩ – (b) Figure 12.37 (a) Circuit for Example 12.13 and (b) small-signal equivalent circuit Solution: By including CC2 in the circuit, the feedback is a function of the ac signal only, which means that the transistor quiescent values are not affected by feedback. The quiescent parameters are found to be IC Q = 0.492 mA and VC E Q = 5.08 V, and the small-signal parameters are rπ = 5.28 k and gm = 18.92 mA/V. In the small-signal equivalent circuit, which is shown in Figure 12.37(b), the Thevenin equivalent input source is converted to a Norton equivalent circuit. Writing a KCL equation at the output, we obtain Vo + + Vo − V (18.9)V π π = 0 10 82 A KCL equation at the input yields = Vπ + VI π + Vπ i + Vπ − Vo 10 4.96 5.28 82 Combining these two equations and eliminating Vπ , we find the small-signal transresistance gain, which is VA oz f = = −65.87 k Ii Since this unit of gain is not as familiar as voltage gain, we determine the voltage gain from Ii = Vi/RS = Vi/10 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 898 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 898 Part 2 Analog Electronics Therefore, Vo = −(65.8)(0.10) = −6.587 Vi If the current gain hF E of the transistor decreases from 100 to 75, the transistor quiescent values change slightly to IC Q = 0.478 mA and VC E Q = 5.22 V. The small- signal parameters become rπ = 4.08 k and gm = 18.4 mA/V. The closed-loop small-signal voltage gain then becomes Vo/Vi = −6.41 Comment: With a 25 percent decrease in the transistor current gain hFE, the closed-loop voltage gain decreases by only 2.6 percent. If no feedback were present, the voltage gain would be directly proportional to hFE. The ideal closed- loop voltage gain of the feedback circuit, which is determined as hFE approaches infinity, is Av(hF E → ∞) = −RF/RS = −7.20 Computer Simulation Verification: Additional results of a PSpice analysis are shown in Figure 12.38. The magnitude of the voltage gain is plotted as a function of the transistor current gain hFE, for three values of feedback resistance. The results for RF = 82 k agree very well with the results from the hand analysis. As RF increases to 160 k, there is less feedback, and the magnitude of the voltage gain increases. However, the variation in the closed-loop gain is substantially greater as the transistor gain changes. In contrast, when RF decreases to 47 k, there is increased feedback, and the magnitude of the voltage gain decreases. However, there is very little variation in closed-loop gain as the transistor gain changes. In all cases, as the gain of the transistor increases, there is less change in closed-loop gain. This result demonstrates the need for a large gain in the basic amplifier in the feedback network. |Avf | 14 RF = 160 kΩ 12 10 8 RF = 82 kΩ 6 RF = 47 kΩ 4 2 10 20 40 60 100 200 400 600 1000 hFE Figure 12.38 Voltage gain magnitude versus transistor current gain, for three values of feedback resistance, from a PSpice analysis of the circuit in Figure 12.37(a) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 899 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 899 Expressions for the input and output resistances of the ideal shunt–shunt configuration are given in Equations (12.35) and (12.28), respectively. As with the loop gain function, the input and output resistance expressions for the single-transistor feedback circuit cannot be put in exactly the same form as that for the ideal configuration. However, the same general characteristics are obtained; that is, both input and output resistances decrease, predicted by the ideal case. EXERCISE PROBLEM Ex 12.13: Consider the circuit in Figure 12.39, with transistor parameters VT N = 0.8 V, Kn = 1.5 mA/V2, and λ = 0. (a) (i) Find the open-loop gain for RF = ∞. (ii) Find the closed-loop gain for RF = 47 k. (b) Repeat part (a) if the conductance parameter decreases by 15 percent to Kn = 1.275 mA/V2. What is the percent change in the magnitude of each gain factor? (Ans. (a) (i) Av = −3.528, (ii) Av f = −1.204; (b) (i) Av = −3.0, −15% change; (ii) Av f = −1.107, −8.06% change) VDD = 5 V R1 = RD = 350 kΩ 2 kΩ R CC2 → ∞ R if F vo CC1 → ∞ Rof RS = v + i 20 kΩ – R2 = 150 kΩ Figure 12.39 Circuit for Exercises Ex12.13 and Ex12.14 EXAMPLE 12.14 Objective: Determine the input and output resistances of a single-transistor shunt–shunt feedback circuit. Consider the circuit in Figure 12.37(a), with transistor parameters: hF E = 100, VB E(on) = 0.7 V, and VA = ∞. Solution: Input Resistance: The small-signal equivalent circuit for calculating the input resistance Ri f is shown in Figure 12.40(a). The small-signal transistor parameters were determined in Example 12.13. Writing a KCL equation at the input, we have VI = π x + Vπ − Vo = Vπ + Vπ − Vo rπ RF 5.28 82 From a KCL equation at the output node, we have Vo + V g V + o − Vπ = Vo + Vo − Vπ m π (18.9)V + = 0 RC RF 10 π 82 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 900 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 900 Part 2 Analog Electronics RF = 82 kΩ RR F = 82 kΩ if Rof RS = 10 kΩ Vo Ix + + Ix V + V rp = 18.9 V Rx pp R 1⎪⎪R2 = V rp = 18.9 V R = + – p CV 5.28 kΩ C (mA) 4.96 kΩ p 5.28 kΩ (mA) x – 10 kΩ – – (a) (b) Figure 12.40 Small-signal equivalent circuits of the circuit in Figure 12.37(a) for calculating (a) input resistance and (b) output resistance Combining these two equations, eliminating Vo, and noting that Vπ = Vx , we find that Ri f = Vx = 0.443 k Ix Output Resistance: The small-signal equivalent circuit for calculating the output resistance Rof is shown in Figure 12.40(b). If we define Req = rπ‖R1‖R2‖RS then a KCL equation at node Vx yields I = Vx + V g V + xx Rm π C RF + Req From a vol(tage divider) equation, we find that RV = eq π R + V Rx eq F Combining these two equations, we find the output resistance to be V R = x of = 1.75 k Ix Comment: The input resistance with no feedback would be rπ = 5.28 k. The shunt input feedback connection has lowered the input resistance to Ri f = 0.443 k. Similarly, the output resistance with no feedback would be RC = 10 k. The shunt output feedback connection has lowered the output resistance to Rof = 1.75 k. The decrease in both the input and output resistances agrees with the ideal feedback theory. EXERCISE PROBLEM Ex 12.14: Consider the feedback circuit in Figure 12.39, with transistor parameters VT N = 0.8 V and Kn = 1.5 mA/V2. Let RF = 47 k. (a) Determine the output resistance Rof for λ = 0. (b) Repeat part (a) for λ = 0.04 V−1. (Ans. (a) Rof = 0.9358 k, (b) Rof = 0.9107 k) The magnitude of the transfer function, input resistance, and output resistance of the discrete transistor feedback circuit all tend to approach the ideal values if additional transistor stages are included to increase the basic amplifier gain. As an example, a multistage shunt–shunt connection is shown in Figure 12.41. Once again, several nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 901 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 901 RF VCC RC RC′ RC″ RR ′ R2″2 2 C → ∞ RC CC C + S + RL vo vi RR1′ R1″ 1 REC RE′ C RE″ C – – Figure 12.41 Example of multistage shunt–shunt feedback circuit capacitors are included, which simplifies the dc analysis. However, the capacitors may adversely affect the circuit frequency response. Since negative feedback is desired, there must be an odd number of negative gain stages. As the number of stages increases, the open-loop gain increases, and the circuit characteristics approach those of the ideal shunt–shunt configuration. The analysis of this circuit is left as a computer simulation problem at the end of the chapter. Test Your Understanding TYU 12.11 Consider the BJT feedback circuit in Figure 12.37(a). The transistor parameters are hF E = 180, VB E(on) = 0.7 V, and VA = ∞. (a) Determine the voltage gain Av = vo/vi for (i) RF = ∞ and (ii) RF = 60 k. (b) Repeat part (a) if hF E decreases to hF E = 120. (c) By what percent do the magnitudes of the voltage gains change from part (a) to part (b)? (Ans. (a) (i) Av = −48.19, (ii) Av f = −5.212; (b) (i) Av = −41.72, (ii) Av f = −5.111; (c) (i) −13.4%, (ii) −1.93%) TYU 12.12 The transistor parameters for the circuit shown in Figure 12.37(a) are hF E = 180, VB E(on) = 0.7 V, and VA = ∞. (a) Determine the output resistance Rof for (i) RF = ∞ and (ii) RF = 60 k. (b) Repeat part (a) if hF E decreases to hF E = 120. (Ans. (a) (i) Ro = 10 k, (ii) Rof = 1.126 k; (b) (i) Ro = 10 k, (ii) Rof = 1.27 k) 12.8 LOOP GAIN Objective: • Derive the loop gain of ideal and practical feedback circuits. In previous sections, the loop gain Twas easily determined for circuits involving ideal op-amps. For discrete transistor circuits, however, the loop gain usually cannot be obtained directly from the closed-loop transfer function. As we will see later in"
12.8 Loop Gain,"12.8 LOOP GAIN Objective: • Derive the loop gain of ideal and practical feedback circuits. In previous sections, the loop gain Twas easily determined for circuits involving ideal op-amps. For discrete transistor circuits, however, the loop gain usually cannot be obtained directly from the closed-loop transfer function. As we will see later in nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 902 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 902 Part 2 Analog Electronics this chapter, loop gain is an important parameter in the stability of a feedback circuit; we will describe a number of techniques for determining the loop gain. 12.8.1 Basic Approach The general feedback network was shown in Figure 12.1 and is repeated in Figure 12.42(a). To find the loop gain, set the source Si equal to zero, and break the feedback loop at some point. Figure 12.42(b) shows a feedback network in which the loop is broken at the amplifier input and a test signal St is applied at this point. The amplifier output signal is So = ASt , and the feedback signal is Sf b = βSo = AβSt The return signal Sr, which was previously the error signal, is now −Sf b (the minus sign indicates negative feedback). Therefore, Sr = −Aβ (12.94) St Si + Se So + Sr St So Source Σ A Load Si = 0 Σ A – – Sfb Sfb b b (a) (b) Figure 12.42 (a) Ideal configuration of a feedback amplifier; (b) basic feedback network with loop broken at amplifier input The ratio of the return signal Sr to the test signal St is the negative of the loop gain factor. As the feedback loop is broken, the conditions that existed prior to the loop being broken must remain unchanged. These conditions include: maintaining the same transistor biasing and maintaining the same impedance at the return point. An equivalent impedance must therefore be inserted at the point where the loop is broken. This is shown in Figure 12.43. Figure 12.43(a) shows the amplifier input + Σ A So Rin – + + R + Σ Sin VA r – Vtt o – – Sfb Sfb b b (a) (b) Figure 12.43 (a) Basic feedback network, showing amplifier input resistance and (b) feedback network after the loop is broken, showing test voltage and load resistance nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 903 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 903 impedance Rin prior to the loop being broken. Figure 12.43(b) shows the configuration after the loop is broken. A test voltage Vt is applied, and a load impedance Rin is inserted at the output of the broken loop. The return voltage is then measured at this output terminal. The loop gain is found to be T = VA = − r β (12.95) Vt Also, a test current It maybe applied and a return current signal Ir measured, to find the loop gain as IT = − r (12.96) It As an example, consider the circuit shown in Figure l2.44(a). The circuit is similar to the one considered in Examples 12.13 and 12.14. The feedback loop is broken at the input to the transistor, at the point marked X. The small-signal equivalent circuit is shown in Figure 12.44(b). A test voltage is applied to the base of the transistor and the equivalent load resistance rπ is connected at the return point. The input signal current is set equal to zero. VCC = 10 V R = RC = 10 kΩ 1 51 kΩ Break vo CC1 → ∞ i RS = R2 = i 10 kΩ 5.5 kΩ RE = CE → ∞ 0.5 kΩ RF = 82 kΩ CC2 → ∞ (a) Vr Vo + RS R r + 1⎪⎪R2 p V g Vt – Vp rpm p RC – RF (b) Figure 12.44 (a) Feedback circuit prior to breaking the loop and (b) small-signal equivalent circuit after breaking the loop nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 904 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 904 Part 2 Analog Electronics Since Vπ = Vt , if we define Req = RS‖R1‖R2‖rπ , then the output voltage can be written Vo = −gm Vt [RC‖(RF + Req)] (12.97) From a vo(ltage divider), the return voltage Vr expression is = RV eq r Vo (12.98) RF + Req Substituting Equation ((12.97) into )Equation (12.98) yields the loop gain = −VT r = + R g eq m + [RC‖(RF + Req)] (12.99(a)) Vt RF Req which can be wri(tten as ) = RT g R eq ( m c) + + (12.99(b)) RC RF Req EXAMPLE 12.15 Objective: Determine the loop gain for a feedback circuit. Consider the circuit shown in Figure 12.44(a), with transistor parameters: hF E = 100, VB E(on) = 0.7 V, and VA = ∞. From Example 12.13, the quiescent collector current is IC Q = 0.492 mA, and the resulting small-signal parameters are rπ = 5.28 k and gm = 18.9 mA/V. Solution: The equivalent resistance is Req = RS‖R1‖R2‖rπ = (10)‖(51)‖(5.5)‖(5.28) = 2.04 k From Equation (1(2.99(b)), the loop )gain is T = R g eq ( m RC) RC(+ RF + Req ) = 2.04 [(18.9)(10)] 10 + + = 4.10 82 2.04 If the transistor current gain hFE increases to 1000, then IC Q = 0.541 mA, rπ = 48.1 k, and gm = 20.81 mA/V. The new value of Req becomes 3.10 k and the loop gain is T = 6.78. Comment: Since the loop gain is a function of the basic amplifier gain, we expect this parameter to change as the transistor current gain changes. Also, since no capacitance effects were considered, the loop gain is a positive, real number that corresponds to negative feedback. EXERCISE PROBLEM Ex 12.15: Consider the circuit in Figure 12.44(a) with a new value of RE = 1 k. The transistor parameters are: hF E = 120, VB E (on) = 0.7 V, and VA = ∞. Determine the loop gain T. (Ans. T = 2.75) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 905 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 905 12.8.2 Computer Analysis The loop gain can also be determined from a computer analysis of the feedback circuit. In Example 12.16, we demonstrate a direct approach to determining the loop gain. First, we consider the circuit analyzed in the last example, to correlate the results of a computer analysis to those of a hand analysis. Then, we determine the loop gain of a feedback circuit when taking capacitance effects into account. EXAMPLE 12.16 Objective: Determine the loop gain factor for a feedback circuit, using a computer simulation analysis. Consider the circuit in Figure 12.44(a). Solution: We determine the loop gain factor by using the circuit in Figure 12.45, in which the loop is effectively broken at the base of the transistor. The circuit conditions, however, must remain unchanged from those prior to breaking the loop. This includes maintaining the same bias currents in the transistor and terminating the broken loop with the proper impedance. VCC = 10 V RC = 10 kΩ R1 = 51 kΩ Vo CC1 Vr L → ∞ CC2 CC3 RS = R2 = 10 kΩ 5.5 kΩ R + RE = C → ∞ p Vt – 0.5 kΩ E RF = 82 kΩ CC4 Figure 12.45 Feedback circuit with the loop effectively broken, for determining the loop gain from a computer analysis A large inductance is inserted in the transistor base connection, to act as a short circuit for dc signals, so that the proper dc bias can be maintained on the transistor, and to act as an open circuit for ac signals, so that the loop appears to be broken for the ac signal. A test voltage Vt is applied to the base of the transistor through a coupling capacitor, and a load resistance Rp is connected through a coupling capacitor at the return point. These coupling capacitors act as short circuits to the ac signals, but as open circuits to dc signals, so that the dc bias is not disturbed by these elements. From the computer simulation, the loop gain for a transistor current gain of hF E = 100 is T = −Vr/Vt = 5.04 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 906 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 906 Part 2 Analog Electronics For a current gain of 1000, the loop gain is T = 9.37. These values differ slightly from the hand analysis results in Example 12.15. The slight difference arises because the quiescent collector currents determined in the hand analysis and the computer analysis are not quite the same, leading to different values of gm and rπ . Comment: The analysis of this circuit is straightforward. In the next example, we demonstrate another advantage of a computer analysis. EXERCISE PROBLEM Ex 12.16: Consider the feedback circuit described in Exercise Problem Ex 12.15. Determine the loop gain from a PSpice analysis. When capacitances are part of the feedback circuit, the phase of the loop gain becomes a factor in determining whether the feedback is negative or positive. Figure 12.46 shows a three-stage amplifier with feedback. Each stage is the same as the circuit given in Figure 12.44(a). For an odd number of stages at low frequency, the loop gain is a positive, real quantity, and negative feedback is applied. The coupling and emitter bypass capacitors are assumed to be very large, and capacitors C1, C2, and C3 between the stages can represent either load capacitances or transistor input capacitances. As the frequency increases, the magnitude of the loop gain decreases, because of decreasing capacitor impedances, and the phase of the loop gain also changes. RF VCC CC5 RC1 RC2 RC3 R1AR2AR3A Vr L CC3 CC4 Q1 Q2 Q3 CC1 CC2 C3 RS R1BC1 R2BC2 R3BR + RC p Vt E1 E1 RE2 CE2 RE3 CE3 Figure 12.46 The ac equivalent circuit of three-stage feedback amplifier, including load capacitors EXAMPLE 12.17 Objective: Determine the magnitude and phase of the loop gain of a multistage feedback circuit. Consider the circuit in Figure 12.46, with parameters: RS = 10 M, RA = 51 k, RB = 5.5 k, RF = 82 k, RC = 10 k, and C = 100 pF. The transistor current gains are assumed to be hF E = 15, which keeps the overall gain fairly small. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 907 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 907 Solution: The loop is broken at the base of Q1, and the ratio of the return signal to the test signal is measured by the same technique shown in Figure 12.45. The magnitude of Vr/Vt versus frequency is shown in Figure 12.47(a). The magnitude of loop gain drops off with frequency, as expected, and is equal to unity at approximately 5.5 MHz. Vr Vt 120 100 Phase 10 (degrees) 180 150 120 1.0 90 60 30 0 104 105 106 107 f (Hz) 104 –30 105 106 107 f (Hz) (a) (b) Figure 12.47 (a) Bode plot of loop gain magnitude for three-stage feedback amplifier, from Example 12.17; (b) phase of the return signal for the three-stage amplifier The phase of the return signal is shown in Figure 12.47(b). Since the loop gain is given by T = −V /V , then the phase of the loop gain is T = −180◦ rt + Vr − Vt where the −180◦ corresponds to the minus sign. Since the phase of the input signal was set to zero, then the phase of the loop gain is T = −180◦ + Vr . At low frequencies, where the phase of the return signal is approximately +180◦, the phase of the loop gain is essentially zero, corresponding to negative feedback. At approximately f = 2.5 MHz, the phase of the return signal is zero so that the phase of the loop gain is −180◦, which corresponds to positive feedback. Comment: For this circuit, the loop gain magnitude is greater than unity at the frequency at which the phase of T is −180 degrees. As discussed in the next section, this condition means that the circuit is unstable and will oscillate. EXERCISE PROBLEM Ex 12.17: Consider the feedback circuit in Figure 12.16, with the equivalent circuit given in Figure 12.17. Break the feedback loop at an appropriate point, and derive the expression for the loop gain. (Ans. T = Av/[1 + R2/(R1‖Ri )]) A hand analysis of the three-stage amplifier just considered would be tedious, especially taking the frequency response into account. In this case, a computer analysis is more suitable. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 908 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 908 Part 2 Analog Electronics Test Your Understanding TYU 12.13 Consider the circuit in Figure 12.44(a) with parameters described in Example 12.15. Determine the percentage change in the loop gain T as hF E increases from hF E = 100 to hF E = 150. (Ans. +17.3% change) TYU 12.14 Consider the circuit in Figure 12.16 with the equivalent circuit in Figure 12.17. Assume A = 104 v , Ri = 50 k, R1 = 5 k, R2 = 20 k and Ro = 0. Calculate the loop gain T . (Ans. T = 1.85 × 103) 12.9 STABILITY OF THE FEEDBACK CIRCUIT Objective: • Determine the stability criteria of feedback circuits. In negative feedback, a portion of the output signal is subtracted from the input signal to produce the error signal. However, as we found in the last section, this subtraction property, or the loop gain, may change as a function of frequency. At some frequencies, the subtraction may actually be addition; that is, the negative feedback may become positive, producing an unstable system. In this section, we will examine the stability of feedback circuits. 12.9.1 The Stability Problem The basic feedback configuration is shown in Figure 12.1, and the ideal closed-loop transfer function is given by Equation (12.5), which is repeated here: SA A = of = (12.5) Si (1 + β A) The open-loop gain is a function of the individual transistor parameters and capacitances, and is therefore a function of frequency. The closed-loop gain can then be written as A(s) A(s) Af (s) = + = + (12.100) (1 β A(s)) 1 T (s) where T(s) is the loop gain. For physical frequencies, s = jω, and the loop gain is T ( jω), which is a complex function. The loop gain can be represented by its magnitude and phase, as follows: T ( jω) = |T ( jω)| φ (12.101) The closed-loop gain can be written A( jω) Af ( jω) = + (12.102) 1 T ( jω) The stability of the feedback circuit is a function of the loop gain T ( jω). If the loop gain magnitude is unity when the phase is 180 degrees, then T ( jω) = −1 and the closed-loop gain goes to infinity. This implies that an output will exist for a"
12.9 Stability of the Feedback Circuit,"12.9 STABILITY OF THE FEEDBACK CIRCUIT Objective: • Determine the stability criteria of feedback circuits. In negative feedback, a portion of the output signal is subtracted from the input signal to produce the error signal. However, as we found in the last section, this subtraction property, or the loop gain, may change as a function of frequency. At some frequencies, the subtraction may actually be addition; that is, the negative feedback may become positive, producing an unstable system. In this section, we will examine the stability of feedback circuits. 12.9.1 The Stability Problem The basic feedback configuration is shown in Figure 12.1, and the ideal closed-loop transfer function is given by Equation (12.5), which is repeated here: SA A = of = (12.5) Si (1 + β A) The open-loop gain is a function of the individual transistor parameters and capacitances, and is therefore a function of frequency. The closed-loop gain can then be written as A(s) A(s) Af (s) = + = + (12.100) (1 β A(s)) 1 T (s) where T(s) is the loop gain. For physical frequencies, s = jω, and the loop gain is T ( jω), which is a complex function. The loop gain can be represented by its magnitude and phase, as follows: T ( jω) = |T ( jω)| φ (12.101) The closed-loop gain can be written A( jω) Af ( jω) = + (12.102) 1 T ( jω) The stability of the feedback circuit is a function of the loop gain T ( jω). If the loop gain magnitude is unity when the phase is 180 degrees, then T ( jω) = −1 and the closed-loop gain goes to infinity. This implies that an output will exist for a nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 909 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 909 zero input, which means that the circuit will oscillate. If we are trying to build a linear amplifier, an oscillator is considered an unstable circuit. We will show that if |T ( jω)| < 1 when the phase is 180 degrees, the system is stable, whereas if |T ( jω)| ≥ 1 when the phase is 180 degrees, the system is unstable. To study the stability of feedback circuits, we must therefore analyze the frequency response of the loop gain factor. 12.9.2 Bode Plots: One-, Two-, and Three-Pole Amplifiers Figure 12.48(a) shows a simple single-stage common-emitter current amplifier. The high-frequency small-signal equivalent circuit is shown in Figure 12.48(b). The capacitance C1 includes the forward-biased base-emitter junction capacitance as well as the effective Miller capacitance. The Miller capacitance and Miller effect were discussed in Chapter 7. The equivalent circuit shown in Figure 12.48(b) is identical to that developed in Figure 7.46. The output current in Figure 12.48(b) is given b(y ) = RI Co R + g Rm Vπ (12.103) CL and the volta[ge Vπ∥∥∥∥(is )] 1 Vπ = Ii Rπ (12.104) sC1 where Rπ =[rπ‖RB = rπ‖]R1‖R2 . Equation (12.104) can be expanded to Vπ = RI π i (12.105) 1 + s RπC1 Substituting Equation (12.105) into (12.103), we get an expression for the small- signal current ga(in, )[ ] R 1 Ai = g RC m π + + (12.106) RC RL 1 s RπC1 VCC RC R1 CC1 → ∞ CC2 → ∞ io R + LR = i Bi R2 Ii V r g V RR R1⎪⎪R pp C1 mp C Io L 2 – (a) (b) Figure 12.48 (a) Single-stage common-emitter amplifier and (b) small-signal equivalent circuit, including input capacitance nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 910 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 910 Part 2 Analog Electronics When we sets = jω = j (2π f ), Equation (12.106) can be written as Ai = A(io ) (12.107) f 1 + j f1 where Aio is the low-frequency or midband gain and f1 is the upper 3 dB frequency. The gain is a complex function tha(t can) be written Ai = √ A(io ) − tan−1 f (12.108) f 2 f1 1 + f1 Figure 12.49(a) is a Bode plot of the current gain magnitude, and Figure 12.49(b) is a Bode plot of the current gain phase. Note that, from the definition of the directions of input and output currents, the output current is in phase with the input current at low frequencies. At high frequencies, the output current becomes 90 degrees out of phase with respect to the input current. This single-stage circuit is an example of a one-pole amplifier. As we have previously shown, similar expressions can be obtained for voltage gain, the transresistance transfer function, and the transconductance transfer function. |Ai|dB Phase Aio –6 dB/octave f1 or 0 –20 dB/decade f –45° –90° f1 f (a) (b) Figure 12.49 Bode plots of current gain for single-stage common-emitter amplifier: (a) magnitude and (b) phase Figure 12.50 shows the small-signal equivalent circuit of a two-stage amplifier, using the same hybrid-π configuration for the transistors. The capacitance C2 is the input capacitance of the second transistor, including the effective Miller capacitance. The output current is Io = −gm2Vπ2 (12.109) + + I CR o 1 L1 CI 2 i Vp1 Rp1 Vp 2 Rp 2 RL2 gm1Vp1 gm2V – – p 2 Figure 12.50 Small-signal equivalent circuit, two-stage amplifier including input capacitances nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 911 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 911 and Vπ2 is [ ∥∥∥ ∥∥ V ∥( ) ] 1 π2 = −gm1Vπ1 RL1 ∥Rπ2 ∥ (12.110) sC2 The voltage V[π1 is ∥∥∥∥( )] 1 Vπ1 = Ii Rπ1 (12.111) sC1 Combining Equations (12.109), (12.110), and (12.111) yields an expression for the small-signal current gain, as follows: [ ] [ ] I 1 1 A = oi = (gm1g I m2)(Rπ1)(RL1‖Rπ2) i 1 + s Rπ1C1 1 + s(RL1‖Rπ2)C2 (12.112) Settings = jω = j (2π f ), we can write Equation (12.112) A A ii = ( )(o ) (12.113) + f + f 1 j 1 j f1 f2 where f1 = 1/2π Rπ1C1 and f2 = 1/2π(RL1‖Rπ2)C2. Frequency f1 is the upper 3 dB frequency of the first stage, and f2 is the upper 3 dB frequency of the second stage. This two-stage circuit is an example of a two-pole amplifier. Equation (12.113) can be written [ ( ) ( )] A = √ ( )A√io ( ) − f tan−1 + tan−1 f i (12.114) + f 2 + f 2 f1 f2 1 1 f1 f2 Figure 12.51(a) is a Bode plot of the current gain magnitude, assuming f1 f2. This assumption implies that the two poles are far apart. The Bode plot of the current gain phase is shown in Figure 12.51(b). Again the phase of the output current is in phase with the input current at low frequency. This phase relation is a direct result of the way the directions of current were defined. At high frequencies, the output current becomes 180 degrees out of phase with respect to the input current. |Ai|dB –6 dB/octave or Phase Aio ff –20 dB/decade 1 2 0 –12 dB/octave f –45° or –40 dB/decade –90° –135° –180° f1 f2 f (a) (b) Figure 12.51 Bode plots of current gain for two-stage amplifier: (a) magnitude and (b) phase nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 912 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 912 Part 2 Analog Electronics v1 Diff-amp Gain Output v v2 stage stage stage o Figure 12.52 Three-stage amplifier An op-amp is a three-stage amplifier, as shown in Figure 12.52. Since each stage has an equivalent input resistance and capacitance, this circuit is an example of a three-pole amplifier. The overall gain can be expressed as = ( )( A A o )( ) (12.115) ff f 1 + j 1 + j 1 + j f1 f2 f3 where Ao is the low-frequency gain factor. Assuming the poles are far apart (let f1 f2 f3), the Bode plots of the gain magnitude and phase are shown in Figure 12.53. At very high frequencies, the phase difference between the output and input signals is −270 degrees. |Ai |dB Phase –6 dB/octave or –12 dB/octave f1 f2 f3 –20 dB/decade 0 Aio or f –40 dB/decade –18 dB/octave or –90° –60 dB/decade –180° f1 ff f –270° 2 3 (a) (b) Figure 12.53 Bode plots of three-stage amplifier gain: (a) magnitude and (b) phase If we assume an ideal feedback amplifier, the loop gain is T ( jω) = β A( jω) (12.116) where the feedback transfer function β is assumed to be independent of frequency. For op-amp feedback circuits, we can determine the feedback transfer function β , as previously shown, and the basic amplifier characteristics are assumed to be known. For a three-stage amplifier, the loop gain is therefore T ( f ) = ( )( β Ao )( ) (12.117) + ff f 1 j 1 + j 1 + j f1 f2 f3 Both the magnitude and phase of the loop gain are functions of frequency. For the three-stage amplifier, the phase will be −180 degrees at some particular frequency, which means that the amplifier may become unstable. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 913 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 913 12.9.3 Nyquist Stability Criterion In the last section, we saw that a feedback system can become unstable. Several methods can be used to determine whether a system is stable or unstable. The method we will consider is called the Nyquist stability criterion. This method not only determines if a system is stable, it also indicates the degree of system stability. To apply this method, we must plot a Nyquist diagram, which is a polar plot of the loop gain factor T ( jω). The loop gain, which is a complex function, can be written in terms of its magnitude and phase, T ( jω) = |T ( jω)| φ , as shown in Equation (12.101). The Nyquist diagram is a plot of the real and imaginary components of T ( jω) as the frequency ω varies from minus infinity to plus infinity. Although negative frequencies have no physical meaning, they are not mathematically excluded in the loop gain function. The polar plot for negative frequencies, as we will see, is the complex conjugate of the polar plot for positive frequencies. The loop gain for a two-pole amplifier is, from Equation (12.113), β AT ( jω) = ( )(io ) (12.118) + ω ω 1 j 1 + j ω1 ω2 where ω1 and ω2 are the upper 3 dB radian frequencies of the first and second stages, respectively. We can also write Equation (12.11[8) in th(e for)m ( )] β AT ( j io ω) = √ ( ) √ ( ) − tan−1 ω + ω tan−1 2 2 ω ω ω1 ω2 1 + 1 + ω1 ω2 (12.119) The Nyquist plot of Equation (12.119) is shown in Figure 12.54. At ω = 0, the magnitude of T ( jω) is β Aio and the phase is zero. As ω increases, the magnitude decreases and the phase is negative. From Equation (12.119), we see that for negative values of ω, the magnitude also decreases, but the phase becomes positive. This means that the loop gain function for negative frequencies is the complex conjugate of the loop gain function for positive frequencies, and the real axis is the axis of symmetry. As ω approaches +∞, the magnitude approaches zero and the phase approaches −180 degrees. Imag. T( jw) +90° w 0– +180° w = –∞ w = 0– –180° –f w = 0+ Real T( jw) w = +∞ |T( jw)| w ∞ –90° Figure 12.54 Nyquist plot, loop gain for two-stage amplifier nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 914 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 914 Part 2 Analog Electronics The loop gain for a three-pole amplifier is, from Equation (12.117), T ( jω) = ( )( β Ao )( ) (12.120) + ω + ω + ω 1 j 1 j 1 j ω1 ω2 ω3 This loop gain function can also be written in the form = √ ( ) √ β(AT j o ( ω) ) √ ( ) φ (12.121(a)) 2 2 2 + ω + ω + ω 1 1 1 ω1 ω2 ω3 where φ is t[he pha(se, gi)ven by ( ) ( )] φ = − ω tan−1 + ω ω tan−1 + tan−1 (12.121(b)) ω1 ω2 ω3 Figure 12.55(a) shows one possible Nyquist plot. For ω = 0, the magnitude is β Ao and the phase is zero. As ω increases in the positive direction, the magnitude decreases and the phase becomes negative. As the Bode plot in Figure 12.53 shows, the phase goes through −90 degrees, then through −180 degrees, and finally approaches −270 degrees as the magnitude approaches zero. This same effect is shown in the Nyquist diagram. The plot approaches the origin and is tangent to the imaginary axis as ω → ∞. Again, the plot for negative frequencies is the mirror image of the positive frequency plot about the real axis. Imag. T( jw) w Imag. T(jw) 0– w 0– – –1, 0 –1, 0 w = +∞ w ∞ w = 0 = + w = 0– w = –∞ + w = –∞ + w = 0 w = 0 Real T(jw) Real T( jw) w w ∞ ∞ (a) (b) Figure 12.55 Nyquist plot, loop gain for three-stage amplifier, for: (a) stable system and (b) unstable system Another possible Nyquist plot for the three-pole loop gain function is shown in Figure 12.55(b). The basic plot is the same as that in Figure 12.55(a), except that the position of the point (−1, 0) is different. At the frequency at which the phase is −180 degrees, the curve crosses the negative real axis. In Figure 12.55(a), |T ( jω)| < 1 when the phase is −180 degrees, whereas in Figure 12.55(b), |T ( jω)| > 1 when the phase is −180 degrees. The Nyquist diagram encircles the point (−1, 0) in Figure 12.55(b), and this has particular significance for stability. For this treatment of a three-pole amplifier, the Nyquist criterion for stability of the amplifier can be stated as follows: “If the Nyquist plot encircles or goes through the point (−1, 0), the amplifier is unstable.” Using the criterion, a simpler test for stability can be used in most cases. If |T ( jω)| ≥ 1 at the frequency at which the phase is −180 degrees, then the amplifier is unstable. This simpler test allows us to use the Bode plots considered previously, instead of explicitly constructing the Nyquist diagram. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 915 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 915 EXAMPLE 12.18 Objective: Determine the stability of an amplifier, given the loop gain function. Consider a three-pole feedback amplifier with a loop gain given by = ( β(100) T ( f ) ) + f 3 1 j 105 In this case, the three poles all occur at the same frequency. Determine the stability of the amplifier for β = 0.20 and β = 0.02. Solution: The loop gain can be written in term(s of )its magnitude and phase, = ⎡√ β((100) ) ⎤ − −1 f T ( f ) 3 3 tan ⎣ 5 f 2 10 1 + ⎦ 105 The frequency( f180 at) which the phase becomes −180 degrees is −3 tan−1 f180 = −180◦ 105 which yields f180 = 1.73 × 105 Hz The magnitude of the loop gain at this frequency for, β = 0.20, is then | (0.20)(100) T ( f180)| = = 2.5 8 For β = 0.02, the magnitude is | | = (0.020)(100) T ( f180) = 0.25 8 Comment: The loop gain magnitude at the frequency at which the phase is −180 degrees is 2.5 when β = 0.20 and 0.25 when β = 0.02. The system is therefore unstable for β = 0.20 and stable for β = 0.02. EXERCISE PROBLEM Ex 12.18: The loop gain function of a feedback amplifier is given by β (3000) T ( f ) = ( )( ) + f + f 2 1 j 1 j 103 105 Determine the value of β at which the amplifier becomes unstable. (Ans. β = 0.0667) We can also consider the stability of the feedback system in terms of Bode plots. The Bode plot of the loop gain magnitude from the previous example is shown in Figure 12.56(a), for β = 0.20 and β = 0.02. The low-frequency loop gain magnitude is dependent on β , but the 3 dB frequency is the same in both cases. Since the three poles all occur at the same frequency, the magnitude of T( f ) decreases at the rate of −18 dB/octave at the higher frequencies. The frequencies at which |T ( f )| = 1 are indicated on the figure. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 916 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 916 Part 2 Analog Electronics |T( f )| b = 0.20 20 Phase 10 0 –45 b = 0.020 –90 –135 1.0 –180 –225 –270 0.1 103 104 f 5 6 A 10 fB 10 f (Hz) 103 104 f 5 A 10 fB 106 f (Hz) (a) (b) Figure 12.56 Bode plots of loop gain of function described in Example 12.18, for two values of feedback transfer function: (a) magnitude and (b) phase The phase of the loop gain function is shown in Figure 12.56(b). The two frequencies at which |T ( f )| = 1, for the two values of β, are also indicated. We see that |φ| > 180◦ at |T ( f )| = 1, when β = 0.20. This is equivalent to |T ( f )| > 1 when φ = −180◦ , which makes the system unstable. However, |φ| < 180◦ at |T ( f )| = 1, when β = 0.02, so the feedback circuit is stable for this feedback transfer factor. 12.9.4 Phase and Gain Margins From the discussion in the previous section, we can determine whether a feedback amplifier is stable or unstable by examining the loop gain as a function of frequency. This can be done from a Nyquist diagram or from the Bode plots. We can also use this technique to determine the degree of stability of a feedback amplifier. At the frequency at which the loop gain magnitude is unity, if the magnitude of the phase is less than 180 degrees, the system is stable. This is illustrated in Figure 12.57. The difference (magnitude) between the phase angle at this frequency and 180 degrees is called the phase margin. The loop gain can change due, for example, to temperature |T( jw)| Gain margin 1 f Phase 0 Phase f –90° margin –180° Figure 12.57 Bode plots of loop gain magnitude and phase, indicating phase margin and gain margin nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 917 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 917 variations, and the phase margin indicates how much the loop gain can increase and still maintain stability. Atypical desired phase margin is in the range of 45 to 60 degrees. A second term that describes the degree of stability is the gain margin, which is also illustrated in Figure 12.57. This function is defined to be |T ( jω)| in decibels at the frequency where the phase is −180 degrees. This value is usually expressed in dB and also gives an indication of how much the loop gain can increase and still maintain stability. EXAMPLE 12.19 Objective: Determine the required feedback transfer function β to yield a specific phase margin, and determine the resulting closed-loop low-frequency gain. Consider a three-pole feedback amplifier with a loop gain function given by = ( )( β(1000) T ( f ) )( ) 1 + f j 1 + ff j 1 + j 103 5 × 104 106 Determine the value of β that yields a phase margin of 45 degrees. Solution: A phase margin of 45 degrees implies that the phase of the loop gain is −135 degrees at the frequency at which the magnitude of the loop gain is unity. The phase of the[ loop g(ain is) ( ) ( )] = − −1 f + −1 f + f φ tan tan tan−1 103 5 × 104 106 Since the three poles are far apart, the frequency at which the phase is −135 degrees is approximately equal to the frequency of the second pole, as shown in Figure 12.53. In this exam[ple, f ∼ 4 1(35 = 5 × 1)0 Hz, so (we have th)at ( )] = − −1 5 × 104 + 5 × 104 5 × 104 φ tan tan−1 × + tan−1 103 5 104 106 or φ = − [88.9◦ + 45◦ + 2.86◦] ∼= −135◦ Since we want the loop gain magnitude to be unity at this frequency, we have | | = = √ ( ) √ β((1000) T ( f ) 1 × 2 × ) √ ( ) + 5 104 4 2 + 5 10 + 5 × 104 2 1 1 1 103 5 × 104 106 or ∼= β(1000) 1 (50)(1.41)(1) which yields β = 0.0707. The closed-loop low-frequency gain for this case is Ao 1000 Af o = + = = 13.9 1 β Ao 1 + (0.0707)(1000) Comment: For this value of β , if the frequency is greater than 5 × 104 Hz, the loop gain magnitude is less than unity. If the frequency is less than 5 × 104 Hz, the phase of the loop gain is |φ| < 135◦ (phase margin of 45 degrees). These conditions imply that the system is stable. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 918 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 918 Part 2 Analog Electronics EXERCISE PROBLEM Ex 12.19: Consider the loop gain function β( T ( f ) = ( )3(000) ) ff 2 1 + j 1 + j 103 105 For β = 0.008, determine the low-frequency closed-loop gain and the phase margin. (Ans. Af (0) = 120, phase margin = 66.8◦) Test Your Understanding TYU 12.15 Consider the loop gain function given in Exercise Ex 12.19. Determine the value of β that produces a phase margin of 45◦. (Ans. β = 0.0167) TYU 12.16 A two-pole feedback amplifier has an open-loop gain given by Equation (12.113), with parameters: Aio = 105 A/A, f1 = 104 Hz, and f2 = 105 Hz. The basic amplifier is connected to a feedback circuit, for which the feedback transfer ratio is β . Determine the value of β that results in a phase margin of 60 degrees. (Ans. β = 9.73 × 10−5 A/A) TYU 12.17 For the loop gain function given in Example 12.18, determine the value of β that produces a phase margin of 60 degrees. (Ans. β = 0.0222) 12.10 FREQUENCY COMPENSATION Objective: • Consider frequency compensation techniques, methods by which unstable feedback circuits can be stabilized. In the previous section, we presented a method for determining whether a feedback system is stable or unstable. In this section, we will discuss a method for modifying the loop gain of a feedback amplifier, to make the system stable. The general technique of making a feedback system stable is called frequency compensation. 12.10.1 Basic Theory One basic method of frequency compensation involves introducing a new pole in the loop gain function, at a sufficiently low frequency that |T ( f )| = 1 occurs when |φ| < 180◦. As an example, consider the Bode plots of a three-pole loop gain magnitude and phase given in Figure 12.58 and shown by the solid lines. In this case, when the magnitude of the loop gain is unity, the phase is nearly −270 degrees and the system is unstable. If we introduce a new pole fPD at a very low frequency, and if we assume that the original three poles do not change, the new Bode plots of the magnitude and phase will be as shown by the dotted lines in Figure 12.58. In this situation, the"
12.10 Frequency Compensation,"12.10 FREQUENCY COMPENSATION Objective: • Consider frequency compensation techniques, methods by which unstable feedback circuits can be stabilized. In the previous section, we presented a method for determining whether a feedback system is stable or unstable. In this section, we will discuss a method for modifying the loop gain of a feedback amplifier, to make the system stable. The general technique of making a feedback system stable is called frequency compensation. 12.10.1 Basic Theory One basic method of frequency compensation involves introducing a new pole in the loop gain function, at a sufficiently low frequency that |T ( f )| = 1 occurs when |φ| < 180◦. As an example, consider the Bode plots of a three-pole loop gain magnitude and phase given in Figure 12.58 and shown by the solid lines. In this case, when the magnitude of the loop gain is unity, the phase is nearly −270 degrees and the system is unstable. If we introduce a new pole fPD at a very low frequency, and if we assume that the original three poles do not change, the new Bode plots of the magnitude and phase will be as shown by the dotted lines in Figure 12.58. In this situation, the nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 919 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 919 |T ( f ) | 1 10 102 103 104 105 106 f (Hz) Phase fPD fP1 fP2 fP3 0 10 102 103 104 105 106 f (Hz) –90° –180° –270° Figure 12.58 Bode plots of loop gain magnitude and phase for three-stage amplifier, before frequency compensation (solid curves), and after frequency compensation (dotted curves) magnitude of the loop gain becomes unity when the phase is |φ| < 180◦, and the system is stable. Since the pole is introduced at a low frequency and since it dominates the frequency response, it is called a dominant pole. This fourth pole can be introduced by adding a fourth stage with an extremely large input capacitance. Though not practical, this method demonstrates the basic idea of stabilizing a circuit. EXAMPLE 12.20 Objective: Determine the dominant pole required to stabilize a feedback system. Consider a three-pole feedback amplifier with a loop gain given by = ( )( 1000 T ( f ) )( ) + f + ff 1 j 1 j 1 + j 104 106 108 Insert a dominant pole, assuming the original poles do not change, such that the phase margin is at least 45 degrees. Solution: By inserting a dominant pole, we change the loop gain function to TP D( f ) = ( )( 1)00(0 )( ) + f + ff f 1 j 1 j 1 + j 1 + j f 104 106 PD 108 We assume that fP D 104 Hz. A phase of −135 degrees, giving a phase margin of 45 degrees, occurs approximately at f 4 135 = 10 Hz. Since we want the loop gain magnitude to be unity at this frequency, we have |TP D( f135)| = 1 = √ ( ) √ 1 2 ( )00√0 ( ) √ ( ) + 104 + 104 2 4 2 4 2 1 1 1 + 10 + 10 1 f 4 6 8 PD 10 10 10 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 920 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 920 Part 2 Analog Electronics or 1 = √ ( 1)000 104 2 1 + (1.414)(1)(1) fP D Solving for the dominant pole frequency fP D , we find fP D = 14.14 Hz Comment: With high-gain amplifiers, the dominant pole must beat a very low frequency to ensure stability of the feedback circuit. EXERCISE PROBLEM Ex 12.20: Consider a three-pole amplifier with a loop gain function given by = ( )250 T( f ) ( ) + f 2 1 j 1 + f j 103 105 (a) Show that the system is unstable. (b) Stabilize the circuit by inserting a new dominant pole. Assume the original poles are not altered. At what frequency must the new pole be placed to achieve a phase margin of 60◦. (Ans. (a) For φ = −180◦, |T | = 1.25 > 1; (b) fP D = 2.67 Hz) Problem-Solving Technique: Frequency Compensation 1. To stabilize a circuit, insert a dominant pole or move an existing pole to a dominant pole position (see next section). Assume that the dominant pole frequency is small. Determine the frequency of the resulting loop gain function to achieve the required phase margin. 2. Set the magnitude of the loop gain function equal to unity at the frequency determined in step 1 to find the required dominant pole frequency. 3. To actually achieve the required dominant pole frequency in the circuit, a number of techniques are available (for example, see Miller compensation). One disadvantage of this frequency compensation method is that the loop gain magnitude, and in turn the open-loop gain magnitude, is drastically reduced over a very wide frequency range. This affects the closed-loop response of the feedback amplifier. However, the advantage of maintaining a stable amplifier greatly outweighs the disadvantage of a reduced gain, demonstrating another tradeoff in design criteria. 12.10.2 Closed-Loop Frequency Response Inserting a dominant pole to obtain the open-loop characteristics (dotted lines, Figure 12.58) is not as extreme or devastating to the circuit as it might first appear. Amplifiers are normally used in a closed-loop configuration, for which we briefly considered the bandwidth extension, in Section 12.2.3. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 921 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 921 For the region in which the frequency response is characterized by the dominant pole, the open-loop amplifier gain is A( f ) = Ao f (12.122) 1 + j fP D where Ao is the low-frequency gain and fPD is the dominant-pole frequency. The feedback amplifier closed-loop gain can be expressed as = A( f ) Af ( f ) (12.123) (1 + β A( f )) where β is the feedback transfer ratio, which is assumed to be independent of frequency. Substituting Equation (12.122) into (12.123), we can write the closed-loop gain as Af ( f ) = Ao × 1 (12.124) (1 + β Ao) + f 1 j fP D(1 + β Ao) The term Ao/(1 + β Ao) is the closed-loop low-frequency gain, and fP D(1 + β Ao) = fC is the 3 dB frequency of the closed-loop system. Figure 12.59 shows the Bode plot of the gain magnitude for the open-loop parameters A = 106 o and fP D = 10 Hz, at several feedback transfer ratios. As the closed-loop gain decreases, the bandwidth increases. As previously determined, the gain–bandwidth product is essentially a constant. | Af | b = 0 106 105 104 3 b = 10–4 10 2 b = 2 × 10–3 10 b = 0.10 10 1 10 102 103 104 105 106 107 f (Hz) fPD fC1 fC2 fC3 Figure 12.59 Bode plot, gain magnitude for open-loop and three closed-loop conditions EXAMPLE 12.21 Objective: Determine the shift in the 3 dB frequency when an amplifier is operated in a closed-loop system. Consider an amplifier with a low-frequency open-loop gain of A = 106 o and an open-loop 3 dB frequency of fP D = 10 Hz. The feedback transfer ratio is β = 0.01. Solution: The low-frequency closed-loop gain is = Ao = 106 Af (0) ∼ (1 + β Ao) 1 + = 100 (0.01)(106) nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 922 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 922 Part 2 Analog Electronics From Equation (12.124), the closed-loop 3dB frequency is fC = fP D(1 + β Ao) = (10)[1 + (0.01)(106)] or fC ∼= 105 Hz = 100 kHz Comment: Even though the open-loop 3 dB frequency is only 10 Hz, the closed- loop bandwidth is extended to 100 kHz. This effect is due to the fact that the gain–bandwidth product is a constant. EXERCISE PROBLEM Ex 12.21: An amplifier has an open loop response given by = ( 105 A( f ) ) + f 1 j 10 The amplifier is connected in a closed-loop configuration with β = 0.025. Determine the closed-loop low-frequency gain and closed-loop bandwidth. (Ans. Af (0) ∼= 40, fC ∼= 25 kHz) 12.10.3 Miller Compensation As previously discussed, an op-amp consists of three stages, with each stage normally responsible for one of the loop gain poles. Assume, for purposes of discussion, that the first pole fP1 is created by the capacitance effects in the second gain stage. Instead of adding a fourth dominant pole to achieve a stable system, we can move pole fP1 to a low frequency. This can be done by increasing the effective input capacitance to the gain stage. Previously in Chapter 7, we determined that the effective Miller input capacitance to a transistor amplifier is a feedback capacitance multiplied by the magnitude of the gain of the amplifier stage. We can use this Miller multiplication factor to stabilize a feedback system. The three-stage op-amp circuit is shown in Figure 12.60. The second stage, an inverting amplifier, has a feedback capacitor connected between the output and input. This capacitor CF is called a compensation capacitor. The effective input Miller capacitance is CM = CF(1 + A) (12.125) Since the gain of the second stage is large, the equivalent Miller capacitance will normally be very large. The pole introduced by the second stage is approximately 1 fP1 = (12.126) 2π R2CM CF v1 Diff-amp A Output – v v2 stage stage o Figure 12.60 Three-stage amplifier, including Miller compensation capacitor nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 923 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 923 where R2 is the effective resistance between the amplifier input node and ground. Resistance R2, then, is the parallel combination of the input resistance to the amplifier and the output resistance of the diff-amp stage. EXAMPLE 12.22 Objective: Determine the pole of the gain stage that includes a feedback capacitor. Consider again stage with an amplification A = 103, a feedback capacitor CF = 30 pF, and a resistance R 5 2 = 5 × 10 . Solution: The effective input Miller capacitance is CM = CF(1 + A) =∼ (30)(1000) pF = 3 × 10−8 F The dominant-pole frequency is therefore = 1 = 1 fP1 × × − = 10.6 Hz 2π R2 CM 2π(5 105)(3 10 8) Comment: The pole of the second stage can be moved to a significantly lower frequency by using the Miller effect. EXERCISE PROBLEM Ex 12.22: The loop gain function of an amplifier is described in Exercise Ex 12.20. To stabilize the circuit, the first pole at fP1 = 103 Hz is to be moved by introducing a compensation capacitor. Assume the other two poles remain fixed. Determine the frequency to which the first pole must be moved to achieve a phase margin of 45◦. (Ans. fP D = 194 Hz) The effect of moving pole fP1, using the Miller compensation technique, is shown in Figure 12.61. We assume at this point that the other two poles fP2 and fP3 |T ( f ) | 1 fP′1 fP1 fP2 fP3 Phase 0 fP′1 fP1 fP2 fP3 –90° –180° –270° Figure 12.61 Bode plots of loop gain for three-stage amplifier, before (solid curves) and after (dotted curves) incorporating Miller compensation capacitor: (a) magnitude and (b) phase nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 924 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 924 Part 2 Analog Electronics are not affected. Moving the pole fP1 to f ′ P1 means that the frequency at which |T ( f )| = 1 is lower, and that the phase is |φ| < 180◦, which means that the amplifier is stabilized. A detailed analysis of the system using Miller compensation shows that pole fP2 does not remain constant; it increases. This phenomenon is called pole-splitting. The increase in fP2 is actually beneficial, because it increases the phase margin, or the frequency at which a particular phase margin is achieved. 12.11 DESIGN APPLICATION: A MOSFET FEEDBACK CIRCUIT Objective: • Redesign a BJT feedback circuit using MOSFETs. Specifications: The circuit in Figure P12.36 is to be redesigned using MOSFETs. The new circuit configuration is shown in Figure 12.62. The output voltage is to be zero for vi = 0. V + = 12 V RD M3 RS = 1 kΩ R2 = 40 kΩ M1 M2 vo R = R = v + 1 Li – 10 kΩ 2 mA 4 kΩ 1 mA V – V – Figure 12.62 A MOSFET feedback circuit for the design application Choices: Assume that NMOS devices are available with parameters VT N = 1 V, Kn = 1 mA/V2, and λ = 0. Solution (DC Design): For vO = 0, the current in M3 is ID3 = 2 mA. Then I 2 D = Kn(VGS3 − VT N ) or 2 = (1)(VGS3 − 1)2 which yields VGS3 = 2.414 V"
12.11 Design Application: A MOSFET Feedback Circuit,"12.11 DESIGN APPLICATION: A MOSFET FEEDBACK CIRCUIT Objective: • Redesign a BJT feedback circuit using MOSFETs. Specifications: The circuit in Figure P12.36 is to be redesigned using MOSFETs. The new circuit configuration is shown in Figure 12.62. The output voltage is to be zero for vi = 0. V + = 12 V RD M3 RS = 1 kΩ R2 = 40 kΩ M1 M2 vo R = R = v + 1 Li – 10 kΩ 2 mA 4 kΩ 1 mA V – V – Figure 12.62 A MOSFET feedback circuit for the design application Choices: Assume that NMOS devices are available with parameters VT N = 1 V, Kn = 1 mA/V2, and λ = 0. Solution (DC Design): For vO = 0, the current in M3 is ID3 = 2 mA. Then I 2 D = Kn(VGS3 − VT N ) or 2 = (1)(VGS3 − 1)2 which yields VGS3 = 2.414 V nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 925 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 925 The voltage at the gate of M3 is then to be VG3 = 2.414 V. The current in M2 is 0.5 mA, so the resistance RD is = 12 − 2.414 RD = 19.2 k 0.5 Solution (AC Analysis): √We can find t√he small-signal parameters as gm1 = gm2 ≡ gm = 2 Kn ID1 = 2 (1)(0.5) = 1.414 mA/V and √ √ gm3 = 2 Kn ID3 = 2 (1)(2) = 2.828 mA/V The small-signal equivalent circuit is shown in Figure 12.63. Summing currents at the V1 node, we have gm Vgs1 + gm Vgs2 = 0 ⇒ Vgs2 = −Vgs1 RD + V g gs3 m3Vgs3 gm1Vgs1 gm2Vgs2 – RS = 1 kΩ V2 R2 = 40 kΩ + V + o V V gs1 – gs2 + V – V 1 i R1 = 10 kΩ RL = – 4 kΩ Figure 12.63 Small-signal equivalent circuit of the MOSFET feedback circuit for the design application Writing a KVL equation from the input, we find Vi = Vgs1 − Vgs2 + V2 = −2Vgs2 + V2 or = V V 2 − Vi gs2 2 We see that 1 Vgs3 = −gm Vgs2 RD − Vo = − (V2 − Vi ) RD − V 2 o Also ( ) ( ) V = R1 10 2 + Vo = V RR 10 + 40 o = 0.2 Vo 1 2 so that = −1 Vgs3 gm[(0.2)Vo − V 2 i ] RD − Vo nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 926 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 926 Part 2 Analog Electronics Summing currents at the output node, we obtain V V gm3V o o gs3 = + RL R1 + R2 or { } −1 V V gm3 gm [(0.2)V − V ] R − V = o + o 2 oi Do RL R1 + R2 Combining terms, we ob[tain ( ) ] 1 1 1 1 gm3gm RDVi = Vo gm3 1 + gm(0.2)RD + + + (12.127) 2 2 RL R1 R2 Substituting parameters, we find 1 (2.828[)(1.414)((19.2)V 2 i ) ] = 1 1 1 Vo (2.828) 1 + (1.414)(0.2)(19.2) + + 2 4 10 + 40 The closed-loop voltage gain is then Av = Vo = 3.56 Vi Solution (Gain Variations): One of the advantages of feedback is that the closed-loop gain is relatively insensitive to changes in the individual transistor parameters. Determine the closed-loop gain if the conduction parameters decrease by 10 percent. The new values of the√ small-signal√ parameters are gm1 = gm2 ≡ gm = 2 Kn ID1 = 2 (0.9)(0.5) = 1.342 mA/V and √ √ gm3 = 2 Kn ID3 = 2 (0.9)(2) = 2.683 mA/V Substituting these values into Equation (12.127), we obtain 1 (2.683)[(1.342)((19.2)V 2 i ) ] = + 1 + 1 1 Vo (2.683) 1 (1.342)(0.2)19.2 + 2 4 10 + 40 The closed-loop gain is then VA = o v = 3.50 Vi Comment: With a decrease of 10 percent in the transistor conduction parameters, the closed-loop gain has decreased by less than 2 percent. Even though we are considering a relatively simple feedback circuit with only three transistors, the advantage of feedback is observed. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 927 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 927 12.12 SUMMARY • In a feedback circuit, a portion of the output signal is fed back to the input and combined with the input signal. In negative feedback, a portion of the output signal is subtracted from the input signal. In positive feedback, a portion of the output signal is added to the input signal. • An important advantage of negative feedback is that the closed-loop amplifier gain is essentially independent of individual transistor parameters and is a function only of the feedback elements. • Negative feedback increases bandwidth, may increase the signal-to-noise ratio, reduces nonlinear distortion, and controls input and output impedance values at the expense of reduced gain magnitude. • There are four basic feedback topologies. A series input connection is used when the input signal is a voltage, and a shunt input connection is used when the input signal is a current. A series output connection is used when the output signal is a current, and a shunt output connection is used when the output signal is a voltage. • The loop gain factor of a feedback amplifier is defined as T = Aβ , which is dimensionless and where A is the gain of the basic amplifier and β is the feedback factor. The loop gain is a function of frequency and is complex when the input capacitance of each transistor stage is taken into account. • A three-stage negative feedback amplifier is guaranteed to be stable when, at the frequency for which the phase of the loop gain is −180 degrees, the magnitude of loop gain is less than unity. • A common technique of frequency compensation utilizes the Miller multiplication effect by incorporating a feedback capacitor across, usually, the second stage of the amplifier. • As an application, a MOSFET feedback circuit was designed. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Describe the ideal feedback circuit configuration. ✓ Describe some of the advantages and disadvantages of negative feedback. ✓ Discuss the general characteristics of the four basic feedback configurations in terms of input and output signals and input and output resistances. ✓ Design a feedback circuit given the input signal and desired output signal. ✓ Determine the loop gain of a feedback circuit. ✓ Determine whether or not a three-stage feedback amplifier is stable. ✓ Stabilize a three-stage amplifier using frequency compensation techniques. ✓ Analyze op-amp and discrete transistor circuits that are examples of the four basic feedback configurations. REVIEW QUESTIONS 1. What are the two general types of feedback and what are the advantages and disadvantages of each type? 2. Write the ideal form of the general feedback transfer function. 3. Define the loop gain factor. 4. What is the difference between open-loop gain and closed-loop gain?"
12.12 Summary,"12.12 SUMMARY • In a feedback circuit, a portion of the output signal is fed back to the input and combined with the input signal. In negative feedback, a portion of the output signal is subtracted from the input signal. In positive feedback, a portion of the output signal is added to the input signal. • An important advantage of negative feedback is that the closed-loop amplifier gain is essentially independent of individual transistor parameters and is a function only of the feedback elements. • Negative feedback increases bandwidth, may increase the signal-to-noise ratio, reduces nonlinear distortion, and controls input and output impedance values at the expense of reduced gain magnitude. • There are four basic feedback topologies. A series input connection is used when the input signal is a voltage, and a shunt input connection is used when the input signal is a current. A series output connection is used when the output signal is a current, and a shunt output connection is used when the output signal is a voltage. • The loop gain factor of a feedback amplifier is defined as T = Aβ , which is dimensionless and where A is the gain of the basic amplifier and β is the feedback factor. The loop gain is a function of frequency and is complex when the input capacitance of each transistor stage is taken into account. • A three-stage negative feedback amplifier is guaranteed to be stable when, at the frequency for which the phase of the loop gain is −180 degrees, the magnitude of loop gain is less than unity. • A common technique of frequency compensation utilizes the Miller multiplication effect by incorporating a feedback capacitor across, usually, the second stage of the amplifier. • As an application, a MOSFET feedback circuit was designed. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Describe the ideal feedback circuit configuration. ✓ Describe some of the advantages and disadvantages of negative feedback. ✓ Discuss the general characteristics of the four basic feedback configurations in terms of input and output signals and input and output resistances. ✓ Design a feedback circuit given the input signal and desired output signal. ✓ Determine the loop gain of a feedback circuit. ✓ Determine whether or not a three-stage feedback amplifier is stable. ✓ Stabilize a three-stage amplifier using frequency compensation techniques. ✓ Analyze op-amp and discrete transistor circuits that are examples of the four basic feedback configurations. REVIEW QUESTIONS 1. What are the two general types of feedback and what are the advantages and disadvantages of each type? 2. Write the ideal form of the general feedback transfer function. 3. Define the loop gain factor. 4. What is the difference between open-loop gain and closed-loop gain? nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 928 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 928 Part 2 Analog Electronics 5. Describe what is meant by the terms (a) gain sensitivity and (b) bandwidth extension. 6. Describe the series and shunt input connections of a feedback amplifier. 7. Describe the series and shunt output connections of a feedback amplifier. 8. Describe the effect of a series or shunt input connection on the value of input resistance. 9. Describe the effect of a series or shunt output connection on the value of output resistance. 10. Consider a noninverting op-amp circuit. Describe the type of input and output feedback connections. 11. Consider an inverting op-amp circuit. Describe the type of input and output feedback connections. 12. What is the Nyquist stability criterion for a feedback amplifier? 13. Using Bode plots, describe the conditions of stability and instability in a feedback amplifier. 14. Define phase margin. 15. What is meant by frequency compensation? 16. What is a dominant pole? 17. What is a common technique of frequency compensation in a feedback amplifier? PROBLEMS Section 12.2 Basic Feedback Concepts 12.1 (a) A negative-feedback amplifier has a closed-loop gain of Af = 100 and an open-loop gain of A = 5 × 104. Determine the feedback transfer function β . (b) If β = 0.012 and Af = 80, determine the open-loop gain A. 12.2 (a) The closed-loop gain of a negative-feedback amplifier is Af = −80 and the open-loop gain is A = −105. Find the feedback transfer function β . (b) If β = −0.015 and A = −5 × 104, determine the closed-loop gain Af . 12.3 The ideal feedback transfer function is given by Equation (12.5). (a) Assume the feedback transfer function is β = 0.15. Determine the loop gain T and the closed-loop gain Af for (i) A = ∞, (ii) A = 80 dB, and (c) A = 102. (b) Repeat part (a) for β = 0.25. 12.4 (a) The closed-loop gain of a feedback amplifier using an ideal feedback amplifier (A → ∞) is Af = 125. What is the value of β? (b) If the basic amplifier has a finite open-loop gain, what must be the value of A such that the closed-loop gain is within 0.25 percent of the ideal value. Use the results of part (a). 12.5 Consider the feedback system shown in Figure 12.1. The closed-loop gain is Af = −80 and the open-loop gain is A = −2 × 104. (a) Determine the feedback transfer function β . (b) The closed-loop gain is not to change by more than 0.01 percent when the open-loop gain changes. What is the maximum allowed change in the open-loop gain? 12.6 The open-loop gain of an amplifier is A = 5 × 104. If the open-loop gain decreases by 10 percent, the closed-loop gain must not change by more than 0.1 percent. Determine the required value of the feedback transfer function β and the closed-loop gain Af. 12.7 Two feedback configurations are shown in Figures P12.7(a) and P12.7(b). The closed-loop gain in each case is Av f = vo/vi = 50. (a) Determine β1"
Problems,"PROBLEMS Section 12.2 Basic Feedback Concepts 12.1 (a) A negative-feedback amplifier has a closed-loop gain of Af = 100 and an open-loop gain of A = 5 × 104. Determine the feedback transfer function β . (b) If β = 0.012 and Af = 80, determine the open-loop gain A. 12.2 (a) The closed-loop gain of a negative-feedback amplifier is Af = −80 and the open-loop gain is A = −105. Find the feedback transfer function β . (b) If β = −0.015 and A = −5 × 104, determine the closed-loop gain Af . 12.3 The ideal feedback transfer function is given by Equation (12.5). (a) Assume the feedback transfer function is β = 0.15. Determine the loop gain T and the closed-loop gain Af for (i) A = ∞, (ii) A = 80 dB, and (c) A = 102. (b) Repeat part (a) for β = 0.25. 12.4 (a) The closed-loop gain of a feedback amplifier using an ideal feedback amplifier (A → ∞) is Af = 125. What is the value of β? (b) If the basic amplifier has a finite open-loop gain, what must be the value of A such that the closed-loop gain is within 0.25 percent of the ideal value. Use the results of part (a). 12.5 Consider the feedback system shown in Figure 12.1. The closed-loop gain is Af = −80 and the open-loop gain is A = −2 × 104. (a) Determine the feedback transfer function β . (b) The closed-loop gain is not to change by more than 0.01 percent when the open-loop gain changes. What is the maximum allowed change in the open-loop gain? 12.6 The open-loop gain of an amplifier is A = 5 × 104. If the open-loop gain decreases by 10 percent, the closed-loop gain must not change by more than 0.1 percent. Determine the required value of the feedback transfer function β and the closed-loop gain Af. 12.7 Two feedback configurations are shown in Figures P12.7(a) and P12.7(b). The closed-loop gain in each case is Av f = vo/vi = 50. (a) Determine β1 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 929 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 929 and β2 for the two circuits. (b) The gain A2 decreases by 10 percent in both circuits. Using the results of part (a), determine the percent change in the closed-loop gain for each circuit. (c) What conclusion can be made as to the “better” feedback configuration? vi + A1 = 200 + A – – 2 = 10 vo b1 b1 (a) vi + A1 = 200 A2 = 10 v – ob 2 (b) Figure P12.7 12.8 Three voltage amplifiers are in cascade as shown in Figure P12.8 with various amplification factors. The 180 degree phase shift for negative feedback actually occurs in the basic amplifier itself. (a) Determine the value of β such that the closed-loop voltage gain is Av f = Vo/Vs = −120. (b) Using the results of part (a), determine the percent change in Av f if each individual amplifier gain decreases by 10 percent. Ve Vs + A1 = –10 A2 = –15 A + 3 = –20 Vo Vfb b Figure P12.8 12.9 (a) The open-loop low-frequency voltage gain of an amplifier is Av = 5 × 104 and the open-loop 3 dB frequency is fH = 10 Hz. If the closed-loop low-frequency gain is Av f = 25, what is the closed-loop bandwidth? (b) The minimum closed-loop bandwidth of a feedback amplifier is to be 20 kHz. The open-loop low-frequency voltage gain is Av = 105 and the open-loop 3 dB frequency is fH = 8 Hz. What is the maximum closed-loop voltage gain? 12.10 (a) Determine the closed-loop bandwidth of a noninverting amplifier with a closed-loop low-frequency gain of 50. The op-amp has the characteristics nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 930 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 930 Part 2 Analog Electronics described in Problem 12.9(a). (b) If the open-loop gain decreases to A 4 v = 10 but the closed-loop low-frequency gain remains fixed at 50, what is the resulting closed-loop bandwidth? 12.11 (a) An inverting amplifier uses an op-amp with an open-loop∣∣ 3 d∣∣B frequency of 5 Hz. The closed-loop low-frequency gain is to be Av f = 75 and the closed-loop bandwidth is to be 35 kHz. (i) What is the required value of the open-loop low-frequency gain? (ii) Determine the feedback transfer function β . (b) Using the results of part (a), what is the closed-loop bandwidth and closed-loop low-frequency gain if the open-loop low- frequency gain decreases by 10 percent? 12.12 The basic amplifier in a feedback configuration has a low-frequency gain of A = 5000 and two pole frequencies at f3-dB1 = 10 Hz and f3-dB2 = 2 kHz. The low-frequency closed-loop gain is Af = 100. Determine the two 3 dB frequencies of the closed-loop system. 12.13 Consider the two feedback networks shown in Figures P12.7(a) and P12.7(b). The 3 dB frequency of the amplifier A1 is 100 Hz and the 3 dB frequency of the second amplifier A2 is very large. The feedback transfer functions are β1 = 0.1126 and β2 = 0.0245. (a) Determine the 3 dB frequency of each closed-loop network. (b) What conclusion can be made as to the “better” closed-loop system? 12.14 Consider two open-loop amplifiers in cascade, with a noise signal generated between the two amplifiers as in Figure 12.3(a). Assume the amplification of the first stage is A2 = 100 and that of the second stage is A1 = 1. If Vin = 10 mV and Vn = 1 mV, determine the signal-to-noise ratio at the output. 12.15 Two feedback configurations are shown in Figures P12.15(a) and (b). At low input voltages, the two gains are A1 = A2 = 90 and at higher input voltages, the gains change to A1 = A2 = 60. Determine the change in closed-loop gain, Af = Vo/Vi , for the two feedback circuits. (See Figure 12.4.) Which feedback configuration will result in less distortion in the output signal? Vi + A – 1 + AV – 2 ob = 0.1 b = 0.1 (a) Vi + A1 A – 2 Vo b = 0.0122 (b) Figure P12.15 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 931 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 931 Section 12.3 Ideal Feedback Topologies 12.16 Consider the ideal series-shunt circuit shown in Figure 12.6. Let Av = 5 × 103 V/V, β = 0.0080 V/V, Ri = 10 k, and Ro = 1 k. Determine the ideal values of Av f = Vo/Vi , Ri f , and Rof . 12.17 The parameters of the ideal series–shunt circuit shown in Figure 12.6 are Vi = 25 mV, Vo = 2.5 V, and β = 0.0096 V/V. Determine the values and units of Av , Av f , Vf b , and Vε . 12.18 For the noninverting op-amp circuit in Figure P12.18, the parameters are: A = 105, Av f = 20, Ri = 100 k, and Ro = 100 . Determine the ideal closed-loop input and output resistances, Ri f and Rof , respectively. R2 R1 Rof – Rif vo + v + s – Figure P12.18 12.19 Consider the noninverting op-amp circuit in Figure P12.18. The input resistance of the op-amp is Ri = ∞ and the output resistance is Ro = 0, but the op- amp has a finite gain A. (a) Write the closed-loop transfer function in the form vo A Av f = = vs (1 + β A) (b) What is the expression for β? (c) If A = 105 and Av f = 20, what is the required β and R2/R1? (d) If A decreases by 10 percent, what is the percent change in Av f ? 12.20 The circuit parameters of the ideal shunt–series amplifier shown in Figure 12.9 are Ii = 20 μA, If b = 19 μA, Ri = 500 , Ro = 20 k, and βi = 0.0095 A/A. Determine the values and units of Iε , Io, Ai , Ai f , Ri f , and Rof . 12.21 Consider the ideal shunt–series amplifier shown in Figure 12.9. The parameters are Ii = 25 μA, Iε = 0.8 μA, and Ai f = 125. Determine the values and units of If b , Io, βi , and Ai . 12.22 Consider the op-amp circuit in Figure P12.22. The op-amp has a finite gain, so that io = Aiε , and a zero output impedance. (a) Write the closed-loop transfer function in the form = i A oi f = Ai is (1 + βi Ai ) (b) What is the expression for β 5 i ? (c) If Ai = 10 and Ai f = 25, what is the required βi and RF/R3? (d) If Ai decreases by 15 percent, what is the percent change in Ai f ? 12.23 An op-amp circuit is shown in Figure P12.22. Its parameters areas described in Problem 12.22, except that Ri = 2 k and Ro = 20 k. Determine the closed-loop input and output resistances, Ri f and Rof , respectively. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 932 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 932 Part 2 Analog Electronics RF Rif Rof – ie ZL + is io R3 Figure P12.22 12.24 The parameters of the ideal series–series amplifier in Figure 12.12 are Vi = 0.2 mV, Io = 5 mA, Vf b = 0.195 mV, Ri = 20 k, and Ro = 10 k. Determine the values and units of Vε , βz , Ag f , Ag , Ri f , and Rof . 12.25 The ideal series–series circuit shown in Figure 12.12 has parameters Vi = 150 μV, βz = 0.0245 V/A, and Ag = 2000 A/V. Determine the values and units of Vf b , Vε , Io, and Ag f . 12.26 Consider the circuit in Figure P12.26. The input resistance of the op-amp is Ri = ∞ and the output resistance is Ro = 0. The op-amp has a finite gain, so that i ′ o = Agvε . The current gain of the transistor is hFE. (a) Write the closed-loop transfer function in the form io A Ag g f = = vs (1 + βz Ag) where Ag is the open-loop gain of the system. (b) What is the expression for βz? (c) If Ag = 5 × 105 mS and Ag f = 10 mS, what is the required βz and RE? (d) If Ag increases by 10 percent, what is the corresponding percent change in Ag f ? V+ ZL io – RR if of ve + + io′ v + s – RE Figure P12.26 12.27 The circuit shown in Figure P12.26 has the same parameters as described in Problem 12.26, except that Ri = 20 k and Ro = 50 k. Determine the closed-loop input and output resistances, Ri f and Rof , respectively. 12.28 The circuit parameters of the ideal shunt–shunt amplifier shown in Figure 12.14 are Az f = 0.20 V/μA, βg = 4.25/μA/V, and Ri = Ro = 500 . Determine the values and units of Az , Ri f , and Rof . nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 933 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 933 12.29 Voltage and current values in the ideal shunt–shunt circuit shown in Figure 12.14 are Ii = 40 μA, If b = 38 μA, and Vo = 8 V. Determine the values and units of Az, Az f , and βg . 12.30 Consider the current-to-voltage converter circuit shown in Figure P12.30. The input resistance Ri f is assumed to be small, the output resistance is Ro = 0, and the op-amp gain Az is large. (a) Write the closed-loop transfer function in the form = v A oz f = Az is (1 + βg Az) (b) What is the expression for β ? (c) If A = 5 × 106 g z  and Az f = 5 × 104 , what is the required βg and RF? (d) If Az decreases by 10 percent, what is the percent change in Az f ? RF Rif – ie vo + is Figure P12.30 12.31 For the current-to-voltage converter circuit in Figure P12.30, the parameters areas described in Problem l2.30. If Ri = 10 k, determine the closed- loop input resistance Ri f . D12.32 Determine the type of feedback configuration that should be used in a design to achieve the following objectives: (a) low input resistance and low output resistance, (b) high input resistance and high output resistance, (c) low input resistance and high output resistance, and (d) high input resistance and low output resistance. 12.33 Consider a series of amplifiers and feedback circuits connected in the ideal feedback configurations. In each case the input resistance to the basic amplifier is Ri = 10 k, the output resistance of the basic amplifier is Ro = 1 k, and the loop gain is T = 104. (a) Determine the maximum possible input resistance and minimum possible input resistance to the feedback circuit. (b) Determine the maximum possible output resistance and minimum possible output resistance to the feedback circuit. D12.34 A compound transconductance amplifier is to be designed by connecting two basic feedback amplifiers in cascade. What two amplifiers should be connected in cascade to form the compound circuit? Is there more than one possible design? Section 12.4 Voltage (Series–Shunt) Amplifiers *12.35 The parameters of the op-amp in the circuit shown in Figure P12.35 are A 5 v = 10 , Ri = 30 k, and Ro = 500 . The transistor parameters are hF E = 140 and VA = ∞. Assume that vO = 0 at the quiescent point. Determine (a) Av f , (b) Ri f , and (c) Rof . 12.36 The circuit in Figure P12.36 is an example of a series–shunt feedback circuit. Assume the transistor parameters are: hF E = 100, VB E(on) = 0.7 V, nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 934 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 934 Part 2 Analog Electronics V+ = 12 V VCC = 10 V RC = 22.6 kΩ Q3 vi + A RS = 1 kΩ R2 = 50 kΩ – Q1 Q2 vo R2 = 10 kΩ vo + R1 = vi – 2 mA RL = 4 kΩ 10 kΩ R = 1 kΩ I = 1 mA 1 Q 0.2 mA V – V – Figure P12.35 Figure P12.36 and VA = ∞. (a) Determine the quiescent collector currents and the dc voltage at the output. (b) Determine the small-signal voltage gain Av f = vo/vi . 12.37 Consider the series–shunt feedback circuit in Figure P12.37, with transistor parameters: hF E = 120, VB E(on) = 0.7 V, and VA = ∞. (a) Determine the small-signal parameters for Q1, Q2, and Q3. Using nodal analysis, determine: (b) the small-signal voltage gain Av f = vo/vi , (c) the input resistance Ri f , and (d) the output resistance Rof . VCC = 10 V RC2 = RC1 = 13 kΩ R1 = 8.8 kΩ R = 400 kΩ QC2 3 Rof RC1 = R 0.65 kΩ if 0.30 kΩ Q2 C v Q3 C → ∞ o Q1 R = 1.4 kΩ Rif Q CE → ∞ E3 2 R = RE2 = + V QR 2 of – vii 1 75 kΩ 3.6 kΩ RE1 = 0.5 kΩ Vo RF = 1.2 kΩ RE = 50 Ω RF = CF → ∞ 10 kΩ Figure P12.37 Figure P12.38 *12.38 The circuit shown in Figure P12.38 is an ac equivalent circuit of a feedback amplifier. The transistor parameters are hF E = 100 and VA = ∞. The quiescent collector currents are IC1 = 14.3 mA, IC2 = 4.62 mA, and IC3 = nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 935 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 935 4.47 mA. (a) Determine the closed-loop voltage gain Av f = Vo/Vi . Compare this value to the approximate ideal value of A f ∼ v = (RF + RE)/RE . (b) Determine the values of Ri f and Rof . 12.39 Consider the MOSFET feedback amplifier shown in Figure P12.39. The transistor parameters are VT N = 0.5 V, Kn = 0.5 mA/V2, and λ = 0. Determine the small-signal voltage gain Av = vo/vi . V+ = 5 V RD = RD = 7 kΩ 7 kΩ vo R1 = 200 kΩ vi M1 M2 R2 = 200 kΩ – 1.5 V IQ = + 1 mA V – = –5 V Figure P12.39 *12.40 The parameters of the BiCMOS circuit in Figure P12.40 are V + = 5 V, VGG = 2.5 V, RD1 = 5 k, RE2 = 1.6 k, and RL = 1.2 k. The transistor parameters are Kn = 1.5 mA/V2, VT N = 0.5 V, λ = 0 for M1 and hF E = 120, VE B(on) = 0.7 V, VA = ∞ for Q2. (a) Determine the quiescent values IDQ1 and IC Q2. (b) Find the small-signal voltage gain Av = vo/vi . (c) Determine the small-signal output resistance Rof . V+ RD1 RE2 Q2 M1 Rof v + vi o – + V RL GG – Figure P12.40 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 936 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 936 Part 2 Analog Electronics VDD 12.41 The parameters of the basic source-follower circuit in Figure P12.41 are RS = 1.5 k, VT N = 1.2 V, and λ = 0. Assume the transistor is biased at IDQ = 1.2 mA. (a) If the transistor conduction parameter is Kn = vi Rof 1.5 mA/V2, determine (i) Av f = vo/vi and (ii) Rof . (b) If the conduction vo parameter increases by 50 percent to Kn = 2.25 mA/V2, determine the percent change in (i) Av f = vo/vi and (ii) Rof . RS 12.42 The transistor parameters for the circuit in Figure P12.42 are: hF E = 50, VB E(on) = 0.7 V, and VA = ∞. Using nodal analysis, determine the closed- loop small-signal voltage gain Av f = vo/vs at the midband frequency. Figure P12.41 +25 V 10 kΩ 47 kΩ 4.7 kΩ C Ω 5 = 150 k 10 mF C1 = V1 5 mF CV 2 = o Q1 5 mF Q2 VS C6 = 5 mF 47 kΩ 33 kΩ Ω C3 = C = 4.7 k 50 mF 4.7 kΩ 4 50 mF R2 = 4.7 kΩ R1 = 100 Ω Figure P12.42 *D12.43 Design a discrete transistor feedback voltage amplifier to provide a voltage gain of 50. Assume the available transistors have parameters: hF E = 120 and VA = ∞. The signal voltage source has a source resistance of RS = 2 k and the load is RL = 3 k. Verify the design with a computer simulation. Determine Ri f and Rof . *D12.44 Redesign the feedback circuit in Figure P12.36 using MOSFETs to provide a voltage gain of Av f = 8 and such that vo = 0 when vi = 0. Assume circuit parameters of RS = 1 k, R1 = 15 k, and RL = 10 k. The transistor parameters are k ′ n = 100 μA/V2,VT N = 1.5 V, and λ = 0. Section 12.5 Current (Shunt–Series) Amplifiers 12.45 An op-amp current gain amplifier is shown in Figure P12.45. Assuming an ideal op-amp, design the circuit such that the load current is Io = 5 mA for an input current of Is = 60 μA. *12.46 Consider the current gain amplifier shown in Figure P12.46. The transistor parameters are Kn = Kp = 10 mA/V2, VT N = 1 V, VT P = −1 V, and λn = λp = 0. The LED turn-on voltage is Vγ = 1.6 V. Assume the LED small-signal resistance is r f = 0. (a) Determine the quiescent currents IDQ1 and IDQ2. (b) Show that the small-signal current gain is given by nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 937 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 937 V+ = 10 V RD1 = 525 Ω M1 RI M 1 i 2 VG = 7.6 V Io LED – LED Vo IRS = + R = 500 Ω s Io F 100 kΩ RD2 =I1 R2 250 Ω Figure P12.45 Figure P12.46 IA = oi = −gm2 RD1 Ii + 1 gm2 R 1 D1 RD2 gm1(RF + + RD2) RF + RD2 (c) Calculate the value of Ai . *12.47 A MOSFET current gain amplifier is shown in Figure P12.47. The transistor parameters are Kn = Kp = 10 mA/V2, VT N = 1 V, VT P = −1 V, and λn = λp = 0. The LED turn-on voltage is Vγ = 1.6 V. Assume the LED small-signal resistance is r f = 0. (a) Determine the quiescent currents IDQ1 and IDQ2. (b) Determine the small-signal current gain Ai = Io/Ii . V+ = 10 V V+ = 5 V RD = 525 Ω RC = 200 Ω M Q 1 1 Ii MI 2 i Q2 VB = 3.6 V VG = 7.6 V Io Io LED LED RF = 500 Ω RF = 500 Ω IQ = IQ = 16 mA 16 mA Figure P12.47 Figure P12.48 *12.48 A BJT current gain amplifier is shown in Figure P12.48. The transistor parameters are β1 = β2 = 180, VA1 = VA2 = ∞, and IS1 = I −15 S2 = 10 A. The LED turn-on voltage is Vγ = 1.6 V. Assume the LED small-signal resistance is r f = 0. (a) Determine the quiescent currents IC Q1 and IC Q2. (b) Derive the expression for the small-signal current gain Ai = Io/Ii . (c) Calculate the value of Ai = Io/Ii . 12.49 The circuit in Figure P12.49 has transistor parameters: hF E = 100, VB E(on) = 0.7 V, and VA = ∞. (a) From the quiescent values, determine nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 938 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 938 Part 2 Analog Electronics V + = +10 V RC2 = 2 kΩ RC1 = 40 kΩ C → ∞ Rif Q2 i R o L = 0.5 kΩ Q1 i RS = RE = s 10 kΩ 1 kΩ IE1 = C → ∞ 0.2 mA V – = –10 V RF = 10 kΩ C → ∞ Figure P12.49 the small-signal parameters for Q1 and Q2. (b) Using nodal analysis, determine the small-signal closed-loop current gain Ai f = io/ is . (c) Using nodal analysis, find the input resistance Ri f . *12.50 (a) Using the small-signal equivalent circuit in Figure 12.25 for the circuit in Figure 12.24(a), derive the expression for the small-signal current gain Ai f = Io/Is . (b) Using the circuit parameters given in Figure 12.24(a) and assuming transistor parameters hF E = 100 and VA = ∞, calculate the value of Ai f . Compare this answer with the results of Example 12.9. *12.51 The circuit in Figure P12.51 is an example of a shunt–series feedback circuit. A signal proportional to the output current is fed back to the shunt connection at the base of Q1. However, the circuit maybe used as a voltage amplifier. Assume transistor parameters of hF E = 120, VB E(on) = 0.7 V, and VA = ∞. (a) Determine the small-signal parameters for Q1 and Q2. (b) Using nodal analysis, determine the small-signal voltage gain Av = vo/vs . VCC = 10 V RC1 = 3 kΩ RR = C2 = 4 kΩ 1 38.3 kΩ vo CC → ∞ Q1 Q2 RS = 0.6 kΩ v + s – R2 = 13.5 kΩ RE1 = RC → ∞ E2 = 1 kΩ E 8.1 kΩ RF = 1.2 kΩ CF → ∞ Figure P12.51 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 939 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 939 12.52 Consider the circuit in Figure P12.51 with transistor parameters, hF E = 120, VB E(on) = 0.7 V, and VA = ∞. Using nodal analysis, determine the input resistance Ri f . 12.53 For the transistors in the circuit in Figure P12.53, the parameters are: hF E = 50, VB E(on) = 0.7 V, and VA = ∞. Using nodal analysis, determine the closed-loop current gain Ai f = io/ is . VCC = 10 V RC1 = R1 = 7 kΩ RC2 = 2.2 kΩ 17.9 kΩ C → ∞ C → ∞ Q1 Q2 io RL = 2 kΩ i R2 = s 1.4 kΩ RE1= 250 Ω RF = 5 kΩ C → ∞ RE2 = 500 Ω Figure P12.53 *D12.54 Design a discrete transistor feedback current amplifier to provide a current gain of 30. Assume the available transistors have parameters hF E = 120 and VA = ∞. The signal current source has a source resistance of RS = 25 k and the load is RL = 500 . Verify the design with a computer simulation. Determine Ri f and Rof . Section 12.6 Transconductance (Series–Series) Amplifiers 12.55 Consider the transconductance amplifier shown in Figure P12.55. Assume the op-amp is ideal. (a) Derive the expression for the transconductance function Ag f = Io/Vi . (b) If the circuit is designed such that RF/R1 = R3/R2, show that Io/Vi = −1/R2. (c) Design the circuit such that Io/Vi = −0.5 mA/V. 12.56 Consider the transconductance feedback amplifier shown in Figure P12.56 with RD = 1.6 k and RL = 248 . The transistor parameters are VT N = 0.5 V, VT P = −0.5 V, Kn = 2 mA/V2, Kp = 10 mA/V2, and λn = λp = 0. The LED turn-on voltage is Vγ = 1.6 V. Assume the LED small- signal resistance is r f = 0. The current source is ideal. (a) Determine the quiescent values of VD1, IDQ3 and VG2. (b) Derive the small-signal transconductance function Ag f = Io/Vi . (c) Calculate the value of Ag f = Io/Vi . 12.57 The circuit in Figure P12.57 is the ac equivalent circuit of a series–series feedback amplifier. Assume that the bias circuit, which is not shown, results in quiescent collector currents of IC1 = 0.5 mA, IC2 = 1 mA, and IC3 = 2 mA. Assume transistor parameters of hF E = 120 and ro = ∞. Determine the transconductance transfer function Ag f = Io/Vs . nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 940 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 940 Part 2 Analog Electronics V+ = 3 VI RD R o DR M RC2 = RC3 = F 3 RC1 = 5 kΩ 2 kΩ 1 kΩ R1 – D Vi VI Q o 3 + o V MM Q i 1 2 2 Vs Q1 R3 VL IQ = RL RF = 0.8 kΩ 2 mA R2 Io RL RE1 = 0.1 kΩ RE2 = 0.1 kΩ V – = –3 V Figure P12.55 Figure P12.56 Figure P12.57 D12.58 Using a computer simulation analysis, redesign the circuit in Figure P12.57 by changing the value of RF to achieve a transconductance gain of Ag f = Io/Vs = 120 mA/V. 12.59 In the circuit in Figure P12.59, the transistor parameters are: hF E = 100, VB E(on) = 0.7 V, and VA = ∞. Determine the transconductance transfer function Ag f = io/vs . V+ = 10 V RC3 = 2 kΩ RC2 = 18.6 kΩ C → ∞ Q3 RL = io 1 kΩ Q1 Q2 v + s – RF = 10 kΩ 2 mA 1 mA V – V – Figure P12.59 D12.60 Design a feedback amplifier to supply a current to an LED. Use the configuration shown in Figure 12.27 where RL is replaced by the LED. (a) Assuming an ideal op-amp is available, design the circuit such that the diode current is I −3 O = 3 × 10 Vi where Vi is in the range 0 to 5 V. (b) If Vi = 5 V, what is the error in diode current if the op-amp has a finite gain of A 3 g = 10 mA/V and hF E = 80? nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 941 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 941 Section 12.7 Transresistance (Shunt–Shunt) Amplifiers 12.61 Consider the common-emitter circuit in Figure P12.61 driven by an ideal signal current source. The transistor parameters are hF E = 80, VE B(on) = 0.7 V, and VA = 100 V. (a) Determine the quiescent values IC Q and VEC Q . (b) Find the transresistance transfer function Az f = vo/is . (c) Determine the input resistance Ri f . (d) Find the output resistance Rof . RF = 10 kΩ V+ = 3 V V+ = 5 V RE = RD = 0.5 kΩ 5 kΩ Rif RF = 25 kΩ CE → ∞ vo RR C → ∞ of if C1 Rof iv so CR = R = C2 → ∞ CB CC 100 kΩ 1 kΩ is Figure P12.61 Figure P12.62 12.62 The transistor parameters for the circuit shown in Figure P12.62 are VT N = 0.4 V, Kn = 0.5 mA/V2, and λ = 0. (a) Find (i) the quiescent drain current IDQ and (ii) the small-signal transistor parameters. (b) Determine the transresistance transfer function Az f = vo/is . (c) Find the output resistance Rof . 12.63 Consider Problem 12.62 tance transfer function ∣∣. (a)∣∣ What is the magnitude of the ideal transresis- Az f as the transistor tra∣nsco∣nductance parameter gm → ∞. (b) Determine the value of gm so that ∣Az f ∣ is within 95 percent of the ideal magnitude. 12.64 For the circuit in Figure P12.64, the transistor parameters are: hF E = 150, VB E(on) = 0.7 V, and VA = ∞. Determine the value of RF that will result in a closed-loop voltage gain of Av = Vo/Vs = −5.0. VCC = 12 V R1 = RC = 6 kΩ 150 kΩ RFC → ∞ Vo C → ∞ RS = 5 kΩ V + R2 = s – 24 kΩ RE = CE → ∞ 1 kΩ Figure P12.64 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 942 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 942 Part 2 Analog Electronics 12.65 Consider the three-stage cascade feedback circuit in Figure l2.41. Each stage corresponds to the circuit in Figure P12.65, with transistor parameters: hF E = 180, VB E(on) = 0.7 V, and VA = ∞. The source resistor is RS = 10 k, and the load resistor is RL = 4 k. Determine the value of RF such that the closed-loop gain is Av = vo/vi = −80. 12 V R 8 kΩ if R 15 kΩ of – … RS = 5 kΩ Vo C → ∞ … C → ∞ + V + s – R1 = RL = 4 kΩ 50 kΩ 4 kΩ R = 10 kΩ 4 kΩ C → ∞ FR2 = 10 kΩ Figure P12.65 Figure P12.66 12.66 The op-amp in the circuit in Figure P12.66 has an open-loop differential voltage gain of Ad = 104. Neglect the current into the op-amp, and assume the output resistance looking back into the op-amp is zero. Determine: (a) the closed-loop voltage gain Av = Vo/Vs , (b) the input resistance Ri f , and (c) the output resistance Rof . D12.67 Design a feedback transresistance amplifier using an op-amp with parameters Ri = 10 k, Ro = 100 , and a low-frequency open-loop gain of A = 104 v to produce again of 5 k. The source resistance is RS = 500  and the load resistance is RL = 2 k. Determine the actual gain, input resistance, and output resistance using a computer simulation. Section 12.8 Loop Gain 12.68 The op-amp in Figure 12.20 has an open-loop differential input resistance Ri, an open-loop current gain Ai, and a zero output resistance. Break the feedback loop at an appropriate point, and derive the expression for the loop gain. 12.69 The small-signal parameters of the transistors in the circuit in Figure P12.37 are hFE and VA = ∞. Derive the expression for the loop gain. 12.70 Determine the loop gain T for the circuit in Figure P12.49. The transistor parameters are: hF E = 100, VB E(on) = 0.7 V, and VA = ∞. 12.71 The transistor parameters for the circuit shown in Figure P12.64 are: hF E = 50, VB E(on) = 0.7 V, and VA = 100 V. Find the loop gain T. Section 12.9 Stability of the Feedback Circuit 12.72 A three-pole feedback am(plifier ha)s a loop gain given by ( β)5(× 104 T ( f ) = ) ff 2 1 + j 1 + j 103 5 × 104 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 943 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 943 (a) Determine the frequency f180 at which the phase is −180 degrees. (b) At the frequency f180, determine the value of β such that |T ( f180)| = 0.25. 12.73 The open-loop voltage gain of an amplifier is given by Av = ( )104 2( ) 1 + ff j × 3 1 + j 5 10 5 × 105 (a) Assuming the feedback transfer function is not a function of frequency, determine the frequency at which the phase of the loop gain is 180 degrees. (b) At what value of β will the feedback amplifier become unstable? (c) Using the value of β found in part (b), what is the low-frequency closed-loop gain? (d) Is the closed-loop feedback system stable for smaller or larger values of β? 12.74 A loop gain function is given by = ( )( β(103) T ( f ) )( ) + f + ff 1 j 1 j 1 + j 104 5 × 104 105 Sketch the Nyquist plot for: (a) β = 0.005, and (b) β = 0.05. (c) Is the system stable or unstable in each case? 12.75 A three-pole feedback amplifier has a loop gain function given by ( β)(5(× 103 T ( f ) = ) ) + f 2 1 j 1 + f j 103 5 × 104 (a) Sketch the Nyquist diagram for β = 0.20. (b) Determine the value of β that produces a phase margin of 80 degrees. 12.76 A three-pole feedback amplifier has a loop gain given by 4 T ( f ) = ( )( β(10 ) )( ) + f + f + f 1 j 1 j 1 j 103 104 105 Sketch Bode plots of the loop gain magnitude and phase for: (a) β = 0.005, and (b) β = 0.05. (c) Is the system stable or unstable in each case? If the system is stable, what is the phase margin? 12.77 A feedback system has an amplifier with a low-frequency open-loop gain of 5 × 104 and has poles at 103 Hz, 105 Hz, and 107 Hz. (a) Determine the frequency f180 at which the phase of the loop gain is 180 degrees. (b) Determine the feedback transfer function β for which the phase margin of the system is 45◦. (c) Using the results of part (b), determine the low-frequency closed-loop gain. 12.78 The open-loop voltage gain of an amplifier is given by = ( 105 Av )( ) ff 1 + j 1 + j 103 105 (a) If the low-frequency, closed-loop gain is 100, is this amplifier stable? (b) If so, determine the phase margin. nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 944 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 944 Part 2 Analog Electronics 12.79 The loop gain function of a fee(dbac)k system is described by β 103 T ( f ) = ( )( )( ) + f + ff 1 j 1 j 1 + j 104 105 106 (a) Determine the frequency f180 at which the phase of T ( f ) is −180 degrees. (b) For β = 0.019, (i) find |T ( f180)| and (ii) find the phase at which |T | = 1. (c) Using the results of part (b), determine the low-frequency closed-loop gain Af (0). 12.80 Consider a feedback amplifier for which the open-loop gain is given by = ( 2 × 103 A( f ) )( ) ff 2 1 + j 1 + j 5 × 103 105 (a) Determine the frequency f180 at which the phase of A( f ) is −180 degrees. (b) For β = 0.0045, determine the magnitude of the loop gain T ( f ) at the frequency f = f180 and determine the phase of A( f )when |T ( f )| = 1. Determine the closed-loop, low-frequency gain. Is the system stable or unstable? (c) Repeat part (b) for β = 0.15. 12.81 Consider a four-pole feedback system with a loop gain given by = ( )( β(1 T ( f ) )(03) )( ) + f + f + f 1 j 1 j 1 j 1 + f j 103 104 105 106 Determine the value of β that produces a phase margin of 45 degrees. Section 12.10 Frequency Compensation 12.82 A feedback amplifier has a low-frequency open-loop gain of 4000 and three poles at fP1 = 400 kHz, fP2 = 4 MHz, and fP3 = 40 MHz. A dominant pole is to be inserted such that the phase margin is 60 degrees. Assuming the original poles remain fixed, determine the dominant pole frequency. 12.83 The loop gain of a three-pole amplifier is given by T ( f ) = ( )103 2( ) + ff 1 j 1 + j 104 106 (a) Show that this function will lead to an unstable feedback system. (b) Insert a dominant pole such that the phase margin is 45 degrees. Assume the original poles remain fixed. What is the dominant pole frequency. 12.84 A loop gain function is given by T ( f ) = ( )( 500 )( ) + ff f 1 j 1 + j 1 + j 104 5 × 104 105 (a) Determine the frequency f180 (to a good approximation) at which the phase of T( f ) is −180 degrees. (b) What is the magnitude of T( f ) at the frequency f = f180 found in part (a)? (c) Insert a dominant pole such that the phase margin is approximately 60 degrees. Assume the original poles are fixed. What is the dominant pole frequency? nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 945 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: Chapter 12 Feedback and Stability 945 12.85 An open-loop amplifier can be described by = ( 104 Av ) 1 + f j 105 A dominant pole is to be inserted such that a closed-loop amplifier with a low-frequency gain of 50 has a phase margin of 45 degrees. (a) Determine β and the required dominant pole frequency. (b) The feedback transfer function is increased such that the closed-loop, low-frequency gain of the amplifier in part (a) is 20. Determine the phase margin of this new amplifier. 12.86 The open-loop amplifier of a feedback system has its first two poles at fP1 = 1 MHz and fP2 = 10 MHz, and has a low-frequency open-loop gain of |Ao| = 100 dB. (a) A dominant pole is to be added such that the closed-loop amplifier with a low-frequency gain of 20 has a phase margin of 45 degrees. What is the dominant pole frequency? (b) If the feedback transfer function from part (a) is increased such that the closed-loop low-frequency gain is 5, determine the phase margin of the amplifier. 12.87 A feedback amplifier with a compensation capacitor has a low-frequency loop gain of T (0) = 100 dB and poles at f ′ P1 = 10 Hz, fP2 = 5 MHz, and fP3 = 10 MHz. (a) Find the frequency at which |T ( f )| = 1, and determine the phase margin. (b) If the frequency f ′ P1 is due to a compensation capacitor CF = 20 pF, determine the new dominant pole frequency f ′ P1 and phase margin if the compensation capacitor is increased to CF = 75 pF. 12.88 The equivalent circuit at the interface between the first and second stages of an op-amp is shown in Figure P12.88. The parameters are Ro1 = 2 M, Ri2 = 750 k, and Ci = 1.2 pF. (a) Determine the pole frequency for this part of the circuit. (b) Determine the additional Miller capacitance CM that would need to be added so that the pole frequency is moved to fP D = 6 Hz. (c) If the gain of the second-stage amplifier is 1000, what is the required value of a feedback capacitor around the second-stage amplifier to produce this Miller capacitance. Ro1 Ri2 Ci CM Figure P12.88 12.89 The amplifier described in Problem 12.82 is to be stabilized by moving the first pole by using Miller compensation. Assuming that fP2 and fP3 remain fixed, determine the frequency to which fP1 must be moved such that the phase margin is 60 degrees. 12.90 The loop gain of an amplifier is( given by) β 5 × 105 T ( f ) = ( )( )( ) + f + ff 1 j 1 j × 1 + j 104 5 105 107 nea80644_ch12_851-946.qxd 6/23/09 1:45 PM Page 946 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-12: 946 Part 2 Analog Electronics The pole at f = 104 P1 is to be moved such that the feedback amplifier with a closed-loop low-frequency gain of 40 has a phase margin of 60 degrees. (a) Find the value of β . (b) Determine the new pole frequency. COMPUTER SIMULATION PROBLEMS 12.91 Consider the circuit shown in Figure 12.24(a). Replace the input signal source with an ideal signal voltage source. Using a computer simulation, investigate the small-signal voltage gain, input resistance Ri f , and output resistance Rof as a function of the feedback resistance RF . 12.92 For the circuit shown in Figure 12.39, investigate the small-signal voltage gain, input resistance, and output resistance as a function of the transistor width-to-length ratio, using a computer simulation. 12.93 Consider the circuit shown in Figure 12.37(a). Using a computer simulation, plot the loop gain as a function of frequency. 12.94 In the circuit shown in Figure P12.42, use a computer simulation to plot the small-signal voltage gain versus frequency. Determine the low-frequency and high-frequency cutoff values. DESIGN PROBLEMS [Note: Each design should be correlated with a computer simulation analysis.] *D12.95 The circuit shown in Figure P12.46 is to have a minimum loop gain of T = 200. Design the width-to-length ratios of the transistors to meet this requirement. Use appropriate transistor parameters. *D12.96 Op-amps with low-frequency open-loop gains of 5 × 104 and dominant- pole frequencies of 8 Hz are available. Design a cascade of noninverting amplifiers such that the overall voltage gain is 500 and the bandwidth is 15 kHz *D12.97 An op-amp has a low-frequency open-loop gain of 5 × 104 and a dominant- pole frequency of 10 Hz. Using this op-amp, design a preamplifier system that can amplify the output of a microphone and produce a 1 V peak signal over a frequency range from 10 Hz to 15 kHz. The equivalent circuit of the microphone is a voltage source in series with an output resistance. The voltage source produces a 5 mV peak signal and the output resistance is 10 k. *D12.98 The equivalent circuit of a transducer that measures the speed of a motor is a current source in parallel with an output resistance. The current source produces an output of 1 μA per revolution per second of the motor and the output resistance is 50 k. Design a discrete transistor circuit that produces a full-scale output of 5 V for a maximum motor speed of 60 revolutions per second. The nominal transistor current gain is hF E = 100 with tolerances of ±20 percent. The accuracy of the output signal is to remain within ±1 percent. nea80644_ch13_947-1008.qxd 6/25/09 10:51 AM Page 947 VK TEMPWORK:Desktop Folder:25/06/09pp:MHDQ134-13: Operational Amplifier Circuits 13 Thus far, we have considered basic circuit configurations, such as the common emitter, emitter follower, and diff-amp, among others. We have discussed the basic concepts in design and analysis, including biasing techniques, frequency response, and feedback effects. In this chapter, we combine basic circuit configurations to form larger analog circuits that are fabricated as integrated circuits. Operational amplifiers are used extensively in electronic systems, so we concentrate on several configurations of operational amplifier circuits. We introduced the ideal op-amp in Chapter 9. Now, we analyze and design the circuitry of the op-amp, to determine how the various circuit configurations can be combined to form a nearly ideal op-amp. PREVIEW In this chapter, we will: • Discuss the general design philosophy of an operational amplifier circuit. • Describe and analyze the dc and ac characteristics of the classic 741 bipolar operational amplifier circuit. • Describe and analyze the dc and ac characteristics of CMOS operational amplifier circuits. • Describe and analyze the dc and ac characteristics of BiCMOS operational amplifier circuits. • Describe the characteristics of two hybrid JFET operational amplifier circuits. • As an application, design a two-stage CMOS op-amp to match a given output stage. 947 Chapter"
Chapter 13: Operational Amplifier Circuits,"13: Operational Amplifier Circuits 13 Thus far, we have considered basic circuit configurations, such as the common emitter, emitter follower, and diff-amp, among others. We have discussed the basic concepts in design and analysis, including biasing techniques, frequency response, and feedback effects. In this chapter, we combine basic circuit configurations to form larger analog circuits that are fabricated as integrated circuits. Operational amplifiers are used extensively in electronic systems, so we concentrate on several configurations of operational amplifier circuits. We introduced the ideal op-amp in Chapter 9. Now, we analyze and design the circuitry of the op-amp, to determine how the various circuit configurations can be combined to form a nearly ideal op-amp. PREVIEW In this chapter, we will: • Discuss the general design philosophy of an operational amplifier circuit. • Describe and analyze the dc and ac characteristics of the classic 741 bipolar operational amplifier circuit. • Describe and analyze the dc and ac characteristics of CMOS operational amplifier circuits. • Describe and analyze the dc and ac characteristics of BiCMOS operational amplifier circuits. • Describe the characteristics of two hybrid JFET operational amplifier circuits. • As an application, design a two-stage CMOS op-amp to match a given output stage. 947 Chapter"
Preview,"PREVIEW In this chapter, we will: • Discuss the general design philosophy of an operational amplifier circuit. • Describe and analyze the dc and ac characteristics of the classic 741 bipolar operational amplifier circuit. • Describe and analyze the dc and ac characteristics of CMOS operational amplifier circuits. • Describe and analyze the dc and ac characteristics of BiCMOS operational amplifier circuits. • Describe the characteristics of two hybrid JFET operational amplifier circuits. • As an application, design a two-stage CMOS op-amp to match a given output stage. 947 Chapter nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 948 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 948 Part 2 Analog Electronics 13.1 GENERAL OP-AMP CIRCUIT DESIGN Objective: • Discuss the general design philosophy of an operational amplifier circuit. An operational amplifier, in general, is a three-stage circuit, as shown in Figure 13.1, and is fabricated as an integrated circuit. The first stage is a differential amplifier, the second stage provides additional voltage gain, and the third stage provides current gain and low output impedance. A feedback capacitor is often included in the second stage to provide frequency compensation as discussed in the last chapter. In some cases, in particular with MOSFET op-amp circuits, only the first two stages are used. CF v1 Gain Output Diff–amp v v stage stage o 2 Figure 13.1 General block diagram of an operational amplifier We have on numerous occasions made reference to the op-amp. In Chapter 9, we analyzed and designed op-amp circuits using the ideal op-amp model. In Chapter 10, we introduced current-source biasing and introduced the active load. The differential amplifier, using current source biasing and active loads was considered in Chapter 11. We also introduced the bipolar Darlington pair in Chapter 11, which is often used as a second gain stage. Previously, in Chapter 8, we considered the class-AB output stage that is often used in operational amplifier circuits. These individual building blocks will now be combined to form the operational amplifier. In Chapter 9, as mentioned, we analyzed and designed ideal op-amp circuits. Practical operational amplifiers, as we will see in this chapter, exhibit characteristics that deviate from the ideal characteristics. Once we have analyzed these practical op-amp circuits and determined some of their nonideal properties, we will then consider, in the next chapter, the effect of these nonideal characteristics on the op-amp circuits. 13.1.1 General Design Philosophy All stages of the operational amplifier circuit are direct coupled. There are no coupling capacitors and there are also no bypass capacitors. These types of capacitors would require extremely large areas on the IC chip and hence are impractical. In addition, resistors whose values are over approximately 50 k are avoided in ICs, since they also require large areas and introduce parasitic effects. Op-amp circuits are designed with transistors having matching characteristics."
13.1 General Op-Amp Circuit Design,"13.1 GENERAL OP-AMP CIRCUIT DESIGN Objective: • Discuss the general design philosophy of an operational amplifier circuit. An operational amplifier, in general, is a three-stage circuit, as shown in Figure 13.1, and is fabricated as an integrated circuit. The first stage is a differential amplifier, the second stage provides additional voltage gain, and the third stage provides current gain and low output impedance. A feedback capacitor is often included in the second stage to provide frequency compensation as discussed in the last chapter. In some cases, in particular with MOSFET op-amp circuits, only the first two stages are used. CF v1 Gain Output Diff–amp v v stage stage o 2 Figure 13.1 General block diagram of an operational amplifier We have on numerous occasions made reference to the op-amp. In Chapter 9, we analyzed and designed op-amp circuits using the ideal op-amp model. In Chapter 10, we introduced current-source biasing and introduced the active load. The differential amplifier, using current source biasing and active loads was considered in Chapter 11. We also introduced the bipolar Darlington pair in Chapter 11, which is often used as a second gain stage. Previously, in Chapter 8, we considered the class-AB output stage that is often used in operational amplifier circuits. These individual building blocks will now be combined to form the operational amplifier. In Chapter 9, as mentioned, we analyzed and designed ideal op-amp circuits. Practical operational amplifiers, as we will see in this chapter, exhibit characteristics that deviate from the ideal characteristics. Once we have analyzed these practical op-amp circuits and determined some of their nonideal properties, we will then consider, in the next chapter, the effect of these nonideal characteristics on the op-amp circuits. 13.1.1 General Design Philosophy All stages of the operational amplifier circuit are direct coupled. There are no coupling capacitors and there are also no bypass capacitors. These types of capacitors would require extremely large areas on the IC chip and hence are impractical. In addition, resistors whose values are over approximately 50 k are avoided in ICs, since they also require large areas and introduce parasitic effects. Op-amp circuits are designed with transistors having matching characteristics. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 949 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 949 V+ Q5 Q6 Q8 Q7 Q9 Q11 R1 D1 vO V– V– RD L 2 v1 Q1 Q2 v2 Q12 Q4 Q Q 10 3 R2 R3 V– Figure 13.2 A simple bipolar operational amplifier We may begin to design a simple bipolar operational amplifier by using the knowledge gained in the previous chapters. Figure 13.2 shows the general configuration of the circuit. The first stage will be a differential pair, Q1 and Q2, biased with a Widlar current source, Q3, Q4, and R2, and using a three-transistor active load. Assuming matched transistors, we expect the dc voltage at the collector of Q6 to be two base-emitter voltage drops below the positive bias voltage. Therefore, the Darlington pair, Q8 and Q9, that forms the second stage should be properly biased. The bias current for Q8 is supplied by the Widlar current source, Q4, Q10, and R3. The output stage is the complementary push–pull, emitter-follower configuration of Q11 and Q12. The crossover distortion is eliminated by including the diodes D1 and D2. The emitter-follower configuration provides low output resistance so that the op-amp can drive a load with minimal loading effect. By changing the value of R3 slightly, the current through Q10 and Q8 can be changed, which will change the collector– emitter voltages across these transistors. This part of the circuit then acts as a dc voltage shifter such that the output voltage, vO , can beset equal to zero for zero input voltages. From results that we have derived previously, we expect the differential-mode voltage gain of the first stage to be in the range of 102–103, depending on the specific transistor parameters and the voltage gain of the second stage to also be the range of 102–103. The voltage gain of the output stage, an emitter follower, is essentially unity. The overall voltage gain of the op-amp circuit is then expected to be in the range of 104–106. From our study in Chapter 9, this magnitude of voltage gain is required for the circuit to act essentially as an ideal op-amp. The same op-amp configuration can be designed with MOS transistors. In general, as we have seen, BJT circuits have higher voltage gains, whereas MOSFET circuits have higher input resistances. So, whether a bipolar or MOSFET design is used depends to a large extent on the specific application of the op-amp. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 950 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 950 Part 2 Analog Electronics 13.1.2 Circuit Element Matching Integrated circuit design is based directly on the ability to fabricate transistors on a chip that have nearly identical characteristics. In the analysis of current mirrors in Chapter 10 and differential amplifiers in Chapter 11, we assumed that transistors in a given circuit were matched. Transistors are matched when they have identical parameters. For bipolar transistors, the parameters are IS , β , and VA. Recall that IS includes the electrical parameters of the semiconductor material as well as the cross- sectional area (geometry) of the base-emitter junction. For NMOS transistors, the parameters are VT N , Kn , and λn , and for PMOS transistors, the same corresponding parameters must be identical. Again, recall that the parameter Kn contains semiconductor parameters as well as the width-to-length (geometry) of the transistor. The absolute parameter values of transistors on an IC chip may vary substantially (on the order of ±25 percent) from one IC chip to the next because of processing variations. However, the variation in parameter values of adjacent or nearby transistors on a given IC chip are usually within a fraction of a percent. In general, much of an amplifier design is based on the ratio of transistor parameters and on the ratio of resistor values rather than on the absolute values. For this reason, the operational amplifiers described in this chapter can be fabricated as ICs, but are almost impossible to fabricate with discrete circuit elements. Test Your Understanding TYU 13.1 Using a computer simulation, determine the dc voltages and currents in the bipolar op-amp circuit in Figure 13.2. Use reasonable resistor values. Adjust the value of R3 such that the output voltage is nearly zero for zero input voltages. TYU 13.2 Consider the basic diff-amp with active load and current biasing in Figure 13.2. Using a computer simulation, investigate the change in the voltage at the collector of Q2 as Q1 and Q2, and also Q5 and Q6, become slightly mismatched. 13.2 A BIPOLAR OPERATIONAL AMPLIFIER CIRCUIT Objective: • Describe and analyze the dc and ac characteristics of the classic 741 bipolar operational amplifier circuit. The 741 op-amp has been produced since 1966 by many semiconductor device manufacturers. Since then, there have been many advances in op-amp design, but the 741 is still a widely used general-purpose op-amp. Even though the 741 is a fairly old design, it still provides a useful case study to describe the general circuit configuration and to perform a detailed dc and small-signal analysis. From the ac analysis, we determine the voltage gain and the frequency response of this circuit. 13.2.1 Circuit Description Figure 13.3 shows the equivalent circuit of the 741 op-amp. For easier analysis, we break the overall circuit down into its basic circuits and consider each one individually."
13.2 A Bipolar Operational Amplifier Circuit,"13.2 A BIPOLAR OPERATIONAL AMPLIFIER CIRCUIT Objective: • Describe and analyze the dc and ac characteristics of the classic 741 bipolar operational amplifier circuit. The 741 op-amp has been produced since 1966 by many semiconductor device manufacturers. Since then, there have been many advances in op-amp design, but the 741 is still a widely used general-purpose op-amp. Even though the 741 is a fairly old design, it still provides a useful case study to describe the general circuit configuration and to perform a detailed dc and small-signal analysis. From the ac analysis, we determine the voltage gain and the frequency response of this circuit. 13.2.1 Circuit Description Figure 13.3 shows the equivalent circuit of the 741 op-amp. For easier analysis, we break the overall circuit down into its basic circuits and consider each one individually. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 951 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 951 Inverting input V+ Q8 Q9 Q12 Q13A Q Q14 13B Q15 QR6 = 18 Q Q 27 Ω 1 2 Noninverting Output input R5 = Q19 R7 = 40 kΩ C1 = 22 Ω Q3 Q4 30 pF R10 = Q21 50 kΩ Q 300 Ω 20 Q7 Q16 Q22 Q Q Q 5 6 17 Offset Q10 Q11 Q23 null R3 = R = 50 kΩ 1 R2 = R = R9 = RR = 8 = Q 11 1 kΩ 1 kΩ 4 24 5 kΩ 50 kΩ 100 Ω 50 kΩ V – Offset Input stage null Bias circuit Gain stage Output stage Figure 13.3 Equivalent circuit, 741 op-amp As with most op-amps, this circuit consists of three stages: the input differential amplifier, the gain stage, and the output stage. Figure 13.3 also shows a separate bias circuit, which establishes the bias currents throughout the op-amp. Like most op- amps, the 741 is biased with both positive and negative supply voltages. This eliminates the need for input coupling capacitors, which in turn means that the circuit is also a dc amplifier. The dc output voltage is zero when the applied differential input signal is zero. Typical supply voltages are V + = 15 V and V − = −15 V, although input voltages as low as ±5 V can be used. Input Diff-Amp The input diff-amp stage is more complex than those previously covered. The input stage consists of transistors Q1 through Q7, with biasing established by transistors Q8 through Q12. The two input transistors Q1 and Q2 act as emitter followers, which results in a high differential input resistance. The differential output currents from Q1 and Q2 are the inputs to the common-base amplifier formed by Q3 and Q4, which provides a relatively large voltage gain. Transistors Q5, Q6, and Q7, with associated resistors R1, R2, and R3, form the active load for the diff-amp. A single-sided output at the common collectors of Q4 and Q6 is the input signal to the following gain stage. The dc output voltage at the collector of Q6 is at a lower potential than the inputs at the bases of Q1 and Q2. As the signal passes through the op-amp, the dc voltage level shifts several times. By design, when the signal reaches the output terminal, the nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 952 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 952 Part 2 Analog Electronics dc voltage should be zero if a zero differential input signal is applied. The two null terminals on the input stage are used to make appropriate adjustments to accomplish this design goal. The “null technique” and the corresponding portion of the circuit will be discussed in detail in the next chapter. The dc current biasing is initiated through the diode-connected transistors Q12 and Q11 and resistor R5. Transistors Q11 and Q10, with resistor R4, form a Widlar current source that establishes the bias currents in the common-base transistors Q3 and Q4, as well as the current mirror formed by Q9 and Q8. Transistors Q3 and Q4 are lateral pnp devices, which refers to the fabrication process and the geometry of the transistors. Lateral pnp transistors provide added protection against voltage breakdown, although the current gain is smaller than in npn devices. Figure 13.4(a) shows a basic common-emitter differential pair used as the input to a diff-amp. If the input voltage V1 were to be connected to a supply voltage of 15 V, with V2 at ground potential, then the BE junction of Q2 would be reverse biased by approximately 14.3 V. Since the breakdown voltage of an npn BE junction is typically in the range of 3–6 V, transistor Q2 in Figure 13.4(a) would probably enter breakdown and suffer permanent damage. V1 = 15 V Q1 Q V 2 2 + – ≈ + 0.7 V ≈ 0.7 V – V – + ≅ 13.6 V V1 = 15 V Q Q 2 1 2 Q Q + – 3 4 ≈ 0.7 V ≈ 14.3 V – + (a) (b) Figure 13.4 (a) Basic common-emitter differential pair, with a large differential voltage and (b) the 741 input stage, with a large differential voltage By comparison, Figure 13.4(b) shows the input stage of the 741 op-amp with the same input voltages. The BE junctions of Q1 and Q3 are forward biased, which means that the series combination of BE junctions of Q2 and Q4 is reverse biased by approximately 13.6 V. The breakdown voltage of a lateral pnp BE junction is typically on the order of 50 V, which means that for this input voltage polarity, the BE junction of Q4 provides the necessary breakdown protection for the input diff-amp stage. Gain Stage The second, or gain, stage consists of transistors Q16 and Q17. Transistor Q16 operates as an emitter follower; therefore, the input resistance of the gain stage is large. As previously discussed, a large input resistance to the gain stage minimizes loading effects on the diff-amp stage. Transistor Q13 is effectively two transistors connected in parallel, with common base and emitter terminals. The area of Q13A is effectively one-fourth the area of Q12, nea80644_ch13_947-1008.qxd 6/25/09 10:04 AM Page 953 pmath DATA-DISK:Desktop Folder:25/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 953 and the area of Q13Bis effectively three-fourths that of Q12. Transistor Q13B provides the bias current for Q17 and also acts as an active load to produce a high-voltage gain. Transistor Q17 operates in a common-emitter configuration; therefore, the voltage at the collector of Q17 is the input signal to the output stage. The signal undergoes another dc level shift as it goes through this gain stage. The 741 is internally compensated by the feedback capacitor C1 connected between the output and input terminals of the gain stage. This Miller compensation technique assures that the 741 op-amp forms stable feedback circuits. Output Stage The output stage of an op-amp should provide a low output resistance, as well as a current gain, if it is to drive relatively large load currents. The output stage is therefore a class-AB circuit consisting of the complementary emitter-follower pair Q14 and Q20. The output of the gain stage is connected to the base of Q22, which operates as an emitter follower and provides a very high input resistance; the gain stage therefore suffers no significant loading effects due to the output stage. Transistor Q13A provides a bias current for Q22, as well as for Q18 and Q19, which are used to establish a quiescent bias current in the output transistors Q14 and Q20. Transistors Q15 and Q21 are referred to as short-circuit protection devices. These transistors are normally off; they conduct only if the output is inadvertently connected to ground, resulting in a very large output current. We will consider the characteristics of the output stage in Section 13.2.2. An abbreviated data sheet for the 741 is shown in Table 13.1. During our discussions in this chapter, we will compare our analysis results to the values in the table. A more complete data sheet for the 741 op-amp is given in Appendix B. Table 13.1 Data for 741 at T = 300 K and supply voltage of ±15 V Parameter Minimum Typical Maximum Units Input bias current 80 500 nA Differential-mode input resistance 0.3 2.0 M Input capacitance 1.4 pF Output short-circuit current 25 mA Open-loop gain (RL ≥ 2 k) 50,000 200,000 V/V Output resistance 75  Unity-gain frequency 1 MHz 13.2.2 DC Analysis In this section, we will analyze the dc characteristics of the 741 op-amp to determine the dc bias currents. We assume that both the noninverting and inverting input terminals are at ground potential, and that the dc supply voltages are V + = 15 V and V − = −15 V. As an approximation, we assume VB E = 0.6 V for npn transistors and VE B = 0.6 V for pnp transistors. In most dc calculations, we neglect dc base currents, although we include base current effects in a few specific cases. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 954 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 954 Part 2 Analog Electronics Inverting input V + Q8 Q9 Q12 Noninverting input Q QR5 = 1 2 40 kΩ IREF Q3 Q4 300 Ω Q7 Q5 Q6 Offset Q10 Q11 null R3 = R = 50 kΩ 1 R2 = Ω R = 1 k 1 kΩ 4 5 kΩ V – Offset Input stage null Bias circuit Figure 13.5 Bias circuit and input stage portion of 741 op-amp circuit Bias Circuit and Input Stage Figure 13.5 shows the bias circuit and input stage portion of the 741 circuit. The reference current, which is established in the bias circuit branch composed of Q12, Q11, and R5, is V + − I = − VE B12 − VB E11 − V REF (13.1) R5 Transistors Q11 and Q10 and resistor R4 form a Widlar current source. Therefore, IC10 is determined from t(he rela)tionship IR = IV ln REF C10 4 T (13.2) IC10 where VT is the thermal voltage and Q10 and Q11 are assumed to be matched transistors. Neglecting base currents, IC8 = IC9 = IC10. The quiescent collector currents in Q1 through Q4 are then I IC1 = IC2 = IC3 = I = C10 C4 (13.3) 2 Assuming the dc currents in the input stage are exactly balanced, the dc voltage at the collector of Q6, which is the input to the second stage, is the same as the dc voltage at the collector of Q5. We can write VC6 = VB E7 + VB E6 + IC6 R + V − 2 (13.4) As previously discussed, the dc level shifts through the op-amp. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 955 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 955 EXAMPLE 13.1 Objective: Calculate the dc currents in the bias circuit and input stage of the 741 op-amp. The bias circuit and input stage are shown in Figure 13.5. Solution: From Equation (13.1), the reference current is = V + − VE B12 − VB E11 − V − = 15 − 0.6 − 0.6 − (−15) IREF = 0.72 mA R5 40 Current IC10 is found from( Equa)tion (13.2), as follows: 0.72 IC10(5) = (0.026) ln IC10 By trial and error, we find that IC10 = 19 μA. The bias currents in the input stage are then IC1 = IC2 = IC3 = IC4 = 9.5 μA From Equation (13.4), the voltage at the collector of Q6 is VC6 = VB E7 + VB E6 + IC6 R2 + V − = 0.6 + 0.6 + (0.0095)(1) + (−15) or VC6 =∼ −13.8 V Comment: The bias currents in the input stage are quite small; the input base currents at the noninverting and inverting terminals are generally in the nanoampere range. Small bias currents mean that the differential input resistance is large. EXERCISE PROBLEM Ex 13.1: Consider the input stage and bias circuit of the 741 op-amp shown in Figure 13.5. The resistor R5 is changed to R5 = 25 k, and the bias voltages are V + = 5 V and V − = −5 V. Let VB E(on) = VE B(on) = 0.6 V and neglect base currents. Determine the currents IREF, IC10, IC1, and IC2. (Ans. IREF = 0.352 mA, IC10 = 16 μA, IC1 = IC2 = 8 μA) The transistor current gain of the lateral pnp transistors Q3, Q4, Q8, and Q9 maybe relatively small, which means that the base currents in these transistors may not be negligible. To determine the effect of the base currents, consider the expanded input stage shown in Figure 13.6. The base currents in the npn transistors are still assumed to be negligible. Current IC10 establishes the base currents in Q3 and Q4, which then establish the emitter currents designated as I. At the Q8 collector, we have ( ) = 2I 2 2II + C9 C8 = IC9 1 + (13.5) βp βp Since Q8 and Q9 are matched, IC8 = IC9. Then, [ ] 2I 2 IC10 = + + IC9 = 2I + ( 2I ) = β 2I p + 2βp + 2 + (13.6) 1 βp 1 βp 2 β2 1 + p + 3βp + 2 βp nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 956 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 956 Part 2 Analog Electronics V + IC9 IC9 bP bP Q8 Q9 IC8 IC9 2II IQ1 Q2 II II 1 + bP 1 + bP Q 2I 3 Q4 1 + bP IC10 Figure 13.6 Expanded input stage, 741 op-amp, showing base currents Even if the pnp transistor base currents are not negligible, the bias currents in Q1 and Q2 are, from Equation (13.6), very nearly II = C10 (13.7) 2 This bias current is essentially the same as originally assumed in Equation (13.3). Gain Stage Figure 13.7 shows the reference portion of the bias circuit and the gain stage. The reference current is given by Equation (13.1). Transistors Q12 and Q13 form a current mirror, and Q13B has a scale factor 0.75 times that of Q12. Neglecting base currents, current IC13Bis then IC13B = 0.75IREF (13.8) The emitter current in Q16 is the sum of the base current in Q17 and the current in R9, as follows: IC ∼ IR + V 16 = IE16 = I + E17 8 BE17 B17 (13.9) R9 EXAMPLE 13.2 Objective: Calculate the bias currents in the gain stage of the 741 op-amp in Figure 13.7. Assume bias voltages of ±15 V. Solution: In Example 13.1, we determined the reference current to be IREF = 0.72 mA. From Equation (13.8), the collector current in Q17 is IC17 = IC13B = 0.75IREF = (0.75)(0.72) = 0.54 mA nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 957 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 957 V + Q12 Q13A Q13BIC13BR5 = 40 kΩ C1 = IREF 30 pF VC6 Q16 Q17 Q11 Q23 R9 = R8 = 50 kΩ 100 Ω V – Bias circuit Gain stage Figure 13.7 Reference circuit and gain stage, 741 op-amp Assuming β = 200 for the npn transistor, the collector current in Q16 is, from Equation (13.9), =∼ + IE17 R8 + VB E17 = 0.54 + (0.54)(0.1) + 0.6 IC16 IB17 R9 200 50 or IC16 = 15.8 μA Comment: The small bias current in Q16, in conjunction with the resistor R9, ensures that the input resistance to the gain stage is large, which minimizes loading effects on the diff-amp stage. The small bias current in Q16 also means that the base current in Q16 is negligible, as assumed in the dc analysis of the input stage. EXERCISE PROBLEM Ex 13.2: Repeat Example 13.2 for bias voltages of ±5 V. (Ans. IREF = 0.22 mA, IC17 = 0.165 mA, IC16 = 13.2 μA) nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 958 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 958 Part 2 Analog Electronics Output Stage Figure 13.8 shows the basic output stage of the 741 op-amp. This is a class-AB configuration, discussed in Chapter 8. The IBias is supplied by Q13A, and the input signal is applied to the base of Q22, which operates as an emitter follower. The combination of Q18 and Q19 establishes two BE voltage drops between the base terminals of Q14 and Q20, causing the output transistors to be biased slightly in the conducting state. This VB B voltage produces quiescent collector currents in Q14 and Q20. Biasing both Q14 and Q20 “on” with no signal present at the input ensures that the output stage will respond linearly when a signal is applied to the op-amp input. V + Q I 12 Q13AC13A Q14 Q13B IBias IREF + Q18 V v BB O Q19 R i RL L 10 = 50 kΩ – IBias Q20 Q v 22 IV – Figure 13.8 Basic output stage, 741 op-amp, showing currents and voltages The collector of Q13A has a scale factor of 0.25 times that of Q12. Neglecting base currents, current IC13A is IC13A = 0.25IREF = IBias (13.10) where IREF is given by Equation (13.1). Neglecting base currents, the collector current in Q22 is also equal to IBias. The collector current in Q18 is I ∼= VB E19 C18 (13.11) R10 Therefore, IC19 = IBias − IC18 (13.12) EXAMPLE 13.3 Objective: Calculate the bias currents in the output stage of the 741 op-amp. Consider the output stage shown in Figure 13.8. Assume the reverse saturation currents of Q18 and Q19 are I −14 S = 10 A, and the reverse saturation currents of Q14 and Q20 are I = 3 × 10−14 SA. Neglect base currents. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 959 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 959 Solution: The reference current, from Example 13.1, is IREF = 0.72 mA. Current IC13A is then IC13A = (0.25)IREF = (0.25)(0.72) = 0.18 mA ∼= IBias If we assume VB E19 = 0.6 V, then the current in R10 is = VB E19 = 0.6 IR10 = 0.012 mA R10 50 The current in Q19 is IC ∼ 19 = IE19 = IC13A − IR10 = 0.18 − 0.012 = 0.168 mA For this value of co(llector) current, the B–(E voltage of Q1)9 is −3 VB E19 = IC19 = 0.168 × 10 VT ln (0.026) ln = 0.612 V IS 10−14 which is close to the assumed value of 0.6 V. Assuming βn = 200 for the npn devices, the base current in Q19 is I 168 μA I C19 B19 = = = 0.84 μA βn 200 The current in Q18 is now IC ∼ 18 = IE18 = IR10 + IB19 = 12 + 0.84 = 12.84 μA The BE voltage of( Q18 is) therefore ( −6 ) IV = V ln C18 = 12.84 × 10 BE18 T (0.026) ln = 0.545 V IS 10−14 The voltage difference VB Bis thus VB B = VB E18 + VB E19 = 0.545 + 0.612 = 1.157 V Since the output transistors Q14 and Q20 are identical, one-half of VBB is across each BE junction. The quiescent currents in Q14 and Q20 are I = I (VB B/2)/VT C14 C20 = ISe = 3 × 10−14e(1.157/2)/0.026 or IC14 = IC20 = 138 μA Comment: Using the piecewise linear approximation of 0.6 V for the BE junction voltage does not allow us to determine the quiescent currents in Q14 and Q20. For a more accurate analysis, the exponential relationship must be used, since the base– emitter areas of the output transistors are larger than those of the other transistors, and because the output transistors are biased at a low quiescent current. EXERCISE PROBLEM Ex 13.3: Calculate the bias currents IC13A , IR10, IC19, IC18, and IC14 in the output stage of the 741 op-amp for IREF = 0.50 mA, V + = 5 V, and V − = −5 V. All other parameters are the same as described in Example 13.3. (Ans. IC13A = 0.125 mA, IR10 = 0.012 mA, IC19 = 0.113 mA, IC18 = 12.565 μA, IC14 = 0.113 mA) nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 960 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 960 Part 2 Analog Electronics As the input signal vI increases, the base voltage of Q14 increases since the VB B voltage remains almost constant. The output voltage increases at approximately the same rate as the input signal. As vI decreases, the base voltage of Q20 decreases, and the output voltage also decreases, again at approximately the same rate as the input signal. The small-signal voltage gain of the output stage is essentially unity. Short-Circuit Protection Circuitry The output stage includes a number of transistors that are off during the normal operation of the amplifier. If the output terminal is at a positive voltage because of an applied input signal, and if the terminal is inadvertently shorted to ground potential, a large current will be induced in output transistor Q14. A large current can produce sufficient heating to cause transistor burnout. The complete output stage of the 741, including the short-circuit protection devices, is shown in Figure 13.9. Resistor R6 and transistor Q15 limit the current in Q14 in the event of a short circuit. If the current in Q14 reaches 20 mA, the voltage drop across R6 is 540 mV, which is sufficient to bias Q15 in the conducting stage. As Q15 turns on, excess base current into Q14 is shunted through the collector of Q15. The base current into Q14 is then limited to a maximum value, which limits the collector current. V + Q13A Q14 IC13A Q15 QR6 = 18 27 Ω vO Q19 R7 = 22 Ω R10 = RL Ω Q 50 k 21 Q20 QR11 = v 22 Q24 I3 50 kΩ V – Figure 13.9 Output stage, 741 op-amp with short-circuit protection devices The maximum current in Q20 is limited by components R7, Q21, and Q24, in much the same way as just discussed. A large output current will result in a voltage drop across R7, which will be sufficient to bias Q21 in its conducting state. Transistors Q21 and Q24 will shunt excessive output current away from Q20, to protect this output transistor. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 961 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 961 13.2.3 Small-Signal Analysis We can analyze the small-signal voltage gain of the 741 op-amp by dividing it into its basic circuits and using results previously obtained. Input Stage Figure 13.10 shows the ac equivalent circuit of the input stage with a differential voltage vd applied between the input terminals. The constant-current biasing at the base of Q3 and Q4 means that the effective impedance connected to the base terminal of Q3 and Q4 is ideally infinite, or an open circuit. Resistance Ract1 is the effective resistance of the active load and Ri2 is the input resistance of the gain stage. Q1 Q2 vd + ie i 1 e2 – vd 2 – + 2 Q3 Q4 ie2 ro4 vo1 Ract1 R ii2 e1 ie1 Q5 Q6 R1 R2 Figure 13.10 Simplified ac equivalent circuit of input stage of 741 op-amp From the results in Chapter 11, the small-signal differential voltage gain can be written as ( ) Ad = vo1 = − I gm(r C Q o4‖Ract1‖Ri2) = − (ro4‖Ract1‖Ri2) (13.13) vd VT where ICQ is the quiescent collector current in each of the transistors Q1 through Q4, and ro4 is the small-signal output resistance looking into the collector of Q4. Using ro4 as the resistance looking into the collector of Q4 neglects the effective resistance in the emitter of Q4. This effective resistance is simply the resistance looking into the emitter of Q2, which is normally very small. The minus sign in the voltage gain expression results from the applied signal voltage polarity and resulting current directions. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 962 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 962 Part 2 Analog Electronics The effective resistance of the active load is given by Ract1 = ro6 [1 + gm6(R2‖rπ6)] (13.14) as determined in Chapter 10 for the output resistance of a Widlar current source. From Figure 13.7, the input resistance of the gain stage is R ′ i2 = rπ16 + (1 + βn)RE (13.15) where R′ E is the effective resistance in the emitter of Q16, as given by R′ E = R9 ‖[rπ17 + (1 + βn)R8] (13.16) EXAMPLE 13.4 Objective: Determine the small-signal differential voltage gain of the 741 op-amp input stage. Assume npn transistor gains of βn = 200 and Early voltages of VA = 50 V. Solution: The quiescent collector currents were determined previously in this chapter. The input resistance to the gain stage is found from Equations (13.15) and (13.16), as follows: = βn VT = (200)(0.026) rπ17 = 9.63 k IC17 0.54 Therefore, R′ E = R9‖[rπ17 + (1 + βn)R8] = 50‖[9.63 + (201)(0.1)] = 18.6 k Also, = βn VT = (200)(0.026) rπ16 = 329 k IC16 0.0158 Consequently, R ′ i2 = rπ16 + (1 + βn)RE = 329 + (201)(18.6) ⇒ 4.07 M The resistance of the active load is determined from Equation (13.14). We find β V r = n T π6 = (200)(0.026) = 547 k IC6 0.0095 = I g C6 0.0095 m6 = = 0.365 mA/V VT 0.026 and V r A 50 o6 = = ⇒ 5.26 M IC6 0.0095 Then, Ract1 = ro6 [1 + gm6(R2‖rπ6)] = 5.26 [1 + (0.365)(1‖547)] = 7.18 M Resistance ro4 is = VA = (50) ro4 ⇒ 5.26 M IC4 (0.0095) nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 963 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 963 Finally, from( Equat)ion (13.13), the smalls(ignal di)fferential voltage gain is Ad = − IC Q (ro4‖ ‖ = − 9.5 RV act1 Ri2) (5.26‖7.18‖4.07) T 0.026 or Ad = −636 Comment: The relatively large gain results from the use of an active load and the fact that the gain stage does not drastically load the input stage. EXERCISE PROBLEM Ex 13.4: Repeat Example 13.4 assuming Early voltages of VA = 100 V. (Ans. Ad = −889) Gain Stage Figure 13.11 shows the ac equivalent circuit of the gain stage. Resistance Ract2 is the effective resistance of the active load and Ri3 is the input resistance of the output stage. Ract2 Ri2 Vo1 Q16 Vo2 Ib16 Q Ri3 17 Ib17 R9 = 50 kΩ R8 = 0.1 kΩ Figure 13.11 The ac equivalent circuit, gain stage of 741 op-amp We develop the small-signal voltage gain using Figure 13.11 directly. The input base current to Q16 is vi = o1 b16 (13.17) Ri2 where Ri2 is the input resistance to the gain stage. The base current into Q17 is R i 9 b17 = R9 + [rπ17 + (1 + × ie16 (13.18) βn)R8] where ie16 is the emitter current from Q16. The output voltage is vo2 = −ic17(Ract2 ‖Ri3‖ Ro17) (13.19) nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 964 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 964 Part 2 Analog Electronics Q13AR13A Q18 V Q o 19 R10 = R7 RL 50 kΩ R20 R19 Q20 Vo2 Q22 Ri3 Figure 13.12 The ac equivalent circuit, 741 op-amp output stage, for calculating input resistance where ic17 is the ac collector current in Q17 and Ro17 is the output impedance looking into the collector of Q17. Combining Equations (13.17), (13.18), and (13.19), we get the following expression for the small-signal voltage gain: = vo2 = −βn(1 + βn)RA 9(Ract2 ‖Ri3‖ Ro17) v2 { + + + } (13.20) vo1 Ri2 R9 [rπ17 (1 βn)R8] The effective resistance of the active load is the resistance looking into the collector of Q13B, or V RA act2 = ro13B = (13.21) IC13B The input resistance of the output stage can be determined from the ac equivalent circuit in Figure 13.12. In this figure, we assume that the pnp output transistor Q20 is active and the npn output transistor Q14 is cutoff. A load resistor RL is also included. Transistor Q22 operates as an emitter follower, which means that the input resistance is Ri3 = rπ22 + (1 + βp)[R19‖R20] (13.22) Resistance R19 is the series combination of the resistance looking into the emitters of Q19 and Q18, and the resistance looking into the collector of Q13A. The effective resistance of the combination of Q18 and Q19 is small compared to R13A; therefore, R ∼ 19 = R13A = V r A o13A = (13.23) IC13A The output transistor Q20 is also an emitter follower; therefore, R20 = rπ20 + (1 + βp)RL (13.24) where the load resistance RL is assumed to be much larger than R7. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 965 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 965 EXAMPLE 13.5 Objective: Determine the small-signal voltage gain of the second stage of the 741 op-amp. Assume the current gains of the pnp transistors are βp = 50 and the gains of the npn transistors are βn = 200. Also assume the Early voltage is 50 V for all transistors and the load resistance connected to the output is RL = 2 k. The dc quiescent currents were determined previously. Solution: First, we calculate the various resistances. To begin, β V (50)(0.026) rπ20 = p T = = 9.42 k IC20 0.138 which means that R20 = rπ20 + (1 + βp)RL = 9.42 + (51)(2) ∼= 111 k Also, R19 = ro13A = VA = 50 = 278 k IC13A 0.18 and = βpVT = (50)(0.026) rπ22 = 7.22 k IC13A 0.18 The input resistance to the output stage is therefore Ri3 = rπ22 + (1 + βp)[R19 ‖R20] = 7.22 + (51)[278 ‖111] ⇒ 4.05 M The effective resistance of the active load is V 50 RA act2 = = = 92.6 k IC13B 0.54 and the output resistance Ro17 is Ro ∼= VA = 50 17 = 92.6 k IC17 0.54 This calculation neglects the very small value of R8 in the emitter. From Equation (13.20), the small-signal voltage gain is as follows (all resistances are given in kilohms): = −βn(1 + βn)RA 9(Ract2‖Ri3‖Ro17) v2 Ri2{R9 + [rπ17 + (1 + βn)R8]} = −(200)(201)(50)(92.6‖4050‖92.6) 4070{50 + [9.63 + (201)(0.1)]} or Av2 = −285 Comment: The voltage gain of the second stage is fairly large, again because an active load is used and because there is no severe loading effect from the output stage. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 966 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 966 Part 2 Analog Electronics EXERCISE PROBLEM Ex 13.5: Repeat Example 13.5 assuming Early voltages of VA = 100 V. (Ans. A2 = −562) Overall Gain In calculating the voltage gain of each stage, we took the loading effect of the following stage into account. Therefore, the overall voltage gain is the product of the individual gain factors, or Av = Ad Av2 Av3 (13.25) where Av3 is the voltage gain of the output stage. If we assume that Av3 ≈ 1, as previously discussed, then the overall gain of the 741 op-amp is Av = Ad Av2 Av3 = (−636)(−285)(1) = 181,260 (13.26) Typical voltage gain values for the 741 op-amp are in the range of 200,000. The value determined in our calculations illustrates the magnitude of voltage gains that can be obtained in op-amp circuits. Output Resistance The output resistance can be determined by using the ac equivalent circuit in Figure 13.13. In this case, we assume the output transistor Q20 is conducting and Q14 is cutoff. The same basic result is obtained if Q14 is conducting and Q20 is cutoff. Q13A Rc13A Q18 Ro Q19 R7 = R10 22 Ω Re20 Q13B Rc Q 19 20 Re22 Rc13B Q22 Rc17 Q17 R8 = 100 Ω Figure 13.13 The ac equivalent circuit, 741 op-amp output stage, for calculating output resistance nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 967 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 967 We again rely on results obtained previously for output resistances of basic amplifier stages. The output resistance is Ro = R7 + Re20 (13.27) where = rπ20 + Re22‖RR c19 e20 + (13.28) (1 βp) Previously we argued that the series resistance due to Q18 and Q19 is small compared to Rc13A, so that Rc ∼ 19 = Rc13A . We also have R = rπ22 + Rc17‖Rc13Be22 + (13.29) (1 βp) where Rc13B = ro13Band Rc17 = ro17[1 + gm17(R8‖rπ17)] The output resistance of the op-amp is then found by combining all the resistance terms. EXAMPLE 13.6 Objective: Calculate the output resistance of the 741 op-amp. Consider the output stage configuration in Figure 13.13. Assume the output current is Ic20 = 2 mA and all other bias currents areas previously determined. Solution: Using βn = 200, βp = 50, and VA = 50 V, we find the following: rπ17 = 9.63 k rπ22 = 7.22 k rπ20 = 0.65 k gm17 = 20.8 mA/V ro17 = 92.6 k ro13B = 92.6 k Then, Rc17 = ro17[1 + gm17(R8‖rπ17)] = 92.6[1 + (20.8)(0.1‖9.63)] = 283 k and = rπ22 + Rc17‖Rc13B = 7.22 + 283‖92.6 Re22 + = 1.51 k (1 βp) 51 Also, =∼ = = VA = 50 Rc19 Rc13A ro13A = 278 k IC13A 0.18 Therefore = rπ20 + Re22‖Rc19 = 0.65 + 1.51‖278 Re20 + = 0.0422 k ⇒ 42.2  (1 βp) 51 Consequently, the output resistance is Ro = R7 + Re20 = 22 + 42.2 = 64.2  nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 968 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 968 Part 2 Analog Electronics Comment: We showed previously that the output resistance of an emitter-follower circuit is low. For comparison, typical output resistance values for the 741 op-amp are 75 . This correlates well with our analysis. EXERCISE PROBLEM Ex 13.6: Repeat Example 13.6 assuming Early voltages of VA = 100 V. (Ans. Ro = 90.9 ) 13.2.4 Frequency Response The 741 op-amp is internally compensated by the Miller compensation technique to introduce a dominant low-frequency pole. From Miller’s theorem, the effective input capacitance of the second gain stage is Ci = C1(1 + |Av2|) (13.30) The dominant low-frequency pole is fP D = 1 (13.31) 2π ReqCi where Req is the equivalent resistance between the second-stage input node and ground, and is Req = Ro1‖Ri2 (13.32) Here Ri2 is the input resistance of the gain stage and Ro1 is the output resistance of the diff-amp stage. From Figure 13.10, we see that Ro1 = Ract1‖ro4 (13.33) EXAMPLE 13.7 Objective: Determine the dominant-pole frequency of the 741 op-amp. Use appropriate results from previous calculations. Solution: Previously, we determined that |Av2| = 285, which means that the effective input capacitance is Ci = C1(1 + |Av2|) = (30)(1 + 285) = 8580 pF The gain stage input resistance was found to be Ri2 = 4.07 M. We find Ro1 = Ract1‖ro4 = 7.18‖5.26 = 3.04 M The equivalent resistance is then Req = Ro1‖Ri2 = 3.04‖4.07 = 1.74 M Finally, the dominant-pole frequency is 1 1 fP D = = = 10.7 Hz 2π ReqCi 2π(1.74 × 106)(8580 × 10−12) Comment: The very large equivalent input capacitance Ci justifies neglecting any other capacitance effects at the gain stage input. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 969 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 969 EXERCISE PROBLEM Ex 13.7: Repeat Example 13.7 assuming Early voltages of VA = 100 V. See Exercise Problems Ex 13.4, Ex 13.5, and Ex 13.6. (Ans. 3.88 Hz) If all other poles of the op-amp circuit are at very high frequencies, then the unity-gain bandwidth is fT = Ao fP D (13.34) Using our results, we find that fT = (181,260)(10.7) ∼= 1.9 MHz (13.35) Atypical unity-gain bandwidth value for the 741 op-amp is 1 MHz. With all the approximations and assumptions, such as the value of reverse saturation current and Early voltage, used in the calculations, a factor of two between the actual and predicted cutoff frequency is not significant. If the frequencies of the other poles of the 741 op-amp are greater than 1.9 MHz, the phase margin is 90 degrees. This phase margin ensures that any closed-loop amplifier circuit using the 741 op-amp will be stable for any feedback transfer function. Problem-Solving Technique: Operational Amplifier Circuits 1. DC analysis. The bias portion of the op-amp circuit must be identified. A reference current must be determined and then the bias currents in the individual building blocks of the overall circuit can be determined. 2. AC analysis. The small-signal properties of the building blocks of the overall circuit can be analyzed individually, provided that the loading effects of follow-on stages are taken into account. Test Your Understanding TYU 13.3 Using the results of Example 13.1 and assuming βn = 200, determine the input base currents to Q1 and Q2. (Ans. IB1 = IB2 = 47.5 nA) TYU 13.4 The 741 op-amp in Figure 13.3 is biased at V + = 15 V and V − = −15 V. Assume VB E(npn) = VE B(pnp) = 0.6 V. Determine the input common-mode voltage range, neglecting voltage drops across R1 and R2. (Ans. −12.6 < vin(cm) ≤ 14.4 V) TYU 13.5 (a) If the 741 op-amp in Figure 13.3 is biased at V + = 15 and V − =−15 V, estimate the maximum and minimum output voltages such that the op-amp remains biased in its linear region. (b) Repeat part (a) if V + = 5 V and V − = −5 V. (Ans. (a) −13.2 ≤ vO ≤ 13.8 V (b) −3.2 ≤ vO ≤ 3.8 V) TYU 13.6 Consider the input stage and bias circuit in Figure 13.5 with supply voltages V + = 5 V and V − = −5 V. If IS = 5 × 10−15 A for each transistor, determine IREF, VB E11, VB E10, VB E6, and IC10. (Ans. IREF = 0.218 mA, VB E11 = 0.637 V, IC10 = 14.2 μA, VB E10 = 0.566 V, VB E6 = 0.548 V) TYU 13.7 The power supply voltages for the 741 op-amp in Figure 13.3 are V + = 10 V and V − = −10 V. Neglect base currents and assume VB E(npn) = VE B(pnp) = 0.6 V. Calculate the bias currents IREF, IC10, IC6, IC13B , and IC13A . nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 970 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 970 Part 2 Analog Electronics (Ans. IREF = 0.47 mA, IC10 = 17.2 μA, IC6 = 8.6 μA, IC13B = 0.353 mA, IC13A = 0.118 mA) *TYU 13.8 In the 741 op-amp output stage in Figure 13.3, the combination of Q18, Q , and R is replaced by two series diodes with I = 10−14 19 10 SA. The transistor parameters are: βn = 200, βp = 50, and VA = 50 V. Assume the same dc bias currents calculated previously. Calculate the output resistance, assuming Q14 is conducting, producing a load current of 5 mA. (Ans. 41 ) 13.3 CMOS OPERATIONAL AMPLIFIER CIRCUITS Objective: • Describe and analyze the dc and ac characteristics of CMOS operational amplifier circuits. The 741 bipolar op-amp is a general-purpose op-amp capable of sourcing and sinking reasonably large load currents. The output stage is an emitter follower capable of supplying the necessary load current, with a low output resistance to minimize loading effects. In contrast, most CMOS op-amps are designed for specific on-chip applications and are only required to drive capacitive loads of a few picofarads. Most CMOS op-amps therefore do not need a low-resistance output stage, and, if the op-amp inputs are not connected directly to the IC external terminals, they also do not need electrostatic input protection devices. In this section, we consider four designs of a CMOS op-amp. Initially we consider a simple CMOS design to begin to understand the basic concepts of a CMOS op-amp. We then analyze a three-stage CMOS op-amp with a complementary push- pull output stage. The third CMOS op-amp is a more sophisticated design, called a folded cascode op-amp. Finally, we consider a current-mirror CMOS op-amp. In each case, we will do a dc analysis/design and a small-signal analysis/design. 13.3.1 MC14573 CMOS Operational Amplifier Circuit Circuit Description An example of an all-CMOS op-amp is the MC14573, for which a simplified circuit diagram is shown in Figure 13.14. The p-channel transistors M1 and M2 form the input differential pair, and then-channel transistors M3 and M4 form the active load. The diff-amp input stage is biased by the current mirror M5 and M6, in which the reference current is determined by an external resistor Rset. The second stage, which is also the output stage, consists of the common-source- connected transistor M7. Transistor M8 provides the bias current for M7 and acts as the active load. An internal compensation capacitor C1 is included to provide stability. DC Analysis Assuming transistors M5 and M6 are matched, the reference and input-stage bias currents are given by + − Iset = IQ = V − V − VSG5 (13.36) Rset"
13.3 CMOS Operational Amplifier Circuits,"13.3 CMOS OPERATIONAL AMPLIFIER CIRCUITS Objective: • Describe and analyze the dc and ac characteristics of CMOS operational amplifier circuits. The 741 bipolar op-amp is a general-purpose op-amp capable of sourcing and sinking reasonably large load currents. The output stage is an emitter follower capable of supplying the necessary load current, with a low output resistance to minimize loading effects. In contrast, most CMOS op-amps are designed for specific on-chip applications and are only required to drive capacitive loads of a few picofarads. Most CMOS op-amps therefore do not need a low-resistance output stage, and, if the op-amp inputs are not connected directly to the IC external terminals, they also do not need electrostatic input protection devices. In this section, we consider four designs of a CMOS op-amp. Initially we consider a simple CMOS design to begin to understand the basic concepts of a CMOS op-amp. We then analyze a three-stage CMOS op-amp with a complementary push- pull output stage. The third CMOS op-amp is a more sophisticated design, called a folded cascode op-amp. Finally, we consider a current-mirror CMOS op-amp. In each case, we will do a dc analysis/design and a small-signal analysis/design. 13.3.1 MC14573 CMOS Operational Amplifier Circuit Circuit Description An example of an all-CMOS op-amp is the MC14573, for which a simplified circuit diagram is shown in Figure 13.14. The p-channel transistors M1 and M2 form the input differential pair, and then-channel transistors M3 and M4 form the active load. The diff-amp input stage is biased by the current mirror M5 and M6, in which the reference current is determined by an external resistor Rset. The second stage, which is also the output stage, consists of the common-source- connected transistor M7. Transistor M8 provides the bias current for M7 and acts as the active load. An internal compensation capacitor C1 is included to provide stability. DC Analysis Assuming transistors M5 and M6 are matched, the reference and input-stage bias currents are given by + − Iset = IQ = V − V − VSG5 (13.36) Rset nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 971 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 971 V + 4 M5 M6 M8 IQ v1 M1 M2 v2 C1 vo Iset Rset M3 M4 M7 V – Figure 13.14 MC14573 CMOS op-amp equivalent circuit The reference current and source-to-gate voltage are also related by Iset = Kp5(VSG5 + VT P)2 (13.37) where VT P and Kp5 are the threshold voltage and conduction parameter of the p-channel transistor M5. EXAMPLE 13.8 Objective: Determine the dc bias currents in the MC14573 op-amp. Assume transistor parameters of |VT | = 0.5 V (all transistors), k ′ n = 100 μA/V2, k ′ p = 40 μA/V2, and circuit parameters of V + = 5 V, V − = −5 V, and Rset = 225 k. Assume transistor width-to-length ratios of 6.25 for M3 and M4, and 12.5 for all other transistors. Solution: F(or t)ra(nsist)ors M(5 and )M6, the conduction parameters are: k ′ p W 0.04 K 2 p = = (12.5) = 0.25 mA/V 2 L 5 2 Combining Equations (13.36) and (13.37) yields the source-to-gate voltage of M5: + + 2 = V − V − V − K V V SG5 p ( SG5 T P) Rset or 0.25 (V 2 SG5 − 0.5) = 5 − VSG5 − (−5) 225 which yields VSG5 = 0.9022 V nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 972 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 972 Part 2 Analog Electronics From Equation (13.36), we have = = 10 − 0.9022 Iset IQ ⇒ 40.4 μA 225 The quiescent drain currents in M7 and M8 are then also 40.4 μA, and the currents in M1 through M4 are 20.2 μA. Comment: The quiescent bias currents can be changed easily by changing the external resistor Rset. Transistors M5, M6, and M8 are identical, so the currents in these three devices are equal since the source-to-gate voltages are the same. The width-to-length ratio of M7 is twice that of M3 and M4, which means the current in M7 is twice that in M3 and M4. However, this is consistent with the current-source transistor currents. EXERCISE PROBLEM Ex 13.8: Repeat Example 13.8 assuming transistor width-to-length ratios of (W/L)3,4 = 10 for transistors M3 and M4, and W/L = 20 for all other transistors. Let Rset = 150 k. (Ans. IREF = IQ = ID7 = ID8 = 60.74 μA, ID1 − ID4 = 30.37 μA) Small-Signal Analysis The small-signal differential√ voltage gain of the inpu√t stage can be written as Ad = gm (ro2 ‖ro4 ) = 2 Kp1 IDQ1 (ro2 ‖ro4 ) = 2Kp1 IQ (ro2 ‖ro4 ) (13.38) where ro2 and ro4 are the output resistances of M2 and M4, respectively. The input impedance to the second stage is essentially infinite; therefore, there is no loading effect due to the second stage. If we assume that the parameter λ is the same for all transistors, then ro2 = 1 ro4 = (13.39) λID where ID, which is the quiescent drain current in M2 and M4, is ID = IQ/2. The magnitude of the gain of the second stage is Av2 = gm7 (ro7‖ro8) (13.40) where √ gm7 = 2 Kn7 ID7 and ro7 = ro8 = 1/λID7 Equation (13.40) implies that there is no loading effect due to an external load connected at the output. EXAMPLE 13.9 Objective: Determine the small-signal voltage gains of the input and second stages, and the overall voltage gain, of the MC14573 op-amp. Assume the same transistor and circuit parameters as in Example 13.8. Let λ = 0.02 V−1 for all transistors. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 973 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 973 Solution: The cond(ucti)o(n par)amete(rs of M)1 and M2 are k ′ = = p W = 0.04 Kp1 Kp2 (12.5) = 0.25 mA/V2 2 L 1 2 and the output resistances are ro2 = 1 ro4 = = 1 ⇒ 2.475 M  λID2 (0.02)(0.0202) From Equa√tion (13.38), the differential voltage gain of the input stage is then Ad = √ 2Kp1 IQ (ro2‖ro4 ) = 2 (0.25) (0.0404)(2475‖2475) or Ad = 176 The transc√o(nduc)ta(nce )of M7 is √ k ′ ( ) = n W 0.1 gm7 2 I 2 L D7 = 2 (12.5)(0.0404) 7 2 = 0.3178 mA/V and the output resistances of M7 and M8 are 1 1 ro7 = ro8 = = ⇒ 1.238 M  λID7 (0.02)(0.0404) From Equation (13.40), the magnitude of the voltage gain of the second stage is then Av2 = gm7 (r07‖r08 ) = (0.3178)(1238‖1238) = 197 Finally, the overall voltage gain magnitude of the op-amp is Av = Ad Av2 = (176)(197) = 34,672 Comment: The calculated overall voltage gain is 91 dB, which correlates very well with typical values of 90 dB, as listed in the data sheet for the MC14573 op-amp. The open-loop gain of a CMOS op-amp is generally less than that of a bipolar op-amp, but the use of active loads provides acceptable results. EXERCISE PROBLEM Ex 13.9: Repeat Example 13.9 using circuit and transistor parameters given in Exercise Ex 13.8. (Ans. Ad = 181.4, Av2 = 202.9, Av = 91.3 dB) 13.3.2 Three-Stage CMOS Operational Amplifier Figure 13.15 shows a three-stage CMOS op-amp circuit. The differential input stage consists of the differential pair M1 and M2 with active load transistors M3 and M4. The input stage is biased with the constant-current source M10 and M11. As shown in Chapter 10, the reference current can be established with additional NMOS transistors. The output of the input stage is connected to the common-source amplifier consisting of M5. The transistor M9 establishes the bias current IQ2 and also acts as the active load for the common-source amplifier. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 974 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 974 Part 2 Analog Electronics V + = 5 V 40 40 1 1 M3 M4 80 1 vo1 M5 25 1 vo2 M v MM v 6 1 1 2 2 15 15 1 1 M v 8 o 50 I 1 REF M7 IQ1 IQ2 MM10 11 M9 20 20 20 1 1 1 V – = –5 V Figure 13.15 A three-stage CMOS operational amplifier Transistors M6 and M7 form the complementary push–pull output stage. Transistor M8 acts as a resistor and provides a potential difference between the gates of the output transistors to minimize crossover distortion in the output signal. Example width-to-length ratios of the transistors in the CMOS op-amp circuit are shown in the figure. These ratios will be used in the following example. EXAMPLE 13.10 Objective: Determine the dc and ac characteristics of a three-stage CMOS op-amp. Consider the three-stage CMOS op-amp shown in Figure 13.15. The NMOS transistor parameters are VT N = 0.7 V, k ′ n = 80 μA/V2, λn = 0.01 V−1, and the PMOS transistor parameters are VT P = −0.7 V, k ′ p = 40 μA/V2, λ −1 p = 0.015 V . Assume the reference current is IREF = 160 μA. Solution (DC Analysis): Since M9, M10, and M11 are matched transistors, then IQ1 = IQ2 = IREF = 160 μA. Transistors M3 and M4 are matched so that in the quiescent condition, VSG3 = VSD3 = VSD4. Since VSG5 = VSD4 and since the current in M5 is twice as large as that in M4, the width-to-length ratio of M5 must be twice as large as that of M3 and M4. If we provide dc biases of VGS6 = VSG7 = 0.85 V to the output transistors, then the dc quiescent curre(nt in) the output transistors( will be k ′ ) n W 80 ID6 = ID7 = (VGS6 − V 2 TN ) = (25)(0.85 − 0.7)2 2 L 6 2 or ID6 = ID7 = 22.5 μA nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 975 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 975 The potential difference across M8 must then be VDS8 = 2(0.85) = 1.7 V. We then have ( )( ) 80 WI 2 D8 = IQ2 = 160 = (1.7 − 0.7) 2 L 8 which yields a required width-to-length ratio of (W/L)8 = 4. Solution (AC Analysis): Since there is no loading effect between stages of the CMOS op-amp, we can write the overall differential voltage gain as Av = Ad1 A2 A3 where the gains Ad1, A2, and A3 are the voltage gains of each individual stage. Since the output stage is a source-follower circuit, we can write that A ∼ 3 = 1. Defining the differential input voltage as vd = v1 − v2, the differential voltage gain of the input stage (using results from Chapter 11) is = v A o1 d1 = gm1(ro2‖ro4) vd We find √( ′ )( ) ( ) √( ) ( ) = kn WI g 2 Q1 = 0.08 0.16 m1 2 (15) 2 L 1 2 2 2 or gm1 = 0.438 mA/V Also 1 1 ro2 = = = 1250 k λn(IQ1/2) (0.01)(0.08) and = 1 = 1 ro4 = 833.3 k λp(IQ1/2) (0.015)(0.08) We then find Ad1 = (0.438)(1250‖833.3) = 219 The resistance of M8 is relatively small, so the voltage gain of the second common- source stage is given by A2 = −gm5(ro5‖ro9) We find √( √ = k ′ )( ) ( ) W 0.04 gm5 2 p I 2 L Q2 = 2 (80)(0.16) 5 2 or gm5 = 1.012 mA/V Also = 1 = 1 ro5 = 416.7 k λp IQ2 (0.015)(0.16) nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 976 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 976 Part 2 Analog Electronics and ro9 = 1 = 1 = 625 k λn IQ2 (0.01)(0.16) The voltage gain of the second stage is then A2 = −(1.012)(416.7‖625) = −253 The overall differential voltage gain of this three-stage CMOS op-amp is then Av = Ad1 A2 = (219)(−253) = −55,407 Comment: A reasonable differential voltage gain is obtained in this three-stage CMOS amplifier. EXERCISE PROBLEM Ex 13.10: (a) Calculate the differential voltage gains of the first and second stages, and the overall voltage gain of the three-stage CMOS op-amp in Figure 13.15 if (W/L)1,2 = 22.5 and IREF = 200 μA. All other parameters are the same as given in Example 13.10. (b) Recalculate (W/L)8 if the quiescent current in the output transistors is to be 40 μA. (Ans. (a) Ad = 240, A2 = −226.2, A = −54, 288; (b) (W/L)8 = 4.13) 13.3.3 Folded Cascode CMOS Operational Amplifier Circuit As we have mentioned previously, the voltage gain of an amplifier can be increased by using a cascode configuration. In its simplest form, the conventional cascode configuration consists of two transistors in series, as shown in Figure 13.16(a). The VDD VDD R IQ L vo i MM 2 VB3 V 2 sig B2 vo IR M 2 L 1 M1 vi vi I ~ ~ 1 + + VB1 VB1 – – (a) (b) Figure 13.16 (a) Classical cascode stage. (b) folded-cascode stage nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 977 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 977 transistor M1 is the common-source amplifying device whose current is determined by the input voltage. This current is the input signal to M2, which is connected in a common-gate configuration. The output is taken off the drain of the cascode transistor. The circuit in Figure 13.16(b) has a slightly different configuration. The dc current I1 in M1 is determined by the input voltage. The dc current in M2 is the difference between the bias current IQ and I1. The ac current in the conventional cascode circuit of Figure 13.16(a) is through both transistors and the dc power supply. The ac current in the cascode circuit in Figure 13.16(b) is through both transistors and ground as indicated in the figure. The ac current in M2 of this circuit is equal in magnitude but in the opposite direction to M1. Thus the current is said to be folded back and the circuit in Figure 13.16(b) is called a folded cascode circuit. The folded cascode configuration can be applied to the diff-amp as shown in Figure 13.17. The transistors M1 and M2 are the differential pair, as usual, and transistors M5 and M6 are the cascode transistors. Transistors M7–M10 form a modified Wilson current mirror acting as an active load. This configuration was discussed in Chapter 10. Assuming that transistors M3, M4, and M11–M13 are all matched, then the dc currents in M1 and M2 are IREF/2 and those in M3 and M4 are IREF. This means that the dc currents in the cascode transistors M5 and M6 are IREF/2. V + M12 M11 M9 M10 M7 M8 RI o8 REF vo VB2 Ro6 MM MM 1 2 5 6 v v1 i = g d m v 2 2 vd – + vd 2 + – 2 vi g d = m 2 ii M13 MM 4 3 V – Figure 13.17 CMOS folded cascode amplifier nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 978 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 978 Part 2 Analog Electronics If a differential-mode input voltage is applied, then ac currents are induced in the differential pair as shown in the figure. The ac current in M1 flows through M6 to the output. The ac current in M2 flows through M5 and is induced in M8 by the current- mirror action of the active load. From previous work on diff-amps, the differential- mode voltage gain is Ad = gm1(Ro6‖Ro8) (13.41) where Ro8 = gm8(ro8ro10) (13.42(a)) and Ro6 = gm6(ro6)(ro4‖ro1) (13.42(b)) We may note that we are neglecting the body effect. Normally the substrates of all NMOS devices are tied to V − and the substrates of all PMOS devices are tied to V +. EXAMPLE 13.11 Objective: Determine the differential-mode voltage gain of the folded cascode diff- amp in Figure 13.17. Assume circuit and transistor parameters: IREF = 100 μA, k ′ n = 80 μA/V2, k ′ p = 40 μA/V2, (W/L) = 25, and λn = λp = 0.02 V−1. Solution: The trans√conductances are d√etermined to be k ′ g = g p W 40 m1 m8 = 2 · · ID = 2 · (25)(50) = 316 μA/V 2 L 2 and √ √ = k ′ g 2 n · Wm6 · 80 ID = 2 · (25)(50) = 447 μA/V 2 L 2 The transistor output resistances are found to be ro1 = 1 1 ro6 = ro8 = ro10 = = = 1 M λID (0.02)(50) and 1 ro4 = = 1 = 0.5 M λID4 (0.02)(100) The composite output resistances can be determined as Ro8 = gm8(ro8ro10) = (316)(1)(1) = 316 M and Ro6 = gm6(ro6)(ro4‖ro1) = (447)(1)(0.5‖1) = 149 M The differential-mode voltage gain is then Ad = gm1(Ro6‖Ro8) = (316)(149‖316) ∼= 32,000 nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 979 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 979 Comment: This example shows that very high differential-mode voltage gains can be achieved in a folded cascode CMOS circuit. In actual circuits, the output resistances maybe limited by leakage currents so the very ideal values may not be realizable. However, substantially higher differential-mode voltage gains can be achieved in the folded cascode configuration than in the simpler diff-amp circuits. EXERCISE PROBLEM Ex 13.11: Assume the reference current in the folded cascode circuit shown in Figure 13.17 is IREF = 50 μA. Assume the transistor parameters are the same as given in Example 13.11. Determine the differential-mode voltage gain. (Ans. =∼ 64,000) 13.3.4 CMOS Current-Mirror Operational Amplifier Circuit Another CMOS op-amp circuit is shown in Figure 13.18. The differential pair is formed by M1 and M2. The induced ac currents from these transistors drive transistors M3 and M4, which are the inputs of two current mirrors with a current multiplication factor B. The current output of M5 is then induced in M8 by the current-mirror action of M7 and M8. The output signal currents then have a multiplication factor B. The differential-mode voltage gain is then given by = v A o d = Bgm1(ro6‖ro8) (13.43) vd The factor of Bin the gain expression of Equation (13.43) maybe slightly misleading. Recall that the individual transistor output resistance is inversely proportional to the drain current. If the current in the output transistors increases by the factor B, then V + B:1 1:BM5 M3 M4 M6 vo CL v1 M1 M v 2 2 IQ M7 M8 V – Figure 13.18 CMOS current-mirror op-amp nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 980 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 980 Part 2 Analog Electronics Ro = ro6‖ro8 decreases by the factor B so the differential-mode voltage gain remains unchanged. The advantage of the current-mirror op-amp is an increase in the gain–bandwidth product. The dominant-pole frequency will be determined by the parameters at the output node. The dominant-pole frequency is given by 1 fpd = + (13.44) 2π Ro(CL Cp) where Ro is the output resistance, CL is the load capacitance, and Cp is the sum of all other capacitances at the output node. If Ro decreases by the factor B, then the dominant- pole frequency increases by the same factor B. The gain–bandwidth product is GBW = Ad · fpd (13.45) Since Ad is now independent of Band fpd increases by B, then the gain–bandwidth product increases by B. Further analysis of this circuit shows that the phase margin decreases within- creasing B. As a practical limit, the maximum value of Bis limited to approximately 3. 13.3.5 CMOS Cascode Current-Mirror Op-Amp Circuit As we have already seen, the differential-mode gain can be increased by adding cascode transistors in the output portion of the circuit. Figure 13.19 shows the same current-mirror configuration considered previously but with cascode transistors added to the output. Transistors M9–M12 are the cascode transistors. The differential- mode voltage gain is given by Ad = vo = Bgm1(Ro10‖Ro12) (13.46) vd V + B:1 1:BM5 M3 M4 M6 VB1 M9 M10 v1 MM v2 v 1 2 o CL M11 M12 IQ VB2 M7 M8 V – Figure 13.19 CMOS cascode current-mirror op-amp nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 981 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 981 where Ro10 = gm10(ro10ro6) (13.47) and Ro12 = gm12(ro12ro8) (13.48) The advantage of this circuit is the increased gain at low frequency. The gain– bandwidth product of this circuit is not changed from that of the simple current- mirror op-amp considered previously. Test Your Understanding *TYU 13.9 Using the parameters given in Example 13.8, determine the input common- mode voltage range for the MC14573 op-amp. (Ans. −4.75 ≤ vcm ≤ 3.81 V) TYU 13.10 Using the parameters given in Example 13.8, determine the maximum and minimum output voltage in the MC14573 circuit such that the op-amp remains biased in its linear region. (Ans. −4.75 ≤ vo ≤ 4.6 V) *TYU 13.11 Consider the MC14573 op-amp in Figure 13.14. Assume the same circuit and transistor parameters as given in Examples 13.8 and 13.9, except change Rset to 100 k. (a) Calculate all dc bias currents. (b) Determine the overall voltage gain of the op-amp. (Ans. (a) Iset = IQ = ID7 = ID8 = 89.03 μA, ID1 − ID4 = 44.52 μA; (b) Av = 15,701) TYU 13.12 Consider the CMOS current-gain op-amp in Figure 13.18. Assume the bias current is IQ = 200 μA and assume transistor parameters k ′ n = 100 μA/V2, k ′ p = 40 μA/V2, and λn = λp = 0.02 V−1 . Assume the basic W/L ratio of the transistors is 40 and let B = 3. (a) Determine the small-signal voltage gain. (b) If the effective capacitance at the output node is CL + Cp = 2 pF, determine the dominant pole frequency and the gain-bandwidth product. (Ans. (a) Ad = 223.6; (b) fP D = 955 kHz, GBW = 213.5 MHz) TYU 13.13 Consider the CMOS cascode current-mirror op-amp in Figure 13.19. Assume the bias current and transistor parameters are the same as in Exercise TYU 13.12. Repeat parts (a) and (b) of Exercise TYU 13.12 for this circuit. (Ans. (a) Ad = 44,751; (b) fP D = 4.77 kHz, GBW = 213.5 MHz) 13.4 BiCMOS OPERATIONAL AMPLIFIER CIRCUITS Objective: • Describe and analyze the dc and ac characteristics of BiCMOS operational amplifier circuits. As discussed in Chapter 11, BiCMOS circuits combine the advantages of bipolar and MOSFET devices in the same circuit. One advantage of MOSFETs is the very high input impedance. Therefore, when MOSFETs form the input differential pair of an op-amp, the input bias currents are extremely small. However, the equivalent noise of the input stage maybe greater than for an all-BJT op-amp. In this section, we will examine two BiCMOS op-amp circuits. The first is a variation of the folded cascode configuration analyzed in the last section and the second is"
13.4 BiCMOS Operational Amplifier Circuits,"13.4 BiCMOS OPERATIONAL AMPLIFIER CIRCUITS Objective: • Describe and analyze the dc and ac characteristics of BiCMOS operational amplifier circuits. As discussed in Chapter 11, BiCMOS circuits combine the advantages of bipolar and MOSFET devices in the same circuit. One advantage of MOSFETs is the very high input impedance. Therefore, when MOSFETs form the input differential pair of an op-amp, the input bias currents are extremely small. However, the equivalent noise of the input stage maybe greater than for an all-BJT op-amp. In this section, we will examine two BiCMOS op-amp circuits. The first is a variation of the folded cascode configuration analyzed in the last section and the second is nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 982 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 982 Part 2 Analog Electronics the CA3140 BiCMOS op-amp. Since we previously fully analyzed the folded cascode circuit, we will discuss, here, the advantages of using the BiCMOS technology. Many features of the CA3140 BiCMOS op-amp are similar to those of the 741. Therefore, we will not analyze this op-amp in as great a detail as we did the 741. Instead, we will concentrate on some of its unique features. 13.4.1 BiCMOS Folded Cascode Op-Amp Figure 13.20 shows an example of a BiCMOS folded cascode op-amp. The cascode transistors, Q5 and Q6, are now bipolar devices, replacing n-channel MOSFETs. The small-signal voltage gain expression for this circuit is identical to that of the all-CMOS design. We have mentioned that the dominant-pole frequency is determined by the circuit parameters at the output node because of the very large output resistance. Nondominant-pole frequencies are then a function of the parameters at the other circuit nodes. In particular, one node of interest is at the drain of an input transistor and emitter of a cascode transistor. The nondominant-pole frequency can be written as g f m6 3−dB = (13.49) 2πCp6 V + M12 M11 M9 M10 M7 M8 RI o8 REF vo VB2 Ro6 MM Q Q 1 2 5 6 v v1 id = gm v 2 2 vd – + vd 2 + – 2 vi d = gm 2 ii M13 MM 4 3 V – Figure 13.20 BiCMOS folded cascode amplifier nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 983 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 983 where gm6 is the transconductance of the cascode transistor Q6 and Cp6 is the effective capacitance at this node. Since the transconductance of a bipolar is usually greater than that of a MOSFET, this 3 dB frequency is larger for the BiCMOS circuit than for the all-CMOS design. This result means that the phase margin of the BiCMOS op-amp circuit is larger than that of the all-CMOS op-amp. 13.4.2 CA3140 BiCMOS Circuit Description Figure 13.21 shows the basic equivalent circuit of the CA3140 op-amp. Like the 741, this op-amp consists of three basic stages: the input differential stage, the gain stage, and 1 + D V 1 D7 R13 = Q 15 kΩ Q1 Q2 3 3 R9 = 50 Ω Q20 R10 = 1 kΩ 4 Q Q Q D 6 8 5 Q4 19 R = R12 = 11 20 Ω 12 kΩ R14 = Q 5 Q 20 kΩ 7 17 6 M21 R8 = 1 kΩ M Q 8 18 R1 = 8 kΩ 7 Output D2 D3 D4 2 D5 – Inverting MM input 9 10 C + 1 = 12 pF Noninverting R = input 3 R2 = 500 Ω 500 Ω Q13 Q14 Q15 Q16 Q Q 11 12 D6 R6 = 50 Ω R = R4 = R 7 5 = 30 Ω 500 Ω 500 Ω Offset null V – Dynamic Bias circuit Input stage Second stage Output stage current sink Figure 13.21 CA3140 BiCMOS op-amp equivalent circuit nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 984 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 984 Part 2 Analog Electronics the output stage. Also shown in the figure are: the bias circuit, which establishes the dc bias currents in the op-amp; and a section referred to as a dynamic current sink, which will be explained later. Typical supply voltages are V + = 15 V and V − = −15 V. Input Diff-Amp The input differential pair consists of p-channel transistors M9 and M10, and transistors Q11 and Q12 form the active load for the diff-amp. A single-sided output at the collector of Q12 is the input signal to the following gain stage. Two offset null terminals are also shown, and will be discussed in the next chapter. MOS transistors are very susceptible to damage from electrostatic charge. For example, electrostatic voltage can be inadvertently induced on the gate of a MOSFET during routine handling. These voltages maybe great enough to induce breakdown in the gate oxide, destroying the device. Therefore, input protection against electrostatic damage is provided by the Zener diodes D3, D4, and D5. If the gate voltage becomes large enough, these diodes will provide a discharge path for the electrostatic charge, thus protecting the gate oxide from breakdown. The dc current biasing is initiated in the bias circuit. The elements labeled D1 and D2 are diode-connected transistors. Transistor Q1 and diode D1 are matched, which forces the currents in the two branches of the bias circuit to be equal. The current is determined from Q7, R1, and M8. The combination of Q6 and Q7 makes the bias current essentially independent of the power supply voltages. Gain Stage: The second stage consists of Q13 connected in a common-emitter configuration. The cascode configuration of transistors Q3 and Q4 provides the bias current for Q13, in addition to acting as the active load. Since Q3 and Q4 are connected in a cascode configuration, the resistance looking into the collector of Q4 is very high. Output Stage: The basic output stage consists of the npn transistors Q17 and Q18. During the positive portion of the output voltage cycle, Q18 acts as an emitter follower, supplying a load current. During the negative portion of the output voltage cycle, Q16 sinks current from the load. As the output voltage decreases, the source- to-gate voltage on the p-channel M21 MOSFET increases, producing a larger current in D6 and R7 so that the base voltage on Q16 increases. The increase BE voltage of Q16 allows increased load current sinking. Short-circuit protection is provided by the combination of R11 and Q19. If a sufficiently large voltage is developed across R11, Q19 turns on and shunts excess base current away from Q17. An abbreviated data sheet for the CA3140 op-amp is in Table 13.2. As before, we will compare the results of our analysis to the values listed in the table. Table 13.2 CA3140 BiCMOS data Parameter Minimum Typical Maximum Units Input bias current 10 50 pA Open-loop gain 20,000 100,000 V/V Unity-gain frequency 4.5 MHz 13.4.3 CA3140 DC Analysis In this section, we will determine the dc bias currents in the CA3l40 op-amp. As previously stated, we will concentrate on the features that are unique to the CA3140 compared to the 741. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 985 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 985 The basic bias circuit is shown in Figure l3.22. The current mirror consisting of V + Q1 and D1 ensures that the two branch currents I1 and I2 are equal, since Q1 and D1 are matched. The p-channel MOSFET M8 is to operate in the saturation region, so D that we must have 1 Q1 VSD > VSG − |VT P | (13.50) I2 Q6 From the figure, we see that = Q7 I1 VSG VSD + VD (13.51) + VSG + or – M V 8 SD = − R1 = V V V – SD SG D (13.52) I 8 kΩ R1 + Combining Equations (13.52) and (13.50) yields D2 VD − − | | – VSG VD > VSG VT P (13.53) – which implies that |VT P | > V VD . In other words, for M8 to remain biased in the saturation region, the magnitude of the threshold voltage must be greater than the diode voltage. Figure 13.22 Bias circuit, From the left branch of the bias circuit, we see that the current can be written CA3140 BiCMOS op-amp I =∼ I = VSG − VB E7 2 R1 (13.54) R1 and from the right branch, we have I1 = Kp(VSG − |V |)2 T P (13.55) Since I1 = I2, a simultaneous solution of Equations (13.54) and (13.55) determines the currents and voltages in this bias circuit. EXAMPLE 13.12 Objective: Determine the currents and voltages in the bias circuit of the CA3140 op-amp. Consider the bias circuit in Figure 13.22, with parameters: V + = 15 V, V − = −15 V, and R1 = 8 k. Assume transistor parameters of VB E(npn) = VE B(pnp) = 0.6 V for the bipolars, and Kp = 0.2 mA/V2 and |VT P | = 1.4 V for the MOSFET M8. Solution: Set I1 = I2. Then, from Equations (13.54) and (13.55), we find VSG = 2.49 V and I1 = I2 = 0.236 mA The voltage at the collector of Q6 is V − C6 = VSG8 + V = 2.49 − 15 = −12.5 V and the voltage at the collector of Q7 is V + C7 = V − VE B1 − VE B6 = 15 − 0.6 − 0.6 = 13.8 V Therefore, the collector–base junctions of both Q6 and Q7 are reverse biased by 13.8 − (−12.5) = 26.3 V, and both Q6 and Q7 are biased in the active region. Comment: The nominal bias current listed in Table 13.2 is 200 μA, which correlates well with our calculated value of 236 μA. As long as the BC junctions of Q6 and Q7 remain reverse biased, the bias currents remain constant. This means that the bias current is independent of V + and V − over a wide range of voltages. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 986 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 986 Part 2 Analog Electronics The PSpice analysis, using I = 2 × 10−15 SA for the BJTs shows that the currents in the two branches of the current source are essentially 220 μA. This compares very favorably with the 236 μA obtained by the hand analysis. EXERCISE PROBLEM Ex 13.12: (a) Assume the bias circuit of the CA3140 op-amp circuit shown in Figure 13.22 has supply voltages of V + = 5 V and V − = −5 V. Let R1 = 10 k. The transistor parameters are VT P = −0.8 V and Kp = 0.15 mA/V2 for M8; and VB E7(on) = VE B6 = 0.6 V for the bipolars. Find the currents I1 and I2; and the voltages VSG8, VC7, VC6, VC B7, and VBC6. (b) Using the results of part (a), determine the minimum supply voltages that will still maintain the bipolar transistors biased in the forward active region. Assume V + = −V − . (Ans. (a) I1 = I2 = 0.1028 mA, VSG8 = 1.628 V, VC7 = 3.8 V, VC6 = −3.37 V, VC B7 = VBC6 = 7.17 V; (b) V + = −V − = 1.414 V) Transistors Q1 through Q6 and diode D1 in Figure 13.21 are all matched, which means that IC = IC ∼ 5 4 = 200 μA. The current in D2 establishes the diode voltage that also biases Q14 and Q15. The nominal value of IC18 is 2 mA. 13.4.4 CA3140 Small-Signal Analysis We analyze the small-signal voltage gain of the CA3140 op-amp by dividing the configuration into its basic circuits and using results previously obtained. Input Stage From there√sults in Chapter 11, the small-signal differential voltage gain can be written Ad = 2Kp IQ5(ro10‖Ract1‖Ri2) (13.56) where IQ5 is the bias current supplied by Q2 and Q5. Resistance ro10 is the output resistance looking into the drain of M10, Ract1 is the effective resistance of the active load, and Ri2 is the input resistance of the gain stage. EXAMPLE 13.13 Objective: Calculate the small-signal differential voltage gain of the CA3140 op- amp input stage. Assume a bias current of IQ = 0.2 mA. Assume a conduction parameter value of Kp = 0.6 mA/V2 for M10, an npn bipolar current gain of βn = 200, and a bipolar Early voltage of VA = 50 V. Solution: The input resistance to the gain stage is Ri2 = rπ13; therefore, = = βn VT = (200)(0.026) Ri2 rπ13 = 26 k IC13 0.20 Resistances ro10 and Ract1 are normally in the hundreds of kilohms or megohm range, so the small value of Ri2 dominates the parallel resistance value in the gain expression. We th√en have Ad =∼ √ 2Kp IQ5(Ri2) = 2(0.6)(0.2)(26) = 12.7 Comment: The low input resistance of the gain stage severely loads the input stage, which in turn results in a relatively low voltage gain for the input stage. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 987 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 987 EXERCISE PROBLEM Ex 13.13: Repeat Example 13.13 for the case when Kp = 1 mA/V2 for M10 and when the Early voltage of a bipolar transistor is VA = 120 V. All other circuit and transistor parameters are the same as given in Example 13.13. (Ans. Ad = 16.4) Gain Stage The magnitude of the small-signal voltage gain for the second stage is |Av2| = gm13(ro13‖Ro4‖Ri3) (13.57) where Ri3 is the input resistance of the output stage and Ro4 is the output resistance of the cascode configuration of Q3 and Q4. Transistor Q17, which is the input transistor of the output stage, is connected as an emitter follower, which means that Ri3 is typically in the megohm range. Similarly, the output resistance Ro4 of the cascode configuration is typically in the megohm range. The voltage gain of the second stage is then approximately |Av2| ∼= gm13ro13 (13.58) EXAMPLE 13.14 Objective: Calculate the small-signal voltage gain of the second stage of the CA3140 op-amp. Assume an Early voltage of VA = 50 V for Q13. Solution: The transconductance is = IC13 = 0.20 gm13 = 7.69 mA/V VT 0.026 and the output resistance is V 50 r A o13 = = = 250 k IC13 0.20 The voltage gain is therefore |Av2| = gm13ro13 = (7.69)(250) = 1923 Comment: The second stage of the CA3l40 operational amplifier provides the C1 = 12 pF majority of the voltage gain. EXERCISE PROBLEM Q13 *Ex 13.14: Assume the gain stage of the CA3140 op-amp is modified to include an emitter resistor, as shown in Figure 13.23. Let λ = 0.02 V−1 for M10. Assume RE13 = 1 kΩ all other transistor parameters are the same as those in Example 13.13. If the transistor bias currents in M10 and Q12 are 100 μA and the current in Q13 is 200 μA, V – determine the new value of the small-signal differential voltage gain of the input stage. (Ans. 69.1) Figure 13.23 Figure for Exercise Ex 13.14 nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 988 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 988 Part 2 Analog Electronics Overall Gain Since we have taken the loading effects of each following stage into account, the overall voltage gain is the product of the individual gain factors, or Av = Ad Av2 Av3 (13.59) where Av3 is the voltage gain of the output stage. If we assume that A ∼ v3 = 1 for the emitter-follower output stage, then the overall gain of the CA3140 op-amp is Av = Ad Av2 Av3 = (12.7)(1923)(1) = 24,422 (13.60) Typical values of the gain of the CA3140 op-amp are in the area of 100,000; thus, our calculations give a somewhat smaller value. Frequency Response The CA3140 op-amp is internally compensated by the Miller compensation technique to introduce a dominant pole, as was done in the 741 op-amp. The feedback capacitor C1 is 12 pF and is connected between the collector and the base of Q13, as shown in Figure 13.20. From Miller’s theorem, the effective input capacitance of the second stage is Ci = C1(1 + |Av2|) (13.61) The low-frequency dominant pole is 1 fP D = (13.62) 2π ReqCi where Req is the equivalent resistance between the second-stage input node and ground. Since this resistance is dominated by the input resistance to Q13, we have Req ∼= Ri2 = rπ13 (13.63) EXAMPLE 13.15 Objective: Determine the dominant-pole frequency and unity-gain bandwidth of the CA3140 op-amp. Again, we will use results from previous calculations. Solution: Previously, we determined that |Av2| = 1923; therefore, the effective input capacitance is Ci = C1(1 + |Av2|) = 12(1 + 1923) = 23,088 pF The gain stage input resistance is Ri2 = rπ13 = 26 k which means that 1 1 fP D ∼= = 2π Ri2Ci 2π(26 × 103)(23,088 × − = 265 Hz 10 12) Finally, the unity-gain bandwidth is fT = fP D Av = (265)(24,422) ⇒ 6.47 MHz Comment: This unity-gain bandwidth value compares favorably with typical values of 4.5 MHz listed in the data sheet. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 989 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 989 EXERCISE PROBLEM Ex 13.15: If the gain of the input stage of the CA3140 op-amp is increased to Ad = 16.4, determine the unity-gain bandwidth. All other parameters are the same as given in Example 13.15. (Ans. fT = 8.32 MHz) Test Your Understanding TYU 13.14 Consider the BiCMOS folded cascode amplifier in Figure 13.20. Assume the circuit and MOS transistor parameters are the same as in Example 13.11. Assume BJT parameters of β = 120 and VA = 80 V. (a) Determine the small-signal voltage gain. (b) If the effective capacitance at the output node is 2 pF, determine the dominant-pole frequency and the gain–bandwidth product. (Ans. (a) 76,343, (b) 329 Hz, 25.1 MHz) TYU 13.15 Consider the CA3140 op-amp bias circuit in Figure 13.22. Assume that VB E7 = 0.6 V and R1 = 5 k. If the p-channel MOSFET parameters are Kp = 0.3 mA/V2 and |VT P | = 1.4 V, determine I1, I2, and VSG . (Ans. VSG = 2.54 V, I1 = I2 = 0.388 mA) 13.5 JFET OPERATIONAL AMPLIFIER CIRCUITS Objective: • Describe the characteristics of two hybrid JFET operational amplifier circuits. The advantage of using MOSFETs as input devices in a BiCMOS op-amp is that extremely small input bias currents can be achieved. However, MOSFET gates connected to outside terminals of an IC must be protected against electrostatic damage. Typically, this is accomplished by using back-biased diodes on the input, as was shown in Figure 13.21. Unfortunately, the input op-amp bias currents are then dominated by the leakage currents in the protection diodes, which means that the small input bias currents cannot be fully realized. JFETs as input devices also offer the advantage of low input currents, and they do not need electrostatic protection devices. Input gate currents in a JFET are usually well below 1 nA, and are often on the order of 10 pA. In addition, JFETs offer greatly reduced noise properties. In this section, we will examine two op-amp configurations using JFETs as input devices. Since the analysis is essentially identical to that given in the last two sections, we will limit ourselves to a general discussion of the circuit characteristics. 13.5.1 Hybrid FET Op-Amp, LH002/42/52 Series Figure 13.24 is a simplified circuit diagram of an LH002/42/52 series op-amp, which uses a pair of JFETs for the input differential pair. Note that the general layout of the circuit is essentially the same as that of the 741 op-amp. The input diff-amp stage consists of transistors J1, J2, Q3, and Q4; J1 and J2 are n-channel JFETs operating in a source-follower configuration. The differential output"
13.5 JFET Operational Amplifier Circuits,"13.5 JFET OPERATIONAL AMPLIFIER CIRCUITS Objective: • Describe the characteristics of two hybrid JFET operational amplifier circuits. The advantage of using MOSFETs as input devices in a BiCMOS op-amp is that extremely small input bias currents can be achieved. However, MOSFET gates connected to outside terminals of an IC must be protected against electrostatic damage. Typically, this is accomplished by using back-biased diodes on the input, as was shown in Figure 13.21. Unfortunately, the input op-amp bias currents are then dominated by the leakage currents in the protection diodes, which means that the small input bias currents cannot be fully realized. JFETs as input devices also offer the advantage of low input currents, and they do not need electrostatic protection devices. Input gate currents in a JFET are usually well below 1 nA, and are often on the order of 10 pA. In addition, JFETs offer greatly reduced noise properties. In this section, we will examine two op-amp configurations using JFETs as input devices. Since the analysis is essentially identical to that given in the last two sections, we will limit ourselves to a general discussion of the circuit characteristics. 13.5.1 Hybrid FET Op-Amp, LH002/42/52 Series Figure 13.24 is a simplified circuit diagram of an LH002/42/52 series op-amp, which uses a pair of JFETs for the input differential pair. Note that the general layout of the circuit is essentially the same as that of the 741 op-amp. The input diff-amp stage consists of transistors J1, J2, Q3, and Q4; J1 and J2 are n-channel JFETs operating in a source-follower configuration. The differential output nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 990 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 990 Part 2 Analog Electronics V + Q J 14 1 J2 + – Q Q 15 Q 10 Q3 4 27 Ω CC = 30 pF Output Q19 22 Ω V – V + Q V + 21 Q7 Q16 Q20 Q5 Q6 Q17 V – Figure 13.24 Equivalent circuit, LH0022/42/52 series hybrid JFET op-amp signal from J1 and J2 is the input to the common-base amplifier formed by Q3 and Q4, which provides a large voltage gain. Transistors Q5, Q6, and Q7 form the active load for the input stage. The gain stage is composed of Q16 and Q17 connected in a Darlington pair configuration. This stage also includes a 30 pF compensation capacitor. The output stage consists of the complementary push–pull emitter-follower configuration of Q14 and Q20. Transistors Q14 and Q20 are biased slightly “on” by diodes Q10 and Q19, to minimize crossover distortion. Transistors Q15 and Q21 and the associated 27  and 22  resistors provide the short-circuit protection. An abbreviated data sheet for an LH0042Cop-amp is shown in Table 13.3. Note the very large differential-mode input resistance and the low input bias current. Table 13.3 LH0042C data Parameter Minimum Typical Maximum Units Input bias current 15 50 pA Differential-mode input 1012  resistance Input capacitance 4 pF Open-loop gain (RL = 1 k) 25,000 100,000 V/V Unity-gain frequency 1 MHz 13.5.2 Hybrid FET Op-Amp, LF155 Series Another example of a JFET op-amp is the LF155 BiFET op-amp. A simplified circuit diagram showing the input stage is in Figure 13.25. The input BiFET op-amp stage nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 991 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 991 V+ Q1 Q Q 3 2 J5 Vx J6 Q J J 7 Q10 1 2 V + i – Q8 QR4 = R 9 5 = 30 Ω 30 Ω R3 = J3 J4 Q6 5 kΩ R2 = R1 = Q 5 kΩ 5 Q4 1 kΩ V – Figure 13.25 Equivalent circuit, LF155 BiFET op-amp input stages consists of p-channel JFETs J1 and J2 biased by the bipolar transistor Q1. The active load for the input diff-amp consists of the p-channel JFETs J3 and J4, for which VGS = 0. A two-sided output from the input diff-amp stage is connected to a second diff- amp stage consisting of Darlington pairs Q7 through Q10. The second, or gain, stage is biased by bipolar transistor Q5. The cascode configuration of J5 and Q2 form the active load for the gain stage. The circuit has a common-mode feedback loop in the bias circuit. The base of Q6 is connected to the collector of Q5. If the drain voltages of J1 and J2 increase, the Darlington second stage drives the base voltage of Q6 higher. The current in Q6 then increases, reducing the drain currents in J1 and J2, since IC1 is a constant current. Smaller drain currents cause the voltages at the J1 and J2 drains to decrease, which then stabilizes the drain voltages. JFET J6 is connected as a current source, which establishes a reference current in Q3, Q4, and J6. This reference current then produces the bias currents in the current mirrors Q4–Q5 and Q1–Q2–Q3. In this BiFET op-amp, we see the advantages of incorporating both JFET and bipolars in the same circuit. The JFET input devices provide a very high input impedance, normally in the range of 1012 . The current-connected transistor J6 allows the reference bias current to be controlled without the use of a resistor. Incorporating bipolar transistors in the second stage takes advantage of their higher transconductance values compared to JFETs, to produce a high second-stage gain. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 992 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 992 Part 2 Analog Electronics Test Your Understanding TYU 13.16 Consider the LF155 BiFET input stage in Figure 13.25. The p-channel JFET parameters are IDSS = 300 μA, Vp = 1 V, and λ = 0.01 V−1. The supply voltages are V + = 5 V and V − = −5 V. Let VB E(npn) = 0.6 V and VE B(pnp) = 0.6 V. Determine the bias currents IC3, IC2, and IC1. (Ans. IC1 = IC2 = IC3 = 300 μA) 13.6 DESIGN APPLICATION: A TWO-STAGE CMOS OP-AMP TO MATCH A GIVEN OUTPUT STAGE Objective: • Design a two-stage CMOS op-amp that will match the output stage in Figure 8.38 that was the design application in Chapter 8. Specifications: A two-stage CMOS op-amp is to match the output stage designed and shown in Figure 8.38. The small-signal differential-voltage gain of the diff-amp stage is to be 300, and the bias currents are to be IQ = 200 μA and IREF = 400 μA. The dc voltage at the output of the second stage is to be −2.295 V, in order to match the output stage in Figure 8.38. Design Approach: The diff-amp circuit to be designed has the configuration shown in Figure 13.26. The input devices are PMOS and the active load contains NMOS devices so that the dc value of output voltage will be negative. +15 V + VSG7 M + – 7 M8 M5 3 VI IQ = 200 mA IQ = 200 mA REF + R1 M9 v2 M2 M v1 24 V vo 1 R2 – + vo1 M6 3 V – M4 M3 –15 V Figure 13.26 A two-stage CMOS op-amp for the design application"
13.6 Design Application: A Two-Stage CMOS Op-Amp to Match a Given Output Stage,"13.6 DESIGN APPLICATION: A TWO-STAGE CMOS OP-AMP TO MATCH A GIVEN OUTPUT STAGE Objective: • Design a two-stage CMOS op-amp that will match the output stage in Figure 8.38 that was the design application in Chapter 8. Specifications: A two-stage CMOS op-amp is to match the output stage designed and shown in Figure 8.38. The small-signal differential-voltage gain of the diff-amp stage is to be 300, and the bias currents are to be IQ = 200 μA and IREF = 400 μA. The dc voltage at the output of the second stage is to be −2.295 V, in order to match the output stage in Figure 8.38. Design Approach: The diff-amp circuit to be designed has the configuration shown in Figure 13.26. The input devices are PMOS and the active load contains NMOS devices so that the dc value of output voltage will be negative. +15 V + VSG7 M + – 7 M8 M5 3 VI IQ = 200 mA IQ = 200 mA REF + R1 M9 v2 M2 M v1 24 V vo 1 R2 – + vo1 M6 3 V – M4 M3 –15 V Figure 13.26 A two-stage CMOS op-amp for the design application nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 993 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 993 Choices: MOS transistors are available with parameters VT N = 1 V, VT P = −1 V, k ′ = 80 μA/V2, k ′ n p = 40 μA/V2 , and λn = λp = 0.01 V−1. Solution (Diff-Amp Design): From previous results, the differential voltage gain is Ad = gm1(ro1‖ro3) We find ro1 = 1 ro3 = = 1 = 1000 k λIDQ (0.01)(0.1) We then find 300 = gm1(1000 ‖1000) so we must have gm1 = 0.6 mA/V. We then find the required width-to-length values of the input P√M(OS )de(vice)s from k ′ W g pm1 = 2 I 2 L DQ1 1 or √( )( ) = 0.04 W 0.60 2 (0.1) 2 L 1 whic(h yie)lds ( ) W = W = 45 L 1 L 2 We m(ay a)lso se(t ) W = W = 45 L 3 L 4 Solution (Current Source Design): If we set (W/L)7 = 45, then VSG7 is found from (k ′ )( ) ( ) W 40 IQ = 200 = p (V 2 SG7 + VT P) = (45)(V 2 2 L 2 SG7 − 1) 7 We obtain VSG7 = 1.47 V. We can write IREF = (W/L)8 IQ (W/L)7 or 0.4 = (W/L)8 0.2 45 which yields (W/L)8 = 90. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 994 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 994 Part 2 Analog Electronics If we assume the minimum width-to-length ratio of a MOSFET is unity, then we can show that six transistors are required in place of M9. The total voltage drop across the six transistors is 30 − 1.47 = 28.53 V. The voltage drop across each transistor is then VSG9 = 28.53/6 V. The width-to-length ratios are then found from ( )( ) ( ) 40 W 28.53 2 IREF = 400 = − 1 2 L 9 6 which yields (W/L)9 = 1.42 for each of the six transistors. Solution (Second Stage—DC Design): The transistor M5 must match M7, so (W/L)5 = 45. Since the current in M6 is twice as large as in M3, then the width-to- length of M6 must be twice that of M3 and M4, or (W/L)6 = 90. The resistors R1 and R2 are used to produce the required dc output voltage. Since λn = λp , then VSD5 = VDS6. If we choose VSD5 = VDS6 = 3 V, then V1 + V2 = 24 V. In order for vO = −2.295 V, then V1 = 14.3 V and V2 = 9.7 V. There- sistors are then found to be V1 14.3 R1 = = = 71.5 k IQ 0.2 and = V R 2 2 = 9.7 = 48.5 k IQ 0.2 Solution (Second Stage—AC Analysis): The small-signal equivalent circuit for the second stage is shown in Figure 13.27. Summing currents at the Va node, we find + Va + V gm6Va o1 + + = 0 (13.64) ro6 R2 R1 ro5 The output (voltage Vo2 can b)e written as = RV 1 + ro5 o2 Va (13.65) R1 + R2 + ro5 Vo R2 R1 Va + gm6Vo1 Vo1 ro6 ro5 – Figure 13.27 Small-signal equivalent circuit of the second stage of the CMOS op-amp for the design application nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 995 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 995 Combining Eq(uations (13.64) a)nd( (13.65), we obtain ) + R1 + R2 + ro5 1 + 1 gm6Vo1 R + V r r R + R + r o2 = 0 (13.66) 1 o5 o6 1 2 o5 The small-sig√n(al pa)ra(mete)rs are fou√nd( to be ′ ) kW g n m6 = 2 IQ = 0.08 2 (90)(0.2) = 1.697 mA/V 2 L 6 2 and 1 1 ro5 = ro6 = = = 500 k λIQ (0.01)(0.2) Then, substitutin(g the parameters into) E(quation (13.66), we find ) + 71.5 + 48.5 + 500 1 1 1.697Vo1 + V = 0 71.5 + 500 500 71 o2 .5 + 48.5 + 500 The voltage gain of the second stage is then VA o2 2 = = −433 Vo1 The overall voltage gain of the circuit is Av = Ad A2 = (300)(−433) = −1.3 × 105 Comment: Achieving the required dc output voltage of −2.295 V will be difficult because of device and circuit element tolerances. A circuit similar to the one to be discussed in the design application of Chapter 14 would be required to provide for offset voltage compensation. 13.7 SUMMARY • In this chapter, we combined various basic circuit configurations to form larger operational amplifier circuits. In general, an op-amp circuit consists of a diff-amp input stage, a second gain stage, and an output stage. The design of integrated circuit operational amplifier circuits depends on the use of matched devices. • The LM741 op-amp is a widely used, general-purpose, bipolar op-amp. This circuit serves as a good case study for a detailed discussion of the circuit design, including a discussion of the input stage design, the Darlington pair gain stage, and a class-AB complementary output stage with the protection circuitry. • A detailed dc analysis of each stage of the 741 was performed to determine the dc currents and voltages. A detailed small-signal analysis determined the gain of each stage and the overall small-signal voltage gain. The calculated results agree well with the typical values given in data sheets. • In many cases, all-CMOS operational amplifier circuits require only two stages. These circuits typically drive only low capacitive loads on an IC chip, so the low"
13.7 Summary,"13.7 SUMMARY • In this chapter, we combined various basic circuit configurations to form larger operational amplifier circuits. In general, an op-amp circuit consists of a diff-amp input stage, a second gain stage, and an output stage. The design of integrated circuit operational amplifier circuits depends on the use of matched devices. • The LM741 op-amp is a widely used, general-purpose, bipolar op-amp. This circuit serves as a good case study for a detailed discussion of the circuit design, including a discussion of the input stage design, the Darlington pair gain stage, and a class-AB complementary output stage with the protection circuitry. • A detailed dc analysis of each stage of the 741 was performed to determine the dc currents and voltages. A detailed small-signal analysis determined the gain of each stage and the overall small-signal voltage gain. The calculated results agree well with the typical values given in data sheets. • In many cases, all-CMOS operational amplifier circuits require only two stages. These circuits typically drive only low capacitive loads on an IC chip, so the low nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 996 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 996 Part 2 Analog Electronics output impedance of a third stage is not required. The voltage gain of CMOS amplifiers is generally smaller than that of typical bipolar op-amps, but CMOS op-amps are useful in specialized on-chip applications. • An all-CMOS folded cascode operational amplifier was found to have a very high differential-mode voltage gain. An all-CMOS current-mirror operational amplifier was found to have an increased gain–bandwidth product. • The bias current in a BiCMOS op-amp was found to be independent of bias voltage over a wide range of applied bias voltages. • As an application, a two-stage CMOS op-amp was designed to match a given output stage. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Understand the general topology and biasing technique of an operational amplifier circuit. ✓ Analyze and understand the operation and characteristics of the LM741 op-amp circuit. ✓ Design a basic bipolar or MOSFET operational amplifier circuit. ✓ Analyze and understand the operation and characteristics of CMOS op-amp circuits, including the folded cascode and the CMOS current-mirror circuits. ✓ Analyze and understand the operation and characteristics of BiCMOS operational amplifier circuits. REVIEW QUESTIONS 1. Describe the principal stages of a general-purpose operational amplifier. 2. What is meant by the term matched transistors? What parameters in BJTs and MOSFETs are identical in matched devices? 3. Describe the operation and characteristics of a BJT complementary push–pull output stage. What are the advantages of this circuit? 4. Describe the operation and characteristics of a MOSFET complementary push–pull output stage. What are the advantages of this circuit? 5. Describe the configuration and operation of the input diff-amp stage of the 741 op-amp. 6. What is the purpose of the resistor R3 in the active load of the 741 op-amp? 7. Describe the configuration of the output stage of the 741 op-amp. 8. Describe the operation of the short-circuit protection circuitry in the 741 op-amp. 9. Describe the frequency compensation technique in the 741 op-amp circuit. 10. Sketch and describe the general characteristics of a folded cascode circuit. 11. Sketch and describe the general characteristics of a current–mirror op-amp circuit. Why is the gain not increased? What is the principal advantage of this circuit? 12. Sketch and describe the principal advantage of a BiCMOS folded cascode op- amp circuit. 13. Explain why an output resistance on the order of five hundred megohms may not be achieved in practice. 14. What are the principal factors limiting the unity-gain bandwidth of an op-amp circuit? nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 997 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 997 PROBLEMS Section 13.1 General Op-Amp Circuit Design 13.1 Consider the simple MOS op-amp circuit shown in Figure P13.1. The bias current is IQ = 200 μA. Transistor parameters are k ′ = 100 μA/V2, k ′ n p = 40 μA/V2, VT N = 0.4 V, VT P = −0.4 V, and λn = λp = 0. The width-to- length ratio (W/L) for M1 and M2 is 20 and for M3 is 40. (a) Design the circuit such that ID3 = 200 μA and vo = 0 when v1 = v2 = 0. (b) Find the small- signal voltage gains (i) Ad = vo1/vd and (ii) A2 = vo/vo1. (c) Determine the overall small-signal voltage gain A = vo/vd . V + = 3 V V + = 3 V RR ID1 D1 Q RC2 vo1 M3 vd –v v do +v = d M1 M v = Q Q v = v 2 v v 1 1 2 2 2 = o 2 2 1 2 –vd 2 vo1 Q3 RR RC1 C1 D2 RE = IQ 0.5 kΩ V – = –3 V V – = –3 V Figure P13.1 Figure P13.2 13.2 Consider the simple bipolar op-amp circuit shown in Figure P13.2. The bias current is IQ = 0.5 mA. Transistor parameters are βn = 180, βp = 120, VB E(on) = VE B(on) = 0.7 V, and VAn = VAp = ∞. (a) Design the circuit such that IC3 = 0.4 mA and vo = 0 when v1 = v2 = 0. (b) Find the small- signal voltage gains (i) Ad = vo1/vd and (ii) A2 = vo/vo1. (c) Determine the overall small-signal voltage gain A = vo/vd . D13.3 Design the circuit in Figure 13.2 such that the maximum power dissipated in the circuit is 15 mW and such that the common-mode input voltage is in the range −3 ≤ vC M ≤ 3 V. Using a computer simulation, adjust the value of R3 such that the output voltage is zero for zero input signal voltages. 13.4 Using the results of Problem 13.3, determine, from a computer simulation, the differential-mode voltage gain of the diff-amp and the voltage gain of the second stage of the op-amp circuit in Figure 13.2. Use standard transistor models in the circuit. *13.5 Consider the BJT op-amp circuit in Figure P13.5. The transistor parameters are: β(npn) = 120, β(pnp) = 80, VA = 80 V (all transistors), and base– emitter turn-on voltage = 0.6 V (all transistors). (a) Determine the small- signal differential-mode voltage gain. (b) Find the differential-mode input resistance. (c) Determine the unity-gain bandwidth."
Problems,"PROBLEMS Section 13.1 General Op-Amp Circuit Design 13.1 Consider the simple MOS op-amp circuit shown in Figure P13.1. The bias current is IQ = 200 μA. Transistor parameters are k ′ = 100 μA/V2, k ′ n p = 40 μA/V2, VT N = 0.4 V, VT P = −0.4 V, and λn = λp = 0. The width-to- length ratio (W/L) for M1 and M2 is 20 and for M3 is 40. (a) Design the circuit such that ID3 = 200 μA and vo = 0 when v1 = v2 = 0. (b) Find the small- signal voltage gains (i) Ad = vo1/vd and (ii) A2 = vo/vo1. (c) Determine the overall small-signal voltage gain A = vo/vd . V + = 3 V V + = 3 V RR ID1 D1 Q RC2 vo1 M3 vd –v v do +v = d M1 M v = Q Q v = v 2 v v 1 1 2 2 2 = o 2 2 1 2 –vd 2 vo1 Q3 RR RC1 C1 D2 RE = IQ 0.5 kΩ V – = –3 V V – = –3 V Figure P13.1 Figure P13.2 13.2 Consider the simple bipolar op-amp circuit shown in Figure P13.2. The bias current is IQ = 0.5 mA. Transistor parameters are βn = 180, βp = 120, VB E(on) = VE B(on) = 0.7 V, and VAn = VAp = ∞. (a) Design the circuit such that IC3 = 0.4 mA and vo = 0 when v1 = v2 = 0. (b) Find the small- signal voltage gains (i) Ad = vo1/vd and (ii) A2 = vo/vo1. (c) Determine the overall small-signal voltage gain A = vo/vd . D13.3 Design the circuit in Figure 13.2 such that the maximum power dissipated in the circuit is 15 mW and such that the common-mode input voltage is in the range −3 ≤ vC M ≤ 3 V. Using a computer simulation, adjust the value of R3 such that the output voltage is zero for zero input signal voltages. 13.4 Using the results of Problem 13.3, determine, from a computer simulation, the differential-mode voltage gain of the diff-amp and the voltage gain of the second stage of the op-amp circuit in Figure 13.2. Use standard transistor models in the circuit. *13.5 Consider the BJT op-amp circuit in Figure P13.5. The transistor parameters are: β(npn) = 120, β(pnp) = 80, VA = 80 V (all transistors), and base– emitter turn-on voltage = 0.6 V (all transistors). (a) Determine the small- signal differential-mode voltage gain. (b) Find the differential-mode input resistance. (c) Determine the unity-gain bandwidth. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 998 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 998 Part 2 Analog Electronics V + = 10 V IQ1 = IQ2 = 40 mA 200 mA v1 v2 Q1 Q2 CF = 10 pF V + vo Q5 Q6 Q7 Q3 Q4 R1 = 20 kΩ V – = –10 V Figure P13.5 Section 13.2 A Bipolar Operational Amplifier Circuit 13.6 Consider the input stage of the 741 op-amp in Figure 13.4(b). (a) Assume the input voltages are V1 = 0 and V2 = +15 V. Consider the BE voltage of each transistor and determine which transistor acts as the protection device. (b) Repeat part (a) for V1 = −15 V and V2 = 0. 13.7 For the input stage of the 741 op-amp, assume BE breakdown voltages of 5 V for the npn devices and 50 V for the pnp devices. Estimate the differential input voltage at which breakdown will occur. 13.8 Consider the bias circuit portion of the 741 op-amp in Figure 13.5. Assume transistor parameters of I = 5 × 10−16 SA. Neglect base currents. (a) Redesign the circuit such that IREF = 0.5 mA and IC10 = 30 μA for bias voltages of ±15 V. What are the values of VB E11, VE B12, and VB E10? (b) Using the resistor values found in part (a) and assuming VB E(on) = VE B(on) = 0.6 V, determine the values of IREF and IC10. (c) What are the percent differences in the current values between parts (a) and (b). 13.9 Repeat Problem 13.8 for bias voltages of ±5 V. 13.10 Consider the bias circuit shown in Figure P13.10. Let V + = 3 V, V − = −3 V, R1 = 80 k, and RE = 3.5 k. Assume transistor parameters of I = 5 × 10−15 SA for Q1, Q , Q ; I = 3 × 10−15 2 3 SA for Q4; and I = 10−15 SA for Q5. (a) Find the currents IREF, I3, I4, and I5. (b) Repeat part (a) for I = 8 × 10−15 A for Q and I = 2 × 10−15 S 4 SA for Q5. 13.11 The minimum recommended supply voltages for the 741 op-amp are V + = 5 V and V − = −5 V. Using these lower supply voltages, calculate: IREF, IC10, IC6, IC17, and IC13A . 13.12 An expanded circuit diagram of the 741 input stage is shown in Figure 13.6. Assume IC10 = 50 μA. If the current gain of the npn transistors is βn = 90 nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 999 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 999 V + V + Q2 Q4 Q5 II I 4 5 Bias IR REF 1 Q I + N 3 D1 vI VBB vO Q Q D 3 1 2 iL RL – QP RE IBias V– V – Figure P13.10 Figure P13.16 and the current gain of the pnp transistors is βp = 40, determine IC9, IC2, IC4, IB9, and IB4. Do not neglect npn transistor base currents. 13.13 Consider the 741 op-amp in Figure 13.3, biased with V + = 15 V and V − = −15 V. Assume that no load is connected at the output, and let the input voltages be zero. Calculate the total power dissipated in the op-amp circuit. What are the currents supplied by V + and V −? 13.14 Consider the 741 circuit in Figure 13.3. (a) Determine the maximum range of common-mode input voltage if the bias voltages are ±15 V. (b) Repeat part (a) if the bias voltages are ±5 V. 13.15 Consider the output stage of the 741 op-amp shown in Figure 13.8. Assume v + 1 = v2 = 0 at the input and assume the bias voltages are V = 5 V and V − = −5 V. Let IREF = 0.5 mA. All other circuit and transistor parameters are described in Example 13.3. Find IC13A , IR10, IC19, IC18, VB E19, + V VB E18, and IC14. *13.16 Consider the output stage in Figure P13.16 with parameters V + = 5 V, V − = −5 V, RL = 10 k, and IBias = IBias 80 μA. Assume the diode parameters are ISD = 5 × 10−15 A, and assume the transistor parameters are ISQ = + 8 × 10−15 A and βn = βp = 120. (a) For vI = 0, determine VB B , IC N , and IC I . (b) For v = R 3 V, determine v , i , V , I , and I . 1 C PI O LB BC NC PD13.17 Figure P13.17 shows a circuit often used to provide the VB B voltage in the op-amp output stage. Assume I = 5 × 10−15 Q VS A for the transistor, IBias = BB 120 μA, and IC = 0.9IBias. Neglect the base current. Design the circuit such R2 that VB B = 1.160 V. 13.18 Assume bias voltages on the 741 op-amp of ±15 V. (a) Determine the – differential-mode voltage gain of the first stage if R1 = R2 = 0. (b) Deter- I mine the voltage gain of the second stage if R8 = 0. Bias 13.19 Recalculate the voltage gain of the 741 op-amp input stage if IC10 = 40 μA. V – *13.20 Assume the 741 op-amp shown in Figure 13.3 is biased at ±5 V. Using the circuit parameters given in the figure and transistor parameters given in Figure P13.17 nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1000 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 1000 Part 2 Analog Electronics Examples 13.1 through 13.5, calculate the overall small-signal voltage gain of the amplifier. *13.21 Repeat Problem 13.20 assuming Early voltages of 100 V. 13.22 Consider the output stage of the 741 op-amp shown in Figure 13.8. Assume IBias = 0.18 mA and assume transistor parameters of IS = 10−14 A and βn = 200. (a) Determine the value of R10 that would result in IC18 = 0.25IC19. (b) What are the resulting voltages VB E18 and VB E19? 13.23 The basic bias circuit of the output transistors of the 741 op-amp is shown ix in Figure P13.23. (a) Sketch the small-signal equivalent circuit. (b) Assum- Q18 ing VA = 50 V and using the parameters described in Example 13.3, deter- + mine the equivalent small-signal resistance Req = vx/ ix . vx – Q19 13.24 Calculate the output resistance of the 741 op-amp if Q14 is conducting and R10 = Q20 is cutoff. Assume an output current of 2 mA. 50 kΩ 13.25 (a) Determine the differential input resistance of the 741 op-amp when biased at ±15 V. (b) Repeat part (a) when the op-amp is biased at ±5 V. 13.26 The frequency response of a particular 741 op-amp shows that the op- Figure P13.23 amp has a phase margin of 70 degrees. If a second single pole exists, in addition to the dominant pole, determine the frequency of the second pole. Use the overall gain and dominant-pole parameters calculated in Section 13.2. 13.27 An op-amp that is internally compensated by Miller compensation has a unity-gain bandwidth of 10 MHz and a low-frequency gain of 106. (a) What is the dominant pole frequency? (b) The feedback capacitor is across the second stage, which has again of −103. The effective resistance at the input of the second stage is Req = 1.2 M. What is the value of the feedback capacitor? 13.28 A three-stage 741 op-amp has a low-frequency open-loop gain of 200,000 and a dominant pole frequency of 10 Hz. The second and third poles are at the same frequency. If the phase margin is 70 degrees, determine the frequency of the second and third poles. Section 13.3 CMOS Operational Amplifier Circuits 13.29 Consider the simple CMOS op-amp circuit in Figure P13.29 biased with IQ = 200 μA. The transistor parameters are k ′ n = 100 μA/V2, k ′ p = 40 μA/V2, VT N = 0.4 V, VT P = −0.4 V, and λn = λp = 0. The transistor width-to-length ratios are (W/L)1,2 = 20, (W/L)3 = 50, and (W/L)4 = 40. (a) Design the circuit such that ID3 = 150 μA, ID4 = 200 μA, and vo = 0 for v1 = v2 = 0. (b) Find the small-signal voltage gains (i) Ad = vo1/vd , (ii) A2 = vo2/vo1, and (iii) A3 = vo/vo2. (c) Determine the overall small- signal voltage gain A = vo/vd . 13.30 A simple CMOS op-amp circuit is shown in Figure P13.30 with IQ = 100 μA. The transistor parameters are the same as given in Problem 13.29 except for the width-to-length ratios. The width-to-length ratios are (W/L)1,2 = 80, (W/L)3 = 25, and (W/L)4 = 100. (a) The circuit is to be designed such that IDQ3 = 100 μA, IDQ4 = 200 μA, and vo = 0 for v1 = v2 = 0. (b) Determine the small-signal voltage gains (i) Ad = vo1/vd , (ii) A2 = vo2/vo1, and (iii) A3 = vo/vo2. (c) Find the overall small-signal voltage gain A = vo/vd . nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1001 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 1001 V + + = 3 V V = 3 V IQ R RD3 RD1 S RD1 v v o o1 M3 v1 = MM v2 =1 2 v –v v Md do2 4 v 2 2 2 M4 v1 = M1 M v 2 2 = vo1 M3 vd –vd vo 2 2 RD1 RR RS D1 ID2 Q V – = –3 V V – = –3 V Figure P13.29 Figure P13.30 D13.31 Consider the MC14573 op-amp in Figure 13.14. The dc bias currents and small-signal voltage gains were determined in Examples 13.8 and 13.9. Redesign the circuit such that the width-to-length ratio of M1 and M2 is increased from 12.5 to 50. All other circuit and transistor parameters remain the same. (a) Determine the original transconductance of M1 and M2, and the new transconductance value. (b) Determine the new values of voltage gain for the input and second stages, and the overall voltage gain. 13.32 Consider the basic diff-amp with active load and current biasing in Figure 13.14. Using the parameters and results of Example 13.8, determine the maximum range of common-mode input voltage under the conditions that the minimum source-to-drain voltage for a PMOS is limited to vSD(min) = vSD(sat) + 0.2 V and the minimum drain-to-source voltage for an NMOS is limited to vDS(min) = vDS(sat) + 0.2 V. 13.33 The CMOS op-amp in Figure 13.14 is biased at V + = 5 V and V − = −5 V. Let Rset = 50 k. Assume transistor parameters of VT N = 0.7 V, VT P = −0.7 V, k ′ n = 100 μA/V2, k ′ p = 40 μA/V2, λn = 0.02 V−1, and λp = 0.04 V−1. The transistor width-to-length ratios are (W/L)3,4 = 15, (W/L)7 = 30, and (W/L) = 50 for all other transistors. (a) Determine Iset, IQ , and IDQ7. (b) Find the small-signal voltage gains of the input and second stages, and the overall voltage gain. 13.34 For the CMOS op-amp in Figure 13.14, the dc biasing is designed such that Iset = IQ = IDQ8 = 200 μA. The transistor parameters are VT N = 0.5 V, V = −0.5 V, k ′ = 100 μA/V2, k ′ T Pnp = 40 μA/V2, λn = 0.015 V−1, and λp = 0.025 V−1. The transistor width-to-length ratios are (W/L)1,2 = 50, (W/L)3,4 = 15, (W/L)5,6,8 = 10, and (W/L)7 = 30. Determine the small- signal voltage gains of the input and second stages, and the overall voltage gain. 13.35 Consider the MC14573 op-amp in Figure 13.14, with circuit and transistor parameters as given in Examples 13.8 and 13.9. If the compensation capacitor is C1 = 12 pF, determine the dominant-pole frequency. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1002 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 1002 Part 2 Analog Electronics 13.36 The CMOS op-amp in Figure 13.14 has circuit and transistor parameters as given in Problem 13.33. Determine the compensation capacitor required such that the dominant-pole frequency is fP D = 8 Hz. 13.37 Consider the CMOS op-amp in Figure 13.14, with transistor and circuit parameters as given in Examples 13.8 and 13.9. Determine the output resistance Roof the open-loop circuit. 13.38 A simple output stage for an NMOS op-amp is shown in Figure P13.38. Device M1 operates as a source follower. The bias voltages are V + = 3 V and V − = −3 V. Transistor parameters are k ′ n = 100 μA/V2, VT N = 0.4 V, and λ = 0.025 V−1 . Assume that transistors M2–M5 are matched. (a) Determine the width-to-length ratios of transistors M2–M5 such that IDQ2 = 0.5 mA. (b) Determine the W/L ratio of M1 such that the voltage gain is 0.98. (c) If the output resistance of source vI is 10 k, determine the output resistance of this output stage. +5 V V + SG5 = 1.035 V – M 80 5 vG5 1 V + M 25 I 6 Q2 1 M8P vI M1 v Mo 3 M8N v MO 4 M 50 7 1 v M 20 G9 M 9 5 M + 1 2 VGS9 = 1.1737 V – V – –5 V Figure P13.38 Figure P13.39 13.39 The circuit in Figure P13.39 is another form of an output stage for the CMOS op-amp shown in Figure 13.15. Assume the same transistor parameters as given in Example 13.10. The width-to-length values of some transistors are given and the applied gate-to-source voltages of M5 and M9 are shown. (a) What is the bias current IQ2? (b) Determine the W/L ratios of M8P and M8N such that the quiescent currents in M6 and M7 are 25 μA. D13.40 Consider the three-stage CMOS op-amp in Figure 13.15. Design an all- NMOS transistor current source circuit to establish IQ1 = 150 μA. The NMOS transistor parameters are k ′ 2 n = 100 μA/V and VT N = 0.5 V. Assume the minimum width-to-length ratio of any transistor is 2. Assume (W/L)10 = (W/L)11 = 20 as shown in the figure. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1003 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 1003 13.41 Assume IREF = 250 μA and (W/L)8 = 5 in the CMOS op-amp shown in Figure 13.15. Determine (a) the quiescent currents in M6 and M7 and (b) the overall small-signal voltage gain. Assume transistor parameters as given in Example 13.10. *13.42 The CMOS folded cascode circuit in Figure 13.17 is biased at ±5 V and the reference current is IREF = 50 μA. The transistor parameters are VT N = 0.5 V, VT P = −0.5 V, Kn = Kp = 0.5 mA/V2, and λn = λp = 0.015 V−1. (a) Determine the small-signal differential voltage gain. (b) Find the output resistance of the circuit. (c) If the capacitance at the output node is CL = 5 pF, determine the unity-gain bandwidth of the amplifier. *D13.43 The CMOS folded cascode amplifier in Figure 13.17 is to be redesigned to provide a differential voltage gain of 10,000. The biasing is the same as described in Problem 13.42. The transistor parameters are VT N = 0.5 V, VT P = −0.5 V, k ′ n = 80 μA/V2, k ′ p = 35 μA/V2, λn = 0.015 V−1, and λp = 0.02 V−1. Assume (W/L)p = 2.2(W/L)n where appropriate so that the electrical parameters of PMOS and NMOS devices are nearly identical. *D13.44 The CMOS folded cascode amplifier of Figure 13.17 is to be designed to provide a differential voltage gain of 25,000. The maximum power dissipated in the circuit is to be limited to 3 mW. Assume transistor parameters as described in Problem 13.43, except the relation between NMOS and PMOS width-to-length ratios need not be maintained. 13.45 The bias current in the CMOS current-gain op-amp in Figure 13.18 is IQ = 120 μA. The transistor parameters are VT N = 0.5 V, VT P = −0.5 V, k ′ = 100 μA/V2 n , k ′ p = 40 μA/V2, λ = 0.02 V−1 n , and λp = 0.04 V−1. The transistor width-to-length ratios are 20 except for M5 and M6. Let B = 3. (a) Determine the small-signal differential voltage gain. (b) Find the output resistance of the circuit. (c) If the total capacitance at the output terminal is 5 pF, determine the dominant-pole frequency and the unity-gain bandwidth. D13.46 The CMOS current gain op-amp in Figure 13.18 is to be redesigned to provide a differential voltage gain of 400. The transistor parameters are VT N = 0.5 V, VT P = −0.5 V, k ′ n = 80 μA/V2, k ′ p = 35 μA/V2, λn = 0.015 V−1, and λ −1 p = 0.02 V . The bias current is to be IQ = 80 μA. Let B = 2.5. (a) Design the basic amplifier to provide the specified voltage gain. (b) Design a current source to provide the necessary bias current. (c) Determine the unity-gain bandwidth if the capacitance at the output terminal is 3 pF. D13.47 Redesign the CMOS cascode current mirror in Figure 13.19 to provide a differential voltage gain of 20,000. The bias current and transistor parameters are the same as in Problem 13.46. (a) Design the basic amplifier to provide the specified voltage gain. (b) Design a current source to provide the necessary bias current. (c) Determine the unity gain bandwidth if the capacitance at the output terminal is 3 pF. Section 13.4 BiCMOS Operational Amplifier Circuits 13.48 A simple BiCMOS amplifier is shown in Figure P13.48. The MOS transistor parameters are k ′ p = 40 μA/V2, VT P = −0.4 V, λ = 0, and (W/L)1,2 = 50, and the bipolar transistor parameters are VB E(on) = 0.7 V, β = 120, and VA = ∞. (a) Design the circuit such that IC Q = 300 μA and vo = 0 for nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1004 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 1004 Part 2 Analog Electronics V + = 3 V V + = 3 V IQ = 300 mΑ RR = CR EC1 RC1 0.5 kΩ vo v1= M1 M2 v2 = vo1 Q3 vd –vd 2 2 vd v v o1 1 = Q1 Q2 v 2 2 = –v Md v 1 o2 2 RD RD vo RE = Ω IQ = 0.4 k RR 500 mA C2 S V – = –3 V V – = –3 V Figure P13.48 Figure P13.49 v1 = v2 = 0. (b) Determine the small-signal differential voltage gain of the first stage Ad = vo1/vd . (c) Find the small-signal voltage gain of the second stage A2 = vo/vo1. (d) Determine the overall small-signal voltage gain A = vo/vd . 13.49 Consider the simple BiCMOS amplifier shown in Figure P13.49. The bipolar transistor parameters are βn = βp = 120, VB E(on) = VE B(on) = 0.7 V, VA = ∞, and the MOS transistor parameters are VT N = 0.4 V, Kn = 3 mA/V2, λ = 0. (a) Design the circuit such that IC Q3 = IDQ1 = 300 μA and vo = 0 for v1 = v2 = 0. (b) Determine the small-signal voltage gain of the first stage Ad = vo1/vd . (c) Find the small-signal voltage gain of the second stage A2 = vo2/vo1. (d) Determine the small-signal voltage gain of the third stage A3 = vo/vo2. (e) Find the overall differential voltage gain A = vo/vd . 13.50 A BiCMOS amplifier is shown in Figure P13.50. The transistor parameters are VT P = −0.4 V, k ′ p = 40 μA/V2, W/L = 40, λ = 0.035 V−1, β = 120, and VA = 150 V. The bias current is IQ = 250 μA. (a) Determine the small-signal parameters of the transistors. (b) Find the small-signal differential voltage gain. 13.51 Design a BiCMOS amplifier that is complementary to the one in Figure P13.50 in that the input devices are NMOS and the load transistors are pnp. Assume transistor parameters of VT N = 0.4 V, k ′ n = 100 μA/V2, W/L = 40, λ = 0.02 V−1, β = 80, and VA = 100 V. Assume the bias current is IQ = 250 μA. (a) Determine the small-signal parameters of the transistors. (b) Find the small-signal differential voltage gain. *13.52 The reference current in the BiCMOS folded cascode amplifier in Figure 13.20 is IREF = 200 μA and the circuit bias voltages are ±10 V. The MOS transistor parameters are the same as in Problem 13.42. The BJT parameters are β = 120 and VA = 80 V. (a) Determine the small-signal differential voltage gain. (b) Find the output resistance of the circuit. (c) If nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1005 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 1005 V + IQ v1 M1 M2 v2 V + Q3 vo Q1 Q2 V – Figure P13.50 the capacitance at the output node is 5 pF, determine the unity-gain bandwidth of the amplifier. *D13.53 The BiCMOS folded cascode amplifier in Figure 13.20 is to be designed to provide a differential voltage gain of 25,000. The maximum power dissipated in the circuit is to be limited to 10 mW. Assume MOS transistor parameters as described in Problem 13.43. The BJT parameters are β = 120 and VA = 80 V. 13.54 If the CA3140 op-amp is biased at V + = 15 V and V − = −15 V, determine the input common-mode voltage range. Assume BE voltages of 0.6 V for the bipolar transistors and |VT P | = 1.4 V for the MOSFETs. 13.55 Consider the bias circuit portion of the CA3140 op-amp in Figure 13.22. If VB E7 = 0.6 V for Q7 and VT P = −1.0 V for M8, determine the required value of the conduction parameter for M8 such that I1 = I2 = 150 μA. 13.56 In the bias portion of the CA1340 op-amp in Figure 13.22, the bipolar transistor parameters are VB E(npn) = 0.6 V and VE B(pnp) = 0.6 V and the MOSFET parameters are VT P = −1.2 V and Kp = 0.15 mA/V2. (a) Determine the currents I1 = I2. (b) If the bias voltages are V + = −V − ≡ VS , determine the minimum value of VS such that the bias currents are independent of the supply voltage. 13.57 Consider the CA3140 op-amp in Figure 13.21. If the bias currents change such that IC5 = IC4 = 300 μA, determine the voltage gains of the input and second stages, and find the overall voltage gain. 13.58 Assume the gain stage of the CA3140 op-amp is modified to include an emitter resistor, as shown in Figure 13.23. Let λ = 0.02 V−1 for M10. If the transistor bias currents in M10 and Q12 are 150 μA and the current in Q13 is 300 μA, determine the dominant-pole frequency and unity-gain bandwidth. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1006 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 1006 Part 2 Analog Electronics Section 13.5 JFET Operational Amplifier Circuits 13.59 In the LF155 BiFET op-amp in Figure 13.25, the combination of Q3, J6, and Q4 establishes the reference bias current. Assume the power supply voltages are V + = 10 V and V − = −10 V. The transistor parameters are VE B(on) = 0.6 V, VB E(on) = 0.6 V, and VP = 4 V for Q3, Q4, and J6, respectively. Determine the required IDSS value for J6 to establish a reference current of IREF = 0.8 mA. 13.60 Consider the circuit in Figure P13.60. A JFET diff-amp input stage drives a bipolar Darlington second stage. The p-channel differential pair J1 and J2 are connected to the bipolar active load transistors Q3 and Q4. Assume JFET parameters of VP = 3 V, IDSS = 200 μA, and λ = 0.02 V−1. The bipolar transistor parameters are β = 100 and VA = 50 V. (a) Determine the input resistance Ri2 to the second stage. (b) Calculate the small-signal differential- mode voltage gain of the input stage. Compare this value to the 741 and CA3140 input stage results. V + V + IQ = 200 mA IQ = 200 mA V + v1 v2 J1 J2 Ri2 Q5 Q6 Q3 Q4 RE = 0.3 kΩ V – V – Figure P13.60 D13.61 Consider the BiFET differential input stage in Figure P13.61, biased with power supply voltages V + and V −. Let V + = −V − ≡ VS . (a) Design the bias circuit such that IREF2 = 100 μA for supply voltages in the range 3 ≤ VS ≤ 12 V. Determine VZK, R3, and the JFET parameters. (b) Determine the value of R4 such that IO1 = 500 μA when V + = 12 V. 13.62 The BiFET diff-amp input stage in Figure P13.61 is biased at IO1 = 1 mA. The JFET parameters are VP = 4 V, IDSS = 1 mA, and λ = 0.02 V−1. The bipolar transistor parameters are β = 200 and VA = 100 V. (a) For R1 = R2 = 500 , determine the minimum load resistance RL such that a differential-mode voltage gain of Ad = 500 is obtained in the input stage. (b) If RL = 500 k, determine the range of resistance values R1 = R2 such that a differential-mode voltage gain of Ad = 700 is obtained in this input stage. nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1007 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: Chapter 13 Operational Amplifier Circuits 1007 pnp current QC Q mirror D QE Io1 Bias for IREF1 Zener D2 v+ v– R Q I 1 CA Q 4 2 JFET input II D2 pair D1 QA iout IC I 3 C4 + Incremental Rload vout current Q3 Q4 – mirror IR o 3 I 2 REF2 II o1 + R1 ≅ 2 D2 VZK R Q 1 B – + Bias R2 D1 VD1 for QA – V – Figure P13.61 COMPUTER SIMULATION PROBLEMS 13.63 Consider the input stage and bias circuit of the 741 op-amp in Figure 13.5. Transistor Q10 maybe replaced by a constant-current source equal to 19 μA. Assume: the npn devices have parameters β = 200 and VA = 150 V; the pnp devices have parameters β = 50 and VA = 50 V; and all transistors have I = 10−14 SA. Place an appropriate ac load at the collector of Q6. (a) Using a computer simulation, determine the differential voltage gain of the input stage. (b) Determine the differential-mode input resistance. (c) Determine the common-mode input resistance. 13.64 The output stage of the 741 op-amp is shown in Figure 13.9. Transistor Q13 maybe replaced with a constant-current source equal to 0.18 mA. Use standard transistors. (a) Using a computer simulation, plot the voltage transfer function vo versus v13. What is the voltage gain? Has the crossover distortion been eliminated? (b) Apply an input voltage v13 that establishes an output voltage of vo = 5 V. Then set RL = 0. Find the output short-circuit current and the transistor currents. 13.65 Consider the BiCMOS input stage of the CA3140 op-amp in Figure 13.21. Transistor Q5 can be replaced with a constant-current source of 200 μA. Assume: bipolar transistor parameters of β = 200, I = 10−14 E O A, and VA = 50 V; and MOSFET parameters of Kp = 0.6 mA/V2, |VT P | = 1 V, and λ = 0.01 V−1. Using an appropriate ac load at the collector of Q12, determine the differential gain of the input stage. Compare the computer analysis results with those in Example 13.12. 13.66 Consider the CMOS op-amp in Figure 13.14. Assume the circuit and transistor parameters areas given in Example 13.8. In addition, let λ = nea80644_ch13_947-1008.qxd 6/23/09 1:59 PM Page 1008 pmath DATA-DISK:Desktop Folder:23/06/09:MHDQ134-13: 1008 Part 2 Analog Electronics 0.01 V−1 for all transistors. (a) Determine the overall low-frequency differential voltage gain. Compare these results with those in Example 13.9. (b) If the compensation capacitor is C1 = 12 pF, plot the magnitude of the voltage gain versus frequency. What is the 3 dB frequency? DESIGN PROBLEMS [Note: Each design should be correlated with a computer analysis.] *D13.67 Consider the input stage and bias circuit of the 741 op-amp shown in Figure 13.5. Design a complementary circuit such that the input transistors are pnp devices, and the bias currents are IREF = 0.4 mA and IC10 = 24μA when the circuit is biased at ±5 V. *D13.68 Redesign the CMOS op-amp in Figure 13.14 to provide a minimum overall voltage gain of at least 50,000. The bias voltages are V + = 10 V and V − = −10 V. The threshold voltage is |VT | = 1 V for all transistors, and λ = 0.01 V−1 for all transistors. Design reasonable width-to-length ratios and bias currents. *D13.69 Consider the CMOS op-amp in Figure 13.14. Design a complementary CMOS circuit in which each element is replaced by its complement. The bias voltages are ±5 V. The threshold voltage is |VT | = 0.7 V for all transistors, and λ = 0.01 V−1 for all transistors. Design reasonable width-to- length ratios and bias currents to provide a minimum overall voltage gain of at least 20,000. *D13.70 Consider the bipolar op-amp circuit in Figure P13.70. Design the circuit such that the differential gain is at least 800, and the output voltage is zero when the input voltages are zero. The transistor current gains are 120 for all transistors, and the base–emitter voltages are 0.6 V, where appropriate. V + = 15 V QC QD R4 v– Q Q + 1 2 v vo RREF Q3 Q4 Q5 QA QB R2 R3 R5 R1 V – = –15 V Figure P13.70 nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1009 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Nonideal Effects in Operational Amplifier 14 Circuits Chapter 9 introduced the ideal operational amplifier and covered a few of its many applications. In the previous chapter, we analyzed actual operational amplifier circuits, including the classic 741 op-amp. From these discussions, we can identify sources of nonideal properties in actual op-amps. In particular, we consider the effects of a finite open-loop gain, reconsider the frequency response, consider the source and effects of offset voltage, and consider the source and effects of input bias currents. Although nonideal effects could have been introduced in Chapter 9, that discussion would have been less meaningful since the source of any nonideal effect would not have been completely understood at that time. In particular, the reason for a very low dominant-pole frequency in the basic amplifier would have been a mystery. Therefore, the discussion of nonideal effects in op-amp circuits has been postponed until now. PREVIEW In this chapter, we will: • Define and discuss various practical op-amp parameters. • Analyze the effect of finite open-loop gain. • Analyze the open-loop and closed-loop frequency response. • Define and analyze sources and effects of offset voltage. • Define and analyze effects of input bias currents. • Discuss and analyze additional nonideal properties, such as temperature and common-mode rejection effects. • As an application, design an offset voltage compensation network for a CMOS diff-amp. 1009 1009 Chapter"
Chapter 14: Nonideal Effects in Operational Amplifier Circuits,"14: Nonideal Effects in Operational Amplifier 14 Circuits Chapter 9 introduced the ideal operational amplifier and covered a few of its many applications. In the previous chapter, we analyzed actual operational amplifier circuits, including the classic 741 op-amp. From these discussions, we can identify sources of nonideal properties in actual op-amps. In particular, we consider the effects of a finite open-loop gain, reconsider the frequency response, consider the source and effects of offset voltage, and consider the source and effects of input bias currents. Although nonideal effects could have been introduced in Chapter 9, that discussion would have been less meaningful since the source of any nonideal effect would not have been completely understood at that time. In particular, the reason for a very low dominant-pole frequency in the basic amplifier would have been a mystery. Therefore, the discussion of nonideal effects in op-amp circuits has been postponed until now. PREVIEW In this chapter, we will: • Define and discuss various practical op-amp parameters. • Analyze the effect of finite open-loop gain. • Analyze the open-loop and closed-loop frequency response. • Define and analyze sources and effects of offset voltage. • Define and analyze effects of input bias currents. • Discuss and analyze additional nonideal properties, such as temperature and common-mode rejection effects. • As an application, design an offset voltage compensation network for a CMOS diff-amp. 1009 1009 Chapter"
Preview,"PREVIEW In this chapter, we will: • Define and discuss various practical op-amp parameters. • Analyze the effect of finite open-loop gain. • Analyze the open-loop and closed-loop frequency response. • Define and analyze sources and effects of offset voltage. • Define and analyze effects of input bias currents. • Discuss and analyze additional nonideal properties, such as temperature and common-mode rejection effects. • As an application, design an offset voltage compensation network for a CMOS diff-amp. 1009 1009 Chapter nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1010 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1010 Part 2 Analog Electronics 14.1 PRACTICAL OP-AMP PARAMETERS Objective: • Define and discuss various practical op-amp parameters. In ideal op-amps, we assume, for example, that the differential voltage gain is infinite, the input resistance is infinite, and the output resistance is zero. In practical op-amp circuits, these ideal parameter values are not realized. In this section, we define some of the practical op-amp parameters that will be considered in detail throughout the chapter. We will discuss and analyze the effect of these nonideal parameters in op-amp circuits. 14.1.1 Practical Op-Amp Parameter Definitions Input voltage limits. Two input voltage limitations must be considered—a dc input voltage limit and a differential signal input voltage. All transistors in the input diff-amp stage must be properly biased, so there is a limit in the range of common-mode input voltage that can be applied and still maintain the proper transistor biasing. The maximum differential input signal voltage that can be applied and still maintain linear circuit operation is limited primarily by the maximum allowed output signal voltage. Output voltage limits. The output voltage of the op-amp can never exceed the limits of the dc supply voltages. In practice, the difference between the bias voltage and the maximum output voltage depends on the design of the output stage. In older designs, this difference was on the order of 1 to 2 volts. In newer designs, this difference can be on the order of millivolts. If Vout = Av · Vin (where Avis the overall voltage gain) is greater than the bias voltage, then the output voltage would saturate and would no longer be a linear function of the input voltage. Output current limitation. The maximum current out of or into the op-amp is determined by the current ratings of the output transistors. Practical op-amp circuits cannot source or sink an infinite amount of current. Finite open-loop voltage gain. The open-loop gain of the ideal op-amp is assumed to be infinite. In practice, the open-loop gain of any op-amp circuit is always finite. This nonideal parameter value will affect circuit performance. Input resistance. The input resistance Ri is the small-signal resistance between the inverting and noninverting terminals when a differential voltage is applied. Ideally, this parameter is infinite, but, especially for BJT circuits, this parameter is finite. Output resistance. The output resistance is the Thevenin equivalent small-signal resistance looking back into the output terminal of the op-amp measured with respect to ground. The ideal output resistance is zero, which means there is no loading effect at the output. In practice, this value is not zero. Finite bandwidth. In the ideal op-amp, the bandwidth is infinite. In practical op-amps, the bandwidth is finite because of capacitances within the op-amp circuit. Slew rate. The slew rate is defined as the maximum rate of change in output voltage per unit of time. The maximum rate at which the output voltage can change is also a function of capacitances within the op-amp circuit. Input offset voltage. In an ideal op-amp, the output voltage is zero for zero differential input signal voltage. However, mismatches between input devices, for example, may create an output voltage with zero input. The input offset voltage is the applied differential input voltage required to induce a zero output voltage."
14.1 Practical Op-Amp Parameters,"14.1 PRACTICAL OP-AMP PARAMETERS Objective: • Define and discuss various practical op-amp parameters. In ideal op-amps, we assume, for example, that the differential voltage gain is infinite, the input resistance is infinite, and the output resistance is zero. In practical op-amp circuits, these ideal parameter values are not realized. In this section, we define some of the practical op-amp parameters that will be considered in detail throughout the chapter. We will discuss and analyze the effect of these nonideal parameters in op-amp circuits. 14.1.1 Practical Op-Amp Parameter Definitions Input voltage limits. Two input voltage limitations must be considered—a dc input voltage limit and a differential signal input voltage. All transistors in the input diff-amp stage must be properly biased, so there is a limit in the range of common-mode input voltage that can be applied and still maintain the proper transistor biasing. The maximum differential input signal voltage that can be applied and still maintain linear circuit operation is limited primarily by the maximum allowed output signal voltage. Output voltage limits. The output voltage of the op-amp can never exceed the limits of the dc supply voltages. In practice, the difference between the bias voltage and the maximum output voltage depends on the design of the output stage. In older designs, this difference was on the order of 1 to 2 volts. In newer designs, this difference can be on the order of millivolts. If Vout = Av · Vin (where Avis the overall voltage gain) is greater than the bias voltage, then the output voltage would saturate and would no longer be a linear function of the input voltage. Output current limitation. The maximum current out of or into the op-amp is determined by the current ratings of the output transistors. Practical op-amp circuits cannot source or sink an infinite amount of current. Finite open-loop voltage gain. The open-loop gain of the ideal op-amp is assumed to be infinite. In practice, the open-loop gain of any op-amp circuit is always finite. This nonideal parameter value will affect circuit performance. Input resistance. The input resistance Ri is the small-signal resistance between the inverting and noninverting terminals when a differential voltage is applied. Ideally, this parameter is infinite, but, especially for BJT circuits, this parameter is finite. Output resistance. The output resistance is the Thevenin equivalent small-signal resistance looking back into the output terminal of the op-amp measured with respect to ground. The ideal output resistance is zero, which means there is no loading effect at the output. In practice, this value is not zero. Finite bandwidth. In the ideal op-amp, the bandwidth is infinite. In practical op-amps, the bandwidth is finite because of capacitances within the op-amp circuit. Slew rate. The slew rate is defined as the maximum rate of change in output voltage per unit of time. The maximum rate at which the output voltage can change is also a function of capacitances within the op-amp circuit. Input offset voltage. In an ideal op-amp, the output voltage is zero for zero differential input signal voltage. However, mismatches between input devices, for example, may create an output voltage with zero input. The input offset voltage is the applied differential input voltage required to induce a zero output voltage. nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1011 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1011 Table 14.1 Nonideal parameter values for three op-amp circuits 741E CA3140 LH0042C Typ. Max. Unit Typ. Max. Unit Typ. Max. Unit Input offset voltage 0.8 3 mV 5 15 mV 6 20 mV Average input offset voltage drift 15 μV/C 10 μV/C Input offset current 3.0 30 nA 0.5 30 pA 2 pA Average input offset current drift 0.5 nA/C Input bias current 30 80 nA 10 50 pA 2 10 pA Slew rate 0.7 V/μs 9 V/μs 3 V/μs CMRR 95 dB 90 dB 80 dB Input bias currents. In an ideal op-amp, the input current to the op-amp circuit is assumed to be zero. However, in practical op-amps, especially with BJT input devices, the input bias currents are not zero. The cause of these nonideal op-amp parameters will be discussed in the following sections, as well as the effect these nonideal parameters have on op-amp circuit performance. A few other nonideal parameters will be considered in the last section of the chapter. Table 14.1 lists a few of the nonideal parameter values for three of the op-amps considered in the previous chapter. We will refer to this table as we discuss each of the nonideal parameters. 14.1.2 Input and Output Voltage Limitations For linear circuit operation, all BJTs in an op-amp circuit must be biased in the forward-active region and all MOSFETs must be biased in the saturation region. For these reasons, there are limitations to the range of input and output voltages in op-amp circuits. Figure l4.1(a) shows the simple all-BJT op-amp circuit discussed at the beginning of Chapter 13 and Figure 14.1(b) shows the all-CMOS folded cascode op-amp circuit discussed in the last chapter. We will use these two circuits to discuss the input and output voltage limitations. Input Voltage Limitations Assume that in the BJT circuit of Figure 14.1(a) we apply a common-mode input voltage such that vcm = v1 = v2. As vcm increases, the base–collector voltages of Q1 and Q2 decrease, since the collector voltages are fixed at two base–emitter voltage drops below V +. If we assume the minimum base–collector voltage is zero so that the transistor is still biased in the active mode, then the maximum value of vcm is vcm(max) = V + − 2VE B(on). As vcm decreases, the collector–emitter voltage of Q3 decreases. If we again assume the minimum base–collector voltage is zero, or the minimum collector–emitter voltage is VB E (on), then, taking into account the base–emitter voltage of the input transistors, the minimum value of vcm is vcm(min) = V − + 2VB E(on). So the maximum range of vcm is within approximately 1.4 V of each bias voltage. nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1012 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1012 Part 2 Analog Electronics V + Q5 Q6 Q8 R1 Q7 Q9 Q11 D1 vO V – VD2 RL v1 Q1 Q2 v2 Q12 Q4 Q Q 10 3 R2 R3 V – (a) V + M12 M11 M9 M10 M7 M8 RI o8 REF vo VB2 Ro6 MM M5 M 1 2 6 v v1 i = g d m v 2 2 vd – + vd 2 + – 2 vi = g d m 2 ii M13 MM 4 3 V – (b) Figure 14.1 (a) Simple all-bipolar op-amp circuit; (b) all-CMOS folded cascode op-amp circuit nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1013 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1013 The same range of common-mode input voltage can be found for the all-MOSFET diff-amp in Figure 14.1(b). In this case, all MOSFETs must be biased in the saturation region. We can again define the common-mode input voltage as vcm = v1 = v2. Now, as vcm increases, VSD of M11 decreases. The minimum value of VSD is VSD11(sat) = VSG11 + VT P11 . The maximum value of vcm is then vcm(max) = V + − [VSG1 + (VSG11 + VT P11)]. The gate-to-source voltages can be determined from the transistor parameters and currents. As vcm decreases, the source-to-drain voltage of the input transistors decreases. Assuming that M3 and M4 are matched to M13, then the drain-to-source voltage of these transistors is equal to VGS13. The minimum common-mode input voltage is then v − cm(min) = V + [VGS11 + (VSG1 + VT P1) − VSG1] . The VSG1 terms cancel, so v (min) = V − cm + [VGS11 + VT P1]. Output Voltage Limitations As the output voltage of the BJT circuit in Figure 14.1(a) increases or decreases, the collector–emitter voltages of the output transistors change. Again, assuming the minimum base–collector voltage is zero for a BJT biased in the forward active region, then the maximum output voltage is vO(max) = V + − [VE B8(on) + VB E11(on)]. The minimum output voltage is similarly found to be v (min) = V − O + [VB E4(on)+ VE B12(on)]. For the all-CMOS circuit in Figure 14.1(b), the maximum output voltage is v (max) = V + O − [(VSG8 + VT P8) + VSG10]. The minimum output voltage is v (min) = V − O + [(VGS6 − VT N6) + VGS13]. Test Your Understanding TYU 14.1 Using the circuit and transistor parameters of Example 13.11, and assuming threshold voltages of VT N = 0.5 V and VT P = −0.5 V, determine the maximum range of common-mode input voltage for the all-CMOS folded cascode circuit of Figure 14.1(b). (Ans. V − − 0.184 ≤ v + CM ≤ V − 1.13 V) TYU 14.2 Using the same circuit and transistor parameters as in Exercise TYU14.1, calculate the maximum range of output voltage for the all-CMOS folded cascode circuit of Figure 14.1(b). (Ans. V − + 0.54 V ≤ vO ≤ V + − 1.13 V) 14.2 FINITE OPEN-LOOP GAIN Objective: • Analyze the effect of finite open-loop gain. In the ideal op-amp, the open-loop gain is infinite, the input differential resistance is infinite, and the output resistance is zero. None of these conditions exists in actual operational amplifiers. In the last chapter, we determined that the open-loop gain and input differential resistance maybe large but finite, and the output resistance maybe small but nonzero. In this section, we will determine the effect of a finite open-loop gain and input resistance on both the inverting and noninverting amplifier characteristics. We will then calculate the output resistance. In this section, we limit our discussion of the finite open-loop gain to low frequency. In the next section, we consider the effect of finite gain as well as the frequency response of the amplifier."
14.2 Finite Open-Loop Gain,"14.2 FINITE OPEN-LOOP GAIN Objective: • Analyze the effect of finite open-loop gain. In the ideal op-amp, the open-loop gain is infinite, the input differential resistance is infinite, and the output resistance is zero. None of these conditions exists in actual operational amplifiers. In the last chapter, we determined that the open-loop gain and input differential resistance maybe large but finite, and the output resistance maybe small but nonzero. In this section, we will determine the effect of a finite open-loop gain and input resistance on both the inverting and noninverting amplifier characteristics. We will then calculate the output resistance. In this section, we limit our discussion of the finite open-loop gain to low frequency. In the next section, we consider the effect of finite gain as well as the frequency response of the amplifier. nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1014 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1014 Part 2 Analog Electronics R2 i2 R1 vI – v1 i1 vO + v2 – + AOL(v2 – v1) Figure 14.2 Equivalent circuit, inverting amplifier with finite open-loop gain 14.2.1 Inverting Amplifier Closed-Loop Gain The equivalent circuit of the inverting amplifier with a finite open-loop gain is shown in Figure 14.2. If the open-loop input resistance is assumed to be infinite, then i1 = i2, or vI − v1 = v1 − vO (14.1(a)) R1 R2 or ( ) vI = 1 + 1 − vO v1 (14.1(b)) R1 R1 R2 R2 Since v2 = 0, the output voltage is vO = −AO Lv1 (14.2) where AOL is the low-frequency open-loop gain. Solving for v1 from Equation (14.2) and substituti(ng the r)e(sult into Eq)uation (14.1(b)), we find vI = − vO 1 + 1 − vO (14.3) R1 AOL R1 R2 R2 The closed-loop voltage gain is then − R ( 2 A = vO = R1 CL ) (14.4) vI + 1 R 1 1 + 2 AOL R1 EXAMPLE 14.1 Objective: Determine the minimum open-loop voltage gain to achieve a particular accuracy. A pressure transducer produces a maximum dc voltage signal of 2 mV and has an output resistance of RS = 2 k. The maximum dc current from the transducer is to be limited to 0.2 μA. An inverting amplifier is to be used in conjunction with the transducer to produce an output voltage of −0.10 V for a 2 mV transducer signal. The error in the output voltage cannot be greater than 0.1 percent. Determine the minimum open-loop gain of the amplifier to meet this specification. nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1015 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1015 Solution: We must first determine the resistor values to be used in the inverting amplifier. The source resistor is in series with R1, so let R′ 1 = R1 + RS The minimum input resistance is found from the maximum input current as ′ = vi = 2 × 10−3 R1(min) = 10 × 103  = 10 k ii (max) 0.2 × 10−6 The resistor R1 then needs to be 8 k. The closed-loop voltage gain required is = vO = −0.10 AC L × − = − −R 50 = F v 2 10 3 R′ i 1 The required value of the feedback resistor is then RF = 500 k. For the voltage gain to be within 0.1 percent, the minimum gain (magnitude) is 49.95. Using Equation (14.4), we can determine the minimum value of the open-loop gain. We have −R2 R′ 1 −50 AC L = ( ) = −49.95 = 1 + 1 + R2 1 1 ′ 1 + (51) AOL R1 AOL which yields AOL(min) = 50,949. Comment: If the open-loop gain is greater than the value of AOL(min) = 50,949, then the error in the voltage gain will be less than 0.1 percent. EXERCISE PROBLEM Ex 14.1: Consider an inverting amplifier in which the op-amp open-loop gain is A 5 O L = 2 × 10 and the ideal closed-loop amplifier gain is AC L (∞) = −40. (a) Determine the actual closed-loop gain. (b) Repeat part (a) if the open-loop gain is AOL = 5 × 104. (c) What is the percent change between the magnitudes of the actual gains from part (a) to part (b)? (Ans. (a) −39.9918, (b) −39.9672, (c) −0.0615%) In the limit as AOL → ∞, the closed-loop gain is equal to the ideal value, designated AC L(∞), which for the inverting amplifier is RA 2 CL(∞) = − (14.5) R1 as previously determined. Equation (14.4) is then AC L = AC L(∞) + 1 − (14.6) A 1 CL(∞) AOL To determine the variation in closed-loop gain with changes in open-loop gain, we take the derivative of AC L with respect to AOL . We find d AC L = AC L(∞)(1 − AC L(∞)) + − (14.7) d AOL [AOL (1 AC L(∞))]2 nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1016 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1016 Part 2 Analog Electronics which can be rearranged in the form 1 − AC L(∞) d AC L = d AOL ( AOL ) (14.8) AC LAO L 1 + 1 − AC L(∞) AOL Normally, AC L(∞)|  |AOL | and Equation (14.8) is approximately d AC L ∼= d AOL 1 − AC L(∞) (14.9) AC LAO LAO L Equation (14.9) relates the percent change in the closed-loop gain of the inverting amplifier as the result of a change in open-loop gain. Open-loop gain variations occur when individual transistor parameters change from one circuit to another or with temperature. From Equation (14.9), we see that changes in closed-loop gain become smaller as the open-loop gain becomes larger. 14.2.2 Noninverting Amplifier Closed-Loop Gain Figure 14.3 shows the equivalent circuit of the noninverting amplifier with a finite open-loop gain. Again, the open-loop input differential resistance is assumed to be infinite. The analysis proceeds in much the same way as in the previous section. We have i1 = i2, and − v1 = v1 − vO (14.10(a)) R1 R2 or ( ) vO = 1 v1 + 1 (14.10(b)) R2 R1 R2 The output voltage is vO = AOL(v2 − v1) (14.11) R2 i2 R1 – v1 i1 vO + v2 – + AOL(v2 – v1) v + I – Figure 14.3 Equivalent circuit, noninverting amplifier with finite open-loop gain nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1017 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1017 Since v2 = vI , voltage v1 can be written v1 = vO vI − (14.12) AOL Combining Equations (14.12) and (14.10(b)) and rearranging terms, we have an expression for the closed-loop voltage gain: 1 + R2 = v A O = (R1 CL ) (14.13) vI 1 R 1 + 1 + 2 AOL R1 In the limit as AOL → ∞, the ideal closed-loop gain is RA 2 CL(∞) = 1 + (14.14) R1 and Equation (14.13) becomes = AC L(∞) AC L + AC L(∞ (14.15) ) 1 AOL Taking the derivative of the closed-loop gain with respect to the open-loop gain and rearranging term(s, we o)btain d AC L = d AOL AC L (14.16) AC LAO LAO L Equation (14.16) yields the fractional change in the closed-loop gain of the noninverting amplifier as a result of a change in the open-loop gain. The result for the noninverting amplifier is very similar to that for the inverting amplifier. 14.2.3 Inverting Amplifier Closed-Loop Input Resistance The closed-loop input resistance Ri f of the inverting amplifier is defined in Figure 14.4(a), and it includes the effect of feedback. The equivalent circuit, including a finite open-loop gain AOL , finite open-loop input differential resistance Ri , and nonzero output resistance Ro, is shown in Figure 14.4(b). R2 Rif RR 2 if R1 vO vI – vi 1 – R v 1 o 1 vi O 1 + ii Ri + –AOLv– 1 RL RL + (a) (b) Figure 14.4 (a) Inverting amplifier and (b) inverting amplifier equivalent circuit, for calculating closed-loop input resistance nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1018 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1018 Part 2 Analog Electronics A KCL equation at the output node yields vO + vO − (−AO Lv1) + vo − v1 = 0 (14.17) RL Ro R2 Solving for the( output voltag)e, we have − AOL − 1 v1 vO = Ro R2 (14.18) 1 + 1 + 1 RL Ro R2 A KCL equation at the input node yields = vi 1 + v1 − vO 1 (14.19) Ri R2 Combining Equations (14.18) and (14.19) and rearranging terms produces R 1 + A oi 1 1 1 O L + 1 = = + RL (14.20) v1 Ri f Ri R2 R 1 + o + Ro RL R2 Equation (14.20) describes the closed-loop input resistance of the inverting amplifier, with a finite open-loop gain, finite open-loop input resistance, and nonzero output resistance. In the limit as AOL → ∞, we see that 1/Ri f → ∞, or Ri f → 0, which means that v1 → 0, or v1 is at virtual ground. This is a characteristic of an ideal inverting op-amp. EXAMPLE 14.2 Objective: Determine the closed-loop input resistance at the inverting terminal of an inverting amplifier. Consider an inverting amplifier with a feedback resistor R2 = 10 k, and an op- amp with parameters AOL = 105 and Ri = 10 k. Assume the output resistance Roof the op-amp is negligible. Solution: If Ro = 0, then Equation (14.20) becomes 1 1 1 + A 1 1 + 105 = + O L = + ∼ 10−4 + 10 R 4 4 = (14.21) if Ri R2 10 10 The closed-loop input resistance is then R ∼ if = 0.1 . Comment: The closed-loop input resistance of the inverting amplifier is a very strong function of the finite open-loop gain. Equation (14.21) shows that the open- loop input resistance Ri essentially does not affect the closed-loop input resistance. EXERCISE PROBLEM Ex 14.2: Determine the closed-loop input resistance at the inverting terminal of an inverting amplifier for AOL = 5 × 104, R2 = 80 k, Ri = 40 k, and RL = 10 k if (a) Ro = 0 and (b) Ro = 1 k. (Ans. (a) Ri f = 1.6 , (b) Ri f = 1.78 ) nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1019 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1019 A nonzero closed-loop input resistance Ri fin conjunction with a finite open- loop input resistance Ri implies that the signal current into the op-amp is not zero, as assumed in the ideal case. From Figure 14.4(b), we see that v1 = i1 Ri f (14.22) Therefore, ( ) ii = v1 = Ri f i1 (14.23) Ri Ri The fraction of input signal current shunted away from R2 and into the op-amp is (Ri f /Ri ). 14.2.4 Noninverting Amplifier Closed-Loop Input Resistance A noninverting amplifier is shown in Figure l4.5(a). The input resistance seen by the signal source is designated Ri f . The equivalent circuit, including a finite open-loop gain AOL , finite open-loop input differential resistance Ri and nonzero output resistance Ro, is shown in Figure 14.5(b). Writing a KCL equation at the output node yields vO + vO − AO Lvd + vO − v1 = 0 (14.24) RL Ro R2 Solving for the output voltage, we have v1 + AO Lvd R v = 2 Ro O (14.25) 1 + 1 + 1 RL Ro R2 A KCL equation at the v1 node yields = v1 + v1 − vi OI (14.26) R1 R2 R2 R1 v1 R v 2 O – Ro R1 v Rd R + i A – OLvd RL if – v1 i vO I + Rif + v2 R + L v + I – vI – (a) (b) Figure 14.5 (a) Noninverting amplifier and (b) noninverting amplifier equivalent circuit, for calculating closed-loop input resistance nea80644_ch14_1009-1060.qxd 07/12/2009 3:44 Page 1020 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1020 Part 2 Analog Electronics Combi(ning Equations) (14.25{)( and (14.26)) (and rearranging) terms, w}e obtain RR 1 1 RR R i 1 + o + o = + 1 + o + o − o − AO Lvd Iv1 RL RR 2 2 1 R2 RL R2 R2 R2 (14.27) From Figure 14.5(b), we see that vd = i1 Ri (14.28) and v1 = vI − i I Ri (14.29) Substituting Equations (14.28) and (14.29) into (14.27) we obtain an equation in i I and vI so that the input resistance Ri f can be found as Ri f = vI / i I In order to simplify the algebra, we neglect the effect of Ro, which is normally small. Settin(g Ro = 0 r)educes Equation (14.27) to = 1 i + 1 − AO Lvd Iv1 (14.30) R1 R2 R2 Substituting Equations (14.28) and (14.29) into (14.30), we find that the input resistance can be written in the form ( ) R Ri (1 + AOL) + R2 1 + i vI RR 1 if = = (14.31) i I + R 1 2 R1 Equation (14.31) describes the closed-loop input resistance of the noninverting amplifier with a finite open-loop gain and a finite open-loop input resistance. In the limit as AOL → ∞, or as the open-loop input resistance approaches infinity, we see that Ri f → ∞, which is a property of the ideal noninverting amplifier. EXAMPLE 14.3 Objective: Determine the closed-loop input resistance at the noninverting terminal of a noninverting amplifier. Consider an op-amp with an open-loop gain of A 5 O L = 10 and an input resistance of Ri = 10 k in a noninverting amplifier configuration with resistor values of R1 = R2 = 10 k. Solution: From Equation (14.3(1), the in)put resistance is ( ) R 1 + A + R 1 + Ri ( ) 10(1 + 105 10 i O L 2 ) + 10 1 + = R1 = 10 Ri f (14.32) 1 + R2 10 1 + R1 10 or R =∼if 5 × 105 k ⇒ 500 M nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1021 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1021 Comment: As expected, the closed-loop input resistance of the noninverting amplifier is very large. Equation (14.32) shows that the input resistance is dominated by the term Ri (1 + AOL). The combination of a large Ri and large AOL produces an extremely large input resistance, as predicted by ideal feedback theory. EXERCISE PROBLEM Ex 14.3: For a noninverting amplifier, the resistances are R2 = 99 k and R1 = 1 k. The op-amp properties are: A = 104 O L , Ri = 40 k, and Ro = 0. Determine the closed-loop input resistance. (Ans. Ri f = 4.04 M) 14.2.5 Nonzero Output Resistance Since the ideal op-amp has a zero output resistance, the output voltage is independent of the load impedance. The op-amp acts as an ideal voltage source and there is no loading effect. An actual op-amp circuit has a nonzero output resistance, which means that the output voltage, and therefore the closed-loop gain, is a function of the load impedance. Figure 14.6 is the equivalent circuit of both an inverting and noninverting amplifier and is used to find the output resistance. The op-amp has a finite open-loop gain AOL , a nonzero output resistance Ro, and an infinite input resistance Ri . To determine the output resistance, we set the independent input voltages equal to zero. A KCL equation at the output node yields = vo − A i O Lvd + vo o + (14.33) Ro R1 R2 The differ(ential input) voltage is vd = −v1, where R1 v1 = + vo (14.34) R1 R2 Combining Equa[tion(s (14.34) a)nd (]14.33), we have = vo − AOL − R1 + vi o o + vo + (14.35(a)) Ro Ro R1 R2 R1 R2 R2 R1 – v1 – RR of o vd vo + + i – o + AOLvd RL Figure 14.6 Equivalent circuit for calculating closed-loop output resistance nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1022 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1022 Part 2 Analog Electronics or [ ] io = 1 = 1 1 + AOL 1 + + + (14.35(b)) vo Rof Ro (1 R2/R1) R1 R2 Since Ro is normally small and AOL is normally large, Equation (14.35b), to a good approximation, is as follows: [ ] 1 ∼= 1 AOL + (14.36) Rof Ro 1 R2/R1 In most op-amp circuits, the open-loop output resistance Ro is on the order of 100 . Since AOL is normally much larger than (1 + R2/R1), the closed-loop output resistance can be very small. Output resistance values in the milliohm range are easily attained. EXAMPLE 14.4 Objective: Determine the output resistance of an op-amp circuit. Computer Simulation Solution: Figure 14.7 shows an inverting amplifier circuit with a standard 741 op-amp. One method of determining the output resistance is to measure the output voltage for two different values of load resistance connected to the output. Then, treating the amplifier as a Thevenin equivalent circuit with a fixed source in series with an output resistance, the output resistance can be determined. A 1 mV signal was applied. For a 10  load, the output voltage is 0.999837 mV, and for a 20  load, the output voltage is 0.9999132 mV. This gives an output resistance of 1.53 m. Comment: As mentioned, the output resistance of a voltage amplifier with negative feedback can be very small. The ideal output resistance is zero, but a practical op-amp circuit can have an output resistance in the milliohm range. R2 10 kΩ – v1 –5 V 0 R + 1 2 4 1 – v– V v4 10 kΩ oS1 6 1 mV + ~– 3 o + S2 + v 5 7 0 mA – 741 RL 10 Ω – –5 V 0 v + 2 0 0 Figure 14.7 Circuit using 741 op-amp to measure output resistance nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1023 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1023 EXERCISE PROBLEM Ex 14.4: An op-amp with an open-loop gain of A 5 O L = 10 is used in a noninverting amplifier configuration with a closed-loop gain of AC L = 100. Determine the closed-loop output resistance Rof for: (a) Ro = 100 , and (b) Ro = 10 k. (Ans. (a) Rof = 0.1  (b) Rof = 10 ) Test Your Understanding TYU 14.3 The resistors in an inverting amplifier are R1 = 25 k and R2 = 250 k. Determine the minimum open-loop op-amp gain if the closed-loop gain must be within (a) 0.1 percent of ideal and (b) 0.05 percent of ideal. (Ans. (a) 10,989, (b) 21,989) TYU 14.4 An operational amplifier connected in a noninverting configuration has an open-loop gain of AOL = 105. The resistors are R2 = 495 k and R1 = 5 k. (a) Determine the actual and ideal closed-loop gains. (b) If the open-loop gain decreases by 10 percent, determine the percent change in closed-loop gain and the actual closed-loop gain. (Ans. (a) AC L = 99.90, AC L(∞) = 100 (b) 0.01 %, AC L = 99.89) TYU 14.5 A noninverting amplifier has an op-amp with an open-loop gain of AOL = 2 × 104. (a) Determine the maximum ideal closed-loop gain such that the actual closed-loop gain is within 0.1 percent of the ideal closed-loop value. (b) Repeat part (a) for 0.05 percent. (Ans. (a) AC L(∞) = 20.02, (b) AC L(∞) = 10.005) TYU 14.6 Consider the equivalent circuit in Figure 14.4(b). If Ri = 10 k, determine the percentage of input signal current i1 shunted from R2 for: (a) Ri f = 0.1 , and (b) Ri f = 10 . (Ans. (a) 10−3% (b) 0.1 %) TYU 14.7 Find the closed-loop input resistance of a voltage follower with op-amp characteristics A 5 O L = 5 × 10 , Ri = 10 k, and Ro = 0. (Ans. Ri f = 5000 M) 14.3 FREQUENCY RESPONSE Objective: • Analyze the open-loop and closed-loop frequency response. In the previous chapter, we considered the basic op-amp frequency response. Frequency compensation was included as a means of stabilizing the circuit. In this section, we will consider the bandwidth and the transient response of the closed-loop amplifier. When a step function is applied at the op-amp input, the output voltage cannot change instantaneously with time because of capacitance effects within the op-amp circuit. The maximum rate at which the output changes with time is called the slew rate. We will determine the factors that limit the slew rate. 14.3.1 Open-Loop and Closed-Loop Frequency Response The frequency response of the open-loop gain can be written as A A f = O O L( ) (14.37) + f 1 j fP D"
14.3 Frequency Response,"14.3 FREQUENCY RESPONSE Objective: • Analyze the open-loop and closed-loop frequency response. In the previous chapter, we considered the basic op-amp frequency response. Frequency compensation was included as a means of stabilizing the circuit. In this section, we will consider the bandwidth and the transient response of the closed-loop amplifier. When a step function is applied at the op-amp input, the output voltage cannot change instantaneously with time because of capacitance effects within the op-amp circuit. The maximum rate at which the output changes with time is called the slew rate. We will determine the factors that limit the slew rate. 14.3.1 Open-Loop and Closed-Loop Frequency Response The frequency response of the open-loop gain can be written as A A f = O O L( ) (14.37) + f 1 j fP D nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1024 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1024 Part 2 Analog Electronics |AOL| AO R2 R1 – vO + + 1 – vI fPD fT f Figure 14.8 Bode plot, open-loop Figure 14.9 Noninverting amplifier gain magnitude where AO is the low-frequency open-loop gain and fP Dis the dominant-pole frequency. Figure 14.8 shows the Bode plot of the open-loop gain magnitude. The dominant-pole frequency fP Dis shown as well as the unity-gain bandwidth fT . We showed previously that the unity-gain bandwidth is fT = fP D AO (14.38) and is also called the gain–bandwidth product. Equation (14.38) assumes that additional poles of the open-loop frequency response occur at higher frequencies than fT . Figure 14.9 shows a noninverting amplifier. In our discussion on feedback theory in Chapter 12, we found that, assuming ideal feedback, the closed-loop gain AC L can be written A A O LC L = + (14.39) (1 β AOL) where β is the feedback transfer function. For the noninverting amplifier, this feedback transfer function is 1 β = (14.40) 1 + R2 R1 Combining Equations (14.37), (14.40) and (14.39), we find the expression for the closed-loop gain as a function of frequency, as follows: A 1 AC L( f = O ) × (14.41) A f 1 + O 1 + 1 + j [ ] (R2/R1) fP D 1 + AO 1 + (R2/R1) Normally, AO [1 + (R2/R1)]; therefore, the low-frequency closed-loop gain is RA 2 CL O = 1 + (14.42) R1 as previously determined. For AO AC LO , Equation (14.41) is approximately A AC LO CL( f ) = ( ) (14.43) 1 + f j A f OP D AC LO nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1025 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1025 The 3 dB frequen(cy, or sm)all-signal bandwidth, is then A f O 3 dB = fP D (14.44) AC LO Since in most cases AO AC LO , the bandwidth of the closed-loop system is substantially larger than the open-loop dominant-pole frequency fP D . Note also that Equation (14.44) applies to the inverting, as well as the noninverting, amplifier in which AC LO is the magnitude of the closed-loop gain. We have seen this same bandwidth extension for negative feedback several times previously. 14.3.2 Gain–Bandwidth Product We can also determine the unity-gain bandwidth of the closed-loop system. From Equation (14.43), we can write | A AC LO CL( f = funity)| = 1 = √ [ ] (14.45) f 2 unity 1 + fP D(AO/AC LO) where funity is the unity-gain frequency of the closed-loop system. If AC LO 1, then Equation (14.45) yields (funity ) =∼ AC LO (14.46(a)) A f OP D AC LO which reduces to ( ) A f O unity = AC LO fP D = fP D AO = fT (14.46(b)) AC LO The unity-gain frequency or bandwidth of the closed-loop system is essentially the same as that of the open-loop amplifier. The open-loop and closed-loop frequency response curves are shown in Figure 14.10. We observed these same results in Chapter 12 in the discussion on ideal feedback theory. |A| AO Open loop Closed loop ACLO 1 fPD f3-dB fT f Figure 14.10 Bode plot, open-loop and closed-loop gain magnitude nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1026 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1026 Part 2 Analog Electronics EXAMPLE 14.5 Objective: Determine the unity-gain bandwidth and the maximum closed-loop gain for a specified closed-loop bandwidth. An audio amplifier system is to use an op-amp with an open-loop gain of AO = 2 × 105 and a dominant-pole frequency of 5 Hz. The bandwidth of the audio system is to be 20 kHz. Determine the maximum closed-loop gain for the audio amplifier. Solution: The unity-gain bandwidth is found as f = f A = (5)(2 × 105 6 T PD O ) = 10 Hz ⇒ 1 MHz Since the gain–bandwidth product is a constant, we have f3-dB · AC L = fT where f3-dB is the closed-loop bandwidth and AC L is the closed-loop gain. The maximum closed-loop gain is then 6 AC L = fT = 10 × = 50 f3- 3 dB 20 10 Comment: If the closed-loop gain is less than or equal to 50, then the required bandwidth of 20 kHz for the audio amplifier will be realized. EXERCISE PROBLEM Ex 14.5: An op-amp with open-loop parameters of AOL = 2 × 105 and fP D = 5 Hz is connected in a noninverting amplifier configuration with a low- frequency closed-loop gain of AC LO = 30. An input voltage signal of vI = 100 sin (2π ft) μV is applied. (a) What is the closed-loop bandwidth? (b) What is the low-frequency output voltage? (c) Determine the peak amplitude of the output voltage if the frequency of the signal is (i) f = 5 kHz, (ii) f = 50 kHz, and (iii) f = 200 kHz. (Ans. (a) f ∼ 3-dB = 33.3 kHz; (b) vO = 3 sin (2π ft) mV; (c) (i) = 3 mV, (ii) 1.663 mV, (iii) 0.493 mV) 14.3.3 Slew Rate Implicit in the frequency response analysis for the closed-loop amplifier is the assumption that the sinusoidal input signals are small. If a large sinusoidal signal or step function is applied to an op-amp circuit, the input stage can be overdriven and the small-signal model will no longer apply. Figure 14.11 shows a simplified op-amp circuit. If a large step voltage (greater than 120 mV) is applied at v2 with v1 held at ground potential, then Q2 is effectively cutoff, which means i ∼ C2 = 0 and i ∼ ∼ ∼ C1 = IQ . The entire bias current is switched to Q1. Since iC3 = iC1, then iC3 = IQ ; since Q3–Q4 form a current mirror, then we also have i ∼ C4 = IQ . The base current into Q5 is very small; therefore, the current through the compensation capacitor C1 is iO = iC4 = IQ . Since the voltage gain of the emitter-follower output stage is essentially unity, the capacitor current can be written as = d(vO − vO1)iO C1 (14.47) dt nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1027 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1027 V + V + IQ IQ iO C1 v1 Q1 Q2 v2 Av3 ≅ 1 vO V(t) ii Input pulse C1 C2 Emitter- VO(max) Q5 follower vO1 ii Q6 output C3 C4 Output response Q Q stage Slope = –SR 3 4 Slope = +SR V – 0 Time V – Figure 14.12 Slew-rate-limited response of voltage Figure 14.11 Simplified op-amp for calculating slew rate follower to rectangular input voltage pulse The gain of the second stage is large, which means that vO1  vO . Equation (14.47) then becomes ∼= dv i CO O 1 = IQ (14.48) dt or dvO = IQ (14.49) dt C1 The maximum current through the compensation capacitor is limited to the bias current IQ ; consequently, the maximum rate at which the output voltage can change is also limited by the bias current IQ . The maximum rate of change of the output voltage is the slew rate of the op-amp, the units of which are usually given as volts per microsecond. From Equation (14.49), we have ( ) dv I Slew rate (SR) = O = Q (14.50) dt max C1 Although the rate of change in output voltage can be either positive or negative, the slew rate is defined as a positive quantity. Figure 14.12 shows the slew-rate limited response of an op-amp voltage follower to a rectangular input voltage pulse. Note the trapezoidal shaped output response. The time needed to reach the full-scale response is approximately VO(max)/SR. EXAMPLE 14.6 Objective: Calculate the slew rate of the 741 op-amp. From the previous chapter, the bias current in the 741 op-amp is IQ = 19 μA and the internal frequency compensation capacitor is C1 = 30 pF. Solution: From Equation (14.50), the slew rate is I 19 × 10−6 SR = Q = × − = 0.63 × 106 V/s ⇒ 0.63 V/μs C1 30 10 12 Comment: The partial data sheet in Table 14.1 for the 741 op-amp lists the typical slew rate as 0.7 V/μs, which is in close agreement with our calculated value. nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1028 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1028 Part 2 Analog Electronics EXERCISE PROBLEM Ex 14.6: A 0.5 V input step function is applied at t = 0 to a noninverting amplifier with a closed-loop gain of 8. The slew rate of the op-amp is 1.25 V/μs. Determine the output voltage at (a) (i) t = 2 μs, (ii) t = 4 μs, and (iii) t = 6 μs. (b) At what time does the output reach its full scale response? (Ans. (a) (i) 2.5 V, (ii) 4 V, (iii) 4 V; (b) 3.2 μs) Typical slew-rate values for the CA3140 BiCMOS and LH0042C BiFET op-amps are also given in Table 14.1. The BiCMOS circuit has atypical slew rate of 9 V/μs, and the BiFET op-amp has atypical value of 3 V/μs. The slew rates are larger in the FET op-amps because the bias currents are larger than in the 741 circuit and the gain of the FET input stage is smaller than that of the 741 input stage. The slew rate is directly related to the unity-gain bandwidth. To explain, the unity-gain bandwidth is directly proportional to the dominant-pole frequency, or fT ∝ fP D . In turn, the dominant-pole frequency is inversely proportional to ReqC1, where Req is the equivalent resistance at the node of the second stage input and C1 is the compensation capacitance. The equivalent resistance Req is a function of the second stage input resistance and the diff-amp stage output resistance, both of which are inversely proportional to IQ . Then, fT ∝ fP D ∝ 1 ∝ ( 1) ∝ IQ (14.51) ReqC1 1 CC 1 1 IQ where IQ/C1 is the slew rate. Equation (14.51) shows that the slew rate is directly proportional to the unity-gain bandwidth. Now consider what happens when a sinosoidal input signal is applied, for example, to the no(ninvertin)g amplifier shown in Figure 14.9. If vI = Vp sin ωt , then vO(t) = + RV 1 2 P sin ωt = Vpo sin ωt (14.52) R1 where Vpo is the ideal peak value of the sinusoidal output voltage. The rate at which the output voltage changes is dvO(t) = ωVpo cos ωt (14.53) dt Therefore, the maximum rate of change is ωVpo. Figure 14.13 shows two sinusoidal waveforms of the same frequency but different peak amplitudes. The maximum rate of vO(t) a Slope = –SR Slope = +SR b Time Figure 14.13 Two sinusoidal waveforms of the same frequency with different peak voltages, showing different maximum slopes nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1029 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1029 change, or slope, occurs as the curves cross the zero axis. The waveform with the larger peak value has a larger maximum slope. Curve a in Figure 14.13 has a maximum slope corresponding to the slew rate; curve b, with a smaller peak value, has a maximum slope less than the slew rate. If the maximum slope, ωVpo, is greater than the slew rate SR, then the op-amp is slew-rate-limited and the output signal is distorted. Thus, the maximum frequency at which the op-amp can operate without being slew-rate-limited is a function of both the frequency and peak amplitude of the signal. We have that ωmaxVpo = 2π fmaxVpo = SR (14.54(a)) or SR fmax = (14.54(b)) 2πVpo As the output voltage peak amplitude increases, the maximum frequency at which slew-rate-limiting occurs decreases. The full-power bandwidth (FPBW) is the frequency at which the op-amp output becomes slew-rate-limited. The FPBW is the fmax frequency from Equation (l4.54(b)), or SR FPBW = (14.55) 2πVpo The full-power bandwidth can be considerably less than the small-signal bandwidth. EXAMPLE 14.7 Objective: Determine the small-signal bandwidth of an amplifier and the full-power bandwidth that will produce an undistorted output voltage. Consider an amplifier with a unity-gain bandwidth of fT = 1 MHz and a low- frequency closed-loop gain of AC LO = 10. Assume the op-amp slew rate is SR = 1 V/μs and the desired peak output voltage is Vpo = 10 V. Solution: The small-signal closed-loop bandwidth is, from Equation (14.44), 6 f3-dB = fT = 10 ⇒ 100 kHz AC LO 10 The full-power bandwidth, based on slew-rate limitation, from Equations (14.54(b)) and (14.55), is SR (1 V/μs)(106μs/s) fmax = FPBW = = ⇒ 15.9 kHz 2πVpo 2π(10) Comment: The full-power bandwidth, or the actual maximum frequency at which the system can be operated and still produce a large, undistorted output signal, is considerably smaller than the bandwidth under small-signal nonslew-rate-limiting conditions. EXERCISE PROBLEM Ex 14.7: The slew rate of the 741 op-amp is 0.63 V/μs. Determine the full-power bandwidth for a peak undistorted output voltage of (a) 0.25 V, (b) 2 V, and (c) 8 V. (Ans. (a) 401 kHz, (b) 50.1 kHz, (c) 12.5 kHz) nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1030 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1030 Part 2 Analog Electronics Test Your Understanding TYU 14.8 (a) An op-amp is connected in an inverting configuration. The parameters of the op-amp are AOL = 5 × 104, fP D = 15 Hz, and SR = 0.8 V/μs. The low-frequency closed-loop gain is |AC LO | = 25. (i) What is f3-dB of the closed-loop system? (ii) If fmax = f3-dB, determine the maximum undistorted output voltage amplitude. (b) Repeat part (a) if the op-amp parameters are A 5 O L = 5 × 10 , fP D = 10 Hz, and SR = 0.8 V/μs. (Ans. (a) (i) f3-dB = 30 kHz, (ii) Vpo = 4.24 V; (b) (i) f3-dB = 200 kHz, (ii) Vpo = 0.637 V) 14.4 OFFSET VOLTAGE Objective: • Define and analyze sources and effects of offset voltage. – In Chapter 11, we analyzed the basic difference amplifier, which is the input stage of the op-amp. In that analysis, we assumed the input differential-pair transistors to be identi- + + cal, or matched. If the two input devices are mismatched, the currents in the two branches vO – of the diff-amp are unequal and this affects the diff-amp dc output voltage. In fact, the internal circuitry of the entire op-amp usually contains imbalances and asymmetries, all of which can cause a nonzero output voltage for a zero input differential voltage. Figure 14.14 Circuit for The output dc offset voltage is the measured open-loop output voltage when measuring output offset the input voltage is zero. This configuration is shown in Figure 14.14. The input dc voltage offset voltage is defined as the input differential voltage that must be applied to the open-loop op-amp to produce a zero output voltage. This configuration is shown in Figure 14.15. The input offset voltage is the parameter most often specified and is – usually referred to simply as the offset voltage. Offset voltage values have a statistical distribution among op-amps of the same + + = 0 type, and the offset voltage polarity may vary from one op-amp to another. The offset vO – voltage specification for an op-amp is the magnitude of the maximum offset voltage V + OS – for a particular type of op-amp. The offset voltage is a dc value, generally in the range of 1 to 2 mV for bipolar op-amps, although some op-amps may have offset voltages in the range of 5 to 10 mV. Further, the maximum offset voltage specification for a Figure 14.15 Circuit for precision op-amp maybe as low as 10 μV. measuring input offset In this section we will analyze offset voltage effects in the input diff-amp stage voltage and will then consider various techniques used to compensate for offset voltage. 14.4.1 Input Stage Offset Voltage Effects Several possible mismatches in the input diff-amp stage can produce offset voltages. We will analyze offset voltage effects in two bipolar input stages and in a MOSFET input diff-amp circuit. Basic Bipolar Diff-Amp Stage A basic bipolar diff-amp is shown in Figure 14.16. The differential pair is biased with a constant-current source. If Q1 and Q2 are matched, then for v1 = v2 = 0, IQ splits evenly between the two transistors and iC1 = iC2. If a two-sided output is defined as"
14.4 Offset Voltage,"14.4 OFFSET VOLTAGE Objective: • Define and analyze sources and effects of offset voltage. – In Chapter 11, we analyzed the basic difference amplifier, which is the input stage of the op-amp. In that analysis, we assumed the input differential-pair transistors to be identi- + + cal, or matched. If the two input devices are mismatched, the currents in the two branches vO – of the diff-amp are unequal and this affects the diff-amp dc output voltage. In fact, the internal circuitry of the entire op-amp usually contains imbalances and asymmetries, all of which can cause a nonzero output voltage for a zero input differential voltage. Figure 14.14 Circuit for The output dc offset voltage is the measured open-loop output voltage when measuring output offset the input voltage is zero. This configuration is shown in Figure 14.14. The input dc voltage offset voltage is defined as the input differential voltage that must be applied to the open-loop op-amp to produce a zero output voltage. This configuration is shown in Figure 14.15. The input offset voltage is the parameter most often specified and is – usually referred to simply as the offset voltage. Offset voltage values have a statistical distribution among op-amps of the same + + = 0 type, and the offset voltage polarity may vary from one op-amp to another. The offset vO – voltage specification for an op-amp is the magnitude of the maximum offset voltage V + OS – for a particular type of op-amp. The offset voltage is a dc value, generally in the range of 1 to 2 mV for bipolar op-amps, although some op-amps may have offset voltages in the range of 5 to 10 mV. Further, the maximum offset voltage specification for a Figure 14.15 Circuit for precision op-amp maybe as low as 10 μV. measuring input offset In this section we will analyze offset voltage effects in the input diff-amp stage voltage and will then consider various techniques used to compensate for offset voltage. 14.4.1 Input Stage Offset Voltage Effects Several possible mismatches in the input diff-amp stage can produce offset voltages. We will analyze offset voltage effects in two bipolar input stages and in a MOSFET input diff-amp circuit. Basic Bipolar Diff-Amp Stage A basic bipolar diff-amp is shown in Figure 14.16. The differential pair is biased with a constant-current source. If Q1 and Q2 are matched, then for v1 = v2 = 0, IQ splits evenly between the two transistors and iC1 = iC2. If a two-sided output is defined as nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1031 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1031 V + i iC1 RC RC i CC2 + vO – v1 Q Q v2 + 1 2 + vBE1 – – vBE2 IQ VOS V – vBE Figure 14.16 Basic bipolar Figure 14.17 The iC versus vB E difference amplifier characteristics for two unmatched bipolar transistors the difference in voltage between the two collector terminals, then vO = 0 when the transistors are matched and the collector resistors are matched, which means that the offset voltage is zero. The collector currents can be written as iC1 = IS1evB E1/VT (14.56(a)) and i = I evB E2/VT C2 S2 (14.56(b)) where IS1 and IS2 are related to the reverse-saturation currents in the BE junctions and are functions of the electrical and geometric transistor properties. If the two transistors are exactly matched, then IS1 = IS2; if there is any mismatch in the electrical or geometric parameters, then IS1 = IS2. The input offset voltage is defined as the input differential voltage required to produce a zero output voltage, or in this case to produce iC1 = iC2. Figure 14.17 shows the iC versus vB E characteristics of two unmatched transistors. Slightly different BE voltages must be applied to produce equal collector currents that will result in a zero output voltage in the diff-amp. For iC1 = iC2, we have I evB E1/VT = I vB E2/VT S1 S2e (14.57) or I e(vB E1−vB E2)/VT = S2 (14.58) IS1 We define the offset voltage as vB E1 − vB E2 ≡ VO S Since v1 − v2 = vB E1 − vB E2 , then the offset voltage VO Sis the differential input voltage that must be applied to produce iC1 = iC2. Equation (14.58) can then be written as eVO S/V = IT S2 (14.59(a)) IS1 nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1032 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1032 Part 2 Analog Electronics or ( ) = I VO S VT ln S2 (14.59(b)) IS1 EXAMPLE 14.8 Objective: Calculate the offset voltage in a bipolar diff-amp for a given mismatch between the input transistors. Consider the diff-amp in Figure 14.16 with transistor parameters IS1 = 10−14 A and IS2 = 1.05 × 10−14 A. Solution: From E(quati)on (14.59(b)), (the offset voltage is I −14 ) V = V ln S2 1.05 × 10 OS T = (0.026) ln × − = 0.00127 V ⇒ 1.27 mV I 1 10 14 S1 Comment: A 5 percent difference in IS for Q1 and for Q2 produces an offset voltage of 1.27 mV. Since the offset voltage is defined as a positive quantity, if in the previous example IS1 were 5 percent larger than IS2, the offset voltage would also be 1.27 mV. EXERCISE PROBLEM Ex 14.8: Consider the bipolar diff-amp in Figure 14.16. For Q1, assume IS1 = 2 × 10−15 A. If the offset voltage is VO S = 2 mV, what is the percent difference in the value of IS2 compared to IS1? (Ans. 8 percent) It should be cautioned that the offset voltage in this example is one component of the offset voltage for the entire op-amp. For example, if the two collector resistors are not equal, then the two-sided output voltage vO will not be zero even if the two transistors are identical. Nevertheless, the calculation provides information on one source of offset voltage, as well as the resulting magnitude of VO S . Bipolar Active Load Diff-Amp Stage Figure 14.18 shows a bipolar diff-amp with a simple two-transistor active load. As before, this input stage is biased with a constant-current source. If Q1 and Q2 are matched and if Q3 and Q4 are matched, then IQ splits evenly between Q1 and Q2 for v1 = v2, and the EC voltages of Q3 and Q4 are equal. The one-sided dc output voltage vO will therefore be one E–B voltage below V +. If, however, Q3 and Q4 are not exactly matched, then iC1 and iC2 may not be equal since the active load influences the split in the bias current, even if Q1 and Q2 are matched. This effect is caused by a finite Early voltage. Taking the Early voltages into account, but neglecting base currents, we can write the collector currents as ( ) i = i = v I (evB E1/VT C1 C3 S1 ( ) 1 + CE1 )VA1 = I (evE B3/V v T 1 + EC3 S3 ) (14.60(a)) VA3 nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1033 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1033 V + Q3 Q4 iC3 iC4 vO iC1 iC2 v1 Q1 Q2 v2 IQ V – Figure 14.18 Basic bipolar diff-amp with active load and ( ) v vi BE2/VT CE2 C2 = iC4 = IS2(e ( ) 1 +)VA2 = I (evE B4/V v TS4 ) 1 + EC4 (14.60(b)) VA4 If we assume that Q1 and Q2 are matched, then IS1 = IS2 ≡ IS and VA1 = VA2 ≡ VAN . Assume that Q3 and Q4 are slightly mismatched, so that IS3 = IS4 but still assume that VA3 = VA4 ≡ VAP . For v1 = v2, we have vB E1 = vB E2; also, vE B3 = vE B4 = vEC3 ≡ vE B . Taking the ratio of Equations (14.60(a)) and (14.60(b)) produces 1 + vC E1 1 + vE B iC1 = VAN = IS3 VAP (14.61) iC2 1 + vC E2 Iv S4 1 + EC4 VAN VAP Equation (14.61) can be rearranged in the form v v 1 + CE1 1 + CE2 VAN = IS3 VAN (14.62) 1 + vE BI v S4 1 + EC4 VAP VAP Since Q3 is connected as a diode, vC E1 is a constant for a given bias current and supply voltage, which means that the left side of Equation (14.62) is a constant. If IS3 = IS4, then vC E2 = vC E1 and vEC4 = vE B = vEC3. However, if IS3 = IS4, then the collector–emitter voltages on Q2 and Q4 must change. If, for example, IS3 > IS4, then vEC4 must increase and vC E2 must decrease in order to keep Equation (14.62) balanced. If, on the other hand, IS4 > IS3, then vC E2 must increase and vEC4 must decrease. A decrease in vEC4 means that Q4 maybe driven into saturation by the mismatch. nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1034 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1034 Part 2 Analog Electronics EXAMPLE 14.9 Objective: Calculate the change in output voltage for a given mismatch in the active load transistors. Consider the diff-amp in Figure 14.18 with V + = 10 V. Assume that Q1 and Q2 are matched with vB E1 = vB E2 = 0.6 V, and assume that vE B3 = vE B4 = vEC3 = 0.6 V. Let IS3 = 1.05IS4. Also assume that VAN = VAP = 50 V. Solution: Since vE B3 = 0.6 V = vB E1, then for v1 = v2 = 0, v + CE1 = V = 10 V The left side of Equation (14.62) is therefore 1 + vC E1 V 1 + 10 AN = 50 v = 1.186 1 + E B V 1 + 0.6 AP 50 We have that v + EC4 + vC E2 = V + vB E2 = 10.6 V or vC E2 = 10.6 − vEC4 Equation (14.62) then becomes + 10.6 − v 1 EC4 1.186 = 1.05 50 1 + vEC4 50 which yields vEC4 = 1.94 V Comment: A 5 percent difference between the properties of Q3 and Q4 produces a change from 0.6 to 1.94 V in the EC voltage of Q4. Computer Simulation Verification: A PSpice analysis of the offset voltage effects in the active load diff-amp was performed. The two input terminals are at ground potential. Using I = 5 × 10−15 SA for all transistors, the PSpice analysis shows that vE B3 = 0.654 V rather than the assumed value of 0.6 V. Also, vEC4 is 1.19 V rather than equal to vE B3. This occurs because the circuit is slightly unbalanced; that is, iC1 includes the base currents of Q3 andQ4, and iC4 does not. When Q3 and Q4 are not matched and IS3 = 1.05I = 5.25 × 10−15 S4 A, then vEC4 increases to 2.51 V, compared to 1.94 V from the hand analysis. If, however, IS3 = 0.95I −15 S4 = 4.75 × 10 A, then Q4 goes into saturation. EXERCISE PROBLEM *Ex 14.9: Consider the active load bipolar diff-amp stage in Figure 14.18. Assume the circuit and transistor parameters areas given in Example 14.9. Using Equations (14.60(a)) and (14.60(b)), determine the offset voltage VO S = |vB E2 − vB E1| such that vEC3 = vEC4 and vC E1 = vC E2. (Ans. 1.27 mV) nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1035 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1035 An offset voltage that will slightly change iC1 and iC2 will allow the EC voltage of Q4 to be adjusted back to its original value. As shown in actual op-amp circuits, resistors are usually included in the emitters of the active load transistors. By producing a slight imbalance in the two resistor values, we can change the ratio of iC1 to iC2, causing a change in the output voltage. This is discussed in the next section when offset voltage null adjustment is discussed. MOSFET Diff-Amp Stage Figure 14.19 shows a basic MOSFET diff-amp in which the differential pair is biased with a constant-current source. If M1 and M2 are matched, then for v1 = v2 = 0, IQ splits evenly between the two transistors and iD1 = iD2. Since a two-sided output is the voltage difference between the two drain terminals, then for this symmetrical situation, vO = 0 and the offset voltage is zero. V+ iD1 RD RD iD2 + vO – v1 M1 M2 v2 + + vGS1 – – vGS2 IQ V – Figure 14.19 Basic MOSFET diff-amp The drain currents can be written as i = K (v − V )2 D1 n1 GS1 TN1 (14.63(a)) and i 2 D2 = Kn2(vGS2 − VT N2) (14.63(b)) As previously stated, the conduction parameters Kn1 and Kn2 are functions of the electrical and geometric properties of the two transistors, and the threshold voltages VT N1 and VT N2 are also functions of the transistor electrical properties. If there is a mismatch in electrical or geometric parameters, then we may have Kn1 = Kn2 and VT N1 = VT N2. As with the bipolar diff-amp, the input offset voltage is defined as the input differential voltage that must be applied to produce a zero output voltage, or VO S = vGS1 − vGS2 (14.64) When the offset voltage is applied, iD1 = iD2 = IQ/2; when the two drain resistors are equal, then vO = 0. Solving Equations (14.63(a)) and (14.63(b)) for vGS1 and vGS2 and sub√stituting the resul(ts√ into Equation )(14.64), we find = iD1 + − i VD2 OS VT N1 + VT N2 (14.65) Kn1 Kn2 nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1036 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1036 Part 2 Analog Electronics The various difference and average quantities are defined as follows: Kn = Kn1 − Kn2 (14.66(a)) = Kn1 + K Kn2 n (14.66(b)) 2 VT N = VT N1 − VT N2 (14.67(a)) and V = VT N1 + VT N2 TN (14.67(b)) 2 Combining Equations (14.66(a)) and (14.66(b)), we have Kn1 = + K Kn n (14.68(a)) 2 and K K = K − n n2 n (14.68(b)) 2 Similarly, V VT NT N1 = VT N + (14.69(a)) 2 and V VT N2 = VT NT N − (14.69(b)) 2 Noting that iD1 = iD2 = IQ/2 and substituting Equations (14.68(a)) through (14.69(b)) in√to Eq[uation (14.65), we obtain ] V = IQ OS √ 1 + − √ 1 − + VT N (14.70) 2 Kn (Kn/2) Kn (Kn/2) If we assume th√at Kn ( Kn th)en Equation (14.70) reduces to 1 IV Q Kn OS = − · + V (14.71) 2 2 TN Kn Kn Equation (14.71) is the offset voltage in a MOSFET diff-amp as a function of the differences in conduction parameters and threshold voltages. EXAMPLE 14.10 Objective: Calculate the offset voltage in a MOSFET diff-amp stage for a given mismatch between input transistors. Consider the diff-amp in Figure 14.19 with transistor parameters Kn1 = 105 μA/V2, Kn2 = 100 μA/V2, and VT N1 = VT N2. Assume IQ = 200 μA. Solution: From Equation (14.66(a)), the difference in conduction parameters is Kn = Kn1 − Kn2 = 105 − 100 = 5 μA/V2 nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1037 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1037 From Equation (14.66(b)), the average of the conduction parameters is = K Kn1 + Kn2 = 105 + 100 n = 102.5 μA/V2 2 2 The magnitude √of the of(fset vol)tage is√, from Equa(tion (14).71), | | = 1 IQ · Kn = 1 200 5 VO S = 0.0241 V ⇒ 24.1 mV 2 2Kn Kn 2 2(102.5) 102.5 Comment: A 5 percent difference in conduction parameter values between the input MOS transistors produces an offset voltage of 24.1 mV. EXERCISE PROBLEM Ex 14.10: Assume the MOSFET diff-amp shown in Figure 14.19 is biased with a current IQ = 150 μA. Let VT N1 = VT N2. Assume the nominal conduction parameter value is Kn = 50 μA/V2. Determine the maximum variation Kn such that the offset voltage is limited to VO S = 20 mV. (Ans. Kn = 1.63 μA/V2) Comparing the results of Examples 14.8 and 14.10 shows that typically the offset voltage for a MOSFET diff-amp is substantially larger than that of a bipolar diff-amp. The difference can be explained by comparing Equation (14.71) for the MOSFET diff-amp and Equation (14.59(b)) for the bipolar diff-amp. The offset voltage for the MOSFET diff-amp is directly proportional to the percent change in conduction parameter values, whereas the offset voltage for the bipolar diff-amp is proportional to the logarithm of the percent change in the IS current parameters. In addit√ion, the offset voltage for the MOSFET pair is proportional to IQ/Kn = VGS − VT N which is typically in the range of 0.3–2 V. In contrast, the offset voltage for the bipolar pair is proportional to V =∼T 26 mV which is substantially smaller than (VGS − VT N ). Thus, a MOSFET diff-amp inherently displays a higher input offset voltage than a bipolar pair for the same level of mismatch. Partial data sheets showing some of the nonideal characteristics for the op-amps considered in the last chapter are in Table 14.1. The 741 op-amp, an all-bipolar circuit, has a maximum input offset voltage of 3 mV. The CA3140, which has a MOSFET input differential pair, has a maximum input offset voltage of 15 mV; and the LH0042C, which has a JFET input differential pair, has a maximum input offset voltage of 20 mV. This supports our conclusion that op-amps with FET input transistors have substantially larger input offset voltages than the all-bipolar circuit discussed. 14.4.2 Offset Voltage Compensation In many applications, especially those for which the input signal is large compared to the offset voltage VOS, the effect of the offset voltage is negligible. However, there are nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1038 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1038 Part 2 Analog Electronics situations in which it is necessary to compensate for, or “null out,” the offset voltage. Two such methods are: (a) an externally connected offset compensation network, and (2) an operational amplifier with offset-null terminals. External Offset Compensation Network Figure 14.20 shows a simple network for offset voltage compensation in an inverting amplifier. The resistive voltage divider of R4 and R5, in conjunction with potentiometer R3, is used to make voltage adjustments of either polarity at the noninverting terminal to cancel the effects of VO S . If R5  R4, then the compensating voltage applied to the noninverting terminal can be in the millivolt range, which is typical of offset voltage values. V+ R2 R1 VX vI – vO R3 + RV 4 YR5 V – Figure 14.20 Offset voltage compensation circuit for inverting amplifier EXAMPLE 14.11 Objective: Determine the range of voltage produced by an offset voltage compensation network. Consider the compensation network in Figure 14.20 with R5 = 100 , R4 = 100 k, and a 100 k potentiometer R3. Let V + = 15 V and V − = −15 V. Determine the voltage range at VY . Solution: Assume the potentiometer wiper arm is connected to the V + supply voltage. The vo(ltage VY is) then ( ) = RV 5 Y + V + = 0.1 + (15) ⇒ 15 mV R5 R4 0.1 100 Comment: For this particular circuit, the compensation voltage range is −15 mV to +15 mV. A larger resistance R5 will increase the offset voltage compensation range, and a smaller resistance R5 will increase the sensitivity of offset voltage compensation. EXERCISE PROBLEM Ex 14.11: Consider the compensation network in Figure 14.20. Assume V + = 10 V, V − = −10 V, R3 = 100 k, and R4 = 100 k. Design R5 such that the circuit can compensate for an offset voltage of VO S = 5 mV. (Ans. 50 ) Figure 14.21 shows a compensation network that can be used with a noninverting op-amp circuit. The same R4–R5 voltage divider is used with the potentiometer R3. Typically, R5 is on the order of 100  and R4 on the order of 100 k. If V + = 15 V nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1039 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1039 V+ IQ v1 Q 3 1 Q2 v2 iC1 iC2 Q3 Q4 + + v Offset- vBE3 BE4 – – Offset- null null terminal terminal V+ R1 R2 R2 R4 = 100 kΩ R1 V – R3 – v x 1 – x O vI + R5 = 100 Ω Rx V – V – Figure 14.21 Offset voltage compensation circuit Figure 14.22 Basic bipolar input diff-amp stage, including for noninverting amplifier a pair of offset-null terminals connected to a potentiometer and V − = −15 V, then the compensation voltage is again in the range of −15 mV to +15 mV. The voltage gain of the noninverting amplifier becomes a function of the compensation network. Since R5  R4, then the gain of the amplifier, to a good approximation, is ( ) = vO = + RA 1 2 v (14.72) vI R1 + R5 Since R5 is small, Equation (14.72) shows that the gain is not a strong function of the compensation network; however, it may still need to be taken into account. Offset-Null Terminals Many op-amps, including the 741 bipolar and the CA3140 BiCMOS circuits studied in Chapter 13, include a pair of external offset-null terminals, which are used to compensate for the offset voltage. Figure 14.22 shows a basic bipolar input diff-amp stage, including a pair of offset-null terminals. An external potentiometer Rx is connected between these terminals, and the wiper arm is connected to supply voltage V −. If the wiper arm of Rx is centered, then R1 and R2 will each have a resistance Rx/2 connected in parallel. When the wiper arm is moved off center, then R1 and R2 will each have a different resistance connected in parallel, and an asymmetry will be introduced into the circuit. This asymmetry in turn introduces an offset voltage, which cancels the input offset voltage effects. In practice, to adjust for offset voltage effects, the op-amp is connected in a feedback configuration with the input differential voltage set equal to zero. The wiper arm of potentiometer Rx is then adjusted until the output voltage becomes zero. nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1040 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1040 Part 2 Analog Electronics To demonstrate the offset-null technique, we first write a KVL equation between the base terminals of Q3 and Q4 and voltage V − in Figure 14.22, as follows: v ′ ′ BE3 + iC1 R1 = vB E4 + iC2 R2 (14.73) where R′ 1 and R′ 2 are the effective resistances in the emitters of Q3 and Q4, including the parallel effects of potentiometer Rx . We have that R′ 1 = R1‖x Rand R′ x 2 = R2‖(1 − x)Rx The base–emitter (voltag)es are iC1 vB E3 = VT ln (14.74(a)) IS3 and ( ) i vB E4 = VT ln C2 (14.74(b)) IS4 Substitutin(g Eq)uations (14.74(a)) (and ()14.74(b)) into Equation (14.73) yields ii VT ln C1 + i ′ C2 ′ C1 R1 = VT ln + iC2 R2 (14.75) IS3 IS4 If a mismatch occurs between Q3 and Q4, meaning IS3 = IS4, then a deliberate mismatch between R′ 1 and R′ 2 can be introduced to compensate for the transistor mismatch and the adjustment can make iC1 = iC2. Similarly, a deliberate mismatch between R′ 1 and R′ 2 can be used to compensate for a mismatch between Q1 and Q2. EXAMPLE 14.12 Objective: Determine the required difference between R′ 1 and R′ 2, and the value of x in the potentiometer to compensate for a mismatch between active load transistors Q3 and Q4 in the diff-amp in Figure 14.22. Assume that IQ = 200 μA, which means that we want iC1 = iC2 = 100 μA. Let I = 10−14 S3 A and IS4 = 1.05 × 10−14 A. Also assume R1 = R2 = 1 k and Rx = 100 k. Solution: The difference between R′ 2 and R′ 1 is determined from Equation (14.75), as follows(: ) ( ) iC1 + i VT ln i ′ C1 R1 = VT ln C2 + iC2 R′ I 2 S3 IS4 or ( ) ( ) 100 × 10−6 100 × 10−6 (0.026) ln − + (0.10)R′ = (0.026) ln ′ 10 14 1 1.05 × 10− + (0.10)R 14 2 which yields R′ − R′ 2 1 = 0.0127 k ⇒ 12.7  We can also write the difference between R′ ′ 2 and R1 as R2(1 − x)Rx R1x Rx R2 + − = 0.0127 k (1 − x)Rx R1 + x Rx nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1041 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1041 200 mA + I1 5 V V1 – IDC 0 Q2 Q1 2N3906 2N3906 0 0 vo (V) 0.3 0.4 0.5 0.6 0.7 x Q4 Q3 2N3904 2N3904 –3.5 –3.75 R2 1 kΩ R1 1 kΩ RR –4.0 Y X 50 kΩ – 50 kΩ –4.25 V6 5 V + 0 Figure 14.23 Circuit used in the computer Figure 14.24 Output voltage versus potentiometer setting simulation analysis for Example 14.12 Substituting the values for R1, R2, and Rx , we find that x = 0.349 Comment: On the basis of this analysis, the value of R′ 1 is 1‖34.9 = 0.9721 k, and the value of R′ 2 is 1‖(100 − 34.9) = 0.9849 k. Computer Simulation Verification: Figure 14.23 is the circuit used in PSpice simulation. The values of RX and RY were varied to simulate a change in the variable x in the potentiometer in the circuit in Figure 14.22. The output voltage vO is taken off the common collectors of Q1 and Q3. This voltage would correspond to the input voltage of a second stage. A change in the values of RX and RY causes a slight change in the currents in the two sides of the circuit. A change in current causes a change in the collector–emitter voltages of Q1 and Q3, or a change in the output voltage. Figure 14.24 shows the output voltage as a function of x , or as a function of the position of the potentiometer. The results show that a change of approximately 0.7 V is possible for this range in potentiometer setting. This change in voltage would represent a large change in input voltage for the second stage, which in turn would cause a large change in the dc value of the output voltage. The dc output voltage could therefore beset to zero by adjusting the potentiometer setting. EXERCISE PROBLEM *Ex 14.12: Consider the diff-amp in Figure 14.22 with a pair of offset-null terminals. Let R1 = R2 = 1 k. Let Rx be a 100 k potentiometer. Assume IQ = 100 μA and I = 10−14 S3 A. If the wiper arm on the potentiometer is adjusted such that 25 k is in parallel with R1 and 75 k is in parallel with R2, determine the value of I for i = i . (Ans. 1.05 × 10−14 S4 C1 C2 A) nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1042 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1042 Part 2 Analog Electronics 14.5 INPUT BIAS CURRENT Objective: • Define and analyze effects of input bias currents. The input currents to an ideal op-amp are zero. In actual operational amplifiers, however, the input bias currents are not zero. If the input stage consists of a pair of npn transistors, as shown in Figure 14.25(a), the bias currents enter the input terminals. However, if the input state consists of a pair of pnp transistors, as shown in Figure l4.25(b), the bias currents leave the input terminals. If the input diff-amp consists of a pair of JFETs, the input bias currents are normally much smaller than those in a bipolar differential pair. A MOSFET input differential pair, generally, must include protection devices as discussed in Chapter 13, so the input bias currents are also not zero even in this case. For op-amps with a bipolar input stage, the input bias currents maybe as high as 10 μA and as low as a few nanoamperes. For op-amps with an FET input stage, the bias currents maybe as low as a few picoamperes. Table 14.1 lists the typical input bias current. For the 741 op-amp it is 30 nA, and for the FET input op-amps it is in the low picoampere range. IB1 Q1 Q2 IQ IB2 IB1 Q1 Q2 IQ IB2 (a) (b) Figure 14.25 (a) Pair of npn transistors, showing input bias currents, and (b) pair of pnp transistors, showing input bias currents 14.5.1 Bias Current Effects IB1 Figure 14.26 schematically shows an op-amp with input bias currents. If the input – stage is symmetrical, with all corresponding elements matched, then IB1 = IB2. However, if the input transistors are not exactly identical, then IB1 = IB2. The input + I bias current is then defined as the average of the two input currents, or B2 I + I Figure 14.26 Op-amp with I = B1 B2 B (14.76) input bias currents 2 The difference between the two input currents is called the input offset current IOS and is given by IOS = |IB1 − IB2| (14.77)"
14.5 Input Bias Current,"14.5 INPUT BIAS CURRENT Objective: • Define and analyze effects of input bias currents. The input currents to an ideal op-amp are zero. In actual operational amplifiers, however, the input bias currents are not zero. If the input stage consists of a pair of npn transistors, as shown in Figure 14.25(a), the bias currents enter the input terminals. However, if the input state consists of a pair of pnp transistors, as shown in Figure l4.25(b), the bias currents leave the input terminals. If the input diff-amp consists of a pair of JFETs, the input bias currents are normally much smaller than those in a bipolar differential pair. A MOSFET input differential pair, generally, must include protection devices as discussed in Chapter 13, so the input bias currents are also not zero even in this case. For op-amps with a bipolar input stage, the input bias currents maybe as high as 10 μA and as low as a few nanoamperes. For op-amps with an FET input stage, the bias currents maybe as low as a few picoamperes. Table 14.1 lists the typical input bias current. For the 741 op-amp it is 30 nA, and for the FET input op-amps it is in the low picoampere range. IB1 Q1 Q2 IQ IB2 IB1 Q1 Q2 IQ IB2 (a) (b) Figure 14.25 (a) Pair of npn transistors, showing input bias currents, and (b) pair of pnp transistors, showing input bias currents 14.5.1 Bias Current Effects IB1 Figure 14.26 schematically shows an op-amp with input bias currents. If the input – stage is symmetrical, with all corresponding elements matched, then IB1 = IB2. However, if the input transistors are not exactly identical, then IB1 = IB2. The input + I bias current is then defined as the average of the two input currents, or B2 I + I Figure 14.26 Op-amp with I = B1 B2 B (14.76) input bias currents 2 The difference between the two input currents is called the input offset current IOS and is given by IOS = |IB1 − IB2| (14.77) nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1043 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1043 R2 R2 RI 1 VB1 X – RI 1 B1 vO – VY + VX vO IB2 + RV 3 Y IB2 Figure 14.27 Op-amp with grounded Figure 14.28 Op-amp circuit with resistor connected to noninverting terminal noninverting terminal, for input bias current compensation The algebraic sign of the offset current is usually not important, just as the offset voltage polarity is not critical. The typical input offset current is on the order of 10 percent of the input bias current, although data sheets may list larger values. The typical and maximum input offset currents for the three op-amps analyzed in the last chapter are given in Table 14.1. Figure 14.27 shows an op-amp and associated resistors for a zero input voltage. Even if IB2 = 0, the noninverting terminal is still at zero volts, or VY = 0. From the virtual ground concept, we have VX = 0, which means that the current in R1 must be zero. Bias current IB1 is therefore supplied by the output of the op-amp and flows through R2, producing an output voltage. If, for example, IB1 = 5 μA and R2 = 100 k, then vO = 0.5 V, which is unacceptable in most applications. Smaller input bias currents and a smaller feedback resistor will reduce the bias current effects. 14.5.2 Bias Current Compensation The effect of bias currents in op-amp circuits can be minimized with a simple compensation technique. Consider the circuit in Figure 14.28. We determine vO as a function of IB1 and IB2 using superposition. For IB2 = 0, then VY = VX = 0, and the output voltage due to IB1 is vO(IB1) = IB1 R2 (14.78(a)) For IB1 = 0, we find VY = −IB2 R3 = VX Since vO = (1 + R2/R1)VX the output voltage due to( IB2 is ) R2 vO(IB2) = −IB2 R3 1 + (14.78(b)) R1 The net output voltage due to both IB1 and IB2 is the sum of Equations (14.78(a)) and (14.78(b)), or ( ) vO = RI 2 B1 R2 − IB2 R3 1 + (14.79) R1 If IB1 = IB2 ≡ IB and if the combination of the three resistances can be adjusted to produce v[O = 0, th(en Equat)io]n (14.79) becomes 0 = IB R2 − RR 1 + 2 3 (14.80) R1 nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1044 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1044 Part 2 Analog Electronics which means( that ) RR2 = R3 1 + 2 (14.81) R1 Equation (14.81) can be rearranged as follows: R3 = R1 R2 R1 + = R1‖R2 (14.82) R2 Equation (14.82) shows that R3 should be made equal to the parallel combination of R1 and R2, to eliminate the effect of equal input bias currents. If R3 = R1‖R2 and if the bias currents are not equal, then from Equation (14.79), we have vO = R2 (IB1 − IB2) = R2 IOS (14.83) Since the input offset current is normally a fraction of the input bias current, Equation (14.83) shows that the bias current effect can be reduced by making R3 = R1‖R2. EXAMPLE 14.13 Objective: Determine the bias current effect in an op-amp circuit, with and without bias current compensation. Consider the op-amp circuits in Figures 14.27 and 14.28. Let R1 = 10 k and R2 = 100 k. Assume IB1 = 1.1 μA and IB2 = 1.0 μA. Solution: For the op-amp circuit in Figure 14.27, the output voltage due to the bias currents is v −6 3 O = IB1 R2 = (1.1 × 10 )(100 × 10 ) = 0.11 V For the circuit in Figure 14.28, we design R3 such that R3 = R1‖R2 = 10‖100 = 9.09 k Then, from Equation (14.83), we find vO = R2(IB1 − I 3 −6 B2) = (100 × 10 )(1.1 − 1.0) × 10 = 0.010 V Comment: Even if the input offset current is not zero, the effect of the input bias currents can be reduced substantially by incorporating resistor R3. EXERCISE PROBLEM Ex 14.13: For the op-amp circuit shown in Figure 14.28, the parameters are R1 = 20 k and R2 = 120 k. (a) Let IB1 = IB2 = 0.8 μA. (i) Can R3 bead- justed such that vO = 0? (ii) If so, what is the value of R3? (b) Repeat part (a) if IB1 = 0.75 μA and IB2 = 0.85 μA. (Ans. (a) R3 = 17.14 k, (b) R3 = 15.13 k) Usually the effect of bias currents in op-amp circuits is significant only for circuits with large resistor values. For these situations, an op-amp with an FET input stage maybe necessary. nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1045 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1045 Test Your Understanding TYU 14.9 Consider the inverting summing amplifier in Figure 14.29. Assume input bias currents of IB1 = IB2 = 1.1 μA. (a) For vi1 = vi2 = 0 and R4 = 0, determine vO due to the bias currents. (b) Find the value of R4 that compensates for the effects of the bias currents. (Ans. (a) vO = 0.22 V (b) R4 = 28.6 k) R3 = 200 kΩ R1 = 100 kΩ v II1 B1 – vI2 vO R2 = 50 kΩ + IB2 R4 Figure 14.29 Figure for Exercise TYU14.9 14.6 ADDITIONAL NONIDEAL EFFECTS Objective: • Discuss and analyze additional nonideal effects. Two additional nonideal effects in op-amps are: temperature effects and common- mode rejection ratio. We will look at each of these in this section. 14.6.1 Temperature Effects Individual transistor parameters are functions of temperature. For bipolar transistors, the collector current is i = I evB E /VT CS (14.84) where both IS and VT are functions of temperature. We expect the open-loop gain to vary with temperature, but as we saw in Section 14.2, the fractional change in the closed-loop gain is orders of magnitude less than the fractional change in the open- loop gain. This then makes the closed-loop gain very insensitive to temperature variations. Offset Voltage Temperature Coefficient Since the electrical properties of transistors are functions of temperature, the input offset voltage is also a function of temperature. The rate of change of offset voltage with temperature is defined as the temperature coefficient of offset voltage, or input offset voltage drift, and is given by dV TC = OS vO S (14.85) dT For a bipolar diff-amp input stage, the offset voltage, from Equation (14.59(b)), is VO S = VT ln(IS2/IS1)"
14.6 Additional Nonideal Effects,"14.6 ADDITIONAL NONIDEAL EFFECTS Objective: • Discuss and analyze additional nonideal effects. Two additional nonideal effects in op-amps are: temperature effects and common- mode rejection ratio. We will look at each of these in this section. 14.6.1 Temperature Effects Individual transistor parameters are functions of temperature. For bipolar transistors, the collector current is i = I evB E /VT CS (14.84) where both IS and VT are functions of temperature. We expect the open-loop gain to vary with temperature, but as we saw in Section 14.2, the fractional change in the closed-loop gain is orders of magnitude less than the fractional change in the open- loop gain. This then makes the closed-loop gain very insensitive to temperature variations. Offset Voltage Temperature Coefficient Since the electrical properties of transistors are functions of temperature, the input offset voltage is also a function of temperature. The rate of change of offset voltage with temperature is defined as the temperature coefficient of offset voltage, or input offset voltage drift, and is given by dV TC = OS vO S (14.85) dT For a bipolar diff-amp input stage, the offset voltage, from Equation (14.59(b)), is VO S = VT ln(IS2/IS1) nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1046 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1046 Part 2 Analog Electronics The temperature variations of the IS parameters cancel; therefore, the offset voltage is directly proportional to the thermal voltage VT, which in turn is directly proportional to temperature. From Equation (14.59(b)), the temperature coefficient is then TCvO S = VO S (14.86) T where T is the absolute temperature. Thus, for VO S = 1 mV, the temperature coefficient is TCv = 1 mV/300 K ⇒ 3.3 μV/◦OS C. A change of 10 ◦C will therefore result in an offset voltage change of approximately 33 μV. The temperature coefficients of offset voltage listed in Table 14.1 are in the range of 10 to 15 μV/°C. Consequently, the offset voltage compensation techniques discussed previously are completely effective at only one temperature. As the device temperature drifts in either direction from the temperature at which the compensation network was designed, the offset voltage effect is not completely compensated. However, the offset voltage drift is substantially less than the initial offset voltage, so offset voltage compensation is still desirable. Input Offset Current Temperature Coefficient The input bias currents are functions of temperature. For example, the input bias current of a bipolar input stage has the same functional dependence as the collector current, as given by Equation (14.84). If the input devices are not matched, then an input offset current IOS exists, which is also a function of temperature. The input offset current temperature coefficient is dIOS/dT. For the 741 op-amp, the maximum value given in Table 14.1 is 0.5 nA/°C. If the input offset current becomes a problem in a particular design, then a JFET of MOSFET input stage op-amp maybe required. 14.6.2 Common-Mode Rejection Ratio We considered the common-mode gain (Acm) and common-mode rejection ratio (CMRR) of the difference amplifier in Chapter 11. Since a diff-amp is the op-amp input stage, any common-mode signal produced at the input stage will propagate through the op-amp to the output. Therefore, the CMRR of the op-amp is essentially the same as the CMRR of the input diff-amp. Figure 14.30(a) shows the open-loop op-amp with a pure differential-mode input signal. The differential-mode gain Ad is the same as the open-loop gain AOL. Figure 14.30(b) shows the open-loop op-amp with a pure common-mode input signal. – – v + + d – 2 + vo = Advd + + vd + – + vo = Acmv v cm 2 – cm – – (a) (b) Figure 14.30 Open-loop op-amp (a) with pure differential-mode input signal and (b) with pure common-mode input signal nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1047 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1047 The common-mode reject∣∣ion ra∣∣tio, in dB, is CMRRdB = A 20 log ∣∣ d ∣ 10 ∣ (14.87) Acm Typical values of CMRRdB range from 80 to 100 dB. Table 14.1 lists typical CMRRdB values for three op-amps. 14.7 DESIGN APPLICATION: AN OFFSET VOLTAGE COMPENSATION NETWORK Objective: • Design an offset voltage compensation network for a CMOS diff amp. Specifications: An offset voltage compensation network is to be designed at the active load of a CMOS diff-amp. Design Approach: An offset voltage compensation network with the configuration shown in Figure 14.31 is to be designed. Assume both a 5 percent and 2 1 2 percent difference in conduction parameters between M1 and M2. This mismatch will demonstrate how the network can compensate for an offset voltage. Choices: For both M1 and M2, assume parameters VT N = 0.5 V, W/L = 20, and λn = 0.02 V−1. For M1, assume k ′ n1 = 80 μA/V2 and for M2, assume (i) k ′ n2 = 76 μA/V2 and then (ii) k ′ n2 = 78 μA/V2. A 50 k center-tapped potentiometer is available. 100 mA 100 mA + M1 M2 V + + DS2 VGS1 V – GS2 – – R1 = R2 = 1 kΩ 1 kΩ V – = –15 V RA RBI – xx 50 kΩ Figure 14.31 An offset voltage compensation network for the design application"
14.7 Design Application: An Offset Voltage Compensation Network,"14.7 DESIGN APPLICATION: AN OFFSET VOLTAGE COMPENSATION NETWORK Objective: • Design an offset voltage compensation network for a CMOS diff amp. Specifications: An offset voltage compensation network is to be designed at the active load of a CMOS diff-amp. Design Approach: An offset voltage compensation network with the configuration shown in Figure 14.31 is to be designed. Assume both a 5 percent and 2 1 2 percent difference in conduction parameters between M1 and M2. This mismatch will demonstrate how the network can compensate for an offset voltage. Choices: For both M1 and M2, assume parameters VT N = 0.5 V, W/L = 20, and λn = 0.02 V−1. For M1, assume k ′ n1 = 80 μA/V2 and for M2, assume (i) k ′ n2 = 76 μA/V2 and then (ii) k ′ n2 = 78 μA/V2. A 50 k center-tapped potentiometer is available. 100 mA 100 mA + M1 M2 V + + DS2 VGS1 V – GS2 – – R1 = R2 = 1 kΩ 1 kΩ V – = –15 V RA RBI – xx 50 kΩ Figure 14.31 An offset voltage compensation network for the design application nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1048 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: 1048 Part 2 Analog Electronics Solution (f(or M)1)(: We ′ ) can write that kW I = n1 D1 (VGS1 − V )2 TN (1 + λn V 2 DS1) L From the co(nnec)tion, we see that VGS1 = VDS1. Then 80 100 = (20)(VGS1 − 0.5)2 [1 + (0.02)V 2 GS1] We find that VGS1 = VDS1 = 0.8506 V Solution (for M2): Determine the variation in VDS2 as a function of x for the potentiometer setting. For x = 0.3 and k ′ 2 n2 = 76 μA/V , we have R′ 1 = 1‖35 = 0.97222 k and R′ 2 = 1‖15 = 0.93750 k Then V ′ ′ GS2 = VGS1 + ID1 R1 − ID2 R2 or VGS2 = 0.8506 + (0.1)(0.97222) − (0.1)(0.93750) so VGS2 = 0.85407 V Now ( ′ )( ) I = kn2 W D2 (V 2 GS2 − VT N ) (1 + λn VDS2)2 L or ( ) = 76 100 (20)(0.85407 − 0.5)2 [1 + (0.02)V 2 DS2] which yields VDS2 = 2.478 V Going through the same analysis, the results for other values of x are shown in the following table as well as the results fork ′ 2 n2 = 78 μA/V . k′ n2 = 76 μA/V2 k′ n2 = 78 μA/V2 x VDS2 (V) x VDS2 (V) 0.3 2.478 0.4 1.696 0.2 1.547 0.3 1.132 0.16 0.9370 0.26 0.8330 0.14 0.5311 0.22 0.4568 The results are plotted in Figure 14.32. nea80644_ch14_1009-1060.qxd 07/12/2009 3:45 Page 1049 pinnacle MHDQ-New:MHDQ134:MHDQ134-14: Chapter 14 Nonideal Effects in Operational Amplifier Circuits 1049 VDS2 (V) 3.0 2.5 2.0 kn′2 = 76 mA/V2 1.5 k ′ = 78 mA/V2 1.0 n2 0.5 0.1 0.2 0.3 0.4 x Figure 14.32 Change in drain-to-source voltage as the compensation network is varied Comment: By varying the voltage VDS2, the applied voltage to the second stage changes which in turn will change the dc voltage to the output stage. These results mean that eventually the output voltage can be adjusted to zero for zero input. We can note that if k ′ n2 > k ′ n1, then the value x of the potentiometer setting would be x > 0.5. 14.8 SUMMARY • In this chapter, nonideal effects in op-amp circuits, such as finite open-loop gain, offset voltage, and bias currents, were considered. • A finite open-loop amplifier gain results in the magnitudes of the inverting amplifier and noninverting amplifier gain being smaller than the ideal values. • A finite open-loop amplifier gain plus finite input amplifier resistance and nonzero output resistance results in nonideal op-amp input and output resistance values. • The practical op-amp circuit has a finite bandwidth. With negative feedback, the gain–bandwidth product is essentially constant, so an op-amp circuit with negative feedback has a reduced gain magnitude but an increased small-signal bandwidth. • Slew rate is defined as the maximum rate at which the op-amp output signal can change per unit time. In general, the slew rate is limited by the internal frequency compensation capacitor. The slew rate is also a function of the bias current in the input diff-amp stage. • An input offset voltage means that the output voltage is not zero when the input signal voltages are zero. One source of an offset voltage is a mismatch in the differential pair transistor parameters and/or mismatches inactive load transistor parameters. Typically, an offset voltage of a few millivolts may occur in a bipolar circuit, whereas an offset voltage of tens of millivolts may occur in a MOSFET circuit. • Input bias currents to an op-amp may range from a few picoamperes for FET input transistors to as high as a few microamperes for some bipolar input transistors. • Techniques for offset voltage compensation and input bias current compensation were analyzed. • As an application, an offset voltage compensation network was designed for a CMOS diff-amp."
14.8 Summary,"14.8 SUMMARY • In this chapter, nonideal effects in op-amp circuits, such as finite open-loop gain, offset voltage, and bias currents, were considered. • A finite open-loop amplifier gain results in the magnitudes of the inverting amplifier and noninverting amplifier gain being smaller than the ideal values. • A finite open-loop amplifier gain plus finite input amplifier resistance and nonzero output resistance results in nonideal op-amp input and output resistance values. • The practical op-amp circuit has a finite bandwidth. With negative feedback, the gain–bandwidth product is essentially constant, so an op-amp circuit with negative feedback has a reduced gain magnitude but an increased small-signal bandwidth. • Slew rate is defined as the maximum rate at which the op-amp output signal can change per unit time. In general, the slew rate is limited by the internal frequency compensation capacitor. The slew rate is also a function of the bias current in the input diff-amp stage. • An input offset voltage means that the output voltage is not zero when the input signal voltages are zero. One source of an offset voltage is a mismatch in the differential pair transistor parameters and/or mismatches inactive load transistor parameters. Typically, an offset voltage of a few millivolts may occur in a bipolar circuit, whereas an offset voltage of tens of millivolts may occur in a MOSFET circuit. • Input bias currents to an op-amp may range from a few picoamperes for FET input transistors to as high as a few microamperes for some bipolar input transistors. • Techniques for offset voltage compensation and input bias current compensation were analyzed. • As an application, an offset voltage compensation network was designed for a CMOS diff-amp. nea80644_ch14_1009-1060.qxd 07/15/2009 09:40 PM Page 1050 F506 Hard disk:Desktop Folder:ALI-07-15-09: 1050 Part 2 Analog Electronics CHECKPOINT After studying this chapter the reader should have the ability to: ✓ Understand differences between ideal and practical values of various parameters of the operational amplifier circuit. ✓ Understand the effect of a finite open-loop amplifier gain on the characteristics of the op-amp. ✓ Understand the small-signal frequency response and the large-signal slew-rate response of op-amps. ✓ Understand sources of offset voltage and design various offset voltage compensation circuits for op-amps. ✓ Understand input bias current effects and design input bias current compensation circuits for an op-amp. REVIEW QUESTIONS 1. List and describe five practical op-amp parameters and discuss the effect they have on op-amp circuit characteristics. 2. What is atypical value of open-loop, low-frequency gain of an op-amp circuit? How does this compare to the ideal value? 3. How does a finite open-loop gain affect the closed-loop gains of the inverting and noninverting amplifiers? 4. How does a finite open-loop gain affect the (a) input resistance of an op-amp circuit and (b) the output resistance of an op-amp circuit? Consider the inverting and noninverting amplifiers. 5. Describe the open-loop amplifier frequency response and define the unity-gain bandwidth. 6. What is atypical corner frequency value, or dominant-pole frequency, in the open-loop frequency response? 7. Describe the gain–bandwidth product property of a closed-loop amplifier response. 8. Define slew rate and define full-power bandwidth. 9. What is the primary source of slew-rate limitation in an op-amp circuit? 10. What is one cause of an offset voltage in the input stage of a BJT op-amp? 11. What is one cause of an offset voltage in the input stage of a CMOS op-amp? 12. Describe an offset voltage compensation technique. 13. What is the source of input bias current in the 741 op-amp? 14. What can be the effect of an input bias current? 15. Describe the effect of input bias currents on an integrator. 16. Describe an input bias current compensation technique. 17. Define and explain common-mode rejection ratio. PROBLEMS Section 14.1 Practical Op-Amp Parameters 14.1 An op-amp is connected in an inverting amplifier configuration with a voltage gain of −80 and is biased at ±5 V. If the output saturates at ±4.5 V, what is the maximum rms value of an input sine wave that can be applied without causing distortion in the output signal?"
Problems,
Chapter 15: Applications and Design of Integrated Circuits,"15: Applications and Design of Integrated Circuits 15 In Chapter 9, we introduced the ideal operational amplifier and analyzed and designed basic op-amp circuits. In this chapter, we consider additional applications and designs of op-amp and comparator circuits that maybe fabricated as integrated circuits. A comparator is essentially an op-amp operated in an open-loop configuration with either a high or low saturated output signal. Circuits to be considered include active filters, oscillators, Schmitt trigger circuits, integrated circuit power amplifiers, and voltage regulators. A general goal of this chapter is to increase our skill at designing electronic circuits to meet particular specifications and to perform particular functions. PREVIEW In this chapter, we will: • Analyze and design active filters that transmit desired frequency components of an input signal and attenuate undesired frequency components. • Analyze and design oscillators that provide sinusoidal signals at specified frequencies. • Analyze and design various Schmitt trigger circuits. • Analyze and design multivibrator circuits that provide signals with particular waveforms. • Analyze and design IC power amplifiers that usually consist of high-gain small-signal amplifiers in cascade with an output stage. • Analyze and design voltage regulators that establish a relatively constant dc voltage generated from an ac signal source. • As an application, design an active bandpass filter to meet a set of specifications. 1061 Chapter"
Preview,"PREVIEW In this chapter, we will: • Analyze and design active filters that transmit desired frequency components of an input signal and attenuate undesired frequency components. • Analyze and design oscillators that provide sinusoidal signals at specified frequencies. • Analyze and design various Schmitt trigger circuits. • Analyze and design multivibrator circuits that provide signals with particular waveforms. • Analyze and design IC power amplifiers that usually consist of high-gain small-signal amplifiers in cascade with an output stage. • Analyze and design voltage regulators that establish a relatively constant dc voltage generated from an ac signal source. • As an application, design an active bandpass filter to meet a set of specifications. 1061 Chapter nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1062 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1062 Part 2 Analog Electronics 15.1 ACTIVE FILTERS Objective: • Analyze and design active filters that transmit desired frequency components of an input signal and attenuate undesired frequency components. An important application of an op-amp is the active filter. The word filter refers to the process of removing undesired portions of the frequency spectrum. The word active implies the use of one or more active devices, usually an operational amplifier, in the filter circuit. As an example of the application of op-amps in the area of active filters, we will discuss the Butterworth filter. There are many types or classifications of filters. However, the objective here is to concentrate mainly on a single type (Butterworth) in order to demonstrate the use of op-amps in filter design. Additional types of filters are discussed in other references. Two advantages of active filters over passive filters are: 1. The maximum gain or the maximum value of the transfer function maybe greater than unity. 2. The loading effect is minimal, which means that the output response of the filter is essentially independent of the load driven by the filter. 15.1.1 Active Network Design From our discussions of frequency response in Chapter 7, we know that RC networks form filters. Figure 15.1(a) is a simple example of a coupling-capacitor circuit. The voltage transfer function for this circuit is = Vo(s) = Rs RC T (s) = (15.1) Vi (s) + 1 1 + s RC R sC The Bode plot of the voltage gain magnitude |T ( jω)| is shown in Figure 15.1(b). The circuit is called a high-pass filter. Figure 15.2(a) is another example of a simple RC network. Here, the voltage transfer function is 1 VT s = o(s) ( ) = sC = 1 (15.2) Vi (s) 1 + 1 + s RC R sC |T( jw)| Stopband Passband C 1 Vi Vo R 0 fL f (a) (b) Figure 15.1 (a) Simple high-pass filter and (b) Bode plot of transfer function magnitude"
15.1 Active Filters,"15.1 ACTIVE FILTERS Objective: • Analyze and design active filters that transmit desired frequency components of an input signal and attenuate undesired frequency components. An important application of an op-amp is the active filter. The word filter refers to the process of removing undesired portions of the frequency spectrum. The word active implies the use of one or more active devices, usually an operational amplifier, in the filter circuit. As an example of the application of op-amps in the area of active filters, we will discuss the Butterworth filter. There are many types or classifications of filters. However, the objective here is to concentrate mainly on a single type (Butterworth) in order to demonstrate the use of op-amps in filter design. Additional types of filters are discussed in other references. Two advantages of active filters over passive filters are: 1. The maximum gain or the maximum value of the transfer function maybe greater than unity. 2. The loading effect is minimal, which means that the output response of the filter is essentially independent of the load driven by the filter. 15.1.1 Active Network Design From our discussions of frequency response in Chapter 7, we know that RC networks form filters. Figure 15.1(a) is a simple example of a coupling-capacitor circuit. The voltage transfer function for this circuit is = Vo(s) = Rs RC T (s) = (15.1) Vi (s) + 1 1 + s RC R sC The Bode plot of the voltage gain magnitude |T ( jω)| is shown in Figure 15.1(b). The circuit is called a high-pass filter. Figure 15.2(a) is another example of a simple RC network. Here, the voltage transfer function is 1 VT s = o(s) ( ) = sC = 1 (15.2) Vi (s) 1 + 1 + s RC R sC |T( jw)| Stopband Passband C 1 Vi Vo R 0 fL f (a) (b) Figure 15.1 (a) Simple high-pass filter and (b) Bode plot of transfer function magnitude nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1063 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1063 |T( jw)| Passband Stopband R 1 Vi Vo C 0 fH f (a) (b) Figure 15.2 (a) Simple low-pass filter and (b) Bode plot of transfer function magnitude – – C Vo R Vo Vi + Vi + RC (a) (b) Figure 15.3 (a) High-pass filter with voltage follower and (b) low-pass filter with voltage follower The Bode plot of the voltage gain magnitude |T ( jω)| for this circuit is shown in Figure 15.2(b). This circuit is called a low-pass filter. Although these circuits both perform a basic filtering function, they may suffer from loading effects, substantially reducing the maximum gain from the unity value shown in Figures 15.1(b) and 15.2(b). Also, the cutoff frequencies fL and fH may change when a load is connected to the output. The loading effect can essentially be eliminated by using a voltage follower as shown in Figure 15.3. In addition, a noninverting amplifier configuration can be incorporated to increase the gain, as well as eliminate the loading effects. These two filter circuits are called one-pole filters; the slope of the voltage gain magnitude curve outside the passband is 6 dB/octave or 20 dB/decade. This characteristic is called the rolloff. The rolloff becomes sharper or steeper with higher-order filters and is usually one of the specifications given for active filters. Two other categories of filters are bandpass and band-reject. The desired ideal frequency characteristics are shown in Figure 15.4. |T( jw )| |T( jw )| 1 1 fL fH f fL fH f (a) (b) Figure 15.4 Ideal frequency characteristics: (a) bandpass filter and (b) band-reject filter nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1064 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1064 Part 2 Analog Electronics 15.1.2 General Two-Pole Active Filter Consider Figure 15.5 with admittances Y1 through Y4 and an ideal voltage follower. We will derive the transfer function for the general network and will then apply specific admittances to obtain particular filter characteristics. Y3 – Vb Vo Vi Y1 Y2 + Va Y4 Figure 15.5 General two-pole active filter A KCL equation at node Va yields (Vi − Va)Y1 = (Va − Vb)Y2 + (Va − Vo)Y3 (15.3) A KCL equation at node Vb produces (Va − Vb)Y2 = VbY4 (15.4) From the voltage follower characteristics, we have Vb = Vo . Therefore, Equation (15.4) be(comes = Y + ) ( ) Y Y V V 2 4 = V 2 + Y4 ab o (15.5) Y2 Y2 Substituting Equation (15.5) into (15.3) and again noting that Vb = Vo , we have Vi Y1 + Vo(Y2 + Y3) = Va((Y1 + Y2 +)Y3) = Y V 2 + Y4 o (Y1 + Y2 + Y3) (15.6) Y2 Multiplying Equation (15.6) by Y2 and rearranging terms, we get the following expression for the transfer function: = Vo(s) = Y1YT 2 (s) Vi (s) Y1Y2 + Y4(Y1 + Y2 + (15.7) Y3) To obtain a low-pass filter, both Y1 and Y2 must be conductances, allowing the signal to pass into the voltage follower at low frequencies. If element Y4 is a capacitor, then the output rolls off at high frequencies. To produce a two-pole function, element Y3 must also be a capacitor. On the other hand, if elements Y1 and Y2 are capacitors, then the signal will be blocked at low frequencies but will be passed into the voltage follower at high frequencies, resulting in a high-pass filter. Therefore, admittances Y3 and Y4 must both be conductances to produce a two-pole high-pass transfer function. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1065 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1065 15.1.3 Two-Pole Low-Pass Butterworth Filter To form a low-pass filter, we set Y1 = G1 = 1/R1, Y2 = G2 = 1/R2, Y3 = sC3, and Y4 = sC4, as shown in Figure 15.6. The transfer function, from Equation (15.7), becomes = Vo(s) = G1GT s 2 ( ) (15.8) Vi (s) G1G2 + sC4(G1 + G2 + sC3) C3 R 1 1 = R 1 – 2 = G1 G2 Vo Vi + C4 Figure 15.6 General two-pole low-pass filter At zero frequency, s = jω = 0 and the transfer function is = = G1GT s 0 2 ( ) = 1 (15.9) G1G2 In the high-frequency limit, s = jω → ∞ and the transfer function approaches zero. This circuit therefore acts as a low-pass filter. A Butterworth filter is a maximally flat magnitude filter. The transfer function is designed such that the magnitude of the transfer function is as flat as possible within the passband of the filter. This objective is achieved by taking the derivatives of the transfer function with respect to frequency and setting as many as possible equal to zero at the center of the passband, which is at zero frequency for the low- pass filter. Let G1 = G2 ≡ G = 1/R . The transfer function is then 1 2 1 T (s) = R( ) = + (15.10) 1 + 2 + 1 s RC4(2 + s RC ) sC sC 3 2 4 3 RR We define time constants at τ3 = RC3 and τ4 = RC4. If we then sets = jω, we obtain 1 1 T ( jω) = 1 + jωτ4(2 + = (15.11) jωτ3) (1 − ω2τ3τ4) + j (2ωτ4) The magnitude of the transfer function is therefore |T ( jω)| = [(1 − ω2τ τ )2 + (2ωτ )2]−1/2 3 4 4 (15.12) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1066 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1066 Part 2 Analog Electronics For a maximally flat filter (that is, a filter with a minimum rate of change), which defines a B∣∣ utterworth filter, we set d|T | ∣∣ = 0 (15.13) dω ω=0 Taking the derivative, we find d|T | = −1 [ ] [(1 − ω2τ3τ4) 2 + (2ωτ )2]−3/2 − 4ωτ 2 2 2 4 3τ4(1 − ω τ3τ4) + 8ωτ dω 4 (15.14) Setting th∣∣e deriva[tive equal to zero at ω = 0 yields d|T | ∣∣ = − ] 4ωτ3τ 2 2 4(1 − ω τ3τ4) + 8ωτ dω 4 ω=0 = 4ωτ4[−τ3(1 − ω2τ3τ4) + 2τ4] (15.15) Equation (15.15) is satisfied when 2τ4 = τ3, or C3 = 2C4 (15.16) For this condition, the transfer magnitude is, from Equation (15.12), | 1 T | = + (15.17) [1 4(ωτ )4]1/2 4 The 3 dB, or cutoff, frequency occurs when |T | = √ 1/ 2, or when 4(ω 4 3dBτ4) = 1. We then find that ω3 dB = 2π f3 dB = √1 = √ 1 (15.18) τ4 2 2RC4 In general, we can write the cutoff frequency in the form ω3 dB = 1 (15.19) RC Finally, comparing Equations (15.19), (15.18), and (15.16) yields C4 = 0.707C (15.20(a)) and C3 = 1.414C (15.20(b)) The two-pole low-pass Butterworth filter is shown in Figure 15.7(a). The Bode plot of the transfer function magnitude is shown in Figure 15.7(b). From Equation (15.17), the magnitude of the voltage transfer function for the two-pole low-pass Butterworth filter can be written as |T | = √ (1 ) (15.21) 4 1 + ff3 dB Equation (15.15) shows that the derivative of the voltage transfer function magnitude at ω = 0 is zero even without setting 2τ4 = τ3. However, the added condition of 2τ4 = τ3 produces the maximally flat transfer characteristics of the Butterworth filter. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1067 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1067 C3 = 1.414C |T( jw)| – RR V 1 o –12 dB/octave Vi + or –40 dB/decade C4 = 0.707C 0 1 ff 3dB = 2pRC (a) (b) Figure 15.7 (a) Two-pole low-pass Butterworth filter and (b) Bode plot, transfer function magnitude DESIGN EXAMPLE 15.1 Objective: Design a two-pole low-pass Butterworth filter for an audio amplifier application. Specifications: The circuit with the configuration shown in Figure 15.7(a) is to be designed such that the bandwidth is 20 kHz. Choices: An ideal op-amp is available and standard-valued resistors and capacitors must be used. Solution: From Equation (15.19), we have 1 f3 dB = 2π RC or = 1 = 1 RC × = 7.96 × 10−6 2π f3 dB 2π(20 103) If we let R = 100 k, then C = 79.6 pF, which means that C3 = 1.414C = 113 pF and C4 = 0.707C = 56.3 pF. Tradeoffs: Standard-valued 100 k resistors can be used. Standard-valued C3 = 120 pF and C4 = 56 pF capacitors can be used. For these elements, a bandwidth of 20.1 kHz is obtained. Comment: These resistance and capacitance values are generally too large to be fabricated conveniently on an IC. Instead, discrete resistors and capacitors, in conjunction with the IC op-amp, would need to be used. EXERCISE PROBLEM Ex 15.1: Design a two-pole low-pass Butterworth filter with a bandwidth of 25 kHz. The largest capacitor value to be used is 50 pF. (Ans. Set C3 = 50 pF, then C4 = 25 pF, R = 180 k) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1068 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1068 Part 2 Analog Electronics 15.1.4 Two-Pole High-Pass Butterworth Filter To form a high-pass filter, the resistors and capacitors are interchanged from those in the low-pass filter. A two-pole high-pass Butterworth filter is shown in Figure 15.8(a). The analysis proceeds exactly the same as in the last section, except that the derivative is set equal to zero at s = jω = ∞. Also, the two capacitors are set equal to each other. The 3 dB or cutoff frequency can be written in the general form 1 ω3 dB = 2π f3 dB = (15.22) RC R3 = 0.707R |T( jw)| 1 – +12 dB/ CC Vo octave Vi + or +40 dB/ R4 = 1.414R decade 1 ff 3dB = 2pRC (a) (b) Figure 15.8 (a) Two-pole high-pass Butterworth filter and (b) Bode plot, transfer function magnitude We find that R3 = 0.707 Rand R4 = 1.414 R . The magnitude of the voltage transfer function for the two-pole high-pass Butterworth is | 1 T | = √ ( ) (15.23) + f 4 1 3 dB f The Bode plot of the transfer function magnitude for the two-pole high-pass Butterworth filter is shown in Figure 15.8(b). 15.1.5 Higher-Order Butterworth Filters The filter order is the number of poles and is usually dictated by the application requirements. An N-pole active low-pass filter has a high-frequency rolloff rate of N × 6 dB/octave. Similarly, the response of an N-pole high-pass filter increases at a rate of N × 6 dB/octave, up to the cutoff frequency. In each case, the 3 dB frequency is defined as = 1 f3 dB (15.24) 2π RC nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1069 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1069 The magnitude of the voltage transfer function for a Butterworth Nth-order low- pass filter is | | = √ (1 T ) (15.25) f 2N 1 + f3 dB For a Butterworth Nth-order high-pass filter, the voltage transfer function magnitude is |T | = √ (1 ) (15.26) 2N 1 + f3 dB f Figure 15.9(a) shows a three-pole low-pass Butterworth filter. The three resistors are equal, and the relationship between the capacitors is found by taking the first and second derivatives of the voltage gain magnitude with respect to frequency and setting those derivatives equal to zero at s = jω = 0. Figure 15.9(b) shows a three-pole high-pass Butterworth filter. In this case, the three capacitors are equal and the relationship between the resistors is also found through the derivatives. Higher-order filters can be created by adding additional RC networks. However, the loading effect on each additional RC circuit becomes more severe. The usefulness of active filters is realized when two or more op-amp filter circuits are cascaded to C1 = 3.546C – RR R Vo Vi + C2 = 1.392CC3 = 0.2024C (a) RR 1 = 3.546 – CC C Vo Vi + RR R 2 = R = 1.392 3 0.2024 (b) Figure 15.9 (a) Three-pole low-pass Butterworth filter and (b) three-pole high-pass Butterworth filter nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1070 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1070 Part 2 Analog Electronics C3 = 2.613CC1 = 1.082C – – RR Vo RR + Vi + C4 = 0.3825CC2 = 0.9241C (a) RR 3 = 2.613 R1 = R 1.082 – – CC Vo CC + Vi + R4 = R 0.3825 R2 = R 0.9241 (b) Figure 15.10 (a) Four-pole low-pass Butterworth filter and (b) four-pole high-pass Butterworth filter produce one large higher-order active filter. Because of the low output impedance of the op-amp, there is virtually no loading effect between cascaded stages. Figure 15.10(a) shows a four-pole low-pass Butterworth filter. The maximally flat response of this filter is not obtained by simply cascading two two-pole filters. The relationship between the capacitors is found through the first three derivatives of the transfer function. The four-pole high-pass Butterworth filter is shown in Figure 15.10(b). Higher-order filters can be designed but are not considered here. Bandpass and band-reject filters use similar circuit configurations. 15.1.6 Switched-Capacitor Filter The results of Example 15.1 demonstrated that discrete resistors and capacitors maybe needed inactive filters, since the required resistance and capacitance values are too large to be conveniently fabricated on a monolithic IC chip. Large-value resistors (R > 10 k) require a large chip area, and the absolute-value tolerance is difficult to maintain. In addition, the maximum capacitance for a monolithic IC capacitor is approximately 100 pF, which is also limited by the large chip area required and the absolute-value tolerance. In these cases, accurate RC time constants maybe difficult to maintain. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1071 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1071 Conventional active filters usually combine an IC op-amp and discrete resistors and capacitors. However, even with discrete resistors and capacitors, standard components may not be available for the design of a specific cutoff frequency. Design accuracy for a specific cutoff frequency may therefore have to be sacrificed. Switched-capacitor filters have the advantage of an all-IC circuit. The filter uses small capacitance values and realizes large effective resistance values by using a combination of capacitors and MOS switching transistors. The Basic Principle of the Switched Capacitor Figure 15.11 shows a simple circuit in which voltages V1 and V2 are applied at the R terminals of a resistance R. The current in the resistor is + I + = V1 − V2 V1 V2 I (15.27(a)) – – R The resistance is therefore R = V1 − V2 (15.27(b)) Figure 15.11 Voltages I applied to resistor terminals, Since the current is the rate of charge flow, Equation (15.27(b)) states that the resis- and the current tance is a voltage difference divided by the rate of charge flow. We use this basic definition in switched-capacitor circuits. The circuit in Figure 15.12(a) consists of two MOSFETs and a capacitor. A two- phase clock provides complementary but nonoverlapping φ1 and φ2 gate pulses, as shown in Figure 15.12(b). When a clock pulse is high, the corresponding transistor turns on; when the gate pulse is low, the transistor is off. f1 f2 V M1 M 1 2 V f 2 1 TC Cf2 (a) (b) Figure 15.12 (a) Capacitor with two switching MOSFETs and (b) two-phase clock pulses When φ1 goes high, M1 turns on and capacitor C charges up to V1. When φ2 goes high, M2 turns on and capacitor C discharges to V2 (assuming V1 > V2). The amount of charge transferred during this process is Q = C(V1 − V2) and the transfer occurs during one clock period TC . The equivalent current is then QC(VI = = 1 − V2) = V − V eq fCC(V1 − V 1 2 2) = (15.28) TC TC Req where fC is the clock frequency and Req is the equivalent resistance given by Req = 1 (15.29) fCC nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1072 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1072 Part 2 Analog Electronics Using this technique, we can simulate an equivalent resistance by alternately charging and discharging a capacitor between two voltage levels. A large equivalent resistance can be simulated by using a small capacitance and an appropriate clock frequency. The circuit in Figure 15.12(a) is therefore called a switched-capacitor circuit. EXAMPLE 15.2 Objective: Determine the clock frequency required to simulate a specific resistance. Consider the switched-capacitor circuit in Figure 15.12(a). Assume a capacitance of C = 20 pF. Determine the clock frequency required to simulate a 1 M resistance. Solution: From Equation (15.29), we find that fC = 1 = 1 × − ⇒ 50 kHz CR 12 6 eq (20 10 )(10 ) Comment: Avery large resistance can be readily simulated by a small capacitance and a reasonable clock frequency. EXERCISE PROBLEM Ex 15.2: Consider the switched-capacitor circuit in Figure 15.12(a). (a) If the clock frequency is fC = 100 kHz and C = 1.2 pF, what is the value of the simulated resistance? (b) A 50 M resistor is to be simulated using a clock frequency of fC = 50 kHz. What is the required value of capacitor? (Ans. (a) Req = 8.33 M, (b) C = 0.4 pF) Various classes of active filters, such as low-pass, high-pass, bandpass, and band-reject circuits, can be implemented by the switched-capacitor technique, which then results in an all-capacitor filter circuit. Example of Switched-Capacitor Filter Consider the one-pole low-pass filter in Figure 15.13(a). The transfer function is V (s) R 1 To (s) = = − F + (15.30) Vin(s) R1 1 s RF CF f1 f2 RFC2 f1 f2 CF R CF 1 v – vin – in v v o o C + 1 + (a) (b) Figure 15.13 (a) One-pole low-pass filter and (b) equivalent switched-capacitor circuit nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1073 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1073 and the cutoff frequency is = 1 f3 dB (15.31) 2π RF CF If a 10 kHz cutoff frequency is required and if CF = 10 pF, then the RF resistance required is approximately 1.6 M. In addition, if again of −10 is desired, then resistance R1 must be 160 k. The equivalent switched-capacitor filter is shown in Figure 15.13(b). The transfer function is still given by Equation (15.30), where RFeq = 1/( fCC2) and R1eq = 1/( fCC1). The transfer function is then = − (1/ f CT j C 2) · 1 = −C1 ( ω) · 1 (15.32) (1/ fCC1) + (2π f )CC f 1 j F 2 1 + j fCC2 f3 dB The low-frequency gain is −C1/C2, which is just the ratio of two capacitances, and the 3 dB frequency is f3 dB = ( fCC2)/(2πCF) which is also proportional to the ratio of two other capacitances. For MOS IC capacitance values of approximately 10 pF, the ratio tolerance is on the order of 0.1 percent. This means that switched-capacitor filter characteristics can be precisely controlled. DESIGN EXAMPLE 15.3 Objective: Design a one-pole low-pass switched capacitor filter to meet a set of specifications. Specifications: The circuit with the configuration shown in Figure 15.13(b) is to be designed such that the low-frequency gain is −1 and the cutoff frequency is 1 kHz. Choices: An ideal op-amp is available and standard-valued capacitors are to be used. Solution: From Equation (15.32), the low-frequency gain is −(C1/C2), and the capacitance ratio must be (C1/C2) = 1. From Equation (15.32), the cutoff frequency is f Cf C 2 3 dB = 2πCF If we set the clock frequency to fC = 10 kHz, then C2 = 2π f3 dB = 2π(103) × = 0.628 CF fC 10 103 Tradeoffs: We can use standard-valued capacitors C1 = C2 = 75 pF. We would need CF = C2/0.628 = 75/0.628 = 119.4 pF. A standard-valued capacitor CF = 120 pF can be used. Comment: Since the low-frequency gain and cutoff frequency are both functions of capacitor ratios, the absolute capacitor values can be designed for compatibility with IC fabrication. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1074 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1074 Part 2 Analog Electronics EXERCISE PROBLEM Ex 15.3: For the switched-capacitor circuit in Figure 15.13(b), the parameters are: C1 = 30 pF, C2 = 5 pF, and CF = 12 pF. The clock frequency is 100 kHz. Determine the low-frequency gain and the cutoff frequency. (Ans. −C1/C2 = −6, f3 dB = 6.63 kHz) This discussion of switched-capacitor filters is a short introduction to the topic and is intended only to show another application of operational amplifiers. Switched- capacitor filters are “sampled-data systems”; that is, the analog input signal is not transmitted through the circuit as a continuous signal but passes through the system as a series of pulses. The equivalent resistance given by Equation (15.29) is valid only for clock frequencies much greater than the analog input signal frequency. Switched-capacitor systems can be analyzed and designed by z-transform techniques. Test Your Understanding TYU 15.1 (a) Design a three-pole high-pass Butterworth active filter with a cutoff frequency of 200 Hz and a unity gain at high frequency. (b) Using the results of part (a), determine the magnitude of the voltage transfer function at (i) f = 100 Hz and (ii) f = 300 Hz. (Ans. (a) Let C = 0.01 μF, then R1 = 22.44 k, R2 = 57.17 k, R3 = 393.2 k; (b) (i) |T | = 0.124 → −18.1 dB, (ii) |T | = 0.959 → −0.365 dB) TYU 15.2 (a) Design a four-pole low-pass Butterworth active filter with a 3 dB frequency of 30 kHz. (b) Determine the frequency at which the voltage transfer function magnitude is 99 percent of its maximum value. (Ans. (a) Let R = 100 k, then C1 = 57.4 pF, C2 = 49.02 pF, C3 = 138.6 pF, C4 = 20.29 pF; (b) f = 18.43 kHz) TYU 15.3 One-, two-, three-, and four-pole low-pass Butterworth active filters are all designed with a cutoff frequency of 10 kHz and unity gain at low frequency. Determine the voltage transfer function magnitude, in dB, at 12 kHz for each filter. (Ans. −3.87 dB, −4.88 dB, −6.0 dB, and −7.24 dB) TYU 15.4 Simulate a 25 M resistance using the circuit in Figure 15.12(a). What capacitor value and clock frequency are required? (Ans. For example, for fC = 50 kHz, then C = 0.8 pF) 15.2 OSCILLATORS Objective: • Analyze and design oscillators that provide sinusoidal signals at specified frequencies. In this section, we will look at the basic principles of sine-wave oscillators. In our study of feedback in Chapter 12, we emphasized the need for negative feedback to provide a stable circuit. Oscillators, however, use positive feedback and, therefore, are actually nonlinear circuits in some cases. The analysis and design of oscillator circuits are divided into two parts. In the first part, the condition and frequency for oscillation are determined; in the second part, means for amplitude control is addressed. We consider only the first step in this section to gain insight into the basic operation of oscillators."
15.2 Oscillators,"15.2 OSCILLATORS Objective: • Analyze and design oscillators that provide sinusoidal signals at specified frequencies. In this section, we will look at the basic principles of sine-wave oscillators. In our study of feedback in Chapter 12, we emphasized the need for negative feedback to provide a stable circuit. Oscillators, however, use positive feedback and, therefore, are actually nonlinear circuits in some cases. The analysis and design of oscillator circuits are divided into two parts. In the first part, the condition and frequency for oscillation are determined; in the second part, means for amplitude control is addressed. We consider only the first step in this section to gain insight into the basic operation of oscillators. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1075 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1075 15.2.1 Basic Principles for Oscillation The basic oscillator consists of an amplifier and a frequency-selective network connected in a feedback loop. Figure 15.14 shows a block diagram of the fundamental feedback circuit, in which we are implicitly assuming that negative feedback is employed. Although actual oscillator circuits do not have an input signal, we initially include one here to help in the analysis. In previous feedback circuits, we assumed the feedback transfer function β was independent of frequency. In oscillator circuits, however, β is the principal portion of the loop gain that is dependent on frequency. For the circuit shown, the ideal closed-loop transfer function is given by = A(s) Af (s) + (15.33) 1 A(s)β(s) ve vs + A vo – vfb Frequency selective network, b Figure 15.14 Block diagram of the fundamental feedback circuit and the loop gain of the feedback circuit is T (s) = A(s)β(s) (15.34) From our discussion of feedback in Chapter 12, we know that the loop gain T(s) is positive for negative feedback, which means that the feedback signal v f b subtracts from the input signal vs . If the loop gain T(s) becomes negative, then the feedback signal phase causes v f b to add to the input signal, increasing the error signal vε . If T (s) = −1, the closed-loop transfer function goes to infinity, which means that the circuit can have a finite output for a zero input signal. As T(s) approaches −1, an actual circuit becomes nonlinear, which means that the gain does not go to infinity. Assume that T (s) ≈ −1 so that positive feedback exists over a particular frequency range. If a spontaneous signal (due to noise) is created at vs in this frequency range, the resulting feedback signal v f bis in phase with vs , and the error signal vε is reinforced and increased. This reinforcement process continues at only those frequencies for which the total phase shift around the feedback loop is zero. Therefore, the condition for oscillation is that, at a specific frequency, we have T ( jωo) = A( jωo)β( jωo) = −1 (15.35) The condition that T ( jωo) = −1 is called the Barkhausen criterion. Equation (15.35) shows that two conditions must be satisfied to sustain oscillation: 1. The total phase shift through the amplifier and feedback network must be N × 360◦, where N = 0, 1, 2, . . . . 2. The magnitude of the loop gain must be unity. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1076 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1076 Part 2 Analog Electronics In the feedback circuit block diagram in Figure 15.14, we implicitly assume negative feedback. For an oscillator, the feedback transfer function, or the frequency- selective network, must introduce an additional 180 degree phase shift such that the net phase around the entire loop is zero. For the circuit to oscillate at a single frequency ωo, the condition for oscillation, from Equation (15.35), should be satisfied at only that one frequency. 15.2.2 Phase-Shift Oscillator An example of an op-amp oscillator is the phase-shift oscillator. One configuration of this oscillator circuit is shown in Figure 15.15. The basic amplifier of the circuit is the op-amp A3, which is connected as an inverting amplifier with its output connected to a three-stage RC filter. The voltage followers in the circuit eliminate loading effects between each RC filter stage. R2 – CR – C v A 2 2 – CA + v v 2 v3 Av 1 1 3 O (vI) + v1 + RR Figure 15.15 Phase-shift oscillator circuit with voltage-follower buffer stages The inverting amplifier introduces a −180 degree phase shift, which means that each RC network must provide 60 degrees of phase shift to produce the 180 degrees required of the frequency-sensitive feedback network in order to produce positive feedback. Note that the inverting terminal of op-amp A3 is at virtual ground; therefore, the RC network between op-amps A2 and A3 functions exactly as the other two RC networks. We assume that the frequency effects of the op-amps themselves occur at much higher frequencies than the response due to the RC networks. Also, to aid in the analysis, we assume an input signal (vI ) exists at one node as shown in the figure. The tr(ansfer func)tion of the first RC network is = s RC v1 + (vI ) (15.36) 1 s RC Since the RC networks are assumed to be identical, and since there is no loading effect of one( RC stage o)n another, we have v3 = s RC 3 + = β(s) (15.37) (vI ) 1 s RC where β(s) is the feedback transfer function. The amplifier gain A(s) in Equation (15.33) ∣∣and (∣∣15.34) is actually the magnitude of the gain, or vO RA 2 (s) = ∣∣ ∣∣ = (15.38) v3 R nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1077 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1077 The loop gain is then ( )( ) = = R2 s RC 3 T (s) A(s)β(s) + (15.39) R 1 s RC From Equation (15.35), the condition for oscillation is that |T ( jωo)| = 1 and the phase of T ( jωo) must be 180 degrees. When these requirements are satisfied, then vO will equal (vI ) and a separate input signal will not be required. If we sets(= j)ω, Equation (15.39) becomes R ( jωRC)3 T 2 ( jω) = (R )(1 + jωRC)3 = − R2 ( jωRC)(ωRC)2 − + − (15.40) R [1 3ω2 R2C2] jωRC[3 ω2 R2C2] To satisfy the condition T ( jωo) = −1, the imaginary component of Equation (15.40) must equal zero. Since the numerator is purely imaginary, the denominator must beco[me purely imag − 2 2 2] inary, or 1 3ωo RC = 0 which yields = √ 1 ωo (15.41) 3RC where ωo is the o(scilla)tion frequency. At this frequen(cy, E)qu(ati)on (15.40) becomes √ = − R2 ( j/√ 3)(1/3) = − RT j 2 1 ( ωo) (15.42) R 0 + ( j/ 3)[3 − (1/3)] R 8 Consequently, the condition T ( jωo) = −1 is satisfied when R2 = 8 (15.43) R Equation (15.43) implies that if the magnitude of the inverting amplifier gain is greater than 8, the circuit will spontaneously begin oscillating and will sustain oscillation. EXAMPLE 15.4 Objective: Determine the oscillation frequency and required amplifier gain for a phase-shift oscillator. Consider the phase-shift oscillator in Figure 15.15 with parameters C = 0.1 μF and R = 1 k. Solution: From Equation (15.41), the oscillation frequency is 1 1 fo = √ = √ = 919 Hz 2π 3RC 2π 3(103)(0.1 × 10−6) The minimum amplifier gain magnitude is 8 from Equation 15.43; therefore, the minimum value of R2 is 8 k. Comment: Higher oscillation frequencies can easily be obtained by using smaller capacitor values. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1078 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1078 Part 2 Analog Electronics EXERCISE PROBLEM Ex 15.4: Design the phase-shift oscillator shown in Figure 15.15 to oscillate at fo = 22.5 kHz. The minimum resistance to be used is 10 k. (Ans. Set R = 10 k, C = 408 pF, R2 = 80 k) Using Equation (15.36), we can determine the effect of each RC network in the phase-shift oscillator. At the oscillation frequency ωo, the transfer function of each RC network stage is √ jωo RC = ( j/ 3√) = √ j + + (15.44) 1 jωo RC 1 ( j/ 3) 3 + j which can be written in terms of the magnitude and phase, as follows: 1 ◦ √ + × 90 √ = 1 × [ − 90◦ − tan−1(0.577)] (15.45(a)) 3 1 tan 1(1/ 3) 2 or 1 × ( 90◦ − 1 30◦) = × 60◦ (15.45(b)) 2 2 As required, each RC network introduces a 60 degree phase shift, but they each also introduce an attenuation factor of ( 1 2 ) for which the amplifier must compensate. The two voltage followers in the circuit in Figure 15.15 need not be included in a practical phase-shift oscillator. Figure 15.16 shows a phase-shift oscillator without the voltage-follower buffer stages. The three RC network stages and the inverting amplifier are still included. The loading effect of each successive RC network complicates the analysis, but the same principle of operation applies. The analysis shows that the oscillation frequency is ωo = √ 1 (15.46) 6RC R2 CC CR – vO + RR Figure 15.16 Phase-shift oscillator circuit and the amplifier resistor ratio must be R2 = 29 (15.47) R in order to sustain oscillation. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1079 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1079 15.2.3 Wien-Bridge Oscillator Another basic oscillator is the Wien-bridge circuit, shown in Figure 15.17. The circuit consists of an op-amp connected in a noninverting configuration and two RC networks connected as the frequency-selecting feedback circuit. Again, we initially assume that an input signal exists at the noninverting terminals of the op-amp. Since the noninverting amplifier introduces zero phase shift, the frequency-selective feedback circuit must also introduce zero phase shift to create the positive feedback condition. R2 R1 – vx vO vy + (vI) CR Zs CR Zp Figure 15.17 Wien-bridge oscillator The loop gain is the product of the amplifier gain and the feedback transfer function, or ( )( ) R Zp T (s) = 1 + 2 + (15.48) R1 Zp Zs where Zp and Zs are the parallel and series RC network impedances, respectively. These impedances are Zp = R + (15.49(a)) 1 s RC and = 1 + s RC Zs (15.49(b)) sC Combining Equations (15.49(a)), (15.49(b)), and (15.48), we get an expression for the loop gain( function), [ ] RT s = 1 + 2 1 ( ) (15.50) R1 3 + s RC + (1/s RC) Since this circuit has no explicit negative feedback, as was assumed in the general network shown (in Figure) 15[.14, the condition for oscilla]tion is given by R 1 T 2 ( jωo) = 1 = 1 + + + (15.51) R1 3 jωo RC (1/jωo RC) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1080 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1080 Part 2 Analog Electronics Since T ( jωo) must be real, the imaginary component of Equation (15.51) must be zero; therefore, 1 jωo RC + = 0 (15.52(a)) jωo RC which gives the frequency of oscillation as 1 ωo = (15.52(b)) RC The magn(itude con)d(itio)n is then 1 = 1 + R2 1 (15.53(a)) R1 3 or R2 = 2 (15.53(b)) R1 Equation (15.53(b)) states that to ensure the startup of oscillation, we must have (R2/R1) > 2. DESIGN EXAMPLE 15.5 Objective: Design a Wien-bridge circuit to oscillate at a specified frequency. Specifications: Design the Wien-bridge oscillator shown in Figure 15.17 to oscillate at fo = 20 kHz. Choices: An ideal op-amp is available and standard-valued resistors and capacitors are to be used. Solution: The oscillation frequency given by Equation (15.52(b)) yields RC = 1 = 1 = 7.96 × 10−6 2π fo 2π(20 × 103) A 10 k resistor and 796 pF capacitor satisfy this requirement. Since the amplifier resistor ratio must be R2/R1 = 2, we could, for example, have R2 = 20 k and R1 = 10 k, which would satisfy the requirement. Tradeoffs: Standard-valued resistors R1 = 10 k and R2 = 20 k. In place of the ideal 796 pF capacitor, a standard-valued capacitor C = 800 pF can be used. The oscillation frequency would then be fo = 19.9 kHz. Element tolerance values should also be considered. Comment: As usual in any electronic circuit design, there is no unique solution. Reasonably sized component values should be chosen whenever possible. Computer Simulation Verification: A Computer simulation was performed using the circuit in Figure 15.18(a). Figure 15.18(b) shows the output voltage versus time. Since the ratio of resistances is R2/R1 = 22/10 = 2.2, the overall gain is greater than unity so the output increases as a function of time. This increase shows the oscillation nature of the circuit. Another characteristic of the circuit is shown in Figure 15.18(c). A 1 mV sinusoidal signal was applied to the input of R1 and the output voltage measured as the frequency was swept from 10 kHz to 30 kHz. The resonant nature of the circuit is observed. The oscillation frequency and the resonant frequency are both at approximately 18.2 kHz, which is below the design value of 20 kHz. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1081 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1081 R2 22 kΩ R1 2 11 – – V v1 5 V 10 kΩ v– + 3 v+ 1 + – 0 U v 4 1A 2 5 V 0 LM324 + CP RP CS 796 pF 10 kΩ RS 10 kΩ 796 pF 0 (a) VU1A (out) (mV) –173.8528 –173.8530 –173.8532 –173.8534 –173.8536 –173.8538 0 100 200 300 400 500 Time (ms) (b) VU1A (out) (mV) 40 30 20 10 0 10 20 30 40 50 60 70 90 Frequency (kHz) (c) Figure 15.18 (a) Circuit used in the computer simulation for Example 15.5, (b) output voltage versus time, and (c) output voltage versus input frequency If the capacitor in the circuit is reduced from 796 pF to 720 pF, the resonant frequency is exactly 20 kHz. This example is one case, then, when the design parameters need to be changed slightly in order to meet the design specifications. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1082 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1082 Part 2 Analog Electronics EXERCISE PROBLEM Ex 15.5: Design the Wien-bridge circuit in Figure 15.17 to oscillate at fo = 800 Hz. Assume R = R1 = 10 k. (Ans. C ∼= 0.02 μF, R2 = 20 k) 15.2.4 Additional Oscillator Configurations Oscillators that use transistors and LC tuned circuits or crystals in their feedback networks can be used in the hundreds of kHz to hundreds of MHz frequency range. Although these oscillators do not typically contain an op-amp, we include a brief discussion of such circuits for completeness. We will examine the Colpitts, Hartley, and crystal oscillators. Colpitts Oscillator The ac equivalent circuit of the Colpitts oscillator with an FET is shown in Figure 15.19. A circuit with a BJT can also be designed. A parallel LC resonant circuit is used to establish the oscillator frequency, and feedback is provided by a voltage divider between capacitors C1 and C2. Resistor R in conjunction with the transistor provides the necessary gain at resonance. We assume that the transistor frequency response occurs at a high enough frequency that the oscillation frequency is determined by the external elements only. Figure 15.20 shows the small-signal equivalent circuit of the Colpitts oscillator. The transistor output resistance ro can be included in R. A KCL equation at the output node yields Vo + Vo + + V gm V o gs = 0 (15.54) 1 R 1 sL + sC1 sC2 and a voltag⎛e divider pro⎞duces ⎜ V = ⎝⎜ 1 sC ⎟ 2 ⎟ gs ⎠ · Vo (15.55) 1 + sL sC2 Substitu[ting Equation (15.55) into (Equation (1)5].54), we find that 1 Vo gm + sC 2 2 + (1 + s LC2) + sC1 = 0 (15.56) RL Vo + RC2 Vgs RC1 gmVgs C – 2 C1 L Figure 15.19 The ac equivalent Figure 15.20 Small-signal equivalent circuit, MOSFET Colpitts oscillator circuit, MOSFET Colpitts oscillator nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1083 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1083 If we assume that oscillation has started, then Vo = 0 and can be eliminated from Equation (15.56). We then have 2 ( ) 3 + s LC s LC1C 2 2 + 1 s(C1 + C2) + gm + = 0 (15.57) RR Letti(ng s = jω, we obtain 2 ) gm + 1 − ω LC2 + jω[(C1 + C2) − ω2LC1C2] = 0 (15.58) RR The condition for oscillation implies that both the real and imaginary components of Equation (15.58) must be zero. From the imaginary component, the oscillation frequency is ωo = √ ( 1 ) (15.59) C1CL 2 C1 + C2 which is the resonant frequency of the LC circuit. From the real part of Equation (15.58), the condition for oscillation is ω2 o LC2 = 1 gm + (15.60) RR Combining Equations (15.59) and (15.60) yields C2 = gm R (15.61) C1 R where gm R is the magnitude of the gain. Equation (15.61) states that to initiate oscillations spontaneously, we must have gm R > (C2/C1). L2 L1 C Hartley Oscillator Figure 15.21 shows the ac equivalent circuit of the Hartley oscillator with a BJT. An FET can also be used. Again, a parallel LC resonant circuit establishes the oscil- Figure 15.21 The ac lator frequency, and feedback is provided by a voltage divider between inductors L1 equivalent, BJT Hartley and L . oscillator 2 The analysis of the Hartley oscillator is essentially identical to that of the Colpitts oscillator. The frequency of oscillation, neglecting transistor frequency effects, is ωo = √ 1 (15.62) (L1 + LL 2)C Equation (15.62) also assumes that rπ 1/(ωC2). Cs Cp Crystal Oscillator r A piezoelectric crystal, such as quartz, exhibits electromechanical resonance characteristics in response to a voltage applied across the crystal. The oscillations are very stable overtime and temperature, with temperature coefficients on the order of 1 ppm per ◦C. The oscillation frequency is determined by the crystal dimensions. This (a) (b) means that crystal oscillators are fixed-frequency devices. Figure 15.22 (a) Piezo- The circuit symbol for the piezoelectric crystal is shown in Figure 15.22(a), and electric crystal circuit symbol the equivalent circuit is shown in Figure 15.22(b). The inductance L can be as high as and (b) piezoelectric crystal a few hundred henrys, the capacitance Cs can be on the order of 0.001 pF, and the equivalent circuit nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1084 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1084 Part 2 Analog Electronics capacitance Cp can be on the order of a few pF. Also, the Q-factor can be on the order of 104, which means that the series resistance r can be neglected. The impedance of the equivalent circuit in Figure 15.22(b) is 1 s2 + (1/LC ) Zs (s) = · sC 2 p s + + (15.63) [(Cp Cs)/(LCsCp)] Equation (15.63) indicates that the crystal has two resonant frequencies, which are R very close together. At the series-resonant frequency fs , the reactance of the series branch is zero; at the parallel-resonant frequency fp , the reactance of the crystal approaches infinity. C2 C1 Between the resonant frequencies fs and fp , the crystal reactance is inductive, so the crystal can be substituted for an inductance, such as that in a Colpitts oscillator. Figure 15.23 shows the ac equivalent circuit of a Pierce oscillator, which is sim- Figure 15.23 Pierce ilar to the Colpitts oscillator in Figure 15.19 but with the inductor replaced by the oscillator in which the crystal. Since the crystal reactance is inductive over a very narrow frequency range, inductor in a Colpitts the frequency of oscillation is also confined to this narrow range and is quite constant oscillator is replaced by a relative to changes in bias current or temperature. Crystal oscillator frequencies are crystal usually in the range of tens of kHz to tens of MHz. Test Your Understanding TYU 15.5 Consider the phase-shift oscillator in Figure 15.16. The value of R is 15 k and the frequency of oscillation is fo = 20 kHz. Determine the values of C and R2. (Ans. C = 217 pF, R2 = 435 k) *TYU 15.6 For the Colpitts oscillator in Figure 15.19, assume parameters of L = 1 μH, C1 and C2 = 1 nF, and R = 4 k. Determine the oscillator frequency and the required value of gm . Is this value of gm reasonable for a MOSFET? Why? (Ans. fo = 7.12 MHz, gm = 0.25 mA/V) 15.3 SCHMITT TRIGGER CIRCUITS Objective: • Analyze and design various Schmitt trigger circuits. In this section, we will analyze another class of circuits that utilize positive feedback. The basic circuit is commonly called a Schmitt trigger, which can be used in the class of waveform generators called multivibrators. The three general types of multivibrators are: bistable, monostable, and astable. In this section, we will examine the bistable multivibrator, which has a comparator with positive feedback and has two stable states. We will discuss the comparator first, and will then describe various applications of the Schmitt trigger. 15.3.1 Comparator The comparator is essentially an op-amp operated in an open-loop configuration, as shown in Figure 15.24(a). As the name implies, a comparator compares two voltages"
15.3 Schmitt Trigger Circuits,"15.3 SCHMITT TRIGGER CIRCUITS Objective: • Analyze and design various Schmitt trigger circuits. In this section, we will analyze another class of circuits that utilize positive feedback. The basic circuit is commonly called a Schmitt trigger, which can be used in the class of waveform generators called multivibrators. The three general types of multivibrators are: bistable, monostable, and astable. In this section, we will examine the bistable multivibrator, which has a comparator with positive feedback and has two stable states. We will discuss the comparator first, and will then describe various applications of the Schmitt trigger. 15.3.1 Comparator The comparator is essentially an op-amp operated in an open-loop configuration, as shown in Figure 15.24(a). As the name implies, a comparator compares two voltages nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1085 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1085 vO VH +VS v1 – vO v2 + VL –V –d 0 +d S (v2 – v1) (a) (b) Figure 15.24 (a) Open-loop comparator and (b) voltage transfer characteristics, open-loop comparator to determine which is larger. The comparator is usually biased at voltages +VS and −VS , although other biases are possible. The voltage transfer characteristics, neglecting any offset voltage effects, are shown in Figure 15.24(b). When v2 is slightly greater than v1, the output is driven to a high saturated state VH ; when v2 is slightly less than v1, the output is driven to a low saturated state VL . The saturated output voltages VH and VL maybe close to the supply voltages +VS and −VS , respectively, which means that VL maybe negative. The transition region is the region in which the output voltage is in neither of its saturation states. This region occurs when the input differential voltage is in the range −δ < (v2 − v1) < +δ . If, for example, the open-loop gain is 105 and the difference between the two output states is (VH − VL) = 10 V, then 2δ = 10/105 = 10−4 V = 0.1 mV The range of input differential voltage in the transition region is normally very small. One major difference between a comparator and op-amp is that a comparator need not be frequency compensated. Frequency stability is not a consideration since the comparator is being driven into one of two states. Since a comparator does not contain a frequency compensation capacitor, it is not slew-rate-limited by the compensation capacitor as is the op-amp. Typical response times for the comparator output to change states are in the range of 30 to 200 ns. An expected response time for a 741 op-amp with a slew rate of 0.7 V/μs would be on the order of 30 μs, which is a factor of 1000 times greater. Figure 15.25 shows two comparator configurations along with their voltage transfer characteristics. In both, the input transition region width is assumed to be negligibly small. The reference voltage maybe either positive or negative, and the output saturation voltages are assumed to be symmetrical about zero. The crossover voltage is defined as the input voltage at which the output changes states. Two other comparator configurations, in which the crossover voltage is a function of resistor ratios, are shown in Figure 15.26. Input bias current compensation is also includ(ed in this )figure. Fr(om Figure) 15.26(a), we use superposition to obtain R2 R1 v+ = + VREF + + vI (15.64) R1 R2 R1 R2 The ideal crossover voltage occurs when v+ = 0, or R2VREF + R1vI = 0 (15.65(a)) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1086 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1086 Part 2 Analog Electronics vO VH v1 = VREF – VREF vO v vI 2 = vI + VL (a) vO VH v1 = vI – VREF vO v v2 = VI REF + VL (b) Figure 15.25 (a) Noninverting comparator circuit and (b) inverting comparator circuit vO VH R1 ⎜⎜R2 – v+ vO V R vI REF + – 2 V RR REF 1 1 V v LI R2 (a) R vO 1 VREF V RH 2 vI – vO + R vI – 2 V R ⎜⎜RR REF 1 2 1 VL (b) Figure 15.26 Other comparator circuits: (a) noninverting and (b) inverting which can be written as R2 vI = − VREF (15.65(b)) R1 The output goes high when v+ > 0. From Equation (15.64), we see that vo = High when vI is greater than the crossover voltage. A similar analysis produces the characteristics shown in Figure 15.26(b). Figure 15.27(a) shows one application of a comparator, to control streetlights. The input signal is the output of a photodetector circuit. Voltage vI is directly nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1087 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1087 v ′ Light Variable v ICC light vn v Photodetector v II – + – circuit vO Q V (b) REF t VREF + R vO D1 Relay (c) switch t (a) Figure 15.27 (a) Comparator circuit including input noise source, (b) input signal, and (c) output signal, showing chatter effect proportional to the amount of light incident on the photodetector. During the night, vI < VREF, and vO is on the order of VS = +15 V; the transistor turns on. The current in the relay switch then turns the streetlights on. During the day, the light incident on the photodetector produces an output signal such that vI > VREF. In this case, vO is on the order of −VS = −15 V, and the transistor turns off. Diode D1 is used as a protection device, preventing reverse-bias breakdown in the BE junction. With zero output current, the relay switch is open and the streetlights are off. At dusk and dawn, vI = VREF. The open-loop comparator circuit in Figure 15.27(a) may exhibit unacceptable behavior in response to noise in the system. Figure 15.27(a) shows the comparator circuit, with a variable light source, such as clouds causing the light intensity to fluctuate over a short period of time. A variable light intensity would be equivalent to a noise source vn in series with the signal source vI . If we assume that vI is increasing linearly with time (corresponding to dawn), then the total input signal v′ I versus time is shown in Figure 15.27(b). When v′ I > VREF, the output switches low; when v′ I < VREF, the output switches high, producing a chatter effect in the output signal as shown in Figure 15.27(c). This effect would turn the streetlights off and on over a relatively short time period. If the amplitude of the noise signal increases, the chatter effect becomes more severe. This chatter can be eliminated by using a Schmitt trigger. 15.3.2 Basic Inverting Schmitt Trigger The Schmitt trigger or bistable multivibrator uses positive feedback with a loop- gain greater than unity to produce a bistable characteristic. Figure 15.28(a) shows one configuration of a Schmitt trigger. Positive feedback occurs because the feedback resistor is connected between the output terminal and noninverting input terminal. Voltage v+, in terms of the output voltage, can be found by using a voltage divider equ(ation to yi)eld = R1 v+ vO (15.66) R1 + R2 nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1088 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1088 Part 2 Analog Electronics vO RV 1 TH = VH R1 ⎜⎜RR1 + R2 2 vI – v v + O + vI R1 R2 (a) (b) vO vO VTL VTH v v II RV 1 TL = V R1 + RL 2 (c) (d) Figure 15.28 (a) Schmitt trigger circuit, (b) voltage transfer characteristic as input voltage increases, (c) voltage transfer characteristic as input voltage decreases, and (d) net voltage transfer characteristics, showing hysteresis effect Voltage v+ does not remain constant; rather, it is a function of the output voltage. Input signal vI is applied to the inverting terminal. Voltage Transfer Characteristics To determine the voltage transfer characteristics, we assume that the output of the comparato(r is in ones)tate, namely vO = VH , which is the high state. Then = R1 v+ + VH (15.67) R1 R2 As long as the input signal is less than v+, the output remains in its high state. The crossover vo(ltage occur)s when vI = v+ and is defined as VT H . We have = RV 1 TH + VH (15.68) R1 R2 When vI is greater than VT H , the voltage at the inverting terminal is greater than that at the noninverting terminal. The differential input voltage (vI − VT H ) is amplified by the open-loop gain of the comparator, and the output switches to its low state, or vO = VL . V(oltage v+)then becomes R1 v+ = + VL (15.69) R1 R2 Since VL < VH , the input voltage vI is still greater than v+, and the output remains in its low state as vI continues to increase. This voltage transfer characteristic is shown in Figure 15.28(b). Implicit in these transfer characteristics is the assumption that VH is positive and VL is negative. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1089 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1089 Now consider the transfer characteristic as vI decreases. As long as vI is larger than v+ = [R1/(R1 + R2)]VL , the output remains in its low saturation state. The crossover vo(ltage now )occurs when vI = v+ and is defined as VT L . We have RV = 1 TL R1 + VL (15.70) R2 As vI drops below this value, the voltage at the noninverting terminal is greater than that at the inverting terminal. The differential voltage at the comparator terminals is amplified by the open-loop gain, and the output switches to its high state, or vO = VH . As vI continues to decrease, it remains less than v+; therefore, vO remains in its high state. This voltage transfer characteristic is shown in Figure 15.28(c). Complete Voltage Transfer and Bistable Characteristics The complete voltage transfer characteristics of the Schmitt trigger in Figure 15.28(a) combine the characteristics in Figures 15.28(b) and 15.28(c). These complete characteristics are shown in Figure 15.28(d). As shown, the crossover voltages depend on whether the input voltage is increasing or decreasing. The complete transfer characteristics therefore show a hysteresis effect. The width of the hysteresis is the difference between the two crossover voltages VT Hand VT L . The bistable characteristic of the circuit occurs around the point vI = 0, at which the output maybe in either its high or low state. The output remains in either state as long as vI remains in the range VT L < vI < VT H . The output switches states only if the input increases above VT H or decreases below VT L . EXAMPLE 15.6 Objective: Determine the hysteresis width of a particular Schmitt trigger. Consider the Schmitt trigger in Figure 15.28(a), with parameters R1 = 10 k and R2 = 90 k. Let VH = 10 V and VL = −10 V. Solution: Fr(om Equati)on (15.6(8), the upp)er crossover voltage is = RV 1 TH + VH = 10 (10) = 1 V R1 R2 10 + 90 and from Eq(uation (15).70), the( lower cro)ssover voltage is = R1 10 VT L + VL = + (−10) = −1 V R1 R2 10 90 The hysteresis width is therefore (VT H − VT L) = 2 V. Comment: The hysteresis width can be designed to be larger or smaller for specific applications by adjusting the voltage divider ratio of R1 and R2. EXERCISE PROBLEM Ex 15.6: Consider the comparator circuit in Figure 15.28(a). Assume high and low saturated output voltages of +9 V and −9 V, respectively. Design the circuit such that the crossover voltages are ±0.5 V. The minimum resistance is to be 10 k. (Ans. Set R1 = 10 k, then R2 = 170 k) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1090 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1090 Part 2 Analog Electronics The complete voltage transfer characteristics in Figure 15.28(d) show the inverting characteristics of this particular Schmitt trigger. When the input signal becomes sufficiently positive, the output is in its low state; when the input signal is sufficiently negative, the output is in its high state. Since the input signal is applied to the inverting terminal of the comparator, this characteristic is as expected. 15.3.3 Additional Schmitt Trigger Configurations A noninverting Schmitt trigger can be designed by applying the input signal to the network connected to the comparator noninverting terminal. Also, both crossover voltages of a Schmitt trigger circuit can be shifted in either a positive or negative direction by applying a reference voltage. We will study these general circuit configurations, the resulting voltage transfer characteristics, and an application of a Schmitt trigger circuit in this section. Noninverting Schmitt Trigger Circuit Consider the circuit in Figure 15.29(a). The inverting terminal is held essentially at ground potential, and the input signal is applied to resistor R1, which is connected to the comparator noninverting terminal. Voltage v+ at the noninverting terminal then becomes a function of both the input signal vI and the output voltage vO . Using superpositi(on, we find) that ( ) R2 R1 v+ = + vI + + vO (15.71) R1 R2 R1 R2 vO R1 ⎜⎜R2 – v v + O VTL VTH vI + v RI 1 R2 (a) (b) Figure 15.29 (a) Noninverting Schmitt trigger circuit and (b) voltage transfer characteristics If vI is negative, and the output is in its low state, then vO = VL (assumed to be negative), v+ is negative, and the output remains in its low saturation state. Crossover voltage vI = VT H occurs when v+ = 0 and vO = VL , or, from Equation (15.71), 0 = R2VT H + R1VL (15.72(a)) which can be w(ritte)n RV = − 1 TH VL (15.72(b)) R2 Since VL is negative, VT His positive. If we let vI = VT H + δ, where δ is a small positive voltage, the input voltage is just greater( than the c)rossover voltag(e and Equa)tion (15.71) becomes R2 R1 v+ = + (VT H + δ) + R1 R2 R1 + VL (15.73) R2 nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1091 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1091 Equation ((15.73) then) b(ecome)s ( ) ( ) = R2 −R1 v+ + VL + R2 R1 + δ + + VL (15.74(a)) R1 R2 R2 R1 R2 R1 R2 or ( ) v+ = R2 + δ > 0 (15.74(b)) R1 R2 When v+ > 0, the output switches to its high saturation state. The lower crossover voltage vI = VT L occurs when v+ = 0 and vO = VH . From Equation (15.71), we have 0 = R2 VT L + R1 VH (15.75(a)) which can be (writte)n VT L = − R1 VH (15.75(b)) R2 Since VH > 0, then VT L < 0. The complete voltage transfer characteristics are shown in Figure 15.29(b). We again note the hysteresis effect and the bistable characteristic around vI = 0. With vI sufficiently positive, the output is in its high state; with vI sufficiently negative, the output is in its low state. The circuit thus exhibits the noninverting transfer characteristic. Schmitt Trigger Circuits with Applied Reference Voltages The switching voltage of a Schmitt trigger is defined as the average value of VT Hand VT L . For the two circuits in Figure 15.28(a) and 15.29(a), the switching voltages are zero, assuming VT L = −VT H . In some applications, the switching voltage must be either positive or negative. Both crossover voltages can be shifted in either a positive or negative direction by applying a reference voltage. Figure 15.30(a) shows an inverting Schmitt trigger with a reference voltage VREF. The complete voltage transfer characteristics are shown in Figure 15.30(b). The switching voltage VS , assuming VH and VL are symmetrical about zero, is given by ( ) VS = R2 + VREF (15.76) R1 R2 vO VH R1 ⎜⎜R2 vI – V v vO TL VTH + + V VS vI REF R1 V RL 2 (a) (b) Figure 15.30 (a) Inverting Schmitt trigger circuit with applied reference voltage and (b) voltage transfer characteristics nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1092 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1092 Part 2 Analog Electronics Note that the switching voltage is not the same as the reference voltage. The upper and lower crossov(er voltages) are V = V + R1 TH S + VH (15.77(a)) R1 R2 and ( ) V = V + R1 TL S + VL (15.77(b)) R1 R2 A noninverting Schmitt trigger with a reference voltage is shown in Figure 15.31(a), and the complete voltage transfer characteristics are shown in Figure 15.31(b). The switching voltage VS , again assuming VH and VL are symmetrical about zero(, is given )by V = R 1 + 1 S VREF (15.78) R2 vO RV V 1 ⎜⎜R2 H REF – v v V + O TL VTH vI + V RS vI 1 VL R2 (a) (b) Figure 15.31 (a) Noninverting Schmitt trigger circuit with applied reference voltage and (b) voltage transfer characteristics and the upper and (lowe)r crossover voltages are V = RV − 1 TH S VL (15.79(a)) R2 and ( ) VT L = RV − 1 S VH (15.79(b)) R2 If the output saturation voltages are symmetrical such that VL = −VH , then the crossover voltages are symmetrical about the switching voltage VS . Schmitt Trigger Application Let us reconsider the streetlight control in Figure 15.27(a), which included a noise source. Figure 15.32(a) shows the same basic circuit, except that a Schmitt trigger is used instead of a simple comparator. The input signal vI is again assumed to increase linearly with time. The total input signal v′ I is vI with the noise signal superimposed, as shown in Figure 15.32(b). At time t1, the input signal becomes greater than the switching voltage VS . The output, however, does not switch, since v′ I < VT H . This means that the input signal is less than the upper crossover voltage. At time t2, the input signal becomes larger than the crossover voltage, or v′ I > VT H , and the output signal switches from its high to its low state. At time t3, the input signal drops below VS , but the output does not switch states since v′ I > VT L . This means that the input signal remains greater than nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1093 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1093 Light Variable ′ V vI light CC v v n I Photodetector vI – + – v VTH circuit O VS (b) VTL t VREF + Rt1 t2 t3 1 RR 2 vO D1 Relay (c) switch t (a) Figure 15.32 (a) Application of Schmitt trigger circuit including input noise source, (b) input signal, and (c) output signal, showing elimination of chatter effect the lower crossover voltage. The Schmitt trigger circuit thus eliminates the chatter effect that occurs in the output voltage in Figure 15.27(c). Elimination of the chatter in the output voltage response results directly from the hysteresis effect in the Schmitt trigger characteristics. DESIGN EXAMPLE 15.7 Objective: Design a Schmitt trigger circuit for the photodetector switch circuit. Specifications: The Schmitt trigger circuit with the configuration shown in Figure 15.32(a) is to be designed such that the switching voltage is VS = 2 V and the hysteresis width is 60 mV. Assume VH = 5 V and VL = −5 V. Choices: An ideal comparator is available and standard-valued resistors are to be used in the final design. Solution: The Schmitt trigger circuit is the inverting type, for which the voltage transfer characteristics are shown in Figure 15.30(b). From Equations (15.77(a)) and (15.77(b)), the hyste(resis width) is RV 1 TH − VT L = R1 + (VH − VL) R2 so ( ) ( ) = R 0 060 1 R . + [5 − 1 (−5)] = 10 R1 R2 R1 + R2 which yields R2/R1 = 165.7. We can find the reference voltage from Equation (15.76), whic(h can be )rewritte(n to obtain ) = + RV 1 1 REF VS = 1 + 1 (2) = 2.012 V R2 165.7 Resistor values of R1 = 100  and R2 = 16.57 k will satisfy the requirements. The crossover voltages are thus VT H = 2.03 V and VT L = 1.97 V. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1094 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1094 Part 2 Analog Electronics Tradeoffs: If we use standard-valued resistors R1 = 120  and R2 = 20 k, the hysteresis width is ( ) RV 1 TH − VT L = ( + )(VH − VL) R1 R2 = 0.12 0.12 + [5 − (−5)] → 59.6 mV 20 If we area(ble to use a) reference( voltage of 2).012 V, then the switching voltage is = R2 20 VS VREF = (2.012) = 2.0 V R1 + R2 0.12 + 20 Resistor tolerances will also affect the results, but will not be considered here. Comment: In this case, the output chatter effect is eliminated for noise signals with amplitudes lower than 30 mV. The hysteresis width can be adjusted up or down to fit specific application requirements in which the noise signal is larger or smaller than that given in this example. EXERCISE PROBLEM Ex 15.7: Redesign the streetlight control circuit shown in Figure 15.32(a) such that the switching voltage is VS = 1 V and the hysteresis width is 100 mV. Assume VH = +10 V and VL = −10 V. Also, find R such that I = 200 μA when vO = VH . Assume VB E(on) = 0.7 V and Vγ = 0.7 V, and assume the relay switch resistance is 100 . (Ans. R2/R1 = 199, VREF = 1.005 V, R = 42.9 k) 15.3.4 Schmitt Triggers with Limiters In the Schmitt trigger circuits we have thus far considered, the open-loop saturation voltages of the comparator may not be very precise and may also vary from one comparator to another. The output saturation voltages can be controlled and made more precise by adding limiter networks. A direct approach at limiting the output is shown in Figure 15.33. Two back-to- back Zener diodes are connected between the output and ground. Assuming the two diodes are matched, the output is limited to either the positive or negative value of (Vγ + VZ ), where Vγ is the forward diode voltage and VZ is the reverse Zener voltage. Resistor R is chosen to produce a specified current in the diodes. vO (Vg + VZ) – R vO v V VI + TL TH R1 DZ1 vI RD 2 Z2 – (Vg + VZ) (a) (b) Figure 15.33 (a) Schmitt trigger with Zener diode limiters and (b) voltage transfer characteristics nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1095 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1095 VREF 1 kΩ D1 v1 100 kΩ 1 kΩ v – v IO vO (VREF + 2V + g ) R 1 kΩ 1 RV 1 TH = (VREF + 2Vg ) v R 2 2 + R1 D2 1 kΩ vI RV 1 TL = – (V + 2V ) R2 + R REF g 1 –V R REF 2 – (VREF + 2Vg ) (a) (b) Figure 15.34 (a) Inverting Schmitt trigger with diode limiters and (b) voltage transfer characteristics Another Schmitt trigger with a limiter is shown in Figure 15.34(a). If we assume that vI = 0 and vO is in its high state, then D2 is on and D1 is off. Neglecting currents in the 100 k resistor, we have v2 = +Vγ , where Vγ is the forward diode voltage. We can write vO − v2 = v2 − (−VREF) (15.80) 1 1 Solving for vO yields vO = VREF + 2Vγ (15.81) which means that the output voltage can be controlled and can be designed more accurately. The ideal hysteresis characteristics for this Schmitt trigger are shown in Figure 15.34(b). As vI increases or decreases, a small current flows in the 100 k resistor, producing a nonzero slope in the voltage transfer characteristics. The slope is on the order of 1/100, which is quite small. Test Your Understanding TYU 15.7 A noninverting Schmitt trigger is shown in Figure 15.29(a) Its saturated output voltages are ±12 V. Design the circuit to obtain ±200 mV crossover voltages. The maximum resistance value is to be 200 k. (Ans. Set R2 = 200 k, then R1 = 3.33 k) TYU 15.8 For the Schmitt trigger in Figure 15.30(a), the parameters are: VREF = 2 V, VH = 10 V, VL = −10 V, R1 = 1 k, and R2 = 10 k: (a) Determine VS , VT H , and VT L . (b) Let vI be a triangular wave with a zero average voltage, a 10 V peak amplitude, and a 10 ms period. Sketch vO versus time over two periods. Label the appropriate voltages and times. (Ans. (a) VS = 1.82 V, VT H = 2.73 V, VT L = 0.91 V) TYU 15.9 Consider the Schmitt trigger in Figure 15.31(a). Let VH = 9 V and VL = −9 V. Design the circuit such that VS = −2 V and the hysteresis width is 0.5 V. The minimum resistance is to be 10 k. (Ans. Set R1 = 10 k, then R2 = 360 k, VREF = −1.946 V) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1096 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1096 Part 2 Analog Electronics 15.4 NONSINUSOIDAL OSCILLATORS AND TIMING CIRCUITS Objective: • Analyze and design multivibrator circuits that provide signals with particular waveforms. Many applications, especially digital electronic systems, use a nonsinusoidal square- wave oscillator to provide a clock signal for the system. This type of oscillator is called an astable multivibrator. In other applications, a single pulse of known height and width is used to initiate a particular set of functions. This type of oscillator is called a monostable multivibrator. First, we will examine the Schmitt trigger connected as an oscillator. Then we will analyze the 555 timer circuit. Although used extensively in digital electronic systems, these circuits are included here as comparator circuit applications. 15.4.1 Schmitt Trigger Oscillator R The Schmitt trigger can be used in an oscillator circuit to generate a square-wave out- X put signal. This is accomplished by adding an RC network to the negative feedback loop of the Schmitt trigger as shown in Figure 15.35. As we will see, this circuit has v – no stable states. It is therefore called an astable multivibrator. Xv CO Initially, we set R1 and R2 equal to the same value, or R1 = R2 ≡ R . We assume X + R that the output switches symmetrically about zero volts, with the high saturated out- 2 put denoted by VH = VP and the low saturated output denoted by VL = −VP . If vO is low, or vO = −VP , then v+ = −( 1 2 )VP . When vX drops just slightly below v+, the output switches high so that v = +V and v+ = +( 1 R OP 2 )VP . The RX CX network sees 1 a positive step-increase in voltage, so capacitor CX begins to charge and voltage vX starts to increase toward a final value of VP . Figure 15.35 Schmitt trigger The general equation for the voltage across a capacitor in an RC network is oscillator vX = vFinal + (vInitial − v −t/τ Final) e (15.82) where vInitial is the initial capacitor voltage at t = 0, vFinal is the final capacitor voltage at t = ∞, an(d τ is the tim)e constant. We can now write vX = V + −VP P − VP e−t/τx (15.83(a)) 2 or vX = VP − 3VP e−t/τx (15.83(b)) 2 where τx = RX CX . Voltage vX increases exponentially with time toward a final voltage VP . However, when vX becomes just slightly greater than v+ = +( 1 2 )VP , the output switches to its low state of vO = −VP and v+ = −( 1 2 )VP . The RX CX network sees a negative step change in voltage, so capacitor CX now begins to discharge and voltage vX starts to decrease toward a final value of −VP . We can now write [ ] = − + +V v VP − (−V ) e−(t−t1)/τx X PP (15.84(a)) 2"
15.4 Nonsinusoidal Oscillators and Timing Circuits,"15.4 NONSINUSOIDAL OSCILLATORS AND TIMING CIRCUITS Objective: • Analyze and design multivibrator circuits that provide signals with particular waveforms. Many applications, especially digital electronic systems, use a nonsinusoidal square- wave oscillator to provide a clock signal for the system. This type of oscillator is called an astable multivibrator. In other applications, a single pulse of known height and width is used to initiate a particular set of functions. This type of oscillator is called a monostable multivibrator. First, we will examine the Schmitt trigger connected as an oscillator. Then we will analyze the 555 timer circuit. Although used extensively in digital electronic systems, these circuits are included here as comparator circuit applications. 15.4.1 Schmitt Trigger Oscillator R The Schmitt trigger can be used in an oscillator circuit to generate a square-wave out- X put signal. This is accomplished by adding an RC network to the negative feedback loop of the Schmitt trigger as shown in Figure 15.35. As we will see, this circuit has v – no stable states. It is therefore called an astable multivibrator. Xv CO Initially, we set R1 and R2 equal to the same value, or R1 = R2 ≡ R . We assume X + R that the output switches symmetrically about zero volts, with the high saturated out- 2 put denoted by VH = VP and the low saturated output denoted by VL = −VP . If vO is low, or vO = −VP , then v+ = −( 1 2 )VP . When vX drops just slightly below v+, the output switches high so that v = +V and v+ = +( 1 R OP 2 )VP . The RX CX network sees 1 a positive step-increase in voltage, so capacitor CX begins to charge and voltage vX starts to increase toward a final value of VP . Figure 15.35 Schmitt trigger The general equation for the voltage across a capacitor in an RC network is oscillator vX = vFinal + (vInitial − v −t/τ Final) e (15.82) where vInitial is the initial capacitor voltage at t = 0, vFinal is the final capacitor voltage at t = ∞, an(d τ is the tim)e constant. We can now write vX = V + −VP P − VP e−t/τx (15.83(a)) 2 or vX = VP − 3VP e−t/τx (15.83(b)) 2 where τx = RX CX . Voltage vX increases exponentially with time toward a final voltage VP . However, when vX becomes just slightly greater than v+ = +( 1 2 )VP , the output switches to its low state of vO = −VP and v+ = −( 1 2 )VP . The RX CX network sees a negative step change in voltage, so capacitor CX now begins to discharge and voltage vX starts to decrease toward a final value of −VP . We can now write [ ] = − + +V v VP − (−V ) e−(t−t1)/τx X PP (15.84(a)) 2 nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1097 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1097 or v = − 3V V + P e−(t−t1)/τx X P (15.84(b)) 2 where t1 is the time at which the output switches to its low state. The capacitor voltage then decreases exponentially with time. When vX decreases to v+ = −( 1 2 )VP , the output again switches to its high state. The process continues to repeat itself, which means that this positive-feedback circuit oscillates producing a square-wave output signal. Figure 15.36 shows the output voltage vO and the capacitor voltage vX versus time. vO vO +VP Toward V VP P 2 vX v t t X 1 2 t3 t V v PX – 2 –VP v Toward O –VP Figure 15.36 Output voltage and capacitor voltage versus time for Schmitt trigger oscillator Time t1 can be found from Equation (15.83(b)) by setting t = t1 when vX = VP/2, or VP = − 3V VP e−t1/τx P (15.85) 2 2 Solving fort1, we find that t1 = τx ln 3 = 1.1RX CX (15.86) From a similar analysis using Equation (15.84(b)), we find that the difference between t2 and t1 is also 1.lRX CX ; therefore, the period of oscillation T is T = 2.2RX CX (15.87) and the frequency of oscillation is f = 1 = 1 (15.88) T 2.2RX CX As an example of an application of this circuit, a variable frequency oscillator is created by letting RX be a variable resistor. The duty cycle of the oscillator is defined as the percentage of time that the output voltage vO is in its high state. For the circuit just considered, the duty cycle is 50 percent, as seen in Figure 15.36. This is a result of the symmetrical output voltages +VP and −VP . If asymmetrical output voltages are used, then the duty cycle changes from the 50 percent value. DESIGN EXAMPLE 15.8 Objective: Design a Schmitt trigger oscillator for a specified frequency. Specifications: Assume that an ideal comparator is available. Use standard-valued resistors and capacitors in the final design. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1098 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1098 Part 2 Analog Electronics Consider the oscillator in Figure 15.35. Design the circuit to oscillate at fo = 1 kHz. Solution: Using Equation (15.88), we can write 1 RX CX = = 1 = 4.55 × 10−4 2.2 fo 2.2(103) If CX = 0.1 μF, then RX = 4.55 k. Tradeoffs: Using standard-valued elements with values of CX = 0.082 μF and RX = 5.6 k produces an oscillation frequency of 990 Hz, within 1% of the specified value. If element tolerance values are taken into account, a potentiometer may have to be used to produce the 1000 Hz oscillation frequency. Comment: A larger frequency of oscillation can easily be obtained by using a smaller capacitor value. EXERCISE PROBLEM *Ex 15.8: For the Schmitt trigger oscillator in Figure 15.35, the saturation output voltages are +10 V and −5 V. R1 = R2 = 20 k, RX = 50 k, and CX = 0.01 μF. Determine the frequency of oscillation and the duty cycle. Sketch vO and vX versus time over two periods of the oscillation. (Ans. f = 866 Hz, duty cycle = 39.7%) 15.4.2 Monostable Multivibrator A monostable multivibrator has one stable state, in which it can remain indefinitely if not disturbed. However, a trigger pulse can force the circuit into a quasi-stable state for a definite time, producing an output pulse with a particular height and width. The circuit then returns to its stable state until another trigger pulse is applied. The monostable multivibrator is also called a one-shot. A monostable multivibrator is created by modifying the Schmitt trigger oscillator as shown in Figure 15.37. A clamping diode D1 is connected in parallel with CX . In the stable state, the output is high and voltage vX is held low by the conducting diode D1. RX vX – v D1 CO X vY + RD 2 Z1 C v DI Z2 D2 R3 R1 Figure 15.37 Schmitt trigger monostable multivibrator nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1099 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1099 The trigger circuit is composed of the capacitor C , resistor R3, and diode D2, and is connected to the noninverting terminal of the comparator. The value of R3 is chosen to be much larger than R1, so that voltage vY is determined primarily by a voltage di(vider of R1)and R2. We then have R1 v ∼ Y = R1 + VP ≡ βVP (15.89) R2 where VP is the sum of the forward and breakdown voltages of DZ1 and DZ2, or VP = (Vγ 1 + VZ2). This voltage is the positive saturated output voltage. The circuit is triggered by a negative-going step voltage applied to capacitor C . This action forward-biases diode D2 and pulls the voltage vY below vX . Since the comparator then sees a larger voltage at the inverting terminal, the output switches to its low state of vO = −VP = −(Vγ 2 + VZ1) Voltage vY th(en becom)es v ∼ Y = − R1 + VP ≡ −βVP (15.90) R1 R2 causing D2 to become reverse biased, thus isolating the oscillator circuit from the input triggering network. The negative-step change in vO causes voltage vX to decrease exponentially with a time constant of τx = RX CX toward a final value of −VP . Diode D1 is reverse biased during this time. When vX drops just below the value of vY given by Equation (15.90), the output switches back to its positive saturated value of +VP . The capacitor voltage vX then starts to increase exponentially toward a final value of +VP . When vX reaches Vγ , diode D1 again becomes forward biased, vX is clamped at Vγ , and the output remains in its high state. The waveforms of vO and vX versus time are shown in Figure 15.38. After the output has switched back to its high state, the capacitor voltage vX must return to its quiescent value of vX = Vγ . This implies that there is a recovery time of (T ′ − T ) during which the circuit should not be retriggered. Fort > 0, voltage vX can be written in the same general form as Equation (15.82), as follows: v = −V −t/τx X P + (Vγ − (−VP))e (15.91) vX Toward vO +VP +VP vI T T 0 T ′ t Vg Vg 0 t Toward –VP 0 t –VP (a) (b) (c) Figure 15.38 Schmitt trigger monostable multivibrator voltages versus time (a) input trigger pulse, (b) capacitor voltage, and (c) output pulse nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1100 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1100 Part 2 Analog Electronics where τx = RX CX . At t = T , vX = −βVP and the output switches high. The pulse width is then [ + ] = 1 (V ln γ /VP) T τx − (15.92) (1 β) If we assume Vγ VP and if we let R1 = R2 such that β = 1/2, then the pulse width is T = 0.69τx . We can show that for Vγ VP and β = 1/2, the recovery time is (T ′ − T ) = 0.4τx . There are alternative circuits with shorter recovery times, but we will not consider them here. DESIGN EXAMPLE 15.9 Objective: Design a monostable multivibrator to produce a given pulse width. Specifications: The circuit with the configuration shown in Figure 15.37 is to be designed to produce an output pulse that is 1 μs wide. Assume parameters of VP = 10 V, Vγ = 0.7 V and R1 = R2 = 20 k. Choices: Assume an ideal comparator is available. Use standard-valued element values in the final design. Solution: Since Vγ VP and R1 = R2, then from Equation (15.92), we have T = 0.69τx or T 1 τx = RX CX = = = 1.45 μs 0.69 0.69 If RX = 10 k, then CX = 145 pF. Tradeoffs: Using standard-valued elements of RX = 10 k and CX = 150 pF produces a pulse width of 1.035 μs. Element tolerances must also be taken into account in the final design. Comment: In actual monostable multivibrator ICs, RX and CX are external elements to allow for variable times. EXERCISE PROBLEM *Ex 15.9: For the monostable circuit shown in Figure 15.37, the parameters are: VP = 12 V, Vγ = 0.7 V, CX = 0.1 μF, R1 = 10 k, and R2 = 90 k. (a) Find the value of RX that will result in a 50 μs output pulse. (b) Using the results of part (a), find the recovery time. (Ans. (a) RX = 3.09 k (b) 47.9 μs) 15.4.3 The 555 Circuit The 555 monolithic integrated circuit timer was first introduced by Signetics Corporation in 1972 in bipolar technology. It quickly became an industry standard for timing and oscillation functions. Many manufacturers produce aversion of a 555 IC, some in CMOS technology. The 555 is a general-purpose IC that can be used nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1101 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1101 for precision timing, pulse generation, sequential timing, time delay generation, pulse width modulation, pulse position modulation, and linear ramp generation. The 555 can operate in both astable and monostable modes, with timing pulses ranging from microseconds to hours. It also has an adjustable duty cycle and can generally source or sink output currents up to 200 mA. Basic Operation The basic block diagram of the 555 IC is shown in Figure 15.39(a). The circuit consists of two comparators, which drive an RS flip-flop, an output buffer, and a transistor that discharges an external timing capacitor. The actual circuit of an LM555 timer is shown in Figure 15.39(b). V+ (8) R3 5 kΩ Comparator 1 Reset (4) (6) + Threshold C1 – R Flip-flop Buffer R (5) 4 Ω QA (3) 5 k Control S Output voltage + C2 (2) – Trigger R5 Comparator 2 5 kΩ Discharge (7) transistor R Discharge 8 100 Ω Q14 (1) GND (a) Figure 15.39 (a) Basic block diagram, 555 IC timer circuit and (b) circuit diagram, LM555 timer circuit The RS flip-flop is a digital circuit that will be considered in detail in a later chapter. Here, we will describe only the basic digital function of the flip-flop, so that the operation of the 555 timer can be explained. When the input R is high and input Sis low, output Q̄ is high. The complementary state occurs when R is low and Sis high, producing a low Q̄ output. If both Rand S are low, then output Q̄ remains in its previous state. Comparator 1 is called the threshold comparator, which compares its input with an internal voltage reference set at ( 2 )V + 3 by the voltage divider R3, R4, and R5. When the input level exceeds this reference level, the threshold comparator output goes high, producing a high output at flip-flop terminal Q̄. This turns the discharge transistor on and an external timing capacitor (not shown in this figure) starts to discharge. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1102 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1102 Part 2 Analog Electronics 8 VCC R2 1 kΩ R11 Q 6.2 kΩ Q5 Q6 Q 22 11 R3 5 kΩ Q27 R6 Q 7.5 kΩ 28 R12 6 Q 3.9 kΩ Threshold 1 Q4 Q2 Q3 2 5 VCC R Q4 21Control 3 5 kΩ voltage Q17 RR7 1 1 34.7 kΩ GND 10 kΩ Q15 Q16 Output Q24 Q8 Q9 Q 2 20 Q Q 1 Trigger 7 10 V3 CC Q19 Q23 R10 Q 120 Ω 18 Q26 R Q 5 R8 R9 4 12 Q13 5 kΩ Q 100 kΩ 3.3 kΩ Reset 25 7 Discharge Q14 (b) Figure 15.39 (continued) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1103 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1103 The internal control voltage node is connected to an external terminal. This provides external control of the reference level, should the timing period need to be modified. When not inactive use, this terminal should be bypassed to ground with a 0.01 μF capacitor, to improve the circuit’s noise immunity. Comparator 2, called the trigger comparator, compares its input trigger voltage to an internal voltage reference set to ( 1 + 3 )V by the same voltage divider as before. When the output trigger level is reduced below this reference level, the trigger comparator output goes high, causing the RS flip-flop to reset. Output Q̄ goes low and the discharge transistor turns off. This comparator triggers on the leading edge of a negative- going input pulse. The output stage of the 555 IC is driven by output Q̄ of the RS flip-flop. This output is usually a totem-pole push–pull circuit, or a simple buffer, and is generally capable of sourcing or sinking 200 mA. An external reset input to the RS flip-flop overrides all other inputs and is used to initiate a new timing cycle by turning the discharge transistor on. The reset input must be less than 0.4 V to initiate a reset. When not actively in use, the reset terminal should be connected to V + to prevent a false reset. Monostable Multivibrator A monostable multivibrator, also called a one-shot, operates by charging a timing capacitor with a current set by an external resistance. When the one-shot is triggered, the charging network cycles only once during the timing interval. The total timing interval includes the recovery time needed for the capacitor to charge up to the threshold level. The external circuitry and connections for the 555 to be used as a one-shot multivibrator are shown in Figure 15.40. With a high voltage V + applied to the trigger input, the trigger comparator output is low, the flip-flop output Q̄ is high, the discharge transistor is turned on, and the timing capacitor C is discharged to nearly ground potential. The output of the 555 circuit is then low, which is the quiescent state of the one-shot. +VCC RA +VCC Reset Discharge Threshold + C v (t) 555 Output C + – Trigger vO Ground v + in – – Figure 15.40 The 555 circuit connected as a monostable multivibrator When a negative-going pulse is applied to the trigger input, the output of the trigger comparator goes high when the trigger pulse drops below ( 1 3 )V +. Output Q̄ goes low, which means that the output of the 555 goes high, and the discharge transistor turns off. The output of the 555 remains high even if the trigger pulse returns to its initial high value, because the reset input to the flip-flop is still low. The timing nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1104 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1104 Part 2 Analog Electronics capacitor charges up exponentially toward a final value of V + through resistor R. The capacitor voltage is given by v(t) = V +(1 − e−t/RC) (15.93) When v(t) = ( 2 )V + 3 , the threshold comparator output goes high, resetting the flip- flop. Output Q̄ then goes high and the output of the 555 goes low. The high output at Q̄ also turns on the discharge transistor, allowing the timing capacitor to discharge to near zero volts. The circuit thus returns to its quiescent state. The width of the output pulse is determined from Equation (15.93). If we set v(t)(= ()2 + 3 )V and t = T , then 2 V + = V + (1 − e−T/RC) (15.94) 3 Solving for T , we have T = RC ln(3) = 1.1 RC (15.95) The width of the output pulse is a function of only the external time constant RC ; it is independent of the supply voltage V + and any internal circuit parameters. The triggering input pulse must be of a shorter duration than T . The output pulse height is a function of V + as well as of the internal circuitry. For a bipolar 555, the output pulse amplitude is approximately 1.7 V below supply voltage V +. When the output is high and the timing capacitor is charging, another trigger input pulse will have no effect on the circuit. If desired, the circuit can be reset during this period by applying a low input to the reset terminal. The output will return to zero and will remain in this quiescent state until another trigger pulse is applied. DESIGN EXAMPLE 15.10 Objective: Design a 555 IC as a monostable multivibrator to produce a specified output pulse width. Specifications: The circuit with the configuration shown in Figure 15.40 is to be designed to produce an output pulse width of 100 μs. Choices: A 555 circuit is available. The final design is to use standard-valued elements. Consider the circuit in Figure 15.40. Let C = 15 nF. Solution: Using Equation (15.95), we find that = T = 100 × 10−6 R ⇒ 6.06 k 1.1C (1.1)(15 × 10−9) Tradeoffs: Using standard-valued element values of C = 12 nF and R = 7.5 k will produce an output pulse with a width of 99 μs. Element tolerances also need to be taken into account. Comment: To a very good approximation, the pulse width is a function of only the external resistor and capacitance values. A wide range of pulse widths can be obtained by changing these component values. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1105 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1105 EXERCISE PROBLEM Ex 15.10: Consider the 555 IC monostable multivibrator. (a) If R = 20 k and C = 0.012 μF, what is the resulting output pulse width? (b) Design the circuit to produce an output signal with a pulse width of 120 μs. (Ans. (a) T = 0.264 ms; (b) For example, set C = 0.01 μF, then R = 10.9 k) Astable Multivibrator Figure 15.41 shows atypical external circuit connection for the 555 operating as an astable multivibrator, also called a timer circuit or clock. The threshold input and trigger input terminals are connected together. In the astable mode, the timing capacitor C charges through RA = RB until v(t) reaches ( 2 3 )V +. The threshold comparator output then goes high, forcing the flip-flop output Q̄ to go high. The discharge transistor turns on, and the timing capacitor C discharges through RB and the discharge transistor. The capacitor voltage decreases until it reaches ( 1 3 )V +, at which point the trigger comparator switches states and sends Q̄ low. The discharge transistor turns off, and the timing capacitor begins to recharge. When v(t) reaches the threshold level of ( 2 )V + 3 , the cycle repeats itself. +VCC RA +VCC Reset Discharge RB 555 Output + Threshold Trigger vO + v Ground CC – – Figure 15.41 Astable multivibrator 555 circuit When the timing capacitor is charging, during the time 0 < t < TC , the capacitor voltage is 1 v(t) = V + + 2 V +(1 − e−t/τA) (15.96) 3 3 where τA = (RA + RB)C . At time t = TC , the capacitor voltage reaches the threshold level, or 2 1 2 v(T + + + −TC /τA C) = V = V + V (1 − e ) (15.97) 3 3 3 Solving Equation (15.97) for the timing capacitor charging time TC yields TC = τA ln(2) = 0.693(RA + RB)C (15.98) When the timing capacitor is discharging, during the time 0 < t ′ < TD , the capacitor voltage is 2 ′ v(t ′) = V +e−t /τB (15.99) 3 nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1106 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1106 Part 2 Analog Electronics where τ ′ B = RBC . At time t = TD , the capacitor voltage reaches the trigger level and 1 v(TD) = V + = 2 V +e−TD/τB (15.100) 3 3 Solving Equation (15.100) for the timing capacitor discharge time TD yields TD = τB ln(2) = 0.693RBC (15.101) The period T of the astable multivibrator cycle is the sum of the charging period TC and the discharging period TD . The frequency of oscillation is therefore = 1 = 1 = 1 f + + (15.102) T TC TD 0.693(RA 2RB)C The duty cycle is defined as the percentage of time the output is high during one period of oscillation. During the charging time TC , the output is high; during the discharging time, the output is low. The duty cycle is therefore = T Duty cycle C × R + R 100% = AB + × 100% (15.103) T RA 2RB Equation (15.103) shows that the duty cycle for this circuit is always greater than 50 percent. The duty cycle approaches 50 percent for RA RB and 100 percent for RB RA . Alternative circuits can provide duty cycles of less than 50 percent. DESIGN EXAMPLE 15.11 Objective: Design the 555 IC as an astable multivibrator for a specified frequency and duty cycle. Specifications: The circuit with the configuration in Figure 15.41 is to be designed such that the frequency is 50 kHz and the duty cycle is 75 percent. Choices: A 555 IC circuit is available. A capacitor with a value of C = 1 nF is also available. Solution: The frequency of oscillation, as given by Equation (15.102), is = 1 f 0.693(RA + 2RB)C Therefore, 1 1 RA + 2RB = = (0.693) f C (0.693)(50 × 103)(1 × − ⇒ 28.9 k 10 9) (15.104) The duty cycle, given by Equation (15.103), is R + R Duty cycle = 0.75 = AB RA + 2RB which yields RA = 2RB (15.105) Combining Equations (15.104) and (15.105), we find that RA = 14.5 k and RB = 7.23 k nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1107 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1107 Tradeoffs: If standard-valued resistors are required, then RA = 13 k and RB = 7.5 k would provide a frequency of 51.5 kHz and a duty cycle of 73.2 percent. Comment: A wide range of oscillation frequencies can be obtained by changing the resistance and capacitance values. EXERCISE PROBLEM Ex 15.11: The 555 IC is connected as an astable multivibrator. Let RA = 20 k, RB = 80 k, and C = 0.01 μF. Determine the frequency of oscillation and the duty cycle. (Ans. f = 802 Hz, duty cycle = 55.6%) Other Applications When the 555 is connected in the monostable mode, an external signal applied to the control voltage terminal will change the charging time of the timing capacitor and the pulse width. If the one-shot is triggered with a continuous pulse train, the output pulse width will be modulated by the external signal. This circuit is known as a pulse width modulator (PWM). A pulse position modulator can also be developed using the astable mode. A modulating signal applied to the control voltage terminal will vary the pulse position, which will be controlled by the modulating signal in a manner similar to the PWM. Finally, a linear ramp generator can be constructed, again using the 555 monostable mode. The normal charging pattern of the timing capacitor is exponential because of the RC circuit. If resistor R is replaced by a constant current source, a linear ramp will be generated. Test Your Understanding TYU 15.10 (a) The Schmitt trigger oscillator is shown in Figure 15.35. The saturated output voltages are ±5 V, and R1 = R2 = 15 k, RX = 20 k, and CX = 0.05 μF. Determine the frequency of oscillation and the duty cycle. (b) Changing only the value of RX from part (a), determine the value of RX such that the frequency of oscillation is f = 1.2 kHz. (Ans. (a) f = 454.5 Hz, 50% duty cycle; (b) RX = 7.576 k) TYU 15.11 Consider the monostable multivibrator in Figure 15.37 with parameters: VP = 8 V, Vγ = 0.7 V, CX = 0.01 μF, RX = 10 k, R1 = 20 k, and R2 = 40 k. Determine the output pulse width and recovery time. (Ans. T = 48.9 μs, t2 = 37.8 μs) TYU 15.12 Design the 555 IC as an astable multivibrator to deliver a 1 kHz signal with a 55 percent duty cycle. (Ans. For example, C = 0.01 μF, RA = 14.43 k, RB = 64.9 k) 15.5 INTEGRATED CIRCUIT POWER AMPLIFIERS Objective: • Analyze and design IC power amplifiers that usually consist of high-gain small-signal amplifiers in cascade with an output stage. Most IC power amplifiers consist of a high-gain small-signal amplifier cascaded with a class-AB output stage. Some IC power amplifiers area fixed-gain circuit with"
15.5 Integrated Circuit Power Amplifiers,"15.5 INTEGRATED CIRCUIT POWER AMPLIFIERS Objective: • Analyze and design IC power amplifiers that usually consist of high-gain small-signal amplifiers in cascade with an output stage. Most IC power amplifiers consist of a high-gain small-signal amplifier cascaded with a class-AB output stage. Some IC power amplifiers area fixed-gain circuit with nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1108 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1108 Part 2 Analog Electronics negative feedback incorporated on the chip, while others use a current gain output stage and negative feedback external to the chip. We consider three examples of IC power amplifiers in this section. 15.5.1 LM380 Power Amplifier The LM380 is a popular fixed-gain power amplifier capable of an ac power output up to 5 W. Figure 15.42 is a simplified circuit diagram of the amplifier. The input stage is a Darlington pair configuration composed of Q1 through Q4 and an active load formed by Q5 and Q6. V + (14) Q10 Q11 Q7 R1AD Ω 1 R 25 k 6 R2 0.5 Ω Bypass 25 kΩ Output (1) (8) R7 RD 0.5 Ω 1B 2 25 kΩ C Q F 8 R3 Q 1 kΩ 9 Q3 Q4 –ln (6) +ln Q1 Q2 (2) R Q Q 4 5 6 R5 Ω Ω Q 150 k 150 k 12 (7) Ground Figure 15.42 The LM380 power amplifier The input stage is biased by currents through resistors R1A , R1B , and R2. Transistor Q3 is biased by a current from power supply V +, through the diode-connected transistor Q10 and resistors R1A and R1B . Transistor Q4 is biased by a current from the output terminal through R2. For zero input voltages, the currents in Q3 and Q4 are nearly equal. Assuming matched input transistors and neglecting base currents, we find that = V + − 3VI E BC3 (15.106) R1A + R2A nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1109 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1109 and I = VO − 2VE BC4 (15.107) R2 Since IC3 = IC4, we can find the quiescent output voltage by combining Equations (15.106) and (15.107), or = + R2 + − = 1 1 VO 2V + E B + (V 3VE B) V + VE B (15.108) R1AR2B 2 2 The quiescent output voltage is approximately half the power supply voltage, which allows for a maximum output voltage swing and for maximum power to be delivered to a load. The feedback from the output to the emitter of Q4, through R2, stabilizes the quiescent output voltage at this value. The output signal of the diff-amp is the input signal to the base of Q12, which is connected in a common-emitter configuration in which Q11 acts as an active load. The output signal from the collector of Q12 is the input to the class-AB output stage, and capacitor CF provides frequency compensation. The class-AB complementary push-pull emitter-follower output stage comprises transistors Q7, Q8, and Q9 and diodes D1 and D2. Transistor Q7, which is the npn half of the push-pull output stage, sources current to the load. Transistors Q8 and Q9 operate as a composite pnp transistor, with the overall current gain equal to the product of the current gains of each transistor. This composite transistor is the pnp half of the push-pull output stage sinking current from the load. Diodes D1 and D2 provide the quiescent bias for class-AB operation. The closed-loop gain is determined from the ac equivalent circuit in Figure 15.43. A differential-input voltage is applied at the input, with Vid/2 applied at the noninverting terminal and −Vid/2 applied at the inverting terminal. An external bypass capacitor is connected at the node between R1A and R1B , putting this node at signal ground. The second stage and output stage are represented by amplifier A. The input impedance is assumed to be large, which means that the input current is assumed to be negligible. R = i ≈ o 1BR2 25 kΩ Vo V R3 = 1 kΩ id Vid Vo – V /2 ≈ – ≈ i + 2 2 RV 2 id R3 Q Q V 3 4 id Vid – Q1 Q2 + 2 2 Vid Vid R3 R3 ≈ A Q Q i o 5 6 Figure 15.43 The ac equivalent circuit, LM380 power amplifier nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1110 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1110 Part 2 Analog Electronics Since the input stage is an emitter-follower configuration, the signal voltage is approximately +Vid/2 at the emitter of Q4 and is approximately −Vid/2 at the emitter of Q3. Comparing the resistor values of R3 and R1B , we see the signal current in R1Bis negligible. The signal current in Q3 is equal to that in R3, and the current- mirror configuration of Q5 and Q6 implies that the current in Q6 is also Vid/R3. Summing the currents at the emitter of Q4, we obtain Vo − Vid/2 = Vid + Vid (15.109) R2 R3 R3 which yields the closed-loop voltage gain Vo = 1 + 2R2 =∼ 50 (15.110) Vid 2 R3 Equation (15.110) shows that the LM380 has a fixed gain of approximately 50. The LM380 is designed to operate in the range of 12–22 V from a single supply V +. The value of V + depends on the power requirements. Figure 15.44 shows the relationship between device dissipation, output power, and supply voltage for an 8  load. As the output signal increases, harmonic distortion in the sinusoidal signal increases because the output transistor is approaching the saturation region. The lines marked 3% and 10% are the points at which harmonic distortion reaches 3% and 10%, respectively. 3.5 V + 22 V 3.0 20 V 2.5 18 V 2.0 16 V 1.5 14 V 3% distortion level 1.0 12 V 10% distortion level 0.5 0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 Output power (W) Figure 15.44 LM380 power amplifier characteristics EXAMPLE 15.12 Objective: Determine the output voltage and conversion efficiency for an LM380 power amplifier. The required power for an 8  is to be 4 W, with minimum distortion in the output signal. Device dissipation (W) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1111 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1111 Solution: From the curves in Figure 15.44, for an output of 4 W, minimum distortion occurs when the supply voltage is a maximum, or V + = 22 V. For 4 W to be delivered to the 8  load, the peak output signal voltage is determined by V 2 2 P̄ = 4 = P = VP L 2RL 2(8) which yields VP = 8 V. The power dissipated in the device is 3 W, which means that the conversion efficiency is 4/(3 + 4) → 57 percent. Comment: A reduction in the harmonic distortion means that the conversion efficiency is less than the theoretical value of 78.5 percent for the class-B output stages. However, a conversion efficiency of 57 percent is still substantially larger than would be obtained in any class-A amplifier. EXERCISE PROBLEM Ex 15.12: The supply voltage to an LM380 power amplifier, as shown in Figure 15.42, is 12 V. With a sinusoidal input signal, an average output power of 1 W must be delivered to an 8  load. (a) Determine the peak output voltage and peak output current. (b) When the output voltage is at its peak value, calculate the instantaneous power being dissipated in Q7. (Ans. (a) VP = 4 V, Ip = 0.5 A (b) PQ = 4 W) 15.5.2 PA12 Power Amplifier The basic circuit diagram of the PA12 amplifier is shown in Figure 15.45. The input signal to the class-AB output stage is from a small-signal high-gain op-amp. The power supply voltages are in the range of 10 ≤ VS ≤ 50 V, the peak output current is in the range −15 ≤ IL ≤ +15 A, and the maximum internal power dissipation is 125 W. The output stage is a class-AB configuration using npn and pnp Darlington pair transistors. The bias for the output transistors is established by the VB E multiplier circuit composed of R1, R2, and Q4. Also, external feedback is required. DESIGN EXAMPLE 15.13 Objective: Design the supply voltage required in the PA12 power amplifier to meet a specific conversion efficiency. Specifications: The circuit with the configuration in Figure 15.45 has a load resistance of 10 . The required average power delivered to the load is 20 W. Determine the power supply voltage such that the conversion efficiency is 50 percent. Choices: The circuit shown in Figure 15.45 is available. Solution: √For an avera√ge of 20 W delivered to the load, the peak output voltage is Vp = 2RL P̄L = 2(10)(20) = 20 V nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1112 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1112 Part 2 Analog Electronics VS RD E1 2 Q1 Q2AR Q2BR3 –V R1 S RCL Q4 vO i RL CL RL +VS R2 R4 – Q6B Q6A + –VS –VS Figure 15.45 PA12 power amplifier and the peak load current is Vp Ip = = 20 = 2 A RL 10 Assuming an ideal class-B condition, for a 50 percent conversion efficiency, the average power supplied by each VS source must be 20 W. If we neglect power dissipation in the b(ias circ)uit, the average power supplied by each source is Vp PS = VS π RL and the required supply voltage is then VS = π RL PS = π(10)(20) = 31.4 V Vp 20 Tradeoffs: The required power supply must also be able to deliver the required current. For a power of 20 W delivered to the 10  load, the load current (rms value) by itself is 1.41 A. Comment: The actual conversion efficiency for class-AB operation is less than 50 percent. This reduced conversion efficiency ensures that harmonic distortion in the output signal is not severe. Computer Simulation Verification: A computer simulation analysis of the circuit in Figure 15.45 was performed. The supply voltages were set at ±31.4 V and the input sinusoidal signal was adjusted so that the peak sinusoidal output voltage was 19.7 V nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1113 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1113 across a 10  load resistor. For these settings, the bias supply currents were 1.971 A. The average power delivered by the supply voltage sources is 39.4 W, so that the conversion efficiency is 49.25 percent, which is just slightly below the design value of 50 percent. EXERCISE PROBLEM Ex 15.13: Consider the power amplifier in Figure 15.45. (a) Assume a load resistance of RL = 20  that must dissipate PL = 5 Wis connected to the output. Determine (i) the values Vp and Ip for the load and (ii) the required power supply voltage VS . (b) Repeat part (a) for RL = 8  and PL = 10 W. (Ans. (a) (i) Vp = 14.14 V, Ip = 0.707 A; (ii) VS = 22.2 V; (b) (i) Vp = 12.65 V, Ip = 1.58 A; (ii) VS = 19.9 V) 15.5.3 Bridge Power Amplifier Figure 15.46 shows a bridge power amplifier that uses two op-amps. Amplifier A1 is connected in a noninverting configuration; A2 is connected in an inverting configuration. The magnitudes of the two gains are equal to each other. The load, such as an audio speaker, is connected between the two output terminals and is floating. A sinusoidal input signal produces output voltages vo1 and vo2, which are equal in magnitude but 180 degrees out of phase. The voltage across the load is therefore twice as large as it would be if produced from a single op-amp. R2 R1 – A1 vO1 + v RI 4 RL R3 – A2 vO2 + Figure 15.46 Bridge power amplifier Test Your Understanding TYU 15.13 (a) Consider the bridge amplifier in Figure 15.46 with parameters R1 = R3 = 20 k, R2 = 40 k, R4 = 60 k, and RL = 500 . Assume the op- amps are biased at ±15 V and the peak output voltage of each op-amp is limited to ±12 V. Determine (i) the voltage gain of each op-amp circuit, (ii) the average power that can be delivered to the load, and (iii) the peak amplitude of the input voltage vI . (b) From the results of part (a), change the values of R2 and R4 such that the same average power is delivered to the load but the magnitude of the required input voltage is cut in half. What are the required amplifier gains? (Ans. (a) (i) Av1 = +3, Av2 = −3, (ii) P̄L = 0.576 W, (iii) vI = 4 V; (b) R2 = 100 k, R4 = 120 k, Av1 = +6, Av2 = −6) nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1114 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1114 Part 2 Analog Electronics 15.6 VOLTAGE REGULATORS Objective: • Analyze and design voltage regulators that establish a relatively constant dc voltage generated from an ac signal source. Another class of analog circuits that is used extensively in electronic systems is the voltage regulator. We briefly considered constant-voltage circuits, or voltage regulators, when we studied diode circuits and when we considered ideal op-amp circuits in Chapter 9. In this section, we will discuss examples of IC voltage regulators. 15.6.1 Basic Regulator Description A voltage regulator is a circuit or device that provides a constant voltage to a load. The output voltage is controlled by the internal circuitry and is relatively independent of the load current supplied by the regulator. A basic diagram of a voltage regulator is shown in Figure 15.47. It consists of three basic parts: a reference voltage circuit; an error amplifier, which is part of a feedback circuit; and a current amplifier, which supplies the required load current. The reference voltage circuit produces a voltage that is essentially independent of both supply voltage V + and temperature. As shown in the basic circuit of Figure 15.47, a fraction of the output voltage is fed back to the error amplifier which, through negative feedback, maintains the feedback voltage at a value equal to the reference voltage. IO Reference Error Current + VO voltage – amplifier amplifier RL b Figure 15.47 Basic circuit diagram of a voltage regulator Since the regulator output voltage is derived from the reference voltage, any variation in that reference voltage, as the power supply voltage V + changes, also affects the output voltage. Line regulation is defined as the ratio of the change in output voltage to a given change in the input supply voltage, or V Line regulation = o + (15.111) V Line regulation is one figure of merit of voltage regulators. In many cases, the reference voltage circuit contains one or more Zener diodes. Line regulation is then a function of the Zener diode resistance and the effective resistance of the circuit biasing the diode."
15.6 Voltage Regulators,"15.6 VOLTAGE REGULATORS Objective: • Analyze and design voltage regulators that establish a relatively constant dc voltage generated from an ac signal source. Another class of analog circuits that is used extensively in electronic systems is the voltage regulator. We briefly considered constant-voltage circuits, or voltage regulators, when we studied diode circuits and when we considered ideal op-amp circuits in Chapter 9. In this section, we will discuss examples of IC voltage regulators. 15.6.1 Basic Regulator Description A voltage regulator is a circuit or device that provides a constant voltage to a load. The output voltage is controlled by the internal circuitry and is relatively independent of the load current supplied by the regulator. A basic diagram of a voltage regulator is shown in Figure 15.47. It consists of three basic parts: a reference voltage circuit; an error amplifier, which is part of a feedback circuit; and a current amplifier, which supplies the required load current. The reference voltage circuit produces a voltage that is essentially independent of both supply voltage V + and temperature. As shown in the basic circuit of Figure 15.47, a fraction of the output voltage is fed back to the error amplifier which, through negative feedback, maintains the feedback voltage at a value equal to the reference voltage. IO Reference Error Current + VO voltage – amplifier amplifier RL b Figure 15.47 Basic circuit diagram of a voltage regulator Since the regulator output voltage is derived from the reference voltage, any variation in that reference voltage, as the power supply voltage V + changes, also affects the output voltage. Line regulation is defined as the ratio of the change in output voltage to a given change in the input supply voltage, or V Line regulation = o + (15.111) V Line regulation is one figure of merit of voltage regulators. In many cases, the reference voltage circuit contains one or more Zener diodes. Line regulation is then a function of the Zener diode resistance and the effective resistance of the circuit biasing the diode. nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1115 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1115 15.6.2 Output Resistance and Load Regulation The ideal voltage regulator is equivalent to an ideal voltage source in that the output voltage is independent of the output current and any output load impedance. In actual voltage regulators, however, the output voltage is a slight function of output current. This dependence is related to the output resistance of the regulator. The output resistance is defined as the rate of change of output voltage without- put current, or Rof = − VO (15.112) IO The change in VO and IO is caused by a change in the load resistance RL . Everything else in the circuit remains constant. The negative sign in Equation (15.112) results from the voltage polarity and current direction, as shown in Figure 15.47. An increase in IO produces a decrease in VO ; therefore, the output resistance Rof is positive. The output resistance of a voltage regulator should be small, so that a change in output current IO will result in only a small change in output voltage VO . The notation Rof for the output resistance of the voltage regulator is the same as the term for the output resistance of a feedback circuit. This is appropriate since voltage regulators use feedback. A second figure-of-merit for voltage regulators is load regulation. Load regulation is defined as the change in output voltage between a no-load current condition and a full- load current condition. Load regulation can be expressed as a percentage, or V (NL) − V (FL) Load regulation = O O × 100% (15.113) VO(NL) where VO (NL) is the output voltage for a zero-load current condition and VO (FL) is the output voltage for a full-load or maximum load current condition. In some applications, a zero-load current is impractical, and a load current that is approximately 1 percent of the full-load current is used as the no-load condition. In most cases, this condition provides an adequate definition for load regulation. EXAMPLE 15.14 Objective: Determine the output resistance and load regulation of a voltage regulator. Assume the output voltage of a regulator is 5.0 V for a load current of 5 mA, and is 4.96 V for a load current of 1.5 A. Solution: If we assume that the output voltage decreases linearly with load current, then the output resistance( is ) = − VO = − 5.0 − 4.96 R ∼ of − = 0.0267  IO 0.005 1.5 or R ∼ of = 27 m The load regulation is then = VO(NL)− V (FL) 5.0 − 4.96 Load regulation O × 100% = × 100% = 0.80% VO(NL) 5.0 nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1116 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1116 Part 2 Analog Electronics Comment: The output resistance of a voltage regulator is usually not constant at all load currents, but the values are typically in the milliohm range. Also, a load regulation of 0.8% is typical of many voltage regulators. EXERCISE PROBLEM Ex 15.14: The reference voltage for a constant-voltage source is established by the simple combination of V +, R1, and DI , as shown in the regulator circuit in Figure 15.48. If the Zener diode resistance is RZ = 10  and the zero-current diode voltage is VZo = 5.6 V, determine the line regulation of the voltage regulator. Assume an ideal op-amp. (Ans. 0.454%) V+ 10 kΩ R1 = 10 kΩ 4.4 kΩ – VO + + VZ D1 – Figure 15.48 Figure for Exercise Ex15.14 15.6.3 Simple Series-Pass Regulator Figure 15.49 shows a simple voltage regulator that includes an error amplifier (comparator) and series-pass transistors. The series-pass transistors, which are connected in a Darlington emitter-follower configuration, form the current amplifier. A resistive voltage divider allows a portion of the output voltage to be fed back to the error amplifier. The closed-loop feedback system acts to maintain this fraction of the output voltage at a value equal to the reference voltage. (For an idea)l system, we can write R2 + VO = VREF (15.114(a)) R1 R2 V+ V + – Error V Q1 Reference REF amplifier + Q voltage 2 IO Series-pass VO transistors R1 R2 Figure 15.49 Basic series-pass voltage regulator nea80644_ch15_1061-1140.qxd 07/12/2009 3:58 Page 1117 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1117 or ( ) R VO = VREF 1 + 1 (15.114(b)) R2 Since the output of the feedback circuit is a shunt connection, the output resistance can be written, according to the results from Chapter 12, as Rof = Ro + (15.115) 1 T where Ro is the output resistance of the open-loop system and T is the loop gain. From feedback theory, the closed-loop and open-loop gains are related by = A A O LC L (15.116) 1 + T Combining Equation (15.115) and (15.116), we can write the closed-loop output resistance of th(e volta)ge regulator in the form Rof = AR CL o (15.117) AOL From the circuit in Figure 15.49, the closed-loop gain is VA O CL = (15.118) VREF The open-loop output resistance is the output resistance of the series-pass transistors, which are operating in an emitter-follower configuration. From previous results, we can write R = rπ2 + Ro1 o + (15.119) (1 β2) where = r R π1 + Roa o1 + (15.120) (1 β1) in which Roa is the output resistance of the error amplifier. If the current in Q2 is essentially equal to IO and if β1 and β2 are large, then combining Equations (15.119) and (15.120) yields ∼= 2V RR T + oa o (15.121) IO β1β2 Since the product β1β2 is large, the second term in Equation (15.121) is generally negligible. The clo(sed-lo)o(p outpu)t res(istanc)e,(given b)y( Equat)ion (15.117), is then ∼= 2VT AC L = 2VT V R O 1 of (15.122) IO AOL IO VREF AOL Equation (15.122) shows that the output resistance of the voltage regulator is not constant, but varies inversely with load current. Also, for very small values of load current, the output resistance maybe unacceptably high. The basic definition of output resistance is given in Equation (15.112). Using this definition a(nd Equ)at(ion (15).1(22), an)d rearranging terms, we obtain VO = − IO 2VT 1 (15.123) VO IO RREF AOL nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1118 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1118 Part 2 Analog Electronics Equation (15.123) relates the fractional change in output voltage to a fractional change in output current. Although valid for only small variations in voltage and current, this equation provides insight into the concept of load regulation. EXAMPLE 15.15 Objective: Determine the output resistance and the variation in output voltage of a series-pass regulator. Assume an open-loop gain of AOL = 1000, a reference voltage of VREF = 5 V, a nominal output voltage of VO = 10 V, and a nominal output current of IO = 100 mA. Solution: F(rom E)q(uation ()1(5.122),)the [output resistance i]s = 2VT VO 1 = 2(0.026)(10) Rof ⇒1.04 m IO VREF AOL (0.10)(5)(1000) From Equation ((15.123))(, the rel)a(tive cha)nge in( output) v[oltage is ] VO = − IO 2VT 1 = − IO 2(0.026) VO IO VREF AOL IO (5)(1000) or ( ) VO = − IO (1.04 × 10−5) VO IO A 10 percent change in output current results in only a 1.04 × 10−4 percent change in output voltage. Comment: An output resistance in them range is typical of voltage regulators, and a change of only 10−4 percent in output for a 10 percent change in current is a good load regulation value. EXERCISE PROBLEM *Ex 15.15: Consider the voltage regulator in Figure 15.50. The Zener diode is ideal, with VZ = 6.3 V, and the op-amp has a finite open-loop gain of AOL = 1000. The no-load current is IO = 1 mA, and the full-load current is IO = 100 mA. Determine the load regulation. (Ans. 0.786%) V+ 10 kΩ R1 = 10 kΩ 4 kΩ – Ro = 0.5 kΩ VO + + V IO R Z D L – Figure 15.50 Figure for Exercise Ex15.15 nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1119 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1119 15.6.4 Positive Voltage Regulator In this section, we will analyze an example of a three-terminal positive voltage regulator fabricated as an IC. The equivalent circuit, shown in Figure 15.51, is part of the LM78LXX series, in which the XX designation indicates the output voltage of the regulator. For example, an LM78L08 is an 8 V regulator. Basic Circuit Description Once the bias current is established, Zener diode D2 provides the basic reference voltage. Transistors Q15 and Q16 and diode D1 form a startup circuit that applies the initial bias to the reference voltage circuit. As the voltage across D2 reaches the Zener voltage, transistor Q15 turns off, since the BE voltage goes to zero (D1 and D2 are identical) and, the startup circuit is then effectively disconnected from the reference voltage circuit. V+ D4 R4 D3 QR14 = 16 Q4 Q5 5 kΩ Q10 QR = 11 9 5.8 kΩ R15 = Q15 100 Ω Q9 Q12 Q3 R11 = 1.9 Ω R3 = V 576 Ω O Q14 RR12 2 = 3.4 kΩ Q13 C1 = 5 pF Q7 Q8 D1 D2 R1 = 3.9 kΩ Q6 R13 = Q2 2.23 kΩ R5 = R = 7.8 kΩ 6 Q1 2.84 kΩ Ground Startup .Reference voltage Error amp. Current amp. Figure 15.51 Equivalent circuit, LM78LXX series three-terminal positive voltage regulator nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1120 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1120 Part 2 Analog Electronics The reference portion of the circuit is composed of Zener diode D2 and transistors Q3, Q2, and Q1, which are used for temperature compensation. The temperature compensation aspects of the circuit are discussed later in this section. Zener diode D2 is biased by the current-source transistor Q4. The temperature-compensated portion of the reference voltage at the node between R1 and R2 is applied to the base of Q7, which is part of the error amplifier. The bias current in Q4 is established by the current in Q5, which is a multiple- collector, multiple-emitter transistor. Transistor Q5 is biased by the current in Q3, which is controlled by the Zener voltage across D2 and the BE junction voltages of Q3, Q2, and Q1. Consequently, the bias currents in the reference portion of the circuit become almost independent of the input supply voltage. This in turn means that the reference voltage, and thus the output voltage are essentially independent of the power supply voltage. The overall result is very good line regulation. The error amplifier is the differential pair Q7 and Q8, biased by Q6 and R6. The error amplifier output is the input to the base of Q9, which is connected as an emitter follower and forms part of the drive for the series-pass transistors. The series-pass output transistors Q10 and Q11 are connected in a Darlington emitter-follower configuration. A fraction of the output voltage, determined by the voltage divider R12 and R13, is fed back to the base of Q8, which is the error-amplifier inverting terminal. If the output voltage is slightly below its nominal value, then the base voltage at Q8 is smaller than that at Q7, and the current in Q7 becomes a larger fraction of the total diff-amp bias current. The increased current in Q7 induces a larger current in Q10, which in turn produces a larger current in Q11 and increases the output voltage to the proper value. The opposite process occurs if the output voltage is above its nominal value. EXAMPLE 15.16 Objective: Determine the bias current, temperature-compensated reference voltage, and required resistor R12 in a particular LM78LXX voltage regulator. Consider the voltage regulator circuit in Figure 15.51. Assume Zener diode voltages of VZ = 6.3 V and transistor parameters of VB E(npn) = VE B(pnp) = 0.6 V. Design R12 such that VO = 8 V. Solution: The bias current, neglecting base currents, is found as = = VZ − 3VB E(npn) = 6.3 − 3(0.6) IC3 IC5 = 0.571 mA R3 + R2 + R1 0.576 + 3.4 + 3.9 The temperature-compensated portion of the reference voltage, which is the input to the base of Q7, is VB7 = IC3 R1 + 2VB E(npn) = (0.571)(3.9) + 2(0.6) = 3.43 V From( the voltage) divider network, we have R13 VO = VB8 = VB7 R12 + R13 or ( ) 2.23 R12 + (8) = 3.43 2.23 nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1121 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1121 which yields R12 = 2.97 k Comment: The voltage divider of R12 and R13 is internal to the IC. This means the output voltage of a voltage regulator is fixed. EXERCISE PROBLEM Ex 15.16: Consider the voltage regulator circuit shown in Figure 15.51 with Zener diode voltages of VZ = 5.6 V. Assume transistor parameters of VB E(npn) = VE B(pnp) = 0.6 V, neglect base currents, and let the resistor in the emitter of Q4 be R4 = 100 . (a) Determine the bias currents IC3 and IC4, and the temperature- compensated portion of the reference voltage VB7. (b) Determine R12 such that VO = 5 V. (Ans. (a) IC3 = 0.482 mA, IC4 = 0.213 mA, VB7 = 3.08 V (b) R12 = 1.39 k) Temperature Compensation Zener diodes with breakdown voltages greater than approximately 5 V have positive temperature coefficients, and forward-biased pn junctions have negative temperature coefficients. The magnitude of the temperature coefficients in the two devices is nearly the same. For a given increase in temperature, VZ2 increases by V and each BE voltage decreases by V , which means that IC3 in Figure 15.51 increases by approximately I ∼= 4 V C3 R1 + (15.124) R2 + R3 The total voltage across the BE junctions of Q1 and Q2 decreases by approximately 2 V, and the change in voltage at the (base of Q7 is ) VB7 =∼ R1 IC3 R1 − 2 V = 4 V − 2 V ∼= 0 (15.125) R1 + R2 + R3 This indicates that the voltage divider across R1 effectively cancels any temperature variation. The input signal to the error amplifier is thus temperature compensated. Protection Devices Transistors Q13 and Q14 and resistor R3 in the regulator in Figure 15.51 provide thermal protection. From the results of Example 15.16, the BE voltage of Q14 is approximately 330 mV, which means that both Q14 and Q13 are effectively cutoff. As the temperature increases, the combination of a negative BE temperature coefficient and an increase in IC3 causes Q14 to begin conducting, which in turn causes Q13 to conduct. The current in Q13 shunts current away from the output series-pass transistors and produces thermal shutdown. Output current limiting is provided by transistor Q12 and resistor R11, as we saw previously in op-amp output stages. The combination of resistors R14 and R15 and diodes D3 and D4 produces what is called a foldback characteristic. The vast majority of the power dissipated in the regulator is usually due to the output current, or P =∼ (V + D − VO)IO (15.126) nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1122 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1122 Part 2 Analog Electronics The output current limit, to prevent power dissipation from reaching its maximum value PD(max), is given by = PD(max) IO(max) V + − (15.127) VOA current-limiting characteristic of the type described by Equation (15.127) will protect the regulator and allow the maximum output current possible. This type of current limiting is called foldback current limiting. Three-Terminal Regulator The three-terminal voltage regulator is designed with an output voltage set at a predetermined value; external feedback elements and connections are not required. Figure 15.52 shows the basic circuit configuration of a three-terminal regulator. In some applications, capacitors maybe inserted across the input and output terminals. The lead inductance between the voltage supply and regulator may cause stability problems. The capacitor across the input terminals is used only if the power supply and regulator are separated by a few centimeters. The load capacitor may improve the response of the regulator to transient changes in load current. + Voltage V V regulator O Input Output Cin Co Figure 15.52 Basic circuit configuration of a three-terminal voltage regulator 15.7 DESIGN APPLICATION: AN ACTIVE BANDPASS FILTER Objective: • Design an active bandpass filter to meet a set of specifications. Specifications: The center frequency of the bandpass amplifier is to be fo = 2 kHz, the bandwidth is to be f = 10 Hz, and the maximum voltage gain is to be |Av|max = 40. Design Approach: The bandpass amplifier configuration to be designed is shown in Figure 15.53. Choices: Ideal op-amps are assumed to be available. Solution (Analysis): Considering the circuit in Figure 15.53, we have 1 vo2 = − sC = −1 vo R2 s R2C"
15.7 Design Application: An Active Bandpass Filter,"15.7 DESIGN APPLICATION: AN ACTIVE BANDPASS FILTER Objective: • Design an active bandpass filter to meet a set of specifications. Specifications: The center frequency of the bandpass amplifier is to be fo = 2 kHz, the bandwidth is to be f = 10 Hz, and the maximum voltage gain is to be |Av|max = 40. Design Approach: The bandpass amplifier configuration to be designed is shown in Figure 15.53. Choices: Ideal op-amps are assumed to be available. Solution (Analysis): Considering the circuit in Figure 15.53, we have 1 vo2 = − sC = −1 vo R2 s R2C nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1123 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1123 RR 3 1 CC RR 4 5 vi – 1 A1 – R5 + R2 A2 – vo + A3 vo + 2 vo3 Figure 15.53 Bandpass filter network for the design application and vo3 = −1 vo2 so vo3 = vo (15.128) s R2C Node 1 is at virtual ground. Summing currents at this node, we find vi + vo + vo + vo3 = 0 R4 R1 1 R3 sC Substituting the( expression for vo3 from) Equation (15.128), we have vi = − 1 + 1 vo sC + R4 R1 s R2 R3C The overall voltage gain is −1 vo = ( R4 ) vi 1 + sC + 1 R1 s R2 R3C Settings = jω to obtain the steady-state frequency response, we obtain −1 vo = [ ( R4 )] vi 1 + 1 j ωC − R1 ωR2 R3C The center frequency occurs at the point where the imaginary term in the denominator is zero, or 1 ωoC = ωo R2 R3C which can be rewritten as 1 fo = √ 2πC R2 R3 nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1124 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1124 Part 2 Analog Electronics The maximum voltage gain occurs at the center frequency, so that | | = RA 1 v max R4 The bandwidth is given by 1 BW = 2π R1C Solution (Design): If we let C = 0.1 μF, then we can find = 1 = 1 R1 = 159 k 2π(BW)C 2π(10)(0.1 × 10−6) From the maximum gain, we determine | RA 1 v|max = ⇒ 40 = 159 R4 R4 or R4 = 3.975 k If we choose R2 = R3, then from the center frequency fo = √1 2πC R2 R3 we find R2 = = 1 R3 = 1 2π foC 2π(2 × 103)(0.1 × 10−6) or R2 = R3 = 795.8  Solution (Standard Resistor Values): The closest standard resistor values are R2 = 750 , R3 = 820 , R1 = 160 k, and R4 = 3.9 k. A capacitor of 0.1 μF is a standard value. Using these circuit elements, we find the center frequency to be 1 1 fo = √ = 2πC R2 R3 2π(0.1 × √ 10−6) (750)(820) or fo = 2.029 kHz The bandwidth is = 1 1 BW = 2π R1C 2π(160 × 103)(0.1 × 10−6) or BW = 9.947 Hz The maximum voltage gain at the center frequency is |Av| = R1 = 160 max = 41.03 R4 3.9 nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1125 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1125 Comment: Using standard resistor values, the center frequency is within 1.5 percent of the design specification, the bandwidth is within 0.53 percent of the design specification, and the maximum gain is within 2.6 percent of the design specification. The circuit elements, of course, have tolerances that will affect the final circuit performance. 15.8 SUMMARY • This chapter has presented several applications of op-amps and comparators that maybe fabricated as integrated circuits. • An active filter uses an active device, such as an op-amp, so as to minimize the effect of loading on the frequency characteristics of the filter. As an example of an active filter, Butterworth filter design was considered. • A switched-capacitor filter offers the advantage of an all-IC configuration, since this filter uses small capacitance values in conjunction with MOS switching transistors that simulate large resistance values. • The basic principles of oscillation are: (1) the net phase through the amplifier and feedback network must be zero and (2) the magnitude of loop gain must be unity. For an oscillator to function, the loop gain of a feedback network must provide sufficient phase shift to produce positive feedback. A phase-shift oscillator, Wien-bridge oscillator, and discrete transistor oscillators were considered. • A comparator is essentially an op-amp operated in an open-loop configuration. The output signal is either a high or low saturated voltage. • A Schmitt trigger uses a comparator with positive feedback, which produces a hysteresis in the voltage transfer characteristics. This circuit, with its hysteresis characteristic, can eliminate the chatter effect in an output signal during switching applications in which noise is superimposed on the input signal. Astable and monostable multivibrators were considered. • Examples of IC power amplifiers and voltage regulators were analyzed. • As an application, an active bandpass filter to meet a set of specifications was designed. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Design a basic active filter. ✓ Design a basic oscillator. ✓ Design a basic Schmitt trigger circuit. ✓ Design a Schmitt trigger square-wave oscillator and use a 555 timer circuit. ✓ Understand the operation and characteristics of examples of integrated circuit power amplifiers. REVIEW QUESTIONS 1. Describe the difference between an active filter and a passive filter. What is the primary advantage of an active filter? 2. Sketch the general characteristics of a low-pass filter, a high-pass filter, and a bandpass filter."
15.8 Summary,"15.8 SUMMARY • This chapter has presented several applications of op-amps and comparators that maybe fabricated as integrated circuits. • An active filter uses an active device, such as an op-amp, so as to minimize the effect of loading on the frequency characteristics of the filter. As an example of an active filter, Butterworth filter design was considered. • A switched-capacitor filter offers the advantage of an all-IC configuration, since this filter uses small capacitance values in conjunction with MOS switching transistors that simulate large resistance values. • The basic principles of oscillation are: (1) the net phase through the amplifier and feedback network must be zero and (2) the magnitude of loop gain must be unity. For an oscillator to function, the loop gain of a feedback network must provide sufficient phase shift to produce positive feedback. A phase-shift oscillator, Wien-bridge oscillator, and discrete transistor oscillators were considered. • A comparator is essentially an op-amp operated in an open-loop configuration. The output signal is either a high or low saturated voltage. • A Schmitt trigger uses a comparator with positive feedback, which produces a hysteresis in the voltage transfer characteristics. This circuit, with its hysteresis characteristic, can eliminate the chatter effect in an output signal during switching applications in which noise is superimposed on the input signal. Astable and monostable multivibrators were considered. • Examples of IC power amplifiers and voltage regulators were analyzed. • As an application, an active bandpass filter to meet a set of specifications was designed. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Design a basic active filter. ✓ Design a basic oscillator. ✓ Design a basic Schmitt trigger circuit. ✓ Design a Schmitt trigger square-wave oscillator and use a 555 timer circuit. ✓ Understand the operation and characteristics of examples of integrated circuit power amplifiers. REVIEW QUESTIONS 1. Describe the difference between an active filter and a passive filter. What is the primary advantage of an active filter? 2. Sketch the general characteristics of a low-pass filter, a high-pass filter, and a bandpass filter. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1126 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1126 Part 2 Analog Electronics 3. Consider a low-pass filter. What is the slope of the rolloff with frequency for a (a) one-pole filter, (b) two-pole filter, (c) three-pole filter, and (d) four-pole filter? 4. What characteristic defines a Butterworth filter? 5. Describe how a capacitor in conjunction with two switching transistors can behave as a resistor. 6. Sketch a one-pole low-pass switched-capacitor filter circuit. 7. Explain the two basic principles that must be satisfied in an oscillator circuit. 8. Describe and explain the operation of a phase-shift oscillator. 9. Describe and explain the operation of a Wien-bridge oscillator. 10. Sketch the circuit and characteristics of a basic inverting Schmitt trigger. 11. What is meant by bistable and astable circuits? 12. What is the primary advantage of a Schmitt trigger circuit. 13. Sketch the circuit and explain the operation of a Schmitt trigger oscillator. 14. Describe how an op-amp in conjunction with a class-AB output stage can be used as a power amplifier. 15. Sketch a bridge power amplifier and describe its operation. 16. Sketch the basic circuit block diagram of a voltage regulator and explain the principle of operation. 17. Define load regulation of a voltage regulator. 18. Sketch the basic circuit of a series-pass voltage regulator. PROBLEMS Section 15.1 Active Filters D15.1 (a) Design a single-pole high-pass filter with again of 8 in the passband and a 3 dB frequency of 30 kHz. The maximum resistance is to be 210 k. (b) Repeat part (a) for again of −20 in the passband and a 3 dB frequency of 20 kHz. The minimum input resistance is to be 15 k. 15.2 Consider a Butterworth low-pass filter. Determine the reduction in gain (in dB) at f = 1.5 f3 dB for a (a) two-pole, (b) three-pole, (c) four-pole, and (d) five-pole filter. 15.3 The specification in a high-pass Butterworth filter design is that the voltage transfer function magnitude at f = 0.9 f3 dB is 6 dB below the maximum value. Determine the required order of filter. D15.4 (a) Design a two-pole high-pass Butterworth active filter with a cutoff frequency at f3 dB = 25 kHz and a unity gain magnitude at high frequency. (b) Determine the magnitude (in dB) of the gain at (i) f = 22 kHz, (ii) f = 25 kHz, and (iii) f = 28 kHz. D15.5 (a) Design a three-pole low-pass Butterworth active filter with a cutoff frequency at f3 dB = 20 kHz and a unity gain magnitude at low frequency. (b) Determine the magnitude (in dB) of the gain at (i) f = 10 kHz, (ii) f = 15 kHz, (iii) f = 20 kHz, (iv) f = 25 kHz, and (v) f = 30 kHz. 15.6 Starting with the general transfer function given by Equation (15.7), derive the relationship between R1 and R2 in the two-pole high-pass Butterworth active filter. 15.7 A low-pass Butterworth filter is to be designed such that the magnitude of the voltage transfer function at f = 1.2 f3 dB is 14 dB below the maximum gain value. Determine the required order of filter."
Problems,"PROBLEMS Section 15.1 Active Filters D15.1 (a) Design a single-pole high-pass filter with again of 8 in the passband and a 3 dB frequency of 30 kHz. The maximum resistance is to be 210 k. (b) Repeat part (a) for again of −20 in the passband and a 3 dB frequency of 20 kHz. The minimum input resistance is to be 15 k. 15.2 Consider a Butterworth low-pass filter. Determine the reduction in gain (in dB) at f = 1.5 f3 dB for a (a) two-pole, (b) three-pole, (c) four-pole, and (d) five-pole filter. 15.3 The specification in a high-pass Butterworth filter design is that the voltage transfer function magnitude at f = 0.9 f3 dB is 6 dB below the maximum value. Determine the required order of filter. D15.4 (a) Design a two-pole high-pass Butterworth active filter with a cutoff frequency at f3 dB = 25 kHz and a unity gain magnitude at high frequency. (b) Determine the magnitude (in dB) of the gain at (i) f = 22 kHz, (ii) f = 25 kHz, and (iii) f = 28 kHz. D15.5 (a) Design a three-pole low-pass Butterworth active filter with a cutoff frequency at f3 dB = 20 kHz and a unity gain magnitude at low frequency. (b) Determine the magnitude (in dB) of the gain at (i) f = 10 kHz, (ii) f = 15 kHz, (iii) f = 20 kHz, (iv) f = 25 kHz, and (v) f = 30 kHz. 15.6 Starting with the general transfer function given by Equation (15.7), derive the relationship between R1 and R2 in the two-pole high-pass Butterworth active filter. 15.7 A low-pass Butterworth filter is to be designed such that the magnitude of the voltage transfer function at f = 1.2 f3 dB is 14 dB below the maximum gain value. Determine the required order of filter. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1127 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1127 15.8 A high-pass Butterworth filter is to be designed with a cutoff frequency off3 dB = 4 kHz. The gain magnitude is to be reduced by 12 dB at f = 3 kHz from the maximum gain value. Determine the required order of filter. D15.9 A low-pass filter is to be designed to pass frequencies in the 0 to 12 kHz range. The gain of the amplifier is to be +10 at the low frequency and change by no more than 10 percent over the frequency range. In addition, the gain of the amplifier for frequencies greater than 14 kHz is to be no greater than 0.1. Determine f 3-dB and the number of poles required in a Butterworth filter. 15.10 Consider a high-pass Butterworth filter. Determine the ratio of the gain magnitude (in dB) of the filter at a frequency f = 0.8 f3 dB compared to the high-frequency value for a (a) three-pole, (b) five-pole, and (c) seven-pole filter. 15.11 Consider a low-pass Butterworth filter. Determine the ratio of the gain magnitude (in dB) of the filter at a frequency f = 1.4 f3 dB compared to the low- frequency value for a (a) three-pole, (b) five-pole, and (c) seven-pole filter. *D15.12 Design a special type of first-order filter (one capacitor) in which the gain magnitude is 25 for frequencies less than approximately 25 kHz and is 1 for frequencies greater than approximately 25 kHz. *D15.13 An amplitude-modulated radio signal consists of an 80 Hz to 12 kHz audio signal superimposed on a 770 kHz carrier signal. A low-pass filter is to be designed in which the gain in the passband is unity and the carrier signal is attenuated by at least −100 dB. What order of filter is required? D15.14 A band-reject filter maybe designed by combining a low-pass filter and a high-pass filter with a summing amplifier. A 60 Hz signal is to beat least −50 dB below the maximum gain value of 0 dB with a two-pole low-pass Butterworth filter and a two-pole high-pass Butterworth filter. What is the bandwidth of the reject filter? 15.15 Consider the bandpass filter in Figure P15.15. (a) Show that the voltage transfer function is As = vO = −1/R4 v( ) vI (1/R1) + sC + 1/(sC R2 R3) (b) For C = 0.1 μF, R1 = 85 k, R2 = R3 = 300 , R4 = 3 k, and R5 = 30 k, determine: (i) |Av(max)|; (ii) the frequency fo at which |Av(max)| occurs; and (iii) the two 3 dB frequencies. R1 R3 CR R 4 C 5 vI – R2 – R5 + – v + O + Figure P15.15 nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1128 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1128 Part 2 Analog Electronics 15.16 Consider the circuit in Figure P15.16. (a) Derive the expressions for the magnitude and phase of the voltage transfer function. (b) Plot the phase versus frequency for R = 10 k and C = 15.9 nF. [Note: this filter is referred to as an all-pass filter in that the magnitude of the voltage gain is constant, but the phase of the output voltage changes with frequency.] RR vI R – vO + C Figure P15.16 15.17 For each of the circuits in Figures P15.17, derive the expressions for the voltage transfer function T (s)= Vo(s)/Vi (s) and the cutoff frequency f3 dB. R2 CR2 R1 CR1 – – Vo Vo Vi + Vi + (a) (b) Figure P15.17 15.18 The circuit in Figure P15.18 is a bandpass filter. (a) Derive the expression for the voltage transfer function T (s). (b) If R1 = 10 k, determine R2, C1, and C2 such that the magnitude of the midband gain is 50 and the cutoff frequencies are 200 Hz and 5 kHz. C2 RC 1 1 R2 Vi – Vo + Figure P15.18 15.19 A simple bandpass filter can be designed by cascading one-pole high-pass and one-pole low-pass filters. Using op-amp circuits similar to those in Figure 15.3, design a bandpass filter with cutoff frequencies of 150 Hz and 20 kHz and with a midband gain of 30 dB. Resistor values must be no larger than 250 k, but the input resistance must be as large as possible. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1129 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1129 15.20 The clock frequency in the switched-capacitor circuit in Figure 15.12(a) is fC = 50 kHz. Find the equivalent resistance that is simulated when (a) C = 0.5 pF, (b) C = 2 pF, and (c) C = 10 pF. 15.21 In the switched-capacitor circuit in Figure 15.12(a), the voltages are V1 = 2 V and V2 = 1 V, the capacitor value is C = 10 pF, and the clock frequency is fC = 100 kHz. (a) Determine the charge transferred from V1 to V2 during each clock pulse. (b) What is the average current that source V1 supplies? (c) If the “on” resistance of each MOSFET is 1000 , determine the time required to transfer 99 percent of the charge during each half-clock period. D15.22 Consider the switched-capacitor filter in Figure 15.13(b). Design the circuit for a low-frequency gain of −10 and a cutoff frequency of 10 kHz. The clock frequency must be 10 times the cutoff frequency and the largest capacitance is to be 30 pF. Find the required values of C1, C2, and CF . 15.23 The circuit in Figure P15.23 is a switched-capacitor integrator. Let CF = 30 pF and C1 = 5 pF, and assume the clock frequency is 100 kHz. Also, let vI = 1 V. (a) Determine the integrating RC time constant. (b) Find the change in output voltage during each clock period. (c) If CF is initially uncharged, how many clock pulses are required for vO to change by 13 V? f1 f2 CF vI – vO C1 + Figure P15.23 Section 15.2 Oscillators 15.24 Consider the phase shift oscillator in Figure 15.15. (a) For R = 20 k and C = 0.001 μF, determine the frequency of oscillation. What is the required value of R2? (b) Design the circuit such that the frequency of oscillation is fo = 25 kHz. Let R = 20 k. 15.25 In the phase-shift oscillator in Figure 15.15, the capacitor at the noninverting terminal of op-amp A1 is replaced by a variable capacitor CV . (a) Derive the expression for the frequency of oscillation. (b) If C = 10 pF, R = 10 k, and CV is variable between 10 and 50 pF, determine the range of oscillation frequency. 15.26 Consider the phase shift oscillator in Figure 15.16. (a) Determine the frequency of oscillation for R = 12 k and C = 150 pF. What is the required value of R2? (b) Design the circuit such that the frequency of oscillation is fo = 22 kHz. Let C = 0.001 μF. 15.27 Analyze the phase-shift oscillator in Figure 15.16. Show that the frequency of oscillation is given by Equation (15.46) and that the condition for oscillation is given by Equation (15.47). 15.28 The circuit in Figure P15.28 is an alternative configuration of a phase- shift oscillator. (a) Assume that R1 = R2 = R3 = RA1 = RA2 = RA3 ≡ Rand C1 = C2 = C3 ≡ C . Show that the frequency of oscillation is nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1130 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1130 Part 2 Analog Electronics = √ ωo 3/RC . (b) Assume equal magnitudes of gain in each amplifier stage. What is the minimum magnitude of gain required in each stage to sustain oscillation? RF2 RF1 RF3 RA2 RA1 – R3 RA3 – A2 – A1 + A3 vO + R2 C3 + R1 C2 C1 Figure P15.28 *15.29 In the circuit in Figure P15.28, let RF1 = RF2 = RF3 ≡ RF , R2 = R3 = RA1 = RA2 = RA3 ≡ R , C1 = C2 = C3 ≡ C , and let R1 be a variable resistance R1 = RV . (a) Derive the expression for the frequency of oscillation. (b) If RV = R, determine the condition for oscillation. (c) Using the results of part (a), determine the range in the frequency of oscillation for R = 25 k, C = 0.001 μF, and 15 ≤ RV ≤ 30 k. *15.30 Consider the phase-shift oscillator in Figure P15.30. (a) Derive the expression for the frequency of oscillation. (b) Determine the condition for oscillation. (c) For R = 20 k, find C and RF that will produce sustained oscillations at fo = 22 kHz. RF RR RR – v CC CO + Figure P15.30 *15.31 Consider the phase-shift oscillator in Figure P15.30. (a) Assume the first resistor that is connected to vo is a variable resistor RV . Derive the expression for the frequency of oscillation in terms of C , R, and RV . (b) Using there- sults of part (a), determine the range in the frequency of oscillation for R = 25 k, C = 0.001 μF, and 15 ≤ RV ≤ 30 k. 15.32 A Wien-bridge oscillator is shown in Figure P15.32. (a) Derive the expression for the frequency of oscillation. (b) What is the condition for sustained oscillations? 15.33 Consider the oscillator circuit in Figure P15.33. (a) Derive the expression for the loop gain T(s). (b) Determine the expression for the frequency of oscillation. (c) Find the condition for oscillation. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1131 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1131 R2 R2 R1 R1 – – vO vO + + CR RL A A CB RB LR Figure P15.32 Figure P15.33 D15.34 Design the Wein-bridge oscillator in Figure 15.17 to oscillate at fo = 35 kHz. Choose appropriate component values. D15.35 The Colpitts oscillator in Figure 15.19 is biased at ID = 0.8 mA. The transistor parameters are VT N = 0.8 V and Kn = 0.7 mA/V2. Let C1 = 0.02 μF and R = 2 k. Design the circuit to oscillate at fo = 350 kHz. 15.36 Figure P15.36 shows a Colpitts oscillator with a BJT. Assume rπ and ro are both very large. Derive the expressions for the frequency of oscillation and the condition of oscillation. V+ LC1 C → ∞ vO C2 RL IV – Figure P15.36 15.37 Consider the ac equivalent circuit of the Hartley oscillator in Figure 15.21. (a) Derive the expression for the frequency of oscillation. (b) Determine the condition for sustained oscillations. *D15.38 For the Hartley oscillator in Figure 15.21, assume rπ → ∞ and let gm = 30 mA/V. (a) Derive the expression for the frequency of oscillation. (b) Show that the condition for oscillation is given by gm R = L1/L2. (c) Design the circuit to oscillate at fo = 750 kHz for L1 = L2 = 50 μH. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1132 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1132 Part 2 Analog Electronics 15.39 Find the loop gain functions T (s) and T ( jω), the frequency of oscillation, and the R2/R1 required for oscillation for the circuit in Figure P15.39. 15.40 Repeat Problem 15.39 for the circuit in Figure P15.40. 15.41 Repeat Problem 15.39 for the circuit in Figure P15.41. RR 1 R2 2 R2 R1 – – R1 vO – vO + + vO + CR RC LR CR CR LR Figure P15.39 Figure P15.40 Figure P15.41 Section 15.3 Schmitt Trigger Circuits 15.42 For the comparator in the circuit in Figure 15.26(a), the output saturation voltages are ±9 V. Let VREF = 5 V. Let R2 be a fixed resistor in series with a potentiometer. Design the circuit such that the crossover voltage can easily be varied over the range of −2 V to −4 V. The minimum resistance is to be 20 k. 15.43 Consider the Schmitt trigger shown in Figure 15.29(a). Assume the saturated output voltages are VH = +10 V and VL = −10 V. The range of the input voltage is −5 ≤ vI ≤ 5 V. Design the circuit such that the hysteresis width is 0.4 V and the maximum current in any resistor is 0.20 mA. 15.44 The saturated output voltages of the Schmitt trigger in Figure 15.28(a) are VH = +9 V and VL = −9 V. The range of the input voltage is −9 ≤ vI ≤ 9 V. (a) Design the circuit whose minimum resistance is 2 k and such that the hysteresis width is 0.2 V. (b) Using the results of part (a), determine the maximum current in the resistors. 15.45 A Schmitt trigger circuit is shown in Figure 15.28(a). The parameters are VH = +10 V, VL = −10 V, R1 = 2 k, and R2 = 48 k. (a) Determine the crossover voltages VT Hand VT L . (b) Assume a sinusoidal voltage vI = 10 sin [2π (60) t] V is applied at the input. During the period 33.3 ≤ t ≤ 50 ms, determine the time periods that the output is high and the time periods that the output is low. 15.46 Consider the Schmitt trigger in Figure P15.46. Assume the saturated output voltages are ±VP . (a) Derive the expression for the crossover voltages VT Hand VT L . (b) Let RA = 10 k, RB = 20 k, R1 = 5 k, R2 = 20 k, VP = 10 V, and VREF = 2 V. (a) Find VT Hand VT L . (b) Sketch the voltage transfer characteristics. 15.47 The saturated output voltages are ±VP for the Schmitt trigger in Figure P15.47. (a) Derive the expressions for the crossover voltages VT Hand VT L (b) If VP = 12 V, VREF = −10 V, and R3 = 10 k, find R1 and R2 such that the switching point is VS = −5 V and the hysteresis width is 0.2 V. (c) Sketch the voltage transfer characteristics. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1133 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1133 VREF vI – vO RB + RA R1 v – Iv R v O 2 O + R vI + 3 R 20 kΩ 1 R2 VREF DZ1 DZ2 Figure P15.46 Figure P15.47 Figure P15.48 15.48 (a) Plot the voltage transfer characteristics of the comparator circuit in Figure P15.48 assuming the open-loop gain is infinite. Let the reverse Zener voltage be VZ = 5.6 V and the forward diode voltage be Vγ = 0.6 V. (b) Repeat part (a) for an open-loop gain of 103. (c) Repeat part (a) for 2.5 V applied to the inverting terminal of the comparator. 15.49 Consider the Schmitt trigger in Figure 15.30(a). (a) Derive the expression for the switching point and crossover voltages as given in Equations (15.76) and (15.77). (b) Let VH = +12 V and VL = −12 V. The minimum resistance is to be 4 k. Determine R1, R2, and VREF such that the crossover voltages are VTH = −1.5 V and VT L = −2 V. (c) What are the currents in the resistors when (i) vO = VH and (ii) vO = VL ? 15.50 Consider the Schmitt trigger in Figure 15.31(a). (a) Derive the expressions for the switching point and crossover voltages, as given in Equations (15.78) and (15.79). (b) Let VH = 12 V, VL = −12 V, and R2 = 20 k. Determine R1 and VREF such that VT H = −1 V and VT L = −2 V. 15.51 Consider the Schmitt trigger in Figure P15.51. The saturated output voltages of the op-amp are VH = +10 V and VL = −10 V. Assume the diode turn-on voltage is 0.7 V. The range of the input voltage is −2 ≤ vI ≤ +2 V. (a) Determine the crossover voltages. (b) Sketch the voltage transfer characteristics. (c) Determine ID1, ID2, IR3, and IR2 for (i) vI = 2 V and (ii) vI = −2 V. R3 = 75 k RI 1 = 25 k R3 + R2 = 20 k vO – vI ID1 DR2 2 ID1 ID2 Figure P15.51 15.52 The saturated output voltages of the comparator in the circuit shown in Figure 15.33 are ±10 V. Assume forward diode voltages of 0.7 V and reverse Zener voltages of 5.6 V. The range of the input voltage is −2 ≤ vI ≤ +2 V. (a) Find R1 and R2 such that the hysteresis width is 0.6 V. The minimum resistance value is to be 4 k. (b) Find R such that the maximum current through the diodes is 0.8 mA. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1134 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1134 Part 2 Analog Electronics 15.53 Consider the Schmitt trigger with limiter, as shown in Figure 15.34. Assume the forward diode turn-on voltage Vγ is 0.7 V. (a) Determine VREF such that the bistable output voltages at vI = 0 are ±5 V. (b) Find values of R1 and R2 such that the crossover voltages are ±0.5 V. (c) Taking R1, R2, and the 100 k resistors into account, find vO when vI = 10 V. 15.54 Consider the inverting Schmitt trigger with limiting network, as shown in Figure 15.34(a). Show that the crossover voltages are those given in Figure 15.34(b). 15.55 (a) For the Schmitt trigger with limiter in Figure P15.55(a), find the two output voltage values at vI = 0 and the two crossover voltages. (b) Derive the expression for the slope of vO versus vI for vI > VT H . VREF 1 kΩ 1 kΩ v – OR1 vO +(VREF + 2Vg ) vI + 1 kΩ RV 1 TH = (VREF + 2Vg )R2 1 kΩ vI RV 1 TH = – (VREF + 2V ) R g 2 –V R REF 2 – (VREF + 2Vg ) (a) (b) Figure P15.55 Section 15.4 Nonsinusoidal Oscillators and Timing Circuits 15.56 Consider the Schmitt trigger oscillator in Figure 15.35. The circuit parameters are R1 = 10 k, R2 = 20 k, RX = 40 k, and CX = 0.02 μF. The saturated output voltages are ±5 V. (a) Write the expressions for vX as a function of time assuming that vO has switched to its high state at t = 0. (b) Determine the frequency of oscillation and the duty cycle. 15.57 Repeat Problem 15.56 for saturated output voltages of VH = +5 V and VL = −10 V. D15.58 Design the Schmitt trigger circuit in Figure 15.35 to produce a square-wave output signal at a frequency of fo = 12 kHz and a 50 percent duty cycle. Choose standard component values. 15.59 Consider the circuit in Figure P15.59. The saturated output voltages of the Schmitt trigger comparator are ±10 V. Assume that at t = 0, output vo1 switches from its low state to its high state and CY is uncharged. Plot vo1 and vo versus time over two periods of oscillation. 15.60 The saturated output voltages of the comparator in Figure P15.60 are ±10 V. (a) Find Rx such that the frequency of oscillation is 500 Hz when the potentiometer is connected to point A. (b) Using the results of part (a), determine the oscillator frequency when the potentiometer is connected to point B. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1135 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1135 RX RX = 10 kΩ – C = v X O – 0.01 mF + – RR = 10 kΩ v Y = 2 kΩ vO 2 O1 CX = + A 0.1 mF + R2 = 10 kΩ CY = 0.02 mF R3 = 10 kΩ BR1 = 10 kΩ R1 = 10 kΩ Figure P15.59 Figure P15.60 15.61 (a) The monostable multivibrator in Figure 15.37 is to be designed to produce a 250 μs output pulse. Assume saturated output voltages of ±10 V, and let Vγ = 0.7 V, R1 = 20 k, and R2 = 12 k. (b) Determine the minimum input triggering voltage required. (c) What is the recovery time? 15.62 A monostable multivibrator is shown in Figure 15.37. The parameters are RX = 20 k, CX = 1.2 μF, and R1 = R2 = 20 k. The saturated output voltages are ±5 V. (a) What is the output voltage pulse width? (b) Determine the recovery time. D15.63 Figure 15.40 shows the 555 timer connected in the monostable multivibrator mode. (a) Design the circuit to provide an output pulse 60 seconds wide. (b) Determine the recovery time. D15.64 Design a 555 monostable multivibrator to provide a 5 μs pulse. What is the recovery time? 15.65 A 555 timer is connected in the astable mode as shown in Figure 15.41. Design the circuit such that the frequency of oscillation is fo = 80 kHz and the duty cycle is 60 percent. Let RA = 25 k. 15.66 A 555 ICC is connected as shown in Figure P15.66. Determine the range of oscillation frequency and the duty cycle. 15.67 Repeat Problem 15.66 for the circuit in Figure P15.67. V + = 10 V V + = 10 V R1 = R1 = 10 kΩ 1 kΩ 8 4 R3 = 8 4 R 7 2 = 50 kΩ Ω 7 10 k 2 3 vO 2 3 vO R3 = 6 R2 = 100 kΩ 5 1 1 kΩ 6 5 1 C = 0.01 mF C = 0.01 mF 0.01 mF 0.01 mF Figure P15.66 Figure P15.67 nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1136 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1136 Part 2 Analog Electronics Section 15.5 Integrated Circuit Power Amplifiers 15.68 The LM380 power amplifier in Figure 15.42 is biased at V + = 22 V. Let βn = 100 and βp = 20 for the npn and pnp transistors, respectively. (a) Determine the quiescent collector currents in transistors Q1 through Q6. (b) Assume that diodes D1 and D2 and transistors Q7, Q8, and Q9 are all matched, with parameters I = 10−13 SA. For zero input voltages, determine the quiescent currents in D1, D2, Q7, Q8, and Q9. (c) For no load, calculate the quiescent power dissipated in the amplifier. 15.69 An LM380 must deliver ac power to a 10  load. The maximum power dissipated in the amplifier must be limited to 2 Wand the maximum allowed distortion must be limited to 3 percent. Determine: (a) the maximum power that can be delivered to the load, (b) the maximum supply voltage, and (c) the peak amplitude of the sinusoidal output voltage. 15.70 (a) Design the bridge circuit in Figure 15.46 such that the gain magnitude of each op-amp circuit is 12. (b) A load resistance of RL = 12  that is to dissipate an average power of PL = 15 Wis connected to the output. Determine the peak output voltage at each op-amp and the peak current that each op-amp must source or sink. (c) If the peak output voltage of each op-amp is limited to ±12 V and the peak current that each op-amp can source or sink is limited to 0.8 A, determine (i) the maximum average power that can be delivered to the load and (ii) the optimum value of load resistance. D15.71 Another form of the bridge power amplifier is shown in Figure P15.71. This amplifier has a very high input resistance since the input is to the noninverting terminal of an op-amp. (a) Derive the expression for the voltage gain Av = vL/vI . (b) Design the circuit to provide again of Av = 10 so that the magnitudes of vo1 and vo2 are equal. Let R1 = 50 k. (c) If RL = 20  and if the average power delivered to the load is 10 W, determine the peak amplitude of vo1 and vo2 and the peak load current. vI + A1 vO1 vO1 – vI + A + 1 R – 2 + RR R 1 L vL 1 RR 4 L v RL 3 – – R2 R3 – – Av A 2 O 2 2 + + vO2 Figure P15.71 Figure P15.72 15.72 Figure P15.72 shows an audio amplifier using two identical op-amps connected in a bridge configuration. (a) Derive the expression for the voltage gain Av = vL/vI . (b) Design the system such that |vO1| = |vO2| = 12vI . The largest resistor value is to be limited to 120 k. (c) If RL = 25  and the peak op-amp output voltages are limited to ±8 V, determine (i) the maximum average power that can be delivered to the load and (ii) the peak currents that each op-amp must source or sink. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1137 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1137 D15.73 (a) Design the circuit shown in Figure P15.72 such that vO1 = −vO2 and the voltage gain Av = vL/vI = 25. The largest resistor value is to be limited to 100 k. (b) If the peak value of each op-amp output voltage is limited to ±12 V and the peak current that each op-amp can source or sink is limited to 1.2 A, determine (i) the maximum average power that can be delivered to the load and (ii) the optimum load resistance. (c) If RL is twice the value found in part (b), what is the maximum average power that can be delivered to the load? Section 15.6 Voltage Regulators 15.74 Transistors Q1 and Q2 in the voltage regulator circuit in Figure P15.74 have parameters β = 200, VE B(on) = 0.7 V, and VA = 100 V. The zero-current Zener voltage is VZ O = 6.3 V and the Zener resistance is rz = 15 . Assuming an ideal op-amp, calculate the line regulation. V + = 10 V 90 kΩ Q1 Q2 10 kΩ – VO + + R1 = V 9.3 kΩ Z – Figure P15.74 15.75 (a) The output voltage of a voltage regulator decreases by 8 mV as the load current changes from 0 to 2 A. If the output voltage changes linearly with load current, determine the output resistance of the regulator. (b) If the output resistance of a voltage regulator is Rof = 10 m and the output current changes by 1.2 A, what is the change in output voltage? 15.76 Consider the three-terminal voltage regulator in Figure 15.51, with parameters as given in Example 15.16. If the maximum load current is IO(max) = 100 mA, determine the minimum applied power supply voltage V + that will still maintain all transistors biased in the active region. D15.77 Consider the three-terminal voltage regulator in Figure 15.51, with Zener diode voltages of VZ = 6.3 V. Assume transistor parameters of VB E(npn)= VE B(pnp)= 0.6 V, and neglect base currents. (a) Determine resistance R4 such that IZ2 = 0.25 mA. (b) Determine R12 such that VO = 12 V. 15.78 The three-terminal voltage regulator in Figure 15.51 has parameters as described in Example 15.16. Assume R4 = 0, VA = 50 V for Q4, and rz = 15  for D2. Determine the line regulation. 15.79 The voltage regulator shown in Figure P15.79 is a variable voltage, 0 to 5 A power supply. The transistor parameters are β = 80 and VB E(on) = 0.7 V. The op-amp has a finite open-loop gain of AOL = 5 × 103. The zero-current nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1138 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1138 Part 2 Analog Electronics V + = 25 V V + = 25 V R1 – V + = 20 Q + + V V Z IZ O – IO R2 = 5 kΩ + R2 = 1 kΩ VZ D1 – x – R3 = 2 kΩ RL Q (1 – x) + V R4 = 1 kΩ OR1 = 10 kΩ IO RL Figure P15.79 Figure P15.80 Zener voltage is VZ O = 5.6 V and the Zener resistance is rz = 12 . (a) For IZ = 12 mA, find R1. (b) Determine the range of output voltage as the potentiometer R3 is varied. (c) If the potentiometer is set such x = 1, determine the load regulation. Assume Roof the op-amp is zero. 15.80 The parameters of the transistor in Figure P15.80 are β = 80 and VE B(on) = 0.6 V. The Zener diode is ideal with VZ = 6.8 V and the op-amp is ideal. (a) Determine the range of load resistance RL such that the load current is a constant. What is the value of the constant load current? (b) If the Zener diode has a resistance rz = 20  and the power supply is in the range 16 ≤ V + ≤ 20 V, determine the range in output current for RL = 5 k. COMPUTER SIMULATION PROBLEMS 15.81 Consider the three-pole high-pass Butterworth active filter described in Exercise TYU 15.1. Using a computer simulation, plot the magnitude of the voltage transfer function versus frequency and compare these results with those obtained in TYU 15.1. 15.82 A phase shift oscillator is described in Exercise TYU 15.5. Using a computer simulation, plot the output voltage of the oscillator versus time over several cycles. What is the frequency of oscillation? 15.83 Consider the Schmitt trigger oscillator described in Exercise Ex 15.8. Using a computer simulation, plot the voltage vX versus time over several cycles. What is the frequency of oscillation? 15.84 A bridge power amplifier is described in Exercise TYU 15.13. Using a computer simulation, plot (a) vO1 − vO2 versus vI over the range 0 ≤ vI ≤ 4 V and (b) the current in RL over the same input voltage range. nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1139 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: Chapter 15 Applications and Design of Integrated Circuits 1139 DESIGN PROBLEMS [Note: Each design should be correlated with a computer analysis.] *D15.85 Design a four-pole high-pass Butterworth active filter such that the low- frequency voltage gain is +20 and the cutoff frequency is 50 Hz. *D15.86 Consider the Colpitts oscillator in Figure P15.86. The capacitors CE and CB are very large bypass and coupling capacitors. Let VCC = 5 V. (a) Design the circuit such that the quiescent collector current is IC Q = 0.5 mA. (b) Design the circuit such that the frequency of oscillation is fo = 650 kHz. +VCC RC R1 CBC2 R2 L RE CE C1 Figure P15.86 *D15.87 Consider the power amplifier in Figure P15.87 with parameters V + = 15 V, V − = −15 V, and RL = 20 . The closed-loop gain must be 10. Design the circuit such that the power delivered to the load is 5 W when vI = −1 V. If the four transistors are matched, determine the minimum β required such that the op-amp output current is limited to 2 mA when 5 Wis delivered to the load. V + R1 RA Q3 Q1 RB – V – vO + vI + i VI iL RL Q2 Q4 R2 V – Figure P15.87 nea80644_ch15_1061-1140.qxd 07/12/2009 3:59 Page 1140 pinnacle MHDQ-New:MHDQ134:MHDQ134-15: 1140 Part 2 Analog Electronics *D15.88 Consider the simple series-pass regulator circuit in Figure P15.88. Assume an ideal Zener diode with VZ = VREF = 4.7 V. Let β = 100 and VB E(on) = 0.7 V for all transistors. (a) Design the circuit such that VO = 10 V and IZ = 10 mA for a nominal supply voltage of V + = 20 V. (b) Determine the regulator output resistance Rof . V + R1 Q1 Q2 Ro VO IO R2 R3 R Q L 3 R4 + VREF IZ – Figure P15.88 nea80644_pro03_1141-1144.qxd 07/15/2009 09:52 PM Page 1141 F506 Hard disk:Desktop Folder:ALI-07-15-09: Prologue to Digital Electronics III PREVIEW Several basic digital electronics concepts are common to the remaining chapters of this text. These principles, which are usually covered in an introductory course in computer logic design, are reviewed briefly in this prologue. In a digital system, information is represented solely in discrete or quantized form. Normally, only two discrete states are used, denoted as logic 0 and logic 1. The algebra applicable to the binary system was invented by George Boole (1815–1864) and is known as Boolean algebra. We do not use Boolean algebra directly in this text; however, some familiarity with it is beneficial in the analysis and design of digital integrated circuits. We will be directly concerned with basic Boolean operations and the corresponding logic gates. Several techniques have been developed to aid in the reduction of Boolean expressions to a minimum set of variables. One common technique is the Karnaugh map. Though not used directly in this text, this technique is helpful in designing digital systems. LOGIC FUNCTIONS AND LOGIC GATES The three basic logic or Boolean operations are: NOT, AND, and OR. These operations can be described using a truth table. The truth table and logic gate symbol for the NOT function is shown in Figure PR3.1(a). The bar over the output variable indicates the NOT function, or the complement. Since only two states of a variable are permitted, if A = 0, then Ā = 1. The small circle at the output of the logic gate indicates a logic inversion. As depicted by the figure, this logic gate is also called an inverter. Figure PR3.1(b) shows the truth table, logic gate symbol, and Boolean expression for the AND function. A logic 1 is produced at the output only when both inputs area logic 1; otherwise, the output is a logic 0. The truth table, logic gate symbol, and Boolean expression for the OR operation are shown in Figure PR3.1 (c). In this case, a logic 1 output is produced if either A = 1 or B = 1, or if both inputs area logic 1. Two other commonly used logic functions are the NAND and NOR. The NAND function is the complement of the AND operation, and the NOR function is the complement of the OR operation. The truth tables and logic gate symbols for these functions are shown in Figure PR3.2. Again, the small circle at the output of each logic gate indicates a logic inversion. Finally, two additional logic functions useful in digital design are the exclusive-OR function and the exclusive-NOR function. Although these logic functions can be derived from a combination of the basic functions, they have their own logic 1141 Prologue"
PROLOGUE III: PROLOGUE TO DIGITAL ELECTRONICS,": Prologue to Digital Electronics III PREVIEW Several basic digital electronics concepts are common to the remaining chapters of this text. These principles, which are usually covered in an introductory course in computer logic design, are reviewed briefly in this prologue. In a digital system, information is represented solely in discrete or quantized form. Normally, only two discrete states are used, denoted as logic 0 and logic 1. The algebra applicable to the binary system was invented by George Boole (1815–1864) and is known as Boolean algebra. We do not use Boolean algebra directly in this text; however, some familiarity with it is beneficial in the analysis and design of digital integrated circuits. We will be directly concerned with basic Boolean operations and the corresponding logic gates. Several techniques have been developed to aid in the reduction of Boolean expressions to a minimum set of variables. One common technique is the Karnaugh map. Though not used directly in this text, this technique is helpful in designing digital systems. LOGIC FUNCTIONS AND LOGIC GATES The three basic logic or Boolean operations are: NOT, AND, and OR. These operations can be described using a truth table. The truth table and logic gate symbol for the NOT function is shown in Figure PR3.1(a). The bar over the output variable indicates the NOT function, or the complement. Since only two states of a variable are permitted, if A = 0, then Ā = 1. The small circle at the output of the logic gate indicates a logic inversion. As depicted by the figure, this logic gate is also called an inverter. Figure PR3.1(b) shows the truth table, logic gate symbol, and Boolean expression for the AND function. A logic 1 is produced at the output only when both inputs area logic 1; otherwise, the output is a logic 0. The truth table, logic gate symbol, and Boolean expression for the OR operation are shown in Figure PR3.1 (c). In this case, a logic 1 output is produced if either A = 1 or B = 1, or if both inputs area logic 1. Two other commonly used logic functions are the NAND and NOR. The NAND function is the complement of the AND operation, and the NOR function is the complement of the OR operation. The truth tables and logic gate symbols for these functions are shown in Figure PR3.2. Again, the small circle at the output of each logic gate indicates a logic inversion. Finally, two additional logic functions useful in digital design are the exclusive-OR function and the exclusive-NOR function. Although these logic functions can be derived from a combination of the basic functions, they have their own logic 1141 Prologue"
Preview,"PREVIEW Several basic digital electronics concepts are common to the remaining chapters of this text. These principles, which are usually covered in an introductory course in computer logic design, are reviewed briefly in this prologue. In a digital system, information is represented solely in discrete or quantized form. Normally, only two discrete states are used, denoted as logic 0 and logic 1. The algebra applicable to the binary system was invented by George Boole (1815–1864) and is known as Boolean algebra. We do not use Boolean algebra directly in this text; however, some familiarity with it is beneficial in the analysis and design of digital integrated circuits. We will be directly concerned with basic Boolean operations and the corresponding logic gates. Several techniques have been developed to aid in the reduction of Boolean expressions to a minimum set of variables. One common technique is the Karnaugh map. Though not used directly in this text, this technique is helpful in designing digital systems. LOGIC FUNCTIONS AND LOGIC GATES The three basic logic or Boolean operations are: NOT, AND, and OR. These operations can be described using a truth table. The truth table and logic gate symbol for the NOT function is shown in Figure PR3.1(a). The bar over the output variable indicates the NOT function, or the complement. Since only two states of a variable are permitted, if A = 0, then Ā = 1. The small circle at the output of the logic gate indicates a logic inversion. As depicted by the figure, this logic gate is also called an inverter. Figure PR3.1(b) shows the truth table, logic gate symbol, and Boolean expression for the AND function. A logic 1 is produced at the output only when both inputs area logic 1; otherwise, the output is a logic 0. The truth table, logic gate symbol, and Boolean expression for the OR operation are shown in Figure PR3.1 (c). In this case, a logic 1 output is produced if either A = 1 or B = 1, or if both inputs area logic 1. Two other commonly used logic functions are the NAND and NOR. The NAND function is the complement of the AND operation, and the NOR function is the complement of the OR operation. The truth tables and logic gate symbols for these functions are shown in Figure PR3.2. Again, the small circle at the output of each logic gate indicates a logic inversion. Finally, two additional logic functions useful in digital design are the exclusive-OR function and the exclusive-NOR function. Although these logic functions can be derived from a combination of the basic functions, they have their own logic 1141 Prologue"
Logic Functions and Logic Gates,"LOGIC FUNCTIONS AND LOGIC GATES The three basic logic or Boolean operations are: NOT, AND, and OR. These operations can be described using a truth table. The truth table and logic gate symbol for the NOT function is shown in Figure PR3.1(a). The bar over the output variable indicates the NOT function, or the complement. Since only two states of a variable are permitted, if A = 0, then Ā = 1. The small circle at the output of the logic gate indicates a logic inversion. As depicted by the figure, this logic gate is also called an inverter. Figure PR3.1(b) shows the truth table, logic gate symbol, and Boolean expression for the AND function. A logic 1 is produced at the output only when both inputs area logic 1; otherwise, the output is a logic 0. The truth table, logic gate symbol, and Boolean expression for the OR operation are shown in Figure PR3.1 (c). In this case, a logic 1 output is produced if either A = 1 or B = 1, or if both inputs area logic 1. Two other commonly used logic functions are the NAND and NOR. The NAND function is the complement of the AND operation, and the NOR function is the complement of the OR operation. The truth tables and logic gate symbols for these functions are shown in Figure PR3.2. Again, the small circle at the output of each logic gate indicates a logic inversion. Finally, two additional logic functions useful in digital design are the exclusive-OR function and the exclusive-NOR function. Although these logic functions can be derived from a combination of the basic functions, they have their own logic 1141 Prologue nea80644_pro03_1141-1144.qxd 07/12/2009 2:50 Page 1142 pinnacle MHDQ-New:MHDQ134:MHDQ134-PROL-PRIII: 1142 Prologue III Prologue to Digital Electronics A Q – 0 1 A Q = A 1 0 (a) AB QA B Q 0 0 0 A 0 0 1 A 0 1 0 Q = A ⋅ B 0 1 1 Q = A ⋅ B 1 0 0 B 1 0 1 B 1 1 1 1 1 0 (b) (a) AB QA B Q 0 0 0 A 0 0 1 A 0 1 1 Q = A + B 0 1 0 Q = A + B 1 0 1 B 1 0 0 B 1 1 1 1 1 0 (c) (b) Figure PR3.1 Truth tables, logic gate symbols, Figure PR3.2 Truth tables, logic gate symbols, and Boolean expressions: (a) NOT function, and Boolean expressions: (a) NAND function and (b) AND function, and (c) OR function (b) NOR function gate symbols. The truth tables, logic gate symbols, and Boolean expressions for these operations are shown in Figure PR3.3. In the exclusive-OR operation, the output becomes a logic 1 when either A = 1 or B = 1, but not when both area logic 1. The output of the exclusive-NOR is the complement of the exclusive-OR function. In the following sections of this prologue, we briefly describe the basic logic functions and logic gates with two input variables, although more than two are possible. In practice, the number of input variables is generally limited to a maximum of four because of transistor size and input capacitance effects. AB Q 0 0 0 A 0 1 1 Q = A ⊗ B 1 0 1 B 1 1 0 (a) AB Q 0 0 1 A 0 1 0 Q = A ⊗ B 1 0 0 B 1 1 1 (b) Figure PR3.3 Truth tables, logic gate symbols, and Boolean expressions: (a) exclusive-OR function and (b) exclusive-NOR function nea80644_pro03_1141-1144.qxd 07/12/2009 2:50 Page 1143 pinnacle MHDQ-New:MHDQ134:MHDQ134-PROL-PRIII: Prologue III Prologue to Digital Electronics 1143 LOGIC LEVELS The logic 0 and logic 1 states in a digital circuit are represented by two distinct voltage values. In this text, we use positive logic, which means that the more positive voltage represents the logic 1 state and the more negative voltage represents the logic 0 state. The actual voltages maybe either positive or negative. Figure PR3.4 shows three possible output voltage combinations that represent positive logic. The condition represented in Figure PR3.4(a) is the most common, although we will see examples of the conditions represented in Figure PR3.4(c). The logic 0 level shown in Figure PR3.4(a) may actually be zero volts in some cases. Output voltage Logic 1 Output voltage Logic 1 Output voltage Logic 0 0 0 0 Logic 1 Logic 0 Logic 0 (a) (b) (c) Figure PR3.4 Three possible output voltage combinations representing positive logic NOISE MARGIN In an ideal digital system, logic 1 would be represented by a well-defined voltage level VO Hand logic 0 would be represented by a well-defined voltage level VOL . In actual digital systems, however, the voltage values representing the two logic states may change as a result of any number of factors, including variations in temperature, circuit fabrication tolerances, loading effects, and noise. At the input to a digital circuit, a range of voltages can represent each of the two binary states as illustrated in Figure PR3.5. The amplitude levels that pass through a VOH Logic 1 V output range Logic 1 OHU input range NMH VIH Undefined range VIL Logic 0 NML V input range OLU Logic 0 V output range OL Input Output Figure PR3.5 Voltage ranges representing logic 1 and logic 0, and definition of noise margins"
Logic Levels,"LOGIC LEVELS The logic 0 and logic 1 states in a digital circuit are represented by two distinct voltage values. In this text, we use positive logic, which means that the more positive voltage represents the logic 1 state and the more negative voltage represents the logic 0 state. The actual voltages maybe either positive or negative. Figure PR3.4 shows three possible output voltage combinations that represent positive logic. The condition represented in Figure PR3.4(a) is the most common, although we will see examples of the conditions represented in Figure PR3.4(c). The logic 0 level shown in Figure PR3.4(a) may actually be zero volts in some cases. Output voltage Logic 1 Output voltage Logic 1 Output voltage Logic 0 0 0 0 Logic 1 Logic 0 Logic 0 (a) (b) (c) Figure PR3.4 Three possible output voltage combinations representing positive logic NOISE MARGIN In an ideal digital system, logic 1 would be represented by a well-defined voltage level VO Hand logic 0 would be represented by a well-defined voltage level VOL . In actual digital systems, however, the voltage values representing the two logic states may change as a result of any number of factors, including variations in temperature, circuit fabrication tolerances, loading effects, and noise. At the input to a digital circuit, a range of voltages can represent each of the two binary states as illustrated in Figure PR3.5. The amplitude levels that pass through a VOH Logic 1 V output range Logic 1 OHU input range NMH VIH Undefined range VIL Logic 0 NML V input range OLU Logic 0 V output range OL Input Output Figure PR3.5 Voltage ranges representing logic 1 and logic 0, and definition of noise margins"
Noise Margin,"NOISE MARGIN In an ideal digital system, logic 1 would be represented by a well-defined voltage level VO Hand logic 0 would be represented by a well-defined voltage level VOL . In actual digital systems, however, the voltage values representing the two logic states may change as a result of any number of factors, including variations in temperature, circuit fabrication tolerances, loading effects, and noise. At the input to a digital circuit, a range of voltages can represent each of the two binary states as illustrated in Figure PR3.5. The amplitude levels that pass through a VOH Logic 1 V output range Logic 1 OHU input range NMH VIH Undefined range VIL Logic 0 NML V input range OLU Logic 0 V output range OL Input Output Figure PR3.5 Voltage ranges representing logic 1 and logic 0, and definition of noise margins nea80644_pro03_1141-1144.qxd 07/12/2009 2:50 Page 1144 pinnacle MHDQ-New:MHDQ134:MHDQ134-PROL-PRIII: 1144 Prologue III Prologue to Digital Electronics digital system must be regenerated in order that a logic error is not produced. Voltage VI His the smallest input voltage recognized as a logic 1 and VI L is the largest input voltage recognized as a logic 0. These input levels produce output voltages in the ranges shown in Figure PR3.5. In an inverter circuit, input VI L produces output VO HU and input VI H produces output VO LU . The noise margins, then, are defined as shown in the figure. We consider noise margins in more detail in the next two chapters when we analyze specific circuits. PROPAGATION DELAY TIMES AND SWITCHING TIMES The switching characteristics of logic gates are generally described by propagation delay times. Standard definitions of digital circuit delay times are illustrated in Figure PR3.6. Propagation delay times from input to output, denoted τP H Land τP L H , are defined between the 50 percent points of the input and output pulse waveforms. In addition, high-to-low and low-to-high transition times at the output of a logic gate are defined as the times between the 10 and 90 percent points and are denoted τH Land τL H . Vin VOH 50% VOL tPHL tPLH Vout VOH 90% 50% 10% VOL tHL tLH Figure PR3.6 Standard definitions of digital delay times and propagation delay times SUMMARY These concepts, all of which should be familiar to the reader from a computer logic design course, are applied to specific digital logic circuits in the following two chapters of the text."
Propagation Delay Times and Switching Times,"PROPAGATION DELAY TIMES AND SWITCHING TIMES The switching characteristics of logic gates are generally described by propagation delay times. Standard definitions of digital circuit delay times are illustrated in Figure PR3.6. Propagation delay times from input to output, denoted τP H Land τP L H , are defined between the 50 percent points of the input and output pulse waveforms. In addition, high-to-low and low-to-high transition times at the output of a logic gate are defined as the times between the 10 and 90 percent points and are denoted τH Land τL H . Vin VOH 50% VOL tPHL tPLH Vout VOH 90% 50% 10% VOL tHL tLH Figure PR3.6 Standard definitions of digital delay times and propagation delay times SUMMARY These concepts, all of which should be familiar to the reader from a computer logic design course, are applied to specific digital logic circuits in the following two chapters of the text."
Summary,"SUMMARY These concepts, all of which should be familiar to the reader from a computer logic design course, are applied to specific digital logic circuits in the following two chapters of the text. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1145 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Digital Electronics 3 Part 2 of the text dealt with analog electronic circuits. Part 3 now deals with digital electronics, another important category of electronics. Chapter 16 examines field-effect transistor digital circuits. MOSFET digital circuits have revolutionized digital electronics, with CMOS technology producing high-density, low-power digital circuits. Initially, we briefly consider the NMOS inverter and NMOS logic gates. We then analyze the basic CMOS inverter and then develop CMOS logic gates. Finally, we analyze FET shift registers and flip-flops and then discuss some basic A/D and D/A converters. Bipolar digital circuits are considered in Chapter 17. We initially examine emitter-coupled logic, which is primarily used in specialized high-speed applications. We then briefly consider the basic aspects of transistor-transistor logic (TTL), which was the mainstay of logic design for many years. Low-power Schottky TTL circuits are analyzed in order to obtain a good comparison between FET and bipolar digital technologies. 1145 PART"
PART 3: DIGITAL ELECTRONICS,": Digital Electronics 3 Part 2 of the text dealt with analog electronic circuits. Part 3 now deals with digital electronics, another important category of electronics. Chapter 16 examines field-effect transistor digital circuits. MOSFET digital circuits have revolutionized digital electronics, with CMOS technology producing high-density, low-power digital circuits. Initially, we briefly consider the NMOS inverter and NMOS logic gates. We then analyze the basic CMOS inverter and then develop CMOS logic gates. Finally, we analyze FET shift registers and flip-flops and then discuss some basic A/D and D/A converters. Bipolar digital circuits are considered in Chapter 17. We initially examine emitter-coupled logic, which is primarily used in specialized high-speed applications. We then briefly consider the basic aspects of transistor-transistor logic (TTL), which was the mainstay of logic design for many years. Low-power Schottky TTL circuits are analyzed in order to obtain a good comparison between FET and bipolar digital technologies. 1145 PART nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1146 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1147 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: MOSFET Digital Circuits 16 This chapter presents the basic concepts of MOSFET digital integrated circuits, which is the most widely used technology for the fabrication of digital systems. The small transistor size and low power dissipation of CMOS circuits allows for a high level of integration for logic and memory circuits. JFET logic circuits are very specialized and are therefore not considered here. A discussion of NMOS logic circuits will serve as an introduction to the analysis and design of digital systems. This technology, although old, deals with only one type of transistor (n-channel) and therefore makes the analysis more straightforward than dealing with two types of transistors in the same circuit. This discussion will also serve as a baseline to point out advantages of CMOS technology. Initially, we consider basic digital logic circuits such as NOR and NAND gates, and then discuss additional logic circuits such as flip flops, shift registers, and adders. Finally, we consider memories, and then A/D and D/A converters. PREVIEW In this chapter, we will: • Analyze and design NMOS inverters • Analyze and design NMOS logic gates • Analyze and design CMOS inverters • Analyze and design static CMOS logic gates • Analyze and design clocked CMOS logic gates • Analyze and understand the characteristics of NMOS and CMOS transmission gates • Analyze and understand the characteristics of shift registers and various flip- flop designs • Discuss semiconductor memories • Analyze and design random-access memory (RAM) cells • Analyze read-only memories (ROM) • Discuss the basic concepts in A/D and D/A converters • As an application, design a static CMOS logic gate to implement a specific logic function. 1147 Chapter"
Chapter 16: MOSFET Digital Circuits,"16: MOSFET Digital Circuits 16 This chapter presents the basic concepts of MOSFET digital integrated circuits, which is the most widely used technology for the fabrication of digital systems. The small transistor size and low power dissipation of CMOS circuits allows for a high level of integration for logic and memory circuits. JFET logic circuits are very specialized and are therefore not considered here. A discussion of NMOS logic circuits will serve as an introduction to the analysis and design of digital systems. This technology, although old, deals with only one type of transistor (n-channel) and therefore makes the analysis more straightforward than dealing with two types of transistors in the same circuit. This discussion will also serve as a baseline to point out advantages of CMOS technology. Initially, we consider basic digital logic circuits such as NOR and NAND gates, and then discuss additional logic circuits such as flip flops, shift registers, and adders. Finally, we consider memories, and then A/D and D/A converters. PREVIEW In this chapter, we will: • Analyze and design NMOS inverters • Analyze and design NMOS logic gates • Analyze and design CMOS inverters • Analyze and design static CMOS logic gates • Analyze and design clocked CMOS logic gates • Analyze and understand the characteristics of NMOS and CMOS transmission gates • Analyze and understand the characteristics of shift registers and various flip- flop designs • Discuss semiconductor memories • Analyze and design random-access memory (RAM) cells • Analyze read-only memories (ROM) • Discuss the basic concepts in A/D and D/A converters • As an application, design a static CMOS logic gate to implement a specific logic function. 1147 Chapter"
Preview,"PREVIEW In this chapter, we will: • Analyze and design NMOS inverters • Analyze and design NMOS logic gates • Analyze and design CMOS inverters • Analyze and design static CMOS logic gates • Analyze and design clocked CMOS logic gates • Analyze and understand the characteristics of NMOS and CMOS transmission gates • Analyze and understand the characteristics of shift registers and various flip- flop designs • Discuss semiconductor memories • Analyze and design random-access memory (RAM) cells • Analyze read-only memories (ROM) • Discuss the basic concepts in A/D and D/A converters • As an application, design a static CMOS logic gate to implement a specific logic function. 1147 Chapter nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1148 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1148 Part 3 Digital Electronics 16.1 NMOS INVERTERS Objective: • Analyze and design NMOS inverters. The inverter is the basic circuit of most MOS logic circuits. The design techniques used in NMOS logic circuits are developed from the dc analysis results for the NMOS inverter. Extending the concepts developed from the inverter to NOR and NAND gates is then direct. Alternative inverter load elements are compared in terms of power consumption, packing density, and transfer characteristics. 16.1.1 n-Channel MOSFET Revisited We studied the structure, operation, and characteristics of MOS transistors in Chapter 3. In this section, we will quickly review then-channel MOSFET characteristics, emphasizing specific properties important in digital circuit design. The simplified n-channel MOSFET that we have considered is shown in Figure 16.1(a). A more detailed view of then-channel MOSFET is shown in Figure 16.1(b). The active transistor region is the surface of the semiconductor and comprises heavily doped n source and drain regions and the p-type channel region. The channel length is Land the channel width is W. The body, or substrate, is a single-crystal silicon wafer, which is the starting material for circuit fabrication and provides physical support for the integrated circuit. In an integrated circuit, all n-channel transistors are fabricated in the same p-type substrate material. The substrate is connected to the most negative potential in the circuit, which for digital circuits is normally at ground potential or zero volts. However, the source terminal of many transistors will not beat zero volts, which means that a reverse-biased pn junction will exist between the source and substrate. When the source and body terminals are not at the same potential, the threshold voltage of the transistor becomes a function of the source-to-body voltage. This body effect must then be taken into account in determining logic levels in digital circuits. Polysilicon or metal Gate W Oxide n+-type Gate, G dielectric semiconductor Metal source n-type Deposited (silicon Metal drain contact, S polysilicon insulator dioxide) contact, D SiO2 n+ n+ SiO2 n+-source tox + Gate L Source Field Drain p Channel Channel oxide region L region Channel length L 1 mm vertical n+-drain scale p-substrate p-type body, B (a) (b) Figure 16.1 (a) n-channel MOSFET simplified view and (b) n-channel MOSFET detailed cross section"
16.1 NMOS Inverters,"16.1 NMOS INVERTERS Objective: • Analyze and design NMOS inverters. The inverter is the basic circuit of most MOS logic circuits. The design techniques used in NMOS logic circuits are developed from the dc analysis results for the NMOS inverter. Extending the concepts developed from the inverter to NOR and NAND gates is then direct. Alternative inverter load elements are compared in terms of power consumption, packing density, and transfer characteristics. 16.1.1 n-Channel MOSFET Revisited We studied the structure, operation, and characteristics of MOS transistors in Chapter 3. In this section, we will quickly review then-channel MOSFET characteristics, emphasizing specific properties important in digital circuit design. The simplified n-channel MOSFET that we have considered is shown in Figure 16.1(a). A more detailed view of then-channel MOSFET is shown in Figure 16.1(b). The active transistor region is the surface of the semiconductor and comprises heavily doped n source and drain regions and the p-type channel region. The channel length is Land the channel width is W. The body, or substrate, is a single-crystal silicon wafer, which is the starting material for circuit fabrication and provides physical support for the integrated circuit. In an integrated circuit, all n-channel transistors are fabricated in the same p-type substrate material. The substrate is connected to the most negative potential in the circuit, which for digital circuits is normally at ground potential or zero volts. However, the source terminal of many transistors will not beat zero volts, which means that a reverse-biased pn junction will exist between the source and substrate. When the source and body terminals are not at the same potential, the threshold voltage of the transistor becomes a function of the source-to-body voltage. This body effect must then be taken into account in determining logic levels in digital circuits. Polysilicon or metal Gate W Oxide n+-type Gate, G dielectric semiconductor Metal source n-type Deposited (silicon Metal drain contact, S polysilicon insulator dioxide) contact, D SiO2 n+ n+ SiO2 n+-source tox + Gate L Source Field Drain p Channel Channel oxide region L region Channel length L 1 mm vertical n+-drain scale p-substrate p-type body, B (a) (b) Figure 16.1 (a) n-channel MOSFET simplified view and (b) n-channel MOSFET detailed cross section nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1149 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1149 Current–Voltage Relation The current–voltage characteristics of then-channel MOSFET are functions of both the electrical and geometric properties of the device. When the transistor is biased in the nonsatura[tion region, for vGS ≥ VT N] and vDS ≤ (vGS − VT N ), we can write iD = Kn 2(v 2 GS − VT N )vDS − vDS (16.1(a)) In the saturation region, for vGS ≥ VT N and vDS ≥ (vGS − VT N ), we have iD = Kn(vGS − V )2 TN (16.1(b)) The transition point separates the nonsaturation and saturation regions and is the drain-to-source saturation voltage, which is given by vDS = vDS(sat) = vGS − VT N (16.2) The term (1 + λvDS) is sometimes included in Equation (16.1(b)) to account for channel length modulation and the finite output resistance. In most cases, it has little effect on the operating characteristics of MOS digital circuits. In our analysis, the term λ is assumed to be zero unless otherwise stated. The pa(rameter K)n(is th)e NMOS transistor conduction parameter and is given by 1 Wk ′ Kn W n = μ 2 nCox = (16.3) L 2 L The electron mobility μn and oxide capacitance Cox are assumed to be constant for all devices in a particular IC. The current–voltage characteristics are directly related to the channel width-to- length ratio, or the size of the transistor. In general, in a given IC, the length L is fixed, but the designer can control the channel width W. Since the MOS transistor is a majority carrier device, the switching speed of MOS digital circuits is limited by the time required to charge and discharge the capacitances between device electrodes and between interconnect lines and ground. Figure 16.2 shows the significant capacitances in a MOSFET. The capacitances Csb and Cdb are the source-to-body and drain-to-body n+p junction capacitances. The total input gate capacitanc(e, to )a first approximation, is a constant equal to Cg = ε W LCox = W Lox (16.4) tox where Cox is the oxide capacitance per unit area, and is a function of the oxide thickness. The parameter Cox also appears in the expression for the conduction parameter. D Cgd Cdb GB Cgs Csb S Cgb Figure 16.2 n-channel MOSFET and device capacitances nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1150 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1150 Part 3 Digital Electronics Small Geometry Effects The current–voltage relationships given by Equations (16.1(a)), (16.1(b)), and (16.2) are first-order approximations that apply to “long” channel devices. The tendency in device design is to make the devices as small as possible, which means the channel length is being reduced to values substantially smaller than 1 μm. The corresponding channel widths are also being reduced. As the channel length is reduced, several effects alter the current–voltage characteristics. First, the threshold voltage becomes a function of the geometry of the device and is dependent on the channel length. This effect must be taken into account in the design of the transistor. Second, carrier velocity saturation reduces the saturation-mode current below the current value predicted by Equation (16.1(b)). The current is no longer a quadratic function of gate- to-source voltage, and tends to become a linear function of voltage. Channel length modulation means that the current tends to be larger than that predicted by the ideal equation. Third, the electron mobility is a function of the gate voltage so that the current tends to be smaller than the predicted value as the gate-to-source voltage increases. All of these effects complicate the analysis considerably. We can, however, determine the basic operation and behavior of MOSFET logic circuits by using the first-order equations. We will use these first-order equations in our design of logic circuits. To determine the effect of small device size, a computer simulation maybe performed in which the appropriate device models are incorporated in the simulation. 16.1.2 NMOS Inverter Transfer Characteristics Since the inverter is the basis for most logic circuits, we will describe the NMOS inverter and will develop the dc transfer characteristics for three types of inverters with different load devices. This discussion will introduce voltage transfer functions and will define the maximum and minimum logic levels. NMOS Inverter with Resistor Load Figure 16.3(a) shows a single NMOS transistor connected to a resistor to form an inverter. The transistor characteristics and load line are shown in Figure 16.3(b), along with the parametric curve separating the saturation and nonsaturation regions. We determine the voltage transfer characteristics of the inverter by examining the various regions in which the transistor can be biased. When the input voltage is less than or equal to the threshold voltage, or vI ≤ VT N , the transistor is cutoff, iD = 0, and the output voltage is vO = VDD . The maximum output voltage is defined as the logic 1 level. As the input voltage becomes iD vDS (sat) = vGS – VTN VDD VDD RD iD RD Transition point vO vI VDD vDS Figure 16.3 (a) NMOS inverter with resistor load and (b) transistor characteristics and load line nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1151 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1151 just greater than VT N , the transistor turns on and is biased in the saturation region. The output voltage is then vO = VDD − iD RD (16.5) where the drain current is given by i = K (v − V )2 D n GS TN = Kn(v 2 I − VT N ) (16.6) Combining Equations (16.5) and (16.6) yields vO = VDD − Kn RD(v − V 2 IT N ) (16.7) which relates the output and input voltages as long as the transistor is biased in the saturation region. As the input voltage increases, the Q-point of the transistor moves up the load line. At the transition point, we have VOt = VI t − VT N (16.8) where VOt and VI tare the drain-to-source and gate-to-source voltages, respectively, at the transition point. Substituting Equation (16.8) into (16.7), we determine the input voltage at the transition point from Kn RD(VI t − V )2 TN + (VI t − VT N ) − VDD = 0 (16.9) As the input voltage becomes greater than VI t , the Q-point continues to move up the load line, and the transistor becomes biased in the nonsaturation region. The drain current is then iD = [ ] [ ] Kn 2(vGS − VT N )vDS − v2 2 DS = Kn 2(vI − vT N )vO − vO (16.10) Combining Equations (1[6.5) and (16.10) yields vO = VDD − Kn RD 2(vI − ] VT N )vO − v2 O (16.11) which relates the input and output voltages as long as the transistor is biased in the nonsaturation region. Figure 16.4 shows the voltage transfer characteristics of this inverter for three resistor values. Also shown is the line, given by Equation (16.8), which separates the vO (V) Cutoff VDD = 2.5 2.0 Saturation VOt = VIt – VTN 1.5 Nonsaturation 1.0 RD = 5 kΩ RD = 50 kΩ 0.5 RD = 25 kΩ 0 0.5 1.0 1.5 2.0 2.5 vI (V) Figure 16.4 Voltage transfer characteristics of NMOS inverter with resistive load, using parameters from Example 16.1 and for the three resistor values. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1152 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1152 Part 3 Digital Electronics saturation and nonsaturation bias regions of the transistor. The figure shows that the minimum output voltage, or the logic 0 level, for a high input decreases within- creasing load resistance, and the sharpness of the transition region between a low input and a high input increases with increasing load resistance. It should be noted that a large resistance is difficult to fabricate in an IC. A large resistor value in the inverter will limit current and power consumption as well as provide a small VOL value. But it would also require a large chip area if fabricated in a standard MOS process. To avoid this problem MOS transistors can be used as load devices, replacing the resistor, as discussed in subsequent paragraphs. EXAMPLE 16.1 Objective: Determine the transition point, minimum output voltage, maximum drain current, and maximum power dissipation of an NMOS inverter with resistor load. Specifications: Consider the circuit in Figure 16.3(a) with parameters VDD = 2.5 V and RD = 20 k. The transistor parameters are VT N = 0.5 V and Kn = 0.3 mA/V2. Solution: The input voltage at the transition point is found from Equation (16.9). We have (0.3)(25)(VI t − 0.5)2 + (VI t − 0.5) − 2.5 = 0 which yields VI t − 0.5 = 0.515 V or VI t = 1.015 V The output voltage at the transition point is VO t = VI t − VT N = 1.015 − 0.5 = 0.515 V When vI is high at vI = 2.5 V, the output voltage is found from Equation (16.11). We find vO = 2.5 − (0.3(25)[2(2.5 − 0.5)vO − v2 O ] which yields the output low level as vO = VOL = 82.3 mV The maximum drain current in the inverter occurs when vO = VOL and is found to be = 2.5 − 0.0823 iD,max ⇒ 96.7 μA 25 The maximum power dissipated in the inverter is PD,max = iD,max · VDD = (0.0967)(2.5) = 0.242 mW Comment: The level of VOL is less than the threshold voltage VT N ; therefore, if the output of this inverter is used to drive a similar inverter, the driver transistor of the load inverter would be cutoff and its output would be high, which is the desired condition. We will compare the maximum drain currents and maximum power dissi- pations of the three basic NMOS inverters. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1153 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1153 EXERCISE PROBLEM Ex 16.1: Consider the NMOS inverter with resistor load in Figure 16.3(a) biased at V = 3 V. Assume transistor parameters of k ′ DD n = 100 μA/V2, W/L = 4, and VT N = 0.5 V. (a) Find the value of RD such that vO = 0.1 V when vI = 3 V. (b) Using the results of part (a), determine the maximum current and maximum power dissipation in the inverter. (c) Using the results of part (a), determine the transition point for the driver transistor. (Ans. (a) RD = 29.6 k; (b) iD,max = 0.098 mA, PD,max = 0.294 mW; (c) VI t = 1.132 V, VO t = 0.632 V) Ann-channel enhancement-mode MOSFET with the gate connected to the drain can be used as a load device in an NMOS inverter. This device configuration was analyzed in Chapter 3. We found that, when vGS = vDS ≥ VT N , the transistor always operates in the saturation region. The drain current is given by iD = Kn(vGS − V )2 TN = K (v 2 n DS − VT N ) (16.12) We continue to neglect the effect of the output resistance and the λ parameter. Figure 16.5(a) shows an NMOS inverter with the enhancement load device. The driver transistor parameters are denoted by VT ND and K D , and the load transistor parameters are denoted by VT N Land KL . The substrate connections are not shown. In the following analysis, we neglect the body effect and we assume all threshold voltages are constant. These assumptions do not seriously affect the basic analysis, nor the inverter characteristics. The driver transistor characteristics and the load curve are shown in Figure 16.5(b). When the inverter input voltage is less than the driver threshold voltage, the driver is cutoff and the drain currents are zero. From Equation (16.12), we have iDL = 0 = KL(v 2 DSL − VT N L) (16.13) VDD iDL iD vDS (sat) = vGS – V + TN Load: v + DSL VTNL, KL vGSL – iDD Transition point vO + Driver: vI v + DSD VTND, KD – vGSD – VDD – VTNL VDD vDS (a) (b) Figure 16.5 (a) NMOS inverter with saturated load and (b) driver transistor characteristics and load curve nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1154 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1154 Part 3 Digital Electronics From Figure 16.5(a), we see that vDSL = VDD − vO , which means that vDSL − VT N L = VDD − vO − VT N L = 0 (16.14(a)) The maximum output voltage is then vO,max ≡ VO H = VDD − VT N L (16.14(b)) For the enhancement-load NMOS inverter, the maximum output voltage, which is the logic 1 level, does not reach the full VDD value. This cutoff point is shown in the load curve in Figure 16.5(b). As the input voltage becomes just greater than the driver threshold voltage VT ND , the driver transistor turns on and is biased in the saturation region. In steady-state, the two drain currents are equal since the output will be connected to the gates of other MOS transistors. We have iDD = iDL , which can be written as K D(vGSD − V )2 TN D = KL(vGSL − VT N L)2 (16.15) Equation (16.15) is expressed in terms of the individual transistor parameters. In terms of the input and output voltages, the expression becomes K (v − V )2 DI TN D = KL(VDD − v 2 O − VT N L) (16.16) Solving for the output volta√ge yields K D vO = VDD − VT N L − (vI − VT ND) (16.17) KL As the input voltage increases, the driver Q-point moves up the load curve and the output voltage decreases linearly with vI . At the driver transition point, we have vDSD(sat) = vGSD − VT ND or VOt = VI t − VT ND (16.18) Substituting Equation (16.18) into (16.17), we find the input voltage at the transition point, which is ( √ ) VDD − K VD TN L + VT ND 1 + K V LI t = √ (16.19) 1 + K D KL As the input voltage becomes greater than VI t , the driver transistor Q-point continues to move up the load curve and the driver becomes biased in the nonsaturation region. Since the driver and load drain currents are still equal, or iDD = iDL , we now have [ ] K D 2(vGSD − VT ND)vDSD − v2 DSD = KL(vDSL − VT N L)2 (16.20) Writing [Equation (16.20) in term]s of the input and output voltages produces K 2 2 D 2(vI − VT ND)vO − vO = KL(VDD − vO − VT N L) (16.21) Obviously, the relationship between vI and vO in this region is not linear. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1155 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1155 vO (V) 2.5 2.0 VSt = VIt – VTND KD Saturation = 1 KL 1.5 Nonsaturation 1.0 KD = 4 KL 0.5 KD = 12.4 KL 0 0.5 1.0 1.5 2.0 2.5 vI (V) Figure 16.6 Voltage transfer characteristics of NMOS inverter with saturated load, using parameters from Example 16.2 and for three aspect ratios. Figure 16.6 shows the voltage transfer characteristics of this inverter for three K D-to-KL ratios. The ratio K D/KL is the aspect ratio and is related to the width-to- length parameters of the driver and load transistors. The line, given by Equation (16.18), separating the driver saturation and nonsaturation regions is also shown in the figure. We see that the minimum output voltage, or the logic 0 level, for a high input decreases with an increasing K D/KL ratio. As the width-to-length ratio of the load transistor decreases, the effective resistance increases, which means that the general behavior of the transfer characteristics is the same as for the resistor load. However, the high output voltage is VO H = VDD − VT N L When the driver is biased in the saturation region, we find the slope of the transfer curve, which is the inverter gain, by taking the derivative of Equation (16.17) with respect to vI . √We see that dvO/dvI = − K D/KL When the aspect ratio is greater than unity, the inverter gain magnitude is greater than unity. A logic circuit family with an inverter transfer curve that exhibits again greater than unity for some region is called a restoring logic family. Restoring logic is so named because logic signals that are degraded for some reason in one circuit can be restored by the gain of subsequent logic circuits. DESIGN EXAMPLE 16.2 Objective: Design an NMOS inverter to meet a set of specifications and determine the power dissipation in the inverter. Specifications: The NMOS inverter with saturated load shown in Figure 16.5(a) is to be designed such that vO = 0.1 V when vI = 2.0 V. The circuit is biased at VDD = 2.5 V. (Neglect the body effect.) nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1156 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1156 Part 3 Digital Electronics Choices: Transistors are available with parameters VT N = 0.5 V and k ′ n = 100 μA/V2. Solution: The maximum output voltage (defined as a logic 1), neglecting the body effect, is VO H = VDD − VT N L = 2.5 − 0.5 = 2.0 V For vI = 2.0 V, the driver is biased in the nonsaturation region and the load is always biased in the saturation region. Setting the two drain currents equal to each other, we find, using Equation (16.21), K D[2(2.0 − 0.5)(0.1) − (0.1)2] = KL(2.5 − 0.1 − 0.5)2 which yields K D = 12.4 KL If we choose (W/L)L = 1, and since K D = (W/L)D KL (W/L)L then( we h)ave W = 12.4 L D The maximum( inve)rter[ current occurs for vO =] VOL = 0.1 V and is found from k ′ W in D,max = ( · ) 2(v 2 2 I − VT ND)vO − v LO D = 0.1 [ ] (12.4) 2(2.0 − 0.5)(0.1) − (0.1)2 = 0.180 mA 2 The maximum power dissipated in the inverter is PD,max = iD,max · VDD = (0.18)(2.5) = 0.45 mW Comment: In the NMOS inverter with enhancement-mode load, a relatively large difference in sizes of the driver and load transistors is required to produce a relatively low output voltage VOL . The load transistor width-to-length ratio cannot be reduced substantially, so the maximum power dissipation cannot be substantially reduced from the 0.45 mW. EXERCISE PROBLEM Ex 16.2: The enhancement-load NMOS inverter in Figure 16.5(a) is biased at VDD = 3 V. The transistor parameters are k ′ n = 100 μA/V2, VT ND = VT N L = 0.4 V, (W/L)D = 16, and (W/L)L = 2. (a) Determine vO when (i) vI = 0.1 V and (ii) vI = 2.6 V. Neglect the body effect. (b) Determine the maximum current and maximum power dissipation in the inverter. (c) Determine the transition point for the driver transistor. (Ans. (a) (i) vO = 2.6 V, (ii) vO = 0.174 V; (b) iD,max = 0.589 mA, PD,max = 1.766 mW; (c) VI t = 1.08 V, VO t = 0.68 V) nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1157 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1157 NMOS Inverter with Depletion Load Depletion-mode MOSFETs can also be used as load elements in NMOS inverters. Figure 16.7(a) shows the NMOS inverter with depletion load. The gate and source of the depletion-mode transistor are connected together. The driver transistor is still an enhancement-mode device. As before, the driver transistor parameters are VT ND(VT ND > 0) and K D , and the load transistor parameters are VT N L(VT N L < 0) and KL . Again, the substrate connections are not shown. The fabrication process for this inverter is slightly more complicated than for the enhancement-load inverter, since the threshold voltages of the two devices are not equal. However, as we will see, the advantages of this inverter make the extra processing steps worthwhile. This inverter has been the basis of many microprocessor and static memory designs. The current–voltage characteristic curve for the depletion load, neglecting the body effect, is shown in Figure 16.7(b). Since the gate is connected to the source, vGSL = 0, and the Q-point of the load is on this particular curve. The driver transistor characteristics and the ideal load curve are shown in Figure 16.7(c). When the inverter input is less than the driver threshold voltage, the driver is cutoff and the drain currents are zero. From Figure 16.7(b), we see that for VDD iDL + v Load: DSL V , K – TNL L vO iDD iDL vDSL(sat) = vGSL – VTNL = – VTNL + v v Driver: vGSL = 0 I + DSD – VTND, KD vGSD – vDSL (a) (b) iD vDS (sat) = vGS – VTN Transition point for driver vGSD = VDD Transition point for load DC B Load curve A VDD vDS (c) Figure 16.7 (a) NMOS inverter with depletion load, (b) current–voltage characteristic of depletion load, and (c) driver transistor characteristics and load curve nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1158 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1158 Part 3 Digital Electronics iD = 0, the drain-to-source voltage of the load transistor must be zero; therefore, vO = VDD for vI ≤ VT ND . An advantage of the depletion-load inverter over the enhancement-load inverter is that the high output voltage, or the logic 1 level, is at the full VDD value. As the input voltage becomes just greater than the driver threshold voltage VT ND , the driver turns on and is biased in the saturation region; however, the load is biased in the nonsaturation region. The Q-point lies between points A and B on the load curve shown in Figure 16.7(c). We again set the two drain currents equal, or iDD = iDL , which means that 2 [ K 2 ] D[vGSD − VT ND] = KL 2(vGSL − VT N L)vDSL − vDSL (16.22) Writing Equation (16.22) in terms of the input and output voltages yields K D[v − V 2 IT ND] = KL [2(−VT N L)(VDD − vO) − (VDD − v )2 O ] (16.23) This equation relates the input and output voltages as long as the driver is biased in the saturation region and the load is biased in the nonsaturation region. There are two transition points for the NMOS inverter with a depletion load: one for the load and one for the driver. These are points Band C, respectively, in Figure 16.7(c). The transition point for the load is given by vDSL = VDD − VOt = vGSL − VT N L = −VT N L (16.24(a)) or VOt = VDD + VT N L (16.24(b)) Since VT N L is negative, the output voltage at the transition point is less than VDD . The transition point for the driver is given by vDSD = vGSD − VT ND or VOt = VI t − VT ND (16.25) When the Q-point lies between points Band Con the load curve, both devices are biased in the saturation region, and K D(v 2 2 GSD − VT ND) = KL(vGSL − VT N L) (16.26(a)) or √ K D (vI − VT ND) = −VT N L (16.26(b)) KL Equation (16.26(b)) demonstrates that the input voltage is a constant as the Q-point passes through this region. This effect is also shown in Figure 16.7(c); the load curve between points Band C lies on a constant vGSD curve. (This characteristic will change when the body effect is taken into account.) For an input voltage greater than the value given by Equation (16.26(b)), the driver is biased in the nonsaturation region while the load is biased in the saturation region. The Q-point is now between points C and Don the load curve in Figure 16.7(c). Equating[ the two drain currents, we obta]in K 2(v − V )v − v2 = K (v − V )2 D GSD TN D DSD DSD L GSL TN L (16.27(a)) which be[comes K D ] 2(vI − VT ND)vO − v2 O = (−VT N L)2 (16.27(b)) KL nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1159 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1159 vO (V) 2.5 KD = 2.56 Locus of transition KL points, for driver 2.0 VDD + VTNL = 1.5 Locus of transition points, for load K 1.0 D = 1.5 KL KD 0.5 = 1 KL 0 0.5 1.0 1.5 2.0 2.5 vI (V) Figure 16.8 Voltage transfer characteristics of an NMOS inverter with depletion load, using parameters from Example 16.3 and for three aspect ratios This equation implies that the relationship between the input and output voltages are not linear in this region. Figure 16.8 shows the voltage transfer characteristics of this inverter for three values of K D/KL . Also shown are the loci of transition points for the load and driver transistors as given by Equations (16.24(b)) and (16.25), respectively. DESIGN EXAMPLE 16.3 Objective: Design an NMOS inverter to meet a set of specifications and determine the power dissipation in the inverter. Specifications: The NMOS inverter with depletion load shown in Figure 16.7(a) is to be designed such that vO = VOL = 0.10 V when vI = 2.5 V. The circuit is biased at VDD = 2.5 V. (Neglect the body effect.) Choices: Transistors are available with process conduction parameters of k ′ 2 n = 100 μA/V . The driver transistor threshold voltage is VT ND = 0.5 V and the load transistor threshold voltage is VT N L = −1 V. Solution: For vI = 2.5 V, the driver transistor is biased in the nonsaturation region and the load transistor is biased in the saturation region. Using Equation (16.27(b), we find K D[2(2.5 − 0.5)(0.1) − (0.1)2] = KL [0 − (−1)]2 which yields K D = 2.56 KL If we choose (W/L)L = 1, then ( ) K D = (W/L)D ⇒ (W/L) W 2.56 = D ⇒ = 2.56 KL (W/L)L 1 L D nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1160 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1160 Part 3 Digital Electronics The maximum current in the inverter occurs when the output is in its low state, so, from the load transistor, we find k ′ ( ) ( ) = n · W i 2 100 D,max (0 − VT N L) = (1)[0 − (−1)]2 = 50 μA 2 LL 2 The maximum power dissipation in the inverter is PD,max = iD,max · VDD = (50)(2.5) = 125 μW Comment: A relatively low output voltage VOL can be produced in the NMOS inverter with depletion load, even when the load and driver transistors are not vastly different in size. The power dissipation in this inverter is also substantially less than in the enhancement-load inverter since the aspect ratio is smaller. Design Consideration: The static analysis of the three types of NMOS inverters clearly demonstrates the advantage of the depletion load inverter. The size of the driver transistor is smaller for a given load device size to produce a given low output state. This allows a greater number of inverters to be fabricated in a given chip area. In addition, since the power dissipation is less, more inverters can be fabricated on a chip for a given total power dissipation. EXERCISE PROBLEM Ex 16.3: The depletion-load NMOS inverter shown in Figure 16.7(a) is biased at VDD = 3 V. The transistor parameters are k ′ n = 100 μA/V2, VT ND = 0.4 V, VT N L = −0.8 V, (W/L)D = 6, and (W/L)L = 2. (a) Determine vO for vI = 3 V. Neglect the body effect. (b) Determine the maximum current and maximum power dissipation in the inverter. (c) Find the transition points for the driver and load transistors. (Ans. (a) vO = 0.0414 V; (b) iD,max = 0.064 mA, PD,max = 0.192 mW; (c) driver: VI t = 0.862 V, VO t = 0.462 V; load: VI t = 0.862 V, VO t = 2.2 V) 16.1.3 Body Effect Up to this point, we have neglected the body effect and assumed that all threshold voltages are constant. Figure 16.9 shows enhancement-load and depletion-load VDD = 2.5 V VDD = 2.5 V vO vO vI vI (a) (b) Figure 16.9 NMOS inverters, showing substrate connections to ground potential: (a) enhancement-load inverter and (b) depletion-load inverter nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1161 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1161 NMOS inverters with the substrates of all transistors tied to ground. A nonzero source-to-body voltage will then exist in the load devices. In fact, the source terminal of the depletion load can increase to VDD . The threshold voltage equation, including the body effect, must be used in the circuit calculations for the load transistor. This significantly complicates the equations for the voltage transfer calculations, making them very cumbersome for hand analyses. EXAMPLE 16.4 Objective: Determine the change in the high output voltage of an NMOS inverter with enhancement load, taking the body effect into account. Consider the NMOS inverter with enhancement load in Figure 16.9(a). The transistor parameters are VT N DO = VT N LO = 0.5 V and K D/KL = 16. Assume the inverter is biased at VDD = 2.5 V, assume the body effect coefficient is γ = 0.5 V1/2, and let φ f p = 0.365 V. Solution: When vI < VT N DO , the driver is cutoff and the output goes high. From Equation (16.14(b)), the maximum output voltage is vO,max = VO H = VDD − VT N L where VT N L is given by [ ] VT N L = √ √ VT N LO + γ 2φ f p + VSB − 2φ f p From Figure 16.9(a), we see that VSB = vO . Therefore, Equation (16.14(b)) can be written as { [√ √ ]} vO,max = VDD − VT N LO + γ 2φ f p + vO,max − 2φ f p Defining vO,max ≡ VO H , w√e have VO H − 2.427 = −0.5 0.73 + VO H Squaring both sides and rearranging terms yields V 2 OH − 5.1044VO H + 5.7088 = 0 Consequently, the maximum output voltage, or the logic 1 level, is VO H = 1.655 V Comment: Neglecting the body effect, the logic 1 output level is VO H = VDD − VT N LO = 2.5 − 0.5 = 2.0 V The body effect, then, can significantly influence the logic high state of the NMOS inverter with enhancement load. These results also impact the inverter noise margins. The source and body terminals of the depletion load device in the NMOS inverter shown in Figure 16.9(b) are not at the same potential when the output goes high. However, when the driver is cutoff, the drain-to-source voltage of the depletion device must be zero in order that vO,max = VO H = VDD . Computer Simulation: A computer analysis of the inverters in Figure 16.9 was performed, neglecting the body effect and taking the body effect into account. The parameters are VDD = 5 V, VT N DO = 0.8 V for the driver transistors, VT N LO = 0.8 V nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1162 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1162 Part 3 Digital Electronics vO (V) vO (V) 5 5 4 Neglecting 4 body effect Neglecting body effect 3 3 With body 2 2 effect 1 With 1 body effect 0 1 2 3 vI (V) 0 1 2 3 vI (V) (a) (b) Figure 16.10 Voltage transfer characteristics of NMOS inverters with and without the body effect (a) enhancement load and (b) depletion load for the saturated load transistor, and VT N LO = −2 V for the depletion load transistor. The body effect coefficient was assumed to be γ = 0.9 V1/2. The body effect changes the voltage transfer characteristics of both the enhancement load and depletion load inverters. Figure 16.10(a) shows the voltage transfer characteristics for the enhancement load inverter. For vI = 0, the output voltage is 3.15 V when the body effect is taken into account. This compares to 4.2 V when the body effect is neglected. Figure 16.10(b) shows the voltage transfer characteristics for the depletion load inverter. The output voltage is 5 V in the high state, which is independent of the body effect. However, the characteristics during the transition region area function of the body effect. EXERCISE PROBLEM Ex 16.4: Repeat Example 16.4 for the case when the body effect coefficient is γ = 0.3 V1/2. (Ans. VO H = 1.781 V) Test Your Understanding TYU 16.1 Consider the NMOS inverter with enhancement load, as shown in Figure 16.5(a), biased at VDD = 1.8 V. The threshold voltages are VT ND = VT N L = 0.4 V. Assume k ′ n = 100 μA/V2. Design the width-to-length ratios such that the output voltage is 0.12 V and the maximum inverter power dissipation is 0.50 mW when vI = 1.4 V. Neglect the body effect. (Ans. (W/L)L = 3.39, (W/L)D = 24.6) TYU 16.2 Consider the depletion load inverter in Figure 16.7(a) biased at VDD = 1.8 V. The threshold voltages are VT ND = 0.4 V and VT N L = −0.6 V. Assume k ′ n = 100 μA/V2. Design the inverter such that the maximum inverter power dissipation is 0.2 mW and the output voltage is 0.08 V when vI = 1.8 V. Neglect the body effect. (Ans. (W/L)L = 6.17, (W/L)D = 10.2) nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1163 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1163 TYU 16.3 (a) Consider the results of Exercise Ex 16.1. Assume 100,000 resistor- load inverters are fabricated on a single chip and the input voltage of each inverter is high. Determine the current that must be supplied to each chip and the maximum power that will be dissipated on each chip. (b) Repeat part (a) for Exercise Ex 16.2 and the enhancement-load inverter. (c) Repeat part (a) for Exercise Ex 16.3 and the depletion-load inverter. (Ans. (a) I = 9.8 A, P = 29.4 W; (b) I = 58.9 A, P = 176.6 W; (c) I = 6.4 A, P = 19.2 W) 16.2 NMOS LOGIC CIRCUITS Objective: • Analyze and design NMOS logic gates. NMOS logic circuits are formed by combining driver transistors in parallel, series, or series–parallel combinations to produce a desired output logic function. 16.2.1 NMOS NOR and NAND Gates The NMOS NOR logic gate contains additional driver transistors connected in parallel. Figure 16.11 shows a two-input NMOS NOR logic gate with a depletion load. If A = B = logic 0, then both MD A and MDB are cutoff and vO = VDD . If A = logic 1 and B = logic 0, then MDB is cutoff and the NMOS inverter configuration with ML and MD A is the same as previously considered, and the output voltage goes low. Similarly, if A = logic 0 and B = logic 1, we again have the same inverter configuration. If A = B = logic 1, then both MD A and MDB turn on and the two driver transistors are effectively in parallel. The value of the output voltage now changes slightly. Figure 16.12 shows the NOR gate when both input voltages area logic 1. From our previous analysis, we can assume that the two driver transistors are biased VDD = 2.5 V iDL VDD ML vO ML iDA iDB vO A = 2.5 V MDA B = 2.5 V MDB + + A MDA B MDB vGSA vGSB – – Figure 16.11 Two-input NMOS Figure 16.12 Two-input NMOS NOR NOR logic gate with depletion load logic gate for Example 16.5"
16.2 NMOS Logic Circuits,"16.2 NMOS LOGIC CIRCUITS Objective: • Analyze and design NMOS logic gates. NMOS logic circuits are formed by combining driver transistors in parallel, series, or series–parallel combinations to produce a desired output logic function. 16.2.1 NMOS NOR and NAND Gates The NMOS NOR logic gate contains additional driver transistors connected in parallel. Figure 16.11 shows a two-input NMOS NOR logic gate with a depletion load. If A = B = logic 0, then both MD A and MDB are cutoff and vO = VDD . If A = logic 1 and B = logic 0, then MDB is cutoff and the NMOS inverter configuration with ML and MD A is the same as previously considered, and the output voltage goes low. Similarly, if A = logic 0 and B = logic 1, we again have the same inverter configuration. If A = B = logic 1, then both MD A and MDB turn on and the two driver transistors are effectively in parallel. The value of the output voltage now changes slightly. Figure 16.12 shows the NOR gate when both input voltages area logic 1. From our previous analysis, we can assume that the two driver transistors are biased VDD = 2.5 V iDL VDD ML vO ML iDA iDB vO A = 2.5 V MDA B = 2.5 V MDB + + A MDA B MDB vGSA vGSB – – Figure 16.11 Two-input NMOS Figure 16.12 Two-input NMOS NOR NOR logic gate with depletion load logic gate for Example 16.5 nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1164 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1164 Part 3 Digital Electronics in the nonsaturation region and the load device is biased in the saturation region. We then have iDL = iD A + iDB which in general terms can be written K [v − V ]2 [ ] L GSL TN L = K DA 2([vGS A − VT NA)vDS A − v2 DS A + K DB 2(vGSB − ] VT NB)v 2 DSB − vDSB (16.28) If we assume the two driver transistors are identical, then the driver conduction parameters and threshold voltages are also identical, or K DA = K DB ≡ K D and VT NA = VT NB ≡ VT ND . Noting that vGSL = 0, vGS A = vGSB = VDD , and vDS A = vDSB = vO , we can( write) Equation (16.28) as − 2 = K D [ − − 2 ] [ VT N L ] 2 2(VDD VT ND)vO vO (16.29) KL Equation (16.29) shows that when both drivers are conducting, the effective width-to-length ratio of the composite driver transistor doubles. This means that the output voltage becomes slightly smaller when both inputs are high. EXAMPLE 16.5 Objective: Determine the low output voltage of an NMOS NOR circuit. Consider the NOR logic circuit in Figure 16.12 biased at VDD = 2.5 V. Assume transistor parameters of k ′ n = 100 μA/V2, VT ND = 0.4 V, VT N L = −0.6 V, (W/L)D = 4, and (W/L)L = 1. Neglect the body effect. Solution: If, for example, A = logic 1 = 2.5 V and B = logic 0, then MD A is biased in the nonsaturation region and MDB is cutoff. The output voltage is determined from Equation (16.27(b)), which is K D [ ] 2(vI − VT ND)v − v2 O O = (−V 2 TN L) KL or 4[ 2(2.5 − 0.4)v − v2 ] O O = [−(−0.6)]2 1 The output voltage is found to be vO = 21.5 mV. If both inputs go high, then A = B = logic 1 = VDD = 2.5 V and the output voltage can be found( usin)g E[ quation (16.29), which is − 2 K D ( V 2 ] TN L) = 2 2(VDD − VT ND)vO − v KO L or [− − ] ( ) 2 4 [ ] ( 0.6) = 2 2(2.5 − 0.4)vO − v2 1 O The output voltage is found to be vO = 10.7 mV. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1165 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1165 Comment: An NMOS NOR gate must be designed to achieve a specified VOL output voltage when only one input is high. This will give the largest logic 0 value. When more than one input is high, the output voltage is smaller than the specified VOL value, since the effective width-to-length ratio of the composite driver transistor increases. EXERCISE PROBLEM Ex 16.5: Consider the two-input NMOS NOR logic gate shown in Figure 16.11. Let VDD = 1.8 V. Assume transistor parameters of k ′ n = 100 μA/V2, VT ND = 0.4 V, VT N L = −0.6 V, (W/L)D = 5, and (W/L)L = 1. Neglect the body effect. (a) Determine VOL when: (i) A = logic 1, B = logic 0, and (ii) A = B = logic 1. (b) Calculate the power dissipation in the circuit for the input condition given in part (a). (Ans. (a) (i) vO = 26 mV, (ii) vO = 12.9 mV; (b) For (i) and (ii), VDD P = 32.4 μW) ML The NMOS NAND logic gate contains additional driver transistors connected in series. Figure 16.13 shows a two-input NMOS NAND logic gate with a depletion vO load. If both A = B = logic 0, or if either A or Bis a logic 0, at least one driver is cutoff, and the output is high. If both A = B = logic 1, then the composite driver of the A MDA NMOS inverter conducts and the output goes low. Since the gate-to-source voltages of MD A and MDB are not equal, determining the actual voltage VOL of a NAND gate is difficult. The drain-to-source voltages of B MDB MD A and MDB must adjust themselves to produce the same current. In addition, if the body effect is also included, the analysis becomes even more difficult. Since the two driver transistors are in series, a good approximation assumes that the width-to- Figure 16.13 Two-input length ratio of the drivers must be twice that of a single driver in an NMOS inverter NMOS NAND logic gate to achieve a given VOL value. with depletion load The composite width-to-length ratios of the driver transistors in the two-input NMOS NOR and NAND gates are shown schematically in Figure 16.14. For the NOR gate, the effective width doubles; for the NAND gates, the effective length doubles. VDD VDD WL WL LL LL Y YA WA LA ≡ WA LA + LB WA WA LB AB LB B WB LB (a) (b) Figure 16.14 Composite width-to-length ratios of driver transistors in two-input NMOS logic configurations (a) NOR and (b) NAND nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1166 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1166 Part 3 Digital Electronics EXAMPLE 16.6 Objective: Determine the low output voltage of an NMOS NAND circuit. Consider the NAND logic circuit shown in Figure 16.13 biased at VDD = 2.5 V. Assume transistor parameters of k ′ n = 100 μA/V2, VT ND = 0.4 V, VT N L = −0.6 V, (W/L)D = 8, and (W/L)L = 1. Neglect the body effect. Solution: If either A or Bis a logic 0, then vO = logic 1 = 2.5 V. If A = B = logic 1 = 2.5 V, then both driver transistors are driven in the non- saturation region and the output goes low. As a good approximation, we will assume the effective length of the driver transistor doubles. Then, using Equation (16.27(b)), we have( ) 1 (· W 2 L) [ ] D 2 2 W 2(vI − VT ND)vO − vO = (−VT N L) LL or 8 [ − ] 2(2.5 0.4)v − v2 O O = [−(−0.6)]2 (2)(1) The output voltage is found to be vO = 21.5 mV. This output voltage is the same value that would be obtained for a simple inverter with (W/L)D = 4 and (W/L)L = 1. Comment: If an N-input NMOS NAND logic gate were to be fabricated then the width-to-length ratio of the drivers would need to be N times that of a single driver in an NMOS inverter to achieve a given value of VOL . The increase in the required area of the driver transistors in a NAND logic gate means that logic gates with more than three or four inputs are not attractive. EXERCISE PROBLEM Ex 16.6: Repeat Example 16.6 for a three-input NMOS NAND logic gate with depletion load with (W/L)L = 1 and (a) (W/L)D = 12 and (b) (W/L)D = 4. (Ans. (a) vO = 21.5 mV, (b) vO = 65.3 mV) 16.2.2 NMOS Logic Circuits The series–parallel combination of drivers can be expanded to synthesize more complex logic functions. Consider the circuit in Figure 16.15. We can show that the Boolean output function is f = (A · B + C) Also, the individual transistor width-to-length ratios shown produce an effective K D/KL ratio of 4 for an effective single inverter when only MD A and MDB are conducting, or only MDC is conducting. The actual complexity of the Boolean function is limited since the required width-to-length ratios of individual transistors maybe- come unreasonably large. Two additional logic functions are the exclusive-OR and exclusive-NOR. Figure 16.16 shows a circuit configuration that produces the exclusive-OR function. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1167 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1167 VDD VDD M 1 L 1 ML vO = f = (A⋅B + C) f = A ⊗ BA M 8 DA 1 AM − DAB MDB− CM 4 DC 1 BM 8 A−DB MDA− BM 1 DB Figure 16.15 NMOS logic circuit example Figure 16.16 NMOS exclusive-OR logic gate If A = B = logic 1, a path exists from the output to ground through drivers MD A and MDB , and the output goes low. Similarly, if A = B = logic 0, which means that Ā = B̄ = logic 1, a path exists from the output to ground through the drivers MDB̄ and MD Ā , and the output again goes low. For all other input logic signal combinations, the output is isolated from ground so the output goes high. 16.2.3 Fanout Load circuit An NMOS inverter or NMOS logic gate must be capable of driving more than one load, as shown in Figure 16.17. It is assumed that each load is identical to the driver Driving Load logic logic circuit. The number of identical-load circuits connected to the output of a dri- circuit circuit ver logic circuit is defined as the fanout. For MOS logic circuits, the inputs to the load circuits are the oxide-insulated gates of the MOS transistors; therefore, the static Load loading caused by multiple driver loads is so small that the dc transfer curve is circuit essentially identical to a no-load condition. The dc characteristics of MOS logic circuits are unaffected by the fanout to other MOS logic inputs. However, the load N load circuits capacitance due to a large fanout seriously degrades the switching speed and propagation delay times. Consequently, maintaining the propagation delay time below a Figure 16.17 Logic circuit specified maximum value determines the fanout of MOS digital circuits. driving N load circuits Test Your Understanding TYU 16.4 (a) Design a three-input NMOS NOR logic gate with depletion load such that VOL(max) = 50 mV and such that the maximum power dissipation is 50 μW. Let VDD = 2.5 V. The transistor parameters are k ′ n = 100 μA/V2, VT ND = 0.4 V, and VT N L = −0.6 V. (b) Using the results of part (a), determine VOL when all inputs area logic 1. (Ans. (a) (W/L)L = 1.11, (W/L)D = 1.93; (b) VOL = 16.5 mV) TYU 16.5 Consider the NMOS logic circuit in Figure 16.18. Assume transistor parameters of k ′ n = 100 μA/V 2 and VT N = 0.4 V. Assume all driver transistors are identical. Neglect the body effect. (a) If (W/L)L = 0.5, determine (W/L) for the drivers such that VOL(max) = 80 μV. Assume logic 1 input voltages are 2.1 V. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1168 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1168 Part 3 Digital Electronics VDD = 5 V VDD = 5 V ML ML vO vO A MDA B MDB A MDA C MDC B MDB D MDD C MDC Figure 16.18 Figure for Exercise Figure 16.19 Figure for Exercise TYU 16.5 TYU 16.6 (b) Determine the maximum power dissipation in the logic circuit. (Ans. (a) (W/L)D = 15.4, (b) P = 255 μW) TYU 16.6 Repeat Exercise TYU 16.5 for the NMOS logic circuit in Figure 16.19, except assume the threshold voltage of the load device is VT N L = −0.6 V. (Ans. (a) (W/L)D = 1.09, (b) P = 22.5 μW) 16.3 CMOS INVERTER Objective: • Analyze and design CMOS inverters. Complementary MOS, or CMOS, circuits contain both n-channel and p-channel MOSFETs. As we will see, the power dissipation in CMOS logic circuits is much smaller than in NMOS circuits, which makes CMOS very attractive. We briefly review the characteristics of p-channel transistors, and will then analyze the CMOS inverter, which is the basis of most CMOS logic circuits. We will examine the CMOS NOR and NAND gates and other basic CMOS logic circuits, covering power dissipation, noise margin, fanout, and switching characteristics. 16.3.1 p-Channel MOSFET Revisited Figure 16.20 shows a simplified view of a p-channel MOSFET. The p- and n-regions are reversed from those in an n-channel device. Again, the channel length is Land the channel width is W. Usually in any given fabrication process, the channel length is the same for all devices, so the channel width Wis the variable in logic circuit design. Normally, in an integrated circuit, more than one p-channel device will be fabricated in the same n-substrate so the p-channel transistors will exhibit a body effect. Then-substrate is connected to the most positive potential. The source terminal may"
16.3 CMOS Inverter,"16.3 CMOS INVERTER Objective: • Analyze and design CMOS inverters. Complementary MOS, or CMOS, circuits contain both n-channel and p-channel MOSFETs. As we will see, the power dissipation in CMOS logic circuits is much smaller than in NMOS circuits, which makes CMOS very attractive. We briefly review the characteristics of p-channel transistors, and will then analyze the CMOS inverter, which is the basis of most CMOS logic circuits. We will examine the CMOS NOR and NAND gates and other basic CMOS logic circuits, covering power dissipation, noise margin, fanout, and switching characteristics. 16.3.1 p-Channel MOSFET Revisited Figure 16.20 shows a simplified view of a p-channel MOSFET. The p- and n-regions are reversed from those in an n-channel device. Again, the channel length is Land the channel width is W. Usually in any given fabrication process, the channel length is the same for all devices, so the channel width Wis the variable in logic circuit design. Normally, in an integrated circuit, more than one p-channel device will be fabricated in the same n-substrate so the p-channel transistors will exhibit a body effect. Then-substrate is connected to the most positive potential. The source terminal may nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1169 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1169 Polysilicon or metal Oxide W p-type semiconductor p-source L Gate p-drain n-substrate Figure 16.20 Simplified cross section of p-channel MOSFET be negative with respect to the substrate; therefore, voltage VBS may exist between the body and the source. The th[r√eshold voltage is √ = − 2eε V Vs Nd √ ] T PT PO [√ 2φ f n +√VBS −] 2φ f n Cox = VT PO − γ 2φ f n + VBS − 2φ f n (16.30) where VT PO is the threshold voltage for zero body-to-source voltage, or VBS = 0. The parameter Nd is then-substrate doping concentration and φ f n is a potential related to the substrate doping. The parameter γ is the body effect coefficient. Current–Voltage Relation The current–voltage characteristics of the p-channel MOSFET are functions of both the electrical and geometric properties of the device. When the transistor is biased in the nonsatura[tion region, we have vSD ≤] vSG + VT P . Therefore, iD = Kp 2(vSG + VT P)v − v2 SD SD (16.31(a)) In the saturation region, we have vSD ≥ vSG + VT P , which means that iD = Kp(vSG + V 2 T P) (16.31(b)) The gate potential is negative with respect to the source. For the p-channel transistor to conduct, we must have vGS < VT P , where VT Pis negative for an enhancement-mode device. We also see that vSG > |VT P | when the p-channel device is conducting. In most cases, the channel length modulation factor λ has very little effect on the operating characteristics of MOS digital circuits. Therefore, the term λ is assumed to be zero unless otherwise stated. The transition point, which separates the nonsaturation and saturation bias regions, is given by vSD = vSD(sat) = vSG + VT P (16.32) The parame(ter Kp is )th(e co)nduction parameter and is given by = 1 Wk ′ p W Kp μ C = (16.33) 2 pox L 2 L nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1170 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1170 Part 3 Digital Electronics As before, the hole mobility μp and oxide capacitance Cox are assumed to be constant for all devices. The hole mobility in p-channel silicon MOSFETs is approximately one-half the electron mobility μn inn-channel silicon MOSFETs. This means that a p-channel device width must be approximately twice as large as that of an n-channel device in order that the two devices be electrically equivalent (that is, that they have the same conduction parameter values). Small Geometry Effects The same small geometry effects apply to the p-channel devices as we discussed for then-channel devices in Section 16.1.1. As with the NMOS inverters and logic circuits, we can use Equations (16.31(a)), (16.31(b)), and (16.32) as first-order equations in the design of CMOS logic circuits. The basic operation and behavior of CMOS logic circuits can be predicted using these first-order equations. 16.3.2 DC Analysis of the CMOS Inverter The CMOS inverter, shown in Figure 16.21, is a series combination of a p-channel and an n-channel MOSFET. The gates of the two MOSFETs are connected together to form the input and the two drains are connected together to form the output. Both transistors are enhancement-mode devices. The parameters of the NMOS are denoted by Kn and VT N , where VT N > 0, and the parameters of the PMOS are denoted by Kp and VT P , where VT P < 0. VDD + iDP vSGP – + v PMOS: SDP – KP,VTP vO vI iDN + NMOS: v + DSN KN, V – TN vGSN – Figure 16.21 CMOS inverter Figure 16.22 shows a simplified cross section of a CMOS inverter. In this process, a separate p-well region is formed within the starting n-substrate. Then-channel device is fabricated in the p-well region and the p-channel device is fabricated in then-substrate. Although other approaches, such as an n-well in a p-substrate, are also used to fabricate CMOS circuits, the important point is that the processing is more complicated for CMOS circuits than for NMOS circuits. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1171 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1171 Input VDD Output S VDD p-channel SD D SD n+ n+ p+ p+ Input Output D p-well n-channel n-substrate S (a) (b) Figure 16.22 Simplified cross section, CMOS inverter However, the advantages of CMOS digital logic circuits over NMOS circuits justify their use. Voltage Transfer Curve Figure 16.23 shows the transistor characteristics for both then- and p-channel devices. We can determine the voltage transfer characteristics of the inverter by evaluating the various transistor bias regions. For vI = 0, the NMOS device is cutoff, iDN = 0, and iD P = 0. The PMOS source-to-gate voltage is VDD , which means that the PMOS is biased on the curve marked Bin Figure 16.23(b). Since the only point on the curve corresponding to iD P = 0 occurs at vSD P = 0 = VDD − vO , the output voltage is vO = VDD . This condition exists as long as the NMOS transistor is cutoff, or vI ≤ VT N . For vI = VDD , the PMOS device is cutoff, iD P = 0, and iDN = 0. The NMOS gate-to-source voltage is VDD and the NMOS is biased on the curve marked A in Figure 16.23(a). The only point on the curve corresponding to iDN = 0 occurs at vDSN = vO = 0. The output voltage is zero as long as the PMOS transistor is cutoff, or vSG P = VDD − vI ≤ |VT P |. This means that the input voltage is in the range VDD − |VT P | ≤ vI ≤ VDD . iDN iDP vDSN (sat) vSDP (sat) vGSN = VDD vSGP = VDD AB v = V + C GSN TN vSGP = |V + TP| 0 VDD vDSN = vO 0 VDD vSDP = VDD – vO (a) (b) Figure 16.23 Current–voltage characteristics, (a) NMOS transistor and (b) PMOS transistor nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1172 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1172 Part 3 Digital Electronics vO NMOS cutoff VOH = VDD PMOS cutoff VOL = 0 0 VTN (VDD – |VTP|) VDD vI Figure 16.24 CMOS inverter output voltage for input voltage in either high state or low state Figure 16.24 shows the voltage transfer characteristics generated thus far for the CMOS inverter. The more positive output voltage corresponds to a logic 1, or VO H = VDD , and the more negative output voltage corresponds to a logic 0, or VOL = 0. When the output is in the logic 1 state, the NMOS transistor is cutoff; when the output is in the logic 0 state, the PMOS transistor is cutoff. Ideally, the current in the CMOS inverter in either steady-state condition is zero, which means that, ideally, the quiescent power dissipation is zero. This result is the attractive feature of CMOS digital circuits. In actuality, CMOS inverter circuits exhibit a small leakage current in both steady-state conditions, due to the reverse-biased pn junctions. However, the power dissipation maybe in the nanowatt range rather than in the milliwatt range of NMOS inverters. Without this feature, VLSI would not be possible. When the input voltage is just greater than VT N , or v = v = V + I GSN TN the NMOS begins to conduct and the Q-point falls on the curve marked C in Figure 16.23(a). The current is small and v ∼ DSN = VDD , which means that the NMOS is biased in the saturation region. The PMOS source-to-drain voltage is small, so the PMOS is biased in the nonsatu[ration region. Setting iDN = i]DP , we can write Kn[v 2 GSN − VT N ] = Kp 2(v 2 SG P + VT P)vSD P − vSD P (16.34) Relating the gate-to-source and drain-to-source voltages in each transistor to the inverter input and output voltages, respectively, we can rewrite Equation (16.34) as follows: Kn[vI − V 2 TN ] = Kp[2(VDD − vI + VT P)(VDD − vO) − (V 2 DD − vO) ] (16.35) Equation (16.35) relates the input and output voltages as long as the NMOS is biased in the saturation region and the PMOS is biased in the nonsaturation region. The transition point for the PMOS is defined from vSD P(sat) = vSG P + VT P (16.36) Using Figure 16.25, Equation (16.36) can be written VDD − VO Pt = VDD − VI Pt + VT P (16.37(a)) or VO Pt = VI Pt − VT P (16.37(b)) nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1173 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1173 vO Transition point locus VDD A for PMOS VOPt = VIPt + |VTP| Transition point locus B for NMOS VONt = VINt – VTN |VTP| C VTN (VDD – |VTP|) VDD vI Figure 16.25 Regions of the CMOS transfer characteristics indicating NMOS and PMOS transistor bias conditions. The NMOS device is biased in the saturation region in areas A and Band in the nonsaturation region in area C. The PMOS device is biased in the saturation region in areas Band C and in the nonsaturation region in area A. where VO Pt and VI Pt are the PMOS output and input voltages, respectively, at the transition point. The transition point for the NMOS is defined from vDSN (sat) = vGSN − VT N (16.38(a)) or VO Nt = VI Nt − VT N (16.38(b)) where VO Nt and VI Nt are the NMOS output and input voltages, respectively, at the transition point. On the basis that VT Pis negative for an enhancement-mode PMOS, Equations (16.37(b)) and (16.38(b)) are plotted in Figure 16.25. We determine the input voltage at the transition points by setting the two drain currents equal to each other when both transistors are biased in the saturation region. The result is Kn(v 2 2 GSN − VT N ) = Kp(vSG P + VT P) (16.39) With the gate-to-source voltages related to the input voltage, Equation (16.39) becomes Kn(vI − V 2 TN ) = Kp(V − v + V )2 DD IT P (16.40) For this ideal case, the output voltage does not appear in Equation (16.40), and the input voltage is a constant, as long as the two transistors are biased in the saturation region. Voltage vI from Equation (√16.40) is the input voltage at the PMOS and NMOS transition points. Solving for vI , we find that K VDD + V n T P√+ VT N K = = p vI vI t (16.41) 1 + Kn Kp For vI > VI t , the NMOS is biased in the nonsaturation region and the PMOS is biased i[n the saturation region. Again ]equating the two drain currents, we have K 2 2 n 2(vGSN − VT N )vDSN − vDSN = Kp(vSG P + VT P) (16.42) nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1174 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1174 Part 3 Digital Electronics vO VDD VOPt VONt 0 VTN VIt VDD – |VTP| VDD vI Figure 16.26 Complete voltage transfer characteristics, CMOS inverter Also, relating the gate-to-source and drain-to-source voltages to the input and output voltages[, respectively, modifie]s Equation (16.42) as follows: Kn 2(vI − V 2 TN )vO − vO = Kp(VDD − vI + V 2 T P) (16.43) Equation (16.43) relates the input and output voltages as long as the NMOS is biased in the nonsaturation region and the PMOS in the saturation region. Figure 16.26 shows the complete voltage transfer curve. EXAMPLE 16.7 Objective: Determine the critical voltages on the voltage transfer curve of a CMOS inverter. Consider a CMOS inverter biased at VDD = 5 V with transistor parameters Kn = Kp and VT N = −VT P = 0.8 V. Then consider another CMOS inverter biased at VDD = 3 V with transistor parameters Kn = Kp and VT N = −VT P = 0.6 V. Solution (VDD = 5 V): The input voltage at the transition points is, from Equation (16.41), + − √ = 5 ( 0.8) √+ 1(0.8) VI t + = 2.5 V 1 1 The output voltage at the transition point for the PMOS is, from Equation (16.37(b)), VO Pt = VI t − VT P = 2.5 − (−0.8) = 3.2 V and the output voltage at the transition point or the NMOS is, from Equation (16.38(b)), VO Nt = VI t − VT N = 2.5 − 0.8 = 1.7 V Solution (VDD = 3 V): The critical voltages are VI t = 1.5 V VO Pt = 2.1 V VO Nt = 0.9 V nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1175 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1175 vO (V) 5 vO (V) 3.2 3 2.1 1.7 0.9 0 0.8 2.5 4.2 5 vI (V) 0.6 1.5 2.4 3 vI (V) (a) (b) Figure 16.27 Voltage transfer characteristics of CMOS inverter in Example 16.7 biased at (a) VDD = 5 V and (b) VDD = 3 V Comment: The two voltage transfer curves are shown in Figure 16.27. These figures depict another advantage of CMOS technology, that is CMOS circuits can be biased over a relatively wide range of voltages. EXERCISE PROBLEM Ex 16.7: The CMOS inverter in Figure 16.21 is biased at VDD = 2.1 V, and the transistor threshold voltages are VT N = −VT P = 0.4 V. Sketch the voltage transfer curve and show the critical voltages as in Figure 16.26 for (a) Kn/Kp = 1, (b) Kn/Kp = 0.5, and (c) Kn/Kp = 2. (Ans. (a) VI t = 1.05 V, VO Pt = 1.45 V, VO Nt = 0.65 V; (b) VI t = 1.16 V, VO Pt = 1.56 V, VO Nt = 0.76 V; (c) VI t = 0.938 V, VO Pt = 1.338 V, VO Nt = 0.538 V) Transistor Sizing We may note that both voltage transfer curves shown in Figure 16.27 are symmetrical about the switching point VDD/2. This effect is a direct consequence of the fact that the NMOS and PMOS transistors are matched: that is, Kn = Kp and VT N = |VT P |. In general, the process conduction parameters, k ′ n and k ′ p , are not equal. Therefore, in order for the two transistors to be matched, we must adjust the width-to-length ratios. In order for Kn = Kp , we have k ′ n(W/L)n = k ′ p(W/L)p . In general, k ′ p < k ′ n , so we must have (W/L)p > (W L)n . The PMOS device must be larger than the NMOS device to make the two devices electrically equivalent. CMOS Inverter Currents When the CMOS inverter input voltage is either a logic 0 or a logic 1, the current in the circuit is zero, since one of the transistors is cutoff. When the input voltage is in nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1176 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1176 Part 3 Digital Electronics the range VT N < vI < VDD − |VT P |, both transistors are conducting and a current exists in the inverter. When the NMOS transistor is biased in the saturation region, the current in the inverter is controlled by vGSN and the PMOS source-to-drain voltage adjusts such that iD P = iDN . This condition is demonstrated in Equation (16.34). We can write iDN = i 2 2 DP = Kn(vGSN − VT N ) = Kn(vI − VT N ) (16.44(a)) Taki√ng the squ√are root √yields iDN = iD P = Kn(vI − VT N ) (16.44(b)) As long as the NMOS transistor is biased in the saturation region, the square root of the CMOS inverter current is a linear function of the input voltage. When the PMOS transistor is biased in the saturation region, the current in the inverter is controlled by vSG P and the NMOS drain-to-source voltage adjusts such that iD P = iDN . This condition is demonstrated in Equation (16.42). Using Equation (16.43), we can write that iDN = iD P = Kp(VDD − vI + V 2 T P) (16.45(a)) Taki√ng the squ√are root √yields iDN = iD P = Kp(VDD − vI + VT P) (16.45(b)) As long as the PMOS transistor is biased in the saturation region, the square root of the CMOS inverter current is also a linear function of the input voltage. Figure 16.28 shows plots of the square root of the inverter current for two values of VDD bias. These curves are quasi-static characteristics in that no current is diverted into a capacitive load. At the inverter switching point, both transistors are biased in the saturation region and both transistors influence the current. At the switching point, the actual current characteristic does not have a sharp discontinuity in the slope. The channel length modulation parameter λ also influences the current characteristics at the peak value. However, the curves in Figure 16.28 are excellent approximations. 16.3.3 Power Dissipation In the quiescent or static state, in which the input is either a logic 0 or a logic 1, power dissipation in the CMOS inverter is virtually zero. However, during the switching cycle from one state to another, current flows and power is dissipated. The CMOS i V DN = iDP DD + vSD – ii LL vO vO VDD CL CL 0 0.6 1.5 2.4 3 4.2 5 vI (V) 0.8 2.5 (a) (b) Figure 16.28 Square root of CMOS inverter current versus Figure 16.29 CMOS inverter when the output switches input voltage for CMOS inverters described in Example 16.7 (a) low to high and (b) high to low nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1177 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1177 inverter and logic circuits are used to drive other MOS devices for which the input impedance is a capacitance. During the switching cycle, then, this load capacitance must be charged and discharged. In Figure 16.29(a), the output switches from its low to its high state. The input is switched low, the PMOS gate is at zero volts, and the NMOS is cutoff. The load capacitance CL must be charged through the PMOS device. Power dissipation in the PMOS transistor is given by PP = iLvSD = iL(VDD − vO) (16.46) The current and the output voltage are related by i = dv CO LL (16.47) dt The energy dissipated in the PMOS device as the output switches from low to high is ∫ ∞ ∫ ∞ dv EP = PP ∫dt = CO L(VD∫D − vO) dt 0 0 dt VDD VDD = CL VDD dvO − CL vO dvO (16.48) 0 0 which yields ∣∣∣∣VDD v2 ∣∣∣∣VDD E OP = CL VDDvO − CL = 1 CL V 2 DD (16.49) 0 2 0 2 After the output has switched high, the energy stored in the load capacitance is ( 1 2 )CL V 2 DD . When the inverter input goes high, the output switches low, as shown in Figure 16.29(b). The PMOS device is cutoff, the NMOS transistor conducts, and the load capacitance discharges through the NMOS device. All the energy stored in the load capacitance is dissipated in the NMOS device. As the output switches from high to low, the energy dissipated in the NMOS transistor is EN = 1 2 CL V 2 DD (16.50) The total energy dissipated in the inverter during one switching cycle is therefore ET = EP + E = 1 N 2 CL V 2 DD + 1 2 2 2 CL VDD = CL VDD (16.51) If the inverter is switched at frequency f, the power dissipated in the inverter is P = f ET = f CL V 2 DD (16.52) Equation (16.52) shows that the power dissipated in a CMOS inverter is directly proportional to the switching frequency and to V 2 DD . The drive in digital IC design is toward lower supply voltages, such as 3 V or less. The power dissipation is proportional to V 2 DD . In some digital circuits, such as digital watches, the CMOS logic circuits are biased at VDD = 1.5 V, so the power dissipation is substantially reduced. EXAMPLE 16.8 Objective: Calculate the power dissipation in a CMOS inverter. Consider a CMOS inverter with a load capacitance of CL = 2 pF biased at VDD = 5 V. The inverter switches at a frequency off = 100 kHz. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1178 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1178 Part 3 Digital Electronics Solution: From Equation (16.52), power dissipation in the CMOS inverter is P = f CV 2 5 L DD = (10 )(2 × 10−12)(5)2 ⇒ 5 μW Comment: Previously determined values of static power dissipation in NMOS inverters were on the order of 500 μW; therefore, power dissipation in a CMOS inverter is substantially smaller. In addition, in most digital systems, only a small fraction of the logic gates change state during each clock cycle; consequently, the power dissipation in a CMOS digital system is substantially less than in an NMOS digital system of similar complexity. EXERCISE PROBLEM Ex 16.8: A CMOS inverter is biased at VDD = 3 V. The inverter drives an effective load capacitance of CL = 0.5 pF. Determine the maximum switching frequency such that the power dissipation is limited to P = 0.10 μW. (Ans. f = 22.2 kHz) 16.3.4 Noise Margin The word “noise” means transient, unwanted variations in voltages or currents. In digital circuits, if the magnitude of the noise at a logic node is too large, logic errors can be introduced into the system. However, if the noise amplitude is less than a specified value, called the noise margin, the noise signal will be attenuated as it passes through a logic gate or circuit, while the logic signals will be transmitted without error. Noise signals are usually generated outside the digital circuit and transferred to logic nodes or interconnect lines through parasitic capacitances or inductances. The coupling process is usually time dependent, leading to dynamic conditions in the circuit. In digital systems, however, the noise margins are usually defined in terms of static voltages. Noise Margin Definition For static noise margins, the type of noise usually considered is called series-voltage noise. Figure 16.30 shows two inverters in series in which the output of the second is connected back to the input of the first. Also included are series-voltage noise sources δVL and δVH . This type of noise can be developed by inductive coupling. The input voltage levels are indicated by H (high) and L (low). The noise amplitudes δVL and δVH can be different, and the polarities maybe such as to increase the low output and reduce the high output. The noise margins are defined as the maximum values of δVL and δVH at which the inverters will remain in the correct state. The actual definitions of the noise margins NML and NMH are not unique. In addition other types of noise, other than series-voltage source noise, maybe present in the system. Dynamic noise sources also complicate the issue. However, in this text, in order to provide some measure of noise margin in a logic circuit, we will use the unity-gain approach to determine the logic threshold levels VI Land VI Hand the corresponding noise margins. Figure 16.31 shows a general voltage transfer function for an inverter. The expected logic 1 and logic 0 output voltages of the inverter are VO Hand VOL , respec- nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1179 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1179 vO VOH VOHU dvO d = –1 vI dvO d = –1 vI V H L H OLU VG1 – + G2 + – 1 V V 2 1 dVL dV V H OL VIL VIH VOH vI Figure 16.30 Two-inverter flip-flop, Figure 16.31 Generalized inverter voltage curve and including series-voltage noise sources defined voltage limits VI Land VI H tively. The parameters VI Hand VI L , which determine the noise margins, are defined as the points at which dvO = −1 (16.53) dvI For vI ≤ VI L , the inverter gain magnitude is less than unity, and the output changes slowly with a change in the input voltage. Similarly, for vI ≥ VI H , the output again changes slowly with input voltage since the gain magnitude is less than unity. However, when the input voltage is in the range VI L < vI < VI H , the gain magnitude is greater than one, and the output signal changes rapidly. This region is called the undefined range. If the input voltage is inadvertently pushed into this range by a noise signal, the output may change logic states, and a logic error could be introduced into the system. The corresponding output voltages at the unity-gain points are denoted VO HU and VO LU , where the last subscript U signifies the unity- gain values. The noise margins are defined as NML = VI L − VO LU (16.54(a)) and NMH = VO HU − VI H (16.54(b)) Figure 16.32 shows the general voltage transfer function of a CMOS inverter. (The numbers in the figure are from Example 16.9 to be considered later.) The parameters VI Hand VI L determine the noise margins and are defined as the points at which dvO = −1 (16.55) dvI For vI ≤ VI Land vI ≥ VI H , the gain is less than unity and the output changes slowly with input voltage. However, when the input voltage is in the range VI L < vI < VI H , the inverter gain is greater than unity, and the output signal changes rapidly with a change in the input voltage. This is the undefined range. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1180 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1180 Part 3 Digital Electronics vO (V) VOH = 3.3 VOHU = 2.9875 Slope = –1 NML = 1.025 V 2.05 1.25 NMH = 1.025 Slope = –1 VOLU = 0.3125 0 VOLU 3.3 vI (V) VIL = VIH = 1.3375 V 1.9625 V VOHU VIt = 1.65 V Figure 16.32 CMOS inverter voltage transfer characteristics with defined noise margins Point VI L occurs when the NMOS is biased in the saturation region and the PMOS is biased in the nonsaturation region. The relationship between the input and output voltages is given by Equation (16.35). Taking the derivative with respect to vI yields [ dv 2K [ On vI − VT N ] = Kp −2(VDD −(vO) − 2)(V]DD − vI + VT P) dvI (16.56) − − −dv 2(V ODD vO) dvI Setting the derivative equal −1, we have Kn[vI − VT N ] = −Kp[(VDD − vO) − (VDD − vI + VT P) + (VDD − vO)] (16.57) Solving for vO produc{es( ) ( ) } = 1 K V = 1 + n vO O HU v + V − Kn V − V (16.58) 2 I DDT NT P Kp Kp Combining Equations (16.58) and (16.35), we ⎡see√√ that voltage VI⎤L is √√ Kn (V + V − V ⎢ √ K ⎥ ) p vI = VI L = V DDT PT N ⎢ ⎥ TN + ( ) ⎢⎣2√√ − 1⎥⎦ (16.59) Kn − Kn 1 + 3 Kp Kp If Kn = Kp , Equation (16.59) becomes indefinite, since a zero would exist in both the numerator and the denominator. However, when Kn = Kp , Equation (16.58) becomes vO = V 1 O HU(Kn=Kp) = 2 {2vI + VDD − VT N − VT P} (16.60) nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1181 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1181 Substituting Equation (16.60) into Equation (16.35) yields a voltage VI L of vI = V 3 IL(Kn=Kp) = VT N + 8 (VDD + VT P − VT N ) (16.61) for Kn = Kp . Point VI H occurs when the NMOS is biased in the nonsaturation region and the PMOS is biased in the saturation region. The relationship between the input and output voltages is given by Equation (16.43). Taking the derivative with respect to vI yield[s ] dv dv Kn 2(vI − V O OT N ) + 2vO − 2vO = 2Kp(VDD − vI + VT P)(−1) dvI dvI (16.62) Setting the derivative equal to −1, we find that Kn[−(vI − VT N ) + vO + vO ] = −Kp[VDD − vI + VT P ] (16.63) The output voltage vO (is then ) ( ) Kn Kn vI 1 + − VDD − VT N − VT P = = Kp Kp vO VO LU ( ) (16.64) K 2 n Kp Combining Equations (16.64) and (16.43), yield⎡s voltage VI Has ⎢ ⎤ Kn = = + (V + V − V ) ⎢ vI V V DD I HT N ( T P ) TN ⎢ K ⎣⎢√ 2 Kp − 1⎥⎥⎥⎦⎥ (16.65) n − 1 K K 3 n + 1 p Kp Again, if Kn = Kp , Equation (16.65) becomes indefinite, since a zero would exist in both the numerator and the denominator. However, when Kn = Kp , Equation (16.64) becomes v = V = 1 O O LU(Kn Kp) = 2 {2vI − VDD − VT N − VT P} (16.66) Substituting Equation (16.66) into Equation (16.43) yields a voltage VI H of vI = V 5 I H(Kn=Kp) = VT N + 8 (VDD + VT P − VT N ) (16.67) EXAMPLE 16.9 Objective: Determine the noise margins of a CMOS inverter. Consider a CMOS inverter biased at VDD = 3.3 V. Assume the transistors are matched with Kn = Kp and VT N = −VT P = 0.4 V. Solution: From Equation (16.41), the input voltage at the transition points, or the inverter switching point, is 1.65 V. Since Kn = Kp , VI L is, from Equation (16.61), V = V + 3 IL TN 8 (VDD + VT P − VT N ) = 0.4 + 3 8 (3.3 − 0.4 − 0.4) = 1.3375 V Point VI His, from Equation (16.67), VI H = V 5 TN + 8 (VDD + V 5 T P − VT N ) = 0.4 + 8 (3.3 − 0.4 − 0.4) = 1.9625 V nea80644_ch16_1145-1254.qxd 07/15/2009 09:30 PM Page 1182 F506 Hard disk:Desktop Folder:ALI-07-15-09: 1182 Part 3 Digital Electronics The output voltages at points VI Land VI Hare determined from Equations (16.60) and (16.66), respectively. They are V 1 O HU = 2 [2VI L + VDD − VT N − VT P ] = 1 2 [2(1.3375) + 3.3 − 0.4 + 0.4] = 2.9875 V and V 1 O LU = 2 [2VI H − VDD − VT N − VT P ] = 1 2 [2(1.9625) − 3.3 − 0.4 + 0.4] = 0.3125 V The noise margins are therefore NML = VI L − VO LU = 1.3375 − 0.3125 = 1.025 V and NMH = VO HU − VI H = 2.9875 − 1.9625 = 1.025 V Comment: The results of this example are shown in Figure 16.32. Since the two transistors are electrically identical, the voltage transfer curve and the resulting critical voltages are symmetrical. Also, (VO H − VO HU ) = 0.3125 V, which is less than |VT P |, and (VO LU − VOL) = 0.3125 V, which is less than VT N . As long as the input voltage remains within the limits of the noise margin, no logic error will be transmitted through the digital system. EXERCISE PROBLEM Ex 16.9: A CMOS inverter is biased at VDD = 1.8 V. The transistor parameters are VT N = 0.4 V, VTP = −0.4 V, Kn = 200 μA/V2, and K 2 p = 80 μA/V . (a) Determine the transition points. (b) Find the critical voltages VI Land VI H , and the corresponding output voltages. (c) Calculate the noise margins NML and NMH . (Ans. (a) VI t = 0.7874 V, VO Pt = 1.187 V, VO Nt = 0.3874 V; (b) VI L = 0.6323 V, VI H = 0.8767 V, VO HU = 1.7065 V, VO LU = 0.1337 V; (c) NML = 0.4986 V, NMH = 0.8298 V) Test Your Understanding TYU 16.7 Consider a CMOS inverter biased at VDD = 5 V, with transistor threshold voltages of VT N = +0.8 V and VT P = −0.8 V. Calculate the peak current in the inverter for: (a) Kn = Kp = 50 μA/V2, and (b) Kn = K 2 p = 200 μA/V . (Ans. (a) iD(max) = 145 μA (b) iD(max) = 578 μA) TYU 16.8 Repeat Exercise Ex 16.9 for a CMOS inverter biased at VDD = 5 V with transistor parameters of VT N = 0.8 V, VT P = −2 V, and Kn = Kp = 100 μA/V2. (Ans. (a) VI t = 1.9 V, VOPt = 3.9 V, VO Nt = 1.1 V; (b) VI L = 1.625 V, VI H = 2.175 V, VO LU = 0.275 V, VO HU = 4.725 V; (c) NML = 1.35 V, NMH = 2.55 V) nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1183 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1183 16.4 CMOS LOGIC CIRCUITS Objective: • Analyze and design static CMOS logic gates. Large-scale integrated CMOS circuits are used extensively in digital systems, including watches, calculators, and microprocessors. We will look at the basic CMOS NOR and NAND gates, and will then analyze more complex CMOS logic circuits. Since there is no clock signal applied to these logic circuits, they are referred to as static CMOS logic circuits. 16.4.1 Basic CMOS NOR and NAND Gates In the basic or classical CMOS logic circuits, the gates of a PMOS and an NMOS are connected together, and additional PMOS and NMOS transistors are connected in series or parallel to form specific logic circuits. Figure 16.33(a) shows a two-input CMOS NOR gate. The NMOS transistors are in parallel and the PMOS transistors are in series. If A = B = logic 0, then both MN A and MN Bare cutoff, and the current in the circuit is zero. The source-to-gate voltage of MP A is VDD but the current is zero; therefore, vSD of MP A is zero. This means that the source-to-gate voltage of MP Bis also VDD . However, since the current is zero, then vSD of MP Bis also zero. The output voltage is therefore vO = VDD = logic 1. If the input signals are A = logic 1 = VDD and B = logic 0 = 0 V, then the source-to-gate voltage of MP A is zero, and the current in the circuit is again zero. The gate-to-source voltage of MN A is VDD but the current is zero, so vDS of MN A is zero and vO = 0 = logic 0. This result also holds for the other two possible input conditions, since at least one PMOS is cutoff and at least one NMOS is in a conducting state. The NOR logic function is shown in the truth table of Figure 16.33(b). VDD A MPA B MPB AB vO vO 0 0 VDD MNA MNB VDD 0 0 0 VDD 0 VDD VDD 0 (a) (b) Figure 16.33 (a) Two-input CMOS NOR logic circuit and (b) truth table"
16.4 CMOS Logic Circuits,"16.4 CMOS LOGIC CIRCUITS Objective: • Analyze and design static CMOS logic gates. Large-scale integrated CMOS circuits are used extensively in digital systems, including watches, calculators, and microprocessors. We will look at the basic CMOS NOR and NAND gates, and will then analyze more complex CMOS logic circuits. Since there is no clock signal applied to these logic circuits, they are referred to as static CMOS logic circuits. 16.4.1 Basic CMOS NOR and NAND Gates In the basic or classical CMOS logic circuits, the gates of a PMOS and an NMOS are connected together, and additional PMOS and NMOS transistors are connected in series or parallel to form specific logic circuits. Figure 16.33(a) shows a two-input CMOS NOR gate. The NMOS transistors are in parallel and the PMOS transistors are in series. If A = B = logic 0, then both MN A and MN Bare cutoff, and the current in the circuit is zero. The source-to-gate voltage of MP A is VDD but the current is zero; therefore, vSD of MP A is zero. This means that the source-to-gate voltage of MP Bis also VDD . However, since the current is zero, then vSD of MP Bis also zero. The output voltage is therefore vO = VDD = logic 1. If the input signals are A = logic 1 = VDD and B = logic 0 = 0 V, then the source-to-gate voltage of MP A is zero, and the current in the circuit is again zero. The gate-to-source voltage of MN A is VDD but the current is zero, so vDS of MN A is zero and vO = 0 = logic 0. This result also holds for the other two possible input conditions, since at least one PMOS is cutoff and at least one NMOS is in a conducting state. The NOR logic function is shown in the truth table of Figure 16.33(b). VDD A MPA B MPB AB vO vO 0 0 VDD MNA MNB VDD 0 0 0 VDD 0 VDD VDD 0 (a) (b) Figure 16.33 (a) Two-input CMOS NOR logic circuit and (b) truth table nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1184 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1184 Part 3 Digital Electronics VDD B MPB MPA vO v MA BO NB 0 0 VDD VDD 0 VDD A MNA 0 VDD VDD VDD VDD 0 (a) (b) Figure 16.34 (a) Two-input CMOS NAND logic circuit and (b) truth table A two-input CMOS NAND logic gate is shown in Figure 16.34(a). In this case, the NMOS transistors are in series and the PMOS transistors are in parallel. If A = B = logic 0, the two NMOS devices are cutoff and the current in the circuit is zero. The source-to-gate voltage of each PMOS device is VDD , which means that both PMOS transistors are in a conducting state. However, since the current is zero, vSD for both MP A and MP Bis zero and vO = VDD . This result applies if at least one input is a logic 0. If the input signals are A = B = logic 1 = VDD , then both PMOS transistors are cutoff, and the current in the circuit is zero. With A = logic 1, MN A is in a conducting state; however, since the current is zero, then vDS of MN A is zero. This means that the gate-to-source voltage of MN Bis also VDD and MN Bis also in a conducting state. However, since the current is zero, then vDS of MN Bis zero, and vO = logic 0 = 0 V. The NAND logic function is shown in the truth table in Figure 16.34(b). In both the CMOS NOR and NAND logic gates, the current in the circuit is essentially zero when the inputs are in any quiescent state. Only very small reverse- bias pn junction currents exist. The quiescent power dissipation is therefore essentially zero. Again, this is the primary advantage of CMOS circuits. 16.4.2 Transistor Sizing CMOS Inverter We briefly discussed in Section 16.3.2 the sizing of transistors in the CMOS inverter in terms of symmetrical transfer curves. Other factors involved in the sizing of transistors are, for example, switching speed, power, area, and noise margin. Since the standby power is very small in a CMOS inverter, the sizing can be based on switching speed. We will specify that the switching time in the pull-up mode should be the same as the switching time in the pull-down mode. Figure 16.35(a) shows the effective CMOS inverter in the pull-down mode. The PMOS is cutoff and the load capacitance is discharged through the NMOS device. The switching time is therefore a function of the current capability of the NMOS transistor. Figure 16.35(b) shows the effective CMOS inverter in the pull-up mode. The NMOS is cutoff and the nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1185 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1185 VDD vO vO vI = VDD CL CL (a) (b) Figure 16.35 (a) Effective CMOS inverter in pull-down mode and (b) effective CMOS inverter in pull-up mode load capacitance is charged through the PMOS device. The switching time is a function of the current capability of the PMOS transistor. Assuming that VT N = |VT P |, equal switching times then implies that the conduction( para)meters o(f the )NMOS and PMOS devices be equal, or k ′ W = k ′ n p W (16.68) 2 Ln 2 L p Assuming that μn ≈ 2μp , we have (W/L) ′ p = kn = μn ≈ 2 (16.69) (W/L)n k ′ p μp The width-to-length ratio of the PMOS device must be approximately twice as large as that of the NMOS device to obtain equal switching times. In any given technology, the channel lengths of the NMOS and PMOS devices are the same. Therefore the channel widths are sized to the desired value. We can write that Wn = Wand Wp = 2W , where Wn and Wp are the channel widths of the NMOS and PMOS devices, respectively, and Wis a standard width. CMOS Logic Gates We can now consider the sizing of transistors in the basic CMOS NAND and NOR logic gates. We will specify, again, equal pull-up and pull-down switching times, and we want the same switching times as the CMOS inverter with a load capacitance CL . We will use the effective 2:1 ratio between PMOS and NMOS sizes from the CMOS inverter. Consider the two-input CMOS NOR gate shown in Figure 16.33. Assume a load capacitance CL is connected to the output. In the worst case during a pull-down operation, only one NMOS device will be turned on. To achieve the same switching time as the CMOS inverter, the NMOS channel widths should be Wn = W . If both NMOS devices are turned on, the effective channel width will be doubled (see Figure 16.14(a)) and the switching time will be shorter. During a pull-up operation, both PMOS devices must be turned on. Since the PMOS devices are in series, the effective channel length doubles (see Figure 16. 14(b)). Therefore, to maintain the same effective width-to-length ratio, the channel widths must be doubled. We must therefore have Wp = 2(2W ) = 4W . nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1186 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1186 Part 3 Digital Electronics VDD VDD A Wp = 4WV AW DD p = 2W Wp = 2WW F p = 2W B Wp = 4W B Wn = 2WC AF FL Wn = W CL Wn = WC W Ln = W Wn = 2W (a) (b) (c) Figure 16.36 The width-to-length ratios of (a) the CMOS inverter, (b) the CMOS NOR gate, and (c) the CMOS NAND gate Now consider the two-input NAND logic gate shown in Figure 16.34. Again, assume a load capacitance CL is connected to the output. In the worst case during a pull-up operation, only one PMOS device will be turned on. This is equivalent to the CMOS inverter, so the channel width should be Wp = 2W . If both PMOS devices are turned on, the effective channel width is doubled and the switching time will be shorter. During the pull-down operation, both NMOS devices must be turned on. Again, since the NMOS devices are in series, the effective channel length doubles. Therefore to maintain the same effective width-to-length ratio, the channel widths must be doubled. We must therefore have Wn = 2(W ) = 2W . The results of the transistor sizing for the CMOS inverter, and CMOS NOR and NAND gates are shown in Figure 16.36. EXAMPLE 16.10 Objective: Determine the transistor width-to-length ratios of a three-input CMOS NAND logic gate. Symmetrical switching times are desired and the switching times should correspond to the basic CMOS inverter. Solution: There are three p-channel transistors in parallel for the three-input CMOS NAND gate. The worst case is when only one PMOS device is on in the pull-up mode. This corresponds to the basic CMOS inverter, so the effective width should be Wp = 2W . There are three n-channel transistors in series for the three-input CMOS NAND gate. All three transistors must be turned on in the pull-down mode. For three transistors in series, the effective channel length triples. Therefore, to keep the effective NMOS width equal to W, we must have Wn = 3(W ) = 3W . nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1187 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1187 VDD A Wp = B Wp = C Wp = 2W 2W 2W FA Wn = 3W CL B Wn = 3WC Wn = 3W Figure 16.37 Width-to-length ratios for a three-input CMOS NAND logic gate The results are shown in Figure 16.37. Comment: As the number of inputs to a basic CMOS logic gate increases, the size of the transistors must increase. The increased area of the transistors means that the effective input capacitance increases so that switching times of cascaded logic gates will increase. EXERCISE PROBLEM Ex 16.10: Determine the transistor sizes of a 3-input CMOS NOR logic gate. Symmetrical switching times are desired and the switching times should correspond to the basic CMOS inverter. (Ans. Wp = 6W , Wn = W ) 16.4.3 Complex CMOS Logic Circuits Just as with NMOS logic designs, we can form complex logic gates in CMOS, which avoids connecting large numbers of NOR, NAND, and inverter gates to implement the logic function. There are formal methods that can be used to implement the logic circuit. However, we can use the knowledge gained in the analysis and design of the NOR and NAND circuits. DESIGN EXAMPLE 16.11 Objective: Design a CMOS logic circuit to implement a particular logic function. Implement the logic function Y = AB + C(D + E) in a CMOS design. The signals A, B, C, D, and E are available. Design Approach: The general CMOS design is shown in Figure 16.38, in which the inputs are applied to both the PMOS and NMOS networks. We may start the nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1188 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1188 Part 3 Digital Electronics VDD A MPA B MPB D MPD VDD PMOS C MPC E MPE network VO VO VDD A MNA C MNC A MNA C MNC PMOS A, B, C, D, E YB MNB D MND E MNE B MNB D MND E MNE NMOS Figure 16.38 General CMOS Figure 16.39 NMOS design for Figure 16.40 Complete CMOS design design Example 16.11 for Example 16.11 design by considering the NMOS portion of the circuit. To implement a basic OR (NOR) function, then-channel transistors are in parallel (Figure 16.33) and to implement a basic AND (NAND) function, then-channel transistors are in series (Figure 16.34). We will consider whether the function or its complement is generated at the end of the design. Solution (NMOS Design): In the overall function, we note the logic OR between the functions AB and C(D + E), so that the NMOS devices used to implement AB will be in parallel with the NMOS devices used to implement C(D + E). There is a logic AND between the inputs A and B, so that the NMOS devices with these inputs will be in series. Finally, the NMOS devices with the D and E inputs will be in parallel and this combination will be in series with the NMOS device with the C input. The NMOS implementation of the function is shown in Figure 16.39. Solution (PMOS Design): The arrangement of the PMOS devices is complementary to that of the NMOS devices. PMOS devices that perform the basic OR function are in series and PMOS devices that perform the basic AND function are in parallel. We then see that the PMOS devices used to implement AB will be in series with the devices used to implement C(D + E). The two PMOS devices with the A and B inputs will be in parallel. The two PMOS devices with the D and E inputs will be in series and in turn will be in parallel with the PMOS device with the C input. The completed circuit is shown in Figure 16.40. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1189 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1189 Final Solution: By considering various inputs, we may note that the output signal of the circuit shown in Figure 16.40 is actually the complement of the desired signal. We may then simply add a CMOS inverter to the output to obtain the desired function. Comment: As mentioned, there are formal ways in which to design circuits. However, in many cases, these circuits can be designed by using the knowledge and intuition gained from previous work. The width-to-length ratios of the various transistors can be determined as we have done in previous examples. EXERCISE PROBLEM Ex 16.11: Design the width-to-length ratios of the transistors in the static CMOS logic circuit of Figure 16.40. Symmetrical switching times are desired and the switching times should correspond to the basic CMOS inverter. (Ans. All NMOS devices, Wn = 2W ; Wp(MP A) = Wp(MP B) = Wp(MPC) = 4W ; Wp(MP D) = Wp(MP E) = 8W ) Another example of a CMOS logic gate is the exclusive-OR or XOR. The logic function can be written as FX OR = ĀB + AB̄ (16.70) We have noticed that the output of the CMOS gates is actually the complement of the input signal. We can therefore write F̄X OR = FX NO R = Ā B̄ + AB (16.71) Assuming that input signals A, B, Ā, and B̄ are available, Figure 16.41 shows a CMOS static implementation of the logic function. We may note that Ā B̄ as well as AB means two NMOS devices in series and two PMOS devices in parallel. The OR function means the combination of NMOS VDD A MPA B MPB BM – APB MPA– FA M – NA A MNA– BM – NB B MNB– Figure 16.41 A CMOS static exclusive-OR logic gate nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1190 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1190 Part 3 Digital Electronics devices is in parallel and the combination of PMOS devices is in series. This design is shown in the figure. In considering the truth table for the exclusive-OR function, we may note that the output of the circuit in Figure 16.41 is indeed the exclusive-OR function. In the design of CMOS logic gates, then, we should actually design the complement of the desired function. In the PMOS portion of the design, there should be an electrical connection between the drains of MP A and MP B . This connection is shown as a dotted line, but is not actually required. The only pull-up conditions are for A = B̄ = 0 and for Ā = B = 0, which are achieved without this connection. 16.4.4 Fanout and Propagation Delay Time VDD Fanout The term fanout refers to the number of load gates of similar design connected to the I output of a driver gate. The maximum fanout is the maximum number of load gates O that maybe connected to the output. Since the CMOS logic gate will be driving other vO CMOS logic gates, the quiescent current required to drive the other CMOS gates is essentially zero. In terms of static characteristics, the maximum fanout is virtually CL limitless. However, each additional load gate increases the load capacitance that must be charged and discharged as the driver gate changes state, and this places a practical Figure 16.42 Constant- limit on the maximum allowable number of load gates. Figure 16.42 shows a concurrent source charging stant current charging a load capacitance. The voltage across the capacitance is a load capacitor ∫ = 1 It vO IO dt = O (16.72) CL CL The load capacitance CL is proportional to the number N of load gates and to the input gate capacitance of each load. The current IO is proportional to the conduction parameter of the driver transistor. The switching time is therefore ∝ N((W ·)L) t L (16.73) W L D where the gate capacitance is directly proportional to the gate area of the load (W · L)L , and the conduction parameter of the driver transistor is proportional to the width-to-length rati(o. Equ)ation (16.73) can be rewritten as t ∝ W N (LL LL D) (16.74) WD The propagation delay time, which is proportional to the switching time, increases as the fanout increases. The propagation delay time could be reduced by increasing the size of the driver transistor. However, in any given driver logic circuit and load logic circuit, the sizes of the devices are generally fixed. Consequently, the maximum fanout is limited by the maximum acceptable propagation delay time. Propagation delay times are typically measured with a specified load capacitance. The average propagation delay time of a two-input CMOS NOR gate (such as an SN74HC36) is 25 ns, measured with a load capacitance of CL = 50 pF. Since the input capacitance is CI = 10 pF, a fanout of five would produce a 50 pF load capacitance. A fanout larger than five would increase the load capacitance, and would also increase the propagation delay time above the specified value. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1191 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1191 Propagation Delay Time Although the propagation delay time of the CMOS inverter can be determined by analytical techniques, it can also be determined by computer simulation. This is especially true when more complex CMOS logic circuits are considered. Using the appropriate transistor models in the simulation, the transient response can be produced. Obtaining an accurate transient response depends on using the correct transistor parameters. Some computer simulation problems in the end-of-chapter problems deal with propagation delay times. However, we will not go into detail here. Test Your Understanding TYU 16.9 Design a static CMOS logic circuit that implements the logic function Y = (ABC + DE). (Ans. NMOS design: A, B, C inputs to three NMOS devices in series and D, E inputs to two NMOS devices in series; then, three NMOS and two NMOS in parallel) TYU 16.10 Design the width-to-length ratios of the transistors in the static CMOS exclusive-OR logic gate in Figure 16.41. Symmetrical switching times are desired and the switching times should correspond to the basic CMOS inverter. (Ans. All NMOS, Wn = 2W ; all PMOS, Wp = 4W ) 16.5 CLOCKED CMOS LOGIC CIRCUITS Objective: • Analyze and design clocked CMOS logic gates. The CMOS logic circuits considered in the previous section are called static circuits. One characteristic of a static CMOS logic circuit is that the output node always has a low-resistance path to either ground or VDD . This implies that the output voltage is well defined and is never left floating. Static CMOS logic circuits can be redesigned with an added clock signal while at the same time eliminating many of the PMOS devices. In general, the PMOS devices must be larger than NMOS devices. Eliminating as many PMOS devices as possible reduces the required chip area as well as the input capacitance. The low- power dissipation of the CMOS technology, however, is maintained. Clocked CMOS circuits are dynamic circuits that generally precharge the output node to a particular level when the clock is at a logic 0. Consider the circuit in Figure 16.43. When the clock signal is low, or CLK = logic 0, MN1 is cutoff and the current in the circuit is zero. Transistor MP1 is in a conducting state, but since the current is zero, then vO1 charges to VDD . A high input to the CMOS inverter means that vO = 0. During this phase of the clock signal, the gate of MP2 is precharged. During the next phase, when the clock signal goes high, or CLK = logic 1, transistor MP1 cuts off and MN1 is biased in a conducting state. If input A = logic 0, then MN A is cutoff and there is no discharge path for voltage vO1; therefore, vO1 remains charged at vO1 = VDD . However, if CLK = logic 1 and A = logic 1, then both MN1 and MN A are biased in a conducting state, providing a discharge path for voltage vO1. As vO1 is pulled low, output signal vO goes high."
16.5 Clocked CMOS Logic Circuits,"16.5 CLOCKED CMOS LOGIC CIRCUITS Objective: • Analyze and design clocked CMOS logic gates. The CMOS logic circuits considered in the previous section are called static circuits. One characteristic of a static CMOS logic circuit is that the output node always has a low-resistance path to either ground or VDD . This implies that the output voltage is well defined and is never left floating. Static CMOS logic circuits can be redesigned with an added clock signal while at the same time eliminating many of the PMOS devices. In general, the PMOS devices must be larger than NMOS devices. Eliminating as many PMOS devices as possible reduces the required chip area as well as the input capacitance. The low- power dissipation of the CMOS technology, however, is maintained. Clocked CMOS circuits are dynamic circuits that generally precharge the output node to a particular level when the clock is at a logic 0. Consider the circuit in Figure 16.43. When the clock signal is low, or CLK = logic 0, MN1 is cutoff and the current in the circuit is zero. Transistor MP1 is in a conducting state, but since the current is zero, then vO1 charges to VDD . A high input to the CMOS inverter means that vO = 0. During this phase of the clock signal, the gate of MP2 is precharged. During the next phase, when the clock signal goes high, or CLK = logic 1, transistor MP1 cuts off and MN1 is biased in a conducting state. If input A = logic 0, then MN A is cutoff and there is no discharge path for voltage vO1; therefore, vO1 remains charged at vO1 = VDD . However, if CLK = logic 1 and A = logic 1, then both MN1 and MN A are biased in a conducting state, providing a discharge path for voltage vO1. As vO1 is pulled low, output signal vO goes high. nea80644_ch16_1145-1254.qxd 07/12/2009 3:37 Page 1192 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1192 Part 3 Digital Electronics VDD VDD MP1 MP2 vO1 vO CLK A MNA MN2 MN1 Figure 16.43 Simple clocked CMOS logic circuit VDD VDD VDD VDD MP1 MP2 vo1 vO MP1 MP2 vo1 A MNA M v N2 O CLK CLK A MNA B MNB MN2 B MNB MN1 MN1 (a) (b) Figure 16.44 Clocked CMOS logic circuit: (a) AND function and (b) OR function The quiescent power dissipation in this circuit is essentially zero, as it was in the standard CMOS circuits. A small amount of power is required to precharge output vO1, if it had been pulled low during the previous half clock cycle. The single NMOS transistor MN A in Figure 16.43 can be replaced by a more complex NMOS logic circuit. Consider the two circuits in Figure 16.44. When CLK = logic 0, then MN1 cuts off and MP1 is in its conducting state in both circuits; then, vO1 is charged to vO1 = VDD and vO = 0. For the circuit in Figure 16.44(a), when CLK = logic 1, voltage vO1 is discharged to ground or pulled low only when A = B = logic 1. In this case, vO goes high. The circuit in Figure 16.44(a) performs the AND function. Similarly, the circuit in Figure 16.44(b) performs the OR function. The advantage of the precharge technique is that it avoids the use of extensive pull- up networks: Only one PMOS and one NMOS transistor are required. This leads to an almost 50 percent savings in silicon area for larger circuits, and a reduction in capacitance resulting in higher speed. In addition, the static or quiescent power dissipation is essentially zero, so the circuit maintains the characteristics of CMOS circuits. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1193 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1193 VDD VDD VDD VDD MP1 MP2 MP3 MP4 ff (1) 1 (2) (3) (4) 2 VDD VDD A MNA MN2 MN4 CLK MP1 MP2 B MNB f(X) MNf C MNC CLK M X f N1 MN2 MN1 MN3 Figure 16.45 Generalized CMOS clocked Figure 16.46 Cascaded clocked or domino CMOS logic circuit logic circuit The AND and OR logic transistors MN A and MN Bin Figures 16.44(a) and 16.44(b) can be replaced by a generalized logic network as indicated in Figure 16.45. The box marked f is an NMOS pull-down network that performs a particular logic function f (X) of n variables, where X = (x1, x2, . . . , xn). The NMOS circuit is a combination of series–parallel interconnections of n transistors. When the clock signal goes high, the CMOS inverter output is the logic function f (X). The set of X inputs to the logic circuits f is derived from the outputs of other CMOS inverters and clocked logic circuits. The means that when CLK = logic 0, the outputs of all CMOS inverters area logic 0 during the precharge cycle. As a result, all n variables X = (x1, x2, . . . , xn) area logic 0 during the precharge cycle. During this time, all NMOS transistors are cutoff, which guarantees that output vO1 can be precharged to VDD . There can then be only one possible transition at each node during the evaluation phase. The output of the CMOS buffer may change from a 0 to a 1. An example of a cascaded domino CMOS circuit is shown in Figure 16.46. During the precharge cycle, in which CLK = logic 0, nodes 1 and 3 are charged high and nodes 2 and 4 are low. Also during this time, the inputs A, B, and Care all a logic 0. During the evaluation phase, in which CLK = logic 1, if A = C = logic 1 and B = logic 0, then node 1 remains charged high, f1 = logic 0, and node 3 discharges through MNC causing f2 to go high. However, if, during the evaluation phase, A = B = logic 1 and C = logic 0, then node 1 is pulled low causing f1 to go high, which in turn causes node 3 to go low and forces node 4 high. This chain of actions thus leads to the term domino circuit. Test Your Understanding TYU 16.11 Design a clocked CMOS domino logic circuit, such as shown in Figure 16.45, to generate an output f (X) = A · B · C + D · E . TYU 16.12 Sketch a clocked CMOS logic circuit that realizes the exclusive OR function. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1194 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1194 Part 3 Digital Electronics 16.6 TRANSMISSION GATES Objective: • Analyze and understand the characteristics of NMOS and CMOS transmission gates. Transistors can act as switches between driving circuits and load circuits. Transistors used to perform this function are called transmission gates. We will examine NMOS and CMOS transmission gates, which can also be configured to perform logic functions. 16.6.1 NMOS Transmission Gate The NMOS enhancement-mode transistor in Figure 16.47(a) is a transmission gate connected to a load capacitance CL , which could be the input gate capacitance of a MOS logic circuit. In this circuit, the transistor must be bilateral, which means it must be able to conduct current in either direction. This is a natural feature of MOSFETs. Terminals a and bare assumed to be equivalent, and the bias applied to the transistor determines which terminal acts as the drain and which terminal acts as the source. The substrate must be connected to the most negative potential in the circuit, which is usually ground. Figure 16.47(b) shows a simplified circuit symbol for the NMOS transmission gate that is used extensively. We assume that the NMOS transmission gate is to operate over a voltage range of zero-to-VDD . If the gate voltage φ is zero, then then-channel transistor is cutoff and the output is isolated from the input. The transistor is essentially an open switch. If φ = VDD , vI = VDD , and vO is initially zero, then terminal a acts as the drain since its bias is VDD , and terminal b acts as the source since its bias is zero. Current enters the drain from the input, charging up the capacitor. The gate-to-source voltage is vGS = φ − vO = VDD − vO (16.75) As the capacitor charges and vO increases, the gate-to-source voltage decreases. The capacitor stops charging when the current goes to zero. This occurs when the gate- to-source voltage vGS becomes equal to the threshold voltage VT N . The maximum output voltage occurs when vGS = VT N , therefore, from Equation (16.75), we have vGS(min) = VT N = VDD − vO(max) (16.76(a)) or vO(max) = VDD − VT N (16.76(b)) vI vO vI vO ab Ca b L CL ff (a) (b) Figure 16.47 (a) NMOS transmission gate, showing substrate connection, and (b) simplified diagram"
16.6 Transmission Gates,"16.6 TRANSMISSION GATES Objective: • Analyze and understand the characteristics of NMOS and CMOS transmission gates. Transistors can act as switches between driving circuits and load circuits. Transistors used to perform this function are called transmission gates. We will examine NMOS and CMOS transmission gates, which can also be configured to perform logic functions. 16.6.1 NMOS Transmission Gate The NMOS enhancement-mode transistor in Figure 16.47(a) is a transmission gate connected to a load capacitance CL , which could be the input gate capacitance of a MOS logic circuit. In this circuit, the transistor must be bilateral, which means it must be able to conduct current in either direction. This is a natural feature of MOSFETs. Terminals a and bare assumed to be equivalent, and the bias applied to the transistor determines which terminal acts as the drain and which terminal acts as the source. The substrate must be connected to the most negative potential in the circuit, which is usually ground. Figure 16.47(b) shows a simplified circuit symbol for the NMOS transmission gate that is used extensively. We assume that the NMOS transmission gate is to operate over a voltage range of zero-to-VDD . If the gate voltage φ is zero, then then-channel transistor is cutoff and the output is isolated from the input. The transistor is essentially an open switch. If φ = VDD , vI = VDD , and vO is initially zero, then terminal a acts as the drain since its bias is VDD , and terminal b acts as the source since its bias is zero. Current enters the drain from the input, charging up the capacitor. The gate-to-source voltage is vGS = φ − vO = VDD − vO (16.75) As the capacitor charges and vO increases, the gate-to-source voltage decreases. The capacitor stops charging when the current goes to zero. This occurs when the gate- to-source voltage vGS becomes equal to the threshold voltage VT N . The maximum output voltage occurs when vGS = VT N , therefore, from Equation (16.75), we have vGS(min) = VT N = VDD − vO(max) (16.76(a)) or vO(max) = VDD − VT N (16.76(b)) vI vO vI vO ab Ca b L CL ff (a) (b) Figure 16.47 (a) NMOS transmission gate, showing substrate connection, and (b) simplified diagram nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1195 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1195 vO VDD – VTN 0 VDD – VTN VDD vI Figure 16.48 Output voltage versus input voltage characteristics of the NMOS transmission gate where VT N is the threshold voltage taking into account the body effect. Equation (16.76(b)) demonstrates one disadvantage of an NMOS transmission gate. A logic 1 level degrades, or attenuates, as it passes through the transmission gate. However, this may not be a serious problem for many applications. Figure 16.48 shows the quasi-static output voltage versus input voltage of the NMOS transmission gate. As seen in the figure, when vI = VDD , the output voltage is vO = VDD − VT N as we have discussed. For input voltages in the range vI < VDD − VT N , the figure demonstrates that vO = vI . In this range of input voltages, the gate-to-source voltage is still greater than the threshold voltage. However, in steady-state, the current must be zero through the capacitor. In this case, the current becomes zero when the drain-to-source voltage is zero, or when vO = vI . Now consider the situation in which φ = VDD , vI = 0, and vO = VDD − VT N initially. Terminal b then acts as the drain and terminal a acts as the source. The gate- to-source voltage is vGS = φ − vI = VDD − 0 = VDD (16.77) The value of vGS is a constant, and the capacitor discharges as current enters the NMOS transistor drain. The capacitor stops discharging when the current goes to zero. Since vGS is a constant at VDD , the drain current goes to zero when the drain-to-source voltage is zero, which means that the capacitor completely discharges to zero. This implies that a logic 0 is transmitted unattenuated through the NMOS transmission gate. Using an NMOS transmission gate in a MOS circuit may introduce a dynamic condition. Figure 16.49 shows across section of the NMOS transistor in the transmission gate configuration. If vI = φ = VDD , then the load capacitor charges to f vI vO ab n n CL p iL Figure 16.49 NMOS transmission gate with cross section of NMOS transistor nea80644_ch16_1145-1254.qxd 07/15/2009 09:31 PM Page 1196 F506 Hard disk:Desktop Folder:ALI-07-15-09: 1196 Part 3 Digital Electronics vO = VDD − VT N . When φ = 0, the NMOS device turns off and the input and output become isolated. The capacitor voltage reverse biases the pn junction between terminal band ground. A reverse-biased pn junction leakage current begins to discharge the capacitor, and the circuit does not remain in a static condition. This circuit is now dynamic in that the high output does not remain constant with time. EXAMPLE 16.12 Objective: Estimate the rate at which the output voltage vO in Figure 16.49 decreases with time when the NMOS transmission gate transistor is in its off state. Assume the capacitor is initially charged to vO = 2.9 V. Let CL = 0.2 pF and assume the reverse-biased pn junction leakage current is a constant at iL = 100 pA. Solution: The vo∫ltage across the capacitor can be written as vO = − 1 i iL dt = − Lt + KCL C 1 L where K1 = vO(t = 0) = 2.9 V is the initial condition. Therefore, i vO(t) = 2.9 − Lt CL The rate at which the output voltage decreases is dvO = − iL = −100 × 10−12 × − = −500 V/s ⇒ −0.5 V/ms dt C 0.2 10 12 L Therefore, in this example, the capacitor would completely discharge in 5.8 ms. Comment: Even though the NMOS transmission gate may introduce a dynamic condition into a circuit, this gate is still useful in clocked logic circuits in which a clock signal is periodically applied to the NMOS transistor gate. If, for example, the clock frequency is 25 kHz, the clock pulse period is 40 μs, which means that the output voltage would decay by only approximately 0.7 percent during a clock period. EXERCISE PROBLEM Ex 16.12: The threshold voltage of the NMOS transmission gate transistor in Figure 16.47(a) is VT N = 0.4 V. Determine the output voltage vO for: (a) vI = φ = 2.5 V; (b) vI = 1.8 V, φ = 2.5 V; (c) vI = 2.3 V, φ = 2.5 V; and (d) vI = 2.5 V, φ = 1.5 V. Neglect the body effect. (Ans. (a) vO = 2.1 V, (b) vO = 1.8 V, (c) vO = 2.1 V, (d) vO = 1.1 V) EXAMPLE 16.13 Objective: Determine the output of an NMOS inverter driven by a series of NMOS transmission gates. Consider the circuit shown in Figure 16.50. The NMOS inverter is driven by three NMOS transmission gates in series. Assume the threshold voltages of the NMOS transmission gate transistors and the NMOS driver transistor are nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1197 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1197 VDD = 2.5 V iDL ML vO AB C iDD vI MNA M v NB MNC MD O1 vO2 vO3 Figure 16.50 NMOS inverter driven by three NMOS transmission gates in series VT N = 0.4 V, and the threshold voltage of the load transistor is VT N L = −0.6 V. Let K D/KL = 3 for the inverter. Determine vO for vI = 0 and vI = 2.5 V Solution: The three NMOS transmission gates in series act as an AND/NAND function. If vI = 0 and A = B = C = logic 1 = 2.5 V, the gate capacitance to driver MD becomes completely discharged, which means that vO1 = vO2 = vO3 = 0. Driver MD is cutoff and vO = 2.5 V. If vI = 2.5 V and A = B = C = logic 1 = 2.5 V, the three transmission gates are biased in their conducting state, and the gate capacitance of MD becomes charged. For transistor MN A , the current becomes zero when the gate-to-source voltage is equal to the threshold voltage, or, from Equation (16.76(b)), vO1 = VDD − VT N = 2.5 − 0.4 = 2.1 V Transistors MN Band MNC also cutoff when the gate-to-source voltages are equal to the threshold voltage; therefore vO2 = vO3 = VDD − VT N = 2.5 − 0.4 = 2.1 V This result shows that the drain-to-source voltages of MN Band MNC are also zero. A threshold voltage drop is lost in the first transmission gate, but additional threshold voltage drops are not lost in subsequent NMOS transmission gates in series. For a voltage of vO3 = 2.1 V applied to the gate of MD , the driver is biased in the nonsaturation region and the load is biased in the saturation region. From iDD = i[DL , we have ] K D 2(vO3 − VT N )v − v2 O O = KL [−V 2 TN L ] The output voltage is found to be vO = 35.7 mV. If anyone of the transmission gate voltages, A or B or C, switches to a logic 0, then vO3 will begin to discharge through a reverse-biased pn junction in the transmission gates, which means that vO will increase with time. Comment: In this example, the inverter is again in a dynamic condition; that is, when any transmission gate is cutoff, the output voltage changes with time. However, this type of circuit can be used in clocked digital systems. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1198 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1198 Part 3 Digital Electronics EXERCISE PROBLEM Ex 16.13: Consider the NMOS inverter with enhancement load driven by an NMOS transmission gate in Figure 16.51. The threshold voltage of each n-channel transistor is VT N = 0.5 V. Neglect the body effect. Design KD/KL of the inverter such that vO = 0.1 V when: (a) vI = 2.8 V, φ = 3.3 V; and (b) vI = φ = 2.8 V. (Ans. (a) K D/KL = 16.2, (b) K D/KL = 20.8) VDD = 3.3 V f ML vO vI MN MD Figure 16.51 Figure for Exercise Ex16.13 16.6.2 NMOS Pass Networks As integrated circuit technology advances, one emphasis is on increased circuit density. The maximum number of circuit functions per unit area is determined either by power dissipation density or by the area occupied by transistors and related devices. One form of NMOS circuit logic that minimizes power dissipation and maximizes device density is called pass transistor logic. Pass transistor circuits use minimum- sized transistors, providing high density and high operating speed. The average power dissipation is due only to the switching power consumed by the driver circuits in charging and discharging the pass transistor control gates and driving the pass network inputs. In this section, we present a few examples of NMOS pass transistor logic circuits. Consider the circuit in Figure 16.52. To determine the output response, we examine the conditions listed in Table 16.1 for the possible states of the input signals A and B. We assume that a logic 1 level is VDD volts. In states 1 and 2, transmission gate MN2 is biased in its conducting state. For state 1, Ā = logic 1 is transmitted to the output so f = logic 1′ , where the logic 1′ level is (VDD − VT N ). The logic 1 level is attenuated by one threshold voltage drop. For state 2, A = logic 0 is transmitted B Table 16.1 Input and output states for the A MN1 circuit in Figure 16.52 – B State AB Ā B̄ MN1 MN2 ff 1 0 0 1 1 off on 1′ – AM 2 1 0 0 1 off on 0 N2 3 0 1 1 0 on off 0 Figure 16.52 Simple NMOS 4 1 1 0 0 on off 1′ pass logic network nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1199 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1199 A A– BB– P1 Table 16.2 Input and output states for the circuit in Figure 16.53 P2 f State AB Ā B̄ f P3 1 0 0 1 1 P1 2 1 0 0 1 P2 P4 3 0 1 1 0 P3 4 1 1 0 0 P4 Figure 16.53 NMOS pass logic network example unattenuated to the output. In states 3 and 4, transmission gate MN1 is biased in its conducting state. The A = logic 0 for state 3 is transmitted unattenuated to the output, and A = logic 1 for state 4 is attenuated during transmission; therefore, f = logic 1′. The output is thus the exclusive-NOR function. Another example of an NMOS pass transistor logic circuit is shown in Figure 16.53. The output response as a function of the input gate controls A and Bis shown in Table 16.2. This circuit is a multiplexer; that is, for a specific set of gate controls, the input signals Pi are individually passed to the output. By using both normal and inverted forms of A and B, four inputs can be controlled with just two variables. A potential problem of NMOS pass transistor logic is that the output maybe left floating in a high impedance state and charged high. Consider the circuit shown in Figure 16.54. If, for example, B̄ = C = logic 0 and A = logic 1, then f = logic 1′ , which is the logic 1 level attenuated by VT N . When A is switched to logic 0, the output should below, but there may not be a discharge path to ground, and the output may retain the logic 1′ stored at the output capacitance. The NMOS pass network must be designed to avoid a high impedance output bypassing a logic 0 whenever a 0 is required at the output. A logic network that performs the logic function f = A + B̄ · C , as indicated in Figure 16.54, is shown in Figure 16.55. The complementary function f̄ = Ā · (B + C̄) attached at the output node drives the output to a logic 0 whenever f = 0. A – VB C DD AB f AB– CC– VDD f = A – + B ⋅ CO Figure 16.54 NMOS pass logic network with Figure 16.55 NMOS pass logic network a potential problem with complementary function in parallel nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1200 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1200 Part 3 Digital Electronics fa b NMOS f vI vO VDD PMOS vI vO dc CL f– CL f– (a) (b) Figure 16.56 (a) CMOS transmission gate and (b) simplified circuit symbol 16.6.3 CMOS Transmission Gate A CMOS transmission gate is shown in Figure 16.56(a). The parallel combination of NMOS and PMOS transistors, with complementary gate signals, allows the input signal to be transmitted to the output without the threshold voltage attenuation. Both transistors must be bilateral; therefore, the NMOS substrate is connected to the most negative potential in the circuit and the PMOS substrate is connected to the most positive potential (usually, ground and VDD , respectively). Figure 16.56(b) shows a frequently used simplified circuit symbol for the CMOS transmission gate. We again assume that the transmission gate is to operate over a voltage range of zero-to-VDD . If the control voltages are φ = 0 and φ̄ = VDD , then both the NMOS and PMOS transistors are cutoff and the output is isolated from the input. In this state, the circuit is essentially an open switch. If φ = VDD , φ̄ = 0, vI = VDD , and vO is initially zero, then for the NMOS device, terminal a acts as the drain and terminal b acts as the source, whereas for the PMOS device, terminal c acts as the drain and terminal d acts as the source. Current enters the NMOS drain and the PMOS source, as shown in Figure 16.57(a), to charge the load capacitor. The NMOS gate-to-source voltage is vGSN = φ − vO = VDD − vO (16.78(a)) f = VDD f = VDD + + ab vGSN vGSN – ab – NMOS NMOS vI = VDD iDN vI = 0 iv DN i Oi v DP O DP V + DD PMOS VDD PMOS + vSGP dc CL dc v – SGP CL – f– = 0 f– = 0 (a) (b) Figure 16.57 Currents and gate–source voltages in CMOS transmission gate for: (a) input high condition and (b) input low condition nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1201 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1201 and the PMOS source-to-gate voltage is vSG P = vI − φ̄ = VDD − 0 = VDD (16.78(b)) As with the NMOS transmission gate, when vO = VDD − VT N , the NMOS transistor cuts off and iDN = 0 since VGSN = VT N . However, since the source-to-gate voltage of the PMOS device is a constant at vSG P = VDD , the PMOS transistor continues to conduct. The drain current iD P goes to zero when the PMOS source-to-drain voltage goes to zero, or vSD P = 0. This means that the load capacitor CL continues to charge through the PMOS device until the output and input voltages are equal, or in this case, vO = vI = VDD . Consider what happens if φ = VDD , φ̄ = 0, vI = 0, and vO = VDD initially. For the NMOS device, terminal a acts as the source and terminal b acts as the drain, whereas for the PMOS device, terminal c acts as the source and terminal d acts as the drain. Current enters the NMOS drain and the PMOS source, as shown in Figure 16.57(b), to discharge the capacitor. The NMOS gate-to-source voltage is vGSN = φ − vI = VDD − 0 = VDD (16.79(a)) and the PMOS source-to-gate voltage is vSG P = vO − φ̄ = vO − 0 = vO (16.79(b)) When vSG P = vO = |VT P |, the PMOS device cuts off and iD P goes to zero. However, since vGSN = VDD , the NMOS transistor continues conducting and capacitor CL completely discharges to zero. Using a CMOS transmission gate in a MOS circuit may introduce a dynamic condition. Figure 16.58 shows the CMOS transmission gate with simplified cross sections of the NMOS and PMOS transistors. If φ = 0 and φ̄ = VDD , then the input and output are isolated. If vO = VDD , then the NMOS substrate-to-terminal b pn junction is reverse biased and capacitance CL can discharge, as it did in the NMOS transmission gate. If, however, vO = 0, then the PMOS terminal c-to-substrate pn junction is reverse biased and capacitance CL can charge to a positive voltage. This circuit is therefore dynamic in that the output high or low conditions do not remain constant with time. f = 0 b n n p NMOS vI a vO f– = VDD CL c pp n PMOS VDD Figure 16.58 CMOS transmission gate showing cross sections of NMOS and PMOS transistors nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1202 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1202 Part 3 Digital Electronics 16.6.4 CMOS Pass Networks CMOS transmission gates may also be used in pass network logic design. CMOS pass networks use NMOS transistors to pass 0’s, PMOS transistors to pass 1’s, and CMOS transmission gates to pass a variable to the output. An example is shown in Figure 16.59. One PMOS transistor is used to transmit a logic 1, while transmission gates are used to transmit a variable that maybe either a logic 1 or a logic 0. We can show that for any combination of signals, a logic 1 or logic 0 is definitely passed to the output. – A 1 V PMOS D DD CA – DB– f CA– B– Figure 16.59 CMOS pass logic network Test Your Understanding TYU 16.13 Design an NMOS pass network to perform the logic function f = A(B + C). TYU 16.14 Consider the CMOS transmission gate in Figure 16.56(a). Assume transistor parameters of VT N = 0.4 V and VT P = −0.4 V. When φ = 2.5 V, the input voltage vI varies with time as vI = 2.5 − 0.2t for 0 ≤ t ≤ 12.5 s. Let vO(t = 0) = 2.5 V and assume CL = 0.2 pF. Determine the range of times that the NMOS and PMOS devices are conducting. (Ans. NMOS conducting for 2 ≤ t ≤ 12.5 s; PMOS conducting for 0 ≤ t ≤ 10.5 s). 16.7 SEQUENTIAL LOGIC CIRCUITS Objective: • Analyze and understand the characteristics of shift registers and various flip-flop designs. In the logic circuits that we have considered in the previous sections, such as NOR and NAND logic gates, the output is determined only by the instantaneous values of the input signals. These circuits are therefore classified as combinational logic circuits."
16.7 Sequential Logic Circuits,"16.7 SEQUENTIAL LOGIC CIRCUITS Objective: • Analyze and understand the characteristics of shift registers and various flip-flop designs. In the logic circuits that we have considered in the previous sections, such as NOR and NAND logic gates, the output is determined only by the instantaneous values of the input signals. These circuits are therefore classified as combinational logic circuits. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1203 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1203 Another class of circuits is called sequential logic circuits. The output depends not only on the inputs, but also on the previous history of its inputs. This feature gives sequential circuits the property of memory. Shift registers and flip-flops are typical examples of such circuits. We will also briefly consider a full-adder circuit. The characteristic of these circuits is that they store information for a short time until the information is transferred to another part of the system. In this section, we introduce a basic shift register and the basic concept of a flip- flop. These circuits can become very complex and are usually described with logic diagrams. We will also introduce a CMOS full adder circuit in terms of its logic diagram and then provide the transistor implementation of this logic function. Additional information can be found in more advanced texts. 16.7.1 Dynamic Shift Registers A shift register can be formed from transmission gates and inverters. Figure 16.60 shows a combination of NMOS transmission gates and NMOS depletion-load inverters. The clock signals applied to the gates of the NMOS transmission gates must be complementary, nonoverlapping pulses. The effective capacitances at the gates of MD1 and MD2 are indicated by the dotted connections to CL1 and CL2. VDD VDD ML1 ML2 vO2 v f O4 1 f 2 vO1 vO3 vI MN1 MD1 MN2 MD2 CL1 CL2 Figure 16.60 Dynamic shift register with NMOS inverters and transmission gates If, for example, CL1 is initially uncharged when vO1 = 0 and if vI = VDD when φ1 = VDD , then a logic 1′ = VDD − VT N voltage should exist at vO1 at the end of clock pulse φ1. The capacitance of CL1 charges through MN1 and the driving circuit of vI . The effective RC time constant must be sufficiently small to achieve this charging effect. As vO1 goes high, vO2 goes low, but the low is not transmitted through MN2 as long as φ2 remains low. Figure 16.61 is used to determine the operation of this circuit and the voltages at various times. For simplicity, we assume that VDD = 5 V and VT N = 1 V for the NMOS drivers and transmission gate transistors. At t = t1, vI = φ1 = 5 V, vO1 charges to vDD − VT N = 4 V, and vO2 goes low. At this time, MN2 is still cutoff, which means that the values of vO3 and vO4 depend on the previous history. At t = t2, φ1 is zero, MN1 is cutoff, but vO1 remains charged. At t = t3, φ2 is high, and the logic 0 at vO2 is transmitted to vO3, which forces vO4 to 5 V. The input signal vI = 5 Vat t = t1 has thus been transmitted to the output; therefore, nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1204 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1204 Part 3 Digital Electronics vI 5 0 f1 5 0 T T f 2 5 0 vO1 5 4 0 vO2 5 VDD VDD 0 vO3 5 4 f1 f2 vO1 vO2 vO3 0 vI vO4 vO4 5 0 t1 t2 t3 t4 t5 t6 Time Figure 16.61 NMOS shift register voltages at various times Figure 16.62 CMOS dynamic shift register vO4 = vI = 5 Vat t = t3. The input signal is transmitted, or shifted, from the input to the output during one clock cycle, making this circuit one stage of a shift register. At t = t4, vI = 0, and φ1 = 5 V, so that vO1 = 0 and vO2 = 5 V. Since φ2 = 0, MN2 is cutoff, and vO2 and vO3 are isolated. At t = t5, φ2 = 5 V, so that vO3 charges to VDD − VT N = 4 V, and vO4 goes low (logic 0). At t = t6, both NMOS transmission gates are cutoff, and the two inverters remain in their previous states. It is important that φ1 and φ2 do not overlap, or the signal would propagate through the whole chain at once and we would no longer have a shift register. In the dynamic condition of NMOS transmission gates, the high output voltage across the output capacitance does not remain constant with time; it discharges through the transmission gate transistor. This same effect applies to the shift register in Figure 16.60. For example, from Figure 16.61, at t = t2, vO1 = 4 V, φ1 = 0, and MN1 is cutoff. Voltage vO1 will start to decay and vO2 will begin to increase. To prevent logic errors from being introduced into the system, the clock signal period T must be small compared to the effective RC discharge time constant. The circuit in Figure 16.60 is therefore called a dynamic shift register. A dynamic shift register formed in a CMOS technology is shown in Figure 16.62. Operation of this circuit is very similar to that of the dynamic NMOS shift register, except for the voltage levels. For example, when vI = φ1 = VDD , then vO1 = VDD and vO2 = 0. When φ2 goes high, then vO3 goes to zero, vO4 = VDD , and the input signal is shifted to the output during one clock period. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1205 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1205 16.7.2 RS Flip-Flop Flip-flops are bistable circuits usually formed by cross-coupling two NOR gates. Figure 16.63 shows an RS flip-flop using NMOS NOR logic gates with depletion loads. As shown, M1, M2, and M3 form one NOR gate, and M4, M5, and M6 form the second. The outputs of the two NOR circuits are connected back to the inputs of the opposite NOR gates. If we assume that S = logic 1 and R = logic 0, then M1 is biased in its conducting state and output Q̄ is forced low. The inputs to both M4 and M5 are low, so output Q goes high to a logic 1 = VDD . Transistor M2 is then also biased in a conducting state. The two outputs Q and Q̄ are complementary and, by definition, the flip-flop is in the set state when Q = logic 1 and Q̄ = logic 0. If S returns to logic 0, then M1 turns off, but M2 remains turned on so Q̄ remains low and Q remains high. Therefore, when S goes low, nothing in the circuit can force a change and the flip-flop stores this particular logic state. When R = logic 1 and S = logic 0, then M4 turns on so output Q goes low. With S = Q = logic 0, then both M1 and M2 are cutoff and Q̄ goes high. Transistor M5 turns on, keeping Q low when R goes low. The flip-flop is now in the reset state. If both Sand R inputs were to go high, then both outputs Q and Q̄ would go low. However, this would mean that the outputs would not be complementary. Therefore, a logic 1 at both Sand R is considered to be a forbidden or nonallowed condition. If both inputs go high and then return to logic 0, the state of the flip-flop is determined by whichever input goes low last. If both inputs go low simultaneously, then the outputs will flip into one state or the other, as determined by slight imbalances in transistor characteristics. Figure 16.64 shows an RS flip-flop using CMOS NOR logic gates. The outputs of the two NOR gates are connected back to the inputs of the opposite NOR gates to form the flip-flop. If S = logic 1 and R = logic 0, then MN1 is turned on, MP1 is cutoff, and Q̄ goes low. With Q̄ = R = logic 0, then both MN3 and MN4 are cutoff, both MP3 and MP4 are biased in a conducting state so that the output Q goes high. With Q = logic 1, MN2 is biased on, MP2 is biased off, and the flip-flop is in a set condition. When S goes low, MN1 turns off, MN2 remains conducting, so the state of the flip-flop does not change. VDD VDD MP1 MP3 M3 M6 MP2 MP4 Q– Q Q– Q SM1 M2 M5 M4 RS MN1 MN2 MN4 MN3 R Figure 16.63 NMOS RS flip-flop Figure 16.64 CMOS RS flip-flop nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1206 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1206 Part 3 Digital Electronics When S = logic 0 and R = logic 1, then output Q is forced low, output Q̄ goes high, and the flip-flop is in a reset condition. Again, a logic 1 at both Sand R is considered to be a forbidden or a nonallowed condition, since the resulting outputs are not complementary. 16.7.3 D Flip-Flop AD-type flip-flop is used to provide a delay. The logic bit on the D input is transferred to the output at the next clock pulse. This flip-flop is used in counters and shift registers. The basic circuit is similar to the CMOS dynamic shift register in Figure 16.62, except that additional circuitry makes the D flip-flop a static circuit. Consider the circuit in Figure 16.65. The CMOS inverter composed of MN2 and MP2 is driven by a CMOS transmission gate composed of MN1 and MP1. A second CMOS inverter, MN3 and MP3, is connected in a feedback configuration. If vI = high, then vO1 goes high when the transmission gate is conducting, and output vO , which is the input to the feedback inverter, goes low. When the CMOS transmission gate turns off, the pn junction in the MN1 transmission gate transistor is reverse biased. In this case, however, voltage vO1 is not simply across the gate capacitance of inverter MN2–MP2. Transistor MP3 is biased in a conducting state, so the reverse-biased pn junction leakage current IL is supplied through MP3, as indicated in Figure 16.65. Since this leakage current is small, the source-to-drain voltage of MP3 will be small, and vO1 will remain biased at essentially VDD . The circuit will therefore remain in this static condition. Similarly, when vO1 is low and vO is high, the pn junction in the MP1 transmission gate transistor is reverse biased and transistor MN3 is biased on. Transistor MN3 sinks the pn junction leakage current I ′ L , and the circuit remains in this static condition until changed by a new input signal through the transmission gate. f MN1 VDD n n p I ML P2 vI = High vO1 = High vO = Low f– MN2 MP1 IL′ VDD pp n MP3 IL VDD IL′ MN3 Figure 16.65 CMOS D-type flip-flop nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1207 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1207 D ff– TG1 Q ′ TG2 D Q ff– f Q ′ TG3 TG4 Q Master Slave Figure 16.66 CMOS master–slave D flip-flop Figure 16.67 D flip-flop signals at various times The circuit shown in Figure 16.66 is a master–slave configuration of a D flip- flop. When clock pulse φ is high, transmission gate TG1 is conducting, and data D goes through the first inverter, which means that Q′ = D̄. Transmission gate TG2 is off, so data stops at Q′. When clock pulse φ goes low, then TG3 turns on, and the master portion of the flip-flip is in a static configuration. Also when φ goes low, TG2 turns on, the data are transmitted through the slave portion of the flip-flop, and the output is Q = Q̄′ = D. The data present when φ is high are transferred to the output of the flip-flop during the negative transition of the clock pulse. The various signals in the D flip-flop are shown in Figure 16.67. Additional circuitry can be added to the D flip-flop in Figure 16.66 to provide a set and reset capability. 16.7.4 CMOS Full-Adder Circuit One of the most widely used building blocks in arithmetic processing architectures is the one-bit full-adder circuit. We will first consider the logic diagram from the Boolean function and then consider the implementation in a conventional CMOS design. Assuming that we have two input bits to be added plus a carry signal from a previous stage, the sum-out and carryout signals are defined by the following two Boolean functions of three input variables A, B, and C. Sum-out = A ⊕ B ⊕ C = ABC + AB̄C̄ + Ā B̄C + ĀBC̄ (16.80(a)) Carryout = AB + AC + BC (16.80(b)) The logic diagrams for these functions are shown in Figure 16.68. As we have seen previously, the implementation at the transistor level can be done with fewer transistors than would be used if all the NOR and NAND gates were actually connected as shown in the logic diagram. Figure 16.69 is a transistor-level schematic of the one-bit full-adder circuit implemented in a conventional CMOS technology. We can understand the basic design from the logic diagram. For example, we may consider the NMOS portion of the carryout signal. We see that transistors MN A1 and MN B1 are in parallel, to perform the basic OR function, and these transistors are in series with transistor MNC1, to perform the basic AND function. These three transistors form the NMOS portion of the design of the two gates labeled G1 and G2 in Figure 16.68. We also have transistors MN A2 and MN B2 in series, to perform the basic AND function of gate G3. This set of nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1208 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1208 Part 3 Digital Electronics AG1 B G2 CG4 Carryout G3 AB C Sum-out Figure 16.68 Gate configuration of the one-bit full adder VDD AB BA BC C VDD Carryout BC A A Sum-out MNA2 AC MNC1 A MNA1 MB NB2 AB MNB1 BA BC C Figure 16.69 Transistor configuration of the CMOS one-bit full adder two transistors is in parallel with the previous three transistors, and this configuration performs the basic OR function of gate G4. This output signal goes through an inverter to become the final carryout signal. We can go through the same discussion for the design of the NMOS portion of the sum-out signal. The PMOS design is then the complement of the NMOS design. As mentioned, the total number of transistors in the final design is considerably less than would have occurred if the basic OR and AND gates shown in the logic diagram were actually incorporated in the design. 16.8 MEMORIES: CLASSIFICATIONS AND ARCHITECTURES Objective: • Discuss semiconductor memories. In the previous sections of this chapter, various logic circuits were considered. Combinations of gates can be used to perform logic functions such as addition, multiplication, and multiplexing. In addition to these combinatorial logic functions, digital computers require some method of storing information. Semiconductor circuits form"
16.8 Memories: Classifications and Architectures,"16.8 MEMORIES: CLASSIFICATIONS AND ARCHITECTURES Objective: • Discuss semiconductor memories. In the previous sections of this chapter, various logic circuits were considered. Combinations of gates can be used to perform logic functions such as addition, multiplication, and multiplexing. In addition to these combinatorial logic functions, digital computers require some method of storing information. Semiconductor circuits form nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1209 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1209 one type of memory, considered in this chapter, and define a class of digital electronic circuits that are just as important as the logic gates. A memory cell is a circuit, or in some cases just a single device, that can store a bit of information. A systematic arrangement of memory cells constitutes a memory. The memory must also include peripheral circuits to address and write data into the cells as well as detect data that are stored in the cells. In this section, we define the various types of semiconductor memories, discuss the memory organization, and briefly consider address decoders. In the next section, we analyze in detail some of the basic memory cells and briefly discuss sense amplifiers. 16.8.1 Classifications of Memories Two basic types of semiconductor memory are considered. The first is the random access memory (RAM), a read–write memory, in which each individual cell can be addressed at any particular time. The access time to each cell is virtually the same. Implicit in the definition of the RAM is that both the read and write operations are permissible in each cell with also approximately the same access time. Both static and dynamic RAM cells are considered. A second class of semiconductor memory is the read-only memory (ROM). The set of data in this type of memory is generally considered to be fixed, although in some designs the data can be altered. However, the time required to write new data is considerably longer than the read access time of the memory cell. A ROM maybe used, for example, to store the instructions of a system operating program. A volatile memory is one that loses its data when power is removed from the circuit, while nonvolatile memory retains its data even when power is removed. In general, a random access memory is a volatile memory, while read-only memories are nonvolatile. Random Access Memories Two types of RAM are the static RAM (SRAM) and dynamic RAM (DRAM). A static RAM consists of a basic bistable flip-flop circuit that needs only a dc current or voltage applied to retain its memory. Two stable states exist, defined as logic 1 and logic 0. A dynamic RAM is an MOS memory that stores one bit of information as charge on a capacitor. Since the charge on the capacitor decays with a finite time constant (milliseconds), a periodic refresh is needed to restore the charge so that the dynamic RAM does not lose its memory. The advantage of the SRAM is that this circuit does not need the additional complexity of a refresh cycle and refresh circuitry, but the disadvantage is that this circuit is fairly large. In general, SRAM requires six transistors. The advantage of a DRAM is that it consists of only one transistor and one capacitor, but the disadvantage is the required refresh circuitry and refresh cycles. Read-Only Memories There are two general types of ROM. The first is programmed either by the manufacturer (mask programmable) or by the user (programmable, or PROM). Once the ROM has been programmed by either method, the data in the memory are fixed and cannot be altered. The second type of ROM maybe referred to as an alterable ROM in that the data in the ROM maybe reprogrammed if desired. This type of ROM may nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1210 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1210 Part 3 Digital Electronics be called an EPROM (erasable programmable ROM), EEPROM (electrically erasable PROM), or flash memory. As mentioned, the data in these memories can be reprogrammed although the time involved is much longer than the read access time. In some cases, the memory chip may actually have to be removed from the circuit during the reprogramming process. 16.8.2 Memory Architecture The basic memory architecture has the configuration shown in Figure 16.70. The terminal connections may include inputs, outputs, addresses, and read and write controls. The main portion of the memory involves the data storage. A RAM memory will have all of the terminal connections mentioned, whereas a ROM memory will not have the inputs and the write controls. Atypical RAM architecture, shown in Figure 16.71, consists of a matrix of storage bits arranged in an array with 2M columns and 2N rows. The array maybe square, in which case M and N are equal. This particular array maybe only one of several on a single chip. To read data stored in a particular cell within the array, a row address is inputted and decoded to select one of the row lines. All of the cells along this row are activated. A column address is also inputted and decoded to select one of the columns. The one particular memory cell at the intersection of the row and column addressed is then selected. The logic level stored in the cell is routed down a bit line to a sense amplifier. Control circuits are used to enable or select a particular memory array on a chip and also to select whether data are to be read from or written into the memory cell. Memory chips or arrays are designed to be paralleled so that the memory capacity can be increased. The additional lines needed to address parallel arrays are called chip select signals. If a particular chip or array is not selected, then no memory cell is addressed in that particular array. The chip select signal controls the tristate output of the data-in and data-out buffers. In this way, the data-in and data-outlines to and from several arrays maybe connected together without interfering with each other. 2M columns 1 1 2 2 Row Memory address array N 2N Inputs rows One cell One row Read 2N One column Addresses Data 1 2 2M storage Data Write in Column decoder Read/ write 1 2 M Data Outputs out Column address Figure 16.70 Schematic of a basic memory configuration Figure 16.71 Basic random access memory architecture Row decoder nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1211 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1211 16.8.3 Address Decoders The row and column decoders in Figure 16.71 are essential elements in all memories. Access time and power consumption of memories maybe largely determined by the decoder design. Figure 16.72 shows a simple decoder with a two-bit input. The decoder uses NAND logic circuits, although the same type of decoder maybe implemented in NOR gates. The input word goes through input buffers that generate the complement as well as the signal. a0 a0 a–0 a1 a1 a–1 XX– – 0 1 X2 X–3 Figure 16.72 Simplified decoder with two-bit input Another example of the direct implementation of a decoder is shown in Figure 16.73. Figure 16.73(a) shows a pair of NMOS input buffer-inverters, and Figure 16.73(b) shows a five-input NOR logic address decoder circuit using NMOS enhancement-mode drivers and a depletion load. A pair of input-buffer inverters is required for each input address line. The input signal is then required to drive only an inverter, while the buffer-inverter pair can be designed to drive the remainder of the logic circuits. The output of the NOR decoder goes high only when all inputs area logic 0. The NOR gate in Figure 16.73(b) would decode the address word 00110 and select the seventh row or column for a read or write operation. (Note: An input of 00000 is used to address the first row or column.) As the size of the memory increases, the length of the address word must increase. For example, a 64-K (where 1 K = 1024 bits) memory whose cells are VDD VDD a–i ai X5 a a– a– a ai a 3 2 1 0 4 (a) (b) Figure 16.73 (a) Input buffer-inverter pair; (b) five-input NOR logic address decoder nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1212 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1212 Part 3 Digital Electronics arranged in a square array would require an 8-bit word for the row address and another 8-bit word for the column address. As the word size increases, the decoder becomes more complex, and the number of transistors and power dissipation may become large. In addition, the total capacitance of MOS decoder transistors and interconnect lines increase so that propagation delay times may become significant. The number of transistors required to design a decoder maybe reduced by using a two-stage decoder using both NOR and NAND gates. These circuits maybe found in more advanced textbooks on digital circuits. Test Your Understanding TYU 16.15 A NOR logic address decoder, such as shown in Figure 16.73(b), is used in both the row and column address decoders in a memory arranged in a square array. Calculate the number of decoder transistors required for a (a) 1-K, (b) 4-K, and (c) 16-K memory. (Ans. 384, 896, 2048 plus buffer transistors.) 16.9 RAM MEMORY CELLS Objective: • Analyze and design random-access-memory (RAM) cells In this section, we consider two designs of an NMOS static RAM (SRAM), one design of a CMOS static RAM, and one design of a dynamic RAM (DRAM). We also consider examples of sense amplifiers and read/write circuitry. This section is intended to present the basic concepts used in memory cell design. More advanced designs can again be found in advanced texts on digital circuits. 16.9.1 NMOS SRAM Cells A static RAM cell is designed by cross-coupling the inputs and outputs of two inverters. In the case of an NMOS design, the load devices maybe either depletion- mode transistors or polysilicon resistors, as shown in Figure 16.74. In either case, the VDD VDD DD– DD– M3 M4 RR Q Q– Q Q– MA MB MA MB X M1 M2 XX M1 M2 X Row Row Row Row select select select select (a) (b) Figure 16.74 Static NMOS RAM cells with (a) depletion loads and (b) polysilicon resistor loads"
16.9 RAM Memory Cells,"16.9 RAM MEMORY CELLS Objective: • Analyze and design random-access-memory (RAM) cells In this section, we consider two designs of an NMOS static RAM (SRAM), one design of a CMOS static RAM, and one design of a dynamic RAM (DRAM). We also consider examples of sense amplifiers and read/write circuitry. This section is intended to present the basic concepts used in memory cell design. More advanced designs can again be found in advanced texts on digital circuits. 16.9.1 NMOS SRAM Cells A static RAM cell is designed by cross-coupling the inputs and outputs of two inverters. In the case of an NMOS design, the load devices maybe either depletion- mode transistors or polysilicon resistors, as shown in Figure 16.74. In either case, the VDD VDD DD– DD– M3 M4 RR Q Q– Q Q– MA MB MA MB X M1 M2 XX M1 M2 X Row Row Row Row select select select select (a) (b) Figure 16.74 Static NMOS RAM cells with (a) depletion loads and (b) polysilicon resistor loads nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1213 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1213 inputs and outputs of the two inverters are cross-coupled to form a basic flip-flop. If transistor M1 is turned on, for example, the output Q is low, which means that transistor M2 is cutoff. Since M2 is cutoff, the output Q̄ is high, ensuring that M1 is turned on. Thus, we have a static situation as long as the bias voltage VDD is applied to the circuit. To access (read or write) the data contained in the memory cell, two NMOS transmission gate transistors, MA and MB , connect the memory cell to the complementary bit lines. When the word line signal or row select signal is low, both transmission gate transistors are cutoff and the memory cell is isolated or in a standby condition. The data stored in the cell remain stored as long as power is applied to the cell. When the row selector word line signal goes high, the memory cell is then connected to the complementary data lines so that the data in the cell can be read or new data can be written into the cell. One critical parameter in the design of RAM cells is power dissipation. As we will see in the following example, this is one situation in which incorporating a high- valued resistor as a load device improves the design. A lightly doped polysilicon load resistor is formed by ion implantation, which can accurately dope the polysilicon to produce the designed resistance value. EXAMPLE 16.14 Objective: Determine the currents, voltages, and power dissipation in two NMOS SRAM cells. The first design uses a depletion-load device and the second design uses a resistor-load device. Assume the following parameters: V = 3 V and k ′ DD n = 60 μA/V2; driver transistors: VT ND = 0.5 V and (W/L)D = 2; load devices: VT N L = −1.0 V, (W/L)L = 1/2, and R = 2 M. Solution (With Depletion Load): Assume M2 is cutoff in the circuit in Figure 16.74(a) so that Q̄ = VDD = 3 V. M1 is on in the nonsaturation region and M3 is on in the saturation regio(n. Th)e drain current in M1 and M3(is t)hen = k ′ in D · W 60 (VGSL − V 2 TN L) = · 1 (0 − (−1))2 2 LL 2 2 or iD = 15 μA The power dissipated in the circuit is then P = iD · VDD = (15)(3) = 45 μW The logic 0 val(ue of) the[ Q output is found from k ′ = n · W ] iD 2 (V − V 2 2 GSD TN D) VDSD − V L DSD D or 60 15 = · (2)[2(3 − 0.5)Q − Q2] 2 which yields Q = 50.5 mV nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1214 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1214 Part 3 Digital Electronics Solution (With Resistor Load): Again assume M2 is cutoff in the circuit in Figure 16.74(b) so that Q̄ = VDD = 3 V. Again M1 is on in the nonsaturation region. The drain curre(nt is) found from V ′ DD − Q = kn · W [2 (VGSD − VT ND) Q − Q2] R 2 L D or 3 − Q = 60 · (2)[2(3 − 0.5)Q − Q2] 2 2 [Note that dividing by megohms on the left agrees with microamperes on the right.] We find Q =∼ 5 mV The drain current is then found: = VDD − Q = 3 − 0.005 i ∼ D = 1.5 μA R 2 The power dissipated in the circuit is then P = iD · VDD = (1.5)(3) = 4.5 μW Comment: We see that the SRAM with the resistive load dissipates 10 times less power than the SRAM with the depletion-load device. Thus, for a given allowed power dissipation per chip, the memory with the resistive load could be 10 times larger than that using the depletion load device. EXERCISE PROBLEM Ex 16.14: A 16-K NMOS static RAM cell using a resistor load is to be designed. Each cell is to be biased at VDD = 2.5 V. Assume transistor parameters as described in Example 16.14. The entire memory is to dissipate no more than 125 mW in standby. Design the value of R in each cell to meet this specification. (Ans. R = 0.82 M) Since the value of the load resistance R is, in general, very large, the memory must be designed so that the resistor R is not required to be a pull-up device. We will see this type of design later. The resistors can actually be fabricated on top of the NMOS transistors by a double-polysilicon technology, so that the cell with resistor load devices can be very compact, resulting in a high-density memory. 16.9.2 CMOS SRAM Cells The basic six-transistor CMOS SRAM cell is shown in Figure 16.75. The inputs and outputs of the two CMOS inverters are cross-coupled so that the circuit will be in one of two static conditions. For example, if Q̄ is low, then MN1 is cutoff so that Q is high, which in turn means that MP2 is cutoff, ensuring that Q̄ remains low. The two NMOS transmission gate transistors again connect the basic memory cell to the complementary data lines. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1215 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1215 VDD DD MP1 MP2 Q QM MBA MN1 M X N2 X Row Row select select Figure 16.75 A CMOS static RAM cell The traditional advantages of CMOS technology include low static power dissipation, superior noise immunity to either bipolar or NMOS, wide operating temperature range, sharp transfer characteristics, and wide voltage supply tolerance. CMOS is inherently lower power than NMOS, since conducting paths between power and ground do not arise when the circuit is in one logic state or the other. In standard CMOS, the p- and n-channel devices in the memory cell and in the periphery circuits are in series and on at the same time only during switching. Current is, therefore, drawn only during switching. This makes SRAMs and CMOS extremely low power in standby, when there are only surface, junction, and channel leakage currents. A more complete circuit of the CMOS static RAM is shown in Figure 16.76, which includes PMOS data line pull-up transistors on the complementary bit lines. If all word line signals are zero, then all pass transistors are turned off. The two data lines with the relatively large column capacitances are charged up by the column pull-up transistors, MP3 and MP4, to the full VDD voltage. VDD VDD Pull-up M transistors P3 MP4 VDD DD– MP1 MP2 Q QM MBA – C CD D MN1 MN2 Word line Figure 16.76 CMOS RAM cell including PMOS pull-up transistors nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1216 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1216 Part 3 Digital Electronics VDD VDD Pull-up M transistors P3 MP4 VDD DD– MP1 MP2 Q– = V V DD V DD Q = 0 V MM DD BA – C CD D MN1 MN2 VDD VDD Figure 16.77 Voltage levels and “on” transistors in CMOS RAM cell at the beginning of the read cycle To determine the (W/L) ratios of the transistors in atypical CMOS SRAM cell, two basic requirements must be taken into consideration. First, the read operation should not destroy the information stored in the cell, and second, the cell should allow for the modification of the data stored during a write operation. Consider a read operation in which a logic 0 (Q = 0 and Q̄ = VDD ) is stored in the cell. The voltage levels in the cell and on the data lines just prior to the read operation are shown in Figure 16.77. Transistors MP1 and MN2 are turned off while transistors MN1 and MP2 are biased in the nonsaturation region. Immediately after the word select signal is applied to the pass transistors MA and MB , the voltage on the D̄ data line will not change significantly, since the pass transistor MB is actually not conducting and no current flows. On the opposite side of the cell, current will flow through MA and MN1 so that the voltage on the D data line will drop and the voltage Q will increase above its initial zero value. The key design point is that Q must not become larger than the threshold voltage of MN2, so that MN2 remains cutoff during the read phase. This will ensure that there is not a change in the data stored in the cell. At the initial time the cell is addressed, we can assume that the D bit line remains at approximately VDD , since the line capacitance cannot change instantaneously. The pass transistor MA is biased in the saturation region and the transistor MN1 is biased in the nonsaturation region. Setting the drain currents through MA and MN1 equal, we have Kn A(VDD − Q − V 2 TN ) = Kn1[2(VDD − VT N )Q − Q2] (16.81) Setting Q = Qmax = VT N as our design limit, then from Equation (16.81), we find the relation between the transistor width-to-length ratios to be (W/L)n A 2(VDDVT N ) − 3V 2 < TN (16.82) (W/L)n1 (V 2 DD − 2VT N ) Assuming that VDD = 3 Vand VT N = 0.5 V, we find that (W/L)n A/(W/L)n1 < 0.56. So the width-to-length of the pass transistor should be approximately one-half that of nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1217 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1217 VDD VDD 0 MP1 MP2 Q– = V Q = 0 DD – D M MB DA MN1 MN2 VDD VDD Figure 16.78 Voltage levels in the CMOS RAM at the beginning of a write cycle the NMOS device in the memory cell. By symmetry, the same condition applies to the transistors MN2 and MB . We now need to consider the write operation. Assume that a logic 0 is stored and we want to write a logic 1 into the memory cell. Figure 16.78 shows the initial voltage levels in the CMOS SRAM cell when the cell is first addressed at the beginning of the write cycle. Transistors MP1 and MN2 are initially turned off, and MN1 and MP2 are biased in the nonsaturation region. The cell voltages are Q = 0 and Q̄ = VDD just before the pass transistors are turned on. The data line Dis held at VDD and the complementary data line D̄ is forced to a logic 0 value by the write circuitry. We may assume that D̄ = 0 V for analysis purposes. The voltage Q will remain below the threshold voltage of MN2 because of the condition given by Equation (16.82). Consequently, the voltage at Q is not sufficient to switch the state of the memory cell. To switch the state of the cell, the voltage at Q̄ must be reduced below the threshold voltage of MN1, so that MN1 will turnoff. When Q̄ = VT N , then MB is biased in the nonsaturation region and MP2 is biased in the saturation region. Equating drain currents, we have [ ] Kp2(VDD + V 2 T P) = KnB 2(VDD − VT N )V 2 TN − VT N (16.83(a)) which can be written in the form Kp2 2(VDDVT N ) − 3V 2 < TN + (16.83(b)) K (V V )2 nB DDT P Considering the width-to-length ratios, we find (W/L) k ′ 2(V 2 p2 n · DDVT N ) − 3V < TN (W/L) k ′ nB p (VDD + (16.84) V 2 T P) Assuming that VDD = 3 V, VT N = 0.5 V, VT P = −0.5 V, and (k ′ n/k ′ p) = (μn/μp) = 2, we find that (W/L)p2/(W/L)nB < 0.72. From previous results, if we assume that the width-to-length of the pass transistor is one-half that of the NMOS in the memory cell, and if we assume that the width- to-length of the PMOS in the memory cell is 0.7 that of the pass transistor, then the width-to-length of the PMOS in the cell should be approximately 0.35 that of the NMOS in the memory cell. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1218 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1218 Part 3 Digital Electronics 16.9.3 SRAM Read/Write Circuitry An example of a read/write circuit at the end of a column is shown in Figure 16.79. We may consider the write portion of the circuit as shown in Figure 16.80(a). We may note that if the column is not selected, then M3 is cutoff and the two data lines are held at their precharged value of VDD . When X = Y = 1, then the one-bit cell shown is addressed. If W̄ = 1 then the write cycle is deselected and both M1 and M2 are cutoff. For W̄ = 0 and D = 1, M1 is cutoff and M2 is turned on so that the D̄ data line is pulled low while the D data line remains high. The logic 1 is then written into the cell. For W̄ = 0 and D = 0, the D data line is pulled low and the D̄ data line is held high so that logic 0 is written into the cell. VDD VDD Pull-up M transistors P3 MP4 VDD DD– MP1 MP2 Q Q– MM BA CD– V C DD D MN1 MN2 Word line VO CLK CLK Read select Sense Write amplifier WB circuitry WB Y column select Figure 16.79 Complete circuit diagram of a CMOS RAM cell with write and read circuitry nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1219 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1219 VDD DD– CD CD– M1 M2 CMOS SRAM CLK M3 cell (b) X, word line VDD M2 – M3 M4 WM1 VO Data Y – column D M1 M2 D select CLK M5 (a) (c) Figure 16.80 (a) Write circuitry associated with CMOS RAM cell; (b) cross-coupled NMOS sense amplifier; (c) CMOS differential sense amplifier Figure 16.80(b) shows the NMOS cross-coupled sense amplifier that is in the complete circuit of Figure 16.79. This circuit does not generate an output signal, but rather amplifies the small difference in the data bit lines. Suppose that a logic 1 is to be read from the memory cell. When the cell is addressed, the D bit line is high and the D̄ bit line voltage begins to decrease. This means that when the M3 transistor turns on, the M2 transistor turns on harder than M1 so that the D̄ bit line voltage is pulled low and the M1 transistor will eventually turnoff. Figure 16.80(c) shows the differential amplifier that senses the output of the memory cell. Note that this sense amplifier is connected to the bit lines through a couple of pass transistors, as seen in Figure 16.79. If the input signal to the pass transistors is also a function of the column select signal, then this configuration enables the use of one main sense amplifier to read the data out of several columns, one at a time. When the clock signal is zero, the M3 transistor in the differential amplifier is cutoff and the common source node of M1 and M2 is pulled high, which means the output voltage is pulled high. When a memory cell is selected and the clock goes high, M3 turns on. If a logic 1 level is to be read, then D remains high and the D̄ line nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1220 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1220 Part 3 Digital Electronics voltage decreases. This means that the M2 transistor will turnoff and the output voltage remains high. If a logic 0 is to be read, then the D line voltage decreases and D̄ remains high. The transistor M1 will turnoff while M2 is turned on so that the output voltage goes low. 16.9.4 Dynamic RAM (DRAM) Cells The CMOS RAM cell just considered requires six transistors and five lines connecting each cell, including the power and ground connections. A substantial area, then, is required for each memory cell. If the area per cell could be reduced, then higher- density RAM arrays would be possible. In a dynamic RAM cell, a bit of data is stored as charge on a capacitor, where the presence or absence of charge determines the value of the stored bit. Data stored as charge on capacitors cannot be retained indefinitely, since leakage currents will eventually remove the stored charge. Thus the name dynamic refers to the situation in which a periodic refresh cycle is required to maintain the stored data. One design of a DRAM cell is the one-transistor cell that includes a pass transistor MS plus a storage capacitor CS , shown in Figure 16.81. Binary information is stored in the form of zero charge on CS (logic 0) and stored charge on CS (logic 1). The cell is addressed by turning on the pass transistor via the word line signal WL and charges are transferred into or out of CS on the bit line BL. The storage capacitor is isolated from the rest of the circuit when MS is off, but the stored charge on CS decreases because of the leakage current through the pass transistor. This effect was discussed in detail in Section 16.6 during the analysis of the NMOS pass transistor. As a result of this leakage, the cell must be refreshed regularly to restore its original condition. Row select = WL MS CC SB Data line Figure 16.81 One-transistor dynamic RAM cell An example of a sense amplifier to detect the charge stored in the memory cell is shown in Figure 16.82. On one side of the amplifier is a memory cell that either stores a full charge or is empty, depending on the binary value of the data. On the other side of the amplifier is a reference cell with a reference or dummy storage capacitor CR that is one-half the value of the storage capacitor. The charge on CR will then be one-half the logic 1 charge on CS . Across-coupled dynamic latch circuit is used to detect the small voltage differences and to restore the signal levels. The capacitors CD and CDR represent the relatively large parasitic bit line and reference bit line capacitances. In the standby mode, the bit lines on both sides of the sense amplifier are precharged to the same potential. During the read cycle, both the WL and D–WL nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1221 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1221 VDD f2 CE D v1 v2 DR CD CDR M5 MR D–WL Row select WL CS CR Figure 16.82 Sense amplifier configuration for dynamic RAM cell address signals go high allowing the charges in the cells to be redistributed along the bit lines. After the charge equalization and since the charge in the dummy cell is half the full charge, then v1 < v2 when the memory cell is empty or a logic 0, and v1 > v2 when the memory cell is full or a logic 1. The sense amplifier detects and amplifies the voltage difference between the bit lines, and will latch at the logic level stored in the basic memory cell. Test Your Understanding TYU 16.16 A six-transistor CMOS SRAM cell is biased at VDD = 2.5 V. The transistor parameters are VT N = +0.4 V, VT P = −0.4 V, and (μn/μp) = 2.5. Determine the relative width-to-length ratios such that Equations (16.81) through (16.84) are satisfied in terms of read/write requirements. (Ans. [(W/L)n A/(W/Ln1)] = 0.526, [(W/L)p/(W/L)nB)] = 0.862) TYU 16.17 A one-transistor DRAM cell is composed of a 0.05 pF storage capacitor and an NMOS transistor with a 0.5 V threshold voltage. A logic 1 is written into the cell when both the data line and row-select line are raised to 3 V. Sensing circuitry permits the stored charge to decay to 50 percent of its original value. Refresh occurs every 1.5 ms. Determine the maximum allowed leakage current that can exist. (Ans. I = 41.7 pA) 16.10 READ-ONLY MEMORY Objective: • Analyze read-only memories (ROM) We consider several examples of read-only memories in this section. The intent is again to provide an introduction to this type of memory. In the case of EPROMs and EEPROMs, the development effort has been directed toward the characteristics of the basic memory cell."
16.10 Read-Only Memory,"16.10 READ-ONLY MEMORY Objective: • Analyze read-only memories (ROM) We consider several examples of read-only memories in this section. The intent is again to provide an introduction to this type of memory. In the case of EPROMs and EEPROMs, the development effort has been directed toward the characteristics of the basic memory cell. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1222 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1222 Part 3 Digital Electronics 16.10.1 ROM and PROM Cells We consider two types of ROMs. The first example is a mask-programmed ROM, in which contacts to devices are selectively included or excluded in the final manufacturing process to obtain the desired memory pattern. Figure 16.83 shows an example of an NMOS 16 × 1 mask-programmed ROM. Enhancement-mode NMOS transistors are fabricated in each of the 16 cell positions (the substrate connections are omitted for clarity). However, gate connections are fabricated only on selected transistors. The transistors M1–M4 are column-select transistors and M0 is a depletion- mode load device. The inputs X O , X1, YO , and Y1 are the row- and column-select signals. If, for example, X O = X̄1 = ȲO = Y1 = 1, then the M12 transistor is addressed. Transistors M12 and M3 turn on with this address, forcing the output to a logic 0. If the address changes, for example, to X̄ O = X1 = ȲO = Ȳ1 = 1, then the transistor M23 is addressed. However, this transistor does not have agate connection and consequently never turns on, so the output is a logic 1. The mask-programmed memory discussed is only a 16 × 1-bit ROM, while a more useful memory would contain many more bits. Memories can be organized in any desired manner, such as a 2048 × 8 for a 16-K memory. This ROM is anon- volatile memory, since the data stored are not lost when power is removed. The second example of a ROM is a user-programmed ROM. The data pattern is defined by the user after the final manufacture rather than during the manufacture. VDD M0 vO M1 – M2 – M3 – – M4 Y0Y1 Y0Y1 Y0Y1 Y0Y1 X0X1 M00 M01 M02 M03 XX–0 1 M10 M11 M12 M13 X–0X1 M20 M21 M22 M23 X– – 0X1 M30 M31 M32 M33 Figure 16.83 An NMOS 16 × 1 mask-programmable ROM nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1223 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1223 VCC Q00 Q01 Q Q X0X 02 03 1 (Row select) Data line VCC – Q10 Q11 Q12 Q13 X0X1 VCC – Q XX 20 Q21 Q22 Q23 0 1 VCC Q Q Q XX– 30 31 32 Q33 0 1 Y0Y NY Y– – – – 1 1 0 1 N2 Y0Y1 N3 Y0Y1 N4 CS Output Figure 16.84 A bipolar fuse-linked user-programmable ROM One specific type is shown schematically in Figure 16.84. A small fuse is in series with each emitter and can be selectively “blown” or left in place by the user. If, for example, the fuse in Q00 is left in place and this transistor is addressed by X O = X1 = YO = Y1 = 1, then Q00 turns on, raising the data line voltage at the emitter of Q00. The inverter N1 is enabled, making the output a logic 0. If the fuse is blown in this transistor, then the input to the inverter is a logic 0, so the output is a logic 1. The polysilicon fuse in the emitter of an npn bipolar transistor has a fairly low resistance, so with the fuse in place and at low currents, there is very little voltage drop across the fuse. When the current through the fuse is increased to the 20 to 30 mA range, the heating of the polysilicon fuse causes the temperature to increase. The silicon oxidizes, forming an insulator that effectively opens the path between the data line and the emitter. The bipolar ROM circuit with the fuses either in place or “blown” form a permanent ROM that is not alterable and is also nonvolatile. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1224 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1224 Part 3 Digital Electronics Gate 2 Thin oxide Gate 1 Source Drain SiO2 n+ p n+ SiO2 p+ Body p+ (a) DC2 C1 BS Gate 2 Gate 1 (b) Figure 16.85 (a) Cross section of erasable programmable ROM; (b) equivalent circuit 16.10.2 EPROM and EEPROM Cells An EPROM transistor is shown in Figure 16.85. The device has a double gate, with gate 1 being a “floating gate” that has no electrical contact. Gate 2 is used for cell selection, taking the role of the single gate of an MOS transistor. Operation of this EPROM cell relies on being able to store charge on the floating gate. Initially, we assume no charge on the floating gate so that with gate 2, drain, and source grounded, the potential of gate 1 is also zero. As the voltage on gate 2 increases, the gate 1 voltage rises also, but at a lower rate as determined by the capacitive divider. The net effect of this is to effectively raise the threshold voltage of this MOSFET as seen from gate 2. However, when the gate 2 voltage is raised sufficiently (approximately twice the normal threshold voltage), a channel forms. Under these conditions, the device provides a stored logic 0 when used in the NOR array. To write a logic 1 into this cell, both gate 2 and drain are raised to about 25 V while the source and substrate remain at ground potential. A relatively large drain current flows because of normal device conduction characteristics. In addition, the high field in the drain–substrate depletion region results in avalanche breakdown of the drain–substrate junction, with a considerable additional flow of current. The high field in the drain depletion region accelerates electrons to high velocity such that a small fraction traverse the thin oxide and become trapped on gate 1. When the gate 2 and drain potentials are reduced to zero, the negative charge on gate 1 forces its potential to approximately −5 V. If the gate 2 voltage for reading is limited to +5 V, then a channel never forms. Thus a logic 1 is stored in the cell. Gate 1 is completely surrounded by silicon dioxide (SiO2), an excellent insulator, so charge can be stored for many years. Data can be erased, however, by exposing the cells to strong ultraviolet (UV) light. The UV radiation generates electron–hole pairs in the SiO2 making the material slightly conductive. The negative charge on the gate can then leak off, restoring the transistor to its original uncharged condition. These EPROMs must be assembled in packages with transparent covers so nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1225 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1225 Control gate Gate oxide +VG Floating gate Tunnel oxide +VD n+ n+ Field oxide p substrate (a) + – – + 20 V –20 V + – – – – + + – – – – – – + + – – – – + + – – – – + Control Floating Drain Control Floating Drain gate gate gate gate (b) (c) Figure 16.86 (a) Cross section of a floating-gate electrically erasable programmable ROM; (b) charging the floating gate; (c) discharging the floating gate the silicon chip maybe exposed to UV radiation. One disadvantage is that the entire memory must be erased before any reprogramming can be done. In general, reprogramming must also be done on specialized equipment; therefore, the EPROM must be removed from the circuit during this operation. In the EEPROM, each individual cell can be erased and reprogrammed without disturbing any other cell. The most common form of EEPROM is also a floating gate structure; one example is shown in Figure 16.86(a). The memory transistor is similar to an n-channel MOSFET, but with a physical difference in the gate insulator region. Charge may exist on the floating gate that will alter the threshold voltage of the device. If a net positive charge exists on the floating gate, then-channel MOSFET is turned on, whereas if zero or negative charge exists on the floating gate, the device is turned off. The floating gate is capacitively coupled to the control gate with the tunnel oxide thickness less than 200 Å. If 20 V is applied to the control gate while keeping VD = 0, electrons tunnel from then+-drain region to the floating gate as demonstrated in Figure 16.86(b). This puts the MOSFET in the enhancement mode with a threshold voltage of approximately 10 V, so the device is effectively off. If zero volts is applied to the control gate and 20 V is applied to the drain terminal, then electrons tunnel from the floating gate to then+-drain terminal as demonstrated in Figure 16.86(c). This leaves a net positive charge on the floating gate that puts the device in the depletion mode with a threshold voltage of approximately −2 V, so the device is effectively on. If all voltages are kept to within 5 V during the read cycle, this structure can retain its charge for many years. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1226 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1226 Part 3 Digital Electronics 16.11 DATA CONVERTERS Objective: • Discuss the basic concepts in A/D and D/A converters. Most physical signals exist in analog form. These signals include, for example, audio or speech and the output of transducer circuits. Some analog signal processing, such as amplifying the output of a microphone prior to the connection to speakers, may occur. However, digital signal processing maybe required to convert an analog signal into digital form prior to transmission of the signal to a satellite receiver, for example. Therefore, analog-to-digital (A/D) and digital-to-analog (D/A) converters are an important class of integrated circuits. 16.11.1 Basic A/D and D/A Concepts In this section, we briefly consider a few basic concepts used in A/D and D/A conversions. Figure 16.87 shows the block diagram representations of A/D and D/A converters. An analog signal vA is applied to the input of the A/D converter and the output is an N-bit digital signal that can be represented as = b1 + b2 + b3 + · · · + bN vD (16.85) 21 22 23 2N where b1, b2, etc. are the bit coefficients that are either a 1 or 0. The bit b1 is the most significant bit (MSB) and the bit bN is the least significant bit (LSB). The input to the D/A converter is the N-bit digital signal and the output is an analog signal v′ A. Ideally, the output analog signal v′ A is an exact replication of the input analog signal vA. b1 b1 A/Db b D/A vA 2 2 v converter converter A′ bN bN (a) (b) Figure 16.87 Block diagram representations of (a) A/D converter and (b) D/A converter The analog signal is to be converted to a digital form as indicated in Equation (16.85). Consider, for example, an analog signal represented by a voltage in the range 0 ≤ vA ≤ 5 V. Assume the digital signal is a 6-bit word. The 6-bit word represents 64 discrete values. The analog signal will then be divided into 64 values, with each bit representing 5 V/64 = 0.078125 V. The analog-to-digital conversion can be visualized in Figure 16.88. When the analog input voltage is, for example, v = 5 A 64 V, the digital output is 000001 and when the analog input voltage is vA = 2( 5 64 ) V, the digital output is 000010. However, we see that when the input is in the range 1 ( 5 2 64 )< v 3 5 A < 2 ( 64 ) V, the digital output is constant at vD = 000001. There is an inherent quantization error in the A/D conversion. A larger number of bits in the digital signal reduces the quantization error, but requires a more complex circuit. The same effect occurs at the output of the D/A converter. Since the digital input signal exists in discrete steps or increments, the output signal will also occur in discrete steps or increments. An example is shown in Figure 16.89. The output signal … …"
16.11 Data Converters,"16.11 DATA CONVERTERS Objective: • Discuss the basic concepts in A/D and D/A converters. Most physical signals exist in analog form. These signals include, for example, audio or speech and the output of transducer circuits. Some analog signal processing, such as amplifying the output of a microphone prior to the connection to speakers, may occur. However, digital signal processing maybe required to convert an analog signal into digital form prior to transmission of the signal to a satellite receiver, for example. Therefore, analog-to-digital (A/D) and digital-to-analog (D/A) converters are an important class of integrated circuits. 16.11.1 Basic A/D and D/A Concepts In this section, we briefly consider a few basic concepts used in A/D and D/A conversions. Figure 16.87 shows the block diagram representations of A/D and D/A converters. An analog signal vA is applied to the input of the A/D converter and the output is an N-bit digital signal that can be represented as = b1 + b2 + b3 + · · · + bN vD (16.85) 21 22 23 2N where b1, b2, etc. are the bit coefficients that are either a 1 or 0. The bit b1 is the most significant bit (MSB) and the bit bN is the least significant bit (LSB). The input to the D/A converter is the N-bit digital signal and the output is an analog signal v′ A. Ideally, the output analog signal v′ A is an exact replication of the input analog signal vA. b1 b1 A/Db b D/A vA 2 2 v converter converter A′ bN bN (a) (b) Figure 16.87 Block diagram representations of (a) A/D converter and (b) D/A converter The analog signal is to be converted to a digital form as indicated in Equation (16.85). Consider, for example, an analog signal represented by a voltage in the range 0 ≤ vA ≤ 5 V. Assume the digital signal is a 6-bit word. The 6-bit word represents 64 discrete values. The analog signal will then be divided into 64 values, with each bit representing 5 V/64 = 0.078125 V. The analog-to-digital conversion can be visualized in Figure 16.88. When the analog input voltage is, for example, v = 5 A 64 V, the digital output is 000001 and when the analog input voltage is vA = 2( 5 64 ) V, the digital output is 000010. However, we see that when the input is in the range 1 ( 5 2 64 )< v 3 5 A < 2 ( 64 ) V, the digital output is constant at vD = 000001. There is an inherent quantization error in the A/D conversion. A larger number of bits in the digital signal reduces the quantization error, but requires a more complex circuit. The same effect occurs at the output of the D/A converter. Since the digital input signal exists in discrete steps or increments, the output signal will also occur in discrete steps or increments. An example is shown in Figure 16.89. The output signal … … nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1227 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1227 000111 000110 Analog output 000101 vD vA vA′ 000100 000011 vA″ 000010 1 LSB 000001 Time 0 5 2 5 3 5 4 5 … 64 64 64 64 Analog input voltage, vA Figure 16.88 Digital output versus analog input for Figure 16.89 Discrete analog output v′ A and smoothed a 6-bit A/D converter output v′′ A versus time from a D/A converter v′ A is in the form of stair steps. Normally, this signal will be fed through a low-pass filter to smooth out the signal to produce the dotted signal v′′ A in the figure. The desired result is that the signal v′′ A be as close to the original signal vA as possible. 16.11.2 Digital-to-Analog Converters We will consider a few basic D/A converters to gain an appreciation of the techniques used in these circuits. Weighted-Resistor 4-Bit D/A A simple circuit for a 4-bit D/A converter was shown in Chapter 9 in Figure P9.37. This circuit is repeated here in Figure 16.90 for convenience. The circuit is a summing amplifier and includes a reference voltage VR, four weighted input resistors, four switches, and an op-amp with a feedback resistor. With RF = 10 k, we find the output (voltage to be ) = b1 + b2 b3 b4 vO + + (5) V (16.86) 2 4 8 16 VR = –5 V RF S1 R1 = 20 kΩ – vO SR = 40 kΩ 2 2 + SR3 = 80 kΩ 3 S4 R4 = 160 kΩ Figure 16.90 A 4-bit weighted-resistor D/A converter Digital output voltage, vD nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1228 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1228 Part 3 Digital Electronics RF – vo + b1 QB1 QR VBias + V – REF IR RV – Figure 16.91 Example of a current switch in the MSB position in a weighted resistor of D/A converter One factor that determines the accuracy of the circuit is the precision of the weighted input resistors and the feedback resistor. As the number of bits increases, the size of the weighted input resistance increases for the lesser significant bits. The accuracy for large resistance values becomes more difficult to maintain. The size of this D/A converter is in general limited to a 4-bit input. Another factor that determines the accuracy of the D/A circuit is the precision of the switches. An example of a current switch, showing only the MSB, is shown in Figure 16.91. If the bit b1 is a logic 1 (>VBias), then QB1 is turned on and QR is turned off so that the current IR is switched through QB1. This current becomes a component of the current through the feedback resistor. If b1 is a logic 0 (<VBias), then QB1 is turned off and QR is turned on so that the current is switched to ground. Because of the virtual ground, we may note that the collector voltages of QB1 and QR are essentially identical. For the circuit to operate properly, the base-emitter voltage of all the transistors must be the same. Since the currents are smaller for the lesser significant bits, the base–emitter areas must be reduced in order to maintain the same current density. The type of circuit shown in Figure 16.91 then requires a wide range of base–emitter areas in the same way that it requires a wide range of weighted resistor values. R–2R Ladder Network D/A A circuit that eliminates the widespread in weighted input resistor values in the previous circuit is an R–2R ladder resistive network. Consider the circuit shown in Figure 16.92. Assuming the switches are ideal, the current in each resistor is a constant because of the virtual ground concept. Consider node X in the circuit. We can note that the resistance denoted as RX is RX = 2R. This same resistance occurs at every node in the circuit as indicated on the figure. Therefore, the current entering each node splits evenly as shown at node X. We have that IN− = 1 1 2 IN−2. This effect again occurs at every node in the circuit. Therefore, we have I1 = 2I2 = 4I = · · · = 2N−2 I − = 2N−1 3 N 1 IN (16.87) Setting the feedbac(k resistance to RF = R), we have the output voltage given by = − b1 + b2 + · · · + b V N vO ( REF) (16.88) 2 4 2N nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1229 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1229 RX = 2R 2R 2RR RX R VREF IN–2 IN–1 I1 2RI2 2R IN–1 2R IN 2R 2R RF b1 b2 bN–1 bN – vO + Figure 16.92 Example of an R–2R ladder network in an N-bit D/A converter The circuit in Figure 16.92 requires only two resistance values. These resistance values can then be held to tight tolerances. There area variety of D/A converter designs that will not be pursued in this text. This short discussion provides a brief introduction to D/A design. 16.11.3 Analog-to-Digital Converters As in the previous section, we will consider a few basic A/D converters to gain an appreciation of the techniques used in these circuits. Parallel or Flash A/D The fastest A/D converter, and perhaps simplest in concept, is the parallel A/D or flash converter. Figure 16.93 shows a 3-bit flash A/D converter. The analog input signal vA is applied to seven comparators at the noninverting terminals. A reference voltage is applied to a resistive ladder network. The outputs of the ladder network are applied to the inverting terminals of the comparators. The total resistance in the ladder network is 8R so VREF/8R represents 1 LSB in terms of current(. Th)e smallest output voltage is = VREF R = VREF v1 (16.89) 8R 2 16 which represent(s 1 2 L)SB. Th(e seco)nd output voltage is = VREF 3R = V 3 REF v2 (16.90) 8R 2 16 which represents 1 1 2 LSB. If the analog input is v < 1 A 2 LSB, the output of all comparators will below. If the analog input is 1 LSB < v < 1 1 2 A 2 LSB, the output of the first comparator goes high. As the analog input voltage increases, the outputs of additional comparators go high. The combinational logic network then produces the desired 3-bit output word. We can note that a complete conversion is obtained during one clock period. A disadvantage of the flash A/D converter is that the number of resistors and comparators increases rapidly as the desired number of output bits increases. We see that 2N resistors and 2N − 1 comparators are required. Thus, for a 10 bit word, nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1230 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1230 Part 3 Digital Electronics VREF vA 3R 2 – + R – + R – + Rb1 – b2 + Rb3 – + R v – 2 + R v1 – R + 2 Figure 16.93 A 3-bit flash or parallel A/D converter 1024 resistors and 1023 comparators are required. However, 10-bit resolution A/D flash converters have been fabricated as ICs. Counting A/DA second type of A/D converter is the counting converter. This system contains a comparator, a counter, and a D/A converter in a feedback configuration as shown in Figure 16.94(a). Additional control circuitry is not shown for simplicity. Initially the output of the counter is set equal to zero and the output of the D/A converter is set to v = 1 O 2 LSB. When an analog input voltage vA is applied, the output of the comparator is high (unless vA < 1 2 LSB), which enables the counter. Then for each clock pulse, the output of the counter increases by one, producing an N-bit digital output. When the output of the D/A becomes just greater than the analog input voltage, the output of the comparator goes low and the counter is disabled. The N-bit digital output then corresponds to the analog input signal. Figure 16.94(b) shows the timing diagram of a counting converter for a 4-bit digital output. Assume that the analog input signal is in the range 0 ≤ vA ≤ 5 V. A 1 LSB then corresponds to 5 16 V. Assume the analog input signal is vA = 5.2( 5 16 ) V. The initial output of the D/A, as mentioned, is a 1 2 LSB offset voltage. By including the offset voltage, the maximum Combinational logic nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1231 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1231 N-bit output 0110 5 vA = 5.2 V 16 5 5 0101 4.5 16 < vA < 5.5 16 V 0100 v Comparator O vA + Counter Clock 0011 – b1 0010 … b2 b3 0001 bN 0000 D/A 0 1 2 3 4 5 vO converter Clock pulses (a) (b) Figure 16.94 (a) Block diagram of a counting A/D converter and (b) the timing diagram of a 4-bit A/D counting converter for a specific input voltage quantization error will then be ± 1 2 LSB. We see from Figure 16.94(b) that after the fifth clock pu(lse, )the ou(tput )of the D(/A is) 1 5 5 5 vO = + 5 = 5.5 V (16.91) 2 16 16 16 which is larger than vA. The counter then stops counting and the digital output is 0101. We can note that the digital output corresponds to 5( 5 16 ) V, which is within 1 2 LSB of the analog input signal. To complete the conversion process, the clock must go through its complete cycle, which for a 4-bit output is 16 clock periods. Dual-Slope A/D Another type of A/D conversion scheme is the dual-slope A/D converter shown in Figure 16.95(a). This type of converter is found in high-resolution data acquisition systems, for example, since 20-bit conversions can be achieved. S1 S2 –vA′ RC v – O1 VREF – v ′ + vO1 Slope = ARC V Slope = – REF + Integrator RC Comparator Control Counter logic … Time Set/reset T1 Clock b1 b2 b3 bN T2 (a) (b) Figure 16.95 (a) Block diagram and (b) timing diagram of a dual-slope A/D converter … … nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1232 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1232 Part 3 Digital Electronics From Figure 16.95(a), at t = 0, the reset switch S1 opens and a negative input signal (−v′ A) is applied to the integrator. The input signal v′ A is a sampled portion of the analog signal vA and hence is a constant during the conversion process. The output vO1 of the integrator is a positive linear signal as shown in the timing diagram in Figure 16.95(b). The slope of the signal is proportional to the value of v′ A. This portion of the conversion process continues for a fixed time T1, at which time the counter has reached its maximum value and overflows. At this time, the input switch S2 changes to a positive input reference voltage VREF. The output of the integrator starts at the peak output voltage reached at T1 and now has a negative slope. The counter has been reset and is now counting. The counting stops when the output voltage vO1 reaches zero. The tim(e T2 is r)elated to T1 and v′ A by v′ T2 = TA 1 (16.92) VREF The counter( reading) at T2 is given by v′ n = 2NA (16.93) VREF The output of the counter is then the digital equivalent of v′ A. The output of the dual-slope A/D converter is independent of the actual values of Rand C and hence is very accurate. The disadvantage of this data converter is that it is a fairly slow system. The time T1 requires 2N clock pulses and the maximum possible time T2 would also require 2N clock pulses. For example, a 12-bit A/D converter would require a total of 8192 clock pulses. This corresponds to a conversion time of 8.2 ms for a 1 MHz clock. 16.12 DESIGN APPLICATION: A STATIC CMOS LOGIC GATE Objective: • Design a static CMOS logic gate to implement a specific logic function. Specifications: A static CMOS logic gate is to be designed that implements the function of a three-input odd-parity checker. The output is to be high when an odd number of inputs are high. The size of each transistor is to be determined so that the switching speed is the same as that of a basic CMOS inverter with Wn = Wand Wp = 2W . A minimum number of transistors are to be used in the NMOS pull-down and PMOS pull-up portions of the circuit. Choices: We will assume that input signals A, B, and C as well as the complements Ā, B̄, and C̄ are available. Solution (Logic Function): The output of the logic gate is to be high when one input is high or when all three inputs are high. The output is to be high, for example, when the inputs are A = 1 and B = C = 0. The output would be high, then, for AB̄C̄ = 1. Considering the other possibilities, the logic function can be written as F = AB̄C̄ + ĀBC̄ + Ā B̄C + ABC (16.94)"
16.12 Design Application: A Static CMOS Logic Gate,"16.12 DESIGN APPLICATION: A STATIC CMOS LOGIC GATE Objective: • Design a static CMOS logic gate to implement a specific logic function. Specifications: A static CMOS logic gate is to be designed that implements the function of a three-input odd-parity checker. The output is to be high when an odd number of inputs are high. The size of each transistor is to be determined so that the switching speed is the same as that of a basic CMOS inverter with Wn = Wand Wp = 2W . A minimum number of transistors are to be used in the NMOS pull-down and PMOS pull-up portions of the circuit. Choices: We will assume that input signals A, B, and C as well as the complements Ā, B̄, and C̄ are available. Solution (Logic Function): The output of the logic gate is to be high when one input is high or when all three inputs are high. The output is to be high, for example, when the inputs are A = 1 and B = C = 0. The output would be high, then, for AB̄C̄ = 1. Considering the other possibilities, the logic function can be written as F = AB̄C̄ + ĀBC̄ + Ā B̄C + ABC (16.94) nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1233 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1233 V + FF– FA A– A– – – AAA A AB– – BB– BB BB– BC– C– CC CC (a) (b) Figure 16.96 (a) The basic NMOS pull-down portion of the logic gate derived from the logic function; (b) the modified NMOS pull-down portion of the logic gate for the design application Solution (NMOS Pull-Down): Figure 16.96(a) shows the basic NMOS pull-down portion of the logic gate derived from the logic function given in Equation (16.94). However, we may note that the two transistors at the bottom of the first two columns have a common input of C̄ and the two transistors at the bottom of the last two columns have a common input of C. The two transistors with common inputs can be combined into a single transistor. The final design of the NMOS pull-down portion of the logic gate is shown in Figure 16.96(b). In order for the NMOS portion of the circuit to be in the pull-down mode, three NMOS devices in series must be turned on. In order for this circuit to be equivalent to the NMOS in the CMOS inverter, each NMOS device must have a width of Wn = 3W . Solution (PMOS Pull-Up): Figure 16.97(a) shows the basic PMOS pull-up portion of the logic gate. This circuit is the complement of the NMOS circuit shown in Figure 16.96(a). We may note that two transistors on the right side of the circuit have common inputs C and C̄ . Each pair of transistors is effectively in series and hence can be replaced by a single transistor. The resulting circuit is shown in Figure 16.97(b). The complete three-input odd-parity checker circuit is then the combination of Figures 16.96(b) and 16.97(b) along with a CMOS inverter on the output. Comment: The basic logic circuit can be derived from the logic function. However, as we have seen, some simplifications can be made in the design. These simplifications can also be obtained from simplifications in the basic logic function also. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1234 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1234 Part 3 Digital Electronics V + V + AB CA BC AB– CAB– ABC– ABC– ABC– AB– FF– (a) (b) Figure 16.97 (a) The basic PMOS pull-up portion of the logic gate derived as the complement of the basic NMOS pull-down circuit; (b) the modified PMOS pull-up portion of the logic gate for the design application 16.13 SUMMARY • In this chapter, NMOS and CMOS digital logic circuits were analyzed and designed. These circuits include basic logic gates, shift registers, flip-flops, and memories. • The NMOS inverter is the basis of NMOS logic circuits. The quasi-static voltage transfer characteristics of NMOS inverters with resistive-load, enhancement- load, and depletion-load devices were generated. • The basic NMOS NOR and NAND logic gates were analyzed. More sophisticated logic functions can be implemented by combining driver transistors in parallel and series combinations. • The CMOS inverter is the basis of CMOS logic circuits. The quasi-static voltage transfer characteristics were generated. For the CMOS circuit, the quiescent power dissipation is essentially zero when the input is in either logic state. • The basic CMOS NOR and NAND logic gates were analyzed. More sophisticated CMOS logic circuits were also analyzed and designed. Transistor width-to- length ratios were designed to provide equal current drive in the NMOS pull- down and PMOS pull-up portions of the circuit. • CMOS clocked logic circuits can be designed to reduce the number of required PMOS devices. A generalized NMOS logic circuit is inserted between clocked PMOS and NMOS devices. The advantage of low static power dissipation is maintained. • Sequential logic circuits, such as shift registers, flip-flops, and a full one-bit adder, were analyzed."
16.13 Summary,"16.13 SUMMARY • In this chapter, NMOS and CMOS digital logic circuits were analyzed and designed. These circuits include basic logic gates, shift registers, flip-flops, and memories. • The NMOS inverter is the basis of NMOS logic circuits. The quasi-static voltage transfer characteristics of NMOS inverters with resistive-load, enhancement- load, and depletion-load devices were generated. • The basic NMOS NOR and NAND logic gates were analyzed. More sophisticated logic functions can be implemented by combining driver transistors in parallel and series combinations. • The CMOS inverter is the basis of CMOS logic circuits. The quasi-static voltage transfer characteristics were generated. For the CMOS circuit, the quiescent power dissipation is essentially zero when the input is in either logic state. • The basic CMOS NOR and NAND logic gates were analyzed. More sophisticated CMOS logic circuits were also analyzed and designed. Transistor width-to- length ratios were designed to provide equal current drive in the NMOS pull- down and PMOS pull-up portions of the circuit. • CMOS clocked logic circuits can be designed to reduce the number of required PMOS devices. A generalized NMOS logic circuit is inserted between clocked PMOS and NMOS devices. The advantage of low static power dissipation is maintained. • Sequential logic circuits, such as shift registers, flip-flops, and a full one-bit adder, were analyzed. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1235 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1235 • A whole classification of circuits called memories was considered. In the NMOS SRAM, static power is continuously dissipated in the cell, which limits the size of the memory because of the total chip power limitation. The primary advantage of a CMOS SRAM is that there is essentially no static power dissipation. The size of a CMOS memory is limited primarily by chip area requirements. • Read-only-memory (ROM and PROM) contains fixed data that are implemented by the manufacturer or by the user. In both cases, the data cannot be altered. EPROM and EEPROM cells contain MOSFETs with floating gates that can be either charged or left uncharged by the user depending on whether logic 1 or a logic 0 is to be stored. • The basic concepts used in A/D and D/A converters were discussed. A few examples of D/A converter circuits and A/D converter systems were analyzed. • As an application, a static CMOS logic circuit to implement a specific logic function is designed. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Analyze the transfer characteristics of NMOS inverters, including the determination of noise margins. ✓ Design an NMOS logic circuit to perform a specific logic function. ✓ Analyze the transfer characteristics of the CMOS inverter, including the determination of switching power and noise margins. ✓ Design a CMOS logic circuit to perform a specific logic function. ✓ Design a clocked CMOS logic circuit to perform a specific logic function. ✓ Design an NMOS or CMOS pass network to perform a specific logic function. ✓ Design an NMOS or CMOS RAM cell and design a simple sense amplifier. ✓ Analyze the R–2R ladder network used in a D/A converter circuit. ✓ Describe the characteristics of a 3-bit flash A/D converter and describe the operation of the dual-slope A/D converter. REVIEW QUESTIONS 1. Sketch the quasi-static voltage transfer characteristics of an NMOS inverter with depletion load. What effect does changing the transistor W/Lratio have on the transfer characteristics? 2. Sketch an NMOS three-input NOR logic gate. Describe its operation. Discuss the condition under which the maximum logic 0 value is obtained. 3. Discuss how more sophisticated (compared to the basic NOR and NAND) logic functions can be implemented in a single NMOS logic circuit. 4. Sketch the quasi-static voltage transfer characteristics of a CMOS inverter. Discuss the various intervals in terms of transistor bias. What is the effect on the transfer curve of changing the transistor W/L ratios? What is the advantage of the CMOS inverter compared to an NMOS inverter? 5. Discuss the parameters that affect the switching power dissipation in a CMOS inverter. nea80644_ch16_1145-1254.qxd 07/15/2009 09:32 PM Page 1236 F506 Hard disk:Desktop Folder:ALI-07-15-09: 1236 Part 3 Digital Electronics 6. Define the noise margin in a CMOS inverter. 7. Sketch a CMOS three-input NAND logic gate. Describe its operation. Determine the relative transistor W/L ratios to obtain equal pull-up and pull-down switching times. 8. Discuss how more sophisticated (compared to the basic NOR and NAND) logic functions can be implemented in a single CMOS logic circuit. 9. Discuss the basic principles of a clocked CMOS logic circuit. 10. Sketch an NMOS transmission gate and describe its operation. What is the maximum output voltage? 11. Sketch a CMOS transmission gate and describe its operation. Why is the quasi- static output voltage always equal to the quasi-static input voltage? 12. Discuss what is meant bypass transistor logic. 13. If an NMOS or CMOS transmission gate is turned off (an open switch), discuss why the output voltage is, in general, not stable. 14. Sketch an NMOS dynamic shift register and describe its operation. 15. Sketch a CMOS RS flip flop and describe its operation. Why must the input condition R = S = 1 be avoided? 16. Describe the basic architecture of a semiconductor random-access memory. 17. Sketch a CMOS SRAM cell and describe its operation. Discuss any advantages and disadvantages of this design. Describe how the cell is addressed. 18. Sketch a one-transistor DRAM cell and describe its operation. What makes this circuit dynamic? 19. Describe a mask-programmed MOSFET ROM memory. 20. Describe the basic operation of a floating gate MOSFET and how this can be used in an erasable ROM. PROBLEMS [Note: In the following problems, unless otherwise stated, assume transistor parameters of V ′ 2 ′ TN O = 0.5 V, VT PO = −0.5 V, kn = 100 μA/V , and kp = 40 μA/V2. Neglect the body effect unless otherwise stated and assume T = 300 K.] Section 16.1 NMOS Inverters 16.1 The load resistor in the NMOS inverter in Figure 16.3(a) is RD = 40 k. The circuit is biased at VDD = 3.3 V. (a) Design the transistor width-to-length ratio such that vO = 0.1 V when vI = 3.3 V. (b) Using the results of part (a), determine the transition point for the transistor. (c) Using the results of part (a), find the maximum current and maximum power dissipation in the inverter. 16.2 The inverter circuit in Figure 16.3(a) is biased at VDD = 3.3 V. Assume the transistor conduction parameter is Kn = 50 μA/V2. (a) Let RD = 100 k. (i) Determine the transition point. (ii) Determine vO for vI = 3.3 V. (b) Repeat part (a) for RD = 30 k. (c) Repeat part (a) for RD = 5 k. D16.3 (a) Redesign the resistive load inverter in Figure 16.3(a) so that the maximum power dissipation is 0.25 mW with VDD = 3.3 V and"
Problems,"PROBLEMS [Note: In the following problems, unless otherwise stated, assume transistor parameters of V ′ 2 ′ TN O = 0.5 V, VT PO = −0.5 V, kn = 100 μA/V , and kp = 40 μA/V2. Neglect the body effect unless otherwise stated and assume T = 300 K.] Section 16.1 NMOS Inverters 16.1 The load resistor in the NMOS inverter in Figure 16.3(a) is RD = 40 k. The circuit is biased at VDD = 3.3 V. (a) Design the transistor width-to-length ratio such that vO = 0.1 V when vI = 3.3 V. (b) Using the results of part (a), determine the transition point for the transistor. (c) Using the results of part (a), find the maximum current and maximum power dissipation in the inverter. 16.2 The inverter circuit in Figure 16.3(a) is biased at VDD = 3.3 V. Assume the transistor conduction parameter is Kn = 50 μA/V2. (a) Let RD = 100 k. (i) Determine the transition point. (ii) Determine vO for vI = 3.3 V. (b) Repeat part (a) for RD = 30 k. (c) Repeat part (a) for RD = 5 k. D16.3 (a) Redesign the resistive load inverter in Figure 16.3(a) so that the maximum power dissipation is 0.25 mW with VDD = 3.3 V and nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1237 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1237 vO = 0.15 V when the input is a logic 1. (b) Using the results of part (a), what is the input voltage range when the transistor is biased in the saturation region? D16.4 (a) Design the saturated load inverter circuit in Figure 16.5(a) such that the power dissipation is 0.30 mW and the output voltage is 0.08 V for vI = 1.4 V. The circuit is biased at VDD = 1.8 V and the transistor threshold voltage of each transistor is VT NO = 0.4 V. (b) Using the results of part (a), find the range of input voltage such that the driver transistor is biased in the saturation region. 16.5 An NMOS inverter with saturated load is shown in Figure 16.5(a). The bias is VDD = 3 V and the transistor threshold voltages are 0.5 V. (a) Find the ratio K D/KL such that vO = 0.25 V when vI = 3 V. (b) Repeat part (a) for vI = 2.5 V. (c) If W/L = 1 for the load transistor, determine the power dissipation in the inverter for parts (a) and (b). D16.6 Consider the NMOS inverter with saturated load in Figure 16.5(a). Let VDD = 3 V. (a) Design the circuit such that the power dissipation in the circuit is 400 μW and the output voltage is 0.10 V when the input voltage is a logic 1. (b) Determine the transition point of the driver transistor. 16.7 The NMOS inverter with saturated load in Figure 16.5(a) operates with a supply voltage of VDD . The MOSFETs have threshold voltages of VDD = 5 V VT N = 0.2 VDD . Determine (W/L)D/(W/L)L such that VO = 0.08 VDD . Neglect the body effect. 16.8 The enhancement-load transistor in the NMOS inverter in Figure P16.8 has VB ML a separate bias applied to the gate. Assume transistor parameters of Kn = 1 mA/V2 for MD , Kn = 0.4 mA/V2 for ML , and VT N = 1 V for both v transistors. Using the appropriate logic 0 and logic 1 input voltages, O determine VO Hand VOL for: (a) VB = 4 V, (b) VB = 5 V, (c) VB = 6 V, and (d) VB = 7 V. vI MD 16.9 For the depletion load inverter shown in Figure 16.7(a), assume parameters of VDD = 3.3 V, VT ND = 0.5 V, VT N L = −0.8 V, K D = 500 μA/V2, and K = 100 μA/V2 L . (a) Find the transition points of the driver and load transistors. (b) Determine vO for vI = 3.3 V. (c) Determine the maximum Figure P16.8 current and maximum power dissipation in the circuit. 16.10 In the depletion-load NMOS inverter circuit in Figure 16.7(a), let V 2 TN D = 0.5 V and VDD = 3 V, KL = 50 μA/V , and K D = 500 μA/V2. Calculate the value of VT N L such that vO = 0.10 V when vI = 3 V. D16.11 Consider the NMOS inverter with depletion load in Figure 16.7(a). Let VDD = 1.8 V, and assume VT ND = 0.3 V and VT N L = −0.6 V. (a) Design the circuit such that the power dissipation is 80 μW and the output voltage is vO = 0.06 V when vI is a logic 1. (b) Using the results of part (a), determine the transition points for the driver and load transistors. (c) If (W/L)D found in part (a) is doubled, what is the maximum power dissipation in the inverter and what is vO when vI is a logic 1? D16.12 The NMOS inverter with depletion load is shown in Figure 16.7(a). The bias is VDD = 2.5 V. The transistor parameters are VT ND = 0.5 V and VT N L = −1 V. The width-to-length ratio of the load device is W/L = 1. (a) Design the driver transistor such that vO = 0.05 V when the input is a logic 1. (b) What is the power dissipated in the circuit when vI = 2.5 V? nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1238 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1238 Part 3 Digital Electronics 16.13 Calculate the power dissipated in each inverter circuit in Figure P16.13 for the following input conditions: (a) Inverter a: (i) vI = 0.5 V, (ii) vI = 5 V; (b) Inverter b: (i) vI = 0.25 V, (ii) vI = 4.3 V; (c) Inverter c: (i) vI = 0.03 V, (ii) vI = 5 V. VDD = 5 V VDD = 5 V VDD = 5 V VTNL = –2 V KL = 10 mA/V2 v RV = 0.7 V OD = 20 kΩ TNL KL = 10 mA/V2 ID vO vO v V = 1 V v VTN = 1.5 VI TND 2 IV 2 vI TND = 0.7 V K = 100 mA/V KD = 100 mA/VD KD = 100 mA/V2 (a) (b) (c) Figure P16.13 16.14 For the two inverters in Figure P16.14, assume (W/L)L = 1 for the load devices and (W/L)D = 10 for the driver devices. (a) If vI is a logic 1, determine the values of vO1 and vO2. (b) Repeat part (a) if vI is a logic 0. VDD = 5 V VDD = 5 V ML1 ML2 ML1 ML2 vO2 vO2 vO1 vO1 vI MD1 MD2 vI MD1 MD2 Figure P16.14 Figure P16.15 16.15 Consider the circuit in Figure P16.15. The parameters of the driver transistors are VT ND = 0.8 V and (W/L)D = 4, and those of the load transistors are VT N L = −1.2 V and (W/L)L = 1. (a) If vI is a logic 1, determine the values of vO1 and vO2. (b) Repeat part (a) if vI is a logic 0. 16.16 For the saturated load inverter shown in Figure 16.9(a), assume transistor parameters of V 2 TN DO = VT N LO = 0.5 V, K D = 200 μA/V , KL = 20 μA/V2, γ = 0.25 V1/2, and φ f p = 0.35 V. Determine vO for vI = 0.12 V for the case when (a) the body effect is neglected and (b) the body effect is taken into account. 16.17 Consider the NMOS inverter with depletion load in Figure 16.9(b). The transistor parameters are VT N DO = 0.4 V, VT N LO = −0.6 V, K D = 100 μA/V2, K = 20 μA/V2, γ = 0.25 V1/2 L , and φ f p = 0.35 V. Determine vI when vO = 1.25 V for the case when (a) the body effect is neglected and (b) the body effect is taken into account. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1239 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1239 Section 16.2 NMOS Logic Circuits 16.18 Consider the circuit with a depletion load device shown in Figure P16.18. (a) For vX = 1.8 V and vY = 0.1 V, determine K D/KL such that vO = 0.1 V. (b) Using the results of part (a), determine vO when vX = vY = 1.8 V. (c) If the width-to-length ratio of the depletion load is (W/L)L = 1, determine the power dissipation in the logic circuit for the input conditions listed in parts (a) and (b). VDD = 1.8 V 3 V VTNL = –0.6 V VTNL = –1 V KL KL vO vO V = 0.4 V V v M v TND = +0.5 V XX Y M TND v Y X MX vY MY vZ MZ KD KD Figure P16.18 Figure P16.19 D16.19 Consider the three-input NOR logic gate in Figure P16.19. The transistor parameters are VT N L = −1 V and VT ND = 0.5 V. The maximum value of vO in its low state is to be 0.1 V. (a) Determine K D/KL . (b) The maximum power dissipation in the NOR logic gate is to be 0.1 mW. Determine the width-to-length ratios of the transistors. (c) Determine vO when vX = vY = vZ = 3 V. 16.20 Consider a four-input NMOS NOR logic gate with a depletion load similar to the circuit in Figure P16.19. Assume VDD = 2.5 V, VT ND = 0.4 V, and VT N L = −0.6 V. The maximum value of vO in its low state is to be 50 mV. (a) Determine K D/KL . (b) The maximum power dissipation in this NOR logic gate is to be 50 μW. Determine the width-to-length ratio of each transistor. (c) Determine vO when (i) two inputs area logic 1, (ii) three inputs area logic 1, and (iii) all inputs area logic 1. 16.21 The transistor parameters for the circuit in Figure P16.21 are: VT N = 0.8 V for all enhancement-mode devices, VT N = −2 V for the depletion-mode 5 V 5 V 5 V ML1 ML2 ML3 vO2 vO1 vO3 vX MD1 MD2 MD3 MD4 vY Figure P16.21 nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1240 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1240 Part 3 Digital Electronics devices, and k ′ n = 60 μA/V2 for all devices. The width-to-length ratios of ML2 and ML3 are 1, and those for MD2, MD3, and MD4 are 8. (a) For vX = 5 V, output vO1 is 0.15 V, and the power dissipation in this inverter is to be no more than 250 μW. Determine (W/L)ML1 and (W/L)MD1. (b) For vX = vY = 0, determine vO2. 16.22 Consider the NMOS circuit in Figure P16.22. The transistor parameters are (W/L)X = (W/L)Y = 12, (W/L)L = 1, and VT N = 0.4 V. Neglect the body effect. (a) Determine vO when vX = vY = 2.9 V. (b) What are the values of vGSX , vGSY , vDSX , and vDSY ? [Hint: Set the drain current in each device equal to each other. Also, neglect the terms v2 O , v2 DSX , and v2 DSY ]. VDD = 3.3 V VDD = 5 V ML ML vO vO vY MY vY MY vX M v XX MX VDD Figure P16.22 Figure P16.23 Y 16.23 In the NMOS circuit in Figure P16.23, the transistor parameters are: (W/L)X = (W/L)Y = 4, (W/L)L = 1, VT N X = VT NY = 0.8 V, and VT N L = B −1.5 V. (a) Determine vO when vX = vY = 5 V. (b) What are the values of vGSX , vGSY , vDSX , and vDSY ? Repeat part (a) for γ = 0.5. A 16.24 Consider a four-input NMOS NAND logic gate with a depletion load similar to the circuit in Figure P16.23. The bias voltage is VDD = 3.3 V, and the C threshold voltages are VT ND = 0.4 V and VT N L = −0.6 V. The logic 0 output voltage is to be 0.10 V. (a) Using approximation methods, determine K D/KL . (b) The maximum power dissipation in the circuit is to be 100 μW. D Determine (W/L)Land (W/L)D . 16.25 Determine the logic function implemented by the circuit in Figure P16.25. 16.26 Find the logic function implemented by the circuit in Figure P16.26. 16.27 What is the logic function implemented by the circuit in Figure P16.27. Figure P16.25 D16.28 The Boolean function for a carryout signal of a one-bit full adder is given by Carryout = A · B + A · C + B · C (a) Design an NMOS logic circuit with depletion load to perform this function. Signals A, B, and Care available. (b) Assume (W/L)L = 1, VDD = 5 V, VT N L = −1.5 V, and VT ND = 0.8 V. Determine the W/L ratio of the other transistors such that the maximum logic 0 value in any part of the circuit is 0.2 V. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1241 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1241 VDD VDD = 3.3 V M3 M7 Y YA BM6 AM1 BM2 M4 MC D 5 Figure P16.26 Figure P16.27 D16.29 (a) Design an NMOS depletion-load logic gate that implements the function Ȳ = [A + B · (C + D)]. (b) Assume VDD = 2.5 V, (W/L)L = 1, VT ND = 0.4 V, and VT N L = −0.6 V. Determine (W/L)D of each transistor such that VOL (max) = 50 mV. D16.30 Design an NMOS logic circuit with a depletion load that will sound an alarm in an automobile if the ignition is turned off while the headlights are still on and/or the parking brake has not been set. Separate indicator lights are also to be included showing whether the headlights are on or the parking brake needs to beset. State any assumptions that are made. Section 16.3 CMOS Inverter 16.31 Consider the CMOS inverter in Figure 16.21 biased at VDD = 2.5 V. The transistor parameters are VT N = 0.4 V, VT P = −0.4 V, and Kn = Kp = 100 μA/V2. (a) Find the transition points for the p-channel and n- channel transistors. (b) Sketch the voltage transfer characteristics, including the appropriate voltage values at the transition points. (c) Determine vO for vI = 1.1 V and vI = 1.4 V. 16.32 For the CMOS inverter in Figure 16.21, let VDD = 3.3 V, k ′ n = 100 μA/V2, k ′ p = 40 μA/V2, VT N = 0.4 V, and VT P = −0.4 V. (a) Let (W/L)n = 2 and (W/L)p = 5. (i) Find the transition points for the p-channel and n-channel transistors. (ii) Sketch the voltage transfer characteristics including the appropriate voltage values at the transition points. (iii) Find vI for vO = 0.25 V and vO = 3.05 V. (b) Repeat part (a) for (W/L)n = 4 and (W/L)p = 5. 16.33 (a) For the CMOS inverter in Figure 16.21 in the text, let VDD = 3.3 V, VT N =+0.4 V, and VT P = −0.4 V.Assume (W/L)n = 4 and (W/L)p = 12. Determine (i) the input switching voltage, (ii) the input voltage when vO = 3.1 V, and (iii) the input voltage when vO = 0.2 V. (b) Repeat part (a) for (W/L)n = 6 and (W/L)p = 4. nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1242 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1242 Part 3 Digital Electronics 16.34 Consider the CMOS inverter pair in Figure P16.34. Let VT N = 0.8 V, VT P = −0.8 V, and Kn = Kp . (a) If vO1 = 0.6 V, determine vI and vO2. (b) Determine the range of vO2 for which both N2 and P2 are biased in the saturation region. VDD = 5 V VDD = 5 VP1 P2 P1 P2 P3 vO1 v v v I vO2 O1 O2 vI vO3 N1 N2 N1 N2 N3 Figure P16.34 Figure P16.35 16.35 Consider the series of CMOS inverters in Figure P16.35. The threshold voltages of then-channel transistors are VT N = 0.8 V, and the threshold voltages of the p-channel transistors are VT P = −0.8 V. The conduction parameters are all equal. (a) Determine the range of vO1 for which both N1 and P1 are biased in the saturation region. (b) If vO2 = 0.6 V, determine the values of vO3, vO1, and vI . 16.36 (a) A CMOS inverter is biased at VDD = 2.5 V. The transistor parameters are Kn = Kp = 120μA/V2, VT N = 0.4 V, and VT P = −0.4 V. Calculate and plot the current in the transistors as a function of the input voltage for 0 ≤ vI ≤ 2.5 V. (b) Repeat part (a) for VDD = 1.8 V and 0 ≤ vI ≤ 1.8 V. 16.37 The transistor parameters in the CMOS inverter are VT N = 0.35 V, VT P = −0.35 V, k ′ = 80 μA/V2, and k ′ n p = 40 μA/V2. Let VDD = 1.8 V. (a) Determine the peak current in the inverter during a switching cycle for (W/L)n = 2 and (W/L)p = 4. (b) Repeat part (a) for (W/L)n = 2 and (W/L)p = 6. (c) Repeat part (a) for (W/L)n = (W/L)p = 4. 16.38 A CMOS inverter is biased at VDD = 3.3 V. The transistor threshold voltages are VT N = +0.4 V and VT P = −0.4 V. Determine the peak current in the inverter and the input voltage at which it occurs for (a) (W/L)n = 3, (W/L)p = 7.5; (b) (W/L)n = (W/L)p = 4; (c) (W/L)n = 3, (W/L)p = 12. 16.39 A load capacitor of 0.2 pF is connected to the output of a CMOS inverter. Determine the power dissipated in the CMOS inverter for a switching frequency of 10 MHz, for inverter parameters described in (a) Problem 16.36 and (b) Problem 16.37. 16.40 (a) A CMOS digital logic circuit contains the equivalent of 4 million CMOS inverters and is biased at VDD = 1.8 V. The equivalent load capacitance of each inverter is 0.12 pF and each inverter is switching at 150 MHz. Determine the total average power dissipated in the circuit. (b) If the switching frequency is doubled, but the total power dissipation is to remain the same with the same load capacitance, determine the required bias voltage. 16.41 A particular IC chip can dissipate 3 Wand contains 10 million CMOS inverters. Each inverter is being switched at a frequency f . (a) Determine the average power that each inverter can dissipate without exceeding the total nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1243 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1243 allowed power. (b) If the switching frequency is f = 5 MHz, what is the maximum capacitive load on each inverter if (i) VDD = 5 V, (ii) VDD = 3.3 V, and (iii) VDD = 1.5 V. 16.42 Repeat Problem 16.41 for the case when the chip contains 5 million CMOS inverters being switched at f = 8 MHz and the total power dissipated can be 10 W. 16.43 Consider a CMOS inverter. (a) Show that when v ∼ I = VDD , the resistance of the NMOS device is approximately 1/[k ′ n(W/L)n(VDD − VT N )], and when v ∼ I = 0, the resistance of the PMOS device is approximately 1/[k ′ p(W/L)p(VDD + VT P)]. (b) Using the results of part (a), determine the maximum current that the NMOS device can sink such that the output voltage stays below 0.5 V, and determine the maximum current that the PMOS device can source such that the output voltage does not drop more than 0.5 V below VDD . 16.44 The CMOS inverter in Figure 16.21 is biased at VDD = 3.3 V. Let Kn = Kp , VT N = 0.5 V, and VT P = −0.5 V. (a) Determine the two values of vI and the corresponding values of vO for which (dvO/dvI ) = −1 on the voltage transfer characteristics. (b) Find the noise margins. 16.45 Repeat Problem 16.44 if the circuit and transistor parameters are VDD = 2.5 V, VT N = 0.35 V, VT P = −0.35 V, Kn = 100 μA/V2, and Kp = 50 μA/V2. 16.46 (a) Determine the noise margins of a CMOS inverter biased at VDD = 3.3 V with (W/L)n = 2 and (W/L)p = 5. Assume VT N = 0.4 V and VT P = −0.4 V. (b) Repeat part (a) for (W/L)n = 4 and (W/L)p = 12. Section 16.4 CMOS Logic Circuits 16.47 Consider the three-input CMOS NAND circuit in Figure P16.47. Assume k ′ n = 2k ′ p and VT N = |VT P | = 0.8 V. (a) If vA = vB = 5 V, determine vC such that both N3 and P3 are biased in the saturation region when (W/L)p = 2(W/L)n . (State any assumptions you make.) (b) If vA = vB = vC = vI , determine the relationship between (W/L)p and (W/L)n such that vI = 2.5 V when all transistors are biased in the saturation region. (c) Using the results VDD = 5 VP1 P2 P3 vO vC N3 vB N2 vA N1 Figure P16.47 nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1244 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1244 Part 3 Digital Electronics 5 V 5 VP2 vX vX P4 P5 vZ P1 P3 vO vY N1 N2 vX N3 N4 vZ N5 vX Figure P16.48 of part (b) and assuming vA = vB = 5 V, determine vC such that both N3 and P3 are biased in the saturation region. (State any assumptions you make.) 16.48 Consider the circuit in Figure P16.48. (a) The inputs vX , vY , and vZ listed in the following table are either a logic 0 or a logic 1. These inputs are the outputs from similar-type CMOS logic circuits. The input logic conditions listed are sequential in time. State whether the transistors listed are “on” or “off,” and determine the output voltage. (b) What logic function does this circuit implement? vX vY vZ N1 N2 N3 N4 N5 vO 1 0 1 0 0 1 1 1 0 1 1 1 16.49 Consider a four-input CMOS NOR logic gate. Determine the W/L ratios of the transistors to provide for symmetrical switching based on the CMOS inverter design with (W/L)n = 2 and (W/L)p = 4. (b) If the load capacitance of the NOR gate doubles, determine the required W/L ratios to provide the same switching speed as the logic gate in part (a). 16.50 Repeat Problem 16.49 for a four-input CMOS NAND logic gate. 16.51 Repeat Problem 16.49 for a three-input CMOS NOR logic gate. 16.52 Repeat Problem 16.49 for a three-input CMOS NAND logic gate. D16.53 Figure P16.53 shows a classic CMOS logic circuit. (a) What is the logic function performed by the circuit? (b) Design the NMOS network. (c) Determine the transistor W/L ratios to provide symmetrical switching times at twice the switching speed of the basic CMOS inverter with (W/L)n = 2 and (W/L)p = 4. D16.54 Figure P16.54 is a classic CMOS logic gate. (a) What is the logic function performed by the circuit? (b) Design the PMOS network. (c) Determine the transistor W/L ratios to provide symmetrical switching times at twice nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1245 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1245 VDD VDD = 3.3 V PMOS network AB C YA DE YB C NMOS DE Figure P16.53 Figure P16.54 the switching speed as the basic CMOS inverter with (W/L)n = 2 and (W/L)p = 4. D16.55 Figure P16.55 is a classic CMOS logic gate. (a) What is the logic function performed by the circuit? (b) Design the NMOS network. (c) Determine the transistor W/L ratios to provide symmetrical switching times equal to the basic CMOS inverter with (W/L)n = 2 and (W/L)p = 4. D16.56 Consider the classic CMOS logic circuit in Figure P16.56. (a) What is the logic function performed by the circuit? (b) Design the PMOS network. (c) Determine the transistor W/L ratios to provide symmetrical switching times equal to the basic CMOS inverter with (W/L)n = 2 and (W/L)p = 4. VDD = 3.3 V VDD = 3.3 VA PMOS YA BC DE CB YD NMOS network Figure P16.55 Figure P16.56 nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1246 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1246 Part 3 Digital Electronics D16.57 (a) Given inputs A, B, C , Ā, B̄, and C̄ , design a CMOS circuit to implement the logic function Y = AB̄C̄ + Ā B̄C + ĀBC̄ . The design should not include a CMOS inverter at the output. (b) Fork ′ n = 2k ′ p , size the transistors in the design to provide equal switching times equal to the basic CMOS inverter with (W/L)n = 1 and (W/L)p = 2. D16.58 (a) Given inputs A, B, C , D, and E , design a CMOS circuit to implement the logic function Ȳ = A(B + C) + D + E . (b) Repeat part (b) of Problem 16.57 for this circuit. 16.59 (a) Determine the logic function performed by the circuit in Figure P16.59. (b) Determine the W/L ratios to provide symmetrical switching times equal to the basic CMOS inverter with (W/L)n = 2 and (W/L)p = 4. VDD A PAC PCB PB Y C NC ANA B NB Figure P16.59 D16.60 (a) Consider a five-input CMOS NOR logic gate. Design the W/L ratios of the transistors to provide symmetrical switching times equal to the basic CMOS inverter with (W/L)n = 2 and (W/L)p = 4. (b) Repeat part (a) for a five-input CMOS NAND logic gate. Section 16.5 Clocked CMOS Logic Circuits 16.61 (a) Figure P16.61 shows a clocked CMOS logic circuit. Make a table showing the state of each transistor (“on” or “off”), and determine the output voltages vO1 and vO2 for the input logic states listed in the following table. Assume the input conditions are sequential in time from state 1 to state 6. (b) What logic function does the circuit implement? State CLK vA vB vC 1 0 0 0 0 2 1 1 0 0 3 0 0 0 0 4 1 0 0 1 5 0 0 0 0 6 1 0 1 1 nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1247 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1247 VDD = 5 V VDD = 5 VP P 1 2 vO1 vO2 vA NA vB NB N2 CLK vC NC N1 Figure P16.61 16.62 (a) For the circuit in Figure P16.62, make a table showing the state of each transistor (“on” or “off”), and determine the output voltages vO1, vO2, and vO3 for the input logic states listed in the following table. Assume the input conditions are sequential in time from state 1 to state 6. (b) What logic function does the circuit implement? State CLK vX vY vZ 1 0 0 0 0 2 1 1 1 1 3 0 0 0 0 4 1 0 1 1 5 0 0 0 0 6 1 1 0 1 5 V 5 V 5 V 5 V vO1 vO2 vO3 CLK vX vY CLK vZ Figure P16.62 nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1248 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1248 Part 3 Digital Electronics D16.63 Sketch a clocked CMOS domino logic circuit that realizes the function Y = AB̄ + ĀB . Assume that both the variable and its complement are available as input signals. D16.64 Sketch a clocked CMOS domino logic circuit that realizes the function Y = AB + C(D + E). D16.65 Sketch a clocked CMOS domino logic circuit that realizes the function Y = A(B + C)(D + E). 16.66 Consider the CMOS clocked circuit in Figure 16.44(b). Assume the effective capacitance at the vO1 terminal is 25 fF. If the leakage current through the MN A and MN B transistors is ILeakage = 2 pA when these transistors and MP1 are cutoff, determine the time for which vO1 will decay by 0.5 V. Section 16.6 Transmission Gates 16.67 The parameters of an NMOS transmission gate are VT N = 0.4 V, Kn = 0.15 mA/V2, and CL = 0.2 pF. (a) For agate voltage of φ = 3.3 V, determine the quasi-steady-state output voltage for (i) vI = 0, (ii) vI = 3.3 V, and (iii) vI = 2.5 V. (b) Repeat part (a) for agate voltage of φ = 1.8 V. 16.68 The NMOS transistors in the circuit shown in Figure P16.68 have parameters Kn = 0.2 mA/V2, VT N = 0.5 V, λ = 0, and γ = 0. (a) For gate voltages of φ = 2.5 V, determine the quasi-steady-state output voltage for (i) vI = 0, (ii) vI = 2.5 V, and (iii) vI = 1.8 V. (b) Repeat part (a) for gate voltages of φ = 2.0 V. 2.5 V 2.5 V M2 M4 vO2 vO1 MAM v B vI vO I M1 M3 CL = 1 pF ff ff f Figure P16.68 Figure P16.69 16.69 Consider the circuit shown in Figure P16.69. The input voltage vI is either 0.1 V or 2.5 V. Assume gate voltages of φ = 2.5 V. The threshold voltages are VT N = −0.6 V for M4 and VT N = 0.4 V for all other transistors. The width-to-length ratios are 1 for M2 and M4, and 5 for MA and MB . (a) What are the logic 1 values for vO1 and vO2? (b) Design the width-to-length ratios of M1 and M3 such that the logic 0 values of vO1 and vO2 are 0.1 V 16.70 Consider the circuit in Figure P16.70. What logic function is implemented by this circuit? Are there any potential problems with this circuit? nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1249 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1249 AAA 0 YB YB – BA– Z A AB– Figure P16.70 Figure P16.71 16.71 What is the logic function implemented by the circuit in Figure P16.71? D16.72 (a) Design an NMOS pass transistor logic circuit to perform the function Y = A + B(C + D). Assume that both the variable and its complement are available as input signals. (b) Repeat part (a) for the function Y = ABC + Ā B̄C̄ . 16.73 Consider the circuit in Figure P16.73. (a) Determine the value of Y for φ = 2.5 V and (i) A = B = 0; (ii) A = 0, B = 2.5 V; (iii) A = 2.5 V, B = 0; and (iv) A = B = 2.5 V. (b) Repeat part (a) for φ = 0. (c) What is the logic function implemented by the circuit? 16.74 What is the logic function implemented by the circuit in Figure P16.74? 16.75 Consider the circuit in Figure P16.75. (a) Determine the value of Y for (i) A = B = 0; (ii) A = 2.5 V, B = 0; (iii) A = 0, B = 2.5 V; and (iv) A = B = 2.5 V. (b) What is the logic function implemented by the circuit? f CA A AB– f– Y C YA– YB BB f CA Figure P16.73 Figure P16.74 Figure P16.75 nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1250 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1250 Part 3 Digital Electronics A 16.76 What is the logic function implemented by the circuit in Figure P16.76? 16.77 The circuit in Figure P16.77 is a form of clocked shift register. Signals φ1 and φ2 are nonoverlapping clock signals. Describe the operation of the circuit. Discuss any possible relationship between the width-to-length ratios P2 of the load and driver transistors for “proper” circuit operation. VP V DD VDD 1 DD f1 f2 BY N1 vO1 N vO 2 C vI LA– Figure P16.76 Figure P16.77 Section 16.7 Sequential Logic Circuits 16.78 Consider the NMOS RS flip-flop in Figure 16.63 biased at VDD = 2.5 V. The threshold voltages are 0.4 V (enhancement-mode devices) and −0.6 V (depletion-mode devices). The conduction parameters are K3 = K6 = 40 μA/V2, K2 = K5 = 100 μA/V2, and K1 = K4 = 150 μA/V2. If Q = logic 0 and Q̄ = logic 1 initially, determine the voltage at S that will cause the flip-flop to change states. 16.79 Figure P16.79 shows two CMOS inverters in cascade. This circuit can be thought of as an uncoupled CMOS R/S flip flop. The transistor parameters are Kn = Kp = 0.2 mA/V2, VT N = 0.5 V, VT P =−0.4 V, and λn =λp = 0. Plot vO1 and vO versus vI . In particular, calculate the values of vO1 and vO at vI = 1.5, 1.6, 1.7, and 1.8 V. 16.80 Consider the circuit in Figure P16.80. Determine the state of the outputs for various input signals. What is the purpose of the input signal φ? VDD 3.3 V M7 M8 Q Q– f M5 M6 f vI v vO O 1 RM1 M2 M3 M4 S Figure P16.79 Figure P16.80 nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1251 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: Chapter 16 MOSFET Digital Circuits 1251 D16.81 The circuit in Figure P16.81 is an example of a D flip-flop. (a) Explain the operation of the circuit. Is this a positive- or negative-edge-triggered flip- flop? (b) Redesign the circuit to make this a static flip-flop. VDD M2 M4 Q D MM 5 1 M3 CLK Figure P16.81 16.82 Show that the circuit in Figure P16.82 is a J–K flip-flop. VDD J SK DD Q Q–CLK RD CLK Figure P16.82 16.83 Reconsider the circuit shown in Figure P16.48. Show that this circuit is a J–K flip-flop with J = vX , K = vY , and CLK = vZ . Section 16.8 Memories: Classifications and Architectures 16.84 A 256-K memory is organized in a square array and uses the NMOS NOR decoder in Figure 16.73(b) for the row- and column-decoders. (a) How many inputs does each decoder require? (b) What input to the row decoder is required to address row (i) 52, (ii) 129, and (iii) 241? (c) What input to the column decoder is required to address column (i) 24, (ii) 165, and (iii) 203? nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1252 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1252 Part 3 Digital Electronics 16.85 (a) A 1 megabit memory is organized in a square with each memory cell being individually addressed. Determine the number of input address lines required for the row and column decoders. (b) If the 1 megabit memory is organized as 250K words × 4 bits, determine the minimum number of input address lines required for the row and column decoders. 16.86 A 4096-bit RAM consists of 512 words of 8 bits each. Design the memory array to minimize the number of row and column address decoder transistors required. How many row and column address lines are required? 16.87 Assume that an NMOS address decoder can source 250 μA when the output goes high. If the effective capacitance of each memory cell is CL = 0.8 pF and the effective capacitance of the address line is CL A = 5 pF, determine the rise time of the address line voltage if VI H = 2.7 V. Section 16.9 RAM Memory Cells 16.88 Consider the NMOS RAM cell with resistor load in Figure 16.74(b). Assume parameters values of k ′ n = 80 μA/V2, VT N = 0.4 V, VDD = 2.5 V, and R = 1 M. (a) Design the width-to-length ratio of the driver transistor such that VDS = 20 mV for the on transistor. (b) Consider a 16-K memory with the cell described in part (a). Determine the standby cell current and the total memory power dissipation for a standby voltage of VDD = 1.2 V. D16.89 A 16-K NMOS RAM, with the cell design shown in Figure 16.74(b), is to dissipate no more than 200 mW in standby when biased at VDD = 2.5 V. Design the width-to-length ratios of the transistors and the resistance value. Assume VT N = 0.7 V and k ′ n = 35 μA/V2. 16.90 Consider the CMOS RAM cell and data lines in Figure 16.76 biased at VDD = 2.5 V. Assume transistor parameters k ′ n = 80 μA/V2, k ′ p = 35 μA/V2, VT N = 0.4 V, VT P = −0.4 V, W/L = 2 (MN1 and MN2), W/L = 4 (MP1 and MP2), and W/L = 1 (all other transistors). If Q = 0 and Q̄ = 1, determine the steady-state values of D and D̄ after the row has been selected. Neglect the body effect. 16.91 Consider the CMOS RAM cell and data lines in Figure 16.76 with circuit and transistor parameters described in Problem 16.90. Assume initially that Q = 0 and Q̄ = 1. Assume the row is selected with X = 2.5 V and assume the data lines, through a write cycle, are D̄ = 0 and D = 2.5 V. Determine the values of Q and Q̄ just after the row select has been applied. *16.92 Consider a general sense amplifier configuration shown in Figure 16.82 for a dynamic RAM. Assume that each bit line has a capacitance of 1 pF and is precharged to 4 V. The storage capacitance is 0.05 pF, the reference capacitance is 0.025 pF, and each is charged to 5 V for a logic 1 and to 0 V for a logic 0. The MS and MR gate voltages are 5 V when each cell is addressed and the transistor threshold voltages are 0.5 V. Determine the bit line voltages v1 and v2 after the cells are addressed for the case when (a) a logic 1 is stored and (b) a logic 0 is stored. Section 16.10 Read-Only Memory D16.93 Design a 4-word × 4-bit NMOS mask-programmed ROM to produce outputs of 1011, 1111, 0110, and 1001 when rows 1, 2, 3, and 4, respectively, are addressed. nea80644_ch16_1145-1254.qxd 07/15/2009 09:33 PM Page 1253 F506 Hard disk:Desktop Folder:ALI-07-15-09: Chapter 16 MOSFET Digital Circuits 1253 D16.94 Design an NMOS 16 × 4 mask-programmed ROM that provides the 4-bit product of two 2-bit variables. D16.95 Design an NMOS mask-programmed ROM that decodes a binary input and produces the output for a seven-segment array. (See Figure 2.45, Chapter 2.) The output is to be high when a particular LED is to be turned on. Section 16.11 Data Converters 16.96 An analog signal in the range 0 to 5 V is to be converted to a digital signal with a quantization error of less than one percent. (a) What is the required number of bits? (b) What input voltage value represents 1 LSB? (c) What digital output represents an input voltage of 3.5424 V? 16.97 An analog signal in the range 0 to 3.3 V is to be converted to a digital signal with a quantization error of less than 0.5 percent. (a) What is the required number of bits? (b) What input voltage value represents 1 LSB? (c) What digital output represents an input voltage of 2.5321 V. 16.98 (a) What is the output voltage of the 4-bit weighted-resistor D/A in Figure 16.90 if the input is 0110? Assume RF = 10 k. (b) The input signal changes to 1001. What is the output voltage? 16.99 Consider the 4-bit weighted-resistor D/A converter in Figure 16.90. Let RF = 10 k. (a) What is the maximum allowed tolerance (±percent) in the value of R1 so that the maximum error in the output is limited to ± 1 2 LSB? (b) Repeat part (a) for the resistor R4. 16.100 The weighted-resistor D/A converter in Figure 16.90 is to be expanded to an 8- bit device. (a) What are the required resistance values of the additional four input resistors? (b) What is the output voltage if the input is 00000001? 16.101 The N-bit D/A converter with an R–2R ladder network in Figure 16.92 is to be designed as a 6-bit D/A device. Let VREF =−5.0 V and R = RF = 5.0 k. (a) What are currents I1, I2, I3, I4, I5, and I6? (b) The input changes by 1 LSB. What is the change in the output voltage? (c) What is the output voltage if the input is 010011? (d) What is the change in output voltage if the input changes from 101010 to 010101? 16.102 The 3-bit flash A/D converter in Figure 16.93 has a reference voltage of VREF = 3.3 V. The 3-bit output is 101. What is the range of vA that produces this output? 16.103 A 6-bit flash A/D converter, similar to the one in Figure 16.93, is to be fabricated. How many resistors and comparators are required? 16.104 A 10-bit counting A/D converter has an analog input in the range 0 ≤ vA ≤ 5 V and has a clock frequency of 1 MHz. (a) What is the maximum conversion time? (b) If the output is 0010010010, what is the range of the input signal vA (assume a quantization error of ± 1 2 LSB). (c) How many clock pulses are required to produce an output of 0100100100? 16.105 Consider the 10-bit counting A/D converter described in Problem 16.104. (a) What is the output if the analog input is vA = 3.125 V? (b) Repeat part (a) if vA = 1.8613 V. COMPUTER SIMULATION PROBLEMS 16.106 Consider the three types of NMOS inverters shown in Figures 16.3(a), 16.5(a), and 16.7(a). Using a computer simulation, investigate the voltage transfer characteristics and the current versus input voltage characteristics nea80644_ch16_1145-1254.qxd 07/12/2009 3:38 Page 1254 pinnacle MHDQ-New:MHDQ134:MHDQ134-16: 1254 Part 3 Digital Electronics of the three types of inverters as a function of various width-to-length ratios and as a function of the body effect. 16.107 Using a computer simulation, investigate the propagation delay time and switching characteristics of a CMOS inverter by setting up a series of CMOS inverters in cascade. Use standard transistors and assume effective CT load capacitances of 0.05 pF. Determine the propagation delay time as a function of various transistor width-to-length ratios. 16.108 Consider a three-input CMOS NAND logic circuit similar to the two-input circuit shown in Figure 16.34(a). Using a computer simulation, investigate the voltage transfer characteristics and switching characteristics for various NMOS and PMOS width-to-length ratios. What is the optimum relation between the PMOS and NMOS width-to-length ratios for symmetrical switching speeds? 16.109 Using a computer simulation, investigate the Q and Q̄ values in the CMOS RAM cell shown in Figure 16.76 during read and write cycles for various transistor width-to-length ratios. In particular, consider the relations given by Equations (16.82) and (16.84). DESIGN PROBLEMS *D16.110 Design a classic CMOS logic circuit that will implement the logic function Y = A · (B + C) + D · E . *D16.111 Design clocked CMOS logic circuits that will implement the logic functions (a) Y = [A · B + C · D] and (b) Y = [A · (B + C) + D]. *D16.112 Design an NMOS pass logic network that implements the logic functions described in Problem 16.111. *D16.113 Design a clocked CMOS dynamic shift register in which the output becomes valid on the positive-going edge of a clock signal. nea80644_ch17_1255-1314.qxd 6/8/09 08:53 PM Page 1255 Aptara Inc. Bipolar Digital Circuits 17 In the previous chapter, we presented the basic concepts of MOSFET logic circuits. In this chapter, we discuss the basic principles of bipolar logic circuits. We initially consider emitter-coupled logic (ECL). This technology is based on the differential amplifier and is used in specialized high-speed applications. Prior to the emergence of MOS digital technology, the bipolar digital family of transistor–transistor logic (TTL) circuits was used extensively. TTL and low-power Schottky TTL logic circuits are analyzed. The basic concepts of BiCMOS logic circuits are presented. Bipolar digital circuits are now used less frequently because of their relatively large power requirements. PREVIEW In this chapter, we will: • Analyze the basic emitter-coupled logic circuits. • Analyze and design modified emitter-coupled logic circuits. • Analyze transistor–transistor logic circuits. • Analyze and design Schottky and low-power Schottky transistor–transistor logic circuits. • Analyze BiCMOS digital logic circuits. • As an application, design a static ECL gate to implement a specific logic function. 1255 Chapter"
Chapter 17: Bipolar Digital Circuits," Bipolar Digital Circuits 17 In the previous chapter, we presented the basic concepts of MOSFET logic circuits. In this chapter, we discuss the basic principles of bipolar logic circuits. We initially consider emitter-coupled logic (ECL). This technology is based on the differential amplifier and is used in specialized high-speed applications. Prior to the emergence of MOS digital technology, the bipolar digital family of transistor–transistor logic (TTL) circuits was used extensively. TTL and low-power Schottky TTL logic circuits are analyzed. The basic concepts of BiCMOS logic circuits are presented. Bipolar digital circuits are now used less frequently because of their relatively large power requirements. PREVIEW In this chapter, we will: • Analyze the basic emitter-coupled logic circuits. • Analyze and design modified emitter-coupled logic circuits. • Analyze transistor–transistor logic circuits. • Analyze and design Schottky and low-power Schottky transistor–transistor logic circuits. • Analyze BiCMOS digital logic circuits. • As an application, design a static ECL gate to implement a specific logic function. 1255 Chapter"
Preview,"PREVIEW In this chapter, we will: • Analyze the basic emitter-coupled logic circuits. • Analyze and design modified emitter-coupled logic circuits. • Analyze transistor–transistor logic circuits. • Analyze and design Schottky and low-power Schottky transistor–transistor logic circuits. • Analyze BiCMOS digital logic circuits. • As an application, design a static ECL gate to implement a specific logic function. 1255 Chapter nea80644_ch17_1255-1314.qxd 8/6/09 11:11 AM Page 1256 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1256 Part 3 Digital Electronics 17.1 EMITTER-COUPLED LOGIC (ECL) Objective: • Analyze the basic emitter-coupled logic circuits The emitter-coupled logic (ECL) circuit is based on the differential amplifier circuit, which we studied in Chapter 11 in the context of linear amplifiers. In digital applications, the diff-amp is driven into its nonlinear region. The transistors are either cutoff or in the active region. Saturation is avoided in order to minimize switching times and propagation delay times. ECL circuits have the shortest propagation delay times of any bipolar digital technology. 17.1.1 Differential Amplifier Circuit Revisited Consider the basic diff-amp circuit in Figure 17.1. For a linear diff-amp, the difference between the two input voltages is small and both transistors remain biased in the active region at all times. The relationship between collector currents and base–emitter voltages for Q1 and Q2 can be written1 i = I evB E1/VT C1 S (17.1(a)) and i = I evB E2/VT C2 S (17.1(b)) where Q1 and Q2 are assumed to be matched and parameter IS is the same for both devices. The current–voltage transfer curves are shown in Figure 17.2. In digital applications, the difference between the two input voltages is large, which means that one transistor remains biased in its active region while the opposite V + iC1 RC1 RC2 iC2 vO1 v 1.0 O2 iC1/IQ v1 Q1 v Q E 2 v2 + + 0.5 vBE1 – vBE2 – i /I iE RC2 Q E – 0.15 – 0.10 – 0.05 0 0.05 0.10 0.15 V – vd = vBE1 – vBE2 (volts) Figure 17.1 Basic Figure 17.2 Normalized dc transfer characteristics, BJT differential amplifier circuit differential amplifier 1In most cases in this chapter, total instantaneous current and voltage parameters are used, even though most analyses of logic circuits involve dc calculations."
17.1 Emitter-Coupled Logic (ECL),"17.1 EMITTER-COUPLED LOGIC (ECL) Objective: • Analyze the basic emitter-coupled logic circuits The emitter-coupled logic (ECL) circuit is based on the differential amplifier circuit, which we studied in Chapter 11 in the context of linear amplifiers. In digital applications, the diff-amp is driven into its nonlinear region. The transistors are either cutoff or in the active region. Saturation is avoided in order to minimize switching times and propagation delay times. ECL circuits have the shortest propagation delay times of any bipolar digital technology. 17.1.1 Differential Amplifier Circuit Revisited Consider the basic diff-amp circuit in Figure 17.1. For a linear diff-amp, the difference between the two input voltages is small and both transistors remain biased in the active region at all times. The relationship between collector currents and base–emitter voltages for Q1 and Q2 can be written1 i = I evB E1/VT C1 S (17.1(a)) and i = I evB E2/VT C2 S (17.1(b)) where Q1 and Q2 are assumed to be matched and parameter IS is the same for both devices. The current–voltage transfer curves are shown in Figure 17.2. In digital applications, the difference between the two input voltages is large, which means that one transistor remains biased in its active region while the opposite V + iC1 RC1 RC2 iC2 vO1 v 1.0 O2 iC1/IQ v1 Q1 v Q E 2 v2 + + 0.5 vBE1 – vBE2 – i /I iE RC2 Q E – 0.15 – 0.10 – 0.05 0 0.05 0.10 0.15 V – vd = vBE1 – vBE2 (volts) Figure 17.1 Basic Figure 17.2 Normalized dc transfer characteristics, BJT differential amplifier circuit differential amplifier 1In most cases in this chapter, total instantaneous current and voltage parameters are used, even though most analyses of logic circuits involve dc calculations. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1257 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1257 transistor is cutoff. For example, if vB E1 = vB E2 + 0.12, then the ratio of iC1 and iC2 is iv /V Ce BE1 T 1 = = e(vB E1−vB E2)/VT = e0.12/0.026 = 101 (17.2) i evB E2/V C2 T When the base–emitter voltage of Q1 is 120 mV greater than the base–emitter voltage of Q2, the collector current of Q1 is 100 times that of Q2; for all practical purposes, Q1 is on and Q2 is cutoff. Conversely, if v1 is less than v2 by at least 120 mV, then Q1 is effectively cutoff and Q2 is on. The difference amplifier, when operating as a digital circuit, operates as a current switch. When v1 > v2 by at least 120 mV, it switches an approximately constant current through RE to Q1; when v2 > v1 by at least 120 mV, the current goes to Q2. EXAMPLE 17.1 Objective: Calculate the currents and voltages in the basic differential amplifier circuit used as a digital circuit. Consider the circuit in Figure 17.1. Assume that V + = 2.5 V, V − = −2.5 V, RC1 = RC2 ≡ RC = 5 k, RE = 6 k, and v2 = 0. Neglect base currents in the dc analysis. Solution: For v1 = v2 = 0, both transistors are on. Assume a base–emitter turn-on voltage of 0.7 V; then vE = −0.7 V and = vE − V − = −0.7 − (−2.5) iE = 0.3 mA RE 6 Assuming Q1 and Q2 are matched, we have iC1 = iC2 = iE/2 so that iC1 = iC2 = 0.15 mA. Then v = v = V + O1 O2 − iC RC = 2.5 − (0.15)(5) = 1.75 V Both Q1 and Q2 are biased in the active region. Now let v1 = −0.5 V. Since the base voltage of Q1 is less than the base voltage of Q2 by more than 120 mV, then Q1 is cutoff and Q2 is on. In this case, vE = v2 − VB E(on) = −0.7 V and iE = 0.3 mA, as before. However, iC1 = 0 and iC2 = iE = 0.3 mA, so that v + O1 = V = 2.5 V and v = V + O2 − iC2 RC = 2.5 − (0.3)(5) = 1.0 V For v1 = +0.5 V, Q1 is on and Q2 is cutoff. For this case, vE = v1 − VB E(on) = 0.5 − 0.7 = −0.2 V and the current iE is v − V − = = E = −0.2 − (−2.5) iE iC1 = 0.383 mA RE 6 Then v + O1 = V − iC1 RC = 2.5 − (0.383)(5) = 0.585 V and v = V + O2 = 2.5 V nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1258 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1258 Part 3 Digital Electronics Comment: For the three conditions given, transistors Q1 and Q2 are biased either in cutoff or in the active region. In terms of digital applications, output vO2 is in phase with input v1 and output vO1 is 180 degrees out of phase. When biased on, transistor Q1 conducts slightly more heavily than Q2 when it is conducting. To obtain symmetrical complementary outputs, RC1 should therefore be slightly smaller than RC2. EXERCISE PROBLEM Ex 17.1: Consider the differential amplifier circuit in Figure 17.1 biased at V + = 1.8 V, V − = −1.8 V, and v2 = 0. Assume VB E(on) = 0.7 V and neglect base currents. (a) Design the circuit such that iE = 0.11 mA and vO1 = vO2 = 1.45 V when v1 = 0. (b) Using the results of part (a), determine iE , vO1, and vO2 for (i) v1 = +0.5 V and (ii) v1 = −0.5 V. (c) Using the results of parts (a) and (b), calculate the power dissipated in the circuit for (i) v1 = +0.5 V and (ii) v1 = −0.5 V. (Ans. (a) RE = 10 k, RC = 6.364 k; (b) (i) iE = 0.16 mA, vO1 = 0.782 V, vO2 = 1.8 V; (ii) iE = 0.11 mA, vO1 = 1.8 V, vO2 = 1.10 V; (c) (i) P =0.576 mW, (ii) P = 0.396 mW) 17.1.2 Basic ECL Logic Gate Basic ECL Logic Gate A basic two-input ECL OR/NOR logic circuit is shown in Figure 17.3. The two input transistors, Q1 and Q2, are connected in parallel. On the basis of the differential amplifier, if both vX and vY are less than the reference voltage VR (by at least 120 mV), then both Q1 and Q2 are cutoff, while the reference transistor QR is biased on its active region. In this situation, the output voltage vO1 is greater than vO2. If either vX or vY becomes greater than VR , then QR turns off and vO2 becomes larger than vO1. The OR logic is at the vO2 output and the NOR logic is at the vO1 output. An advantage of ECL gates is the availability of complementary outputs, precluding the need for separate inverters to provide the complementary outputs. One problem with the OR/NOR circuit in Figure 17.3 is that the output voltage levels differ from the required input voltage levels; the output voltages are not V+ iCXY RC1 RC2 iCR vO1 vO2 vX vY Q Q 2 1 QR VR iE REV – Figure 17.3 Basic two-input ECL OR/NOR logic circuit nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1259 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1259 compatible with the input voltages. The mismatch arises because ECL circuit transistors operate between their cutoff and active regions, requiring that the base–collector junctions be reverse biased at all times. We see that a logic 1 voltage of the output is V = V + OH . If this voltage were to be applied to either the vX or vY input, then either Q1 or Q2 would turn on and the collector voltage vO1 would decrease below V +; the base–collector voltage would then become forward biased and the transistor would go into saturation. Emitter-follower circuits are added to provide outputs that are compatible with the inputs of similar gates. ECL Logic Gate with Emitter Followers In the ECL circuit in Figure 17.4, emitter followers are added to the OR/NOR outputs, and supply voltage V + is set equal to zero. The ground and power supply voltages are reversed because analyses show that using the collector–emitter voltage as the output results in less noise sensitivity. If the forward current gain of the transistors is on the order of 100, then the dc base currents maybe neglected with little error in the calculations. If either vX or vY is a logic 1 (defined as greater than VR by at least 120 mV), then the reference transistor QR is cutoff, iC R = 0, and vO2 = 0. Output transistor Q3 is biased in the active region, and vO R = vO2 − VB E(on) = −0.7 V. If both vX and vY area logic 0 (defined as less than VR by at least 120 mV), then both Q1 and Q2 are cutoff, vO1 = 0, and vNOR = 0 − VB E(on) = −0.7 V. The largest possible voltage that can be achieved at either output is −0.7 V; therefore, −0.7 V is defined as the logic 1 level. In the following example, we will determine the currents and the logic 0 values in the basic ECL gate. iCXY RC1 RC2 vO1 Q4 vO2 Q3 vi NOR CR vX vY Q2 Q1 QR VR vOR i R3 = 4 i3 1.5 kΩ R = i RE 4 = E 1.5 kΩ 1.18 kΩ V – = –5.2 V Figure 17.4 Two-input ECL OR/NOR logic gate with emitter-follower output stages EXAMPLE 17.2 Objective: Calculate current, resistor, and logic 0 values in the basic ECL logic gate. Consider the circuit in Figure 17.4. Determine RC1 and RC2 such that when Q1 and Q2 are conducting, the BC voltages are zero. Solution: Let vX = vY = −0.7 V = logic 1 > VR such that Q1 and Q2 are on. We find that vE = vX − VB E(on) = −0.7 − 0.7 = −1.4 V nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1260 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1260 Part 3 Digital Electronics and the current is v − V − −1.4 − (−5.2) iE = iCxy = E = = 3.22 mA RE 1.18 In order for the BC voltages of Q1 and Q2 to be zero, voltage vO1 must be −0.7 V. Therefore = −vO1 = 0.7 RC1 = 0.217 k ICxy 3.22 The NOR output logic 0 value is then vNOR = vO1 − VB E(on) = −0.70 − 0.7 = −1.40 V Input voltages vX and vY are greater than VR in a logic 1 state and less than VR in a logic 0 state. If VR is set at the midpoint between the logic 0 and logic 1 levels, then = −0.7 − 1.40 VR = −1.05 V 2 When QR is on, we have vE = VR − VB E(on) = −1.05 − 0.7 = −1.75 V and v − V − = = E = −1.75 − (−5.2) iE iC R = 2.92 mA RE 1.18 For vO2 = −0.7 V, we find that = −vO2 0.7 RC2 = = 0.240 k iC2 2.92 The OR logic 0 value is therefore vOR = vO2 − VB E(on) = −0.7 − 0.7 = −1.40 V Comment: For symmetrical complementary outputs, RC1 and RC2 are not equal. If RC1 and RC2 become larger than the designed values, transistors Q1, Q2, and QR will be driven into saturation when they are conducting. EXERCISE PROBLEM Ex 17.2: Using the results of Example 17.2, calculate the power dissipated in the circuit in Figure 17.4; for: (a) vx = vy = logic 1, and (b) vx = vy = logic 0. (Ans. (a) P = 45.5 mW (b) P = 43.9 mW) The Reference Circuit Another circuit is required to provide the reference voltage VR . Consider the complete two-input ECL OR/NOR logic circuit shown in Figure 17.5. The reference circuit consists of resistors R1, R2, and R5, diodes D1 and D2, and transistor Q5. The reference portion of the circuit can be specifically designed to provide the desired reference voltage. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1261 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1261 iCXY RC1 = RC2 = i R1 = 217 Ω 240 Ω 1 250 Ω Q4 Q3 Q vNOR 5 vi B5 CR vX vY Q2 Q D Q 1 1 R vOR VR D2 i R = 3 R = i4 i 5 3 R4 = R = 5 i E 2.96 kΩ R2 = 1.5 kΩ 1.5 kΩ E 1.18 kΩ i 2.46 kΩ 2 V – = –5.2 V Reference Difference Level voltage amplifier shifters circuit Figure 17.5 Basic ECL logic gate with reference circuit DESIGN EXAMPLE 17.3 Objective: Design the reference portion of the ECL circuit. Consider the circuit in Figure 17.5. The reference voltage VR is to be −1.05 V. Solution: We know that vB5 = VR + VB E(on) = −1.05 + 0.7 = −0.35 V = −i1 R1 Since there are two unknowns, we will choose one variable. Let R1 = 0.25 k. Then, = 0.35 i1 = 1.40 mA 0.25 Since this current is on the same order of magnitude as other currents in the circuit, the chosen value of R1 is reasonable. Neglecting base currents, we can now write = = 0 − 2V − ii γ − V 1 2 R1 + R2 where Vγ is the diode turn-on voltage and is assumed to be Vγ = 0.7 V. We then have = −1.4 − (−5.2) 1.40 R1 + R2 which yields R1 + R2 = 2.71 k Since R1 = 0.25 k, resistance R2 is R2 = 2.46 k. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1262 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1262 Part 3 Digital Electronics Also, we know that − i5 = VR − V R5 If we let i5 = i1 = i2 = 1.40 mA, then − = VR − V = −1.05 − (−5.2) R5 = 2.96 k i5 1.40 Comment: As with any design, there is no unique solution. The design presented will provide the required reference voltage to the base of QR . EXERCISE PROBLEM Ex 17.3: The reference circuit in Figure 17.5 is to be redesigned with V + = 0 and V − = −3.3 V. The reference voltage is to be VR = −1.0 V and the currents are to be i1 = i2 = i5 = 0.5 mA. (Ans. R1 = 0.6 k, R2 = 3.2 k, R5 = 4.6 k) 17.1.3 ECL Logic Circuit Characteristics In this section, we will determine the power dissipation, fanout, and propagation delay times for the ECL logic gate. We will also examine the advantage of using a negative power supply. Power Dissipation Power dissipation is an important characteristic of a logic circuit. The power dissipated in the basic ECL logic gate in Figure 17.5 is given by PD = (iCxy + iC R + i5 + i1 + i3 + i4)(0 − V −) (17.3) EXAMPLE 17.4 Objective: Calculate the power dissipated in the ECL logic circuit. Consider the circuit in Figure 17.5. Let vX = vY = −0.7 V = logic 1. Solution: From our previous analysis, we have iCxy = 3.22 mA, iC R = 0, i5 = 1.40 mA, and i1 = 1.40 mA, and the output voltages are vOR = −0.7 V and vNOR = −1.40 V. The currents i3 and i4 are v − = OR − V = −0.7 − (−5.2) i3 = 3.0 mA R3 1.5 and = vNOR − V − = −1.40 − (−5.2) i4 = 2.53 mA R4 1.5 The power dissipation is then PD = (3.22 + 0 + 1.40 + 1.40 + 3.0 + 2.53)(5.2) = 60.0 mW Comment: This power dissipation is significantly larger than that in NMOS and CMOS logic circuits. The advantage of ECL, however, is the short propagation delay times, which can be less than 1 ns. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1263 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1263 EXERCISE PROBLEM Ex 17.4: Assume the maximum currents in Q3 and Q4 of the ECL circuit in Figure 17.5 are to be 1.0 mA. (a) What are the required values of R3 and R4? (b) Using the results of part (a), calculate the new power dissipated in the circuit for vX = vY = −0.7 V. (Ans. (a) R3 = R4 = 4.5 k, (b) P = 40.8 mW) Propagation Delay Time The major advantage of ECL circuits is their small propagation delay time, on the order of 1 ns or less. The two reasons for the short propagation delay times are: (1) the transistors are not driven into saturation, which eliminates any charge storage effects; and (2) the logic swing in the ECL logic gate is small (about 0.7 V), which means that the voltages across the output capacitances do not have to change as much as in other logic circuits. Also, the currents in the ECL circuit are relatively large, which means that these capacitances can charge and discharge quickly. However, the tradeoffs for the small propagation delay time are higher power dissipation and smaller noise margins. ECL circuits are very fast, and they require that special attention be paid to transmission line effects. Improperly designed ECL circuit boards can experience ringing or oscillations. These problems have less to do with the ECL circuits than with the interconnections between the circuits. Care must therefore be taken to terminate the signal lines properly. Fanout Figure 17.6 shows the emitter-follower output stage of the OR output of an ECL circuit used to drive the diff-amp input stage of an ECL load circuit. When vO R is a logic 0, input load transistor Q′ 1 is cutoff, effectively eliminating any load current from the driver output stage. With vO Rat a logic 1 level, the input load transistor is RC2 = 240 Ω 217 Ω 240 Ω vB3 Q3 iB3 vOR Q1′ QR′ VR′ iL iL′ vE′ i R3 = 3 1.5 kΩ iE′ RE = 1.18 kΩ V – = –5.2 V V – = –5.2 V To N – 1, identical load circuits Figure 17.6 Output stage of ECL logic gate driving N identical ECL input stages nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1264 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1264 Part 3 Digital Electronics on and an input base current i ′ L exists. (Up to this point, we have neglected dc base currents; however, they are not zero.) The load current must be supplied through Q3, whose base current is supplied through RC2. As the load current iL increases with the addition of more load circuits, a voltage drop occurs across RC2 and the output voltage decreases. The maximum fanout is determined partially by the maximum amplitude that the output voltage is allowed to drop from its ideal logic 1 value. EXAMPLE 17.5 Objective: Calculate the maximum fanout of an ECL logic gate, based on dc loading effects. Consider the circuit in Figure 17.6. Assume the current gain of the transistors is β = 50, which represents a worst-case scenario. Assume that the logic 1 level at the OR output is allowed to decrease by 50 mV at most from a value of −0.70 V to −0.75 V. Solution: From the figure, we see that ′ = vOR − VB E(on) − V − = −0.75 − 0.7 − (−5.2) iE = 3.18 mA RE 1.18 The input base current to the load transistor is ′ = i ′ E = 3.18 iB ⇒ 62.3 μA = i ′ (1 + β) 51 L The total load current is therefore i = Ni ′ LL . The base current iB3 required to produce both the load current iL and current i3 is = i3 + iL = 0 − vB3 = 0 − (v + Vi ORB E(on)) B3 + (17.4) (1 β) RC2 RC2 Also, from the figure we see that − = vOR − V = −0.75 − (−5.2) i3 = 2.967 mA R3 1.5 From Equation (17.4), the maximum fanout for this condition is 2.967 + N (0.0623) = 0 − (−0.75 + 0.7) 51 0.24 which yields N = 122. The value of N must be rounded to the next lower integer. Comment: This maximum fanout is based on dc conditions and is unrealistic. In practice, the maximum fanout for ECL circuits is determined by the propagation delay time. Each load circuit increases the load capacitance by approximately 3 pF. A maximum fanout of about 15 is usually recommended to keep the propagation delay time within specified limits. EXERCISE PROBLEM *Ex 17.5: If the fanout for the situation described in Example 17.5 is limited to N = 10, how much does the OR output change from the no-load value of −0.70 V? (Ans. vOR = −0.7170 V) nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1265 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1265 The Negative Supply Voltage In classic ECL circuits, it is common practice to ground the positive terminal of the supply voltage, reducing the noise signals at the output terminal. Figure 17.7(a) shows an emitter-follower output stage with the supply voltage VCC in series with a noise source Vn . The noise signal maybe induced by the effect of switching currents interacting with parasitic inductances and capacitances. The output voltage is measured with respect to ground; therefore, if the positive terminal of VCC is grounded, voltage Vo is taken as the output voltage. If the negative terminal of VCC is at ground, then V ′ o is the output voltage. To determine the effect of the noise voltage at the output, we assume that QR is cutoff, and we evaluate the small-signal hybrid-π equivalent circuit shown in Figure 17.7(b). – RC2 = – 0.24 kΩ g 0.24 kΩ m3Vp 3 = + b Ib3 Vo VCC V – Q o Ib3 + 3 V + n – Vp 3 rp 3 iB3 – + + QR + + V + n – R3 = i3 1.5 kΩ V ′ o′ V 1.5 kΩ o – – (a) (b) Figure 17.7 (a) Equivalent circuit, ECL emitter-follower output stage and noise generator, and the (b) small-signal hybrid-π equivalent circuit EXAMPLE 17.6 Objective: Determine the effect of a noise signal on the output of an ECL gate. Consider the small-signal equivalent circuit in Figure 17.7(b). Let β = 100. Find Vo and V ′ o as a function of Vn . Solution: From a previous analysis, the quiescent collector current in Q3 for QR in cutoff is 3 mA. Then, rπ3 = βVT = (100)(0.026) = 0.867 k IC Q 3 and g = IC Q 3 m3 = = 115 mA/V VT 0.026 We can also write that Vn = Ib3(RC2 + rπ3) + (1 + β)Ib3 R3 which yields = VI n Vn Vn b3 RC2 + = = rπ3 + (1 + β)R3 0.24 + 0.867 + (101)(1.5) 152.6 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1266 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1266 Part 3 Digital Electronics The output voltage Vo is ( ) Vo = − VI n b3(RC2 + rπ3) = − (0.24 + 0.867) = −0.0073V 152 6 n . and output voltage V ′ o is ( ) V ′ o = (1 + V β)Ib3 R3 = (101 n ) (1.5) = 0.99 V 152 n .6 Comment: The effect of noise on the collector–emitter output voltage Vo is much less than on output voltage V ′ o . It is advantageous, then, to use Vo, which implies that the positive terminal of VCC is grounded. The noise insensitivity gained with a negative power supply maybe critical in a logic circuit with a low noise margin. EXERCISE PROBLEM Ex 17.6: Repeat Example 17.6 if the bias current in Q3 is reduced to 1 mA and the resistance R3 = 4.5 k. (Ans. Vo = −0.00621Vn , V ′ o = 0.9938Vn ) 17.1.4 Voltage Transfer Characteristics The voltage transfer curve indicates the circuit characteristics during transition between the two logic states. The voltage transfer characteristics can also be used to determine the noise margins. DC Analysis A good approximation of the voltage transfer characteristics can be derived from the piecewise linear model of the two input transistors and the reference transistor. Consider the ECL gate in Figure 17.5. If inputs vX and vY area logic 0, or −1.40 V, then Q1 and Q2 are cutoff and vNOR = −0.7 V. The reference transistor QR is on and, as previously seen, iE = iC2 = 2.92 mA, vB3 = −0.70 V, and vOR = −1.40 V. As long as vX = vY remains less than VR − 0.12 = −1.17 V, the output voltages do not change from these values. During the interval when the inputs are within 120 mV of reference voltage VR , the output voltage levels vary. When vX = vY = VR + 0.12 = −0.93 V, then Q1 and Q2 are on and QR is off. At this point, iE = iC1 = 3.03 mA, vB4 = −0.657 V, and vNOR = −1.36 V. As determined previously, when vX = vY = −0.7 V, vNOR = −1.40 V. The voltage transfer curves are shown in Figure 17.8. Noise Margin For the ECL gate, we define the threshold logic levels VI Land VI Has the points of discontinuity in the voltage transfer curves. These values are VI L = −1.17 V and vX = vY → – 1.40 – 1.17 – 1.05 – 0.93 – 0.70 –0.70 vOR –1.36 vNOR –1.40 Figure 17.8 ECL OR/NOR logic gate voltage transfer characteristics nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1267 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1267 VI H = −0.93 V. The high logic level is VO H = −0.7 V and the low logic value is VOL = −1.40 V. The noise margins are defined as NMH = VO H − VI H (17.5(a)) and NML = VI L − VOL (17.5(b)) Using the results from Figure 17.8, we find that NMH = 0.23 V and NML = 0.23 V. The noise margins for the ECL circuit are considerably lower than those calculated for NMOS and CMOS circuits. Test Your Understanding TYU 17.1 For the ECL logic gate shown in Figure 17.3, the bias voltages are V + = 1.8 V, V − = −1.8 V , and VR = 0.75 V. Assume VB E(on) = 0.7 V and neglect base currents. (a) Determine RE and RC2 such that iE = 0.8 mA and vO2 = 1.1 V when vX = vY = logic 0 < VR . (b) Find RC1 such that vO1 = 1.1 V when vX = vY = 1.1 V. What is iE for this case? (Ans. (a) RE = 2.31 k, RC2 = 0.875 k; (b) iE = 0.951 mA, RC1 = 0.736 k) TYU 17.2 Redesign the ECL circuit in Figure 17.4 such that the logic 0 values at the vOR and vNOR terminals are −1.5 V. The maximum value of iE is to be 2.5 mA, and the maximum values of i3 and i4 are to be 2.5 mA. The bias voltages areas shown. Determine all resistor values and the value of VR . (Ans. RE = 1.52 k, RC1 = 320 , VR = −1.1 V, RC2 = 358 , R3 = R4 = 1.8 k) 17.2 MODIFIED ECL CIRCUIT CONFIGURATIONS Objective: • Analyze and design modified emitter-coupled logic circuits The large power dissipation in the basic ECL logic gate makes this circuit impractical for large-scale integrated circuits. Certain modifications can simplify the circuit design and decrease the power consumption, making the ECL more compatible with integrated circuits. 17.2.1 Low-Power ECL Figure 17.9(a) shows a basic ECL OR/NOR logic gate with reference voltage VR and a positive voltage supply. We can make the output voltage states compatible with the input voltages, eliminating the need for the emitter-follower output stages. In some applications, both complementary outputs may not be required. If, for example, only the OR output is required, then we can eliminate resistor RC1. Removing this resistor does not reduce the circuit power consumption, but it eliminates one element. Figure 17.9(b) shows the modified ECL gate. For vX = vY = logic 1 > VR , transistors Q1 and Q2 are turned on and QR is off. The output voltage is vOR = VCC ."
17.2 Modified ECL Circuit Configurations,"17.2 MODIFIED ECL CIRCUIT CONFIGURATIONS Objective: • Analyze and design modified emitter-coupled logic circuits The large power dissipation in the basic ECL logic gate makes this circuit impractical for large-scale integrated circuits. Certain modifications can simplify the circuit design and decrease the power consumption, making the ECL more compatible with integrated circuits. 17.2.1 Low-Power ECL Figure 17.9(a) shows a basic ECL OR/NOR logic gate with reference voltage VR and a positive voltage supply. We can make the output voltage states compatible with the input voltages, eliminating the need for the emitter-follower output stages. In some applications, both complementary outputs may not be required. If, for example, only the OR output is required, then we can eliminate resistor RC1. Removing this resistor does not reduce the circuit power consumption, but it eliminates one element. Figure 17.9(b) shows the modified ECL gate. For vX = vY = logic 1 > VR , transistors Q1 and Q2 are turned on and QR is off. The output voltage is vOR = VCC . nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1268 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1268 Part 3 Digital Electronics VCC VCC R i CR 1 RC2 CR C2 v v NOR vOR OR v v XX v Q Q Q Y Q2 Q1 QR V v RY 2 1 R VR RE iE RE (a) (b) Figure 17.9 (a) Basic ECL OR/NOR logic gate and (b) modified ECL logic gate For vX = vY = logic 0 < VR , then Q1 and Q2 are off and QR is on. The currents are V − V (on) i RB E E = =∼ i RC R (17.6) E and the output voltage is vOR = VCC − iC R RC2 (17.7) If the resistance values of RE and RC2 vary from one circuit to another because of fabrication tolerances, then current iE and the logic 0 output voltage will vary from one circuit to another. To establish a well-defined logic 0 output, we can insert a Schottky diode in parallel with resistor RC , as shown in Figure 17.10. If the two inputs area logic 0, then Q1 and Q2 are off and QR is on. For this condition, we want the Schottky diode to turn on. The output will then be vOR = VCC − Vγ , where Vγ is the turn-on voltage of the Schottky diode. This logic 0 output voltage is a well-defined value. If the diode turns on, then current iR is limited to iR(max) = Vγ /RC . Since we must have iE > iR(max), the diode current is iD = iE − iR(max). As usual, we design the reference voltage to be the average of the logic 1 and logic 0 values. The voltage VR is then VR = VCC − Vγ /2. We may assume Vγ = 0.4 V. When transistor QR is off, its collector voltage is VCC and the BC junction is reverse- VCC iD iR RC vOR vX vY Q2 Q1 QR VR iE RE Figure 17.10 Modified ECL logic gate with Schottky diode nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1269 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1269 biased by 0.2 V. When QR is conducting, its collector voltage is VCC − Vγ , which means that the BC junction is now forward-biased by 0.2 V and the transistor is biased slightly in saturation. However, this slight saturation bias does not degrade the switching of QR , so the fast switching characteristics of the ECL circuit are retained. EXAMPLE 17.7 Objective: Analyze the modified ECL logic gate. Consider the circuit in Figure 17.10 with parameters VCC = 1.7 V and RE = RC = 8 k. Assume the diode and transistor piecewise linear parameters are Vγ = 0.4 V and VB E(on) = 0.7 V. Solution: The output voltage values are vOR = logic 1 = VCC = 1.7 V and vOR = logic 0 = VCC − Vγ = 1.7 − 0.4 = 1.3 V For the output voltages to be compatible with the inputs, the reference voltage VR must be the average of the logic 1 and logic 0 values, or VR = 1.5 V. If vX = vY = logic 0 = 1.3 V, then QR is on. Therefore, = VR − VB E(on) = 1.5 − 0.7 iE ⇒ 100 μA RE 8 The maximum current in RC is V 0.4 iR(max γ ) = = ⇒ 50 μA RC 8 and the current through the diode is iD = iE − iR(max) = 100 − 50 = 50 μA For vX = vY = logic 0, the power dissipation is P = iE VCC , or P = iE VCC = (100)(1.7) = 170 μW For vX = vY = logic 1 = 1.7 V, we have = vX − VB E(on) = 1.7 − 0.7 iE ⇒ 125 μA RE 8 Therefore, the power dissipation for this condition is P = iE VCC = (125)(1.7) = 213 μW Comment: If the resistance values of RE and RC were to change by as much as ±20 percent as a result of manufacturing tolerances, for example, the currents would still be sufficient to turn the Schottky diode on when QR is on. This means that the logic 0 output is well defined. Also, the power dissipation in this ECL gate is considerably less than that in the classic ECL OR/NOR logic circuit. The reduced power is a result of fewer components, lower bias voltage, and smaller currents. EXERCISE PROBLEM Ex 17.7: Design the basic ECL logic gate in Figure 17.11 such that the maximum power dissipation is 0.2 mW and the logic swing is 0.4 V. (Ans. IQ = 117.6 μA, RC = 3.4 k, VR = 1.5 V) nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1270 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1270 Part 3 Digital Electronics VCC = 1.7 V RC vO vX vY Q2 Q1 QR VR IQ Figure 17.11 Figure for Exercise Ex 17.7 17.2.2 Alternative ECL Gates In an ECL system, as in all digital systems, agate is used to drive other logic gates. Connecting load circuits to the basic ECL gate demonstrates changes that can be made to incorporate ECL into integrated circuits more effectively. Figure 17.12 shows the basic ECL gate with two load circuits. In this configuration, the collectors of Q′ 2 and Q′′ 2 are at the same potential, as are the bases of VCC = 1.7 V VCC = 1.7 V Q ′ VR = 2 1.5 V RE vX vY Q Q VR = 2 1 QR 1.5 V VCC = 1.7 V RE Q ″ VR = 2 1.5 V RE Figure 17.12 Modified ECL logic gate with two load circuits nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1271 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1271 VCC = 1.7 V VCC = 1.7 V vO QO vX vY Q2 Q1 QR VR = 1.5 V vO′ RE vE′ QR′ VR = 1.5 Vi ′ RE E VCC = 1.7 V vO″ v ″ QR″ VR = 1.5 V E iE″ RE Figure 17.13 Modified ECL logic gate with multiemitter output transistor and two load circuits the two transistors. We can therefore replace Q′ 2 and Q′′ 2 by a single multiemitter transistor. In Figure 17.13, the multiemitter transistor QO is part of the driver circuit. The operation of the circuit is as follows: • vx = vy = logic 1 = 1.7 V: The two input transistors Q1 and Q2 are on, QR is off, and vO = 1.7 V. Since the base voltage of QO is higher than the base voltages of Q′ Rand Q′′ R , then QO is conducting, Q′ Rand Q′′ Rare off, and v′ E = v′′ E = 1.7 − 0.7 = 1.0 V. The currents i ′ ′′ ′ ′′ E and iE flow through the emitters of QO . The output voltages are vO = vO = 1.7 V. • vx = vy = logic 0 = 1.3 V: For this case, the two input transistors Q1 and Q2 are off, QR is on, and vO = 1.3 V. The output transistor QO is off and both Q′ Rand Q′′ Rare on. The output voltages are then v′ = v′′ O O = 1.3 V. The two load circuits in Figure 17.13 each have only a single input, which limits the circuit functionality. The versatility of the circuit can be further enhanced by making the load transistor Q′ Ra multiemitter transistor. This is shown in Figure 17.14. For simplicity, we show only a single input transistor to each of the two nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1272 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1272 Part 3 Digital Electronics VCC = 1.7 V vO1 VCC = 1.7 V QO1 v1 Q1 QR1 VR = 1.5 V R vO′E E VR = 1.5 V 1 QR′ VCC = 1.7 V E2 iE1 iE2 RE RE vO2 QO2 v2 Q2 Q V = RR 2 1.5 V RE Figure 17.14 Two ECL driver circuits with a multi-input load circuit driver circuits. The operation of this circuit for various combinations of input voltages is as follows. • v1 = v2 = logic 0 = 1.3 V: The two input transistors Q1 and Q2 are off and the two reference transistors QR1 and QR2 are on. This means that vO1 = vO2 = 1.3 V and both output transistors QO1 and QO2 are off. Both emitters of Q′ Rare forward biased, currents iE1 and iE2 flow through Q′ R , and the output voltage is v′ O = logic 0 = 1.3 V. • v1 = 1.7 V, v2 = 1.3 V: For this case, Q1 is on, QR1 is off, Q2 is off, and QR2 is on. The output voltages are vO1 = 1.7 V and vO2 = 1.3 V. This means that QO1 is on and QO2 is off. With QO1 on, current iE1 flows through QO1 and no current flows in emitter E1. With QO2 off, emitter E2 is forward biased, current iE2 flows through Q′ R , and the output voltage is v′ O = logic 0 = 1.3 V. • v1 = 1.3 V, v2 = 1.7 V: This case is the complement of the one just discussed. Here, QO1 is off and QO2 is on. This means that iE1 flows through emitter E1 of Q′ R , and iE2 flows through QO2. The output voltage is v′ O = logic 0 = 1.3 V. • v1 = v2 = 1.7 V: The two input transistors Q1 and Q2 are on, the two reference transistors QR1 and QR2 are off, and vO1 = vO2 = 1.7 V. This means that both QO1 and QO2 are on and Q′ R is off. Currents iE1 and iE2 flow through QO1 and QO2, respectively, and the output voltage is v′ O = logic 1 = 1.7 V. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1273 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1273 Table 17.1 Summary of results for the ECL circuit in Figure 17.14 v1 (V) v2 (V) v ′ O (V) 1.3 1.3 1.3 1.7 1.3 1.3 1.3 1.7 1.3 1.7 1.7 1.7 These results are summarized in Table 17.1, which shows that this circuit performs the AND logic function. A more complicated or sophisticated logic function can be performed if multiple inputs are used in the driver circuits. In integrated circuits, resistors RE are replaced by current sources using transistors. Replacing resistors with transistors in integrated circuits usually results in reduced chip area. 17.2.3 Series Gating Series gating is a bipolar logic circuit technique that allows complex logic functions to be performed with a minimum number of devices and with maximum speed. Series gating is formed by using cascode stages. Figure 17.15(a) shows the basic emitter-coupled pair, and Figure 17.15(b) shows a cascode stage, also referred to as two-level series gating. Reference voltage VR1 is approximately 0.7 V greater than reference voltage VR2. The input voltages vx and vy must also be shifted approximately 0.7 V with respect to each other. As an example, we use the multiemitter load circuit from Figure 17.14 as part of a cascode configuration as shown in Figure 17.16. Transistors QO1, QO2, and QO3 VCC V RL CC vO RL vX VR1 VCC vO iO vX VR vY VR2 IQ IQ (a) (b) Figure 17.15 (a) Basic emitter-coupled pair and (b) ECL cascode configuration nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1274 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1274 Part 3 Digital Electronics VCC = 2.5 V VCC = 2.5 VA QO1 Q VCC = 2.5 V v O O QR V = 2.3 VB QR1 O2 VCC = 2.5 V C QO3 Q1 Q2 VR2 = 1.6 V IQ Figure 17.16 ECL series gating example represent the output transistors of three ECL driver circuits. We assume a logic 1 level of 2.5 V and a logic 0 level of 2.1 V. The 0.4 V logic swing results from incorporating a Schottky diode in each output stage. With three input signals, there are eight possible combinations of input states. We will only consider two combinations here: • A = B = C = logic 0 = 2.1 V: In this case, transistors QO1 and QO2 are off and transistor Q1 is off. This means that current IQ flows through Q2 and QR , and vO = logic 0 = 2.1 V. • A = C = 2.1 V, B = 2.5 V: Transistors QO1 and Q1 are off, QO2 is on, and current IQ flows through Q2 and QO2. Since Q1 is off, no current is available to flow through QR , even though QO1 is off. The output is vO = logic 1 = 2.5 V. For the output voltage vO to be a logic 1, no current must flow through QR . This occurs when both QO1 and QO2 are on, or when a BE junction of QR is turned on but no current is available through Q1 or Q2. We can show that this circuit performs the logic of function (A AND C) OR (BAND C̄) (17.8) We are now beginning to integrate logic functions into a circuit rather than using separate, distinct logic gates. This reduces the number of devices required, as well as the propagation delay time. Another example of series gating is shown in Figure 17.17. A negative supply voltage is again used. The operation of the circuit is as follows. • vx = vy = logic 0 = −0.4 V: Transistors Q1, Q4, and Q7 are on, current IQ flows through Q7 and Q4, the diode turns on, and the output voltage is −0.4 V. • vx = −0.4 V, vy = 0: Transistors Q1, Q4, and Q6 are on, current IQ flows through Q6 and Q1 to ground, and current IQ2 flows through Q4 and the nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1275 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1275 1 kΩ vO –0.2 V Q1 Q2 Q3 Q4 –0.2 V vX IQ1 = 50 mA IQ2 = 50 mA –3 V –3 V vY Q5 Q Q –0.9 V Table 17.2 Summary of logic levels for 6 7 ECL circuit in Figure 17.17 250 mA vx vy vO IQ = 500 mA 0 0 0 –3 V 0 1 1 –3 V 1 0 1 1 1 0 Figure 17.17 ECL series gating example resistor. The output voltage is vO = −RC IQ2 = −(1)(0.05) = −0.05 V. This voltage is not sufficient to turn the Schottky diode on. Although it is not zero volts, the voltage still represents a logic 1. • vx = 0, vy = −0.4 V: Transistors Q2, Q3, and Q7 are on, current IQ flows through Q7 and Q3 to ground, and current IQ1 flows through Q2 and the resistor. Again, vO = −0.05 V = logic 1. • vx = vy = logic 1 ∼= 0 V: Transistors Q2, Q3, and Q6 are on, IQ flows through Q6, Q2, and the Schottky diode, and output voltage is vO = −0.4 V = logic 0. These results are summarized in Table 17.2, in which the logic levels are given. The results show that the circuit performs the exclusive-OR logic function. vI 17.2.4 Propagation Delay Time vO ECL is the fastest bipolar logic technology. Bipolar technology can produce small, I C very fast transistors with cutoff frequencies in the range of 3 to 15 GHz. Logic gates Q L that use these transistors are so fast that interconnect line delays tend to dominate the V propagation delay times. Minimizing these interconnect delays involves minimizing EE the metal lengths and using sufficient current drive capability. Figure 17.18 Emitter- Speed is derived from low-signal logic swings, nonsaturating logic, and the abil- follower stage with load ity to drive a load capacitance. Figure 17.18 is the emitter-follower output stage capacitance nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1276 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1276 Part 3 Digital Electronics found in many ECL circuits, showing an effective load capacitance. Usually, the emitter-follower current IQ is two to four times larger than the cell current. In the pull-down cycle, the current IQ discharges CL . The current–voltage relationship of the capacitor is = dv i CO L (17.9(a)) dt or ∫ 1 vO = i dt (17.9(b)) CL Assuming CL and i = IQ are constants, the fall time is = CL VS τF (0.8) (17.10) IQ where VS is the logic swing, and the factor (0.8) occurs because τF is defined as the time required for the output to swing from 10 percent to 90 percent of its final value. As an example, if VS = 0.4 V and IQ = 250 μA, then for a minimum fall time of τF = 0.8 ns, the maximum load capacitance is CL(max) = 0.625 pF. This calculation shows that the load capacitance must be minimized to realize short propagation delay times. Test Your Understanding TYU 17.3 Consider the ECL circuit in Figure 17.16. For each of the eight possible combinations of input states, determine the conduction state (on or off) of each transistor. Verify that this circuit performs the logic function given by Equation (17.8). TYU 17.4 The ECL circuit in Figure 17.19 is an example of three-level series gating. Determine the logic function that the circuit performs. (Ans. (A ⊕ B) ⊕ C ) VCC RL vO A A IS = 300 mA VR1 VEE BB VR2 C VR3 IT = 75 mA VEE Figure 17.19 Figure for Exercise TYU 17.4 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1277 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1277 17.3 TRANSISTOR–TRANSISTOR LOGIC Objective: • Analyze transistor–transistor logic circuits The bipolar inverter is the basic circuit from which most bipolar saturated logic circuits are developed, including diode–transistor logic (DTL) and transistor–transistor logic (TTL). However, the basic bipolar inverter suffers from loading effects. Diode–transistor logic combines diode logic (Chapter 2) and the bipolar inverter to minimize loading effects. Transistor–transistor logic, which evolved directly from DTL, provides reduced propagation delay times, as we will show. In DTL and TTL circuits, bipolar transistors are driven between cutoff and saturation. Since the transistor is being used essentially as a switch, the current gain is not as important as in amplifier circuits. Typically, for transistors used in these circuits, the current gain is assumed to be in the range of 25 to 50. These transistors need not be fabricated to as tight a tolerance as that of high-gain amplifier transistors. Table 17.3 lists the piecewise linear parameters used in the analysis of bipolar digital circuits, along with their typical values. Also included is the pn junction diode turn-on voltage Vγ . Generally, the BE voltage increases as the transistor is driven into saturation, since the base current increases. When the transistor is biased in the saturation region, the BE voltage is VB E(sat), where VB E(sat) > VB E(on). 17.3.1 Basic Diode–Transistor Logic Gate The basic diode–transistor logic (DTL) gate is shown in Figure 17.20. The circuit is designed such that the output transistor operates between cutoff and saturation. This provides the maximum output voltage swing, minimizes loading effects, and produces the maximum noise margins. When Qo is in saturation, the output voltage is vO = VC E(sat) =∼ 0.1 V and is defined as logic 0 for the DTL circuit. As we will see, the basic DTL logic gate shown in Figure 17.20 performs the NAND logic function. Basic DTL NAND Circuit Operation If both input signals vX and vY are at logic 0, then the two input diodes DX and DY are forward biased through resistor R1 and voltage source VCC . The input diodes VCC = 5 V iRC RC = 4 kΩ Table 17.3 Piecewise linear i1 R1 = 4 kΩ parameters for a pn vO junction diode and DX DD v npn bipolar transistor 1 2 B vX Qo v1 i Parameter Value vY i2 B DY iR RB = Vγ 0.7 V 10 kΩ VB E (on) 0.7 V VB E (sat) 0.8 V VC E (sat) 0.1 V Figure 17.20 Basic diode–transistor logic gate"
17.3 Transistor–Transistor Logic,"17.3 TRANSISTOR–TRANSISTOR LOGIC Objective: • Analyze transistor–transistor logic circuits The bipolar inverter is the basic circuit from which most bipolar saturated logic circuits are developed, including diode–transistor logic (DTL) and transistor–transistor logic (TTL). However, the basic bipolar inverter suffers from loading effects. Diode–transistor logic combines diode logic (Chapter 2) and the bipolar inverter to minimize loading effects. Transistor–transistor logic, which evolved directly from DTL, provides reduced propagation delay times, as we will show. In DTL and TTL circuits, bipolar transistors are driven between cutoff and saturation. Since the transistor is being used essentially as a switch, the current gain is not as important as in amplifier circuits. Typically, for transistors used in these circuits, the current gain is assumed to be in the range of 25 to 50. These transistors need not be fabricated to as tight a tolerance as that of high-gain amplifier transistors. Table 17.3 lists the piecewise linear parameters used in the analysis of bipolar digital circuits, along with their typical values. Also included is the pn junction diode turn-on voltage Vγ . Generally, the BE voltage increases as the transistor is driven into saturation, since the base current increases. When the transistor is biased in the saturation region, the BE voltage is VB E(sat), where VB E(sat) > VB E(on). 17.3.1 Basic Diode–Transistor Logic Gate The basic diode–transistor logic (DTL) gate is shown in Figure 17.20. The circuit is designed such that the output transistor operates between cutoff and saturation. This provides the maximum output voltage swing, minimizes loading effects, and produces the maximum noise margins. When Qo is in saturation, the output voltage is vO = VC E(sat) =∼ 0.1 V and is defined as logic 0 for the DTL circuit. As we will see, the basic DTL logic gate shown in Figure 17.20 performs the NAND logic function. Basic DTL NAND Circuit Operation If both input signals vX and vY are at logic 0, then the two input diodes DX and DY are forward biased through resistor R1 and voltage source VCC . The input diodes VCC = 5 V iRC RC = 4 kΩ Table 17.3 Piecewise linear i1 R1 = 4 kΩ parameters for a pn vO junction diode and DX DD v npn bipolar transistor 1 2 B vX Qo v1 i Parameter Value vY i2 B DY iR RB = Vγ 0.7 V 10 kΩ VB E (on) 0.7 V VB E (sat) 0.8 V VC E (sat) 0.1 V Figure 17.20 Basic diode–transistor logic gate nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1278 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1278 Part 3 Digital Electronics conduct, and voltage v1 is clamped to a value that is one diode drop above the input voltage. If vX = vY = 0.1 V and Vγ = 0.7 V, then v1 = 0.8 V. Diodes D1 and D2 and output transistor Qo are nonconducting and are off. If D1 and D2 were conducting, then voltage vB would be −0.6 V for Vγ = 0.7 V. However, no mechanism exists for vB to become negative and still have a forward-biased diode current. Thus, the current in D1 and D2, the current in Qo, and the voltage vB are all zero. Since Qo is cutoff, then the output voltage is vO = VCC . This is the largest possible output voltage and is therefore defined as the logic 1 level. This same condition applies as long as at least one input is at logic 0. When both vX and vY are at logic 1, which is equal to VCC , both DX and DY are cutoff. Diodes D1 and D2 become forward biased, output transistor Qo is driven into saturation, and vO = VC E(sat), which is the smallest possible output voltage and is defined as the logic 0 level. This circuit is a two-input DTL NAND logic gate. However, the circuit is not limited to two inputs. Additional input diodes maybe included to increase the fan-in. EXAMPLE 17.8 Objective: Determine the currents and voltages in the DTL logic circuit. Consider the DTL circuit in Figure 17.20. Assume the transistor parameters areas given in Table 17.3 and let β = 25. Solution: Let vX = vY = logic 0 = 0.1 V. For this case, v1 = vX + Vγ = 0.1 + 0.7 = 0.8 V and = VCC − v1 = 5 − 0.8 i1 = 1.05 mA R1 4 Since diodes D1 and D2 and output transistor Qo are nonconducting, we assume that current i1 divides evenly between the matched diodes DX and DY . In this case, the currents i2 = iB = iC = 0 and the output voltage is vO = 5 V = logic 1. If vX = 0.1 V and vY = 5 V, or vX = 5 V and vY = 0.1 V, then the output transistor is still cutoff and vO = 5 V = logic 1. If vX = vY = logic 1 = 5 V, it is impossible for input diodes DX and DY to be forward biased. In this case, diodes D1 and D2 and the output transistor are biased on, which means that, starting at ground potential at the emitter of Qo, v1 is v1 = VB E(sat) + 2Vγ = 0.8 + 2(0.7) = 2.2 V Voltage v1 is clamped at this value and cannot increase. We see that DX and DY are indeed reverse biased and turned off, as assumed. Currents i1 and i2 are V − v 5 − 2.2 i1 = i2 = CC 1 = = 0.70 mA R1 4 and current iR is = VB E(sat) = 0.8 iR = 0.08 mA RB 10 The base current into the output transistor is then iB = i2 − iR = 0.70 − 0.08 = 0.62 mA nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1279 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1279 Since the circuit is to be designed such that Qo is driven into saturation, the collector current is = Vi CC − VC E(sat) = 5 − 0.1 C = 1.23 mA RC 4 Finally, the ratio of collector to base current is iC = 1.23 = 1.98 < β iB 0.62 Comment: Since the ratio of the collector current to base current is less than β, the output transistor is biased in the saturation region. Since the output transistor is biased between cutoff and saturation, the maximum swing between logic 0 and logic 1 is obtained. EXERCISE PROBLEM Ex 17.8: Consider the basic DTL circuit in Figure 17.20 with circuit and transistor parameters given in Example 17.8. Assume no load is connected to the output. Calculate the power dissipated in the circuit for (a) vX = vY = 5 V and (b) vX = vY = 0. (Ans. (a) P = 9.625 mW, (b) P = 5.375 mW) Minimum β To ensure that the output transistor is in saturation, the common-emitter current gain β must beat least as large as the ratio of collector current to base current. For example 17.8, the minimum β , or βmin, is 1.98. If the common-emitter current gain were less than 1.98, then Qo would not be driven into saturation, and the currents and voltages in the circuit would have to be recalculated. A current gain greater than 1.98 ensures that Qo is driven into saturation for the given circuit parameters and for the no-load condition. Pull-Down Resistor In the basic DTL NAND logic circuit in Figure 17.20, a resistor RB is connected between the base of the output transistor and ground. This resistor is called a pull- down resistor, and its purpose is to decrease the output transistor switching time as it goes from saturation to cutoff. As previously discussed, excess minority carriers must be removed from the base before a transistor can be switched to cutoff. This base charge removal produces a current out of the transistor base terminal until the transistor is turned off. Without the pull-down resistor, this reverse base current would be limited to the reverse-bias leakage current in diodes D1 and D2, resulting in a relatively long turnoff time. The pull-down resistor provides a path for the reverse base current. The base charge can be removed more rapidly if the value of RB is reduced. The larger the reverse base current, the shorter the transistor turnoff time. However, a tradeoff must be made in choosing the value of RB . A small RB provides faster switching, but lowers the base current to the transistor in the on state by diverting some drive current to ground. A lower base current reduces the circuit drive capability, or maximum fanout. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1280 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1280 Part 3 Digital Electronics 17.3.2 The Input Transistor of TTL Figure 17.21(a) shows a basic DTL circuit with one input diode DX and one offset diode D1. The structure of these back-to-back diodes is the same as an npn transistor, as indicated in Figure 17.21(b). The base–emitter junction of Q1 corresponds to input diode DX and the base–collector junction corresponds to offset diode D1. VCC VCC RR C 1 RR C 1 vO vO DX D1 vX Qo vX Q Q 1 o RB RB (a) (b) Figure 17.21 (a) Basic DTL gate and (b) basic TTL gate In isoplanar integrated circuit technology, the emitter of a bipolar transistor is fabricated in the base region. More emitters can then be added in the same base region to form a multiemitter, multi-input device. Figure 17.22(a) shows a simplified cross section of a three-emitter transistor, which is used as the input device in a TTL circuit. Figure 17.22(b) shows the basic TTL circuit with the multiemitter input transistor. VCC = 5 V E1 E2 E3 BC iB1 R1 = 4 kΩ RC = 4 kΩ n+ n+ n+ n+ p vB1 vO E v 1 QC1 vX 1 Q n E o v 2 YE i 3 C1 vZ (a) (b) Figure 17.22 (a) Simplified cross section of three-emitter transistor and (b) TTL circuit with three-emitter input transistor This circuit performs the same NAND operation as its DTL counterpart. The multiemitter transistor reduces the silicon area required, compared to the DTL input diodes, and it increases the switching speed. Transistor Q1 assists in pulling output transistor Qo out of saturation and into cutoff during a low-to-high transition of the nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1281 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1281 output voltage. Pull-down resistor RB in Figure 17.21(b) is no longer necessary, since the excess minority carriers in the base of Qo use transistor Q1 as a path to ground. The operation of input transistor Q1 is somewhat unconventional. In Figure 17.23(a), if either or both of the two inputs to Q1 are in a low state, the base–emitter junction is forward biased through R1 and VCC . The base current enters Q1, and the emitter current exits the specific emitter connected to the low input. Transistor action forces the collector current into Q1, but the only steady-state collector current in this direction is a reverse-bias saturation current out of the base of Qo. The steady-state collector current of Q1 is usually much smaller than the base current, implying that Q1 is biased in saturation. If at least one input is low such that Q1 is biased in saturation, then from Figure 17.23(a), we see that the base voltage of Q1 is vB1 = vX + VB E(sat) (17.11) and the base current into Q1 is = Vi CC − vB1 B1 (17.12) R1 If the forward current gain of Q1 is βF , then Q1 will be in saturation as long as iC1 < βFiB1. The collector voltage of Q1 is vC1 = vX + VC E(sat) (17.13) If both vX and VC E(sat) are approximately 0.1 V, then vC1 is small enough for the output transistor to cutoff and vO = VCC = logic 1. VCC = 5 V VCC = 5 Vi R Ω C = i R = B1 R1 = 4 k C 4 kΩ B1 R1 = 4 kΩ 4 kΩ vB1 vO vB1 vO iv EX C1 vX Q Qo vX = 5 V Q Q 1 1 o vi Y ii C1 C1 ER vY = 5 V iEY (a) (b) Figure 17.23 TTL circuit (a) with at least one input low and (b) with all inputs high If all inputs are high, vX = vY = 5 V, as shown in Figure 17.23(b), then the base–emitter junctions of the input transistor are reverse biased. Base voltage vB1 increases, which forward-biases the BC junction of Q1 and drives output transistor Qo into saturation. Since the BE junction of Q1 is reverse biased and the BC junction is forward biased, Q1 is biased in the inverse-active mode. In this bias mode, the roles of the emitter and collector are interchanged. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1282 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1282 Part 3 Digital Electronics When input transistor Q1 is biased in the inverse-active mode, base voltage vB1 is vB1 = VB E(sat)Qo + VBC(on)Q1 (17.14) where VBC(on) is the BC junction turn-on voltage. We assume that the BC junction turn-on voltage is equal to the BE junction turn-on voltage. The terminal current relationships for Q1 are therefore iE X = iEY = βRiB1 (17.15) and iC1 = iB1 + iE X + iEY = (1 + 2βR)iB1 (17.16) where βR is the inverse-active mode current gain of each input emitter of the input transistor. Since a bipolar transistor is not symmetrical, the inverse and forward current gains are not equal. The inverse current gain is generally quite small, usually less than one. In Figure 17.23(b), the input transistor has a fan-in of two. Transistor Q1 maybe considered as two separate transistors with their bases and collectors connected. For simplicity, when all inputs are high, we assume that current iE R splits evenly between the input emitters. The inverse-active mode current into the emitters of Q1 is not desirable, since this is a load current that must be supplied by a driver logic circuit when its output voltage is in its high state. Because of the transistor action, these currents tend to be larger than the reverse saturation currents of DTL circuit input diodes. The major advantage of TTL over DTL is faster switching of the output transistor from saturation to cutoff. If all inputs are initially high and then at least one input switches to the logic 0 state, 0.1 V, the BE junction of Q1 becomes forward biased and base voltage vB1 becomes approximately 0.1 + 0.7 = 0.8 V. Collector voltage vC1 is held at 0.8 V as long as output transistor Qo remains in saturation. At this instant in time, Q1 is biased in the forward-active mode. A large collector current into Q1 can exist, which pulls the excess minority carrier charge out of the base of Qo. A large reverse base current from Qo will very quickly pull the output transistor out of saturation. In the TTL circuit, the action of the input transistor reduces the propagation delay time compared to that of DTL logic circuits. For example, the propagation delay time is reduced from approximately 40 ns in a DTL NAND gate to approximately 10 ns in an equivalent TTL circuit. 17.3.3 Basic TTL NAND Circuit We can improve the circuit performance of the simple TTL circuit in Figure 17.23 by adding a second current gain stage. The resulting basic TTL NAND circuit is shown in Figure 17.24. In this circuit, both transistors Q2 and Qo are driven into saturation when vX = vY = logic 1. When at least one input switches from high to low, input transistor Q1 very quickly pulls Q2 out of saturation and pull-down resistor RB provides a path for the excess charge in Qo, which means that the output transistor can turnoff fairly quickly. DC Current–Voltage Analysis The analysis of the TTL circuit is very similar to that of the DTL circuit, as demonstrated in the following example. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1283 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1283 VCC = 5.0 Vi R1 = 1 i2 R2 = 1.6 kΩ i3 RC = 4.0 kΩ 4.0 kΩ vB1 vC2 iB2 vO vX Q Q 1 2 vB2 vY iE2 iBo Q v o Bo i RB = 4 1.0 kΩ Figure 17.24 TTL circuit with currents and voltages EXAMPLE 17.9 Objective: Calculate the currents and voltages for the basic TTL NAND circuit. Consider the TTL circuit in Figure 17.24. Assume the piecewise linear transistor parameters areas listed in Table 17.3. Assume the forward current gain is βF ≡ β = 25 and the inverse current gain of each input emitter is βR = 0.1. Solution: For vX = vY = 0.1 V, Q1 is biased in saturation and vB2 = vX + vC E(sat) = 0.1 + 0.1 = 0.2 V which means that Q2 and Qo are both cutoff. The base voltage vB1 is then vB1 = vX + vB E(sat) = 0.1 + 0.8 = 0.9 V and current i1 is i = VCC − vB1 = 5 − 0.9 1 = 1.03 mA R1 4 This current flows out of the input transistor emitters. Since Q2 and Qo are cutoff, all other currents are zero and the output voltage is vO = 5 V. If vX = vY = 5 V, then the input transistor is biased in the inverse active mode. The base voltage vB1 is vB1 = VB E(sat)Qo + VB E(sat)Q2 + VBC(on)Q1 = 0.8 + 0.8 + 0.7 = 2.3 V and the collector voltage vC2 is vC2 = VB E(sat)Qo + VC E(sat)Q2 = 0.8 + 0.1 = 0.9 V The currents are V − vi CC B1 5 − 2.3 1 = = = 0.675 mA R1 4 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1284 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1284 Part 3 Digital Electronics and iB2 = (1 + 2βR)i1 = (1 + 0.2)(0.675) = 0.810 mA Also, = VCC − vC2 = 5 − 0.9 i2 = 2.56 mA R2 1.6 which means that iE2 = i2 + iB2 = 2.56 + 0.81 = 3.37 mA The current in the pull-down resistor is = VB E(sat) = 0.8 i4 = 0.8 mA RB 1 and the base drive to the output transistor is iBo = iE2 − i4 = 3.37 − 0.8 = 2.57 mA Current i3 is i = VCC − VC E(sat) 3 = 5 − 0.1 = 1.23 mA RC 4 Comment: As mentioned, the analysis of the basic TTL circuit is essentially the same as that of the DTL circuit. The magnitudes of currents and voltages in the basic TTL circuit are also very similar to the DTL results. EXERCISE PROBLEM Ex 17.9: The parameters of the TTL NAND circuit in Figure 17.24 are: R1 = 12 k, R2 = 4 k, RB = 2 k, and RC = 6 k. Assume βF ≡ β = 25 and βR = 0.1 (for each input emitter). For a no-load condition, determine the base and collector currents in each transistor for: (a) vX = vY = 0.1 V and (b) vX = vY = 5 V. (Ans. (a) i1 = iB1 = 0.342 mA, iC ∼ 1 = 0, iB2 = iC2 = 0, iBo = iCo = 0; (b) i1 = iB1 = 0.225 mA, iB2 = |iC1| = 0.27 mA, i2 = iC2 = 1.025 mA, iBo = 0.895 mA, iCo = 0.8167 mA) 17.3.4 TTL Output Stages and Fanout The propagation delay time can be improved by replacing the output collector resistor with a current source. When the output changes from low to high, the load capacitance must be charged by a current through the collector pull-up resistor. The total load capacitance is composed of the input capacitances of the load circuits and the capacitances of the interconnect lines. The associated RC time constant for a load capacitance of 15 pF and a collector resistance of 4 k is 60 ns, which is large compared to the propagation delay time of a commercial TTL circuit. Totem-Pole Output Stage In Figure 17.25, the combination of Q3, D1, and Qo forms an output stage called a totem pole. Transistor Q2 forms a phase splitter, because the collector and emitter voltages are 180 degrees out of phase. If vX = vY = logic 1, input transistor Q1 is nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1285 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1285 VCC = 5.0 V VCC = 5.0 V R2 = R3 = 130 Ω i2 + 5 V 1.6 kΩ R1 = i1′i R1′ = 4.0 kΩ 1 4.0 kΩ Q3 iv B3 ′ RR = = 3 B3 vB1 2 130 Ω DR 1.6 kΩ 1 ii ′ 1 = LH v LH1 4.0 kΩ vX Q Q O Q3 1 2 Q1′ vi Y LL iv L′L1 B3 D1 Qo vX Q Q2 VCC = 5.0 V 1 vO v R = YB 1.0 kΩ Qo R = iN′ RN 1 = 4.0 kΩ B 1.0 kΩ iL′HN N′ Q1 iL′LN Figure 17.25 TTL circuit with totem-pole Figure 17.26 TTL circuit with totem-pole output stage driving output stage N identical TTL stages biased in the inverse-active mode, and both Q2 and Qo are driven into saturation. The voltage at the base of Q3 is vB3 = VC2 = VB E(sat)Qo + VC E(sat)Q2 (17.17) which is on the order of 0.9 V, and the output voltage is approximately 0.1 V. The difference between the base voltage of Q3 and the output voltage is not sufficient to turn Q3 and D1 on. The pn junction offset voltage associated with D1 must be included so that Q3 is cutoff when the output is low. For this condition, the saturation output transistor discharges the load capacitance and pulls the output low very quickly. If vX = vY = logic 0, then Q2 and Qo are cutoff, and the base voltage to Q3 goes high. The transistor Q3 and diode D1 turn on so that the output load capacitance can be charged and the output goes high. Since Q3 acts like an emitter follower, the output resistance is small so that the effective RC time constant to charge the load capacitance is now very small. Fanout Logic gates are not operated in isolation, but are used to drive other similar type logic gates to implement a complex logic function. Figure 17.26 shows the TTL NAND gate with a totem-pole output stage connected to N identical TTL NAND gates. The maximum fanout is defined as the maximum number of similar-type logic circuits that can be connected to the logic gate output without affecting proper circuit operation. For example, the output transistor Qo must remain in saturation when the output goes low to its logic 0 value. For a given value of β , there is then a maximum allowable load current, and therefore a maximum allowable number of load circuits that can be connected to the output. As another condition, the output transistor is usually rated for a maximum collector current. For an output low condition, the current iL L is the load current that Qo must sink from the load circuits. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1286 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1286 Part 3 Digital Electronics EXAMPLE 17.10 Objective: Calculate the maximum fanout for the output low condition. Let β = 25 for the output transistor. Solution (Transistor QO to remain in saturation): In Example 17.9, we calculated the base current into Qo as iBo = 2.57 mA. The output voltage is vO = 0.1 V so that v′ B1 = 0.1 + 0.8 = 0.9 V. Each individual load current is then ′ = ′ = 5 − 0.9 iL L1 i1 = 1.025 mA 4 The maximum collector current in Qo is iCo(max) = βiBo = Ni ′ LL1 The maximum fanout, N, is then found as = βiBo = (25)(2.57) N ′ = 62.7 iL L1 1.025 The number of load circuits must be an integer, so we round to the next lower integer, or N = 62. With 62 load circuits connected to the output, the collector current would be i ′ Co = NiL L1 = (62)(1.025) = 63.55 mA which is a relatively large value. In most cases, the output transistor has a maximum rated collector current that may limit the maximum fanout. Solution (Maximum rated output current): If the maximum rated collector current of the output transistor is iCo(rated) = 20 mA, then the maximum fanout is determined by iCo(rated) = Ni ′ LL1 or = iCo(rated) = 20 N ′ = 19.5 → 19 iL L1 1.025 Comment: In the first solution, the resulting fanout of 62 is not realistic since the output transistor current is excessive. In the second solution, a maximum fanout of 19 is more realistic. However, another limitation in terms of proper circuit operation is propagation delay time. For a large number of load circuits connected to the output, the output load capacitance maybe quite large which slows down the switching speed to unacceptably large values. The maximum fanout, then, maybe limited by the propagation delay time specification. EXERCISE PROBLEM Ex 17.10: The TTL circuit shown in Figure 17.25 is redesigned such that R1 = 12 k, R2 = 4 k, R3 = 100 , and RB = 2 k. Assume that βF ≡ β = 25 and βR = 0.1 (for each input emitter). Calculate the fanout for vX = vY = 3.6 V under the condition that (a) the output transistor must remain in saturation and (b) the maximum collector current of the output transistor is limited to 12 mA. (Ans. (a) N = 65, (b) N = 35) nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1287 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1287 Again, Figure 17.26 shows the TTL circuit with N identical load circuits and the inputs in their low state. The input transistor is biased in saturation, and both Q2 and Qo are cutoff, causing base voltage vB3 and the output voltage to go high. The input transistors of the load circuits are biased in the inverse-active mode, and the load currents are supplied through Q3 and D1. In this circuit, the input transistors of the load gates are one-input NAND (inverter) gates, to illustrate the worst-case or maximum load current under the high input condition. Since the load current is supplied through Q3, a base current into Q3 must be supplied from VCC through R2. As the load current increases, the base current through R2 increases, which means that voltage vB3 decreases because of the voltage drop across R2. Assuming the BE voltage of Q3 and the diode voltage across D1 remain essentially constant, the output voltage vO decreases from its maximum value. A reasonable fanout of 10 or 15 for the high output condition means that the load current will be small, base current iB3 will be very small, and the voltage drop across R2 will be negligible. The output voltage will then be approximately two diode drops below VCC . For typical TTL circuits, the logic 1 = VO H value is on the order of 3.6 V, rather than the 5 V previously determined. Modified Totem-Pole Output Stage Figure 17.27 shows a modified totem-pole output stage in which transistor Q4 is used in place of a diode. This has several advantages. First, the transistor pair Q3 and Q4 provides greater current gain, which in turn increases the fanout capability of this circuit in its high state. Second, the output impedance in the high state is lower than that of the single transistor, decreasing the switching time. Third, the base–emitter junction of Q3 fulfills the function of diode D1; therefore, the diode is no longer needed to provide a voltage offset. In integrated circuits, the fabrication of transistors is no more complex than the fabrication of diodes. When the output is switched to its low state, resistor R4 provides a path to ground for the minority carriers that must be pulled out of the base of Q3 to turn the transistor VCC = 5.0 V R3 = R2 = 130 Ω 1.6 kΩ R1 = 4.0 kΩ Q4 Q3 v QR4 = X Q1 2 4.0 kΩ v v O Y Qo RB = 1.0 kΩ Figure 17.27 TTL circuit with modified totem-pole output stage nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1288 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1288 Part 3 Digital Electronics off. Note that when the output is low, with Q2 and Qo in saturation, the voltage at the base of Q4 is approximately 0.9 V, which is sufficient to bias Q4 in its active region. However, the voltage at the emitter of Q4 is only approximately 0.2 V, which means that the current in Q4 is very small and does not add significantly to the power dissipation. 17.3.5 Tristate Output The output impedances of the totem-pole output TTL logic circuits considered thus far are extremely low when the output voltage is in either the high or low state. In memory circuit applications, situations arise in which the outputs of many TTL circuits must be connected together to form a single output. This creates a serious loading situation, demanding that all other TTL outputs be disabled or put into a high impedance state, as shown symbolically in Figure 17.28. Here, G1 and G3 are disconnected from the output; the output voltage vO then measures only the output of logic gate G2. VCC = 5.0 V R3 R2 R1 Q4 Q3 vO1 S1 vX Q1 Q2 R G 4 1 v v O Y vO2 SQ G 2 o 2 vO RB D – 2 vO3 S G 3 D 3 Figure 17.28 Circuit symbolically Figure 17.29 TTL circuit with tristate output stage showing tristate output The TTL circuit in Figure 17.29 maybe used to put the logic output into a high impedance state. When D̄ = 5 V, the state of input transistor Q1 is controlled by inputs vX and vY . Under these circumstances, diode D2 is always reverse biased and the circuit function is the NAND function already considered. When D̄ is driven to a logic 0 state of 0.1 V, the low voltage at the emitter of Q1 ensures that both Q2 and Qo are cutoff, and the low voltage applied to D2 means that D2 is forward biased. The voltage at the base of Q4 is approximately 0.8 V, which means that Q3 is also cutoff. In this condition, then, both output transistors Q3 and Qo are cutoff. The impedance looking back into transistors that are cutoff is normally in the megohm range. Therefore, when TTL circuits are paralleled to increase the capability of a digital system, the tristate output stage is either enabled or disabled via the D̄ select line. The output stage on only one TTL circuit maybe enabled at anyone time. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1289 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1289 Test Your Understanding TYU 17.5 The DTL circuit in Figure 17.20 has new circuit parameters of R1 = 15 k, RC = 6 k, and RB = 15 k. Assume β = 30 for the transistor. Determine i1, i2, iR , iB , iRC , and vO for: (a) vX = vY = 0.1 V; (b) vX = 5 V, vY = 0.1 V; and (c) vX = vY = 5 V. (Ans. (a) i1 = 0.28 mA, i2 = iR = iB = iRC = 0, vO = 5 V; (b) Same as part (a); (c) i1 = i2 = 0.1867 mA, iR = 0.0533 mA, iB = 0.1334 mA, iRC = 0.8167 mA, vO = 0.1 V) TYU 17.6 For the basic DTL logic circuit in Figure 17.20, the parameters are the same as given in Exercise TYU 17.5. (a) Calculate the maximum fanout for the low output condition such that Qo remains in saturation. (b) Repeat part (a) for the condition that the maximum rated collector current is IC,max = 12 mA. (Ans. (a) N = 9, (b) N = 9) TYU 17.7 Consider the TTL circuit shown in Figure 17.24 with parameters as given in Exercise Ex 17.9. Calculate the maximum fanout for the low output. For the low output condition, assume that the output transistor must remain in saturation. (Ans. N = 63) TYU 17.8 For the tristate TTL circuit in Figure 17.29, the parameters are: R1 = 6 k, R2 = 2 k, R3 = 100 , R4 = 4 k, and RB = 1 k. Assume that βF ≡ β = 20 and βR = 0.1 (for each input emitter). For D̄ = 0.1 V, calculate the base and collector currents in each transistor. (Ans. iB1 = 0.683 mA, |iC1| = iB2 = iC2 = iBo = iCo = 0, iB4 = 1.19 μA, iC4 = 23.8 μA, iB3 = iC3 = 0) 17.4 SCHOTTKY TRANSISTOR–TRANSISTOR LOGIC Objective: • Analyze and design Schottky and low-power Schottky transistor–transistor logic circuits The TTL circuits considered thus far drive the output and phase-splitter transistors between cutoff in the high output state and saturation in the low output state. The input transistor is driven between saturation and the inverse-active mode. Since the propagation delay time of a TTL gate is a strong function of the storage time of the saturation transistors, a nonsaturation logic circuit would be an advantage. In the Schottky clamped transistor, the transistor is prevented from being driven into deep saturation and has a storage time of only approximately 50 ps. 17.4.1 Schottky Clamped Transistor The symbol for the Schottky clamped transistor, or simply the Schottky transistor, is shown in Figure 17.30(a); its equivalent configuration is given in Figure 17.30(b). In this transistor, a Schottky diode is connected between the base and collector of an npn bipolar transistor. Two characteristics of the Schottky diode are: a low turn-on voltage and a fast-switching time. When the transistor is in its active region, the base– collector junction is reverse biased, which means that the Schottky diode is reverse biased and effectively out of the circuit. The Schottky transistor then behaves like a normal npn bipolar transistor. As the Schottky transistor goes into saturation, the"
17.4 Schottky Transistor–Transistor Logic,"17.4 SCHOTTKY TRANSISTOR–TRANSISTOR LOGIC Objective: • Analyze and design Schottky and low-power Schottky transistor–transistor logic circuits The TTL circuits considered thus far drive the output and phase-splitter transistors between cutoff in the high output state and saturation in the low output state. The input transistor is driven between saturation and the inverse-active mode. Since the propagation delay time of a TTL gate is a strong function of the storage time of the saturation transistors, a nonsaturation logic circuit would be an advantage. In the Schottky clamped transistor, the transistor is prevented from being driven into deep saturation and has a storage time of only approximately 50 ps. 17.4.1 Schottky Clamped Transistor The symbol for the Schottky clamped transistor, or simply the Schottky transistor, is shown in Figure 17.30(a); its equivalent configuration is given in Figure 17.30(b). In this transistor, a Schottky diode is connected between the base and collector of an npn bipolar transistor. Two characteristics of the Schottky diode are: a low turn-on voltage and a fast-switching time. When the transistor is in its active region, the base– collector junction is reverse biased, which means that the Schottky diode is reverse biased and effectively out of the circuit. The Schottky transistor then behaves like a normal npn bipolar transistor. As the Schottky transistor goes into saturation, the nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1290 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1290 Part 3 Digital Electronics CC BB E E (a) (b) Figure 17.30 (a) Schottky clamped transistor symbol and (b) Schottky clamped transistor equivalent circuit base–collector junction becomes forward biased, and the base–collector voltage is effectively clamped at the Schottky diode turn-on voltage, which is normally between 0.3 and 0.4 V. The excess base current is shunted through the diode, and the basic npn transistor is prevented from going deeply into saturation. Figure 17.31 shows the equivalent circuit of the Schottky transistor with desig- v + Di – C nated currents and voltages. Currents iC and iB are the collector and base currents, i ′ respectively, of the Schottky transistor, while i ′ C and i ′ Bare the collector and base iD C + currents, respectively, of the internal npn transistor. v + CE The three defining equations for the Schottky transistor are iB iB′ – vBE – i ′ C = iD + iC (17.18) i ′ B = iB + iD (17.19) Figure 17.31 Schottky and clamped transistor equivalent circuit, with currents and i ′ C = βi ′ B (17.20) voltages Equation (17.20) is appropriate since the internal transistor is clamped at the edge of saturation. If iC < βiB , then the Schottky diode is forward biased, iD > 0, and the Schottky transistor is said to be in saturation. However, the internal transistor is only driven to the edge of saturation in this case. Combining Equations (17.19) and (17.20), we find that i ′ i ′ CD = iB − iB = iB − (17.21) β Substituting this equation into Equation (17.18) yields i ′ i ′ C = iB − C + iC (17.22(a)) β or i + ii ′ BC C = + (17.22(b)) 1 (1/β) Equation (17.22(b)) relates the internal transistor collector current to the external Schottky transistor collector and base currents. EXAMPLE 17.11 Objective: Determine the currents in a Schottky transistor. Consider the Schottky transistor in Figure 17.31 with an input base current of iB = 1 mA. Assume that β = 25. Determine the internal currents in the Schottky transistor for iC = 2 mA, and then for iC = 20 mA. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1291 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1291 Solution: For iC = 2 mA, the internal collector current is, from Equation (17.22(b)), ′ = 1 + 2 iC + = 2.885 mA 1 (1/25) and the internal base current is ′ i ′ = iC = 2.885 B = 0.115 mA β 25 The Schottky diode current is therefore i ′ D = iB − iB = 1 − 0.115 = 0.885 mA Repeating the calculations for iC = 20 mA, we obtain i ′ C = 20.2 mA i ′ B = 0.808 mA iD = 0.192 mA Comment: For a relatively small collector current into the Schottky transistor, the majority of the input base current is shunted through the Schottky diode. As the collector current into the Schottky transistor increases, less current is shunted through the Schottky diode and more current flows into the base of the npn transistor. V = 5 V EXERCISE PROBLEM CC Ex 17.11: Consider the Schottky clamped transistor in Figure 17.32. Assume RC = 2.25 kΩ β = 15, VB E(on) = 0.7 V and Vγ (SD) = 0.3 V. (a) For no load, iL = 0, find the currents iD, i ′ B , and i ′ C . (b) Repeat part (a) for a load current of iL = 10 mA. (c) De- ′ termine the maximum load current iL that the load transistor can sink and still remain ii DC iL at the edge of saturation. (Ans. (a) i ′ C = 3.791 mA, i ′ B = 0.253 mA, iD = 1.747 mA; (b) i ′ C = 13.166 mA, i ′ B = 0.878 mA, iD = 1.122 mA; (c) iL ∼= 28 mA) iB = 2 mA iB′ Since the internal npn bipolar transistor is not driven deeply into saturation, we Figure 17.32 Figure for assume that the BE junction voltage remains equal to the turn-on voltage, or vB E = Exercise Ex 17.11 VB E(on). If the Schottky transistor is biased in saturation, then the CE voltage is vC E = VC E(sat) = VB E(on) − Vγ (SD) (17.23) where Vγ (SD) is the turn-on voltage of the Schottky diode. Assuming parameter values of VB E(on) = 0.7 V and Vγ (SD) = 0.3 V, the collector–emitter saturation voltage of a Schottky transistor is VC E(sat) = 0.4 V. When the Schottky transistor is at the edge of saturation, then iD = 0, iC = βiB , and vC E = VC E(sat). 17.4.2 Schottky TTL NAND Circuit Figure 17.33 shows a Schottky TTL NAND circuit in which all of the transistors except Q3 are Schottky clamped transistors. The connection of Q4 across the base–collector of Q3 prevents this junction from becoming forward biased, ensuring that Q3 never goes into saturation. Another difference between this circuit and the standard TTL circuit is that the pull-down resistor at the base of output transistor Qo has been replaced by transistor Q5 and two resistors. This arrangement is called a nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1292 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1292 Part 3 Digital Electronics VCC = 5 V R3 = 55 Ω R2 = 760 Ω R1 = Q 2.8 kΩ 4 Q3 R4 = 3.5 kΩ v Q O vX 1 Q2 vY Qo RR = 6 = 5 350 Ω 370 Ω Q5 Figure 17.33 Schottky TTL NAND logic circuit squaring network, since it squares, or sharpens, the voltage transfer characteristics of the circuit. Device Q2 is prevented from conducting until the input voltage is large enough to turn on both Q2 and Qo simultaneously. Recall that the passive pull-down resistor on the TTL circuit provided a pathway for removing stored charge in the base of the output transistor, when the output transistor was turned off from the saturated state. Transistor Q5 now provides an active pull-down network that pulls Qo out of saturation more quickly. This is one example of a circuit in which the piecewise linear model of a transistor fails to provide an adequate solution for the circuit analysis. With the piecewise linear model, Q5 would apparently never turn on. However, because of the exponential relationship between collector current and base-emitter voltage, transistor Q5 does turn on and does help pull Qo out of saturation during switching. The two Schottky diodes between the input terminals and ground act as clamps to suppress any ringing that might occur from voltage transitions. The input diodes clamp any negative undershoots at approximately −0.3 V. The dc current–voltage analysis of the Schottky TTL circuit in Figure 17.33 is similar to that for the standard TTL circuit. One minor difference is that when the inputs are high and the input transistor is in the inverse-active mode, the BC forward bias voltage is 0.3 V, because of the Schottky diode connected between the base and collector junctions. The major difference between the Schottky circuit and standard TTL circuits is the quantity of excess minority carrier storage in the transistors when they are driven into or near saturation. The internal npn transistor of the Schottky clamped transistor is held at the edge of saturation, and the resulting propagation delay time is on the order of 2 to 5 ns, compared to a nominal 10 to 15 ns for standard TTL circuits. A slight difference between the Schottky and standard TTL circuits is the value of the output voltage in the logic 0 state. The low output voltage of a standard TTL circuit is in the range of 0.1 to 0.2 V, while the Schottky transistor low output nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1293 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1293 saturation voltage, VOL , is approximately 0.4 V. The output voltage in the logic 1 state is essentially the same for both types of logic circuits. 17.4.3 Low-Power Schottky TTL Circuits The Schottky TTL circuit in Figure 17.33 and the standard TTL circuit dissipate approximately the same power, since voltage and resistance values in the two circuits are similar. The advantage of the Schottky TTL circuit is the reduction in propagation delay time by a factor of 3 to 10. Propagation delay times depend on the type of transistors (Schottky clamped or regular) used in the circuit, and on the current levels in the circuit. The storage time of a regular transistor is a function of the reverse base current that pulls the transistor out of saturation. Also, the transistor turn-on time depends on the current level charging the base–emitter junction capacitance. A desirable tradeoff can therefore be made between current levels (power dissipation) and propagation delay times. Smaller current levels lead to lower power dissipation, but at the expense of increased propagation delay times. This tradeoff has been successful in commercial applications, where very short propagation delay times are not always necessary, but reduced power requirements are always an advantage. A low-power Schottky TTL NAND circuit is shown in Figure 17.34. With few exceptions, these circuits do not use the multiemitter input transistor of standard TTL circuits. Most low-power Schottky circuits use a DTL type of input circuit, with Schottky diodes performing the AND function. This circuit is faster than the classic multiemitter input transistor circuit, and the input breakdown voltage is also higher. The dc analysis of the low-power Schottky circuit is identical to that of DTL circuits. VCC = 5 Vi R3 = 3 120 Ω i R2 = 8.0 kΩ i R 2 1 = 1 20 kΩ Q4 D3 vX Q3 DD 5 1 R4 = 4.0 kΩ vC2 DD 4 6 v vY Q O 2 v1 v D BO 2 Qo R6 = R5 = 1.5 kΩ 3.0 kΩ Q5 Figure 17.34 Low-power Schottky TTL NAND logic circuit nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1294 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1294 Part 3 Digital Electronics EXAMPLE 17.12 Objective: Calculate the power dissipation in a low-power Schottky TTL circuit. Consider the circuit shown in Figure 17.34. Assume the Schottky diode turn-on voltage is Vγ (SD) = 0.3 V and the transistor parameters are: VB E(on) = 0.7 V, VC E(sat) = 0.4 V, and β = 25. Solution: For the low input condition, vX = vY = 0.4 V and v1 = 0.4 + 0.3 = 0.7 V. Current i1 is V − v 5 − 0.7 i = CC 1 1 = = 0.215 mA R1 20 Since Q2 and Qo are cutoff with a no-load condition, all other currents in the circuit are zero. The power dissipation for the low input condition is therefore PL = i1(VCC − vX ) = (0.215) · (5 − 0.4) = 0.989 mW For the high input condition, vX = vY = 3.6 V, voltage v1 is v1 = VB E(on)Qo + VB E(on)Q2 = 0.7 + 0.7 = 1.4 V and voltage vC2 is vC2 = VB E(on)Qo + VC E(sat)Q2 = 0.7 + 0.4 = 1.1 V The currents are then = VCC − v1 = 5 − 1.4 i1 = 0.18 mA R1 20 and = VCC − vC2 = 5 − 1.1 i2 = 0.488 mA R2 8 When vC2 = 1.1 V and vO = 0.4 V, transistor Q4 is at the edge of turn-on, however, since there is no voltage drop across R4, Q4 has negligible emitter current. For a no-load condition, all other currents are zero. Therefore, the power dissipation for the high input condition is PH = (i1 + i2)VCC = (0.18 + 0.488) · 5 = 3.34 mW Comment: The power dissipation in this low-power Schottky TTL circuit is approximately a factor of five smaller than in the Schottky or standard TTL logic gates. The propagation delay time in the low-power Schottky circuit is approximately 10 ns, which compares closely with the propagation delay time for a standard TTL circuit. EXERCISE PROBLEM Ex 17.12: Assume the low-power Schottky TTL circuit in Figure 17.34 is redesigned such that R1 = 40 k and R2 = 12 k, and all other circuit parameters remain the same. The transistor and diode parameters are: VB E(on) = 0.7 V, VC E(sat) = 0.4 V, β = 25, and Vγ (SD) = 0.3 V. Assuming no load, determine the base and collector currents in each transistor, and the power dissipation in the gate, for: (a) vX = vY = 0.4 V, and (b) vX = vY = 3.6 V. (Ans. (a) iB2 = iC2 = iBo = iCo = iB5 = iC5 = 0, iB3 = iC3 = iB4 = iC4 = 0, P = 495 μW (b) iB2 = 90 μA, iC2 = 325 μA, iB4 = iC4 = iB3 = iC3 = 0, iB ∼= iC ∼ 5 5 = 0, iBo = 415 μA, iCo = 0, P = 2.08 mW) nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1295 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1295 Diodes D5 and D6 are called speedup diodes. As we showed in the dc analysis, these diodes are reverse biased when the inputs are in either a static logic 0 or a logic 1 mode. When at least one input is in a logic 0 state, the output is high, and Q3 and Q4 tend to turn on, supplying any necessary load current. When both inputs are switched to their logic 1 state, Q2 turns on and vC2 decreases, forward biasing D5 and D6. Diode D5 helps to pull charge out of the base of Q3, turning this transistor off more rapidly. Diode D6 helps discharge the load capacitance, which means that output voltage vO switches low more rapidly. 17.4.4 Advanced Schottky TTL Circuits The advanced low-power Schottky circuit possesses the lowest speed–power product with a propagation delay time short enough to accommodate a large number of digital applications, while still maintaining the low power dissipation of the low-power Schottky family of logic circuits. The major modification lies in the design of the input circuitry. Consider the circuit shown in Figure 17.35. The input circuit contains a pnp transistor Q1, a current amplification transistor Q2, and a Schottky diode D2 from the base of Q3 to the input. Diode D2 provides a low-impedance path to ground when the input makes a high-to-low transition. This enhances the inverter switching time. The current driver transistor Q1 provides a faster transition when the input goes from low to high than if a Schottky diode input stage were used. Transistor Q1 provides the switch element that steers current from R1 either to Q2 or the input source. When vX = 0.4 V, the E–B junction of Q1 is forward biased, and Q1 is biased in its active region. The base voltage of Q2 is approximately 1.1 V; Q2, Q3, and Q5 are cutoff; and the output voltage goes high. Most of the current through R1 goes to ground through Q1, so very little current sinking is required of the driver output transistor. When VCC = 5 V R7 = 50 Ω R3 = 15 kΩ R2 = R1 = 50 kΩ 40 kΩ Q6 Q7 R4 = 4.0 kΩ Q2 D Q 3 v 1 X Q3 vO DD 2 1 Q D4 5 R = R5 = 6 6.0 kΩ 3.0 kΩ Q4 Figure 17.35 Advanced low-power Schottky (ALS) inverter gate nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1296 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1296 Part 3 Digital Electronics vX = 3.6 V, transistors Q2, Q3, and Q5 turn on, the voltage at the base of Q2 is clamped at approximately 2.1 V, the E–B junction of Q1 is reverse biased, and Q1 is cutoff. With fast switching circuits, inductances, capacitances, and signal delays may introduce problems requiring the use of transmission line theory. Clamping diodes D1 and D4 at the input and output terminals clamp any negative-going switching transients that result from ringing signals on the interconnect lines. Test Your Understanding TYU 17.9 In the Schottky TTL NAND circuit in Figure 17.33, assume βF ≡ β = 25 and βR = 0. For a no-load condition, calculate the power dissipation for: (a) vX = vY = 0.4 V, and (b) vX = vY = 3.6 V. (Ans. P = 6.41 mW (b) P = 31.4 mW) TYU 17.10 Consider the advanced low-power Schottky circuit in Figure 17.35. Determine the currents in R1 and R2 for (a) vX = 0.4 V and (b) vX = 3.6 V. (Ans. (a) iR1 = 97.5 μA, iR2 = 0; (b) iR1 = 72.5 μA, iR2 = 64 μA) TYU 17.11 Let VCC = 3.5 V for the advanced low-power Schottky circuit in Figure 17.35. Determine the currents in R1 and R2 for (a) vX = 0.4 V and (b) vX = 2.1 V. (Ans. (a) iR1 = 60 μA, iR2 = 0; (b) iR1 = 35 μA, iR2 = 34 μA) 17.5 BiCMOS DIGITAL CIRCUITS Objective: • Analyze BiCMOS digital logic circuits As we have discussed previously, BiCMOS technology combines bipolar and CMOS circuits on one IC chip. This technology combines the high-input-impedance, low- power characteristics of CMOS with the high-current drive characteristics of bipolar circuits. If the CMOS circuit has to drive a few other similar CMOS logic circuits, the current drive capability is not a problem. However, if a circuit has to drive a relatively large capacitive load, bipolar circuits are preferable because of the relatively large transconductance of BJTs. We consider a BiCMOS inverter circuit and then a simple example of a BiCMOS digital circuit. This section is intended only to introduce this technology. 17.5.1 BiCMOS Inverter Several BiCMOS inverter configurations have been proposed. In each case, npn bipolar transistors are used as output devices and are driven by a quasi-CMOS inverter configuration. The simplest BiCMOS inverter is shown in Figure 17.36(a). The output stage of the npn transistors is similar to the totem-pole output stage of the TTL circuits that were considered in Section 17.3. When the input voltage vI of the BiCMOS inverter in Figure 17.36(a) is low, the transistors MN and Q2 are cutoff. The transistor MP is turned on and provides base current to Q1 so that Q1 turns on and supplies current to the load capacitance. The load capacitance charges and the output voltage goes high. As the output voltage goes high, the output current will normally become very small, so that MP is driven"
17.5 BiCMOS Digital Circuits,"17.5 BiCMOS DIGITAL CIRCUITS Objective: • Analyze BiCMOS digital logic circuits As we have discussed previously, BiCMOS technology combines bipolar and CMOS circuits on one IC chip. This technology combines the high-input-impedance, low- power characteristics of CMOS with the high-current drive characteristics of bipolar circuits. If the CMOS circuit has to drive a few other similar CMOS logic circuits, the current drive capability is not a problem. However, if a circuit has to drive a relatively large capacitive load, bipolar circuits are preferable because of the relatively large transconductance of BJTs. We consider a BiCMOS inverter circuit and then a simple example of a BiCMOS digital circuit. This section is intended only to introduce this technology. 17.5.1 BiCMOS Inverter Several BiCMOS inverter configurations have been proposed. In each case, npn bipolar transistors are used as output devices and are driven by a quasi-CMOS inverter configuration. The simplest BiCMOS inverter is shown in Figure 17.36(a). The output stage of the npn transistors is similar to the totem-pole output stage of the TTL circuits that were considered in Section 17.3. When the input voltage vI of the BiCMOS inverter in Figure 17.36(a) is low, the transistors MN and Q2 are cutoff. The transistor MP is turned on and provides base current to Q1 so that Q1 turns on and supplies current to the load capacitance. The load capacitance charges and the output voltage goes high. As the output voltage goes high, the output current will normally become very small, so that MP is driven nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1297 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1297 VDD VDD MP MP Q1 Q1 vI vI R1 vO vO MN MN Q2 Q2 R2 (a) (b) Figure 17.36 (a) Basic BiCMOS inverter. (b) Improved version of BiCMOS inverter. into its nonsaturation region and the drain-to-source voltage will become essentially zero. The transistor Q1 will essentially cutoff and the output voltage will charge to a maximum value of approximately vO(max) = VDD − VB E(on). When the input voltage vI goes high, MP turns off, eliminating any bias current to Q1, so Q1 is also off. The two transistors MN and Q2 turn on and provide a discharge path for the load capacitance so the output voltage goes low. In steady state, the load current will normally be very small, so MN will be biased in the nonsaturation region. The drain-to-source voltage will become essentially zero. The transistor Q2 will be essentially off and the output voltage will discharge to a minimum value of approximately vO(min) ∼= VB E(on). One serious disadvantage of the inverter in Figure 17.36(a) is that there is no path through which base charge from the npn transistors can be removed when they are turning off. Thus, the turnoff time of the two npn transistors can be relatively long. A solution to this problem is to include pull-down resistors, as shown in the circuit in Figure 17.36(b). Now, when the npn transistors are being turned off, the stored base charge can be removed to ground through R1 or R2. An added advantage of this circuit is, that when vI goes high and the output goes low, the very small output current through MN and R2 means the output voltage is pulled to ground potential. Also, as vI goes low and the output goes high, the very small load current means that the output is pulled up to essentially VDD through the resistor R1. We may note that the two npn output transistors are never on at the same time. Other circuit designs incorporate other transistors that aid in turning transistors off and increasing switching speed. However, these two examples have demonstrated the basic principle used in BiCMOS inverter circuit designs. 17.5.2 BiCMOS Logic Circuit In BiCMOS logic circuits, the logic function is implemented by the CMOS portion of the circuit and the bipolar transistors again act as a buffered output stage providing the nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1298 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1298 Part 3 Digital Electronics VDD AB Q1 R1 vO AB Q2 R2 Figure 17.37 Two-input BiCMOS NOR circuit necessary current drive. One example of a BiCMOS logic circuit is shown in Figure 17.37. This is a two-input NOR gate. As seen in the figure, the CMOS configuration is the same as the basic CMOS NOR logic gate considered previously. The two npn output transistors and the R1 and R2 resistors have the same configuration and purpose as was seen in the BiCMOS inverter. Other BiCMOS logic circuits are designed in a manner similar to that shown for the BiCMOS NOR gate. 17.6 DESIGN APPLICATION: A STATIC ECL GATE Objective: • Design a static ECL gate to implement a specific logic function. Specifications: A static ECL gate is to be designed to implement the logic function Y = (A + B)(C + D). The circuit is to be designed using constant current sources and the total power dissipation is to be no more than approximately 1 mw. Design Approach: A modified static ECL gate with a Schottky diode similar to the circuit configuration in Figure 17.10 is to be designed. Choices: Inputs A, B, C, and Dare assumed to be available. Simple two-transistor current sources will be used."
17.6 Design Application: A Static ECL Gate,"17.6 DESIGN APPLICATION: A STATIC ECL GATE Objective: • Design a static ECL gate to implement a specific logic function. Specifications: A static ECL gate is to be designed to implement the logic function Y = (A + B)(C + D). The circuit is to be designed using constant current sources and the total power dissipation is to be no more than approximately 1 mw. Design Approach: A modified static ECL gate with a Schottky diode similar to the circuit configuration in Figure 17.10 is to be designed. Choices: Inputs A, B, C, and Dare assumed to be available. Simple two-transistor current sources will be used. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1299 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1299 Solution (Basic Configuration): The circuit in Figure 17.10 performs the OR logic function. To implement the AND logic function, we can effectively tie the outputs of two OR logic gates together. Figure 17.38 shows the logic gate configuration. We can show that the output Y is indeed the logic function desired. VCC = 1.7 V R1 R2 R3 D1 IREF VOA B QR1 QR2 DC VR IQ IQ IQ Figure 17.38 The static ECL gate for the design application Solution (DC Circuit Design): There are four basic currents in the circuit. Assuming that each bias current IQ is equal to the reference current IREF, then from the total power dissipation, we find PT = 1 = IT VCC = 4IQ(1.7) which yields IQ ∼= 0.15 mA From the reference current leg of the circuit, we have = VCC − VB E(on) = 1.7 − 0.7 R1 IREF 0.15 or R1 = 6.7 k When either of the reference transistors QR1 or QR2 is turned on, we would like the currents in R2 and D1 to be equal. Assuming the Schottky diode turn-on voltage to be Vγ = 0.4 V, we then find 0.4 R2 = = 5.3 k 0.075 The reference voltage is to beset at VR = 1.5 V (the average of the logic 0 and logic 1 output voltages). The resistance R3 is then found from = VCC − VR = 1.7 − 1.5 R3 = 1.3 k IQ 0.15 Comment: The entire circuit will be fabricated as an integrated circuit, so standard- valued resistors are not required in the design. nea80644_ch17_1255-1314.qxd 8/6/09 4:41 PM Page 1300 pmath DATA-DISK:Desktop Folder:untitled folder: 1300 Part 3 Digital Electronics 17.7 SUMMARY • This chapter presented the analysis and design of bipolar digital logic circuits, which were historically the first logic circuit technology used in digital systems. • Emitter-coupled logic (ECL) is used in specialized high-speed applications. The basic ECL gate has the same configuration as the differential amplifier, but transistors are switched between cutoff and the active region. Avoiding driving transistors into saturation keeps the propagation delay time to a minimum. • The classical ECL gate uses the diff-amp configuration in conjunction with emitter-follower output stages and a reference voltage circuit. Both NOR and OR outputs are available. • Modified ECL logic gates can be designed with reduced power dissipation. • The analysis of diode-transistor logic (DTL) circuits introduced saturating bipolar logic circuits and their characteristics. • The input transistor of the transistor–transistor logic (TTL) circuit is driven between saturation and the inverse active mode. This transistor reduces the switching time by quickly pulling charge out of the base of a saturated transistor. The totem-pole output stage was introduced in order to increase the switching speed of the output stage. • The Schottky clamped transistor has a Schottky diode between the base and collector of an npn transistor, thus preventing the transistor from being driven deep into saturation. The propagation delay time of Schottky TTL, then, is shorter than that of regular TTL. • Low-power Schottky TTL has the same basic configuration as the DTL circuit. Resistor values are increased so as to reduce the currents, which in turn reduce the power dissipated per circuit. • BiCMOS circuits incorporate the best characteristics of both the CMOS and bipolar technologies. One example is a basic CMOS inverter that drives a bipolar output stage. The high input impedance and low power dissipation of the CMOS design is coupled with the high current drive capability of a bipolar output stage. An example of a BiCMOS NOR logic circuit was considered. • As an application, a static ECL logic gate to implement a specific logic function was designed. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Analyze and design a basic ECL OR/NOR logic gate. ✓ Analyze and design modified, lower-power ECL logic gates. ✓ Describe the operation and characteristics of the input transistor of a TTL logic circuit. ✓ Analyze and design a TTL NAND logic gate. ✓ Describe the operation and characteristics of a Schottky transistor, and analyze and design a Schottky TTL logic circuit. ✓ Analyze and design low-power Schottky TTL circuits, and explain tradeoffs between power and switching speed. REVIEW QUESTIONS 1. Sketch the circuit configuration and discuss the operation of the basic ECL circuit. 2. Why must emitter-follower output stages be added to the diff-amp to make this circuit a practical logic gate?"
17.7 Summary,"17.7 SUMMARY • This chapter presented the analysis and design of bipolar digital logic circuits, which were historically the first logic circuit technology used in digital systems. • Emitter-coupled logic (ECL) is used in specialized high-speed applications. The basic ECL gate has the same configuration as the differential amplifier, but transistors are switched between cutoff and the active region. Avoiding driving transistors into saturation keeps the propagation delay time to a minimum. • The classical ECL gate uses the diff-amp configuration in conjunction with emitter-follower output stages and a reference voltage circuit. Both NOR and OR outputs are available. • Modified ECL logic gates can be designed with reduced power dissipation. • The analysis of diode-transistor logic (DTL) circuits introduced saturating bipolar logic circuits and their characteristics. • The input transistor of the transistor–transistor logic (TTL) circuit is driven between saturation and the inverse active mode. This transistor reduces the switching time by quickly pulling charge out of the base of a saturated transistor. The totem-pole output stage was introduced in order to increase the switching speed of the output stage. • The Schottky clamped transistor has a Schottky diode between the base and collector of an npn transistor, thus preventing the transistor from being driven deep into saturation. The propagation delay time of Schottky TTL, then, is shorter than that of regular TTL. • Low-power Schottky TTL has the same basic configuration as the DTL circuit. Resistor values are increased so as to reduce the currents, which in turn reduce the power dissipated per circuit. • BiCMOS circuits incorporate the best characteristics of both the CMOS and bipolar technologies. One example is a basic CMOS inverter that drives a bipolar output stage. The high input impedance and low power dissipation of the CMOS design is coupled with the high current drive capability of a bipolar output stage. An example of a BiCMOS NOR logic circuit was considered. • As an application, a static ECL logic gate to implement a specific logic function was designed. CHECKPOINT After studying this chapter, the reader should have the ability to: ✓ Analyze and design a basic ECL OR/NOR logic gate. ✓ Analyze and design modified, lower-power ECL logic gates. ✓ Describe the operation and characteristics of the input transistor of a TTL logic circuit. ✓ Analyze and design a TTL NAND logic gate. ✓ Describe the operation and characteristics of a Schottky transistor, and analyze and design a Schottky TTL logic circuit. ✓ Analyze and design low-power Schottky TTL circuits, and explain tradeoffs between power and switching speed. REVIEW QUESTIONS 1. Sketch the circuit configuration and discuss the operation of the basic ECL circuit. 2. Why must emitter-follower output stages be added to the diff-amp to make this circuit a practical logic gate? nea80644_ch17_1255-1314.qxd 8/6/09 4:41 PM Page 1301 pmath DATA-DISK:Desktop Folder:untitled folder: Chapter 17 Bipolar Digital Circuits 1301 3. Sketch a modified ECL circuit in which a Schottky diode is incorporated in the collector portion of the circuit. Explain the purpose of the Schottky diode. 4. Explain the concept of series gating for ECL circuits. What are the advantages of this configuration? 5. Sketch a diode–transistor NAND circuit and explain the operation of the circuit. Explain the concept of minimum β and the purpose of the pull-down resistor. 6. Explain the operation and purpose of the input transistor in a TTL circuit. 7. Sketch a basic TTL NAND circuit and explain its operation. 8. Sketch a totem-pole output stage and explain its operation and the advantages of incorporating this circuit in the TTL circuit. 9. Explain how maximum fanout can be based on maintaining the output transistor in saturation when the output is low. 10. Explain how maximum fanout can be based on a maximum rated collector current in the output transistor when the output is low. 11. Explain the operation of a Schottky clamped transistor. What are its advantages? 12. What is the primary advantage of a Schottky TTL NAND gate compared to a regular TTL NAND gate. 13. Sketch a low-power Schottky TTL NAND circuit. What are the primary differences between this circuit and the regular DTL circuit considered earlier in the chapter? 14. Sketch a basic BiCMOS inverter and explain its operation. Explain the advantages of this inverter compared to a simple CMOS inverter. PROBLEMS [Note: In the following ECL and modified ECL problems, assume VB E(on) = VE B(on) = 0.7 V and T = 300 K unless otherwise stated. For the TTL problems and Schottky TTL problems, assume transistor and diode parameters listed in Table 17.3. Also assume Vγ = 0.3 V for a Schottky diode.] Section 17.1 Emitter-Coupled Logic (ECL) 17.1 For the differential amplifier circuit in Figure P17.1, neglect the base currents. (a) Determine RC such that vO1 = vO2 = −0.2 V when v1 = −0.7 V. (b) Using the results of part (a), find vO1 and vO2 when (i) v1 = −1.0 V and (ii) v1 = −0.4 V. (c) Using the results of part (a), determine the power dissipated in the circuit for (i) v1 = −1.0 V and (ii) v1 = −0.4 V. RC RC v v O O2 1 v Q 1 1 Q V = 2 REF – 0.7 V IQ 0.2 mA V– = –1.8 V Figure P17.1"
Problems,"PROBLEMS [Note: In the following ECL and modified ECL problems, assume VB E(on) = VE B(on) = 0.7 V and T = 300 K unless otherwise stated. For the TTL problems and Schottky TTL problems, assume transistor and diode parameters listed in Table 17.3. Also assume Vγ = 0.3 V for a Schottky diode.] Section 17.1 Emitter-Coupled Logic (ECL) 17.1 For the differential amplifier circuit in Figure P17.1, neglect the base currents. (a) Determine RC such that vO1 = vO2 = −0.2 V when v1 = −0.7 V. (b) Using the results of part (a), find vO1 and vO2 when (i) v1 = −1.0 V and (ii) v1 = −0.4 V. (c) Using the results of part (a), determine the power dissipated in the circuit for (i) v1 = −1.0 V and (ii) v1 = −0.4 V. RC RC v v O O2 1 v Q 1 1 Q V = 2 REF – 0.7 V IQ 0.2 mA V– = –1.8 V Figure P17.1 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1302 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1302 Part 3 Digital Electronics 17.2 Neglect base currents in the circuit in Figure P17.2. (a) Determine RE and RC such that iE = 80 μA and vO1 = vO2 = −0.25 V when v1 = −1.0 V. (b) Using the results of part (a), determine vO1 and vO2 when (i) v1 = −1.3 V and (ii) v1 = −0.7 V. (c) Using the results of part (a), determine the power dissipation in the circuit for (i) v1 = −1.3 V and (ii) v1 = −0.7 V. +3 V RC RC RC1 RC2 vO1 vO2 iv C1 iC2 v v Q Q O1 1 2 V = O2 1 REF –1.0 V vI Q1 Q2 RE IQ = 0.5 mA iE V– = –2.5 V –3 V Figure P17.2 Figure P17.3 17.3 Neglect base currents in the circuit in Figure P17.3. (a) Determine the value of RC2 such that the minimum value of vO2 = 0. (b) Determine the value of RC1 such that vO1 = 1 V when vI = 1 V. (c) Determine the value of vI so iC2 = 0.40 mA and iC1 = 0.10 mA. 17.4 For the circuit in Figure P17.3, RC1 = RC2 = 1 k. Determine vO1 and vO2 for (a) vI = 0.5 V and (b) vI = −0.5 V. Neglect base currents. 17.5 Consider the circuit in Figure P17.5. (a) Determine RC2 such that v2 = −1 V when Q2 is on and Q1 is off. (b) For vin = −0.7, determine RC1 such that v1 = −1 V. (c) For vin = −0.7 V, find vO1 and vO2, and for vin = −1.7 V, find vO1 and vO2. (d) Find the power dissipated in the circuit for (i) vin = −0.7 V and for (ii) vin = −1.7 V. RC1 RC2 Q v1 v2 4 Q3 vO2 vin Q1 Q2 vR = –1.2 V vO1 R3 = R2 = 3 kΩ R = 3 kΩ E 2.5 kΩ –5.2 V Figure P17.5 nea80644_ch17_1255-1314.qxd 6/8/09 05:47 PM Page 1303 Aptara Inc. Chapter 17 Bipolar Digital Circuits 1303 17.6 Consider the ECL logic circuit in Figure P17.6. Neglect base currents. (a) Determine the reference voltage VR . (b) Find the logic 0 and logic 1 voltage values at each output vO1 and vO2. Assume that inputs vX and vY have the same values as the logic levels at vO1 and vO2. VCC = 3.7 V RC1 = RC2 = R3 = 0.21 kΩ 0.24 kΩ 0.67 kΩ Q3 Q4 vO1 Q2 Q1 QR VR v v O2 Y vX R1 = R2 = 1.7 kΩ RE = R4 = 1.7 kΩ 0.80 kΩ 1.33 kΩ Figure P17.6 17.7 Consider the circuit in Figure P17.7. (a) Determine R1 such that IREF = 0.20 mA. (b) Determine the values of R5 and R6 such that the maximum currents in Q5 and Q6 are 0.12 mA. (c) Consider A = B = 0. What is IQ? Using the results of part (a), find RC1 so that vO1 = −0.7 V. (d) Consider A = B = −0.7 V. What is IQ? Using the results of part (a), find RC1 so that vO2 = −0.7 V. V + = 0.7 V R1 RC1 RC2 Q6 IREF Q vO2 5 A Q1 B Q2 QR vO1 VR = IQ –0.35 V Q4 Q3 R5 R6 V – = –2.1 V Figure P17.7 17.8 Consider the circuit in Figure P17.8. Neglect base currents. Determine all resistor values such that the following specifications are satisfied: logic 1 = 0 V and logic 0 = −1.0 V; VR is the average of the logic 1 and logic 0 values; iE = 0.4 mA when QR is on; i1 = i2 = 0.4 mA; i3 = 0.8 mA when vOR = logic 1; and i4 = 0.8 mA when vNOR = logic 1. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1304 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1304 Part 3 Digital Electronics +0.7 V RC1 RC2 R1 Q +2.5 V 4 Q vNOR 3 RC1 RC2 vOR Q2 Q2 Q3 D1 vI Q1 QR VR R4 vO1 vI Q1 QR vO2 D V 2 R = 1.5 V R3 R5 RR2 R3 iE RE i2 i 2 1 i3 i4 RE –3 V Figure P17.8 Figure P17.9 17.9 In the ECL circuit in Figure P17.9, the outputs have a logic swing of 0.60 V, which is symmetrical about the reference voltage. Neglect base currents. The maximum emitter current for all transistors is 0.8 mA. Assume the input logic voltages vI are compatible with the output logic voltage. Determine all resistor values. 17.10 For the circuit in Figure P17.10, complete the following table. What logic function does the circuit perform? AB CD IE1 IE3 IE5 Y 0 0 0 0 5 V 0 0 0 5 V 0 5 V 0 5 V 5 V 5 V 5 V + 5 VIE5 2.5 kΩ A Q1 B Q2 Q4 D Q3 C Y Q5 Q6 IE1 18 kΩ 18 kΩ IE3 Figure P17.10 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1305 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1305 17.11 Consider the ECL circuit in Figure P17.11. The input voltages A and Bare compatible with the output voltages vO1 and vO2. (a) Determine the reference voltage VR . (b) Determine the logic 0 and logic 1 levels at the outputs vO1 and vO2. (c) Determine the voltage VE for A = B = logic 0 and for A = B = logic 1. (d) Determine the total power dissipated in the circuit for A = B = logic 0 and for A = B = logic 1. 2 kΩ 2 kΩ Q3 Q2 vO2 Ω v 1 k O1 Q1 A QB VR A QB QR 1.5 kΩ I = 1.5 kΩ I = 1 mA I = 1 mA 1 mA –5.2 V Figure P17.11 17.12 A positive-voltage-supply ECL logic gate is shown in Figure P17.12. Neglect base currents. (a) What logic function is performed by this circuit. (b) What are the logic 1 and logic 0 values of v2 at the output? (c) When v1 = logic 0 for one of the three inputs, determine iE1, iE2, iC3, iC2, and v2. (d) Repeat part (c) when v1 = logic 1 for all three inputs. +5 Vi RE2 E2 = 1.2 kΩ RE1 = iE1 2.6 kΩ Q2 Q3 +1.6 V + iC2 iC3 + V RC = 1 V 0.8 kΩ 2 Figure P17.12 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1306 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1306 Part 3 Digital Electronics Section 17.2 Modified ECL Circuit Configurations 17.13 In the circuit in Figure P17.13, the input voltages vX and vY are compatible with the output voltages vO1 and vO2. Neglect base currents. (a) Design an appropriate value of VR . State the reason for your selection. (b) Determine the value of RC1 such that, when Q1 is on, the current in RC1 is one-half that in D1. (c) Determine the value of RC2 such that, when Q2 is on, the current in RC2 is one-half that in D2. (d) Calculate the power dissipated in the circuit when vX = vY = logic 0. VCC = 3.5 VD1 RC1 RC2 D2 vX vO1 vY QY QX vO2 Q1 Q2 VR R1 = 8 kΩ RE = 12 kΩ Figure P17.13 17.14 Consider the circuit in Figure P17.14. Neglect base currents. (a) What are the logic 1 and logic 0 values at the output terminals vO1 and vO2?. (b) For vX = vY = logic 0, determine RE such that iE = 0.25 mA. (c) Using there- sults of part (b), determine R1 such that iD1 = 2iR1 when QR is conducting. (d) For vX = vY = logic 1 and R1 = R2, determine iE , iR2, and iD2. (e) For vX = logic 0 and vY = logic 1, calculate the power dissipation in the circuit. +0.9 V iD2 iD1 iR1 iR2 R2 R1 Q4 v Q O2 vX 3 vY Q2 Q1 QR vO1 R4 = 3.3 kΩ R3 = 3.3 kΩ iE RE –3.10 V Figure P17.14 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1307 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1307 17.15 For the circuit in Figure P17.15, assume transistor and diode parameters of VB E(on) = 0.7 V and Vγ = 0.4 V. Neglect base currents. Find i1, i2, i3, i4, iD , and vO for: (a) vX = vY = −0.4 V, (b) vX = 0, vY = −0.4 V, (c) vX = −0.4 V, vY = 0, (d) vX = vY = 0. i R1 = 2 Ω i 0.5 k D vO –0.2 V Q5 Q6 Q3 Q4 –0.2 V vX 15 kΩ i4 i3 15 kΩ –3 V –3 V vY Q1 Q2 –0.9 V 2 kΩ i1 1 kΩ –3 V –3 V Figure P17.15 17.16 Assume the inputs A, B, C , and D to the circuit in Figure P17.16 are either 0 or 2.5 V. Let the BE turn-on voltage be 0.7 V for both the npn and pnp transistors. Assume β = 150 for the npn devices and β = 90 for the pnp devices. (a) Determine the voltage at Y for: (i) A = B = C = D = 0; (ii) A = B = 0, C = D = 2.5 V; and (iii) A = C = 2.5 V, B = D = 0. (b) What logic function does this circuit implement? (c) Determine the power dissipated in the circuit for the conditions given in part (a). VDD = 2.5 VA Q1 B Q2 R = Q 1 4 D Q3 C 2 kΩ Q5 Y Q6 R2 = 15 kΩ R3 = 15 kΩ Figure P17.16 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1308 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1308 Part 3 Digital Electronics RR – RR Q Q vO1 D –0.2 VA Q1 B Q2 Q3 –0.2 V vO3 IDC 0.1 IDC 0.1 IDC –2 V –3 V –3 V R vO2 C Q D Q Q –0.2 V CLOCK –0.9 V 4 5 6 IDC 0.5 I IDC DC –2 V –3 V –3 V Figure P17.17 Figure P17.18 17.17 The input and output voltage levels for the circuit in Figure P17.17 are compatible. (a) What are the logic 0 and logic 1 voltage levels? (b) What are the logic functions implemented by this circuit at vO1, vO2, and vO3? 17.18 Consider the circuit in Figure P17.18. (a) Explain the operation of the circuit. Demonstrate that the circuit functions as a clocked D flip-flop. (b) Neglecting base currents, if iDC = 50 μA, calculate the maximum power dissipated in the circuit. Section 17.3 Transistor–Transistor Logic VCC = 2.5 V 17.19 Consider the DTL circuit shown in Figure P17.19. Assume β = 25. (a) Determine the values of i1, i2, i3, v1, and vO for (i) vI = 0.1 V and (ii) vI = 2.5 V. (b) Determine the values of vI and v1 at the point (i) where R1 = RC = QO just begins to conduct and (ii) where QO just goes into saturation. 12 kΩ 12 kΩ 17.20 Consider the circuit in Figure P17.20. Assume transistor and diode parame- i1 i3 vO ters: β = 25, Vγ = VB E(on) = 0.7 V, VB E(sat) = 0.8 V, and VC E(sat) = D1 D2 Q 0.1 V. Determine v1, i1, iB , iC , and vO for (a) vI = 0 and (b) vI = 3.3 V. vI O v1 i 17.21 In Figure P17.21, the transistor current gain is β = 20. Find the currents and 2 voltages i1, i ′ 3, i4, and v for the input conditions: (i) vX = vY = 0.10 V, and (ii) vX = vY = 5 V. Figure P17.19 17.22 Repeat Problem 17.21 for VCC = 3.3 V. Assume input conditions of (i) vX = vY = 0.1 V and (ii) vX = vY = 3.3 V. nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1309 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Chapter 17 Bipolar Digital Circuits 1309 V + = 3.3 V VCC = 5 Vi1 6 kΩ iC 4 kΩ i RC = 3 vi R = 8 kΩ 2.4 kΩ O 1 1 iB vO vI Di X D1 D2 4 v1 v ′ vX Q1 v 20 kΩ YD RB = 15 kΩ Y Figure P17.20 Figure P17.21 17.23 Figure P17.23 shows an improved version of the DTL circuit. One offset diode is replaced by transistor Q1, providing increased current drive to Qo. Assume β = 20 for both transistors. (a) For vX = vY = 5 V, determine the currents and voltages listed in the figure. (b) Calculate the maximum fanout for the low output condition. 17.24 Repeat Problem 17.23 for VCC = 3.3 V. Assume the input condition is vX = vY = 3.3 V. VCC = 5 V VCC = 5 Vi R1 = 1 1.75 kΩ i2 R2 = 2.0 kΩ R = 6 kΩ i R1 = i R = Ci C Co 1 4.0 kΩ 3 4.0 kΩ i2 R2 = i3 Di X B1 2 kΩ Q v D v OX v Xv 1 D iB2 vX Q O 1 2 1 i D Bo 1 vY Qo v Qo DY Y i4 RB = DY R i B = 5 10 kΩ 5 kΩ Figure P17.23 Figure P17.25 +5 V 17.25 For the modified DTL circuit in Figure P17.25, calculate the indicated currents in the figure for vX = vY = 5 V. iB RB = 6 kΩ 17.26 The transistor Q1 in Figure P17.26 has parameters β = 25, βR = 0.5, and VB E(on) = VBC(on) = 0.7 V. Find iB , iC , and iE for (a) vI = 0, (b) vI = 0.8 V, and (c) vI = 3.6 V. Q1 17.27 The parameters of the transistors in the circuit in Figure P17.27 are iE iC + + βF ≡ β = 25 and βR = 0.1. (a) Determine the values of i1, i2, iv 0.8 V 3, v1, and I – – vO for (i) vI = 0.1 V and (ii) vI = 2.5 V. (b) Determine the values of vI and v1 at the point (i) where Qo just begins to conduct and (ii) where Qo just goes into saturation. Figure P17.26 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1310 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1310 Part 3 Digital Electronics VCC = 5 Vi i VCC = 2.5 V R 2 i 1 = R2 = 3 1 6.0 kΩ 2.0 kΩ R3 = 2.2 kΩ iB2 R vX QR Q = 1 C = 2 v O 1 vi 12 kΩ 12 kΩ YB3 ii Q 1 3 3 vO QR = 1.5 kΩ 1 Bi4 v Q Io i2 Figure P17.27 Figure P17.28 17.28 For the transistors in the TTL circuit in Figure P17.28, the parameters are βF = 20 and βR = 0. (a) Determine the currents i1, i2, i3, i4, iB2, and iB3 for the following input conditions: (i) vX = vY = 0.1 V, and (ii) vX = vY = 5 V. (b) Show that for vX = vY = 5 V, transistors Q2 and Q3 are biased in saturation. 17.29 The circuit configuration shown in Figure P17.21 is redesigned such that VCC = 3.3 V, R1 = 16 k, RC = 6 k, and RB = 20 k. Let β = 50. (a) Determine i1, i3, i4, and v′ for (i) vX = 0.1 V, vY = 3.3 V and (ii) vX = vY = 3.3 V. (b) Calculate the maximum fanout for the output low condition such that Q1 remains biased in saturation. (c) Repeat part (b) if the maximum collector current is limited to 5 mA. 17.30 In the TTL circuit in Figure P17.30, the transistor parameters are βF = 20 and βR = 0.10 (for each input emitter). (a) Calculate the maximum fanout for vX = vY = 5 V. (b) Calculate the maximum fanout for vX = vY = 0.1 V. (Assume vO is allowed to decrease by 0.10 V from the no-load condition.) 17.31 For the TTL circuit in Figure P17.31, assume parameters of βF = 50, βR = 0.1, VB E(on) = 0.7 V, VB E(sat) = 0.8 V, and VC E(sat) = 0.1 V. (a) Determine iRB , iRC P , iBo, and Vout for (i) Vin = 0.1 V and (ii) Vin = 5 V. VCC = 5 V VCC = 5 V R3 = R2 = 80 Ω RCP 1 kΩ R1 = 2.0 kΩ RB 4 kΩ 6.0 kΩ Q4 VD Vin Q Q out v Q Q 1 IS X 1 2 v v YO Q Q O 3 RB = RD 1 kΩ 1.5 kΩ Figure P17.30 Figure P17.31 nea80644_ch17_1255-1314.qxd 6/8/09 05:47 PM Page 1311 Aptara Inc. Chapter 17 Bipolar Digital Circuits 1311 (b) For the case when five similar type load circuits are connected to the output, calculate the power dissipated in the circuit shown for (i) Vin = 0.1 V and (ii) Vin = 5 V. 17.32 Consider the basic TTL logic gate in Figure P17.32 with a fanout of 5. Assume transistor parameters of βF = 50 and βR = 0.5 (for each input emitter). Calculate the base and collector currents in each transistor for: (a) vX = vY = vZ = 0.1 V, and (b) vX = vY = vZ = 5 V. +2.8 V VCC = 5 V 0.9 kΩ +5 V R3 = R5 = 2 kΩ 130 Ω Q 2 kΩ 4 3.9 kΩ 2.0 kΩ 2.4 kΩ Q 0.5 kΩ 4 vX Q v 1 Q2 O v vX Q Y 1 Q D 2 v 1 O vZ v Q Y vO 3 vZ Q3 1.0 kΩ IL 0.8 kΩ Figure P17.32 Figure P17.33 Figure P17.34 17.33 Consider the portion of the totem-pole output stage shown in Figure P17.33. Let β = 50. (a) Determine vO for (i) IL = 5 μA, (ii) IL = 5 mA, and (iii) IL = 25 mA. (b) Determine IL if the output terminal is accidental shorted to ground. 17.34 For the transistors in the TTL circuit in Figure P17.34, the parameters are βF = 100 and βR = 0.3 (for each input emitter). (a) For vX = vY = vZ = 2.8 V, determine iB1, iB2, and iB3. (b) For vX = vY = vZ = 0.1 V, determine iB1 and iB4 for a fanout of 5. 17.35 A low-power TTL logic gate with an active pnp pull-up device is shown in Figure P17.35. The transistor parameters are βF = 100 and βR = 0.2 (for +2 V RB1 = 1 kΩ RB2 = 1 kΩ Q3 i iB3 B1 vO v Q X 1 Q2 v C Y 2 iv B2 Z Figure P17.35 nea80644_ch17_1255-1314.qxd 8/6/09 11:12 AM Page 1312 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1312 Part 3 Digital Electronics each input emitter). Assume a fanout of 5. (a) For vX = vY = vZ = 0.1 V, determine iB1, iB2, iB3, iC2, and iC3. (b) Repeat part (a) for vX = vY = vZ = 2 V. Section 17.4 Schottky Transistor–Transistor Logic 17.36 Consider the Schottky transistor circuit in Figure P17.36. Assume parameter values of β = 50, VB E(on) = 0.7 V, and Vγ = 0.3 V for the Schottky diode. (a) Determine IB , ID , IC , and VC E . (b) Remove the Schottky diode and repeat part (a) assuming additional parameter values of VB E(sat) = 0.8 V and VC E(sat) = 0.1 V. V+ = 1.5 V ID i1 1 kΩ iC 1.2 kΩ IC RC 1 kΩ vO iB v II B + v1 RS 10 kΩ VCC 5 V – + 20 kΩ VBB 5.8 V – Figure P17.36 Figure P17.37 17.37 Let β = 25 for the transistor in the circuit shown in Figure P17.37. (a) For no load, determine the parameters i1, iB , iC , v1, and vO when (i) vI = 0 and (ii) vI = 1.5 V. (b) Determine vI , v1, iB , and iC for the case (i) where the output transistor just begins to conduct and (ii) where the output transistor just goes into saturation. (c) Assume that N similar type load circuits are connected to the output. Determine the maximum number N such that the output transistor remains in saturation. 17.38 Consider the Schottky TTL circuit in Figure 17.33. The transistor parameters are βF = 30 and βR = 0.1 (for each emitter). (a) Determine all base currents, collector currents, and node voltages for vX = vY = 0.4 V. (b) Repeat part (a) for vX = vY = 3.6 V. 17.39 Consider the modified Schottky TTL NAND gate shown in Figure P17.39. The current gain of all transistors is β = 20. (a) Assume vX = vY = vZ = logic 1 and assume two similar type load circuits are connected to the output. The transistor Q2 is biased in saturation with iB2 = 0.1 mA and iC2 = 0.2 mA. Determine the values of RB1 and RC1. (b) Using the results of part (a), and assuming vX = 0.4 V and vY = vZ = 1.8 V, determine vB1, vB2, vO , and all base and collector currents. Assume two similar type load circuits are connected to the output. (c) Assume vX = vY = vZ = logic 1 and assume four similar type load circuits are connected to the output. Using the results of part (a), determine vB1, vB2, vO , and all base and collector currents. (d) Determine the maximum fanout for a low output state. 17.40 A low-power Schottky TTL logic circuit is shown in Figure P17.40. Assume a transistor current gain of β = 30 for all transistors. (a) Calculate the nea80644_ch17_1255-1314.qxd 6/8/09 06:49 PM Page 1313 Aptara Inc. Chapter 17 Bipolar Digital Circuits 1313 5 V 10 kΩ 45 Ω 10 kΩ 4.1 kΩ VCC = 2.5 V vX Q1 Q4 RC1 Q3 RB1 Q 10 kΩ 3 vO Q v v Y X 1 v Q O 2 vY Q Q5 2 vZ RB2 = 15 kΩ 4.0 kΩ 0.7 kΩ Figure P17.39 Figure P17.40 maximum fanout for vX = vY = 3.6 V. (b) Using the results of part (a), determine the power dissipated in the circuit for vX = vY = 3.6 V. 17.41 For all transistors in the circuit in Figure 17.35 in the text, the current gain is β = 50. (a) Calculate the power dissipation in the circuit when the input is at logic 0. (b) Repeat part (a) when the input is at logic 1. (c) Calculate the output short-circuit current. (Assume the input is a logic 0 and the output is inadvertently shorted to ground.) 17.42 Consider the circuit shown in Figure P17.42. Neglect base currents and assume VB E(on) = 0.7 V and Vγ = 0.3 V. (a) Determine iE for vX = vY = 3 V. (b) Determine iE and RC for vX = vY = 2.4 V such that vO = 2.4 V. (c) Using the results of parts (a) and (b), determine the power dissipated in the circuit for (i) vX = vY = 3 V and (ii) vX = vY = 2.4 V. VCC = 3 V RC vO v Q X QA vY QB R VR = 2.4 V RE = 2 kΩ iE Figure P17.42 nea80644_ch17_1255-1314.qxd 8/6/09 4:41 PM Page 1314 pmath DATA-DISK:Desktop Folder:untitled folder: 1314 Part 3 Digital Electronics Section 17.5 BiCMOS Digital Circuits 17.43 Consider the basic BiCMOS inverter in Figure 17.36(a) in the text. Assume circuit and transistor parameters of VDD = 5 V, K 2 n = Kp = 0.1 mA/V , VT N = +0.8 V, VT P = −0.8 V, and β = 50. (a) For vI = 2.5 V, determine the current in each transistor. (b) If the current calculated for Q1 were charging a 15 pF load capacitance, how long would it take to charge the capacitance from 0 to 5 V? (c) Repeat part (b) for the current in the transistor MP . 17.44 Repeat Problem 17.43 for the BiCMOS inverter shown in Figure 17.36(b). COMPUTER SIMULATION PROBLEMS 17.45 Using a computer simulation, generate the voltage transfer characteristics of the modified ECL logic gate shown in Figure 17.10. 17.46 Using a computer simulation, generate the voltage transfer characteristics of the basic DTL logic circuit shown in Figure 17.20. 17.47 Using a computer simulation, generate the voltage transfer characteristics of the advanced low-power Schottky inverter gate shown in Figure 17.35. 17.48 Using a computer simulation, generate the voltage transfer characteristics of the BiCMOS inverter shown in Figure 17.36(b). DESIGN PROBLEMS *D17.49 Design ECL series gating logic circuits, similar to the one shown in Figure 17.16, that will implement the logic functions (a) Y = [A · (B + C) + D] and (b) Y = [A · B + C · D]. *D17.50 Design a clocked D flip-flop, using a modified ECL circuit design, such that the output becomes valid on the negative-going edge of the clock signal. *D17.51 Design a low-power Schottky TTL exclusive-OR logic circuit. *D17.52 Design a TTL RS flip-flop. nea80644_appA_1315-1316.qxd 8/6/09 10:06 AM Page 1315 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Physical Constants APPEND IX and Conversion Factors A GENERAL CONSTANTS AND CONVERSION FACTORS Angstrom Å 1 Å = 10−4 μm = 10−8 cm = 10−10 m Boltzmann’s constant k k = 1.38 × 10−23 J/K = 8.6 × 10−5 eV/K Electron–volt eV 1 eV = 1.6 × 10−19 J Electronic charge e or q q = 1.6 × 10−19 C Micron μm 1 μm = 10−4 cm = 10−6 m Mil 1 mil = 0.001 in. = 25.4 μm Nanometer nm 1 nm = 10−9 m = 10−3 μm = 10 Å Permittivity of free space ε ε = 8.85 × 10−14 o o F/cm Permeability of free μo μo = 4π × 10−9 H/cm space Planck’s constant h h = 6.625 × 10−34 J–s Thermal voltage VT VT = kT/q ∼= 0.026 Vat 300 K Velocity of light inc c = 2.998 × 1010 cm/s free space SEMICONDUCTOR CONSTANTS Si Ge GaAs SiO2 Relative dielectric constant 11.7 16.0 13.1 3.9 Bandgap energy, Eg(eV) 1.1 0.66 1.4 Intrinsic carrier concentration, 1.5 × 1010 2.4 × 1013 1.8 × 106 ni (cm−3 at 300 K) 1315"
Appendix A: Physical Constants and Conversion Factors,"AL CONSTANTS AND CONVERSION FACTORS Angstrom Å 1 Å = 10−4 μm = 10−8 cm = 10−10 m Boltzmann’s constant k k = 1.38 × 10−23 J/K = 8.6 × 10−5 eV/K Electron–volt eV 1 eV = 1.6 × 10−19 J Electronic charge e or q q = 1.6 × 10−19 C Micron μm 1 μm = 10−4 cm = 10−6 m Mil 1 mil = 0.001 in. = 25.4 μm Nanometer nm 1 nm = 10−9 m = 10−3 μm = 10 Å Permittivity of free space ε ε = 8.85 × 10−14 o o F/cm Permeability of free μo μo = 4π × 10−9 H/cm space Planck’s constant h h = 6.625 × 10−34 J–s Thermal voltage VT VT = kT/q ∼= 0.026 Vat 300 K Velocity of light inc c = 2.998 × 1010 cm/s free space SEMICONDUCTOR CONSTANTS Si Ge GaAs SiO2 Relative dielectric constant 11.7 16.0 13.1 3.9 Bandgap energy, Eg(eV) 1.1 0.66 1.4 Intrinsic carrier concentration, 1.5 × 1010 2.4 × 1013 1.8 × 106 ni (cm−3 at 300 K) 1315 nea80644_appA_1315-1316.qxd 8/6/09 10:06 AM Page 1316 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1317 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Selected Manufacturers’ APPEND IX Data Sheets B This appendix contains data sheets representative of transistors and op-amps. This appendix is not meant as a substitute for the appropriate data books. In some cases, therefore, only selected information is presented. These data sheets are provided courtesy of National Semiconductor. CONTENTS 1. 2N2222 npn Bipolar transistor 2. 2N2907 pnp Bipolar transistor 3. NDS9410 n-Channel enhancement-mode MOSFET 4. LM741 Operational amplifier 1317"
Appendix B: Selected Manufacturers’ Data Sheets," Selected Manufacturers’ Data Sheets National Semiconductor 2N2222 PN2222 MMBT2222 MPQ2222 2N2222A PN2222A MMBT2222AC B 14 CE BE 1 CB E TO–18 TO–92 TO–236 TO–116 E B (SOT–23) C NPN General Purpose Amplifier Electrical Characteristics TA = 25 °C unless otherwise noted Symbol Parameter Min Max Units OFF CHARACTERISTICS V(BR)CEO Collector-Emitter Breakdown Voltage (Note 1) (IC = 10 mA, IB = 0) 2222 30 2222A 40 V V(BR)CBO Collector-Base Breakdown Voltage (IC = 10 mA, IE = 0) 2222 60 V 2222A 75 V(BR)EBO Emitter Base Breakdown Voltage (IE = 10 mA, IC = 0) 2222 5.0 2222AV 6.0 ICEX Collector Cutoff Current (VCE = 60 V, VEB (OFF) = 3.0 V) 2222A 10 nA ICBO Collector Cutoff Current (VCB = 50 V, IE = 0) 2222 0.01 (VCB = 60 V, IE = 0) 2222A 0.01 (VCB = 50 V, IE = 0, TA = 150 °C) mA 222 10 (VCB = 60 V, IE = 0, TA = 150 °C) 2222A 10 IEBO Emitter Cutoff Current (VEB = 3.0 V, IC = 0) 2222A 10 nA IBL Base Cutoff Current (VCE = 60 V, VEB (OFF) = 3.0) 2222A 20 nA ON CHARACTERISTICS hFE DC Current Gain (IC = 0.1 mA, VCE = 10 V) 35 (IC = 1.0 mA, VCE = 10 V) 50 (IC = 10 mA, VCE = 10 V) 75 (I 35 C = 10 mA, VCE = 10 V, TA = –55 °C) 100 300 (IC = 150 mA, VCE = 10 V) (Note 1) 50 (IC = 150 mA, VCE = 1.0 V) (Note 1) 2222 30 (IC = 500 mA, VCE = 10 V) (Note 1) 2222A 40 Note 1: Pulse Test: Pulse Width ≤ 300 ms, Duty Cycle ≤ 2.0%. 2N2222/PN2222/MMBT2222/MPQ2222/2N2222A/PN2222A/MMBT2222A NPN General Purpose Amplifier nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1319 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix B Selected Manufacturers’ Data Sheets 1319 NPN General Purpose Amplifier (Continued ) Electrical Characteristics TA = 25 °C unless otherwise noted (Continued ) Symbol Parameter Min Max Units ON CHARACTERISTICS (Continued ) VCE (sat) Collector-Emitter Saturation Voltage (Note 1) (IC = 150 mA, IB = 15 mA) 2222 0.4 (I = 500 mA, I = 50 mA) 2222A 0.3 CB 2222 1.6 V 2222A 1.0 VBE (sat) Base-Emitter Saturation Voltage (Note 1) (IC = 150 mA, IB = 15 mA) 2222 0.6 1.3 (IC = 500 mA, IB = 50 mA) 2222A 0.6 1.2 2222 2.6 V 2222A 2.0 SMALL-SIGNAL CHARACTERISTICS fT Current Gain—Bandwidth Product (Note 3) (IC = 20 mA, VCE = 20 V, f = 100 MHz) 2222 250 2222A 300 MHz Cobo Output Capacitance (Note 3) (VCB = 10 V, IE = 0, f = 100 kHz) 8.0 pF Cibo Input Capacitance (Note 3) (VEB = 0.5 V, IC = 0, f = 100 kHz) 2222 30 2222A 25 pF rb'CC Collector Base Time Constant (IE = 20 mA, VCB = 20 V, f = 31.8 MHz) 2222A 150 ps NF Noise Figure (IC = 100 mA, VCE = 10 V, RS = 1.0 kΩ, f = 1.0 kHz) 2222A 4.0 dB Re(hie) Real Part of Common-Emitter High Frequency Input Impedance (IC = 20 mA, VCE = 20 V, f = 300 MHz) 60 Ω SWITCHING CHARACTERISTICS tD Delay Time (VCC = 30 V, VBE(OFF) = 0.5 V, except 10 ns t IC = 150 mA, IB1 = 15 mA) MPQ2222 R Rise Time 25 ns tS Storage Time (VCC = 30 V, I 225 ns C = 150 mA, except tF Fall Time IB1 = IB2 = 15 mA) MPQ2222 60 ns Note 1: Pulse Test: Pulse Width <300 ms, Duty Cycle ≤ 2.0%. Note 2: For characteristics curves, see Process 19. Note 3: fT is defined as the frequency at which hfe extrapolates to unity. 2222/PN2222/MMBT2222/MPQ2222/2N2222A/PN2222A/MMBT2222A NPN General Purpose Amplifier nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1320 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1320 Appendix B Selected Manufacturers’ Data Sheets National Semiconductor 2N2907 PN2907 MMBT2907 MPQ2907 2N2907A PN2907A MMBT2907AC B 14 CE 1 E BC BE TO–18 TO–92 TO–236 TO–116 E B (SOT–23) C PNP General Purpose Amplifier Electrical Characteristics TA = 25 °C unless otherwise noted Symbol Parameter Min Max Units OFF CHARACTERISTICS V(BR)CEO Collector-Emitter Breakdown Voltage (Note 1) (IC = 10 mAdc, IB = 0) 2907 40 2907A 60 Vdc V(BR)CBO Collector-Base Breakdown Voltage (IC = 10 m Adc, IE = 0) 60 Vdc V(BR)EBO Emitter Base Breakdown Voltage (IE = 10 m Adc, IC = 0) 5.0 Vdc ICEX Collector Cutoff Current (VCE = 30 Vdc, VBE = 0.5 Vdc) 50 nAdc ICBO Collector Cutoff Current (VCB = 50 Vdc, IE = 0) 2907 0.020 2907A 0.010 (VCB = 50 Vdc, I mAdc E = 0, TA = 150 °C) 2907 20 2907A 10 IB Base Cutoff Current (VCE = 30 Vdc, VEB = 0.5 Vdc) 50 nAdc 2N2907/PN2907/MMBT2907/MPQ2907/2N2907A/PN2907A/MMBT2907A PNP General Purpose Amplifier nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1321 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix B Selected Manufacturers’ Data Sheets 1321 PNP General Purpose Amplifier (Continued ) Electrical Characteristics TA = 25 °C unless otherwise noted (Continued ) Symbol Parameter Min Max Units ON CHARACTERISTICS hFE DC Current Gain (IC = 0.1 mAdc, VCE = 10 Vdc) 2907 35 2907A 75 (IC = 1.0 mAdc, VCE = 10 Vdc) 2907 50 2907A 100 (IC = 10 mAdc, VCE = 10 Vdc) 2907 75 2907A 100 (IC = 150 mAdc, VCE = 10 Vdc) (Note 1) 100 300 (IC = 500 mAdc, VCE = 10 Vdc) (Note 1) 2907 30 2907A 50 VCE (sat) Collector-Emitter Saturation Voltage (Note 1) (IC = 150 mAdc, IB = 15 mAdc) (IC = 500 mAdc, IB = 50 mAdc) 0.4 Vdc 1.6 VBE (sat) Base-Emitter Saturation Voltage (IC = 150 mAdc, IB = 15 mAdc) (Note 1) (IC = 150 mAdc, I = 50 mAdc) 1.3 B Vdc 2.6 SMALL-SIGNAL CHARACTERISTICS fT Current Gain—Bandwidth Product (IC = 50 mAdc, VCE = 20 Vdc, f = 100 MHz) 200 MHz Cobo Output Capacitance (VCB = 10 Vdc, IE = 0, f = 100 kHz) 8.0 pF Cibo Input Capacitance (VEB = 2.0 Vdc, IC = 0, f = 100 kHz) 30 pF SWITCHING CHARACTERISTICS ton Turn-On Time 45 ns (V = 30 Vdc, I = 150 mAdc, Except td Delay Time CC C IB1 = 15 mAdc) MPQ2907 10 ns tr Rise Time 40 ns toff Turn-Off Time 100 ns (VCC = 6.0 Vdc, IC = 150 mAdc, Except ts Storage Time I 80 ns B1 = IB2 = 15 mAdc) MPQ2907 tf Fall Time 30 ns Note 1: Pulse Test: Pulse Width ≤ 300 ms, Duty Cycle ≤ 2.0%. 2N2907/PN2907/MMBT2907/MPQ2907/2N2907A/PN2907A/MMBT2907A PNP General Purpose Amplifier nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1322 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1322 Appendix B Selected Manufacturers’ Data Sheets National Semiconductor NDS9410 Single N-Channel Enhancement Mode Field Effect Transistor General Description Features These N-channel enhancement mode power field • 7.0 A, 30 V. RDS(ON) = 0.03 Ω effect transistors are produced using National’s proprietary, high cell density, DMOS technology. • Rugged internal source-drain diode can eliminate This very high density process has been especially the need for an external Zener diode transient tailored to minimize on-state resistance, provide suppressor superior switching performance, and withstand high • High density cell design (3.8 million/in2) for energy pulses in the avalanche and commutation extremely low RDS(ON) modes. These devices are particularly suited to low voltage applications such as laptop computer power • High power and current handling capability in a management and other battery powered circuits widely used surface mount package where fast switching, low in-line power loss, and resistance to transients are needed. • Critical DC electrical parameters specified at elevated temperature DD DD DD DD G GS 8-SOIC S NC SS ABSOLUTE MAXIMUM RATINGS TC = 25 °C unless otherwise noted Symbol Parameter NDS9410 Units VDSS Drain-Source Voltage 30 V VDGR Drain-Gate Voltage (RGS ≤ 1 MΩ) 30 V VGSS Gate-Source Voltage ±20 V ID Drain Current – Continuous @ TA = 25 °C ±7.0 A – Continuous @ TA = 70 °C ±5.8 A – Pulsed ±20 A PD Maximum Power Dissipation @ TA = 25 °C 2.5 (Note 1) W TjTSTG Operating and Storage Temperature Range –55 to 150 °C THERMAL CHARACTERISTICS RqJA(t ) Thermal Resistance, Junction-to-Ambient 50 (Note 1) °C/W (Pulse = 10 seconds) Rq Thermal Resistance, Junction-to-Ambient JA 100 (Note 2) °C/W (Steady-State) nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1323 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix B Selected Manufacturers’ Data Sheets 1323 ELECTRICAL CHARACTERISTICS (TC = 25 °C unless otherwise noted) Symbol Parameter Conditions Min Typ Max Units OFF CHARACTERISTICS BVDSS Drain-Source Breakdown VGS = 0 V, ID = 250 mA 30 V Voltage IDSS Zero Gate Voltage Drain VDS = 24 V, 2 mA Current VGS = 0 V TC = 125 °C 25 mA IGSSF Gate–Body Leakage, Forward VGS = 20 V, VDS = 0 V 100 nA IGSSR Gate–Body Leakage, Reverse VGS = –20 V, VDS = 0 V –100 nA ON CHARACTERISTICS (Note 3) VGS(h) Gate Threshold Voltage VDS = VGS, 1 1.4 3 V ID = 250 mA TC = 125 °C 0.7 1 2.2 V RDS(ON ) Static Drain-Source VGS = 10 V, 0.022 0.03 Ω On-Resistance ID = 7.0 A TC = 125 °C 0.033 0.045 Ω VGS = 4.5 V, 0.031 0.05 Ω ID = 3.5 A TC = 125 °C 0.045 0.075 Ω ID(ON) On-State Drain Current VGS = 10 V, VDS = 5 V 20 A VGS = 2.7 V, VDS = 2.7 V 7.7 A gFS Forward Transconductance VDS = 15 V, ID = 7.0 V 15 S DYNAMIC CHARACTERISTICS CISS Input Capacitance VDS = 15 V, VGS = 0 V, 1250 pF COSS Output Capacitance f = 1.0 MHz 610 pF CRSS Reverse Transfer Capacitance 260 pF SWITCHING CHARACTERISTICS (Note 3) tD(ON) Turn-On Delay Time VDD = 25 V, ID = 1 A, 10 30 ns t VGEN = 10 V, RGEN = 6 Ω r Turn-On Rise Time 15 60 ns tD(OFF) Turn-Off Delay Time 70 150 ns tr Turn-Off Fall Time 50 140 ns Qg Total Gate Charge VDS = 15 V, 41 50 nC Qgs Gate-Source Charge ID = 2.0 A, VGS = 10 V 2.8 nC Qgd Gate-Drain Charge 12 nC DRAIN-SOURCE DIODE CHARACTERISTICS AND MAXIMUM RATINGS IS Maximum Continuous Drain–Source Diode Forward Current 2.2 A VSD Drain-Source Diode Forward VGS = 0 V, IS = 2.0 A (Note 3) 0.76 1.1 V Voltage trr Reverse Recovery Time VGS = 0 V, IS = 2 A, dlS/dt = 100 A/ms 100 ns Notes: 1. Maximum power dissipation and thermal resistance based on an assumption that a 10 second pulse is equivalent to steady-state and using a single-sided maximum-copper mounting board. 2. Junction-to-ambient thermal resistance based on steady-state conditions in still air using mounting board with minimum heat dissipation characteristics. 3. Pulse Test: Pulse Width ≤ 300 ms, Duty Cycle ≤ 2.0%. nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1324 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1324 Appendix B Selected Manufacturers’ Data Sheets TYPICAL ELECTRICAL CHARACTERISTICS 25 2 VGS = 10, 6 VGS = 3 V 5, 4.5, 4 V 3.5 1.8 20 1.6 15 3.5 1.4 3.0 10 1.2 4.0 4.5 1 5.0 5 2.5 0.8 6.0 0 0.6 10 0 0.5 1 1.5 2 2.5 3 0 5 10 15 20 V , DRAIN-SOURCE VOLTAGE (V) ID, DRAIN CURRENT (A) DS Figure 1. On-Region Characteristics Figure 2. On-Resistance Variation with Drain Current and Gate Voltage 1.8 0.06 TJ = 125 °CID = 3.5 A 1.6 25 °CV = 4.5 V 0.05 ° VGS = 4.5 V GS –55 C 1.4 0.04 1.2 10 V 0.03 4.5 V 1 4.5 V 0.02 10 V 0.8 10 V 0.6 0.01 –50 –25 0 25 50 75 100 125 150 0 5 10 15 20 TJ, JUNCTION TEMPERATURE (°C) ID, DRAIN CURRENT (A) Figure 3. On-Resistance Variation with Figure 4. On-Resistance Variation with Drain Temperature Current and Temperature 20 1.3 VDS = 10 V TJ = –55 °C 25 125 VDS = VGS 1.2 ID = 250 mA 15 1.1 1 10 0.9 0.8 5 0.7 0.6 0 0.5 1 1.5 2 2.5 3 3.5 4 –50 –25 0 25 50 75 100 125 150 VGS, GATE-TO-SOURCE VOLTAGE (V) TJ, JUNCTION TEMPERATURE (°C) Figure 5. Transfer Characteristics Figure 6. Gate Threshold Variation with Temperature ID, DRAIN CURRENT (A) RDS(on), NORMALIZED ID, DRAIN-SOURCE CURRENT (A) DRAIN-SOURCE ON-RESISTANCE Vh, NORMALIZED RDS(on), ON-RESISTANCE (ohms) RDS(on), NORMALIZED GATE-SOURCE THRESHOLD VOLTAGE DRAIN-SOURCE ON-RESISTANCE nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1325 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix B Selected Manufacturers’ Data Sheets 1325 Nation a l Se mi conductor LM741 Operation Amplifier General Description The LM741 series are general purpose operational amplifiers no latch-up when the common mode range is exceeded as well which feature improved performance over industry standards as freedom from oscillations. like the LM709. They are direct, plugin replacements for the The LM741C/LM741E are identical to the LM741/LM741A 709C, LM201, MC1439 and 748 in most applications. The except that the LM741C/LM741E have their performance amplifiers offer many features which make their application guaranteed over a 0 °C to +70 °C temperature range, instead nearly foolproof: overload protection on the input and output, of –55 °C to +125 °C. Schematic Diagram – (See Figure 13.3 in text) Offset Nulling Circuit – LM741 OUTPUT + 10 kΩ V – LM741 Operational Amplifier nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1326 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1326 Appendix B Selected Manufacturers’ Data Sheets Absolute Maximum Ratings LM741A LM741ELM741 LM741C Supply Voltage ±22 V ±22 V ±22 V ±18 V Power Dissipation 500 mW 500 mW 500 mW 500 mW Differential Input Voltage ±30 V ±30 V ±30 V ±30 V Input Voltage (Note 2) ±15 V ±15 V ±15 V ±15 V Output Short Circuit Duration Continuous Continuous Continuous Continuous Operating Temperature Range –55 °C to +125 °C 0 °C to +70 °C –55 °C to +125 °C 0 °C to +70 °C Storage Temperature Range –65 °C to +150 °C –65 °C to +150 °C –65 °C to +150 °C –65 °C to +150 °C Junction Temperature 150 °C 100 °C 150 °C 100 °C Electrical Characteristics LM741A/LM741ELM741 LM741C Parameter Conditions Units Min Typ Max Min Typ Max Min Typ Max Input Offset Voltage TA = 25 °CR ≤ 10 kΩ 1.0 5.0 2.0 6.0 mV S RS ≤ 50 Ω 0.8 3.0 mV TAMIN ≤ TA ≤ TAMAX RS ≤ 50 Ω 4.0 mV R ≤ 10 kΩ 6.0 7.5 mV S Average Input Offset mV/°C Voltage Drift 15 Input Offset Voltage TA = 25 °C, VS = ±20 V Adjustment Range ±10 ±15 ±15 mV Input Offset Current TA = 25 °C 3.0 30 20 200 20 200 nA TAMIN ≤ TA ≤ TAMAX 70 85 500 300 nA Average Input Offset Current Drift 0.5 nA/°C Input Bias Current TA = 25 °C 30 80 80 500 80 500 nA TAMIN ≤ TA ≤ TAMAX 0.210 1.5 0.8 mA Input Resistance TA = 25 °C, VS = ±20 V 1.0 6.0 0.3 2.0 0.3 2.0 MΩ TAMIN ≤ TA ≤ TAMAX, V 0.5 MΩ S = ±20 V Input Voltage Range TA = 25 °C ±12 ±13 V TAMIN ≤ TA ≤ TAMAX ±12 ±13 V Large Signal Voltage TA = 25 °C, RL ≥ 2 kΩ Gain VS = ±20 V, VO = ±15 V 50 V/mV VS = ±15 V, VO = ±10 V 50 200 20 200 V/mV TAMIN ≤ TA ≤ TAMAX, RL ≥ 2 kΩ VS = ±20 V, VO = ±15 V 32 V/mV VS = ±15 V, VO = ±10 V 25 15 V/mV VS = ±5 V, VO = ±2 V 10 V/mV nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1327 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix B Selected Manufacturers’ Data Sheets 1327 Electrical Characteristics (Continued) LM741A/LM741ELM741 LM741C Parameter Conditions Units Min Typ Max Min Typ Max Min Typ Max Output Voltage Swing VS = ±20 V RL ≥ 10 kΩ ±16 V RL ≥ 2 kΩ ±15 V VS = ±15 V RL ≥ 10 kΩ ±12 ±14 ±12 ±14 V RL ≥ 2 kΩ ±10 ±13 ±10 ±13 V Output Short Circuit TA = 25 °C 10 25 35 25 25 mA Current TAMIN ≤ TA ≤ TAMAX 10 40 mA Common-Mode TAMIN ≤ TA ≤ TAMAX Rejection Ratio RS ≤ 10 kΩ, VCM = ±12 V 70 90 70 90 dB RS ≤ 50 Ω, VCM = ± 12 V 80 95 dB Supply Voltage Rejection TAMIN ≤ TA ≤ TAMAX Ratio VS = ±20 V to VS = ±5 V RS ≤ 50 Ω 86 96 dB RS ≤ 10 Ω 77 96 77 96 dB Transient Response TA = 25 °C, Unity Gain Rise Time 0.25 0.8 0.3 0.3 ms Overshoot 6.0 20 5 5 % Bandwidth TA = 25 °C 0.437 1.5 MHz Slew Rate TA = 25 °C, Unity Gain 0.3 0.7 0.5 0.5 V/ms Supply Current TA = 25 °C 1.7 2.8 1.7 2.8 mA Power Consumption TA = 25 °CVS = ±20 V 80 150 mW VS = ±15 V 50 85 50 85 mW LM741A VS = ±20 V TA = TAMIN 165 mW TA = TAMAX 135 mW LM741E VS = ±20 V TA = TAMIN 150 mW TA = TAMAX 150 mW LM741 VS = ±15 V TA = TAMIN 60 100 mW TA = TAMAX 45 75 mW Note 2: For supply voltages less than ±15 V, the absolute maximum input voltage is equal to the supply voltage. nea80644_appB_1317-1328.qxd 8/6/09 10:07 AM Page 1328 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: nea80644_appC_1329-1332.qxd 8/6/09 10:08 AM Page 1329 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Standard Resistor APPEND IX and Capacitor Values C In this appendix, we list standard component values, which are used for selecting resistor and capacitor values in designing discrete electronic circuits and systems. Low- power carbon and film resistors with 2 percent to 20 percent tolerances have a standard set of values and a standard color-band marking scheme. These tabulated values may vary from one manufacturer to another, so the tables should be considered as typical. C.1 CARBON RESISTORS Standard resistor values are listed in Table C.1. The lightface type indicates 2 percent and 5 percent tolerance values; the boldface type indicates 10% tolerance resistor values. Table C.1 Standard resistance values (×10n) 10 16 27 43 68 11 18 30 47 75 12 20 33 51 82 13 22 36 56 91 15 24 39 62 100 Discrete carbon resistors have a standard color-band marking scheme, which makes it easy to recognize resistor values in a circuit or a parts bin, without having to search for a printed legend. The color bands start at one end of the resistor, as shown in Figure C.1. Two digits and a multiplier digit determine the resistor value. The additional color bands indicate the tolerance and reliability. The digit and multiplier color-code is given in Table C.2. For example, the first three color bands of a 4.7 k resistor are yellow, violet, and red. The first two digits are 47 and the multiplier is 100. The first three color bands on a 150 k resistor are brown, green, and yellow. 1st digit Reliability 2nd digit (optional) Multiplier Tolerance Red 2% Gold 5% Silver 10% None 20% Figure C.1 Color-band notation of low-power carbon-composition resistors 1329"
Appendix C: Standard Resistor and Capacitor Values," Standard Resistor and Capacitor Values Table C.2 Digit and multiple color code Digit Color Multiplier Number of zeros Silver 0.01 −2 Gold 0.1 −1 0 Black 1 0 1 Brown 10 1 2 Red 100 2 3 Orange 1 k 3 4 Yellow 10 k 4 5 Green 100 k 5 6 Blue 1 M 6 7 Violet 10 M 7 8 Gray 9 White Ten percent tolerance carbon resistors are available in the following power ratings: 1 4 , 1 2 , 1, and 2 W. C.2 PRECISION RESISTORS (ONE PERCENT TOLERANCE) Metal-film precision resistors can have tolerance levels in the 1 2 percent to 1 percent range. These resistors use a four-digit code printed on the resistor body, rather than the color-band scheme. The first three digits denote a value, and the last digit is the multiplier for the number of zeros. For example, 2503 denotes a 250 k resistor, and 2000 denotes a 200  resistor. If the resistor’s value is too small to be described in this way, an R is used to indicate the decimal point; for example, 37R5 is a 37.5  resistor, and 10R0 is a 10.0  resistor. The standard values typically range from 10  to 301 k. Standard values in each decade are given in Table C.3. Table C.3 Standard precision resistance values 100 140 196 274 383 536 750 102 143 200 280 392 549 768 105 147 205 287 402 562 787 107 150 210 294 412 576 806 110 154 215 301 422 590 825 113 158 221 309 432 604 845 115 162 226 316 442 619 866 118 165 232 324 453 634 887 121 169 237 332 464 649 909 124 174 243 340 475 665 931 127 178 249 348 487 681 953 130 182 255 357 499 698 976 133 187 261 365 511 715 137 191 267 374 523 732 nea80644_appC_1329-1332.qxd 8/6/09 10:08 AM Page 1331 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix C Standard Resistor and Capacitor Values 1331 One percent resistors are often used in applications that require excellent stability and accuracy; a small adjustable trimmer resistor maybe connected in series to the 1 percent resistor to set a precise resistance value. It is important to realize that 1 percent resistors are only guaranteed to be within 1 percent of their rated value under a specified set of conditions. Resistance variations due to temperature or humidity changes, and operation at full rated power can exceed the 1 percent tolerance. C.3 CAPACITORS Typical capacitor values for 10 percent tolerance capacitors from one manufacturer are listed in Table C.4. The range of capacitance values for the ceramic-disk capacitor is approximately 10 pF to 1 μF. Table C.4 Ceramic-disk capacitors 3.3 30 200 600 2700 5 39 220 680 3000 6 47 240 750 3300 6.8 50 250 800 3900 7.5 51 270 820 4000 8 56 300 910 4300 10 68 330 1000 4700 12 75 350 1200 5000 15 82 360 1300 5600 18 91 390 1500 6800 20 100 400 1600 7500 22 120 470 1800 8200 24 130 500 2000 25 150 510 2200 27 180 560 2500 Tantalum capacitors (×10n) (to 330 μF) 0.0047 0.010 0.022 0.0056 0.012 0.027 0.0068 0.015 0.033 0.0082 0.018 0.039 nea80644_appC_1329-1332.qxd 8/6/09 10:08 AM Page 1332 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: nea80644_appD_1333-1336.qxd 8/6/09 10:09 AM Page 1333 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Reading List APPEND IX GENERAL ELECTRONICS TEXTS D Burns, S. G.; and P. R. Bond. Principles of Electronic Circuits. 2nd ed. Boston: PWS Publishing Co., 1997. Hambley, A. R. Electronics, 2nd ed. Upper Saddle River, NJ: Prentice-Hall, Inc., 2003. Hayt, W. H., Jr.; and G. W. Neudeck. Electronic Circuit Analysis and Design. 2nd ed. Boston: Houghton Mifflin Co., 1984. Horenstein, M. N. Microelectronic Circuits and Devices. 2nd ed. Englewood Cliffs, NJ: Prentice Hall, Inc., 1995. Horowitz, P.; and W. Hill. The Art of Electronics. 2nd ed. New York: Cambridge University Press, 1989. Howe, R. T.; and C. G. Sodini. Microelectronics: An Integrated Approach. Upper Saddle River, NJ: Prentice-Hall, Inc., 1997. Jaeger, R. C.; and T. N. Blalock. Microelectronic Circuit Design, 3rd ed. New York: McGraw-Hill, 2008. Malik, N. R. Electronic Circuits: Analysis, Simulation, and Design. Englewood Cliffs, NJ: Prentice Hall, Inc., 1995. Mauro, R. Engineering Electronics. Englewood Cliffs, NJ: Prentice Hall, Inc., 1989. Millman, J.; and A. Graybel. Microelectronics. 2nd ed. New York: McGraw-Hill Book Co., 1987. Mitchell, F. H., Jr.; and F. H. Mitchell, Sr. Introduction to Electronics Design. 2nd ed. Englewood Cliffs, NJ: Prentice-Hall, Inc., 1992. Rashid, M. H. Microelectronic Circuits: Analysis and Design. Boston: PWS Publishing Co., 1999. Razaavi, B. Fundamentals of Microelectronics. New York: John Wiley and Sons, Inc., 2008. Roden, M. S.; and G. L. Carpenter. Electronic Design: From Concept to Reality. 3rd ed. Burbank, CA: Discovery Press, 1997. Schubert, T., Jr; and E. Kim. Active and Non-Linear Electronics. New York: John Wiley and Sons, Inc., 1996. Spencer, R. R.; and M. S. Ghausi. Introduction to Electronic Circuit Design. Upper Saddle River, NJ: Prentice-Hall, Inc., 2003. Sedra, A. S.; and K. C. Smith. Microelectronic Circuits, 5th ed. New York: Oxford University Press, 2004. LINEAR CIRCUIT THEORY Alexander, C. K.; and M. N. O. Sadiku. Fundamentals of Electric Circuits, 3rd ed. New York: McGraw-Hill, 2007. Bode, H. W. Network Analysis and Feedback Amplifier Design. Princeton, NJ; D. Van Nostrand Co., 1945. Hayt, W. H., Jr.; J. E. Kemmerly; and S. M. Durbin. Engineering Circuit Analysis, 7th ed. New York: McGraw-Hill, 2007. 1333"
Appendix D: Reading List,": Reading List APPEND IX GENERAL ELECTRONICS TEXTS D Burns, S. G.; and P. R. Bond. Principles of Electronic Circuits. 2nd ed. Boston: PWS Publishing Co., 1997. Hambley, A. R. Electronics, 2nd ed. Upper Saddle River, NJ: Prentice-Hall, Inc., 2003. Hayt, W. H., Jr.; and G. W. Neudeck. Electronic Circuit Analysis and Design. 2nd ed. Boston: Houghton Mifflin Co., 1984. Horenstein, M. N. Microelectronic Circuits and Devices. 2nd ed. Englewood Cliffs, NJ: Prentice Hall, Inc., 1995. Horowitz, P.; and W. Hill. The Art of Electronics. 2nd ed. New York: Cambridge University Press, 1989. Howe, R. T.; and C. G. Sodini. Microelectronics: An Integrated Approach. Upper Saddle River, NJ: Prentice-Hall, Inc., 1997. Jaeger, R. C.; and T. N. Blalock. Microelectronic Circuit Design, 3rd ed. New York: McGraw-Hill, 2008. Malik, N. R. Electronic Circuits: Analysis, Simulation, and Design. Englewood Cliffs, NJ: Prentice Hall, Inc., 1995. Mauro, R. Engineering Electronics. Englewood Cliffs, NJ: Prentice Hall, Inc., 1989. Millman, J.; and A. Graybel. Microelectronics. 2nd ed. New York: McGraw-Hill Book Co., 1987. Mitchell, F. H., Jr.; and F. H. Mitchell, Sr. Introduction to Electronics Design. 2nd ed. Englewood Cliffs, NJ: Prentice-Hall, Inc., 1992. Rashid, M. H. Microelectronic Circuits: Analysis and Design. Boston: PWS Publishing Co., 1999. Razaavi, B. Fundamentals of Microelectronics. New York: John Wiley and Sons, Inc., 2008. Roden, M. S.; and G. L. Carpenter. Electronic Design: From Concept to Reality. 3rd ed. Burbank, CA: Discovery Press, 1997. Schubert, T., Jr; and E. Kim. Active and Non-Linear Electronics. New York: John Wiley and Sons, Inc., 1996. Spencer, R. R.; and M. S. Ghausi. Introduction to Electronic Circuit Design. Upper Saddle River, NJ: Prentice-Hall, Inc., 2003. Sedra, A. S.; and K. C. Smith. Microelectronic Circuits, 5th ed. New York: Oxford University Press, 2004. LINEAR CIRCUIT THEORY Alexander, C. K.; and M. N. O. Sadiku. Fundamentals of Electric Circuits, 3rd ed. New York: McGraw-Hill, 2007. Bode, H. W. Network Analysis and Feedback Amplifier Design. Princeton, NJ; D. Van Nostrand Co., 1945. Hayt, W. H., Jr.; J. E. Kemmerly; and S. M. Durbin. Engineering Circuit Analysis, 7th ed. New York: McGraw-Hill, 2007. 1333 nea80644_appD_1333-1336.qxd 8/6/09 10:09 AM Page 1334 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1334 Appendix D Reading List Irwin, J. D.; and R. M. Nelms. Basic Engineering Circuit Analysis, 9th ed. New York: John Wiley and Sons, Inc., 2008. Johnson, D. E.; J. L. Hillburn; J. R. Johnson; and P. D. Scott. Basic Electric Circuit Analysis. 5th ed. Englewood Cliffs, NJ: Prentice Hall, Inc., 1995. Nilsson, J. W.; and S. A. Riedel. Electric Circuits, 8th ed. Upper Saddle River, NJ: Prentice-Hall, Inc., 2007. Thomas, R. E.; A. J. Rosa; and G. J. Toussaint. The Analysis and Design of Linear Circuits, 6th ed. New York: John Wiley and Sons, Inc., 2008. SEMICONDUCTOR DEVICES Neamen, D. A. An Introduction to Semiconductor Devices. Boston: McGraw-Hill, 2006. Neamen, D. A. Semiconductor Physics and Devices: Basic Principles, 3rd ed. Boston: McGraw-Hill, 2003. Streetman, B. G.; and S. Banerjee. Solid State Electronic Devices, 6th ed. Upper Saddle River, NJ: Prentice Hall, 2006. Sze, S. M.; and K. K. Ng. Physics of Semiconductor Devices, 3rd ed. New York: John Wiley and Sons, Inc., 2007. Taur, Y.; and T. H. Ning. Fundamentals of Modern VLSI Devices. Cambridge, United Kingdom: Cambridge University Press, 1998. ANALOG INTEGRATED CIRCUITS Allen, P. E.; and D. R. Holberg, CMOS Analog Circuit Design, 2nd ed. New York: Oxford University Press, 2002. Geiger, R. L.; P. E. Allen; and N. R. Strader. VLSI Design Techniques for Analog and Digital Circuits. New York: McGraw-Hill Publishing Co., 1990. Gray, P. R.; P. J. Hurst; S. H. Lewis; and R. G. Meyer. Analysis and Design of Analog Integrated Circuits, 5th ed. New York: John Wiley and Sons, Inc., 2009. Johns, D. A.; and K. Martin. Analog Integrated Circuit Design. New York: John Wiley and Sons, Inc., 1997. Laker, K. R.; and W. M. C. Sansen. Design of Analog Integrated Circuits and Systems. New York: McGraw-Hill, Inc., 1994. Northrop, R. B. Analog Electronic Circuits. Reading, MA: Addison-Wesley Publishing Co., 1990. Razavi, B. Design of Analog CMOS Integrated Circuits. Boston: McGraw-Hill, 2001. Soclof, S. Design and Applications of Analog Integrated Circuits. Englewood Cliffs, NJ: Prentice Hall, Inc., 1991. Solomon, J. E. “The Monolithic Op-Amp: A Tutorial Study,” IEEE Journal of Solid- State Circuits SC-9, No. 6 (December 1974), pp. 314–32. Widlar, R. J. “Design Techniques for Monolithic Operational Amplifiers,” IEEE Journal of Solid-State Circuits SC-4 (August 1969), pp. 184–91. OPERATIONAL AMPLIFIER CIRCUITS Barna, A.; and D. I. Porat. Operational Amplifiers. 2nd ed. New York: John Wiley and Sons, Inc., 1989. nea80644_appD_1333-1336.qxd 8/6/09 10:09 AM Page 1335 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix D Reading List 1335 Berlin, H. M. Op-Amp Circuits and Principles. Carmel, IN: SAMS, A division of Macmillan Computer Publishing, 1991. Clayton, G.; and B. Newby. Operational Amplifiers. London: Butterworth- Heinemann, Ltd., 1992. Coughlin, R. F.; and F. F. Driscoll. Operational Amplifiers and Linear Integrated Circuits. Englewood Cliffs, NJ: Prentice Hall, Inc., 1977. Fiore, J. M. Operational Amplifiers and Linear Integrated Circuits: Theory and Application. New York: West Publishing Co., 1992. Franco, S. Design with Operational Amplifiers and Analog Integrated Circuits, 2nd ed. New York: McGraw-Hill, 1998. Graeme, J. G.; G. E. Tobey; and L. P. Huelsman. Operational Amplifiers: Design and Applications. New York: McGraw-Hill Book Co., 1971. Helms, H. Operational Amplifiers 1987 Source Book. Englewood Cliffs, NJ: Prentice Hall, Inc., 1987. DIGITAL CIRCUITS AND DEVICES Ayers, J. E. Digital Integrated Circuits: Analysis and Design. New York: CRC Press, 2004. Baker, R. J.; H. W. Li, and D. E. Boyce. CMOS Circuit Design, Layout, and Simulation. New York: IEEE Press, 1998. CMOS/NMOS Integrated Circuits, RCA Solid State, 1980. DeMassa, T. A.; and Z. Ciccone. Digital Integrated Circuits. New York: John Wiley and Sons, Inc., 1996. Glasford, G. M. Digital Electronic Circuits. Englewood Cliffs, NJ: Prentice Hall, Inc., 1988. Hauser, J. R., “Noise Margin Criteria for Digital Logic Circuits.” IEEE Transactions on Education 36, No. 4 (November 1993), pp. 363–68. Hodges, D. A.; H. G. Jackson, and R. A. Saleh. Analysis and Design of Digital Integrated Circuits, 3rd ed. New York; McGraw-Hill, 2004. Kang, S. M.; and Y. Leblebici. CMOS Digital Integrated Circuits: Analysis and Design. 3rd ed. New York; McGraw-Hill, 2003. Lohstroh, J. “Static and Dynamic Noise Margins of Logic Circuits,” IEEE Journal of Solid-State Circuits SC-14, No. 3 (June 1979), pp. 591–98. Mead, C.; and L. Conway. Introduction to VLSI Systems. Reading, MA: Addison- Wesley Publishing Co., Inc., 1980. Mukherjee, A. Introduction to nMOS and CMOS VLSI Systems Design. Englewood Cliffs, NJ: Prentice Hall, Inc., 1986. Prince, B. Semiconductor Memories: A Handbook of Design, Manufacture and Applications. 2nd ed. New York: John Wiley and Sons, Inc., 1991. Rabaey, J. M.; A. Chandrakasan, and B. Nikolic. Digital Integrated Circuits: A Design Perspective, 2nd ed. Upper Saddle River, NJ: Prentice-Hall, 2003. Segura, J.; and C. F. Hawkins. CMOS Electronics: How It Works, How It Fails. Piscataway, NJ: IEEE Press, 2004. Wang, N. Digital MOS Integrated Circuits. Englewood Cliffs, NJ: Prentice Hall, Inc., 1989. Wilson, G. R. “Advances in Bipolar VLSI.” Proceedings of the IEEE 78, No. 11 (November 1990), pp. 1707–19. nea80644_appD_1333-1336.qxd 8/6/09 10:09 AM Page 1336 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1336 Appendix D Reading List SPICE AND PSPICE REFERENCES Banzhap, W. Computer-Aided Circuit Analysis Using PSpice. 2nd ed. Englewood Cliffs, NJ: Prentice Hall, Inc., 1992. Brown, W. L.; and A. Y. J. Szeto. “Verifying Spice Results with Hand Calculations: Handling Common Discrepancies.” IEEE Transactions on Education, 37, No. 4 (November 1994), pp. 358–68. Goody, R. W. MicroSim PSpice for Windows: Volume I: DC, AC, and Devices and Circuits. 2nd ed. Upper Saddle River, NJ: Prentice-Hall, Inc., 1998. Goody, R. W. MicroSim PSpice for Windows: Volume II: Operational Amplifiers and Digital Circuits. 2nd ed. Upper Saddle River, NJ: Prentice-Hall, 1998. Herniter, M. E. Schematic Capture with MicroSim PSpice. 3rd ed. Upper Saddle River, NJ: Prentice-Hall, 1998. Meares, L. G.; and C. E. Hymowitz. Simulating with Spice. San Pedro, CA: Intusoft, 1988. MicroSim Staff. PSpice User’s Manual Version 4.03. Irvine, CA: MicroSim Corporation, 1990. Natarajan, S. “An Effective Approach to Obtain Model Parameters for BJTs and FETs from Data Books.” IEEE Transactions on Education 35, No. 2 (May 1992), pp. 164–69. Rashid, M. H. SPICE for Circuits and Electronics Using PSpice. Englewood Cliffs, NJ: Prentice Hall, Inc., 1990. Roberts, G. W.; and A. S. Sedra. SPICE for Microelectronic Circuits. 3rd ed. New York: Saunders College Publishing, 1992. Thorpe, T. W. Computerized Circuit Analysis with SPICE. New York: John Wiley and Sons, Inc., 1992. Tront, J. G. PSpice for Basic Microelectronics with CD. New York: McGraw-Hill, 2008. Tuinenga, P. W. SPICE: A Guide to Circuit Simulation and Analysis Using PSpice. 2nd ed. Englewood Cliffs, NJ: Prentice Hall, Inc., 1992. nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1337 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Answers to Selected APPEND IX Problems E CHAPTER 1 1.21 For Na = 1015 cm−3, Vbi = 0.637 V 1.1 (a) Silicon For Na = 1018 cm−3, Vbi = 0.817 V (i) ni = 1.61 × 108 cm−3 1.23 (a) Cj = 0.255 pF (ii) n 11 −3 i = 3.97 × 10 cm (b) Cj = 0.172 pF (b) GaAs (c) Cj = 0.139 pF (i) n = 6.02 × 103 cm−3 i 1.25 (a) fo = 6.57 MHz (ii) ni = 1.09 × 108 cm−3 (b) fo = 7.95 MHz 1.3 Silicon (c) fo = 8.86 MHz (a) n = 8.79 × 10−10 i cm−3 1.27 (a) (i) 1.03 μA, (ii) 2.25 mA, (b) n = 1.5 × 1010 cm−3 (iii) 4.93 A, (iv) −5.37 × 10−12 i A, (c) n = 1.63 × 1014 cm−3 (v) −10−11 A, (vi) −10−11 i A Germanium (b) (i) 0.0103 μA, (ii) 22.5 μA, (a) ni = 35.9 cm−3 (iii) 49.3 mA, (iv) −5.37 × 10−14 A, (b) n 13 −3 −13 −13 i = 2.40 × 10 cm (v) −10 A, (vi) −10 A (c) ni = 8.62 × 1015 cm−3 1.29 (a) I = 2.03 × 10−15 SA 1.5 (a) p-type, po = 1016 cm−3 (b) (i) At VD = 0.1 V, n = 3.24 × 10−4 o cm−3 ID = 9.50 × 10−14 A (b) p-type, p = 1016 cm−3 o At VD = 0.7 V, ID = 10−3 An = 5.76 × 1010 cm−3 o (ii) At VD = 0.1 V, −14 1.7 (a) p-type, p = 5 × 1016 cm−3 ID = 1.39 × 10 A o −9 n = 4.5 × 103 cm−3 At VD = 0.7 V, ID = 1.42 × 10 A o (b) p-type, p = 5 × 1016 cm−3 1.31 (a) VD ∼= 60 mV on = 6.48 × 10−5 cm−3 (b) VD ∼= 120 mV o 1.9 (a) n = 5 × 1015 cm−3 1.33 0.5150 ≤ VD ≤ 0.6347 V o po = 4.5 × 104 cm−3 1.35 (a) 2.31 nA, 5.05 μA, 11.1 mA, −5.37 × 10−23 A, −10−22 A, −10−22 (b) n-type A (c) N = 5 × 1015 cm−3 d (b) 115 pA, 0.253 μA, 0.554 mA, −24 I = −2.68 × 10 A, −5 × 10−24 A, 1.11 (a) 0.15 mA = −5 × 10−24 A (b) E 2.4 V/cm I (100) 1.13 (a) Nd = 7.69 × 1015 cm−3 1.37 D = 2.83 × 103 (b) E = 104 V/cm ID(−55) ≤ ≤ × 4 −1 1.39 ID = 0.4740 mA, V = 0.5194 V 1.15 (a) 1.36 σ 1.36 10 (–cm) D (b) 0 136 ≤ J ≤ 1 36 × 103 A/cm2 1.41 (a) ID1 = ID2 = 1 mA, . . = (i) V 2 D1 = VD2 = 0.599 V 1.17 (a) Jp 2.4 A/cm = (ii) VD1 = 0.617 V, VD2 = 0.557 V (b) Jp 0.883 A/cm2 = (b) (i) V 2 D1 = VD2 = 0.581 V, (c) Jp 0.119 A/cm ID1 = ID2 = 0.5 mA 1.19 (a) (i) 0.661 V, (ii) 0.739 V, (iii) 0.937 V (ii) VD1 = VD2 = 0.554 V, (b) (i) 1.13 V, (ii) 1.21 V, (iii) 1.41 V ID1 = 0.0909 mA, ID2 = 0.909 mA 1337"
Appendix E: Answers to Selected Problems," Answers to Selected Problems 1.43 (a) VD = 0.7 V 2.3 (a) vO(peak) = 16.27 V ID = 26.7 μA (b) iD(peak) = 8.14 mA (b) VD = 0.45 V (c) 48.7% ID = 0 (d) vO(avg) = 5.06 V 1.45 (a) VO = II · (1), ID = 0; (e) id(avg) = 2.53 mA for 0 ≤ II ≤ 0.7 mA 2.5 (a) R = 4.417  VO = 0.7 V, ID = (II − 0.7) mA; (b) iD (avg) = 0.436 A for II ≥ 0.7 mA (c) 27.6% (b) VO = II · (1), ID = 0; for 0 ≤ II ≤ N 1.7 mA 2.7 (a) 1 = 6.06 VO = 1.7 V, ID = (II − 1.7) mA; N2 for II ≥ 1.7 mA N = = = (b) 1 = 1.58 (c) VO 0.7 V, ID1 II and ID2 0; N2 for 0 ≤ II ≤ 2 mA (c) For (a), PIV = 52.1 V 1.47 (a) (i) I = 0.215 mA, V = 0.7 V For (b), PIV = 202.1 V O (ii) I = 0.220 mA, VO = 0.6 V 2.9 (a) vS(rms) = 8.98 V (b) (i) I = 0.2325 mA, VO = −0.35 V (b) C = 4444 μF (ii) I = 0.235 mA, VO = −0.30 V (c) iD(max) = 4.58 A (c) (i) I = 0.372 mA, VO = 0.14 V = 2.11 (a) 10.3 ≤ v ≤ 12.3 V (ii) I 0.376 mA, VO = 0.12 V O = = − (b) 0.490 ≤ V ≤ 0.586 V (d) (i) I 0, V r O 5 V = (c) C = 513 μF (ii) I 0, VO = −5 V 1.49 (a) VD = 0.7 V, V = 2.42 V 2.13 (a) vS(rms) = 11.6 V (b) P = 0.28 mW (b) C = 2857 μF 1.51 (a) vd = 1.30 mV N 2.15 (a) 1 = = 13.3 (b) vd 1.30 mV N2 1.53 (b) For I = 1 mA, vo/vs = 0.0909 (b) C = 0.0116 F For I = 0.1 mA, vo/vs = 0.50 (c) iD(peak) = 13.3 A For I = 0.01 mA, vo/vs = 0.909 (d) iD(avg) = 0.539 A 1.55 I = 4.87 × 10−12 SA (e) PIV = 24.8 V 1.57 (a) VO = 5.685 V 2.19 (a) IZ = 0.367 mA, IL = 0.975 mA, (b) VO = 0.0392 VP = 1.43 mW (c) VO = 5.658 V (b) IZ = 0.952 mA, IL = 0.39 mA, 1.59 (a) VO = 6.921 VP = 3.71 mW (b) VO = −0.13 V 2.21 (a) 15 ≤ IZ ≤ 259.74 mA 1.61 VD = 0, ID = 0.2 A (b) 54.5 ≤ RL ≤ 410  VD = 0.60, ID = 0.1995 A 2.23 (a) Ri = 8.08  VD = 0.70, ID = 0.1754 A = = (b) PZ = 11.9 W, PL = 5 W VD 0.7545, ID 0 2.25 (a) Ri = 257  (b) 7.450 ≤ VL ≤ 7.556 V; 4.42% CHAPTER 2 ( ) (c) 7.50 ≤ VL ≤ 7.586 V; 1.15% 2.1 (a) vO = 0 for vI ≤ 0.6 V 1000 2.27 (a) Ri = 200  vO = (vI − 0.6) (b) VO = 0.35 V 1020 for vI ≥ (c) 3.5% 0.6 V (b) (ii) v (avg) = 2.89 V 2.29 5.0%, C = 0.0357 F O (iii) id(max) = 9.216 mA 2.31 (a) vO = 0 for −10 ≤ vI ≤ 3 V (iv) PIV = 10 V vO = [(0.5) vI − 1.5] V for vI ≥ 3 V nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1339 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1339 − 0 − v (c) I = 2.15 mA, I = 7.15 mA, (b) i = I 1 mA for ≤ 0 D1 D2 v 10 IR2 = 0.60 k i1 = 0 for 0 ≤ vI ≤ 3 V 2.51 vO = vI for −4.65 ≤ vI ≤ 4.65 V, = vI − 3 i1 mA for vI ≥ vO = 4.65 V for vI ≥ 4.65 V, 3 V 20 vO = −4.65 V for vI ≤ −4.65 V 2.33 (a) (i) v = v for v ≥ 1.1 V 2.53 (a) VO = 0, ID1 = 0.86 mA OI I vO = 1.1 V for vI ≤ 1.1 V (b) ID1 = 0, VO = −3.57 V (ii) vO = vI for v ≥ −2.5 V 2.55 (a) ID1 = 0.93 mA, VO = −15 VI v = −2.5 V for v ≤ −2.5 V (b) ID1 = 1.86 mA, VO = −15 V OI (b) (i) vO = 2.5 V for vI ≥ 2.5 V 2.57 (a) ID = 0, VD = 0, VA = VB = 3 V vO = vI for vI ≤ 2.5 V (b) ID = 0.08 mA, VD = 0.7 V, (ii) vO = −1.1 V for vI ≥ −1.1 V VA = 1.4 V, VB = 2.1 V vO = vI for vI ≤ −1.1 V (c) ID = 0, VD = −0.5 V, VA = 2.5 V, 2.35 (a) (i) vO = vI − 5.7 V for v ≥ 5.7 V VB = 2.0 VI vO = 0 for v ≤ 5.7 V (d) ID = 0.23 mA, VD = 0.7 V, I (ii) v = v + 4.3 V for v ≥ −4.3 V VA = 2.15 V, VB = 2.85 V OI Iv = 0 for v ≤ −4.3 V 2.59 (a) ID1 = ID2 = ID3 = 0, vO = 0.5 V OI (b) (i) v = 0 for v ≥ 4.3 V (b) ID1 = 0.0667 mA, ID2 = IO ID3 = 0, vO = vI − 4.3 V for vI ≤ 4.3 V vO = 1.23 V (ii) v = 0 for v ≥ −5.7 V (c) ID1 = 0.171 mA, ID2 = 0.0615 mA, OI vO = vI + 5.7 V for vI ≤ −5.7 V ID3 = 0, vO = 2.069 V = (d) I = 0.275 mA, I = 0.20 mA, 2.37 vO(max) 6.7 V, vO (min) = −4.7 VD1 D2 + ID3 = 0.05 mA, vO = 2.90 V 2.39 (a) Square wave between 40 V and 0. 2.61 (a) VO1 = VO2 = 0 (b) Square wave between +35 V and −5 V. + − (b) VO1 = 4.4 V, VO2 = 3.8 V (c) Square wave between 5 V and 35 V. (c) VO1 = 4.4 V, VO2 = 3.8 V 2.41 Circuit similar to Figure 2.31(a) Logic 1 level degrades with VB = −10 V. 2.63 (V1 AND V2) OR (V3 AND V4) 2.43 (i) vO = (10 sin ω t − 5) V 2.65 VI = 2.3 V (ii) vO = (10 sin ω t − 15) V 2.67 VP S = 2.6 V 2.45 (a) I = ID1 = ID2 = 0, VO = 10 V (b) I = ID2 = 0.94 mA, CHAPTER 3 ID1 = 0, VO = 1.07 V 3.1 (a) (i) ID = 0 (c) I = ID2 = 0.44 mA, (ii) ID = 82.5 μA ID1 = 0, VO = 5.82 V (iii) ID = 0.2325 mA (d) I = 0.964 mA, VO = 0.842 V, (iv) ID = 0.3825 mA ID1 = ID2 = 0.482 mA (b) (i) ID = 0 2.47 (a) R1 = 25 k, R2 = 10 k, R3 = 4.4 k (ii) ID = 0.27 mA (b) V1 = 4.4 V, V2 = −0.6 V, ID1 = 0.5 mA, (iii) ID = 1.92 mA ID2 = 0.75 mA, ID3 = 0.75 mA (iv) ID = 5.07 mA (c) V1 = 6.07 V, V2 = −0.6 V, 3.3 (a) Enhancement-mode 2 I ∼ D V 1 = 1.11 mA, (b) TN = 1.5 V, Kn = 0.064 mA/V ID2 = 0, ID3 = 0.65 mA (c) iD(sat) = 0.256 mA, for vGS = 3.5 V (d) V1 = 4.4 V, V2 = 1.27 V, iD(sat) = 0.576 mA, for vGS = 4.5 V ID1 = 0.833 mA, 3.5 (a) Saturation ID2 = 0.211 mA, ID3 = 0 (b) Nonsaturation 2.49 (a) ID1 = 1.0 mA, I (c) Cutoff D2 = 6.0 mA, VA = 2.30 V W 3.7 = 5.79 (b) ID1 = 0, ID2 = 5 mA, VA = 8.2 V L nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1340 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1340 Appendix E Answers to Selected Problems 3.9 (a) Kn = 1.40 mA/V2 (b) (i) V1 = 2.5 V, V2 = 6 V (b) ID = 3.58 mA ( ()ii) V1 = 2.5 V, V2 = 6 V (c) VDS(sat) = 1.6 V (c) V1 = 2.469 V, V2 = 5.916 V 3.11 W = 3.22 μm W 3.49 = 3.31 3.13 VT P = − W L 0.571 V, = 4.41 D L W 3.51 R = 271 , = 231 3.15 (a) Enhancement-mode D (b) VT P ∼= −0.5 V, Kp ∼ L = 0.20 mA/V2 W (c) iD(sat) = 1.8 mA, iD(sat) = 3.2 mA 3.53 (a) = 0.623 L 3.17 (a) ID = 0.21 mA = (b) (b) ID 0.66 mA (VO =)0.297(V ) W (c) ID = 0.81 mA 3.55 (a) = W = 12.5 , (d) ID = 0.844 mA ( L )AL B (e) ID = 0.844 mA W = 7.81 3.19 Kn = Kp = 41.3 μA/V2, LC Wn = 7.09 μm, Wp = 12.8 μm (b) RD = 11 k 3.21 λ = 0.00926 V−1, VA = 108 V 3.57 ID = IDSS 3.23 (a) ID = 0.739 mA 3.59 VP = 3.97 V, IDSS = 5.0 mA (b) ID = 0.296 mA 3.61 VT N = 0.221 V, Kn = 1.11 mA/V2 3.25 tox = 1200 Å 3.63 VGS = −1.17 V, ID = 5.85 mA, 3.27 (a) VDS = 1.88 V, ID = 2.12 mA VDS = 7.13 V (b) VDS = 0.741 V, ID = 1.42 mA 3.65 VGS = 0.838 V, VSD = 7.5 V, 3.29 (a) VSD = 1.90 V, ID = 1.33 mA R1 = 109 k, R2 = 1.21 M (b) VSD = 0.698 V, ID = 1.08 mA 3.67 VG = 6 V, VGS = −1.30 V, 3.31 VS = 2.21 V, VSD = 5.21 V ID = 3.65 mA, VDS = 2.85 V W 3.33 = 20.8, R = 360 k, R = 450 k 3.69 ID = IDSS = 4 mA, L 1 2 RD = 1.75 k 3.35 VGS = 1.71 V, ID = 2.58 mA, 3.71 R = D = 15 k, R1 = 100 k VDS 5.62 V R2 = 50 k 3.37 (a) (i) VGS = 1.516 V, VDS = 6.516 V (ii) VGS = 2.61 V, VDS = 7.61 V CHAPTER 4 (b) (i) VGS = VDS = 1.516 V WV = V = = 2.5 (ii) GS DS 2.61 V 4.1 (a) (i) L 3.39 (a) RD = 8 k , RS = 4.38 k (ii) VGSQ = 2.4 V (b) Let RD = 8.2 k, RS = 4.3 k W Then VGS = 2.82 V, (b) (i) = 8.33 LID = 0.504 mA, VDS = 3.70 V (ii) VGSQ = 1.0 V (c) For RS = 4.73 k, ID = 0.476 mA = = 4.3 λ = 0.0308 V−1, ro = 12.5 k For RS 3.87 k, ID 0.548 mA = = 4.5 (a) λ = 0.01826 V−1, ro = 225 k 3.41 IDQ 1.25 mA, R2 59.4 k, = (b) I = 0.2655 mA R1 20.6 k D  ( =) = = 4.7 ID = 0.25 mA, r = 400 k 3.43 RD 0.8 k, R1 408 k, R2 99.5 k o  WW = 4.9 (a) = 6.02 3.45 ( )2.78 L 1 ( ) L WW W (b) = 10.4 3.47 (a) ( ) = 2.31, = 1.59, LL 1 L 2 4.13 (a) IDQ = 0.270 mA, VDSQ = 1.14 V W = 3 69 (b) gm = 2.078 mA/V, ro = 185 k . L 3 (c) Av = −15.3 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1341 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1341 4.15 (a) IDQ = 0.608 mA, VDSQ = 1.96 V (b) IDQ = 0.0633 mA, (b) Av = −2.44 VDSDQ = VO = 1.575 V (c) RL = 12 k 4.55 (a) r = 900  4.17 (a) From Problem 4.16, RS = 0.5 k, (b) ID = 3.56 mA, r = 337  RD = 3 k, R1 = 894 k, R2 = 347 k 4.57 (a) VGG = 5.95 V (b) Av = −7.99 (c) Av = 0.691 4.19 (a) gm = 1 mA/V, RD = 16 k ( )  W (b) R = 0.6 k 4.59 (a) = 14.4 S L = = D 4.21 (a) RS 38.6 k, RD 6.43 k (b) VB = 1.393 V (b) gm = 0.583 mA/V, ro = 500 k (c) V = − GSDQ = 1.233 V (c) Av 3.19 4.61 Av = −73.7 4.23 (a) RS = 9 , IDQ = 1.244 mA 2 1 (b) Av = −3.10 4.63 (a) VO = VI − (0.4) 3 3 4.25 (a) RS = 7.76 k, RD = 10.2 k [ ]2 (b) Av = − 2 1.50 (b) ID = 0.5 VI − 0.533 3 4.27 (a) IQ = 1.518 mA (c) Av = 0.667 (b) Av = −11.8 (c) A = −8 29 4.65 (a) VGSDQ√= 1.307 V, V . SGL Q = 2.014 V, v = = VDSDQ = 2.593 V 4.29 Let RD 8 k, RS 2 k, K Then, R1 = 778 k, R2 = 269 k n (b) Av = 4.31 gm = 0.98 mA/V, ro = 50 k K  p 4.33 (a) I = 0 15 mA, V = 0 594 V (c) Av = 2 DQ . GSQ . (b) A = 0.938 4.67 (a) gm1 = gm2 = 0.8944 mA/V, v (c) Ro = 605  ro1 = ro2 = 100 k = (b) A = −44 4.35 (a) IQ 1 mA v (c) Ro = 49.7 k W (b) = 19.6 4.69 (a) R1 = 586 k, R2 = 436 k, L = RD1 = 20 k, RS2 = 3.6 k, (c) Av 0.990 = RD2 = 2.4 k (d) Ro 223  (b) Av = 13.6 4.37 (a) (i) Av = 0.927 = 4.71 (a) IDQ1 = 0.757 mA, IDQ2 = 0.757 mA, (ii) Ro 219  = V (b) (i) A 0 907 DSQ1 = 12.4 V, VDSQ2 = 8.65 V v . = (b) gm1 = g (ii) R 349 m2 = 3.48 mA/V o  = = = (c) Av = 2.42 4.39 RS 1.2 k, Av 0.878, Ro 91.9  = = 4.73 (a) R1 = 38.8 k, R2 = 35 k, 4.41 Set gm 5 mA/V, RS 4.09 k, = R3 = 26.2 k, RD = 0.6 k Av 0.870 (b) Av = −5.37 W 4.45 = 80, RD = 10 k 4.75 gm = 1.569 mA/V, Av = −3.62, Ai = −45.2 L 4.77 (a) RS = 1.2 k, R1 = 265 k, 4.47 Av = 11.3, Ri = 342  R2 = 161 k 4.49 (a) RS = 3.70 k, RD = 1.63 k (b) Av = 0.495, Ro = 0.273 k (b) Ri = 0.816 k, Ro = 1.63 k 4.79 RS = 0.516 k, RD = 2.61 k (c) io = 1.84 sin ω t (μA), R1 = 65 k, R2 = 335 k vo = 3.68 sin ω t (mV) 4.51 (a) R = 0.554 k CHAPTER 5 D (b) (gm =)5.657 mA/V, Ri = 177  5.1 (a) β = 115, α = 0.9914, iC = 322 μA (c) Av = 2.75 (b) β = 89, α = 0.9889, iC = 1.78 mA W 4.53 (a) = 25, V = 0 825 V 5.3 (a) 0.99099 ≤ α ≤ 0.99448 GSDQ . L D (b) 5.50 ≤ IC ≤ 9.0 mA nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1342 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1342 Appendix E Answers to Selected Problems 5.5 (a) β = 9, 19, 49, 99, 199, 999 5.53 (a) IB Q = 10.98 μA, IC Q = 0.8782 mA, (b) α = 0.9524, 0.9804, 0.9901, VC E Q = 3.50 V 0.9934, 0.9955, 0.9975 (b) For IC Q : +7.21%; for VC E Q : −11.2% 5.7 VB E = 0.6109 V, IC = 0.7928 mA, 5.55 (a) RT H = 1.714 k, VT H = −3.571 V IB = 7.21 μA, VC = 3.41 V (b) IC Q = 1.41 mA, VC E Q = 2.32 V 5.9 (a) IE = 1.785 mA, IB = 25 μA (d) 1.332 ≤ IC Q ≤ 1.467 mA (b) VE B = 0.7154 V 1.59 ≤ VC E Q ≤ 2.97 V 5.11 I = 6.94 × 10−15 E O A, 5.57 (a) IC Q = 0.0888 mA, V 1 CE Q = 3.55 VI = 1.69 × 10−13 E O A, Ratio = 24.4 (b) IC Q = 0.266 mA, VC E Q = 3.56 V 2 5.13 (a) I = 0.622 mA 5.59 (a) R1 = 44.1 k, R2 = 5.70 k, C (b) r = 137 k RC = 5.75 k o 5.15 β = 60.6 (b) 6.75% I = R = (c) R1 = 63.6 k, R2 = 12.0 k, 6.63% 5.17 (a) C 1.836 mA, C 3.65 k (b) V = 0.164 V, R = 8.11 k 5.61 IC Q = 2.73 mA, V  CE Q = 6 V, BC (c) IC = 1.744 mA, V = 1.96 V R1 = 23.2 k, R2 = 2.83 k CE (d) IB = 4.61 μA, VC = 1.49 V 5.63 (a) Let RE = 0.333 k, RC = 2 k, 5.19 (a) VB B = 0.7091 V R1 = 22.3 k, R2 = 3.96 k (b) V = 2.127 V (b) 2.90 ≤ IC Q ≤ 3.10 mA BB 5.21 (a) I = 0.7273 mA, V = 0.9 V 5.65 R = 0.496 k, R = 32.3 k, C EC E 1 (b) IC = 1.185 mA, V R = 7.37 k EC = 0.2 V 2 (c) I = 0, V = 2 V 5.67 RE = 4.92 k, R1 = 72.5 k, C EC 5.23 (a) β = 134.4, α = 0.9926, R2 = 51.2 k IC = 0.269 mA, VC E = 4.7 V 5.69 R1 = 152 k, R2 = 37.8 k (b) β = 10.63, α = 0.9140 5.71 Let RE = 10 k, RC = 14 k, 5.25 (a) I = 0.245 mA, I = 0.242 mA, R1 = 70.0 k, R2 = 474 k EC β = 80.67, α = 0.9878, V = 1.73 V 5.73 (a) RT H = 54.7 k, VT H = −3.03 V EC (b) V = 0.8371 V, V = 1.70 V (b) IE EC C Q = 0.227 mA, VC E Q = 7.51 V 5.27 V = −4.39 V, V = 1.68 V 5.75 (a) RE = 19.8 k, RC = 80 k, CE 5.29 I = I = 0 5 mA, V = V = 3 V R1 = 573 k, R2 = 123 k E1 E2 . C1 C2 = = (b) IC Q = 0.0514 mA, V 5.31 (a) R 18 k , R 2 656 MC E Q = 4.86 V C  B .  (b) I 5.77 (a) RE = 7 k, RC = 23 k, C Q = 0.375 mA, VC E Q = 2.25 V R = 103 k, R = 316 k 5.33 (a) (i) VO = 3.33 V, (ii) VO = 1.83 V, 1 2 = (b) IC Q = 0.1027 mA, VEC Q = 2.914 V (iii) VO 0.2 V = 5.79 IB1 = 0.0144 mA, II C1 = 1.73 mA, 5.35 (a) Q 0.2017 mA = IE1 = 1.75 mA, IB2 = 0.0232 mA, (b) IQ 0.605 mA = IC2 = 2.785 mA, IE2 = 2.808 mA, (c) IQ 1.008 mA V = CE Q1 = 2.99 V, VC E Q2 = 5.96 V 5.37 IE 2.075 mA, IC = 2.06 mA, = 5.81 R1 = 130 k, R2 = 60 k, R3 = 60 k, VBC 4.47 V RE = 2.5 k, RC = 10.5 k 5.39 1.86 ≤ V1 ≤ 3.96 V 5.83 RE1 = 2.93 k, RE2 = 4.25 k, 5.41 VO = VT ln (10) RC1 = 5.21 k, RC2 = 3.21 k 5.43 VO = 0 for 4.3 ≤ VI ≤ 5 V, = ≤ ≤ CHAPTER 6 VO 4.8 V for 0 VI 1.6 V = 6.1 (a) (i) gm = 19.23 mA/V, r = 9.36 k, 5.45 R π B 3.58 k = ro = 300 k 5.47 RB 4.69 k (ii) gm = 76.92 mA/V, rπ = 2.34 k, 5.49 R1 = 399 k, R2 = 401 k, ro = 75 k VC E Q = 1.30 V (b) (i) gm = 9.615 mA/V, rπ = 8.32 k, 5.51 IE Q = 4.62 mA, VB = 4.68 V ro = 400 k nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1343 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1343 (ii) gm = 3.077 mA/V, rπ = 26 k, 6.35 io = 0.546 mA, peak-to-peak ro = 1250 k 6.37 R1 = 34.9 k, R2 = 18.6 k 6.3 30.77 ≤ gm ≤ 46.15 mA/V, ≤ ≤ 6.39 (a) 2.59 V, peak-to-peak 1.95 rπ 5.85 k (b) iC = 1.294 mA, peak-to-peak 6.5 (a) gm = 16.78 mA/V, rπ = 7.15 k, = 6.41 (a) RE = 0.586 k, IC Q = 0.832 mA ro 183 k = − (b) Ro = 29.3  (b) Av 4.0 (c) vs(t) = −0 125 sin 100 t (V) 6.43 (a) IQ = 2.37 mA . ( ) = (b) Av = 0.9993 6.7 (a) Ri 56.24 k (b) R = 5.87 k 6.45 (a) IC Q = 2.09 mA, Vi CE Q = 3.69 V (c) R = 6.24 k (c) Av = 0.484 i 6.9 it = 15 + 2 89 sin t A (d) R = 122 k, R = 32.4  B( ) . ω (μ ) ib oi (t) = 1.5 + 0.289 sin ω t (mA) 6.47 (a) VB = 0.0617 V, VE = 0.7617 V C vC(t) = 4 − 1.156 sin ω t (V) (b) gm = 19 mA/V, rπ = 4.21 k, A = −231 ro = 304 k v 6.11 (c) Av = 0.906, Ai = 14.8 vbe(t) = −12 sin ω t (mV) it = −6 sin t A) (d) Av = 0.728, Ai = 14.8 b( ) ω (μ 6.13 (a) I = 0 506 mA, V = 1 78 V 6.49 (a) IC Q = 1.29 mA, V. . EC Q = 5.7 V C Q ECQ (b) Av = −1.884 (b) Av = 0.974, Rib = 85.7 k, (c) 1 871 ≤ |A | ≤ 1 895 Ro = 19.8  . v . (c) i (t) = 32.7 sin ω t (μA) 6.15 RE = 16.4 k, RC = 11 s .3 k, = − = io(t) = 2.73 sin ω t (mA) Av 55.1, Ri 14.5 k = = vo(t) = 2.73 sin ω t (V) 6.17 (a) (i) RB 20.25 k, RC 2.53 k = − veb(t) = −72.5 sin ω t (mV) (ii) G f 11.63 mA/V (b) (i) R = 30 3 k , R = 2 52 k 6.51 0.789 ≤ A ≤ 0.811 B .  C .  v (ii) G = −11 62 mA/V 17.0 ≤ Ai ≤ 19.6 f . 6.19 (a) (i) Av = −26.97, G f = −5 39 mA/V 6.53 0.9066 ≤ Av ≤ 0.9999 . (ii) v (t) = −0.108 sin ω t (V) 6.55 R1 = 318 k, R2 = 886 k o io(t) = −21.6 sin ω t (μA) 6.57 Let RE = 33.3 k, R1 = 594 k, (b) (i) Av = −30.5, G f = −6.1 mA/V R2 = 981 k, vo(min) = 3.73 sin ω t (V), (ii) vo(t) = −0.122 sin ω t (V) vo(max) = 3.86 sin ω t (V) io(t) = −24.4 sin ω t (μA) 6.59 (a) Av = 76.9 6.21 (a) VB = −0.0347 V, VE = −0.735 V (b) Ai = 0.9917 (b) RC = 6.43 k (c) Ri = 25.8  (c) Av = −81.7 (d) Ro = RC = 2 k (d) Av = −74.9 6.61 (a) Av = 3.77 6.23 (a) RE = 11.0 k (b) Ai = 0.991 (b) RC = 3.71 k (c) Ri = 1.052 k (c) Av = −43.9 (d) Ro = RC = 4 k (d) Ri ∣∣∣=∣∣∣(4.81)k∣∣∣∣∣∣ 6.63 (a) IC Q = 0.921 mA, VEC Q = 6.10 V 1 6.27 re = r ∣∣ ∣∣r (b) Av = 161 π g 0 m 6.65 (a) VC E Q = 3.72 V 6.29 For Figure 6.28, (b) Av = 63.6 Let RE = 0.5 k, RC = 12.7 k, 6.67 (a) IC Q = 0.4663 mA, VC E Q = 4.79 V R1 = 555 k, R2 = 55 k (b) Rm = 2.12 V/mA 6.31 Let RE = 2 k, RC = 15.1 k, (c) Av = 6.73 R1 = 164 k, R2 = 28.4 k 6.69 (a) IC Q = 0.984 mA, VC E Q = 2.34 V 6.33 3.24 V, peak-to-peak (b) Av = 25.4 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1344 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1344 Appendix E Answers to Selected Problems 6.71 (a) IC Q = 1.91 mA, VECQ = 13.3 V 7.7 (a) |T ( fT )|dB = −9.03 dB, φ = −135◦ (b) 2.70 ≤ Av ≤ 2.71 (b) Slope = −18 dB/octave = (c) 0.0302 ≤ Ri ≤ 0.0305 k −60 dB/decade, φ = −270◦ Ro = RC = 6.5 k 7.9 (a) (ii) ω1 = 1 rad/s, ω2 = 10 rad/s, 6.73 (a) Av1 = 0.4927 ω3 = 100 rad/s, ω4 = 1000 rad/s (b) Av2 = 153.8 (iii) |T (0)| = 10 (c) Av = 75.8 (iv) |T (∞)| = 10 6.75 (a) gm1 = 42.74 mA/V, r (b) (ii) ω = 5 rad/s π1 = 2.34 k, gm2 = 48.65 mA/V, rπ2 = 2.06 k, (iii) |T (0)| = 0 ro1 = ro2 = ∞ (iv) |T (∞)| = 200 (b) Av1 = −85.48, Av2 = −97.3 = ′ = · = 7.11 (a) |T | (c) A 3909, AAA 8317 midband = 159 v v v1 v2 (b) τS = 5.31 ms, τP = 0.332 μs 6.77 (a) IC1 = 2.253 mA, IC2 = 69.73 (c) CC = 0.932 μF, CL = 55.3 pF (b) Av = 0.990 (c) R = 467 6 k , R = 0 512 7.15 (a) RC = 2.49 k ib .  o .  (b) IC Q = 0.503 mA 6.79 (a) Ro = 30.77 k (c) |Av|= max = 48.1 (b) Ro 31.38 k (c) R = 19.17 k 7.17 (a) fL = 959 Hz o = = (b) |Av| = 6.69 6.81 (a) P̄Q 2.564 mW, P̄RC 3.123 mW, P̄RE = 3.175 mW 7.19 (a) RS = 2.59 k, RD = 4.41 k (b) P̄RC = 0.721 mW (b) T (s) = Io(s) 6.83 (a) P̄ = 0.286 mW, Vi (s)RL (b) P̄RL = 0.499 mW = −gm RD (1 + gm RS)(RD + RL) CHAPTER 7 × s(RD + RL)CC 1 + s(RD + RL)C 1 C 7.1 (a) T(s) = 1 + s RC τ = (RD + RL)CC 1 1 (c) CC = 1.89 μF (b) fH = 159 Hz ( − ) t 7.21 (a) R1 = 79.6 k, R2 = 124 k (c) vO(t) =(1 − exp ) (b) Av = 0.991 R1C1 (c) Ro = 17.25  R 1 7.3 (a) T(s = 2 · (d) fL = 19.8 Hz ) R1 + R2 1 + s(R1‖R2)C1 = g (R ‖R ) (b) τ 66.7 ms 7.23 (a) T (s = m D L ) (c) f = 2.39 Hz 1 + gm RSV R 7.5 (a) o = 2 = 0 667 ·[ ( 1 ) ] . V R + R + 1 i 1 2 [1 s ‖RC g Si V m (b) o = 1 Vi ( ) ] · s(RD + RL)CC R (c) Ts = 2 ( 1 +)s(RD + RL)C ( ) CR1 + R2 + 1 · [1 s R1C1] (b) τ = ‖RC g Si [1 + s(R1‖R2)C ] m 1 R (c) τ = (R = 2 = L + RD)CC K + , τ RR AR1C1, 1 2 7.25 (a) fH = 8.30 MHz τB = (R1‖R2 )C1 (b) f = 82.6 MHz nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1345 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1345 7.27 Let IDQ = 0.2 mA, VDSQ = 5 V, 7.63 (b) CM = 96.28 fF VT N = 0.5 V (c) f3-dB = 1.095 GHz, Av = −10.96 W RD = 20 k, = 6.25, R1 = 192.5 k, 7.65 (a) Cπ = 2.20 pF, CM = 27.6 pF L (b) fH = 3.61 MHz, Av = −19.7 R2 = 32.5 k, CC = 0.0284 μF, = 7.67 (a) CM = 6.785 pF CL 2.65 nF (b) fH = 4.84 MHz, Av = −5.67 7.29 (a) RE = 6 k, RB = 532 k (b) C 7.69 (a) fH = −10.4 MHz C = 0.0257 μF (c) A = 0 C = 18.2 v .983 (b) M pF = = (c) A = −4.66 7.31 (a) CC1 12 μF, (b) CC2 0.050 F v 7.33 (a) RS = 6 f = 1.20 f = 56.3 .4 k, R 7.71 (a) Pπ GHz, Pμ MHz D = 5.6 k (b) f = 4.97 Hz, f = 36.8 Hz (b) Av = 2.76 AB (c) f A → 0, f (c) f = 3.75 MHz, CL dominates B = 31.8 Hz 7.35 (a) Same expression as Equation (7.59) 7.73 f = 119 MHz, Av = 1.19 with RS = 0. (b) τA = RE CE CHAPTER 8 τ = rπ RE CE 8.1 (b) (i) RD = 6 , PD,max = 24 W B rπ + (1 + β)RE (ii) RD = 13.3 , PD,max = 30 W 7.37 (a) Av = 118 (c) (i) ID,max = 4 A (b) f = 15.9 MHz (ii) ID,max = 3 A 7.39 CL = 121 pF 8.3 (a) RL = 25 , RB = 3.91 k, 7.41 (a) A[v(s) = −gm(RD‖RL]) PQ,max = 9 W 1 (b) IC,max = 0.8944 A, V · CC = 22.36 V 1 + s R (c) For (a): P̄ ( L = 4.5 W D‖RL )CL = ‖ For (b): P̄ = 2.5 W (b) τ (RD RL )CL L (c) τ = 6.67 × 10−8 s, f = 2.39 MHz, 8.5 (b) VGG = 5 V, P = 9.375 W; HA = −4.7 VGG = 6 V, P = 30 W; v 7.45 g = 9 615 mA/V, f = 33 3 MHz, VGG = 7 V, P = 39.375 W; m . β . C = 0 303 pF VGG = 8 V, P = 10.8 W; π . V = 9 V, P = 7.16 W 7.47 (a) fβ = 4.5 MHz, Cπ = 1.87 pF GG ◦ (b) fT = 2.16 GHz, f = 18.0 MHz 8.7 (b) Tj,max = 145 C β ◦ 7.49 (a) Zi = 2700 − j3.33 (c) θdev−amb = 2 C/W (b) Zi = 2700 − j33.3 8.9 (a) PT = 19.39 W ◦ ◦ (c) Zi = 2656 − j327 (b) Tcase = 90.9 C, Tsnk = 79.3 C (d) Zi = 1100 − j1200 8.11 (a) PT = 13.4 W 7.51 f = 307 kHz (b) VC E,max = 8.96 V 7.53 fL = 159 Hz, fH = 489 kHz 8.13 (b) (i) IC = 29.25 mA 7.55 fT = 1.84 GHz (ii) IC = 61.75 mA 7.57 (a) f = 1.25 GHz (iii) IC = 108 mA T (b) fT = 3.05 GHz 8.15 (a) Av = 0.9928 (c) ID = 290 μA (b) Av = 0.9872 (d) Cgs = 70 fF (c) Av = 0.939 7.59 (a) CM = 344.3 fF 8.17 vO(min) = −3.93 V, vI(min) = −3.43 V; (b) f3-dB = 37.5 MHz vO(max) = 4.43 V, vI(max) = 5.76 V 7.61 (a) rs = 43.5  ′ 8.19 (a) IQ = 0.12 A, R = 187  g (b) m = 94.5% (b) PQ1 = 2.88 W, P = 5.88 W gm (c) η = 11.4% nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1346 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1346 Appendix E Answers to Selected Problems 8.23 (a) V + = −V − = 52 V (d) IDn3 = 23.33 mA, IDp1 = 0.835 mA, (b) IP = 2.04 A IDn2 = 3.188 mA, IDp4 = 0, (c) η = 74% P̄L = 81.7 mW 8.25 (b) (i) Av = 0 8.47 Ro = 7.46  (ii) Av = 0.472 8.49 (a) VB B = 1.742 V, IC ∼ 1 = 10 mA, (iii) Av = 0.739 IC2 = 0.20 A, IC ∼ 3 = 0.5 mA, 8.27 (a) (i) VB B = 4 V VB E1 = 0.58065 V, VB E2 = 0.6585 V (ii) P = 12 mW VE B3 = 0.50276 V (b) (i) vO(max) = 10.39 V (b) iC1 = 4.47 mA, iC2 = 93.9 mA, (ii) iDn = 10.39 mA, iDp = 0, iC3 = 2.267 mA, iC4 = 45.3 mA, iL = 10.39 mA, vI = 11.5 V iC5 = 0.952 A, PQ2 = 4.13 W, (iii) PRL = 108 mW, PMn = 16.7 mW, PQ5 = 13.3 W PMp = 0 8.29 (a) Kn3 = K 2 p4 = 200 μA/V CHAPTER 9 (b) (i) Av = 0; (ii) Av = 0.876 9.1 (a) Aod = 500, (b) v = 2 = 3 mV, 8.31 (a) IC Q 50.57 mA (c) v1 = 0.990 V, (d) vo = 0, (b) RL = 237  (e) v = 2 = −0.506 V (c) P̄L ,max 255 mW (d) η = 9.3 (a) vO = −5 V 42% (b) v1 = 3.00265 V 8.33 (a) IC Q = 98.91 mA (c) A 4 od = 9 × 10 (b) a = 3.89 9.5 (a) Av = −10 (c) P̄L = 333.9 mW (b) Av = −3 (d) η = 28.1% (c) Av = −1 ve = (1 + β)R′ 8.35 (a) E 9.7 (a) Av = −10, Ri = 10 k vi rπ + (1 + β)R′ E (b) A ′ v = −5, Ri = 10 k vo = 1 (1 + β) R (· ) E (c) Av = −5, Ri = 20 k vi (n1/n2) rπ + (1 + β)R′ E 9.9 (a) −10, (b) −1, (c) −0.20, n 2 ′ = 1 (d) −10, (e) −2, (f) −1 where RE Rn L 2 9.11 (a) R1 = 5 k, R2 = 32.5 k 2 = VCC (b) vI = 0.6154 V, i1 = i2 = 0.123 mA (b) a 5 9.13 (a) −9.5% to +10.5% (c) Ro = 0.255  (b) ±2% 8.37 (a) a = 2.86 9.15 R1 = 18.5 k, R2 = 599.6 k (b) PQ = 4.95 W 0.731 ≤ |vO | ≤ 0.769 V 8.39 (a) VB B = 1.473 V 9.17 R1 = 10 k, R2 = 100 k, (b) IC Q = 14 mA R3 = 10 k, R4 = 100 k 8.41 (a) VB B = 1.4845 V 9.19 (a) vO = 8.8 V (b) vB En = 0.75124 V, vE Bp = 0.73322 V (b) vO = 8.7597 V (c) iCn = iCp = 2.828 mA (c) Aod = 1.1477 × 104 (d) vI = −0.73322 V 9.21 (a) vI = −0.7011 V, v1 = −1 mV 8.43 (a) For vO(max) = 4 V, (b) Aod = 2.5 × 104, vI = 0.50022 V R1 = R2 = 32.5  9.23 (a) R1 = 500 k, R2 = R3 = 500 k, (b) IE1 = IE2 = 0.286 A, R4 = 6.41 k IE3 = IE4 = 2.86 A (b) i1 = i2 = −0.1 μA, i4 = −7.80 μA, (c) Ro = 5.34 m i3 = −7.90 μA 8.45 (b) R1 = R2 = 4 k 9.25 For Figure P9.25, Av = −8; (c) IDQ1 = IDQ2 = 2 mA For Figure 9.12, Av = −3 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1347 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1347 9.27 (a) (i) vO = 0.79936 V (b) R2 = R4 = 250 k, (ii) 0.08% R1 = R3 = 10 k (b) (i) vO = 0.79208 V (c) R2 = R4 = 250 k, (ii) 0.99% R1 = R3 = 50 k 9.29 R2 = 111 k (d) R2 = R4 = 125 k, 9.31 (a) R1 = 83.3 k, R2 = 40 k, R1 = R3 = 250 k R3 = 400 k, RF = 250 k 9.63 (a) vO = −4 V, vX = vY = 1.273 V, (b) |iF | = 0.75 μA i1 = i2 = 0.0527 mA, 9.33 v = [−0.707 sin(2π ft) ± 2] (V) i3 = i4 = 0.0127 mA O 9.35 (a) R (b) vO = 4 V, vX = vY = 3.273 V, 1 = 250 k, R2 = 31.25 k, R = 62 5 k , R = 125 k i = i = −0.00727 mA, 3 .  F  1 2 (b) −3 ≤ vO ≤ +3 V, |iF |max = 24 A i3 = i4 = 0.0327 mA μ = (c) vO = −1.5 V, vX = vY = −1.227 V, 9.37 (b) RF 10 k = = i1 = i = 0.00273 mA, (c) (i) vO 0.3125 V, (ii) vO 4.6875 V 2 i = = 3 = i4 = −0.0123 mA 9.41 (a) R1 4.17 k, R2 58.33 k (b) vO = 9.65 (b) A = 0.3 3.75 V, i1 = i cm 2 = 60 μA (c) |Acm |max = 0.0325 9.43 (a) Aod = 250.5 (b) = 49 9 V 9.67 (a) vO1 = 1.2 − 0.72 sin ω t (V) vO . vO2 = 1.2 + 0.72 sin ω t (V) 6 3 9.45 (a) vO = · v + · v 7 I 1 7 I 2 vO = 4.32 sin ω t (V) (b) vO1 = −0.85 + 0.45 sin ω t (V) (b) vO = 0.3 V v = O2 = −0.40 − 0.45 sin ω t (V) (c) vO 42.86 mV vO = 1.35 − 2.7 sin ω t (V) 1 9.47 (a) A = v − v 9.69 (a) i = I 1 I 2 v 1 − x OR (b) 1 ≤ Av ≤ ∞ (b) R = 100  (c) x = 1 (c) vO1 = 5.25 V, vO2 = −0.25 V 9.49 (a) Av = 1 (d) iO = −1 mA, vO1 = −1.75 V, (b) Av = 0.999993 v = 1.75 V (c) Aod =(99 ) ( ) O2 9.71 R1(fixed) = 1 k, R2 = 39.5 k, RR R (var) = 78 k 9.51 (a) A = 1 + 2 , A = − 1 + 2 1 v1 R v2 1 R1 9.73 (a) f = 398 Hz, phase = 90◦ (b) vO1 = −2 V, vO2 = 2 V (b) (i) f = 66.3 Hz, (ii) f = 663 Hz (c) (vO1 − vO2) = 6.4 V R = 9.75 (b) A 2 (0) = − 9.53 (a) (i) v vO 1 V R1 (ii) vO = 1 .67 V = 1 (b) (i) vO = 1 V (c) f 2π R2C2 (ii) vO = 1 .67 V (c) (i) vO = 0.667 V R 9.77 (b) Av(∞ = − 2 ) (ii) v R O = −1.111 V 1 9.55 From Figure P9.54, let RF = 1 k (c) f = 1 9.57 (a) R = 1 k , Let R = 1 k , 2π RC 2  3  1 1 R1 = RF = 10 k 9.79 i2 = 1.52 mA, vO = −1.52 V, (b) i1 = i2 = −0.6 mA, vO = 7 V, iz = 0 i3 = 6 mA, i4 = 1 mA, iO = 6.6 mA 9.83 From Figure 9.40, RF = 500 k, 9.59 (b) Ro = ∞ R1 = 50 k, R2 = 500 k, 9.61 (a) R2 = R4 = 250 k, RA = 500 k, RB = 333.3 k, R1 = R3 = 6.25 k RC = 142.8 k nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1348 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1348 Appendix E Answers to Selected Problems 9.85 RF = 5.33 k, R4 = 31.5 k, 10.27 (a) IREF = 0.186 mA, IO ∼= 19.53 μA, = R2 = VB E2 = 0.6414 V R3 10.6 k, 1.143 R (b) Ro = 13.16 M 1 9.87 For the bridge circuit, RT = 20(1 + δ) k, 10.29 (a) R1 = 18.6 k, RE = 1.20 k R = R = R = 20 k (b) Ro = 6.477 M 1 2 3 For the instrumentation amplifier, (c) 1.54% R4 = R2 = 10.31 VB E1 = 0.718 Vat 2 mA; R1 = 7.14 k, Let 4 , 4.5 RR RE = 1.92 k 3 1 10.33 VB E1 = 0.681 V, IREF = 0.483 mA, CHAPTER 10 IO ∼= 8.7 μA, VB E2 = 0.5766 V 10.1 (a) [ ( ) 10.35 (a) R1 = 10.1 k, RE2 = 1.37 k, 1 − RV 2 BE1 = 0.70038 V, VB E2 = 0.67656 VIC = 2Vγ − (2Vγ + V ) RR + R ] (b) R1 = 10.1 k, RE2 = 1.46 k, 3 1 2 VB E2 = 0.65854 V −VB E 10.37 (a) IREF = 0.93 mA, IO ∼ 2 = 68 μA, (c) R = 2 5 k , I .  O ∼ 3 = 40.7 μA 3 R = R = 2 15 k (b) RE2 = 4.99 k, RE3 = 0.797 .  k 1 2 10.3 VB E1 = VB E2 = 0.6341 V, I = 78.05 μA 10.39 (a) IO1 = 3.1 mA, IO2 = 1.55 mA, OI = 4.65 mA 10.5 V O3 BE1 = 0.63345 V, VB E2 = 0.62393 V, = (b) VC E1 = 3.8 V, VEC2 = 5.35 V, IO 132.07 μA VEC3 = 5.35 V 10.7 IREF = 0.5082 mA, = = 10.41 IC1 = IC2 = 1.86 mA, IC1 IC2 0.4958 mA, = = I = I = 1.86 mA, IB1 IB2 6 198 AC3 C4 . μ = IC5 = IC6 = IC7 = 0.136 mA, 10.9 (a) R1 18.3 k VC E3 = 7.02 V, VC E5 = 14.2 V, (b) 6.3% VEC7 = 4.89 V 10.11 IREF = 0.210 mA, R1 = 20.5 k 10.43 RE1 = 3 k, RE2 = 1.5 k, 10.13 (a) R1 = 9.3 k RE3 = 0.75 k, IO1 = 1 mA, (b) IO = 2 mA IO2 = 2 mA, IO3 = 4 mA (c) RC2 = 2.15 k 10.45 (a) (For V)GS = 0.7(5 V, )R = 25 k, 10.15 Similar to Figure P10.14, biased WW at V + and V −. R1(= 21.5) k = 20, = 40 L 1 L 2 IREF − VB E 1 + R (b) Ro = 667 k β 2 10.17 (a) IO = ( ) (c) 1.5% 1 + 2 + 10.47 (a) 0.19 ≤ IO ≤ 0.21 mA β(1 β) (b) 0.1921 ≤ I ≤ 0.2081 mA (b) R1 = 12.27 k, IREF = 0.7011 mA O 10.19 R = 30.63 k 2 + gr 1 1 10.49 Rm o o = ∼= I 10.21 I = ( REF ) gm(1 + gmro) gm O 1 + 2 10.51 (a) IREF = 606 μA β(2 + β) (b) IO = 362.5 μA 10.23 (a) Ro = 20 M (b) IO = 0.25 μA ((c) )IO = 370.7(μA ) WW 10.25 (a) VB E1 = 0.6347 V, VB E2 = 0.6040 V, 10.53 = 5.56, = 2.78 , LL IO ∼= 61.4 μA ( )1 2 (b) VB E1 = 0.6347 V, VB E2 = 0.5991 V, W ∼= = 1.81 IO 71.2 μA L 3 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1349 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1349 ( ) ( ) WW 10.81 (a) Av = −1978 10.55 ( = 8 L )1 (.33,) = 2.67, L (b) Av = −454 2 WW (c) Av = −256 ( = = 2.72 L ) L ( ) 10.83 (a) To a good approximation, 3 4 WW Ro = ro2[1 + gm2(rπ2‖RE)] 10.57 ( ) = 59.9, = 21.8 , (b) Av = −gm0(ro‖RL‖R ) L 1 Lo 2 10.85 (a) gm0 = 0.80 mA/V, r W o = 333 k = 2.14 gm2 = 0.748 mA/V, ro2 = 250 k L ( )3 ( ) (b) Av = −114.3 10.59 Ro = 2.58 × 109  (c) RL = 143 k W 10.61 ( ) = W 40 ( )= 4 , 10.87 A = −316 , v L 1 L 2 10.89 Av = −366,165 W = W 2.16, = 3.61 L 3 L 4 = CHAPTER 11 10.63 (a) IO 80 μA (b) I = 80 05 A 11.1 (a) vO = 0.375 sin ω t (V) O . μ = (b) vO = 0.45 sin ω t (V) 10.65 (a) (R )6.12 k − − − (= ) (c) vO = 2.75 sin ω t (V) (b) (V V )min 1.66 V WW 11.3 (a) RE = 11.5 k, RC = 18 k ((c) ) = 2(.5, ) = 7.5 (c) −2.3 ≤ vcm ≤ 0.673 V L 5 L 6 11.5 (a) R1 = 73.25 k, RC = 28.5 k WW 10.67 ( ) = 86.1(, ) = 12.5, (b) Ad = 62, Acm = −0.113, L 1 L 2 CMRRdB = 54.8 dB W = W 25 = 50 (c) Rid = 46 k, Ricm = 12.6 M , L 3 L 4 11.7 R1 = 53 k, RC = 40 k, Ad = 38.5 10.69 IREF = 59.09 μA, I1 = 11.82 μA, = = 11.9 (a) RE = 62 k I2 73.87 μA, I3 47.27 μA, = (b) Ad = 71.0, Acm = −0.398, I4 236.4 μA CMRRdB = 45.0 dB 10.71 ID2 = 62.5 μA, IO = 41.67 μA, (c) Rid = 70.4 k, Ricm = 6.28 M VGS1 = VGS2 = 1.107 V, = = 11.11 (a) IC1 = IC2 = 5.90 μA, VSG3 VSG4 0.9893 V VEC1 = V = EC2 = 1.475 V 10.73 (a) IO 2.5 mA (b) (i) Ad = 81.7, Acm = 0 (b) IO = 3 mA (ii) Ad = 40.8, Acm = −0.0442 (c) IO = 3.5 mA 11.13 (a) RE = 17.9 k, RC = 16.7 k 10.75 (a) Av = −1846 (b) |Ad | = 76.9 (b) VI = 0.6943 V (c) Ad = 76.9, Acm = 0.0279, (c) VB = 1.824 V CMRRdB = 68.8 dB 10.77 (a) VE B = 0.5568 V = 11.15 (a) vE = +0.7 V, vC1 = vC2 = −2.87 V (b) R1 4.44 k = (b) vE = +0.7 V, vC1 = −5 V, (c) VI 0.5389 V ( =)− vC2 = −0.736 V (d) Av 1846 (c) vE ∼= +0.7 V, vC1 = −2.255 V, W ( ) = 3( v 96) C2 = −3.485 V 10.79 (a) . , L 0 11.17 (a) (i) vO1 − vO2 = 0, WW ( ) = = 3 24, (ii) vO1 − vO2 = 0.08 V . L 1 L 2 (b) (i) vO1 − vO2 = 0.1995 V, W = (ii) vO1 − vO2 = 0.2795 V 3.24 L 3 11.19 (a) vd(max) ∼= 14 mV (b) Av = −70.35 (b) vd(max) ∼= 21.2 mV nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1350 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1350 Appendix E Answers to Selected Problems 11.21 (a) RE = 37.2 k 11.49 (a) RD = 40.8 k (b) (i) Ad = 119, (ii) Acm = −0.673 (b) vcm(max) = 1.32 V (−1 gm RL) (+1 gm RL) 11.51 (a) RD = 19 k, Ro = 998 k 11.23 A 2 2 v1 = , Av2 = (b) Use cascode current source similar 2 + RL R 2 + L to Figure 10.18 with vDS2(sat) = 0.3 V. ( RC RC g R ) 11.53 (Let I)Q1 = (IQ2 = 0.1 mA, Am L v = then R1 = 100 k), R2 = 50 k 2 + RL WW RC = = 6.67, LL 11.25 Ad = gm RC , Acm = 0 ( )1 ( )2 WW 11.27 −0.22 ≤ vO2 ≤ 0.22 V = = 240 LL 11.29 (a) R1 = 38.6 k, R2 = 236 3 4  (b) R = 292 M 11.55 (a) RD = 6 k, IQ = 1 mA icm  (c) A (b) gf (max) = 0.25 mA/V cm = −0.0123 = (c) A = 1.5 11.31 (a) I1 IQ = 0.337 mA, Id D1 = 0.168 mA, g R VDS1 = 8.79 V, VDS4 = 7.18 V 11.57 A = ( m L d ) (c) vC M(max) = 7.97 V, 2 + RL vC M(min) = −6.02 V RD 11.33 (a) IQ = 160 μA, R 11.59 (a) R = 36.8 k D = 37.5 k 1 (c) v (b) A = 2308 CM = 2.50 V d 11.35 (a) R (c) Rid = 74.9 k, Ro = 480 k 1 = 33.9 k (b) (i) −3.6 ≤ v ≤ 4.3 vO1 − vO2 = 0, (d) cm V (ii) vO1 − vO2 = 0.125 V 11.61 (a) IQ = 0.749 mA (c) (i) vO1 − vO2 = −0.156 V (b) vcm(max) = 3.8 V (ii) vO1 − vO2 = −0.031 V 11.63 (a) Av = 89.72 11.37 (a) vd(max) =∼ 0.19 V (b) Av = 89.32 (b) vd(max) =∼ 0.285 V (c) Av = 89.52 11.39 (a) ID = 6 μA, VSD = 1.69 V 11.65 (a) Ad = 79.44 (b) (i) Ad = 9.66, Acm = 0 (b) vC M(max) = 1.25 V (ii) Ad = 4.83, Acm = −0.0448 11.67 IQ1 = IQ 11.41 Ad = −9.16, Acm = −0.003216, 11.69 (a) R = 1‖4.704 = 0.8247 M CMRRdB = 69.1 dB o (b) Ad = 3172 11.43 (a) vS = 1.459 V, vD1 = vD2 = −4.115 V ( ) (b) vS = 2.344 V, W vD1 = v ∼ D2 = −4.336 V 11.73 IQ ∼= 66 μA, = 23.76 (c) vS = 1.459 V, v L D1 = −3.909 V, n vD2 = −4.321 V ∼ 11.75 (a) Ro = 172 M (d) vS = 2.344 V, vD1 = −4.158 V, (b) Ad = 46096 vD2 = −4.515 V + − 11.45 Let IQ = 0.50 mA( ) 11.77 (a) V = −V = 4 V ; For VD1 =( VD)2 = 3 V, (b) Ad = 50 WW + − then RD = 28 k; = = 1274 11.79 (a) V = −V = 3.4 V L 1 L 2 (b) Ad = 1004 Need Ro = 200 k 11.81 (a) Ad = 88.9 −1 gm RL 11.47 A = ( 2 ) (+1 g R , A = 2 m L) 11.83 (a) gm1 = 0.506 mA/V, gm2 = 27.25 mA/V, d1 Rd2 + L + RL rπ2 = 6.605 k 2 2 R (b) R = 19.8  ( D RD o = gm RL ) 11.85 Av = −48.4 Ad R ∼ 2 + L 11.87 Ri = 1.05 M, Ro = 0.472 k, RD Av = −438 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1351 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1351 11.89 (a) R1 = 27.2 k, R2 = 5 k 1 (b) gm1 = 0.7071 mA/V, gm2 = 2 mA/V, (b) β = R2 ro1 = 200 k, ro2 = 50 k 1 + R1 (c) AR v = −15.25 = (c) β = 0.04999, 2 = 19.004 (d) Ro 0.450 k R1 11.91 (a) RC1 = 80 k, RC2 = 20 k (d) −2.222 × 10−3% (b) Ad1 = −69.6, Ad = −5352 12.21 If b = 24.2 μA, Io = 3.125 mA, 11.93 (a) Ad = −3.73, Acm = 0.0718 βi = 0.007744 A/A, Ai = 3906 A/A (b) vO3 = −0.975 sin ω t (V), 12.23 Ri f = 0.5 , Rof ∼= 2.42  vO3(ideal) = −1.12 sin ω t (V) = 12.25 Ag f = 40 A/V, If o = 6 mA, 11.95 (a) z 39.8 kHz (b) fp = Vf b = 147 μV, Vε = 3 μV 11.7 GHz = 12.27 R = 106 k, R = 5.04 M 11.97 (a) Av 19 if of .5 (b) A = 11.2 12.29 Az = 4 V/μA, Az f = 0.2 V/μA, v βg = 4.75 μA/V 12.31 Ri f = 99.79  CHAPTER 12 12.33 (a) 1  ≤ R 5 i ≤ 10 k 4 12.1 (a) β = 9.98 × 10−3 (b) 0.1  ≤ Ro ≤ 10 k (b) A = 2000 12.35 (a) Av f = 11.0 12.3 (a) (i) T = ∞, A = 6 667 (b) R . if = 273 M f (ii) T = 1.5 × 103, Af = 6.662 (c) Rof = 15 m (iii) T = 15, Af = 6.25 12.37 (a) gm1 = 32.81 mA/V, rπ1 = 3.66 k (b) (i) T = ∞, Af = 4.0 gm2 = 19.12 mA/V, rπ2 = 6.28 k (ii) T = 2.5 × 103, Af = 3.9984 gm3 = 78.08 mA/V, rπ3 = 1.54 k (iii) T = 25, Af = 3.846 (b) Av f = 20.7 12.5 (a) (c) R = 62.4 k β = −0.01245 if d A (d) Rof = 1.39  (b) = 2.5% A 12.39 Av f = 1.273 12.7 (a) β1 = 0.096685, β2 = 0.0195 12.41 (a) (i) Av f = 0.801 (b) For (a), Av f = 47.33 (−5.34%), (ii) Rof = 299  For (b), Av f = 49.86 (−0.28%) (b) (i) +3.78% 12.9 (a) fC = 20 kHz (ii) −15.4% (b) Av f = 40 12.45 For example, R2 = 3 k, 12.11 (a) (i) Av = 5.25 × 105 R1 = 247 k (ii) β = 0.01333 12.47 (a) IDQ1 = 3.99 mA, IDQ2 = 12.01 mA (b) (i) Av f = 74.99 (b) A = i = −0.920 (ii) fC 31.5 kHz 12.49 (a) gm1 = 7.62 mA/V, rπ1 = 13.1 k 12.13 (a) For (a), f3-dB = 2.352 kHz, gm2 = 52.7 mA/V, rπ2 = 1.90 k For (b), f3-dB = 5 kHz (b) Ai f = 8.60 (b) Overall feedback ⇒ wider bandwidth (c) Ri f = 47.4  12.15 For (a), at low input, gain = 81; at high 12.51 (a) g = 67.31 mA/V, r = 1.78 k input, gain = m1 π1 73.4. For (b), at low input, gm2 = 19.23 mA/V, r = π2 = 6.24 k gain 81.1, at high input, gain = 80.1 (b) Av = 7.44 12.17 Vf b = 24 mV, Vε = 1 mV, 12.53 Ai f = 5.33 Av = 2.5 × 103 V/V, Av f = 100 V/V RF AR 12.19 (a) Av f = [ /( )] 12.55 (a) A 1 R g f = ( ) + + 2 RL R 1 A 1 F − R − RL R3 RR 3 1 1 R2 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1352 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1352 Appendix E Answers to Selected Problems (c) R2 = 2 k, set R3 = 2 k, 13.11 IREF = 0.22 mA, IC ∼ 10 = 14.2 μA, R1 = RF = 10 k IC6 = 7.10 μA, IC17 = 0.165 mA, 12.57 Agf = 98.06 mA/VIC13A = 0.055 mA 12.59 Agf = −0.0653 mA/V 13.13 P = 48.8 mW, I = 1.63 mA 12.61 (a) IC Q = 2.448 mA, VEC Q = 1.31 V 13.15 IC13A = 0.125 mA, IR ∼ 10 = 0.012 mA, (b) Az f = −8.666 V/mA IC19 = 0.113 mA, IC18 = 12.565 μA, (c) Ri f = 0.1037 k VB E19 = 0.60185 V, VB E18 = 0.54474 V, (d) Rof = 0.1186 k IC14 = 113 μA 12.63 (a) Az f = −RF 13.17 R1 = 45.11 k, R2 = 51.56 k (b) gm = 4.6 mA/V 13.19 Ad = −882 12.65 RF = 0.807 M 13.21 Av = 964,650 12.71 T = 4.22 13.23 Req = 170  12.73 (a) f180 = 7.1 × 104 Hz 13.25 (a) Rid = 2.095 M (b) β = 0.0205 (b) Rid = 2.80 M (c) Av f (0) = 48.54 13.27 (a) fP D = 10 Hz (d) Smaller (b) CF = 13.25 pF 12.75 (b) β = 4.7 × 10−4 13.29 (a) RD1 = 7.87 k, RD2 = 24.8 k, 12.77 (a) f180 = 106 Hz RS = 15 k (b) β = 2.83 × 10−3 (b) (i) Ad = 2.49 (c) Av f (0) = 351 (ii) A2 = −19.21 12.79 (a) f 5 180 = 3.33 × 10 Hz (iii) A3 = 0.950 (b) (i) |T ( f180)| = 0.156 (c) A = −45.4 (ii) φ = −142.3◦ 13.31 (a) Original: gm1 = gm2 = 0.09975 mA/V, (c) Af (0) = 50 New: gm1 = gm2 = 0.1995 mA/V 12.81 β = 0.01428 (b) Ad = 250, Av2 = 125, Av = 31,250 12.83 (a) f180 = 1.42 × 105 Hz, |T ( f180)| = 4.89 13.33 (a) Iset = IQ = ID7 = 0.1776 mA (b) fP D = 4.85 Hz (b) Ad = 111.9, A2 = −96.86, 12.85 (a) β = 0.0199, f A = −10,839 PD = 711 Hz (b) Phase margin = 29.8◦ 13.35 fP D = 83.9 Hz 12.87 (a) f = 0.976 MHz, phase margin = 73.4◦ 13.37 Ro = 0.63 M (b) f ′ P1 = 2.67 Hz, phase margin = 85.4◦ 13.39 (a) (IQ2 =) 180 μA ( ) 12.89 fP D = 577 Hz W (b) = W 360, = 180 L 8PL 8N CHAPTER 13 13.41 (a) ID6 = ID7 = 43.7 μA 13.1 (a) RD2 = = ((b) A = −35, 15 k, RD1 9 k )v ( )350 ( ) (b) (i) Ad = 2.846, (ii) A = −12 WW W 2 13.43 = = 4.06, = 1.85 (c) A = −34.15 L 1 LP LN 13.5 (a) A = −1.59 × 106 13.45 (a) Ad = 136.1 v (b) Rid = 208 k (b) Ro = 92.6 k (c) GBW = 12.3 MHz (c) (fP D ∼ )= 343(.7 kH)z, GBW = 46.8 MHz 13.7 vd = 56.4 V WW 13.47 (a) = = 16.4 13.9 (a) R5 = 17.13 k, R4 = 2.438 k, L 5 L 6 VE B12 = VB E11 = 0.7184 V, (c) GBW = 27.2 MHz VB E10 = 0.6453 V 13.49 (a) RS = 10 k, RC1 = 3.4 k, (b) IREF = 0.5137 mA, IC =∼10 30.22 μA RC2 = 12.39 k (c) IREF: 2.74%; IC10: 0.733% (b) Ad = 15.60 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1353 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1353 (c) A2 = −20.97 14.29 (a) VP O = 5.0 V (d) A3 = 0.95 (b) VP O = 23.87 V (e) A = −310.8 14.33 (a) IS4 = 5 × 10−15 A 13.51 (a) For NMOS: gmN = 1.0 mA/V, (b) IS4 = 4.939 × 10−15 A roN = 400 k (c) IS4 = 4.811 × 10−15 A For BJT: ro2 = 800 k ( 14.35 (a) −0.360 ≤ vO ≤ −0.240 V (b) )Ad = 266.7 ( ) (b) −3.06 ≤ vO ≤ −2.94 V W 13.53 = WV 6 i .16, = 13.6 14.37 Vo = · t, t = 103 s LN LP RC 13.55 K 2 p = 0.234 mA/V 14.39 At V + node, vO = 0.8645 V, 13.57 Ad = 10.38, |Av2| = 1917, |Av| = 19,895 At center, vO = 0.9545 V, − 13.59 IDSS = 0.8 mA At V node, vO = 1.0445 V 13.61 (a) Set VP = 3 V, V iC1 Z K = 3 V, 14.41 = 1.0155 R3 = 24 k, Set IDSS = 0.2 mA iC2 (b) R4 = 22.8 k 14.43 (a) vO = −0.30 V (b) vO = −0.50 V CHAPTER 14 (c) vO = −0.10 V (d) vO = −1.30 V 14.1 vi (max)rms = 39.77 mV 14.3 (1) vO = 2 V, (2) v2 = 12.5 mV, 14.45 (a) vO = −0.010 V (3) A = 2 × 104 O L , (4) v = 8 μV, 14.47 (a) vO1 = 0.10 V, vO2 = −0.45 V 1 (5) AOL = 1000 14.49 (a) vO1 = 0.15 V, vO2 = 0.15 V, 14.5 (a) (i) AC L = 7.90863 vO3 = −0.09 V (ii) −0.03956% (b) RA = 8.33 k, RB = 10 k (b) (i) AC L = 7.84966 (c) vO1 = ±0.015 V, vO2 = ±0.015 V, (ii) −0.785% vO3 = ±0.021 V 14.7 AOL = 8.9991 × 105 14.51 (a) 4 ≤ vO ≤ 76 mV 14.9 (a) 9.98 ≤ |A| ≤ 10.02 (b) −39 ≤ vO ≤ 39 mV (b) 9.969 ≤ |A| ≤ 10.009 (c) 2.161 ≤ vO ≤ 2.239 V 14.11 A = 49,950 14.53 (a) For offset voltage, O L |v | = 110 mV, |v | = 610 mV 14.13 (a) AC L = 4.927, R = 2 687 M , O1 O2 if .  = For bias currents, Rof 3.16  − vO1 = 0.31 V, vO2 = −1.51 V (b) 0.05% 14.15 = −1 993 − 3 986 ; −0 35% 14.55 For circuit (a), vO = 9 mV; vO . vI 1 . vI 2 . For circuit (b), vO = −1.0815 V 14.17 (a) Ri f = 99.1  (b) R = 18 4 14.57 (a) v = 6 mV, v .  O1 O2 = 28 mV; of (c) A = 0 650 (b) vO1 = 6.495 mV, CL . (d) 0.650 vO2 = 30.31 mV 14.19 f = 7 94 Hz, GBW = 7 94 × 105 Hz 14.59 (a) vO1 = 0.10 V, vO2 = 0.12 V; PD . . = (b) vO1 = 0.105 V, 14.21 fP D 448 Hz vO2 = 0.166 V; 14.23 (a) AC LO = −9.9978, (c) Due to I = B, vO1 = 0.125 V, f3-dB 150.033 kHz vO2 = 0.15 V; (b) AC LO = −999.34, f3-dB = 76.49 kHz Due to IOS, vO1 = 0.133 V, 14.25 |Av|max = 50 vO2 = 0.224 V 14.27 (a) VP O = 5.09 V 14.61 (a) x = 0.4728% (b) VP O = 8 V (b) x = 0.0267% nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1354 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1354 Appendix E Answers to Selected Problems CHAPTER 15 15.23 (a) τ = 60 μs 15.1 (a) Noninverting amplifier: (b) vO = 0.167 V Set R = 30 k, R = 210 k (c) 78 clock pulses 1 2 At noninverting terminal, let input 1 C = 15.25 (a) f = √ 0.001 μF, then R = 5.305 k o  2πR C (C + 2CV ) (b) Inverting amplifier: (b) 480 ≤ fo ≤ 919 kHz Set R1 = 15 k, R2 = 300 k; √ Capacitor in series with R , 1 3R + 2R 1 V C = 15.29 (a) fo = · 530.5 pF 2π RC RV 15.3 6-pole filter R (b) F = 2 15.5 (a) Let R = 20 k, then C = 397.9 pF; RC1 = 1411 pF, C = 553 9 pF, (c) 13.5 ≤ fo ≤ 1√6.84(kHz 2 . ) C3 = 80.5 pF 1 R (b) (i) |T | = −0.0673 dB, 15.31 (a) fo = · 4 ‖ + 2 2πRC R RV (ii) |T | = −0.711 dB, | | = − (b) 19.45 ≤ fo ≤ 22.66 kHz (iii) T 3.0 dB, (iv) |T | = −6.83 dB, R 15.33 (a) 1 + = s RL (v) |T | = −10.9 dB R1 R2 s RL + (R + sL)2 R 15.7 9-pole filter (b) fo = 2πL 15.9 N = 35, f3-dB = 12.25 kHz R2 15.11 (a) |T | = −9.31 dB (c) = 2 R1 (b) |T | = −14.8 dB ∼ (c) |T | = −20 5 dB 15.35 C2 = 0.06 μF, L = 13.8 μH . 1 15.13 3-pole filter 15.37 (a) fo = √ 2π C (L + L ) 15.15 (b) (i) |Av|max = 28.3 1 2 L (ii) fo = 5.305 kHz (b) 1 = gm R (iii) f1 =( 5.296 k)H[z, f2 = 5.315 kH + ‖ ]z L2( )[ ] R2 s RC = + R2 1 s(R1 R2)C 15.39 T(s) = 1 + + , 15.17 (a) T (s) 1 , Rs2 R2 1 C2 3s RC + 1 R1 1 + s R2C 1 R 1 fo = , 2 = 2 f3-dB1 = , 2π(RC R1 2π RC )[ ] 2 Rs RL 1 15.41 T(s) = 1 + 2 , f3-dB2 =( ) R1 s2L2 + 3s RL + R2 2π(R1‖R2)CR fo = RR , 2 = 2 (b) T (s) = 1 + 2 [1 + s(R ‖RC] , 2πL R 1 2 ) 1 R1 15.43 R1 = 1.47 k, R2 = 73.53 k 1 f - = 15.45 (a) VT H = 0.4 V, V = −0.4 V 3 dB 2π(R1‖ TL R2 )C (b) For 33.333 ≤ t ≤ 33.439 ms, 15.19 Two noninverting amplifiers: vO = +10 V, Let R2 = 250 k, R1 = 54.1 k For 33.439 ≤ t ≤ 66.667 ms, vO = −10 V For high-pass filter: Set VREF + VP R = 250 k, C = 31.8 pF R3 R2 For low-pass filter: Set 15.47 (a) VT H = , 1 + 1 1 R = 250 k, C = + 0.00424 μF R1 R2 R3 15.21 (a) Q = 10 pC VREF − VP (b) Ieq = 1 μA RR t = × −8 V 3 2 (c) 4.61 10 s TL = 1 + 1 + 1 R1 R2 R3 nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1355 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1355 (b) R1 = 10.17 k, R2 = 600 k 15.73 (a) Set R2 = R3 = R4 = 100 k, (c) VT H =(−4.9 V, V)TL = −5.1 V R1 = 8.69 k R (b) (i) P̄L = 14.4 W, (ii) RL = 20  15.49 (a) VS = 2 +( · V RR REF), (c) P̄L = 7.2 W 1 2 15.75 (a) Rof = 4 m RV 1 TH = VS +( + ) · VH (b) VO = 12 mV R1 R2 15.77 (a) R4 = 31.5  V = RV + 1 · V (b) R12 = 5.57 k TL SR + RL 1 2 15.79 (a) 7.659 ≤ VO ≤ 22.976 V (b) R1 = 4 k, R2 = 188 k, (b) 4.17 × 10−4% VREF = −1.787 V (c) (i) |i | = 71.8 μA, (ii) |i | = 53.2 μA 15.51 (a) VT H = 0.175 V, VT L = −0.175 V CHAPTER 16 (c) (i) ID1 = 0, ID2 = 0.458 mA, ( ) WI = −0.465 mA, I = 7 μA 16.1 (a) = 2.91 R2 R3 L (ii) ID1 = 0.458 mA, ID2 = 0, = = − (b) VI t = 1.172 V, VO t = 0.672 V IR2 0.465 mA, IR3 7 μA (c) i = D,max = 80 μA, PD,max = 264 μW 15.53 (a) VREF 3.6 V ( ) (b) Let R2 = 90 k, R W ( )1 = 10 k 16.3 (a) R = 41.6 k, = 0.193 (c) vO = −5.1 V L 15.55 (a) v = V( + 2V , ) (b) 0.5 ≤ VGS ≤ 2.38 V O REF γ vO = − VR(EF + 2Vγ , ) K 16.5 (a) D = 4.26 = R1 K V V LT HR (REF + 2Vγ , 2 R ) K (b) D = 5.4 V 1 TL = − VREF + 2V K γ LR2 − (c) P = 0.759 mW 15.57 (a) vX = 5 − 8.333e t/τX for 0 ≤ t ≤ t1; vX = −10 + 11.667e−(t−t1)/τX for (W/L) 16.7 D = 5.4 t ≤ t ≤ T (W/L) 1 L (b) f = 847 Hz 16.9 (a) Driver: VI t = 0.8578 V, 15.59 For 0 ≤ t ≤ t1, t1 = 1.1 ms, VO t = 0.3578 V vY = 10(1 − e−t/τY ), τY = 4 × 10−5 s Load: VI t = 0.8578 V, VO t = 2.5 V 15.61 (a) Set CX = 0 (b) v = 0.0230 V .01 μF, RX = 23.84 k O (b) (c) (iD,ma)x = 64 μA, P v < v ( D,m)ax = 211 μW Y X (c) 133 μs W = W 16.11 (a) 2.47, = 5.04 15.63 (a) Let C = 50 μF, R = 1.09 M LL L D (b) t ∼= 38.7 ms (b) Driver: VI t = 0.720 V, VO t = 0.420 V 15.65 R = 50 k, C = 144.3 pF Load: VI t = 0.720 V, VO t = 1.20 VB ≤ ≤ (c) PD,max = 80 μW, v = 0.0297 V 15.67 1.40 fo 2.72 kHz O 50.5% ≤ duty cycle ≤ 98.1% 16.13 (a) (i) P = 0, (ii) P = 1.16 mW = (b) (i) P = 0, (ii) P = 0.825 mW 15.69 (a) P 3.7 W + =∼ (c) (i) P = 0, (ii) P = 0.20 mW (b) V 19 V (c) V = 8 6 V 16.15 (a) vO1 = 0.0431 V, vO2 = 5 VP . (b) vO1 = 5 V, vO2 = 0.0431 V R 15.71 (a) Av = 1 + 2 + R3 16.17 (a) v = 0.6683 V R1 RI 1 (b) R1 = 50 k, R2 = (b) v = 0.6057 V 200 k I , R3 = 250 k K D (c) |vO1| = |vO2| = = 16.19 (a) = 2.04 10 V, iL 1 A KL nea80644_appE_1337-1358.qxd 8/6/09 10:09 AM Page 1356 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1356 Appendix E Answers to Selected Problems ( ) ( ) W (b) = W 16.47 (a) v = 2.5 V 0.667, = 1.36 (C ) ( ) LL L D W 9 W (b) = · (c) (vO =)0.0329 V ( ) LN 2 LP WW (c) (VI t =) 1.65 V 16.21 (a) = 0.417, = 1.35 ( ) L ML1 L MD1 WW 16.49 (a) = 2, (b) vO2 = 0.0330 V LN 16.23 (a) ∼= 0 135 V ( ) ( ) = 16 LP vO . WW (b) v =∼ 0.067 V, v =∼ 0.068 V, (b) = 4, = 32 DSX DSY vGSX = LN LP 5 V, vGSY ∼= 4.933 V ( ) ( ) 16.25 Ȳ = [A OR (BAND C)] AND D WW 16.51 (a) = 2, = 12 16.27 Y = (A + B)(C + D) ( L )N ( L )P 16.29 (a) For NMOS circuit, WW MN A in parallel with [Min series (b) = 4, = 24 ( NB LN LP with )(MNC in para(llel w)ith MN D)] 16.53 (a) Y = ABC + DEW W (b) = 1.735, = 3.47 (b) MN A, MN B, MNC in series and LA LB,C,D (are in) parallel with M(ND, M)NE in series 16.31 (a) VI t = 1.25 V, VO Pt = 1.65 V, WW V = 0.85 V (c) = 6, = 4, ON t LL (c) For = 1 AN ,B N ,C N DN ,EN vI .1 V, vO = 2.214 V ( ) For vI = 1.4 V, vO = 0.286 V W = 8 16.33 (a) (i) VI t = 1.707 V LP (ii) vI = 1.26 V 16.55 (a) Y = A + BC + DE (iii) vI = 2.157 V (b) MN A in parallel with (MN Bin series (b) (i) VI t = 1.25 V with MNC) in parallel with (Min (ii) vI = ND 0.855 V series wi(th M)NE) (iii) vI = 1.61 V ( ) WW 16.35 (a) 1.7 ≤ vO1 ≤ 3.3 V (c) NMOS: = 2, = 4 (b) vO3 = LL 5 V, vO1 = 2.78 V, ( ) AB,C,D,E vI = 2.5 V W PMOS: = 12 16.37 (a) iD,peak = 24.2 μA LA,B,C,D,E (b) iD,peak = 29.34 μA ( ) ( ) WW (c) iD,peak = 33.23 μA 16.57 (b) All = 3, All = 6 = LN L 16.39 (a) P 12.5 μW P (b) P = 6.48 μW 16.59 (a) Ȳ =(C ()A + B) 16.41 (a) P = 3 × 10−7 WW (b) (i) C (b) All = 4, L = 0.0024 pF LN (ii) CL = 0.00551 pF ( ) ( ) WW (iii)(CL =) 0.0267 pF = 4, = 8 L WC PL AP,BP 16.43 (b) (Let ) = 2, L 16.61 (a) State vO1 vO2 N 1 5 0 W = 4, VDD = 5 V 2 5 0 LP 3 5 0 For NMOS: id = 0.45 mA 4 5 0 For PMOS: id = 0.36 mA 5 5 0 16.45 (a) VI L = 0.8268 V, VI H = 1.2713 V 6 0 5 (b) N ML = 0.5858 V, N MH = 1.0439 V (b) vO2 = (vA OR vB) AND vC nea80644_appE_1337-1358.qxd 8/6/09 10:10 AM Page 1357 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: Appendix E Answers to Selected Problems 1357 16.63 (MN A in series with MM B̄) and in parallel 16.91 Q̄ = 1.794 V, Q = 0.370 V with (MN Ā in series with MN B ) 16.97 (a) 7 bits 16.65 MN A in series with (MN Bin parallel with (b) 0.02578125 V MNC) in series with (MN Din parallel with (c) 1100010 MN E) 16.99 (a) R1 = 5.88% 16.67 (a) (i) vO = 0, (ii) vO = 2.9 V, (b) R4 = 33.3% (iii) vO = 2.5 V = 16.101 (a) I1 = −0.50 mA, (b) (i) vO 0, (ii) vO = 1.4 V, (iii) vO = I2 = −0.25 mA, 1.4 V 16.69 (a) (vO1 =) 2.1 V, vO2(= 2) I3 = −0.125 mA, .5 VI4 = −0.0625 mA, W = W = I5 = −0.03125 mA, (b) 12.1, 1.09 LL I6 = −0.015625 mA 1 3 = + (b) vO = 0.078125 V 16.71 YA ĀB = (c) vO = 1.484375 V Z Ā B̄ (f) vO = 1.640625 V 16.73 (a) (i) Y = 0, (ii) Y = 2.5 V, 16.103 64 resistors, 63 comparators (iii) Y = 0, (iv) Y = 2.5 V Y = 0, Y = 0 16.105 (a) 1010000000 (b) (i) (ii) , Y = 2 5 Y = 2 5 (b) 0101111101 (iii) . V, (iv) . V (c) Multiplexer 16.75 (a) (i) Y = 0, (ii) Y = 2.5 V, CHAPTER 17 (iii) Y = 2.5 V, (iv) Y = 0 17.1 (a) RC = 2 k (b) Exclusive OR (b) (i) vO1 = 0, vO2 = −0.4 V 16.79 For vI = 1.5 V, vO1 = 2.88 V, (ii) vO1 = −0.4 V, v ∼ O2 = 0 vO = 0 (c) P = 0.36 mW vI = 1.6 V, vO1 = 2.693 V, 17.3 (a) RC2 = 6 k vO = 0.00979 V (b) RC1 = 4 k vI = 1.7 V, Switching point, (c) vI = −0.0360 V vI = 1.8 V, vO1 = 0.607 V, = 17.5 (a) RC2 = 0.758 k vO 3.298 V (b) RC1 = 0.658 k 16.81 (a) Positive edge when CL K = 1, (c) For vin = −0.7 V, vO1 = −0.7 V, Q = D = D vO2 = −1.7 V For vin = −1.7 V, v = −1.7 V, 16.83 Not actually a J-K flip-flop O1 vO2 = −0.7 V 16.85 (a) 1 Megabit memory = (d) (i) P = 21.8 mW, (ii) P = 20.7 mW 1,048,576 cells ⇒ × 17.7 (a) R1 = 10.5 k 1024 1024 memory (b) R = R = 17.5 k Then 10 input row and 5 6 (c) IQ = 0.20 mA, RC1 = 3.5 k column decoder lines necessary. × ⇒ (d) IQ = 0.20 mA, RC2 = 3.5 k (b) 250 K 4 bits 262 144 × 4 bits ⇒ 17.9 RE = 1.375 k, RC1 = 0.75 k, , 512 × 512 memory RC2 = 1.031 k, R2 = R3 = 2.25 k Then 9 input row and 17.11 (a) VR = −1.7 V column decoder lines (b) Logic 1 = −0.7 V, logic 0 = −2.7 V necessary. (c) VE = −2.4 V for logic 0, t = ( ) VE = −1.4 62 6 ns V for logic 1 16.87 . (d) P = 39.9 mW for logic 0 and logic 1 W 16.89 R = 0 512 M = 0 797 17.13 (a) V = 2.6 V . , . RL (b) RC1 = 4.57 k nea80644_appE_1337-1358.qxd 8/6/09 10:10 AM Page 1358 pmath DATA-DISK:Desktop Folder:UDAYVEER/Neamen: 1358 Appendix E Answers to Selected Problems (c) RC2 = 5.05  (ii) v′ = 2.2 V, i1 = 0.06875 mA, (d) P = 1.60 mW i3 = 0.5333 mA, i4 = 0.02875 mA 17.15 (a) i1 = 1.4 mA, i2 = 0.8 mA, (b) N = 5 i3 = 0.14 mA, i4 = 0.14 mA, (c) N = 5 iD = 0.74 mA, vO = −0.4 V 17.31 (a) (i) iRB = 1.025 mA, iRC P = iBo = 0, (b) i1 = 1.4 mA, i2 = 0.153 mA, Vout = 5 Vi3 = 0.153 mA, i4 = 0.153 mA, (ii) iRB = 0.70 mA, iRC P = 4.2 mA, iD = 0, vO = −0.0765 V iBo = 0.0837 mA, Vout = 0.8 V (c) i1 = 1.6 mA, i2 = 0.14 mA, (b) (i) P = 5.145 mW i3 = 0.14 mA, i4 = 0.14 mA, (ii) P = 25.4 mW iD = 0, vO = −0.07 V 17.33 (a) (i) v = = O = 3.6 V, (ii) vO = 3.404 V, (d) i1 1.6 mA, i2 0.8 mA, (iii) vO = 1.11 Vi3 = 0.153 mA, i4 = 0.153 mA, (b) I = 34.05 mA iD = 0.953 mA, vO = − L 0.4 V 17.35 (a) iB1 = 1.5 mA, iB2 = 0, 17.17 (a) Logic 0 = −0.4 V iB3 = 0.4 mA, iC2 = 0, Logic 1 = 0 iC3 = 0.5 mA (b) vO1 = A + B , vO2 = C + D, (b) iB1 = 0.5 mA, iB2 = 0.8 mA, vO3 = (A + B) · (C + D) iB3 = 0, iC2 = 7.5 mA, 17.19 (a) (i) v1 = 0.8 V, vO = 2.5 V, iC3 = 0 i1 = 0.141 7 mA, i2 = i3 = 0 17.37 (a) (i) v1 = 0.3 V, vO = 1.5 V, (ii) v1 = 1.5 V, vO = 0.1 V, i1 = 1.2 mA, iB = iC = 0 i1 = i2 = 0.0833 mA, i3 = 0.2 mA (ii) v1 = 1.0 V, v = = O = 0.4 V, (b) (i) v1 1.4 V, vI 0.7 Vi1 = 0.5 mA, iB = 0.465 mA, (ii) v1 = 1.5 V, vI = 0.8 V iC = 0.9167 mA 17.21 (i) v′ = 0.8 V, i1 = 0.525 mA, (b) (i) v1 = 1.0 V, vI = 0.7 V, i3 = i4 = 0 iB = iC = 0 (ii) v′ = 2.2 V, i1 = 0.35 mA, (ii) v1 = 1.0 V, vI = 0.7 V, i3 = 2.04 mA, i4 = 0.297 mA iB = 0.03667 mA, iC = 0.9167 mA 17.23 (a) v1 = 2.3 V, vO = 0.1 V, (c) N = 13 i1 = 0.675 mA, i2 = 1.7 mA, 17.39 (a) RB1 = 18 k, RC1 = 1.63 k i3 = 1.225 mA, i4 = 2.375 mA, (b) vB1 = 0.7 V, vB ∼ 2 = 0, vO = 1.8 V, i5 = 0.08 mA, iB2 = 2.295 mA iB = iC = 0 (b) N = 42 (c) vB1 = 1.5 V, vB2 = 0.7 V, vO = 0.4 V, 17.25 i = 1.53 mA, i = 0.0589 mA, iB1 = 0.0555 mA, i 1 2 C1 = 1.043 mA, i = 1.47 mA, i = 1.37 mA, iB2 = 0.10 mA, iC2 = 0.40 mA 3 Bo iCo = 0.817 mA (d) N = 20 17.27 (a) (i) v = 0.9 V, v = 2.5 V, 17.41 (a) P = 0.4875 mW 1 Oi = 0.1333 mA, i = i = 0 (b) P = 1.98 mW 1 2 3 ∼ (ii) v1 = 1.5 V, vO = 0.1 V, (c) iSC = 78 mA i1 = 0.0833 mA, i2 = 0.09167 mA, 17.43 (a) iDN = 0.1 mA, iD P = 0.289 mA, i3 = 0.20 mA iC1 = 14.45 mA, iC2 = 5 mA (b) (i) v1 = 1.4 V, vI = 0.6 V (b) t = 5.19 ns (ii) v1 = 1.5 V, vI = 0.7 V (c) t = 260 ns 17.29 (a) (i) v′ = 0.8 V, i1 = 0.156 mA, i3 = i4 = 0 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1359 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: Index A current, 397 nonsinusoidal oscillators/timing circuits. See diff-amp. See Differential and multistage Nonsinusoidal oscillators/timing circuits A/D converter, 1226, 1229–1232 amplifiers oscillator. See Oscillator ac circuit analysis, 44 difference, 645–649 Schmitt trigger circuit. See Schmitt trigger ac collector current, 373 emitter-follower, 420–431 circuit ac collector-emitter voltage, 373 error, 1116, 1120 Approximate class-B circuit, 577 ac common-emitter current gain, 380 exponential, 656 Aspect ratio, 708 ac equivalent circuit, 377–378 feedback, 854 Astable multivibrator, 1096, 1105–1107 ac load line, 413–414 FET. See Basic FET amplifier Astable multivibrator 555 circuit, 1105 ac load line analysis, 413–420 generalized three-stage, 436 Attenuation, 640 ac ripple voltage, 68n IC power, 1107–1113 Audio amplifier, 445–449 ac signal, 372 inductively coupled, 587–588 Avalanche breakdown, 31 Acceptor impurity, 15 instrumentation, 650–651 Avalanche multiplication process, 31 Active bandpass filter, 1122–1125 inverting, 627–635 Average power dissipation, 580 Active device, 2 JFET, 258–263 Active filter, 1062–1074 LM380, 1108–1111 active network design, 1062–1063 log, 655 advantages, 1062 MOSFET, 206–216 B defined, 1062 MOSFET integrated circuit, 155 general two-pole, 1064 MOSFET small-signal, 168–169 BC junction, 287 higher-order Butterworth filter, 1068–1070 multistage, 254–258, 436–442. See Differential BE junction, 287 switched-capacitor filter, 1070–1074 and multistage amplifiers Back-gate transconductance, 215 two-pole high-pass Butterworth filter, 1068 NMOS-active loads, 247–254 Back-to-back Zener diodes, 1094 two-pole low-pass Butterworth filter, NMOS depletion load, 244–247 Band-reject filter, 1063 1065–1067 NMOS enhancement load, 239–244 Bandgap energy, 12 Active load, 238, 411, 687. See also Integrated noninverting, 638–639 Bandpass filter, 1063 circuit biasing and active loads, 790 op-amp. See Ideal op-amp Bandwidth, 481 Active load device, 720 OTA, 657–658 Bandwidth extension, 857–859 Active region, 287 PA12, 1111–1113 Bardeen, John, 1 Address decoder, 1211–1212 power. See Output stages and power amplifiers Barkhausen criterion, 1075 Admittance, 47 series-shunt, 873–879 Base, 286 Advanced common-emitter amplifier concepts, single-stage integrated circuit MOSFET, Base-collector (BC) junction, 287 411–412 238–254 Base-collector voltage, 1259 Advanced low-power Schottky (ALS) inverter summing, 636–638 Base-emitter (BE) junction, 287 gate, 1295 transconductance, 397, 870 Base-emitter loop, 377 Advanced Schottky TTL circuits, 1295–1296 transformer-coupled common-emitter, 588–589 Basic BiCMOS differential amplifier, 805 Airplane, 616 transformer/coupled emitter-follower, 589–591 Basic BiCMOS inverter, 1297 All-CMOS folded cascode op-amp circuit, 1012 transresistance, 397, 872 Basic bipolar diff-amp with active load, 1033 ALS inverter gate, 1295 two-stage, 264–266 Basic bipolar difference amplifier, 1031 Alterable ROM, 1209 voltage, 397, 873–879 Basic BJT amplifier, 369–468 Alternative ECL gates, 1270–1273 Amplifier frequency response, 470–472 ac load line analysis, 413–420 Aluminum arsenide, 10 Amplitude-modulated input signal, 82 bipolar linear amplifier. See Bipolar linear Aluminum phosphide, 10 Amplitude-modulated signal, 82 amplifier AM signal, 82 Analog circuit, 3, 206, 370 common-base amplifier, 431–435 Amplification factor, 854 Analog electronics, 619 common-collector amplifier. See Common- Amplifier Analog signal, 3, 206, 370 collector amplifier antilog, 656 Analog-to-digital (A/D) converter, 1226, common-emitter amplifier. See Common- BJT. See Basic BJT amplifier 1229–1232 emitter amplifier BJT application, as, 327–330 AND logic circuit, 105 design application (audio amplifier), 445–449 bridge power, 1113 Answers to selected problems, 1337–1358 maximum symmetrical swing, 415–420 CMOS common-gate, 251–253, 251–254 Antilog amplifier, 656 multistage amplifier. See Multistage BJT CMOS common-source, 247–249 Applications and design of integrated circuits, amplifier CMOS source-follower, 249–251 1061–1140 power considerations, 442–445 common-base, 431–435 active filter. See Active filter Basic BJT differential pair, 754–779 common-collector, 420–431 design application (active bandpass filter), CMRR, 765–768 common-drain, 227–233 1122–1125 common-mode input resistance, 775 common-emitter, 398–412 555 circuit, 1100–1107 dc transfer characteristics, 758–762 common-gate, 234–237 IC power amplifiers. See Integrated circuit differential-/common-mode gains, 771–774 common-source, 216–226 power amplifiers differential-mode input resistance, 774–775 1359"
Index,"Index A current, 397 nonsinusoidal oscillators/timing circuits. See diff-amp. See Differential and multistage Nonsinusoidal oscillators/timing circuits A/D converter, 1226, 1229–1232 amplifiers oscillator. See Oscillator ac circuit analysis, 44 difference, 645–649 Schmitt trigger circuit. See Schmitt trigger ac collector current, 373 emitter-follower, 420–431 circuit ac collector-emitter voltage, 373 error, 1116, 1120 Approximate class-B circuit, 577 ac common-emitter current gain, 380 exponential, 656 Aspect ratio, 708 ac equivalent circuit, 377–378 feedback, 854 Astable multivibrator, 1096, 1105–1107 ac load line, 413–414 FET. See Basic FET amplifier Astable multivibrator 555 circuit, 1105 ac load line analysis, 413–420 generalized three-stage, 436 Attenuation, 640 ac ripple voltage, 68n IC power, 1107–1113 Audio amplifier, 445–449 ac signal, 372 inductively coupled, 587–588 Avalanche breakdown, 31 Acceptor impurity, 15 instrumentation, 650–651 Avalanche multiplication process, 31 Active bandpass filter, 1122–1125 inverting, 627–635 Average power dissipation, 580 Active device, 2 JFET, 258–263 Active filter, 1062–1074 LM380, 1108–1111 active network design, 1062–1063 log, 655 advantages, 1062 MOSFET, 206–216 B defined, 1062 MOSFET integrated circuit, 155 general two-pole, 1064 MOSFET small-signal, 168–169 BC junction, 287 higher-order Butterworth filter, 1068–1070 multistage, 254–258, 436–442. See Differential BE junction, 287 switched-capacitor filter, 1070–1074 and multistage amplifiers Back-gate transconductance, 215 two-pole high-pass Butterworth filter, 1068 NMOS-active loads, 247–254 Back-to-back Zener diodes, 1094 two-pole low-pass Butterworth filter, NMOS depletion load, 244–247 Band-reject filter, 1063 1065–1067 NMOS enhancement load, 239–244 Bandgap energy, 12 Active load, 238, 411, 687. See also Integrated noninverting, 638–639 Bandpass filter, 1063 circuit biasing and active loads, 790 op-amp. See Ideal op-amp Bandwidth, 481 Active load device, 720 OTA, 657–658 Bandwidth extension, 857–859 Active region, 287 PA12, 1111–1113 Bardeen, John, 1 Address decoder, 1211–1212 power. See Output stages and power amplifiers Barkhausen criterion, 1075 Admittance, 47 series-shunt, 873–879 Base, 286 Advanced common-emitter amplifier concepts, single-stage integrated circuit MOSFET, Base-collector (BC) junction, 287 411–412 238–254 Base-collector voltage, 1259 Advanced low-power Schottky (ALS) inverter summing, 636–638 Base-emitter (BE) junction, 287 gate, 1295 transconductance, 397, 870 Base-emitter loop, 377 Advanced Schottky TTL circuits, 1295–1296 transformer-coupled common-emitter, 588–589 Basic BiCMOS differential amplifier, 805 Airplane, 616 transformer/coupled emitter-follower, 589–591 Basic BiCMOS inverter, 1297 All-CMOS folded cascode op-amp circuit, 1012 transresistance, 397, 872 Basic bipolar diff-amp with active load, 1033 ALS inverter gate, 1295 two-stage, 264–266 Basic bipolar difference amplifier, 1031 Alterable ROM, 1209 voltage, 397, 873–879 Basic BJT amplifier, 369–468 Alternative ECL gates, 1270–1273 Amplifier frequency response, 470–472 ac load line analysis, 413–420 Aluminum arsenide, 10 Amplitude-modulated input signal, 82 bipolar linear amplifier. See Bipolar linear Aluminum phosphide, 10 Amplitude-modulated signal, 82 amplifier AM signal, 82 Analog circuit, 3, 206, 370 common-base amplifier, 431–435 Amplification factor, 854 Analog electronics, 619 common-collector amplifier. See Common- Amplifier Analog signal, 3, 206, 370 collector amplifier antilog, 656 Analog-to-digital (A/D) converter, 1226, common-emitter amplifier. See Common- BJT. See Basic BJT amplifier 1229–1232 emitter amplifier BJT application, as, 327–330 AND logic circuit, 105 design application (audio amplifier), 445–449 bridge power, 1113 Answers to selected problems, 1337–1358 maximum symmetrical swing, 415–420 CMOS common-gate, 251–253, 251–254 Antilog amplifier, 656 multistage amplifier. See Multistage BJT CMOS common-source, 247–249 Applications and design of integrated circuits, amplifier CMOS source-follower, 249–251 1061–1140 power considerations, 442–445 common-base, 431–435 active filter. See Active filter Basic BJT differential pair, 754–779 common-collector, 420–431 design application (active bandpass filter), CMRR, 765–768 common-drain, 227–233 1122–1125 common-mode input resistance, 775 common-emitter, 398–412 555 circuit, 1100–1107 dc transfer characteristics, 758–762 common-gate, 234–237 IC power amplifiers. See Integrated circuit differential-/common-mode gains, 771–774 common-source, 216–226 power amplifiers differential-mode input resistance, 774–775 1359 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1360 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: 1360 Index Basic BJT differential pair—(Cont.) Bias current compensation, 1043–1044 Bipolar linear amplifier, 371–396 differential-mode voltage gain with emitter Bias current effects, 1042–1043 ac equivalent circuit, 377–378 degeneration, 777–778 Bias-independent current source, 715–716 alternative form of equivalent circuit, 380 gm mismatch, 770 Bias-independent MOSFET current mirror, 715 base-emitter loop, 377 one-sided output, 763–765 Bias resistor, 590 bipolar transistor inverter circuit, 371 Rc mismatch, 769–770 Bias stable, 336 collector-emitter loop, 377 small-signal equivalent circuit analysis, Bibliography. See Reading list common-emitter current gain, 381 762–765 BiCMOS circuits, 801–805 data sheet, 393–396 two-sided output, 761, 769–770 basic amplifier stages, 801–803 graphical analysis, 372–378 Basic BJT differential-pair configuration, 755 BiCMOS diff-amp, 804, 805 h-parameters, 390–392 Basic common-base circuit, 431 current sources, 803–804 harmonic distortion, 375–376 Basic common-emitter amplifier circuit, 399–400 BiCMOS Darlington pair configuration, 802 hybrid-π equivalent circuit, 380 Basic common-emitter differential pair, 952 BiCMOS diff-amp, 804, 805 hybrid-π equivalent circuit (Early effect), Basic common-source configuration, 217–222 BiCMOS digital circuits, 1296–1298 385–389 Basic complementary push-pull output stage, 577 BiCMOS double cascode constant-current source, input base-emitter port, 378–379 Basic differential amplifier circuit, 1256 803 other small-signal parameters/equivalent Basic diode-transistor logic gate, 1277–1279 BiCMOS folded cascode amplifier, 982 circuits, 390–396 Basic DTL NAND circuit operation, 1277–1279 BiCMOS folded cascode op-amp, 982–983 small signal, 374–375 Basic ECL logic gate, 1258–1259 BiCMOS inverter, 1296–1297 small-signal hybrid-π equivalent circuit, Basic feedback concepts, 853–862 BiCMOS logic circuit, 1297–1298 378–381 Basic FET amplifier, 205–284 BiCMOS operational amplifier circuits, 981–989 small-signal voltage gain, 381–384 common-drain amplifier, 227–233, 238 BiCMOS folded cascode op-amp, 982–983 T-model, 396 common-gate amplifier, 234–237, 238 CA3140 BiCMOS circuit description, 983–984 Bipolar NOR logic circuit response, 326 common-source amplifier, 216–226 CA3140 dc analysis, 984–986 Bipolar NOR logic gate, 326 design application (two-stage amplifier), CA3140 small-signal analysis, 986–989 Bipolar operational amplifier circuit, 812, 950–970 264–266 BiCMOS technology, 801 bias circuit and input stage, 954–956 JFET amplifier, 258–263 Bipolar ac analysis, 384 circuit description, 950–953 MOSFET amplifier, 206–216 Bipolar cascode constant-current source, 803 dc analysis, 953–960 multistage amplifier, 254–258 Bipolar cascode current mirror, 696 frequency response, 968–969 single-stage IC amplifier. See Single-stage Bipolar class-AB output stage, 582 gain stage, 952–953, 956–957, 963–966 integrated circuit MOSFET amplifier Bipolar common-emitter circuit, 719 input diff-amp, 951–952 source-follower amplifier, 227–233, 238 Bipolar Darlington pair configuration, 802 input stage, 961–963 Basic FET differential pair, 779–790 Bipolar digital circuits, 1255–1314 output resistance, 966–968 dc transfer characteristics, 779–784 BiCMOS digital circuits, 1296–1298 output stage, 953, 958–960 differential-/common-mode input design application (static ECL gate), overall gain, 966 impedances, 784 1298–1299 short-circuit protection circuitry, 960 gm mismatch, 788 ECL. See Emitter-coupled logic (ECL) small-signal analysis, 961–968 JFET differential amplifier, 788–789 modified ECL circuit configurations, Bipolar transistor biasing, 330 RD mismatch, 787–788 1267–1276 bias stability, 333–339 small-signal equivalent circuit analysis, Schottky TTL. See Schottky transistor- integrated circuit biasing, 342–343 784–787 transistor logic positive and negative biasing, 339–341 two-sided output, 787–788 TTL. See Transistor-transistor logic single base resistor biasing, 331–333 Basic inverting Schmitt trigger, 1087–1090 Bipolar fuse-linked user-programmable ROM, voltage divider biasing, 333–339 Basic MOSFET differential pair configuration, 779 1223 Bipolar transistor current sources, 688–707 Basic random access memory architecture, 1210 Bipolar inverter circuit, 326 basic three-transistor current source, 693–696 Basic series-pass voltage regulator, 84, 1116 Bipolar junction transistor (BJT), 285–367 cascode current source, 696–697 Basic three-transistor current source, 693–696 amplifier, 327–330. See Basic BJT amplifier improved current-source circuits, 693–698 Basic transistor applications, 323–330 asymmetry, 287 multitransistor current mirror, 704–706 Basic TTL gate, 1280 basic applications, 323–330 two-transistor current source, 688–693 Basic TTL NAND circuit, 1282–1284 basic transistor principle, 286 Widlar current source, 698–704 Basic two-input ECL OR/NOR logic circuit, 1258 bias. See Bipolar transistor biasing Wilson current source, 697–698 Basic two-transistor current source, 688 breakdown voltage, 299–301 Bipolar transistor inverter circuit, 371 Basic two-transistor MOSFET current source circuit symptoms/conventions, 293–295 Bistable multivibrator, 1087 current relationship, 707–708 common-emitter circuit, 302–306 BJT amplifier. See Basic BJT amplifier output resistance, 708–709 common used bipolar circuits, 313–322 BJT current source circuits, 698 reference current, 709–710 cross section, 287 BJT diff-amp with active load, 791–792 Basic two-transistor NMOS current source, 707 current-voltage characteristics, 295–297 BJT diff-amp with three-transistor active load, 806 Battery charger, 70 current-voltage relationship, 294 BJT differential amplifier with three-transistor active Beta cutoff frequency, 505 dc analysis, 301–322 load, 792 Bias design application (diode thermometer with BJT Hartley oscillator, 1083 bipolar transistor biasing. See Bipolar transistor bipolar transistor), 348–350 BJT op-amp circuit, 811–815 biasing digital logic, 325–327 BJT small-signal equivalent circuit, 380 BJT. See Bipolar transistor biasing doped region, 286 Black, Harold, 852 constant-current, 170–175 frequency response, 502–514 Bode, H., 474 constant-current biasing, 170–175 leakage currents, 298–299 Bode plot, 474–479 diode biasing, 592–594 load line, 306–307 Bode plot of gain magnitude, 492 forward, 27 modes of operation, 307–310, 350 Body effect, 143–144, 1160–1162 IC. See Integrated circuit biasing and active multistage circuits, 344–348 Body-effect parameter, 144 loads npn transistor. See npn bipolar transistor Bottom-up design process, 616 integrated circuit biasing, 342–343 pn junction, 286 Brattain, Walter, 1 linear amplifying device, 688 pnp transistor, 292–293 Break-point frequency, 475 positive and negative biasing, 339–341 power, 561–565 Breakdown, 31 reverse, 25 simple geometry, 286 Breakdown effect, 144–145 single base resistor biasing, 331–333 small-signal two-port network, as, 378 Breakdown voltage, 30–32, 52, 299–301 VBE multiplier, 594–596 switch, 323–325 Bridge circuit, 663, 664 voltage divider biasing, 333–339 voltage transfer characteristics, 310–313 Bridge power amplifier, 1113 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1361 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: Index 1361 Bridge rectifier, 72 ac equivalent, 377–378 biasing (VBE multiplier), 594–596 Built-in potential barrier, 24 active load, 719–726 Darlington configuration, 599–600 Butterworth filter analog, 206, 370 diode biasing, 592–594 defined, 1065 BiCMOS, 801–805 input buffer transistors, 596–599 four-pole, 1069 bipolar digital. See Bipolar digital circuits Class-B operation, 576–581 higher-order, 1068–1070 bipolar transistor inverter, 371 approximate class-B circuit, 577 Nth order, 1069 BJT current-source, 698 crossover distortion, 577–578 three-pole, 1069 clamper, 94–97 idealized, 576–577 two-pole high-pass, 1068 clipper, 91–94 idealized power efficiency, 579–581 two-pole low-pass, 1065–1067 CMOS full-adder, 1207–1208 Class-C operation, 585–586 Butterworth Nth-order high-pass filter, 1068–1070 CMOS op-amp, 970–981 Classical cascode stage, 976 Butterworth Nth-order low-pass filter, 1068–1070 common-base, 431 Clipper, 91–94 Bypass capacitor effects, 496–499 common-drain, 227 Clipper circuit, 91–94 common-emitter, 302–306 Clock, 1105 common-emitter amplifier, 399 Clock frequency, 1071 common-gate, 234 Clocked CMOS logic circuits, 1191–1193 C common-source, 146–153 Closed-loop feedback system, 1116 comparator, 1086 Closed-loop frequency response, 920–922 CA3140 BiCMOS circuit description, 983–984 diode. See Diode circuit Closed-loop voltage gain, 625, 628, 634, 864 CA3140 BiCMOS data, 984 diode logic, 104–105 CMOS, 140–141 CA3140 BiCMOS op-amp equivalent circuit, 983 emitter-follower, 421 CMOS cascode current-mirror op-amp, 980 CA3140 dc analysis, 984–986 equivalent preamplifier, 398 CMOS cascode current-mirror op-amp circuit, CA3140 small-signal analysis expanded hybrid-π equivalent, 502–503 980–981 frequency response, 988–989 555, 1100–1107 CMOS common-gate amplifier, 251–254 gain stage, 987 high-frequency equivalent, 514–516 CMOS common-source amplifier, 247–249 input stage, 986–987 hybrid-π equivalent, 380 CMOS current-mirror op-amp, 979 overall gain, 988 LED, 107–108 CMOS current-mirror op-amp circuit, 979–980 Capacitance MOSFET current-source, 711 CMOS D-type flip-flop, 1206 depletion layer, 26 MOSFET digital. See MOSFET digital circuits CMOS diff-amp, 821–824 diffusion, 46 MOSFET high-frequency, 519 CMOS differential sense amplifier, 1219 equivalent input gate, 519 multi-MOSFET current-source, 711–715 CMOS dynamic shift register, 1204 equivalent Miller, 816 multiple-diode, 97–105 CMOS folded cascode amplifier, 977 junction, 26 multistage MOSFET, 175–179 CMOS full-adder circuit, 1207–1208 Miller, 510–512, 518–520 Norton equivalent, 396 CMOS inverter, 163–164, 1168–1182 overlap, 515 one-bit full-adder, 1207–1208 dc analysis, 1170–1176 parasitic, 515 op-amp. See Operational amplifier circuits noise margin, 1178–1182 Capacitance of parallel plate capacitor, 126n op-amp voltage reference, 661 p-channel MOSFET, 1168 Capacitor, 1331 phase-shift oscillator, 1078 power dissipation, 1176–1178 compensation, 922 photodiode, 106 transistor sizing, 1175–1176, 1184–1185 coupling, 331, 399 piezoelectric crystal equivalent, 1083 voltage transfer curve, 1171–1175 emitter bypass, 496 precision half-wave rectifier, 654 CMOS inverter current, 1175–1176 filter, 76 rectifier. See Rectifier circuit CMOS logic circuits, 1183–1191 input coupling, 485–488 reference, 1260–1262 basic CMOS NOR and NAND gates, 1183 MOS, 127, 128 Schmitt trigger, 1084–1095 clocked, 1191–1193 output coupling, 488–490, 490–492 simplified BJT op-amp, 811–815 complex, 1187–1190 source bypass, 224–226 small-signal equivalent, 210–214, 378, 380, 399 fanout, 1190 Capacitor charging current, 78 SRAM read/write, 1218–1220 propagation delay time, 1191 Capacitor impedance, 217, 399 summing op-amp, 636 transistor sizing, 1184–1187 Capacitor values. See Standard resistor and switched-capacitor, 1072 CMOS master-slave D flip-flop, 1207 capacitor values Thevenin equivalent, 333, 396 CMOS NAND logic gate, 1184 Carbon resistors, 1329–1330 two-port equivalent, 403 CMOS NOR gate, 1183, 1186 Carrier, 17 voltage doubler, 83–84 CMOS one-bit full adder, 1208 Carrier velocity saturation, 1150 voltage-follower op-amp, 640 CMOS operational amplifier circuits, 970–981 Cascade, 175, 436 Circuit element matching, 950 CMOS cascode current-mirror op-amp circuit, Cascade circuit (multistage amplifier), 254–256 Circuit load line, 37 980–981 Cascade configuration Circuits with active loads, 719–726 CMOS current-mirror op-amp circuit, 979–980 multistage BJT analysis, 436–438 dc analysis - BJT active load circuit, 720–722 folded cascode CMOS op-amp circuit, 976–979 multitransistor circuit, 176–177 dc analysis - MOSFET active load circuit, MC14573 CMOS op-amp circuit, 970–973 Cascaded clocked CMOS logic circuit, 1193 724–725 three-stage CMOS op-amp, 973–976 Cascaded-stage amplifiers. See Differential and discussion, 726 CMOS pass networks, 1202 multistage amplifiers voltage gain - BJT active load circuit, 722–724 CMOS RS flip-flop, 1205 Cascode, 178 voltage gain - MOSFET active load circuit, 725 CMOS source-follower amplifier, 249–251 Cascode circuit (multistage amplifier), 256–257 Clamper, 94–97 CMOS SRAM cells, 1214–1217 Cascode configuration Clamper circuit, 94–97 CMOS static exclusive-OR logic gate, 1189 multistage BJT analysis, 440–442 Clamping, 94 CMOS static RAM cell, 1215 multitransistor circuit, 178–179 Class-A operation, 572–576 CMOS transmission gate, 1200–1201 Cascode current mirror, 711–713 Class-A power amplifier, 586–591 CMRR, 648, 765–768, 1046–1047 Cascode current source, 696–697 inductively coupled amplifier, 587–588 Collector, 286 Channel inversion charge, 515 transformer-coupled common-emitter amplifier, Collector-emitter loop, 377 Channel length modulation, 142, 1150 588–589 Collector-emitter voltage, 1259 Channel-length modulation, 515 transformer-coupled emitter-follower amplifier, Colpitts oscillator, 1082–1083 Channel length modulation factor, 1169 589–591 Common-anode display, 107 Channel-length modulation parameter, 142 Class-AB operation, 581–585 Common-base amplifier, 431–435 Channel region, 128 Class-AB output stage, 581 Common-base circuit, 431, 525 Chip select signal, 1210 Class-AB push-pull complementary output stages, Common-base circuit configuration, 295 Circuit 591–601 Common-base current gain, 289 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1362 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: 1362 Index Common-collector amplifier, 420–431 Coupling capacitor effects, 485–492 offset voltage compensation network, input/output impedance, 423–426 Covalent bond, 11 1047–1049 other basic amplifiers, compared, 435–436 Cross-coupled NMOS sense amplifier, 1219 output stage using MOSFETs, 601–603 small-signal current gain, 426–431 Crossover distortion, 577–578, 949 static CMOS logic gate, 1232–1234 small-signal voltage gain, 420–423 Crystal matrix, 11 static ECL gate, 1298–1299 Common-drain amplifier, 227–233, 238 Crystal oscillator, 1083–1084 two-stage amplifier, 264–266 Common-drain circuit, 227 Current amplifier, 397 two-stage amplifier with coupling capacitors, Common-emitter amplifier, 398–412, 573 Current buffer, 434 537–539 advanced common-emitter amplifier concepts, Current divider, 486 two-stage CMOS op-amp, 992–995 411–412 Current mirror, 170, 688 Detector, 82–83 basic amplifier circuit, 399–400 Current (shunt-series) amplifier, 879–886 Detector circuit, 82 circuit with emitter bypass capacitor, 407–410 discrete circuit representation, 882–886 Diff-amp. See Differential and multistage circuit with emitter resistor, 400–407 op-amp circuit representation, 880–881 amplifiers other basic amplifiers, compared, 435–436 simple discrete circuit representation, 881–882 Diff-amp circuit, 1256–1258 Common-emitter bipolar transistor, 391 Current-to-voltage converter, 641–642 Diff-amp frequency response, 815–821 Common-emitter circuit, 294, 302–306, 373 Current transfer function, 472 active load, 820–821 Common-emitter configuration, 290 Cut-in voltage, 38 common-mode input signal, 817–819 Common-emitter current gain, 290–291, 381 Cutoff, 291 differential-mode input signal, 816 Common-emitter h-parameter, 390 Cutoff frequency, 506–507, 519 emitter-degeneration resistors, 820 Common-emitter npn bipolar transistor, 502 Cyclical frequency, 470n Difference amplifier, 645–649 Common-emitter npn transistor, 391 Difference amplifier and bridge circuit design, Common-gate amplifier, 234–237, 238 663–664 Common-gate circuit, 234 Difference amplifier block diagram, 754 Common-mode gain, 648 D Differential amplifier circuit, 1256–1258 Common-mode gain frequency response, 818 Differential amplifier with active load, 790–801 Common-mode input resistance, 775 D/A converter, 1226, 1227–1229 BJT diff-amp with active load, 791–792 Common-mode input signal, 623, 648 D flip-flop, 1206–1207 MOSFET diff-amp with cascode active load, Common-mode input voltage, 648, 754 Darlington configuration, 439, 599–600 798–800 Common-mode rejection, 623 Darlington pair configuration, 439–440, 801 MOSFET differential amplifier with active Common-mode rejection ratio (CMRR), 648, Darlington pair gain stage, 806 load, 794–798 765–768, 1046–1047 Data converter, 1226–1232 small-signal analysis of BJT active load, Common-source amplifier, 216–226 A/D converter, 1229–1232 792–794 basic configuration, 217–222 basic A/D and D/A concepts, 1226–1227 Differential and multistage amplifiers, 753–850 source bypass capacitor, 224–226 counting A/D converter, 1230–1231 basic BJT differential pair. See Basic BJT source resistor, 222–224 D/A converter, 1227–1229 differential pair summary, 238 dual-slope A/D converter, 1231–1232 basic FET differential pair. See Basic FET Common-source amplifier with source resistor, flash A/D converter, 1229–1230 differential pair 222–224 R-2R ladder network D/A converter, 1228–1229 BiCMOS circuits, 801–805 Common-source circuit with source bypass weighted-resistor 4-bit D/A converter, 1227–1228 block diagram, 754 capacitor, 224–226 Data sheets, 393–396. See also Selected design application (CMOS diff-amp), 821–824 Common-source NMOS transistor circuit, 220 manufacturers’ data sheets diff-amp frequency response, 815–821 Comparator, 1084–1087 dc load line, 413, 573 differential amplifier with active load. See inverting comparator circuit, 1086 dc power supply, 108–110 Differential amplifier with active load noninverting comparator circuit, 1086 dc quantity, 4, 372 gain stage/simple output stage, 806–811 open-loop comparator circuit, 1087 dc transfer characteristics generally, 754 threshold, 1101 BJT differential pair, 758–762 simplified BJT op-amp circuit, 811–815 trigger, 1103 FET differential pair, 779–784 Differential input resistance, 646 Compensation capacitor, 922 Dead band, 577 Differential mode gain, 762 Complementary MOS (CMOS), 140–141 Decade, 475 Differential-mode gain, 818 Complementary MOS (CMOS) inverter, 163–164 Decoder, 1211 Differential-mode input resistance, 774–775 Complementary MOSFET, 140–141 Demodulated output signal, 82 Differential-mode input voltage, 754, 760 Complementary push-pull output stage, 577 Depletion layer capacitance, 26 Differential voltage gain, 623 Complete amplifier system, 664 Depletion-load inverter, 1160 Differentiator, 653 Complex CMOS logic circuit, 1187 Depletion mode, 138 Diffusion, 17 Complex frequency s, 472 Depletion-mode JFET connected as current Diffusion capacitance, 46 Composite transconductance, 802 source, 716 Diffusion conductance, 45 Compound semiconductor, 10 Depletion-mode MOSFET, 138 Diffusion current density, 19–21 Computer memory, 1208–1225 Depletion-mode NMOS device, 161 Diffusion resistance, 45, 379 address decoder, 1211–1212 Depletion region, 24 Digital circuits, 3–4 CMOS SRAM cells, 1214–1217 Desensitivity factor, 857 Digital electronics, 1141–1314 DRAM cells, 1220–1221 Design. See Applications and design of integrated bipolar digital circuits. See Bipolar digital memory architecture, 1210 circuits; Electronic design circuits NMOS SRAM cells, 1212–1214 Design applications logic functions/logic gates, 1141–1142 RAM, 1209, 1212–1221 active bandpass filter, 1122–1125 logic levels, 1143 ROM, 1209–1210, 1221–1225 audio amplifier, 445–449 MOSFET digital circuits. See MOSFET digital SRAM read/write circuitry, 1218–1220 CMOS diff-amp, 821–824 circuits Conduction parameter, 133, 1169 dc power supply, 108–110 noise margin, 1143–1144 Conductivity, 18 diode thermometer, 54–56 preview, 1141 Constant-current biasing, 170–175 diode thermometer with bipolar transistor, propagation delay time, 1144 Constant-current source, 289, 687, 688 348–350 switching time, 1144 Conversion efficiency, 581 diode thermometer with MOS transistor, 190–192 Digital logic, 325–327 Conversion factors, 1315 electronic thermometer with instrumentation Digital logic gate, 167–168 Corner frequency, 475, 481, 487 amplifier, 665–668 Digital signals, 3–4 Counting A/D converter, 1230–1231 MOSFET feedback circuit, 924–926 Digital-to-analog (D/A) converter, 1226, Coupling capacitor, 331, 399 NMOS current source, 734–736 1227–1229 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1363 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: Index 1363 Diode. See also Diode types Drain terminal, 128 Emitter-follower amplifier. See Common-collector back-to-back Zener, 1094 Drain-to-source resistance, 567 amplifier ideal, 34, 35 Drain-to-source voltage, 130, 131, 1297 Emitter-follower circuit, 421, 533 LED, 49 DRAM, 144, 1209 Emitter resistor, 400 piecewise linear, 37–41 DRAM cells, 1220–1221 Energy band diagram, 12 pn junction, 9, 29–34 Drift, 17 Enhancement-load device, 157–165 Schottky, 50 Drift current density, 17 Enhancement-load inverter, 1160 speedup, 1295 Driver transistor, 158 Enhancement mode, 128 varactor, 26 Dual-slope A/D converter, 1231–1232 Enhancement-mode MESFET, 183 Diode AND logic circuit, 105 Duty cycle, 1097 Enhancement-mode MOSFET, 130 Diode biasing, 592–594 Dynamic RAM (DRAM), 1209 Enhancement-mode NMOS transistor, 1222 Diode breakdown voltage, 52 Dynamic RAM (DRAM) cells, 1220–1221 Enhancement-mode p-channel MESFET, 183 Diode charging time, 78, 79 Dynamic random access memory (DRAM), 144 Enhancement-mode pn JFET, 183 Diode circuit. See Diode circuit; Diode circuit - ac Dynamic shift register, 1203–1204 EPROM, 1224 equivalent circuit; Diode circuit - dc EPROM transistor, 1224–1125 analysis; Diode types Equilibrium pn junction, 23–25 clamper circuit, 94–97 Equivalent input gate capacitance, 519 clipper circuit, 91–94 E Equivalent Miller capacitance, 816 design application (dc power supply), 108–110 Equivalent preamplifier circuit, 398 LED circuit, 107–108 Early, J. M., 296 Equivalent Thevenin resistance, 333 logic circuit, 104–105 Early effect, 296 Equivalent Thevenin voltage, 333 multiple-diode circuit, 97–105 Early voltage, 296, 695 Equivalent two-port networks, 397 photodiode circuit, 106 Ebers-Moll model, 310 Erasable programmable ROM (EPROM), 1224 rectifier circuit. See Rectifier circuit ECL. See Emitter-coupled logic (ECL) Error amplifier, 1116, 1120 Zener diode circuit, 84–90 ECL OR/NOR logic gate voltage transfer Euler’s identity, 4 Diode circuit - ac equivalent circuit characteristics, 1266 Excess carrier lifetime, 22 circuit analysis, 45–46 ECL series gating, 1274, 1275 Excess carriers, 21–22 current-voltage relationships, 43–45 EEPROM, 1210, 1225 Excess electron, 22 frequency response, 46–47 Einstein relation, 21 Excess hole, 22 sinusoidal analysis, 43–47 Electrically erasable ROM (EEPROM), 1210, 1225 Exclusive-OR function, 1166, 1167 small-signal equivalent circuit, 47 Electron accumulation layer, 128 Expanded hybrid-π equivalent circuit, 502–503 Diode circuit - dc analysis, 34–43 Electron diffusion coefficient, 20 Exponential amplifier, 656 computer simulation/analysis, 41–42 Electron-hole recombination, 22 External offset compensation network, 1038–1039 iteration/graphical analysis techniques, 36–37 Electron inversion layer, 128 Extrinsic semiconductor, 15 piecewise linear model, 37–41 Electron mobility, 17 Extrinsic semiconductors, 14–16 summary, 42–43 Electron-volt, 12n Diode clamper circuit, 94–97 Electronic circuit, 2 Diode clipper circuit, 91–94 Electronic design, 615–618 Diode conduction time, 78, 79 bottom-up design process, 616 F Diode current, 78 circuit performance estimation/simulation, 618 Diode logic circuit, 104–105 design approach, 615–616 Fanout Diode OR logic circuit, 104 flowchart, 617 CMOS logic circuits, 1190 Diode rectifier, 35 generally, 617–618 ECL, 1263–1264 Diode thermometer, 54–56 prototype circuit, 618 NMOS logic circuits, 1167 Diode thermometer with bipolar transistor, 348–350 system design, 616–617 TTL, 1285–1286 Diode thermometer with MOS transistor, 190–192 top-down design process, 615–616 Feedback amplifier, 854 Diode types, 48–53. See also Diode Electronic noise, 859 Feedback and stability, 851–946 LED, 49 Electronic power supply, 68 bandwidth extension, 857–859 photodiode, 49 Electronic thermometer. See Thermometer basic feedback concepts, 853–862 pn junction diode, 29–34 Electronic thermometer with instrumentation computer simulation, 853 Schottky barrier diode, 50–51 amplifier, 665–668 current (shunt-series) amplifier, 879–886 solar cell, 48–49 Electronics, 1 design application (MOSFET feedback circuit), Zener diode, 51–53 Elemental semiconductor, 10 924–926 Direct bandgap material, 49 Emitter, 286 frequency compensation, 918–924 Direct bandgap semiconductor, 107 Emitter bypass capacitor, 407–410, 496 gain sensitivity, 856–857 Discrete circuit representation Emitter-coupled logic (ECL), 753, 1256–1275 ideal closed-loop signal gain, 854–856 current amplifier, 882–886 alternative ECL gates, 1270–1273 ideal feedback topologies, 863–873 transconductance amplifier, 888–892 basic ECL logic gate, 1258–1259 loop gain, 901–907 transresistance amplifier, 895–901 dc analysis, 1266 noise sensitivity, 859–861 voltage amplifier, 873–879 diff-amp circuit, 1256–1258 nonlinear distortion, 861–862 Discrete-circuit series-shunt feedback topology, 874 ECL logic gate with emitter followers, positive/negative feedback, 852–853 Discrete electronic circuit, 3 1259–1260 series-series configuration, 870–871 Discrete-transistor shunt-series feedback circuit, 883 fanout, 1263–1264 series-shunt configuration, 863–866 Discrete transistor shunt-shunt feedback circuit, 895 low-power ECL, 1267–1269 shunt-series configuration, 867–870 DMOS device, 566 modified ECL circuit configurations, shunt-shunt configuration, 871–872 DMOS process, 566 1267–1276 stability of feedback circuit. See Stability of Dominant low-frequency pole, 968 negative supply voltage, 1265–1266 feedback circuit Dominant pole, 500, 919 noise margin, 1266–1267 transconductance (series-series amplifier), Domino circuit, 1193 power dissipation, 1262–1263 886–892 Domino CMOS logic circuit, 1193 propagation delay time, 1263, 1275–1276 tranrsesistance (shunt-shunt amplifier), Donor impurity, 14 reference circuit, 1260–1262 833–901 Doped semiconductor, 15 series gating, 1273–1275 voltage (series-shunt) amplifier, 873–879 Doping, 14 voltage transfer characteristics, 1266–1267 Feedback circuit, 1075 Double-diffused process, 566 Emitter degeneration, 820 Feedback effect, 507 Drain current, 142 Emitter-degeneration resistors, 820 Feedback transfer function, 854 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1364 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: 1364 Index FET. See Field-effect transistor Forward transconductance, 760 General op-amp circuit design, 948–950 FET amplifier. See Basic FET amplifier 4-bit weighted-resistor D/A converter, 1227 General two-pole active filter, 1064 FET current sources, 707–719 Four-pole high-pass Butterworth filter, 1070 General two-pole low-pass filter, 1065 basic two-transistor MOSFET current source, Four-pole low-pass Butterworth filter, 1070 Generalized CMOS clocked logic circuit, 1193 707–711 Four-terminal NMOS device, 214 Generalized current mirror, 705, 706 bias-independent current source, 715–716 FPBW, 1029 Generalized inverting amplifier, 652 cascode current mirror, 711–713 Frequency compensation, 918–924 Generalized op-amp summing amplifier, 659 JFET current source, 716–718 basic theory, 918–920 Generalized three-stage amplifier, 436 multi-MOSFET current-source circuit, 711–715 closed-loop frequency response, 920–922 Generalized two-stage amplifier, 175 wide-swing current mirror, 713–714 Miller compensation, 922–924 Germanium, 10, 13 Wilson current mirror, 713 problem-solving technique, 920 Graphical analysis technique, 36 FET differential pair. See Basic FET differential pair Frequency response, 469–558 Field effect, 126 amplifier, 470–472 Field-effect transistor, 125–204 bipolar transistor, 502–514 CMOS, 140–141 Bode plot, 474–479 H constant-current biasing, 170–175 bypass capacitor effects, 496–499 current source. See FET current sources cascode circuit, 528–532 h-parameters, 390–392 design application (diode thermometer with common-base circuit, 524–528 Half-wave rectification, 68–71 MOS transistor), 190–192 common-emitter circuit, 521–524 Half-wave rectifier, 69 differential pair, 779–790 common-gate circuit, 524 Half-wave rectifier circuit, 70 frequency response, 514–520 common-source circuit, 524 Harmonic distortion, 375–376. See also Total JFET, 180–190 coupling and bypass capacitors, 499–501 harmonic distortion (THD) MESFET, 182–190 coupling and load capacitors, 493–496 Hartley oscillator, 1083 MOSFET. See MOSFET coupling capacitor effects, 485–492 Heat sink, 567–571 MOSFET dc circuit analysis, 146–165 cutoff frequency, 506–507 Hester, Richard, 384 NMOS, 128–134, 141 emitter-follower circuit, 532–536 HEXFET structure, 566 PMOS, 134–137, 141 expanded hybrid-π equivalent circuit, 502–503 High-frequency amplifier design, 536 Field oxide, 129 FET, 514–520 High-frequency equivalent circuit, 514–516 Filter, 75–76 first-order functions, 473–474 High-frequency radio-frequency (RF) circuit active. see Active filter high-frequency amplifier design, 536 design, 572 band-reject, 1063 high-frequency equivalent circuit, 514–516 High-frequency range, 470, 471 bandpass, 1063 input coupling capacitor, 485–488 High-frequency response of transistor circuits, Butterworth. See Butterworth filter load capacitor effects, 492–493 520–537 four-pole, 1069 Miller capacitance, 510–512, 518–520 cascode circuit, 528–532 general two-pole active, 1064 Miller effect, 507–509, 512–513, 518–520 common-base circuit, 524–528 high-pass, 1062 multistage circuits, 485 common-emitter circuit, 521–524 higher-order Butterworth, 1068–1070 open-circuit time constant, 480–482 common-gate circuit, 524 low-pass, 1063 output coupling capacitor (common-source common-source circuit, 524 one-pole, 1063 circuit), 488–490 emitter-follower circuit, 532–536 switched-capacitor, 1070–1074 output coupling capacitor (emitter-follower high-frequency amplifier design, 536 three-pole, 1069 circuit), 490–492 source-follower circuit, 532 two-pole high-pass Butterworth, 1068 s-domain analysis, 472–473 High-pass filter, 1062 two-pole low-pass Butterworth, 1065–1067 short-circuit current gain, 503–505 High-pass network, 476 Filter capacitor, 76 short-circuit time constant, 480–482 Higher-order Butterworth filter, 1068–1070 Filter circuit, 75 source-follower circuit, 532 Historical overview, 1–2 Finite differential-mode gain, 633 system transfer functions, 472–485 Hole, 13 Finite open-loop gain, 633, 1013–1023 time constant technique, 488 Hole diffusion coefficient, 20 Finite output resistance, 142–143 time response, 483–485 Hole inversion layer, 128 First-order functions, 473–474 transistor amplifiers with circuit capacitors, Hole mobility, 18 First-order transfer function, 473–474 485–501 Hybrid FET op-amp Five-input NOR logic address decoder, 1211 transistor circuits, 520–537 LF155 series, 990–991 555 circuit, 1100–1107 unity-gain bandwidth, 516–518 LH002/42/52 series, 989–990 astable multivibrator, 1105–1107 Frequency-selective network, 1075 Hybrid-π, 378 basic operation, 1101–1103 Full-power-bandwidth (FPBW), 1029 Hybrid-π equivalent circuit, 303, 380 monostable multivibrator, 1103–1105 Full-wave bridge rectifier, 73 Hybrid-π equivalent circuit (Early effect), other applications, 1107 Full-wave rectification, 71–74 385–389 555 IC timer circuit, 1101 Full-wave rectifier, 72 Hysteresis effect, 1089 555 monolithic integrated circuit timer, 1100 Flash A/D converter, 1229–1230 Flash memory, 1210 GI Flip-flop D, 1206–1207 gm mismatch IC biasing. See Integrated circuit biasing and defined, 1205 BJT differential pair, 770 active loads J-K, 1251 FET differential pair, 788 IC npn bipolar transistor, 287 RS, 1205–1206 GaAs MESFET, 182 IC op-amp, 622. See also Ideal op–amp Floating-gate electrically erasable programmable Gain-bandwidth product, 495, 1025–1026 IC power amplifiers. See Integrated circuit power ROM, 1225 Gain margin, 917 amplifiers Foldback characteristic, 1121 Gain sensitivity, 856–857 IC resistor, 693 Folded cascode CMOS op-amp circuit, 976–979 Gallium arsenide, 10, 13 Ideal closed-loop signal gain, 854–856 Folded-cascode stage, 976 Gallium phosphide, 10 Ideal closed-loop voltage gain, 634 Forbidden bandgap, 12 Gate, 126 Ideal current-voltage relationships, 28–29 Forced beta, 309 Gate potential, 1169 Ideal difference amplifier, 645 Forward-active operating mode, 287 Gate-to-channel space charge region, 181 Ideal diode, 34, 35 Forward bias, 27 Gate-to-source voltage, 130, 225 Ideal feedback topologies, 863–873 Forward-biased pn junction, 27, 28 General CMOS design, 1188 Ideal op-amp, 621–686 Forward diode resistance, 38 General constants and conversion factors, 1315 antilog amplifier, 656 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1365 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: Index 1365 applications, 641–657 Instantaneous gate-to-source voltage, 258 expanded hybrid-π equivalent circuit, 391 circuit design, 658–665 Instantaneous power dissipation, 562, 579 iteration/graphical analysis technique, 36 circuits. See Operational amplifier circuits Instantaneous value, 4 load line/modes of operation, 307 comparator, contrasted, 1085 Instrumentation amplifier, 650–651, 665–668 piecewise linear model, 41 current-to-voltage converter, 641–642 Insulator, 12 voltage doubler circuit, 83 defined, 621 Integrated circuit biasing, 342–343 derivation of name, 621 Integrated circuit biasing and active loads, 687–751 design application (electronic thermometer with bipolar transistor current sources. See Bipolar L instrumentation amplifier), 665–668 transistor current sources difference amplifier, 645–649 circuits with active loads. See Circuits with Large signal analysis, 371 difference amplifier and bridge circuit design, active loads Large-value resistors, 1070 663–664 design application (NMOS current source), Leakage currents, 298–299 differentiator, 653 734–736 Least significant bit (LSB), 1226 evolution, 622 FET current sources. See FET current sources LED, 49 exponential amplifier, 656 small-signal analysis - active load circuits, LED circuit, 107–108 generally, 622 726–734 LF155 BiFET op-amp, 990–991 ideal parameters, 622–625 Integrated circuit npn bipolar transistor, 287 LF155 BiFET op-amp input stages, 991 instrumentation amplifier, 650–651 Integrated circuit operational amplifier, 622. See LH002/42/52 series hybrid JFET op-amp, 990 integrator, 652–653 also Ideal op–amp LH002/42/52 series op-amp, 989–990 inverting amplifier, 627–635 Integrated circuit power amplifiers, 1107–1113 LH0042C data, 990 log amplifier, 655 bridge power amplifier, 1113 Light-emitting diode (LED), 49 negative feedback analysis, 626 LM380 power amplifier, 1108–1111 Light-emitting diode (LED) circuit, 107 nonlinear circuit applications, 654–657 PA12 power amplifier, 1111–1113 Limiter circuit, 91 noninverting amplifier, 638–639 Integrated circuit resistor, 693 Line regulation, 1114 OTA, 657–658 Integrator, 652–653 Linear amplifier, 3, 205, 206. See also Basic FET output currents, 627 Interdigitated bipolar transistor, 565 amplifier; Bipolar linear amplifier, 370 output voltage swing, 627 Interdigitated structure, 565 Linear ramp generator, 1107 practical specifications, 626–627 Intrinsic carrier concentration, 13 Linear term, 374 precision half-wave rectifier, 654–655 Intrinsic semiconductors, 10–14 LM741 op-amp, 995. See also Bipolar operational PSpice modeling, 627 Inverse-active mode, 310 amplifier circuit, 1325–1327 reference voltage source design, 661–663 Inverse Laplace transform, 484 LM380 power amplifier, 1108–1111 summing amplifier, 636–638 Inverse resistance reflection rule, 424 LM380 power amplifier characteristics, 1110 summing op-amp circuit design, 659–661 Inverter LM555 timer circuit, 1101 T-network, 631–633 BiCMOS, 1296–1297 LM78LXX series three-terminal positive voltage voltage follower, 639–640 bipolar circuit, 323 regulator, 1119 voltage-to-current converter, 642–645 CMOS, 1168–1182 Load capacitor effects, 492–493 Ideal series-series feedback topology, 870 NMOS, 165–166, 1148–1163 Load curve, 240 Ideal series-shunt feedback topology, 864 Inverter gain, 1155 Load line, 37, 153–155, 306–310 Ideal short-circuit output current, 519 Inverting amplifier, 627–635 Load regulation, 89, 1115 Ideal shunt-series feedback topology, 867 Inverting amplifier closed-loop gain, 1014–1016 Loading effect, 219, 403 Ideal shunt-shunt feedback topology, 871 Inverting amplifier closed-loop input resistance, Log amplifier, 655 Ideal voltage reference circuit, 85–88 1019–1021 Logic 1 level, 1259 Idealized class-B operation, 576–577 Inverting comparator circuit, 1086 Logic circuits, 104–105 Idealized power efficiency, 579–581 Inverting input terminal, 623 BiCMOS digital circuits, 1296–1298 Identical transistor characteristics, 687 Inverting Schmitt trigger, 1087–1090 bipolar. See Bipolar digital circuits Impedance, 217 Inverting summing amplifier, 637 CMOS. See CMOS logic circuits capacitor, 217, 399 Iteration, 36 emitter-coupled logic (ECL), 1256–1267 input. See Input impedance JFET, 1147 output. See Output impedance NMOS, 1163–1168 Impedance buffer, 640 J NMOS transistor digital, 167–168 Impedance transformer, 425, 640 sequential, 1202–1208 Incremental current gain, 380 J-K flip-flop, 1251 Logic function, 104–105, 1208 Indirect bandgap material, 49 JFET, 180–190 Logic functions/logic gates, 1141–1142 Indium phosphide, 10 JFET amplifier, 258–263 Logic levels, 1143 Induced positive space-charge region, 128 JFET cascode current source, 717 Long-channel device, 141 Inductively coupled amplifier, 587–588 JFET current source, 716–718 Loop gain, 855, 901–907 Input base-emitter port, 378–379 JFET differential amplifier, 788–789 Low-frequency dominant pole, 988 Input bias current, 1042–1044 JFET logic circuit, 1147 Low-frequency range, 470, 471 Input buffer-inverter pair, 1211 JFET operational amplifier circuit, 989–992 Low-pass filter, 1063 Input buffer transistors, 596–599 JFET source-follower circuit, 262 Low-pass network, 478 Input coupling capacitor, 485–488 Junction area, 106 Low-power ECL, 1267–1269 Input dc offset voltage, 1030 Junction capacitance, 26 Low-power Schottky TTL circuits, 1293–1295 Input impedance Junction field-effect transistor (JFET), 180–190 Low-power Schottky TTL NAND logic common-base amplifier, 433–434 circuit, 1293 common-drain amplifier, 231–233 Lower corner, 481 common-gate amplifier, 236 K Lower corner frequency, 501 emitter-follower amplifier, 423–424 Lower cutoff frequency, 501 Input load line, 306–307 Kilby, Jack, 1 Lowercase letter/lowercase subscript, 4 Input offset current, 1042 Kirchhoff’s current law Lowercase letter/uppercase subscript, 4 Input offset current temperature coefficient, 1046 expanded hybrid-π equivalent circuit, 391 LSB, 1226 Input offset voltage, 1031 Miller effect/capacitance, 518 Input offset voltage drift, 1045 npn transistor, 291 Input resistance, 629, 774, 808 system transfer functions, 473 M Input signal-to-noise ratio, 859 Kirchhoff’s voltage law Input stage offset voltage effects, 1030–1037 clamper, 94 Majority carrier, 16 Input transistor, 1280–1282 common-emitter circuit, 305 Majority-carrier device, 180 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1366 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: 1366 Index Manufacturers’ data sheets. See Selected digital logic gate, 167–168 cascode configuration, 440–442 manufacturers’ data sheets finite output resistance, 142–143 Darlington pair configuration, 439–440 Mask-programmable ROM, 1209, 1222 ideal current-voltage characteristics - PMOS, Multistage BJT analysis Matched or identical transistor characteristics, 687 135–137 cascade configuration, 436–438 Matched transistor, 950 load line/modes of operation, 153–155 cascode configuration, 440–442 Maximally flat magnitude filter, 1065 multistage circuit, 175–179 Multistage MOSFET circuit, 175–179 Maximum attainable conversion efficiency, 574 n-channel depletion-load device, 161–163 Multistage transistor circuit, 344–348 Maximum average output signal power, 590 n-channel depletion-mode, 138–140 Multitransistor circuit Maximum gain asymptote, 493 n-channel enhancement-load device, 157–161 cascade configuration, 176–177 Maximum output symmetrical swing, 415 NMOS, 128–134, 141 cascode configuration, 178–179 Maximum possible average power, 581 NMOS inverter, 165–166 Multitransistor current mirror, 704–706 Maximum power conversion efficiency, 590 nonideal current-voltage characteristics, Multivibrator Maximum power transfer theorem, 574 142–145 astable, 1096, 1105–1107 Maximum rated collector current, 561 p-channel depletion-mode, 140 bistable, 1087 Maximum rated current/maximum rated p-channel enhancement-load device, 163–164 defined/types, 1084 voltage, 560n PMOS, 134–137, 141 monostable, 1098–1100, 1103–1105 Maximum rated power, 563 power, 565–567 one-shot, 1098, 1103 Maximum safe power dissipation, 569, 570 short-channel effects, 141–142 Schmitt trigger monostable, 1098 Maximum symmetrical swing, 415–420 small-signal amplifier, 168–169 μA-709, 622 MC14573 CMOS op-amp circuit subthreshold conduction, 144 μA-741, 622 circuit description, 970 summary of transistor operation, 141 Music, 3 dc analysis, 970–972 switching, 165–166 small-signal analysis, 972–973 temperature effect, 145 MC14573 CMOS op-amp equivalent circuit, 971 two-terminal MOS structure, 126–128 N Memory. See Computer memory MOSFET amplifier Memory architecture, 1210 graphical analysis, 206–209 N-bit D/A converter, 1229 Memory cell, 1209 load line, 207 n-channel depletion-load device, 161–163 MESFET, 182–190 modeling the body effect, 214–215 n-channel depletion-mode MOSFET, 138–140 Metal-oxide-semiconductor field-effect transistor. small-signal equivalent circuit, 210–214 n-channel enhancement-load device, 157–161 See MOSFET small-signal parameters, 206–210 n-channel enhancement-mode MESFET, 183 Metal-semiconductor field-effect transistor transistor parameters, 207–209 n-channel enhancement-mode MESFET circuit, 189 (MESFET), 182–190 MOSFET cascode current mirror, 711 n-channel enhancement-mode MOSFET, 128–134, Metallurgical junction, 23 MOSFET cascode current source, 786 624, 1153 Microelectronics, 1 MOSFET cascode diff-amp with cascode active n-channel JFET, 181, 184 Microphone, 663 load, 800 n-channel JFET circuit, 186 Microphone system, 645 MOSFET class-AB output stage, 584–585 n-channel MESFET, 182 Midband range, 470, 471 MOSFET Colpitts oscillator, 1082 n-channel MOSFET, 128–134, 141, 1148–1150 Midband small-signal voltage gain, 255 MOSFET common-source circuit, 492 n-channel MOSFET detailed cross section, 1148 Midband voltage gain, 527 MOSFET current source, 709 n-channel MOSFET simplified view, 1148 Miller capacitance MOSFET current-source circuit, 711 n-type semiconductor, 14, 17 cascode circuit, 529 MOSFET dc analysis, 146–165 NDS9410 n-channel enhancement-mode common-emitter/common-source circuits, 521 MOSFET diff-amp with cascode active load, MOSFET, 1322–1324 expanded hybrid-? equivalent circuit, 510–512 798–800 Near-avalanche breakdown, 145 FET, 518–520 MOSFET differential amplifier with active load, Negative and positive biasing, 339–341 Miller compensation, 922–924, 968 794–798 Negative feedback, 626, 852–853 Miller effect MOSFET digital circuits, 1147–1254 Negative feedback analysis, 626 expanded hybrid-p equivalent circuit, 507–509 clocked CMOS logic circuits, 1191–1193 NMOS, 128–134, 141 FET, 518–520 CMOS inverter. See CMOS inverter NMOS amplifier with active loads, 247–254 importance, 523 CMOS logic circuits. See CMOS logic circuits NMOS cascade circuit, 255 physical effect, 512–513 data converter. See Data converter; Sequential NMOS cascode circuit, 256 Miller multiplication factor, 821, 922 logic circuits NMOS common-source circuit, 225 Minimum β, 1279 design application (static CMOS logic gate), NMOS current source, 734–736 Minority carrier, 16 1232–1234 NMOS depletion-load amplifier, 244–247 Minority carrier electron concentration, 288 memory. See Computer memory NMOS enhancement-load amplifier, 239–244 -3 db frequency, 475 NMOS inverter. See NMOS inverter NMOS exclusive-OR logic gate, 1167 Model, 34 NMOS logic circuits, 1163–1168 NMOS input buffer-inverter, 1211 Modified Darlington pair configuration, 801 sequential logic circuits. See Sequential logic NMOS inverter, 165–166, 1148–1163 Modified ECL circuit configurations, 1267–1276 circuits body effect, 1160–1162 Modified ECL logic gate, 1268 transmission gates. See Transmission gates depletion load, 1157–1160 Modified MOSFET Wilson current source, 713 MOSFET feedback circuit, 924–926 n-channel MOSFET, 1148–1150 Modified totem-pole output stage, 1287–1288 MOSFET high-frequency circuit, 519 resistor load, 1150–1157 Modified Wilson current source, 713 MOSFET integrated circuit amplifier, 155 NMOS inverter circuit, 165 Monostable multivibrator, 1098–1100, 1103–1105 MOSFET small-signal amplifier, 168–169 NMOS inverter with depletion load, 1157–1160 MOS capacitor (n-type substrate), 128 MOSFET Wilson current source, 713 NMOS inverter with resistor load, 1150–1157 MOS capacitor (p-type substrate), 127 Most significant bit (MSB), 1226 NMOS logic circuits, 1163–1168 MOS capacitor structure, 127 MSB, 1226 NMOS NAND logic gate, 1165 MOS field-effect transistor. See MOSFET Multi-MOSFET current-source circuit, 711–715 NMOS NOR logic gate, 167, 1163–1165 MOSFET, 126–146 Multioutput transistor current source, 704 NMOS pass networks, 1198–1199 body effect, 143–144 Multiple-diode circuit, 97–105 NMOS RS flip-flop, 1205 breakdown effect, 144–145 Multistage amplifiers, 254–258. See also NMOS shift register voltage, 1204 circuit symbols/conventions, 137–138 Differential and multistage amplifiers NMOS 16 x 1 mask-programmable ROM, 1222 CMOS, 140–141 cascade circuit, 254–256 NMOS source follower, 227 common-source circuit, 146–153 cascode circuit, 256–257 NMOS source-follower circuit, 250 dc circuit analysis, 146–165 Multistage BJT amplifier NMOS SRAM cells, 1212–1214 digital circuits. See MOSFET digital circuits cascade configuration, 436–438 NMOS transistor digital logic circuit, 167–168 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1367 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: Index 1367 NMOS transmission gate, 1194–1198 summary of transistor operation, 291–292 nonsinusoidal, 1096–1107 Noise, 859 transistor currents, 287–288 phase-shift, 1076–1078 Noise margin, 1143–1144, 1178–1182, 1266–1267 npn common-emitter circuit, 400 Pierce, 1084 Noise sensitivity, 859–861 npn general purpose amplifier, 1318–1319 Schmitt trigger, 1096–1098 Nondominant-pole frequency, 982 Null technique, 952 Wien-bridge, 1079–1082 Nonideal current-voltage characteristics, 142–145 Nyquist diagram, 913 OTA, 657–658 Nonideal effects in op-amp circuits, 1009–1060 Nyquist plot, 913, 914 Output coupling capacitor basic bipolar diff-amp stage, 1030–1032 Nyquist stability criterion, 913–916 common-source circuit, 488–490 bias current compensation, 1043–1044 emitter-follower circuit, 490–492 bias current effects, 1042–1043 Output dc offset voltage, 1030 bipolar active load diff-amp stage, 1032–1035 O Output impedance CMRR, 1046–1047 common-base amplifier, 433–434 design application (offset voltage compensation Octave, 475 common-drain amplifier, 231–233 network), 1047–1049 Offset compensation network, 1038 common-gate amplifier, 236 external offset compensation network, Offset-null terminal, 1038 emitter-follower amplifier, 423–424 1038–1039 Offset-null terminals, 1039–1041 Output resistance, 185, 297 finite open-loop gain, 1013–1023 Offset voltage, 1030–1041 Output signal-to-noise ratio, 859 frequency response, 1023–1030 Offset voltage compensation, 1037–1041 Output stage linearity characteristic, 559 gain-bandwidth product, 1025–1026 Offset voltage compensation network, 1047–1049 Output stage using MOSFETs, 601–603 input bias current, 1042–1044 Offset voltage temperature coefficient, 1045–1046 Output stages and power amplifiers, 559–614 input offset current temperature coefficient, 1046 Ohmic contact, 51 class-A operation, 572–576 input stage offset voltage effects, 1030–1037 Ohm’s law, 34 class-A power amplifier, 586–591 input voltage limitations, 1011–1013 On resistance, 566 class-AB operation, 581–585 inverting amplifier closed-loop gain, 1014–1016 One-bit full-adder circuit, 1207, 1208 class-AB push-pull complementary output inverting amplifier closed-loop input resistance, One-pole filter, 1063 stages, 591–601 1019–1021 One-pole low-pass filter, 1072 class-B operation, 576–581 MOSFET diff-amp stage, 1035–1037 One-shot multivibrator, 1098, 1103 class-C operation, 585–586 noninverting amplifier closed-loop gain, One-sided output, 762, 763–765 design application (output stage using 1016–1017 One-transistor dynamic RAM cell, 1220 MOSFETs), 601–603 nonzero output resistance, 1021–1023 Op-amp. See Ideal op-amp power transistors. See Power transistors offset-null terminals, 1039–1041 Op-amp applications, 641–657 scope of text, 572 offset voltage, 1030–1041 Op-amp circuit design, 658–665 THD, 560 offset voltage compensation, 1037–1041 Op-amp circuits. See Operational amplifier circuits Output voltage swing, 627 offset voltage temperature coefficient, 1045–1046 Op-amp difference amplifier, 645 Overlap capacitance, 515 open-loop/closed-loop frequency response, Op-amp differentiation, 653 1023–1025 Op-amp integrator, 652 output voltage limitations, 1013 Op-amp series-shunt feedback circuit, 873 P practical op-amp parameters, 1010–1011 Op-amp shunt-series feedback configuration, 881 slew rate, 1026–1029 Op-amp shunt-shunt feedback configuration, 884 p-channel depletion-mode MOSFET, 140 temperature effects, 1045–1046 Op-amp voltage reference circuit, 661 p-channel enhancement-load device, 163–164 Noninverting amplifier, 638–639 Op-amp with input bias currents, 1042 p-channel enhancement-mode MOSFET (PMOS), Noninverting amplifier closed-loop gain, Open-circuit time constant, 480 134–137, 141 1016–1017 Open-loop comparator circuit, 1087 p-channel JFET, 180, 184 Noninverting comparator circuit, 1086 Open-loop gain, 625 p-channel JFET circuit, 187 Noninverting input terminal, 623 Open-loop transresistance gain factor, 895 p-type semiconductor, 15, 17 Noninverting Schmitt trigger circuit, 1090–1091 Operational amplifier. See Ideal op-amp PA12 power amplifier, 1111–1113 Nonlinear distortion, 861–862 Operational amplifier circuits, 947–1008 Parallel A/D converter, 1229–1230 Nonsaturation region, 132, 1149, 1169 BiCMOS operational amplifier circuit, 981–989 Parallel-based clipper, 92 Nonsinusoidal oscillators/timing circuits, 1096–1107 CA3140 BiCMOS circuit description, 983–984 Parallel-based diode clipper circuit, 92 555 circuit. See 555 circuit circuit element matching, 950 Parallel-plate capacitor, 127 monostable multivibrator, 1098–1100 CMOS op-amp circuits. See CMOS operational Parasitic capacitance, 515 Schmitt trigger oscillator, 1096–1098 amplifier circuits Pass transistor logic, 1198 Nonzero output resistance, 1021–1023 folded cascode CMOS op-amp circuit, 976–979 Passive device, 2 NOR decoder, 1211 general design philosophy, 948–949 Passive limiter, 91 NOR logic function, 326 general op-amp circuit design, 948–950 Peak inverse voltage (PIV), 32 Norton equivalent circuit, 396, 509 hybrid FET op-amp, LF155 series, 990–991 Phase margin, 916 Norton equivalent signal source, 235 hybrid FET op amp, LH002/42/52 series, Phase quantity, 4 Notation, 4–5 989–990 Phase shift, 383 Noyce, Robert, 1 JFET operational amplifier circuit, 989–992 Phase-shift oscillator, 1076 npn bipolar transistor, 502 MC14573 CMOS circuit, 970–973 Phase-shift oscillator circuit, 1078 base current, 289–290 problem-solving technique, 969 Phasor quantity, 208, 372 circuit symbol, 294 741 op-amp. See Bipolar operational amplifier Photocurrent, 48, 106 collector current, 289 circuit Photodetector, 49 common-emitter configuration, 291 three-stage CMOS op-amp, 973–976 Photodiode, 49 common-emitter current gain, 290–291 Operational transconductance amplifier (OTA), Photodiode circuit, 106 cross section, 287 657–658 Photon flux density, 106 current relationships, 291 Optical transmission system, 49 Physical constants and conversion factors, 1315 current-voltage relationships, 294 Optoisolator, 108 Piecewise linear diode, 37–41 emitter current, 288–289 OR logic function, 104 Pierce oscillator, 1084 generally, 286 Oscillator, 1074–1084 Piezoelectric crystal, 1083 minority carrier concentration, 288 basic principles, 1075–1076 Piezoelectric crystal circuit symbol, 1083 notation, 290n Colpitts, 1082–1083 Piezoelectric crystal equivalent circuit, 1083 other current components, 289n crystal, 1083–1084 Pinchoff, 181 simple block diagram, 294 defined, 1075 Pinchoff voltage, 183 simple geometry, 286 Hartley, 1083 PIV, 32 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1368 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: 1368 Index PMOS, 134–137, 141 Propagation delay time, 1144 channel, 128 PMOS device, 1171–1174, 1177, 1188 CMOS logic circuit, 1190, 1191 depletion, 24 PMOS transistor, 1176 CMOS logic circuits, 1191 gate-to-channel space charge, 181 pn JFET, 180–182 ECL, 1263 induced positive space-charge, 128 pn junction, 23–34 emitter-coupled logic (ECL), 1263, 1275–1276 nonsaturation, 132, 1149, 1169 diode, 29–34 modified ECL circuit configurations, 1275–1276 saturation, 131, 1149, 1169, 1172 equilibrium, 23–25 Prototype circuit, 618 space-charge, 24 forward -biased, 27, 28 PSpice, 41 triode, 132 ideal current-voltage relationships, 28–29 Pspice circuit schematic, 100 Regulation reverse-biased, 25–27 Pull-down resistor, 1279 line, 1114 pn junction diode, 9, 29–34 Pulse position modulator, 1107 load, 89, 1115 breakdown voltage, 30–32 Pulse width modulator (PWM), 1107 source, 88, 89 switching transient, 32–33 Punch-through, 145 voltage regulator, 84 temperature effects, 30 PWM, 1107 Regulator pn junction FET, 180 basic series-pass voltage, 1116 pn junction solar cell, 48 voltage, 84 pnp bipolar transistor Q Zener diode voltage regulator circuit, 85, 88 base current, 293 Resistance circuit symbol, 294 Q-point, 37, 307, 1158 on, 566 collector current, 293 Q-point stability, 224 common-mode input, 775 electron and hole currents, 293 Quasistatic quantities, 5 differential input, 646 emitter current, 292 Quiescent collector current, 954 differential-mode input, 774–775 forward active mode operation, 292–293 Quiescent drain current, 261 diffusion, 379 simple block diagram, 294 Quiescent drain-to-source voltage, 225 finite output, 142–143 simple geometry, 286 Quiescent gate-to-source voltage, 236 input, 629, 774 pnp general purpose amplifier, 1320–1321 Quiescent output voltage, 1109 nonzero output, 1021–1023 Pole-splitting, 924 Quiescent point, 37, 307 output, 185, 297 Polycrystalline silicon layer, 126 Quiescent source-to-gate voltage, 230 reverse-biased diffusion, 390 Polysilicon fuse, 1223 series, 390 Positive and negative biasing, 339–341 small-signal input, 391–392 Positive feedback, 852, 1087 R small-signal transistor output, 385 Positive logic system, 326 thermal, 567 Positive voltage regulator Rc mismatch, 769–770 Thevenin, 399 basic circuit description, 1119–1121 RD mismatch, 787–788 Zener, 84 protection devices, 1121–1122 R-2R ladder network D/A converter, 1228–1229 Resistance reflection rule, 401, 423 temperature compensation, 1121 RS flip-flop, 1205–1206 Resistive voltage divider, 1116 three-terminal regulator, 1122 Radian frequency, 470n Resistivity, 18 Power BJT, 561–565, 567 RAM, 1209, 1212–1221 Resistor, 687 Power conversion efficiency, 573 RAM architecture, 1210 Resistor biasing technique, 687 Power derating curve, 569, 570 RAM memory cells, 1212–1221 Resistors. See Standard resistor and capacitor values Power dissipation Random access memory (RAM), 1209, 1212–1221 Restoring logic family, 1155 BJT, 562 Rated power, 570 Reverse bias, 25 class-B operation, 579, 580 RC filter, 75 Reverse-bias saturation current, 28, 30 CMOS inverter, 1176–1178 Read-only memory (ROM), 1209–1210, 1221–1225 Reverse-biased diffusion resistance, 390 ECL, 1262–1263 Reading list, 1333–1336 Reverse-biased drain-to-substrate pn junction, 130 emitter-coupled logic (ECL), 1262–1263 analog integrated circuits, 1334 Reverse-biased pn junction, 25–27 maximum safe, 569, 570 digital circuits and devices, 1335 Reverse-saturation current, 666 RAM cells, 1213 general electronics texts, 1333 Ripple voltage, 76–77, 77 transistors, 559 linear circuit theory, 1333–1334 Rolloff, 1063 Power MOSFET, 565–567 op-amp circuits, 1334–1335 ROM, 1209–1210, 1221–1225 Power transistors, 560–571 semiconductor devices, 1334 Row and column decoder, 1211 heat sink, 567–571 SPICE and PSpice references, 1336 RS flip-flop, 1101 power BJT, 561–565, 567 Recombination current, 289 power MOSFET, 565–567 Recovery time, 1099 Precharge cycle, 1193 Rectification, 68 S Precision half-wave rectifier, 654–655 Rectifier, 34, 35 Precision half-wave rectifier circuit, 654 Rectifier circuits-domain analysis, 472–473 Precision resistors (1% tolerance), 1329–1330 bridge rectifier, 72 Safe operating area (SOA), 563 Pressure transducer, 663 detector, 82–83 Safe power dissipation, 569, 570 Principle of superposition, 371, 636, 1085 diode current, 78 Sampled-data system, 1074 Problem-solving technique filter, 75–76 Saturation mode, 307 bipolar ac analysis, 384 full-wave rectification, 71–74 Saturation region, 131, 1149, 1169, 1172 bipolar dc analysis, 309 half-wave rectification, 68–71 Schmitt trigger, 1084 BJT current source circuits, 698 ripple voltage, 76, 77 Schmitt trigger application, 1092–1094 Bode plot of gain magnitude, 492 voltage doubler circuit, 83–84 Schmitt trigger circuit, 1084–1095 diff-amps with resistive loads, 774 Rectify, 35 applied reference voltages, 1091–1092 frequency compensation, 920 Reference books. See Reading list basic inverting Schmitt trigger, 1087–1090 maximum symmetrical swing, 416–417 Reference circuit, 1260–1262 comparator, 1084–1087 MOSFET ac analysis, 212–214 Reference current limiters, 1094–1095 MOSFET current-source circuit, 711 basic three-transistor current source, 694 noninverting Schmitt trigger circuit, 1090–1091 multistage circuits, 815 bipolar current-source circuits, 709–710 Schmitt trigger application, 1092–1094 operational amplifier circuits, 969 current mirror circuits, 715 Schmitt trigger monostable multivibrator, 1098 Problems, answers to, 1337–1358 two-transistor current source, 688, 691 Schmitt trigger oscillator, 1096–1098 Process conduction parameter, 134 Reference voltage source design, 661–663 Schottky barrier diode, 50–51 Programmable ROM (PROM), 1209, 1222–1223 Region Schottky clamped transistor, 1289–1291 PROM, 1209, 1222–1223 active, 287 Schottky clamped transistor equivalent circuit, 1290 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1369 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: Index 1369 Schottky clamped transistor symbol, 1290 Simple NMOS transistor digital logic circuit, Speedup diode, 1295 Schottky diode, 50 167–168 SPICE, 41 Schottky transistor-transistor logic, 1289–1296 Simple op-amp voltage reference circuit, 661 Squaring network, 1292 advanced Schottky TTL circuits, 1295–1296 Simple series-pass regulator, 1116–1118 SRAM, 1209, 1212–1220 low-power Schottky TTL circuits, 1293–1295 Simple voltage-to-current converter, 642 SRAM read/write circuitry, 1218–1220 Schottky clamped transistor, 1289–1291 Simple Zener diode voltage reference circuit, Stability of feedback circuit, 908–918 Schottky TTL NAND circuit, 1291–1293 84–90 Bode plot, 909–912 Schottky TTL NAND circuit, 1291–1293 Simplified BJT op-amp circuit, 811–815 gain margin, 917 Second breakdown, 562 Simulation models, 618 Nyquist stability criterion, 913–916 Selected manufacturers’ data sheets, 1317–1327 Simulation program with integrated circuit phase margin, 916 LM741 op-amp, 1325–1327 emphasis (SPICE), 41 stability problem, 908–909 NDS9410 n-channel enhancement-mode Single base resistor biasing, 331–333 Stability problem, 908–909 MOSFET, 1322–1324 Single-diode clipper circuit, 91 Stabilize, 335 npn general purpose amplifier, 1318–1319 Single n-channel enhancement-mode FET, Standard class-A amplifier, 572 pnp general purpose amplifier, 1320–1321 1322–1324 Standard resistor and capacitor values, 1329–1331 single n-channel enhancement-mode FET, Single-stage common-emitter amplifier, 909 capacitors, 1331 1322–1324 Single-stage integrated circuit MOSFET amplifier, carbon resistors, 1329–1330 2N2222 npn bipolar transistor, 1318–1319 238–254 precision resistors (1% tolerance), 1329–1330 2N2907 pnp bipolar transistor, 1320–1321 CMOS common-gate amplifier, 251–254 Static CMOS logic circuit, 1183 Semiconductor constants, 1315 CMOS common-source amplifier, 247–249 Static CMOS logic gate, 1232–1234 Semiconductor device, 5 CMOS source-follower amplifier, 249–251 Static ECL gate, 1298–1299 Semiconductor materials and diodes, 9–66 load line, 239 Static NMOS RAM cells, 1212 design application (diode thermometer), 54–56 NMOS amplifier with active loads, 247–254 Static RAM (SRAM), 1209, 1212–1220 diode circuits. See Diode circuits; Diode NMOS depletion-load amplifier, 244–247 Storage time, 33 circuits - ac equivalent circuit; Diode NMOS enhancement-load amplifier, 239–244 Subthreshold conduction, 144 circuits - dc analysis; Diode types Sinusoidal base current, 375, 382 Subthreshold current, 144 drift and diffusion currents, 17–21 Sinusoidal base-emitter voltage, 375 Summing amplifier, 636–638 excess carriers, 21–22 Sinusoidal collector current, 382 Summing op-amp amplifier circuit, 636 extrinsic semiconductors, 14–16 Sinusoidal input signal, 582 Summing op-amp circuit design, 659–661 intrinsic semiconductors, 10–14 Sinusoidal signal source, 373 Sunrayce car, 49 pn junction. See pn junction Sinusoidal source, 206 Superposition principle, 371, 636, 1085 semiconductor materials and properties, 10–22 Slew rate, 1026–1029 Switch/switching, 165–166, 323–325 Semiconductor materials and properties, 10–22 Small geometry effects Switched-capacitor circuit, 1072 Semiconductor memory. See Computer memory n-channel MOSFET, 1150 Switched-capacitor filter, 1070–1074 Sequential logic circuits, 1202–1208 p-channel MOSFET, 1170 Switching time, 1144 CMOS full-adder circuit, 1207–1208 Small reverse-biased gate voltage, 181 Switching transient, 32–33 D flip-flop, 1206–1207 Small signal, 206, 374, 375 Symmetrical sinusoidal signals, 415 dynamic shift register, 1203–1204 Small-signal, 370 Symmetrical swing, 415–420 RS flip-flop, 1205–1206 Small-signal amplifier, 168–169 System design, 616–617 Series gating, 1273–1275 Small-signal analysis, 371 System transfer functions, 472–485 Series-pass regulator, 1116–1118 Small-signal analysis - active load circuits, 726–734 Bode plots, 474–479 Series-pass transistor, 1116 advanced MOSFET active load, 732–733 first-order functions, 473–474 Series resistance, 390 BJT active load circuit, 727–730 s-domain analysis, 472–473 Series-series amplifier, 886–892 MOSFET active load circuit, 730–732 short-circuit and open-circuit time constants, Series-series configuration, 870–871 Small-signal BJT, 561 480–483 Series-shunt amplifier, 873–879 Small-signal collector current, 379 time response, 483-485 Series-shunt configuration, 863–866 Small-signal current gain, 391, 426–431, 741 op-amp. See Bipolar operational 431–433, 504 amplifier circuit Small-signal differential-mode voltage gain, 793 T Seven-segment LED display, 107 Small-signal equivalent circuit, 47, 258–260, Shift register, 1203 378, 399 T-model, 396 Shockley, William, 1 Small-signal equivalent circuit bipolar differential T-network, 631–633 Short-channel device, 141 amplifier, 763 Taylor series, 374, 375 Short-channel effects, 141–142 Small-signal hybrid-π equivalent circuit, 378–381 Temperature coefficient of offset voltage, 1045 Short-circuit current gain, 503–505 Small-signal hybrid-π model of npn bipolar Temperature compensation, 1121 Short-circuit protection circuitry, 960 transistor, 381 Temperature effect, 145 Short-circuit protection device, 960 Small-signal incremental conductance, 45 Temperature effects, 1045–1046 Short-circuit time constant, 480 Small-signal incremental resistance, 45 Temperature warning light circuit, 617 Shunt-series amplifier, 879–886 Small-signal input resistance, 391 THD, 560, 583 Shunt-series configuration, 867–870 Small-signal output admittance, 391 Thermal resistance, 567 Shunt-shunt amplifier, 833–901 Small-signal output resistance, 211 Thermal voltage, 24 Shunt-shunt configuration, 871–872 Small-signal power gain, 442 Thermometer Signal, 206, 370 Small-signal transconductance, 236 bipolar transistor, 348–350 Signal frequency. See Frequency response Small-signal transistor output resistance, 385 diode, 54–56 Signal processing, 67 Small-signal voltage, 431–433 instrumentation amplifier, 665–668 Signal-to-noise ratio, 859 Small-signal voltage gain, 381–384, 420–423 MOS transistor, 190–192 Silicon, 10, 13 Snapback breakdown, 145 Thevenin equivalent circuit, 217, 321, 333, 340, Silicon dioxide, 1224 SOA, 563 396, 509 Simple all-bipolar op-amp circuit, 1012 Solar cell, 48–49 Thevenin equivalent resistance, 231, 321, 340 Simple antilog (exponential) amplifier, 656 Sound wave, 206, 370 Thevenin equivalent voltage, 321, 340 Simple bipolar operational amplifier, 812, 949 Source follower, 227 Thevenin resistance, 399 Simple BJT amplifier with active load, 720 Source-follower amplifier, 227–233, 238 3-bit flash A/D converter, 1229, 1230 Simple emitter-follower output stage, 806 Source regulation, 88, 89 3 db frequency, 475 Simple filter circuit, 75 Source-substrate-drain structure, 145 Three-input CMOS NAND logic gate, 1187 Simple high-pass filter, 1062 Source terminal, 128 Three-stage CMOS op-amp, 973–976 Simple log amplifier, 655 Space-charge region, 24 Three-terminal voltage regulator, 1122 nea80644_ndx_1359-1370.qxd 08/04/2009 06:22 PM Page 1370 F506 Tempwork:Dont' Del Rakesh:August 2009:Neaman:MHDQ134-IND: 1370 Index Three-transistor current mirror, 695 totem-pole output stage, 1284–1285 Voice communication, 3 Three-transistor current source, 693–696 tristate output, 1288 Volatile memory, 1209 Threshold comparator, 1101 Transition point, 154, 1149, 1169, 1172 Voltage Threshold voltage, 130, 1150 Transmission gates, 1194–1202 ac collector-emitter, 373 Time constant, 480, 1096 CMOS, 1200–1201 ac ripple, 68n Time constant technique, 488 CMOS pass networks, 1202 base-collector, 1259 Time response, 483–485 NMOS, 1194–1198 breakdown, 52 Time-varying base current, 373 NMOS pass networks, 1198–1199 collector-emitter, 1259 Time-varying signal source, 207, 373 Transresistance (shunt-shunt amplifier), 833–901 common-mode input, 648, 754 Timer circuit, 1105 Transresistance amplifier, 397, 872 cut-in, 38 Top-down design process, 615–616 Transresistance function, 472 differential-mode input, 754, 760 Total average power, 580 Transresistance transfer function, 895 diode breakdown, 52 Total base current, 443 Trigger comparator, 1103 drain-to-source, 130, 131 Total collector current, 443 Triode region, 132 Early, 695 Total gate-to-source voltage, 206 Tristate output, 1288 early, 296 Total harmonic distortion (THD), 560, 583. See TTL. See Transistor-transistor logic gate-to-source, 130, 225 also Harmonic distortion Turnoff time, 33 input offset, 1031 Total instantaneous collector-emitter voltage, 443 Turn-on time, 33 instantaneous gate-to-source, 258 Total instantaneous power dissipation, 579 Turn-on voltage, 38 NMOS shift register, 1204 Total instantaneous value, 4, 208, 372 Turns ratio, 71, 589 pinchoff, 183 Totem-pole output stage, 1284–1285 Two-diode circuit, 99 PIV, 32 Transconductance Two-input BiCMOS NOR circuit, 1298 quiescent drain-to-source, 225 back-gate, 215 Two-input CMOS NAND logic circuit, 1184 quiescent gate-to-source, 236 basic JFET amplifiers, 259, 262 Two-input CMOS NOR logic circuit, 1183 ripple, 76–77 calculation of, 208–209 Two-input diode AND logic circuit, 105 sinusoidal base-emitter, 375 composite, 802 Two-input diode OR logic circuit, 104 small reverse-biased gate, 181 defined, 208 Two-input NMOS NOR logic gate, 167, 1163 small-signal, 431–433 forward, 760 Two-pole high-pass Butterworth filter, 1068 temperature coefficient of offset, 1045 OTA, 657–658 Two-pole low-pass Butterworth filter, 1065–1067 thermal, 24 proportional to conduction parameter, 209 Two-port equivalent circuit, 403 Thevenin equivalent, 321, 333, 340, 590 proportional to saturation current, 259 Two-sided output, 761 threshold, 130 series-series amplifier, 886–892 BJT differential pair, 761, 769–770 total gate-to-source, 206 small-signal, 236 FET differential pair, 787–788 total instantaneous collector-emitter, 443 small-signal analysis, 262 Two-stage amplifier, 264–266 turn-on, 38 small-signal hybrid-π equivalent circuit, 379 Two-stage amplifier with coupling capacitors, zero gate, 181 unloaded, 657 537–539 Voltage amplifier, 397, 873–879 Transconductance amplifier, 397, 870 Two-stage CMOS op-amp, 992–995 Voltage divider biasing, 333–339 Transconductance function, 472 Two-transistor current mirror, 695 Voltage doubler circuit, 83–84 Transducer, 663 Two-transistor current source, 343, 688–693 Voltage feedback ratio, 391 Transfer functions. See System transfer functions current relationships, 689 Voltage follower, 639–640 Transformer-coupled common-emitter amplifier, IC fabrication, 692 Voltage-follower op-amp circuit, 640 588–589 mismatched transistors, 692–693 Voltage notation, 130n, 288n Transformer-coupled emitter-follower amplifier, output resistance, 690–691 Voltage regulator, 84, 1114–1122 589–591 Two-transistor MOSFET current source, 707–711 basic regulator description, 1114 Transformer turns ratio, 69 Two-transistor NMOS current source, 707 defined, 1114 Transistor 2N2222 bipolar transistor, 393–396 LM78LXX series three-terminal positive, 1119 BJT. See Bipolar junction transistor (BJT) 2N2222 npn bipolar transistor, 1318–1319 output resistance/load regulation, 1115–1116 common-emitter bipolar, 391 2N2907 pnp bipolar transistor, 1320–1321 positive, 1119–1122 common-emitter npn, 391 simple series-pass regulator, 1116–1118 enhancement-mode NMOS, 1222 three-terminal, 1122 EPROM, 1224–1225 U Voltage transfer curve, 311, 582, 1171–1175 FET. See FET Voltage transfer function, 472 generally, 687 Ultraviolet (UV) light, 1224 input buffer, 596–599 Undefined range, 1179 JFET, 180–190 Unity-gain bandwidth, 506, 516–518, 1024 W matched, 950 Unity-gain frequency, 517 Unloaded transconductance, 657 Weighted-resistor 4-bit D/A converter, 1227–1228 MESFET, 182–190 See Wide-swing current mirror, 713–714 MOSFET. MOSFET Upper corner, 481 power, 560–571 Uppercase letter/lowercase subscript, 4 Wide-swing MOSFET cascode current mirror, 714 Widlar current source, 698–704 Schottky, 1289–1291 Uppercase letter/uppercase subscript, 4 User-programmed ROM, 1222–1223 Wien-bridge circuit, 1079–1082 Transistor circuit characteristics, 851 Wilson current mirror, 713 Transistor equivalent circuit, 304 UV radiation, 1224 Wilson current source, 697–698, 713 Transistor sizing CMOS inverter, 1175–1176, 1184–1185 CMOS logic gates, 1185–1187 V Z Transistor-transistor logic, 1277–1289 basic diode-transistor logic gate, 1277–1279 VBE, 288n z-transform technique, 1074 basic DTL NAND circuit operation, 1277–1279 VBE multiplier, 590 Zener breakdown, 32 basic TTL NAND circuit, 1282–1284 Valence electron, 10 Zener diode, 51–53 dc current-voltage analysis, 1282–1284 Varactor diode, 26 Zener diode circuit, 84–90 fanout, 1285–1286 Velocity saturation, 142 ideal voltage reference circuit, 85–88 input transistor, 1280–1282 Vertical process, 566 Zener resistance/percent regulation, 88–90 minimum β, 1279 Virtual ground, 625, 628 Zener diode voltage regulator circuit, 85, 88 modified totem-pole output stage, 1287–1288 Virtual short, 638 Zener resistance, 84 pull-down resistor, 1279 VMOS device, 566 Zero gate voltage, 181 FOURTH FOURTH EDITION An accessible approach to learning through clear writing and practical pedagogy has become the hallmark of Microelectronics: Circuit Analysis and Design by Donald Neamen. Now in EDITION its fourth edition, the text builds upon its strong pedagogy and tools for student assessment with key updates as well as revisions that allow for flexible coverage of op-amps. Key Features of the Fourth Edition Flexible Presentation of Key Topics Revisions have given the text a level of flexibility such that ideal op-amps (Chapter 9) can be presented as the first topic in electronics; either MOS or Bipolar transistors can be studied as the first transistor type; and digital electronics can be covered before analog electronics. This flexibility allows instructors to present topics in whatever order makes the most sense for their students. New Problems and Text Updates The fourth edition features a substantial number of new problems. This includes: over 45 percent new exercise and Test Your Understanding problems; over 45 percent new end-of-chapter problems; and over 70 percent new open-ended design problems and computer simulation problems. In addition, coverage of circuit voltage levels and device parameters was updated to more closely match real world electronics. Goal-Oriented Pedagogy CIRCUIT ANALYSIS AND DESIGN A Preview section introduces each chapter and correlates with learning objectives that head each section. Worked examples reinforce the theoretical concepts being developed; all examples are followed by exercises to immediately test learning. Test Your Understanding problems are integrated at the end of each section to provide additional practice. Problem solving techniques guide students through analyzing and solving a problem. Focus on Design in the Real World Students are taught good design by incorporating design exercises that help students get a feel for how the design process works in the real world. Each chapter includes a Design Application that leads students through the design and development of an electronic thermometer. The various characteristics and properties of circuits are explained as the student moves through the analysis. Design Pointers appear in examples and throughout the text to help students with tricky design issues, and Design Problems are featured in most problem sets. Computer Tools Because computer analysis and computer-aided design are significant factors in professional electronic design, the text contains a large number of new computer simulation problems. These appear both throughout the chapter and at the end of each chapter. Learning and Teaching Technologies The website for Microeletronics features tools for students and teachers. Professors can benefit from McGraw-Hill’s COSMOS electronic solutions manual. COSMOS enables instructors to generate a limitless supply of problem material for assignment, as well as transfer and integrate their own problems into the software. In addition, the website boasts PowerPoint slides, an image library, the complete Instructor’s Solution Manual (password protected), data sheets, laboratory manual, and links to other important websites. You can find the site at www.mhhe.com/neamen NEAMEN DONALD A. N EAMEN MD DALIM #1035984 7/12/09 CYAN MAG YELO BLK CIRCUIT ANALYSIS AND DESIGN"
